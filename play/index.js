(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

;(function (exports) {
	'use strict';

  var Arr = (typeof Uint8Array !== 'undefined')
    ? Uint8Array
    : Array

	var PLUS   = '+'.charCodeAt(0)
	var SLASH  = '/'.charCodeAt(0)
	var NUMBER = '0'.charCodeAt(0)
	var LOWER  = 'a'.charCodeAt(0)
	var UPPER  = 'A'.charCodeAt(0)
	var PLUS_URL_SAFE = '-'.charCodeAt(0)
	var SLASH_URL_SAFE = '_'.charCodeAt(0)

	function decode (elt) {
		var code = elt.charCodeAt(0)
		if (code === PLUS ||
		    code === PLUS_URL_SAFE)
			return 62 // '+'
		if (code === SLASH ||
		    code === SLASH_URL_SAFE)
			return 63 // '/'
		if (code < NUMBER)
			return -1 //no match
		if (code < NUMBER + 10)
			return code - NUMBER + 26 + 26
		if (code < UPPER + 26)
			return code - UPPER
		if (code < LOWER + 26)
			return code - LOWER + 26
	}

	function b64ToByteArray (b64) {
		var i, j, l, tmp, placeHolders, arr

		if (b64.length % 4 > 0) {
			throw new Error('Invalid string. Length must be a multiple of 4')
		}

		// the number of equal signs (place holders)
		// if there are two placeholders, than the two characters before it
		// represent one byte
		// if there is only one, then the three characters before it represent 2 bytes
		// this is just a cheap hack to not do indexOf twice
		var len = b64.length
		placeHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0

		// base64 is 4/3 + up to two characters of the original data
		arr = new Arr(b64.length * 3 / 4 - placeHolders)

		// if there are placeholders, only get up to the last complete 4 chars
		l = placeHolders > 0 ? b64.length - 4 : b64.length

		var L = 0

		function push (v) {
			arr[L++] = v
		}

		for (i = 0, j = 0; i < l; i += 4, j += 3) {
			tmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))
			push((tmp & 0xFF0000) >> 16)
			push((tmp & 0xFF00) >> 8)
			push(tmp & 0xFF)
		}

		if (placeHolders === 2) {
			tmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)
			push(tmp & 0xFF)
		} else if (placeHolders === 1) {
			tmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)
			push((tmp >> 8) & 0xFF)
			push(tmp & 0xFF)
		}

		return arr
	}

	function uint8ToBase64 (uint8) {
		var i,
			extraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes
			output = "",
			temp, length

		function encode (num) {
			return lookup.charAt(num)
		}

		function tripletToBase64 (num) {
			return encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)
		}

		// go through the array every three bytes, we'll deal with trailing stuff later
		for (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {
			temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])
			output += tripletToBase64(temp)
		}

		// pad the end with zeros, but make sure to not forget the extra bytes
		switch (extraBytes) {
			case 1:
				temp = uint8[uint8.length - 1]
				output += encode(temp >> 2)
				output += encode((temp << 4) & 0x3F)
				output += '=='
				break
			case 2:
				temp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])
				output += encode(temp >> 10)
				output += encode((temp >> 4) & 0x3F)
				output += encode((temp << 2) & 0x3F)
				output += '='
				break
		}

		return output
	}

	exports.toByteArray = b64ToByteArray
	exports.fromByteArray = uint8ToBase64
}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))

}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/base64-js/lib/b64.js","/../node_modules/base64-js/lib")
},{"buffer":8,"pBGvAp":10}],2:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

/**
 * Define a module along with a payload
 * @param module a name for the payload
 * @param payload a function to call with (acequire, exports, module) params
 */

(function() {

var ACE_NAMESPACE = "ace";

var global = (function() { return this; })();
if (!global && typeof window != "undefined") global = window; // strict mode


if (!ACE_NAMESPACE && typeof acequirejs !== "undefined")
    return;


var define = function(module, deps, payload) {
    if (typeof module !== "string") {
        if (define.original)
            define.original.apply(this, arguments);
        else {
            console.error("dropping module because define wasn\'t a string.");
            console.trace();
        }
        return;
    }
    if (arguments.length == 2)
        payload = deps;
    if (!define.modules[module]) {
        define.payloads[module] = payload;
        define.modules[module] = null;
    }
};

define.modules = {};
define.payloads = {};

/**
 * Get at functionality define()ed using the function above
 */
var _acequire = function(parentId, module, callback) {
    if (typeof module === "string") {
        var payload = lookup(parentId, module);
        if (payload != undefined) {
            callback && callback();
            return payload;
        }
    } else if (Object.prototype.toString.call(module) === "[object Array]") {
        var params = [];
        for (var i = 0, l = module.length; i < l; ++i) {
            var dep = lookup(parentId, module[i]);
            if (dep == undefined && acequire.original)
                return;
            params.push(dep);
        }
        return callback && callback.apply(null, params) || true;
    }
};

var acequire = function(module, callback) {
    var packagedModule = _acequire("", module, callback);
    if (packagedModule == undefined && acequire.original)
        return acequire.original.apply(this, arguments);
    return packagedModule;
};

var normalizeModule = function(parentId, moduleName) {
    // normalize plugin acequires
    if (moduleName.indexOf("!") !== -1) {
        var chunks = moduleName.split("!");
        return normalizeModule(parentId, chunks[0]) + "!" + normalizeModule(parentId, chunks[1]);
    }
    // normalize relative acequires
    if (moduleName.charAt(0) == ".") {
        var base = parentId.split("/").slice(0, -1).join("/");
        moduleName = base + "/" + moduleName;

        while(moduleName.indexOf(".") !== -1 && previous != moduleName) {
            var previous = moduleName;
            moduleName = moduleName.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "");
        }
    }
    return moduleName;
};

/**
 * Internal function to lookup moduleNames and resolve them by calling the
 * definition function if needed.
 */
var lookup = function(parentId, moduleName) {
    moduleName = normalizeModule(parentId, moduleName);

    var module = define.modules[moduleName];
    if (!module) {
        module = define.payloads[moduleName];
        if (typeof module === 'function') {
            var exports = {};
            var mod = {
                id: moduleName,
                uri: '',
                exports: exports,
                packaged: true
            };

            var req = function(module, callback) {
                return _acequire(moduleName, module, callback);
            };

            var returnValue = module(req, exports, mod);
            exports = returnValue || mod.exports;
            define.modules[moduleName] = exports;
            delete define.payloads[moduleName];
        }
        module = define.modules[moduleName] = exports || module;
    }
    return module;
};

function exportAce(ns) {
    var root = global;
    if (ns) {
        if (!global[ns])
            global[ns] = {};
        root = global[ns];
    }

    if (!root.define || !root.define.packaged) {
        define.original = root.define;
        root.define = define;
        root.define.packaged = true;
    }

    if (!root.acequire || !root.acequire.packaged) {
        acequire.original = root.acequire;
        root.acequire = acequire;
        root.acequire.packaged = true;
    }
}

exportAce(ACE_NAMESPACE);

})();

ace.define("ace/lib/regexp",["require","exports","module"], function(acequire, exports, module) {
"use strict";

    var real = {
            exec: RegExp.prototype.exec,
            test: RegExp.prototype.test,
            match: String.prototype.match,
            replace: String.prototype.replace,
            split: String.prototype.split
        },
        compliantExecNpcg = real.exec.call(/()??/, "")[1] === undefined, // check `exec` handling of nonparticipating capturing groups
        compliantLastIndexIncrement = function () {
            var x = /^/g;
            real.test.call(x, "");
            return !x.lastIndex;
        }();

    if (compliantLastIndexIncrement && compliantExecNpcg)
        return;
    RegExp.prototype.exec = function (str) {
        var match = real.exec.apply(this, arguments),
            name, r2;
        if ( typeof(str) == 'string' && match) {
            if (!compliantExecNpcg && match.length > 1 && indexOf(match, "") > -1) {
                r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), "g", ""));
                real.replace.call(str.slice(match.index), r2, function () {
                    for (var i = 1; i < arguments.length - 2; i++) {
                        if (arguments[i] === undefined)
                            match[i] = undefined;
                    }
                });
            }
            if (this._xregexp && this._xregexp.captureNames) {
                for (var i = 1; i < match.length; i++) {
                    name = this._xregexp.captureNames[i - 1];
                    if (name)
                       match[name] = match[i];
                }
            }
            if (!compliantLastIndexIncrement && this.global && !match[0].length && (this.lastIndex > match.index))
                this.lastIndex--;
        }
        return match;
    };
    if (!compliantLastIndexIncrement) {
        RegExp.prototype.test = function (str) {
            var match = real.exec.call(this, str);
            if (match && this.global && !match[0].length && (this.lastIndex > match.index))
                this.lastIndex--;
            return !!match;
        };
    }

    function getNativeFlags (regex) {
        return (regex.global     ? "g" : "") +
               (regex.ignoreCase ? "i" : "") +
               (regex.multiline  ? "m" : "") +
               (regex.extended   ? "x" : "") + // Proposed for ES4; included in AS3
               (regex.sticky     ? "y" : "");
    }

    function indexOf (array, item, from) {
        if (Array.prototype.indexOf) // Use the native array method if available
            return array.indexOf(item, from);
        for (var i = from || 0; i < array.length; i++) {
            if (array[i] === item)
                return i;
        }
        return -1;
    }

});

ace.define("ace/lib/es5-shim",["require","exports","module"], function(acequire, exports, module) {

function Empty() {}

if (!Function.prototype.bind) {
    Function.prototype.bind = function bind(that) { // .length is 1
        var target = this;
        if (typeof target != "function") {
            throw new TypeError("Function.prototype.bind called on incompatible " + target);
        }
        var args = slice.call(arguments, 1); // for normal call
        var bound = function () {

            if (this instanceof bound) {

                var result = target.apply(
                    this,
                    args.concat(slice.call(arguments))
                );
                if (Object(result) === result) {
                    return result;
                }
                return this;

            } else {
                return target.apply(
                    that,
                    args.concat(slice.call(arguments))
                );

            }

        };
        if(target.prototype) {
            Empty.prototype = target.prototype;
            bound.prototype = new Empty();
            Empty.prototype = null;
        }
        return bound;
    };
}
var call = Function.prototype.call;
var prototypeOfArray = Array.prototype;
var prototypeOfObject = Object.prototype;
var slice = prototypeOfArray.slice;
var _toString = call.bind(prototypeOfObject.toString);
var owns = call.bind(prototypeOfObject.hasOwnProperty);
var defineGetter;
var defineSetter;
var lookupGetter;
var lookupSetter;
var supportsAccessors;
if ((supportsAccessors = owns(prototypeOfObject, "__defineGetter__"))) {
    defineGetter = call.bind(prototypeOfObject.__defineGetter__);
    defineSetter = call.bind(prototypeOfObject.__defineSetter__);
    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);
    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);
}
if ([1,2].splice(0).length != 2) {
    if(function() { // test IE < 9 to splice bug - see issue #138
        function makeArray(l) {
            var a = new Array(l+2);
            a[0] = a[1] = 0;
            return a;
        }
        var array = [], lengthBefore;
        
        array.splice.apply(array, makeArray(20));
        array.splice.apply(array, makeArray(26));

        lengthBefore = array.length; //46
        array.splice(5, 0, "XXX"); // add one element

        lengthBefore + 1 == array.length

        if (lengthBefore + 1 == array.length) {
            return true;// has right splice implementation without bugs
        }
    }()) {//IE 6/7
        var array_splice = Array.prototype.splice;
        Array.prototype.splice = function(start, deleteCount) {
            if (!arguments.length) {
                return [];
            } else {
                return array_splice.apply(this, [
                    start === void 0 ? 0 : start,
                    deleteCount === void 0 ? (this.length - start) : deleteCount
                ].concat(slice.call(arguments, 2)))
            }
        };
    } else {//IE8
        Array.prototype.splice = function(pos, removeCount){
            var length = this.length;
            if (pos > 0) {
                if (pos > length)
                    pos = length;
            } else if (pos == void 0) {
                pos = 0;
            } else if (pos < 0) {
                pos = Math.max(length + pos, 0);
            }

            if (!(pos+removeCount < length))
                removeCount = length - pos;

            var removed = this.slice(pos, pos+removeCount);
            var insert = slice.call(arguments, 2);
            var add = insert.length;            
            if (pos === length) {
                if (add) {
                    this.push.apply(this, insert);
                }
            } else {
                var remove = Math.min(removeCount, length - pos);
                var tailOldPos = pos + remove;
                var tailNewPos = tailOldPos + add - remove;
                var tailCount = length - tailOldPos;
                var lengthAfterRemove = length - remove;

                if (tailNewPos < tailOldPos) { // case A
                    for (var i = 0; i < tailCount; ++i) {
                        this[tailNewPos+i] = this[tailOldPos+i];
                    }
                } else if (tailNewPos > tailOldPos) { // case B
                    for (i = tailCount; i--; ) {
                        this[tailNewPos+i] = this[tailOldPos+i];
                    }
                } // else, add == remove (nothing to do)

                if (add && pos === lengthAfterRemove) {
                    this.length = lengthAfterRemove; // truncate array
                    this.push.apply(this, insert);
                } else {
                    this.length = lengthAfterRemove + add; // reserves space
                    for (i = 0; i < add; ++i) {
                        this[pos+i] = insert[i];
                    }
                }
            }
            return removed;
        };
    }
}
if (!Array.isArray) {
    Array.isArray = function isArray(obj) {
        return _toString(obj) == "[object Array]";
    };
}
var boxedString = Object("a"),
    splitString = boxedString[0] != "a" || !(0 in boxedString);

if (!Array.prototype.forEach) {
    Array.prototype.forEach = function forEach(fun /*, thisp*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            thisp = arguments[1],
            i = -1,
            length = self.length >>> 0;
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(); // TODO message
        }

        while (++i < length) {
            if (i in self) {
                fun.call(thisp, self[i], i, object);
            }
        }
    };
}
if (!Array.prototype.map) {
    Array.prototype.map = function map(fun /*, thisp*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0,
            result = Array(length),
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self)
                result[i] = fun.call(thisp, self[i], i, object);
        }
        return result;
    };
}
if (!Array.prototype.filter) {
    Array.prototype.filter = function filter(fun /*, thisp */) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                    object,
            length = self.length >>> 0,
            result = [],
            value,
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self) {
                value = self[i];
                if (fun.call(thisp, value, i, object)) {
                    result.push(value);
                }
            }
        }
        return result;
    };
}
if (!Array.prototype.every) {
    Array.prototype.every = function every(fun /*, thisp */) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0,
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self && !fun.call(thisp, self[i], i, object)) {
                return false;
            }
        }
        return true;
    };
}
if (!Array.prototype.some) {
    Array.prototype.some = function some(fun /*, thisp */) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0,
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self && fun.call(thisp, self[i], i, object)) {
                return true;
            }
        }
        return false;
    };
}
if (!Array.prototype.reduce) {
    Array.prototype.reduce = function reduce(fun /*, initial*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0;
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }
        if (!length && arguments.length == 1) {
            throw new TypeError("reduce of empty array with no initial value");
        }

        var i = 0;
        var result;
        if (arguments.length >= 2) {
            result = arguments[1];
        } else {
            do {
                if (i in self) {
                    result = self[i++];
                    break;
                }
                if (++i >= length) {
                    throw new TypeError("reduce of empty array with no initial value");
                }
            } while (true);
        }

        for (; i < length; i++) {
            if (i in self) {
                result = fun.call(void 0, result, self[i], i, object);
            }
        }

        return result;
    };
}
if (!Array.prototype.reduceRight) {
    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0;
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }
        if (!length && arguments.length == 1) {
            throw new TypeError("reduceRight of empty array with no initial value");
        }

        var result, i = length - 1;
        if (arguments.length >= 2) {
            result = arguments[1];
        } else {
            do {
                if (i in self) {
                    result = self[i--];
                    break;
                }
                if (--i < 0) {
                    throw new TypeError("reduceRight of empty array with no initial value");
                }
            } while (true);
        }

        do {
            if (i in this) {
                result = fun.call(void 0, result, self[i], i, object);
            }
        } while (i--);

        return result;
    };
}
if (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {
    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {
        var self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                toObject(this),
            length = self.length >>> 0;

        if (!length) {
            return -1;
        }

        var i = 0;
        if (arguments.length > 1) {
            i = toInteger(arguments[1]);
        }
        i = i >= 0 ? i : Math.max(0, length + i);
        for (; i < length; i++) {
            if (i in self && self[i] === sought) {
                return i;
            }
        }
        return -1;
    };
}
if (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {
    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {
        var self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                toObject(this),
            length = self.length >>> 0;

        if (!length) {
            return -1;
        }
        var i = length - 1;
        if (arguments.length > 1) {
            i = Math.min(i, toInteger(arguments[1]));
        }
        i = i >= 0 ? i : length - Math.abs(i);
        for (; i >= 0; i--) {
            if (i in self && sought === self[i]) {
                return i;
            }
        }
        return -1;
    };
}
if (!Object.getPrototypeOf) {
    Object.getPrototypeOf = function getPrototypeOf(object) {
        return object.__proto__ || (
            object.constructor ?
            object.constructor.prototype :
            prototypeOfObject
        );
    };
}
if (!Object.getOwnPropertyDescriptor) {
    var ERR_NON_OBJECT = "Object.getOwnPropertyDescriptor called on a " +
                         "non-object: ";
    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {
        if ((typeof object != "object" && typeof object != "function") || object === null)
            throw new TypeError(ERR_NON_OBJECT + object);
        if (!owns(object, property))
            return;

        var descriptor, getter, setter;
        descriptor =  { enumerable: true, configurable: true };
        if (supportsAccessors) {
            var prototype = object.__proto__;
            object.__proto__ = prototypeOfObject;

            var getter = lookupGetter(object, property);
            var setter = lookupSetter(object, property);
            object.__proto__ = prototype;

            if (getter || setter) {
                if (getter) descriptor.get = getter;
                if (setter) descriptor.set = setter;
                return descriptor;
            }
        }
        descriptor.value = object[property];
        return descriptor;
    };
}
if (!Object.getOwnPropertyNames) {
    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {
        return Object.keys(object);
    };
}
if (!Object.create) {
    var createEmpty;
    if (Object.prototype.__proto__ === null) {
        createEmpty = function () {
            return { "__proto__": null };
        };
    } else {
        createEmpty = function () {
            var empty = {};
            for (var i in empty)
                empty[i] = null;
            empty.constructor =
            empty.hasOwnProperty =
            empty.propertyIsEnumerable =
            empty.isPrototypeOf =
            empty.toLocaleString =
            empty.toString =
            empty.valueOf =
            empty.__proto__ = null;
            return empty;
        }
    }

    Object.create = function create(prototype, properties) {
        var object;
        if (prototype === null) {
            object = createEmpty();
        } else {
            if (typeof prototype != "object")
                throw new TypeError("typeof prototype["+(typeof prototype)+"] != 'object'");
            var Type = function () {};
            Type.prototype = prototype;
            object = new Type();
            object.__proto__ = prototype;
        }
        if (properties !== void 0)
            Object.defineProperties(object, properties);
        return object;
    };
}

function doesDefinePropertyWork(object) {
    try {
        Object.defineProperty(object, "sentinel", {});
        return "sentinel" in object;
    } catch (exception) {
    }
}
if (Object.defineProperty) {
    var definePropertyWorksOnObject = doesDefinePropertyWork({});
    var definePropertyWorksOnDom = typeof document == "undefined" ||
        doesDefinePropertyWork(document.createElement("div"));
    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {
        var definePropertyFallback = Object.defineProperty;
    }
}

if (!Object.defineProperty || definePropertyFallback) {
    var ERR_NON_OBJECT_DESCRIPTOR = "Property description must be an object: ";
    var ERR_NON_OBJECT_TARGET = "Object.defineProperty called on non-object: "
    var ERR_ACCESSORS_NOT_SUPPORTED = "getters & setters can not be defined " +
                                      "on this javascript engine";

    Object.defineProperty = function defineProperty(object, property, descriptor) {
        if ((typeof object != "object" && typeof object != "function") || object === null)
            throw new TypeError(ERR_NON_OBJECT_TARGET + object);
        if ((typeof descriptor != "object" && typeof descriptor != "function") || descriptor === null)
            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);
        if (definePropertyFallback) {
            try {
                return definePropertyFallback.call(Object, object, property, descriptor);
            } catch (exception) {
            }
        }
        if (owns(descriptor, "value")) {

            if (supportsAccessors && (lookupGetter(object, property) ||
                                      lookupSetter(object, property)))
            {
                var prototype = object.__proto__;
                object.__proto__ = prototypeOfObject;
                delete object[property];
                object[property] = descriptor.value;
                object.__proto__ = prototype;
            } else {
                object[property] = descriptor.value;
            }
        } else {
            if (!supportsAccessors)
                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);
            if (owns(descriptor, "get"))
                defineGetter(object, property, descriptor.get);
            if (owns(descriptor, "set"))
                defineSetter(object, property, descriptor.set);
        }

        return object;
    };
}
if (!Object.defineProperties) {
    Object.defineProperties = function defineProperties(object, properties) {
        for (var property in properties) {
            if (owns(properties, property))
                Object.defineProperty(object, property, properties[property]);
        }
        return object;
    };
}
if (!Object.seal) {
    Object.seal = function seal(object) {
        return object;
    };
}
if (!Object.freeze) {
    Object.freeze = function freeze(object) {
        return object;
    };
}
try {
    Object.freeze(function () {});
} catch (exception) {
    Object.freeze = (function freeze(freezeObject) {
        return function freeze(object) {
            if (typeof object == "function") {
                return object;
            } else {
                return freezeObject(object);
            }
        };
    })(Object.freeze);
}
if (!Object.preventExtensions) {
    Object.preventExtensions = function preventExtensions(object) {
        return object;
    };
}
if (!Object.isSealed) {
    Object.isSealed = function isSealed(object) {
        return false;
    };
}
if (!Object.isFrozen) {
    Object.isFrozen = function isFrozen(object) {
        return false;
    };
}
if (!Object.isExtensible) {
    Object.isExtensible = function isExtensible(object) {
        if (Object(object) === object) {
            throw new TypeError(); // TODO message
        }
        var name = '';
        while (owns(object, name)) {
            name += '?';
        }
        object[name] = true;
        var returnValue = owns(object, name);
        delete object[name];
        return returnValue;
    };
}
if (!Object.keys) {
    var hasDontEnumBug = true,
        dontEnums = [
            "toString",
            "toLocaleString",
            "valueOf",
            "hasOwnProperty",
            "isPrototypeOf",
            "propertyIsEnumerable",
            "constructor"
        ],
        dontEnumsLength = dontEnums.length;

    for (var key in {"toString": null}) {
        hasDontEnumBug = false;
    }

    Object.keys = function keys(object) {

        if (
            (typeof object != "object" && typeof object != "function") ||
            object === null
        ) {
            throw new TypeError("Object.keys called on a non-object");
        }

        var keys = [];
        for (var name in object) {
            if (owns(object, name)) {
                keys.push(name);
            }
        }

        if (hasDontEnumBug) {
            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {
                var dontEnum = dontEnums[i];
                if (owns(object, dontEnum)) {
                    keys.push(dontEnum);
                }
            }
        }
        return keys;
    };

}
if (!Date.now) {
    Date.now = function now() {
        return new Date().getTime();
    };
}
var ws = "\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003" +
    "\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028" +
    "\u2029\uFEFF";
if (!String.prototype.trim || ws.trim()) {
    ws = "[" + ws + "]";
    var trimBeginRegexp = new RegExp("^" + ws + ws + "*"),
        trimEndRegexp = new RegExp(ws + ws + "*$");
    String.prototype.trim = function trim() {
        return String(this).replace(trimBeginRegexp, "").replace(trimEndRegexp, "");
    };
}

function toInteger(n) {
    n = +n;
    if (n !== n) { // isNaN
        n = 0;
    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {
        n = (n > 0 || -1) * Math.floor(Math.abs(n));
    }
    return n;
}

function isPrimitive(input) {
    var type = typeof input;
    return (
        input === null ||
        type === "undefined" ||
        type === "boolean" ||
        type === "number" ||
        type === "string"
    );
}

function toPrimitive(input) {
    var val, valueOf, toString;
    if (isPrimitive(input)) {
        return input;
    }
    valueOf = input.valueOf;
    if (typeof valueOf === "function") {
        val = valueOf.call(input);
        if (isPrimitive(val)) {
            return val;
        }
    }
    toString = input.toString;
    if (typeof toString === "function") {
        val = toString.call(input);
        if (isPrimitive(val)) {
            return val;
        }
    }
    throw new TypeError();
}
var toObject = function (o) {
    if (o == null) { // this matches both null and undefined
        throw new TypeError("can't convert "+o+" to object");
    }
    return Object(o);
};

});

ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"], function(acequire, exports, module) {
"use strict";

acequire("./regexp");
acequire("./es5-shim");

});

ace.define("ace/lib/dom",["require","exports","module"], function(acequire, exports, module) {
"use strict";

var XHTML_NS = "http://www.w3.org/1999/xhtml";

exports.getDocumentHead = function(doc) {
    if (!doc)
        doc = document;
    return doc.head || doc.getElementsByTagName("head")[0] || doc.documentElement;
};

exports.createElement = function(tag, ns) {
    return document.createElementNS ?
           document.createElementNS(ns || XHTML_NS, tag) :
           document.createElement(tag);
};

exports.hasCssClass = function(el, name) {
    var classes = (el.className || "").split(/\s+/g);
    return classes.indexOf(name) !== -1;
};
exports.addCssClass = function(el, name) {
    if (!exports.hasCssClass(el, name)) {
        el.className += " " + name;
    }
};
exports.removeCssClass = function(el, name) {
    var classes = el.className.split(/\s+/g);
    while (true) {
        var index = classes.indexOf(name);
        if (index == -1) {
            break;
        }
        classes.splice(index, 1);
    }
    el.className = classes.join(" ");
};

exports.toggleCssClass = function(el, name) {
    var classes = el.className.split(/\s+/g), add = true;
    while (true) {
        var index = classes.indexOf(name);
        if (index == -1) {
            break;
        }
        add = false;
        classes.splice(index, 1);
    }
    if (add)
        classes.push(name);

    el.className = classes.join(" ");
    return add;
};
exports.setCssClass = function(node, className, include) {
    if (include) {
        exports.addCssClass(node, className);
    } else {
        exports.removeCssClass(node, className);
    }
};

exports.hasCssString = function(id, doc) {
    var index = 0, sheets;
    doc = doc || document;

    if (doc.createStyleSheet && (sheets = doc.styleSheets)) {
        while (index < sheets.length)
            if (sheets[index++].owningElement.id === id) return true;
    } else if ((sheets = doc.getElementsByTagName("style"))) {
        while (index < sheets.length)
            if (sheets[index++].id === id) return true;
    }

    return false;
};

exports.importCssString = function importCssString(cssText, id, doc) {
    doc = doc || document;
    if (id && exports.hasCssString(id, doc))
        return null;
    
    var style;
    
    if (id)
        cssText += "\n/*# sourceURL=ace/css/" + id + " */";
    
    if (doc.createStyleSheet) {
        style = doc.createStyleSheet();
        style.cssText = cssText;
        if (id)
            style.owningElement.id = id;
    } else {
        style = exports.createElement("style");
        style.appendChild(doc.createTextNode(cssText));
        if (id)
            style.id = id;

        exports.getDocumentHead(doc).appendChild(style);
    }
};

exports.importCssStylsheet = function(uri, doc) {
    if (doc.createStyleSheet) {
        doc.createStyleSheet(uri);
    } else {
        var link = exports.createElement('link');
        link.rel = 'stylesheet';
        link.href = uri;

        exports.getDocumentHead(doc).appendChild(link);
    }
};

exports.getInnerWidth = function(element) {
    return (
        parseInt(exports.computedStyle(element, "paddingLeft"), 10) +
        parseInt(exports.computedStyle(element, "paddingRight"), 10) + 
        element.clientWidth
    );
};

exports.getInnerHeight = function(element) {
    return (
        parseInt(exports.computedStyle(element, "paddingTop"), 10) +
        parseInt(exports.computedStyle(element, "paddingBottom"), 10) +
        element.clientHeight
    );
};

exports.scrollbarWidth = function(document) {
    var inner = exports.createElement("ace_inner");
    inner.style.width = "100%";
    inner.style.minWidth = "0px";
    inner.style.height = "200px";
    inner.style.display = "block";

    var outer = exports.createElement("ace_outer");
    var style = outer.style;

    style.position = "absolute";
    style.left = "-10000px";
    style.overflow = "hidden";
    style.width = "200px";
    style.minWidth = "0px";
    style.height = "150px";
    style.display = "block";

    outer.appendChild(inner);

    var body = document.documentElement;
    body.appendChild(outer);

    var noScrollbar = inner.offsetWidth;

    style.overflow = "scroll";
    var withScrollbar = inner.offsetWidth;

    if (noScrollbar == withScrollbar) {
        withScrollbar = outer.clientWidth;
    }

    body.removeChild(outer);

    return noScrollbar-withScrollbar;
};

if (typeof document == "undefined") {
    exports.importCssString = function() {};
    return;
}

if (window.pageYOffset !== undefined) {
    exports.getPageScrollTop = function() {
        return window.pageYOffset;
    };

    exports.getPageScrollLeft = function() {
        return window.pageXOffset;
    };
}
else {
    exports.getPageScrollTop = function() {
        return document.body.scrollTop;
    };

    exports.getPageScrollLeft = function() {
        return document.body.scrollLeft;
    };
}

if (window.getComputedStyle)
    exports.computedStyle = function(element, style) {
        if (style)
            return (window.getComputedStyle(element, "") || {})[style] || "";
        return window.getComputedStyle(element, "") || {};
    };
else
    exports.computedStyle = function(element, style) {
        if (style)
            return element.currentStyle[style];
        return element.currentStyle;
    };
exports.setInnerHtml = function(el, innerHtml) {
    var element = el.cloneNode(false);//document.createElement("div");
    element.innerHTML = innerHtml;
    el.parentNode.replaceChild(element, el);
    return element;
};

if ("textContent" in document.documentElement) {
    exports.setInnerText = function(el, innerText) {
        el.textContent = innerText;
    };

    exports.getInnerText = function(el) {
        return el.textContent;
    };
}
else {
    exports.setInnerText = function(el, innerText) {
        el.innerText = innerText;
    };

    exports.getInnerText = function(el) {
        return el.innerText;
    };
}

exports.getParentWindow = function(document) {
    return document.defaultView || document.parentWindow;
};

});

ace.define("ace/lib/oop",["require","exports","module"], function(acequire, exports, module) {
"use strict";

exports.inherits = function(ctor, superCtor) {
    ctor.super_ = superCtor;
    ctor.prototype = Object.create(superCtor.prototype, {
        constructor: {
            value: ctor,
            enumerable: false,
            writable: true,
            configurable: true
        }
    });
};

exports.mixin = function(obj, mixin) {
    for (var key in mixin) {
        obj[key] = mixin[key];
    }
    return obj;
};

exports.implement = function(proto, mixin) {
    exports.mixin(proto, mixin);
};

});

ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"], function(acequire, exports, module) {
"use strict";

acequire("./fixoldbrowsers");

var oop = acequire("./oop");
var Keys = (function() {
    var ret = {
        MODIFIER_KEYS: {
            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta'
        },

        KEY_MODS: {
            "ctrl": 1, "alt": 2, "option" : 2, "shift": 4,
            "super": 8, "meta": 8, "command": 8, "cmd": 8
        },

        FUNCTION_KEYS : {
            8  : "Backspace",
            9  : "Tab",
            13 : "Return",
            19 : "Pause",
            27 : "Esc",
            32 : "Space",
            33 : "PageUp",
            34 : "PageDown",
            35 : "End",
            36 : "Home",
            37 : "Left",
            38 : "Up",
            39 : "Right",
            40 : "Down",
            44 : "Print",
            45 : "Insert",
            46 : "Delete",
            96 : "Numpad0",
            97 : "Numpad1",
            98 : "Numpad2",
            99 : "Numpad3",
            100: "Numpad4",
            101: "Numpad5",
            102: "Numpad6",
            103: "Numpad7",
            104: "Numpad8",
            105: "Numpad9",
            '-13': "NumpadEnter",
            112: "F1",
            113: "F2",
            114: "F3",
            115: "F4",
            116: "F5",
            117: "F6",
            118: "F7",
            119: "F8",
            120: "F9",
            121: "F10",
            122: "F11",
            123: "F12",
            144: "Numlock",
            145: "Scrolllock"
        },

        PRINTABLE_KEYS: {
           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',
           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',
           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',
           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',
           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',
           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',
          186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',
          219: '[', 220: '\\',221: ']', 222: "'", 111: '/', 106: '*'
        }
    };
    var name, i;
    for (i in ret.FUNCTION_KEYS) {
        name = ret.FUNCTION_KEYS[i].toLowerCase();
        ret[name] = parseInt(i, 10);
    }
    for (i in ret.PRINTABLE_KEYS) {
        name = ret.PRINTABLE_KEYS[i].toLowerCase();
        ret[name] = parseInt(i, 10);
    }
    oop.mixin(ret, ret.MODIFIER_KEYS);
    oop.mixin(ret, ret.PRINTABLE_KEYS);
    oop.mixin(ret, ret.FUNCTION_KEYS);
    ret.enter = ret["return"];
    ret.escape = ret.esc;
    ret.del = ret["delete"];
    ret[173] = '-';
    
    (function() {
        var mods = ["cmd", "ctrl", "alt", "shift"];
        for (var i = Math.pow(2, mods.length); i--;) {            
            ret.KEY_MODS[i] = mods.filter(function(x) {
                return i & ret.KEY_MODS[x];
            }).join("-") + "-";
        }
    })();

    ret.KEY_MODS[0] = "";
    ret.KEY_MODS[-1] = "input-";

    return ret;
})();
oop.mixin(exports, Keys);

exports.keyCodeToString = function(keyCode) {
    var keyString = Keys[keyCode];
    if (typeof keyString != "string")
        keyString = String.fromCharCode(keyCode);
    return keyString.toLowerCase();
};

});

ace.define("ace/lib/useragent",["require","exports","module"], function(acequire, exports, module) {
"use strict";
exports.OS = {
    LINUX: "LINUX",
    MAC: "MAC",
    WINDOWS: "WINDOWS"
};
exports.getOS = function() {
    if (exports.isMac) {
        return exports.OS.MAC;
    } else if (exports.isLinux) {
        return exports.OS.LINUX;
    } else {
        return exports.OS.WINDOWS;
    }
};
if (typeof navigator != "object")
    return;

var os = (navigator.platform.match(/mac|win|linux/i) || ["other"])[0].toLowerCase();
var ua = navigator.userAgent;
exports.isWin = (os == "win");
exports.isMac = (os == "mac");
exports.isLinux = (os == "linux");
exports.isIE = 
    (navigator.appName == "Microsoft Internet Explorer" || navigator.appName.indexOf("MSAppHost") >= 0)
    ? parseFloat((ua.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1])
    : parseFloat((ua.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]); // for ie
    
exports.isOldIE = exports.isIE && exports.isIE < 9;
exports.isGecko = exports.isMozilla = (window.Controllers || window.controllers) && window.navigator.product === "Gecko";
exports.isOldGecko = exports.isGecko && parseInt((ua.match(/rv\:(\d+)/)||[])[1], 10) < 4;
exports.isOpera = window.opera && Object.prototype.toString.call(window.opera) == "[object Opera]";
exports.isWebKit = parseFloat(ua.split("WebKit/")[1]) || undefined;

exports.isChrome = parseFloat(ua.split(" Chrome/")[1]) || undefined;

exports.isAIR = ua.indexOf("AdobeAIR") >= 0;

exports.isIPad = ua.indexOf("iPad") >= 0;

exports.isTouchPad = ua.indexOf("TouchPad") >= 0;

exports.isChromeOS = ua.indexOf(" CrOS ") >= 0;

});

ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var keys = acequire("./keys");
var useragent = acequire("./useragent");

var pressedKeys = null;
var ts = 0;

exports.addListener = function(elem, type, callback) {
    if (elem.addEventListener) {
        return elem.addEventListener(type, callback, false);
    }
    if (elem.attachEvent) {
        var wrapper = function() {
            callback.call(elem, window.event);
        };
        callback._wrapper = wrapper;
        elem.attachEvent("on" + type, wrapper);
    }
};

exports.removeListener = function(elem, type, callback) {
    if (elem.removeEventListener) {
        return elem.removeEventListener(type, callback, false);
    }
    if (elem.detachEvent) {
        elem.detachEvent("on" + type, callback._wrapper || callback);
    }
};
exports.stopEvent = function(e) {
    exports.stopPropagation(e);
    exports.preventDefault(e);
    return false;
};

exports.stopPropagation = function(e) {
    if (e.stopPropagation)
        e.stopPropagation();
    else
        e.cancelBubble = true;
};

exports.preventDefault = function(e) {
    if (e.preventDefault)
        e.preventDefault();
    else
        e.returnValue = false;
};
exports.getButton = function(e) {
    if (e.type == "dblclick")
        return 0;
    if (e.type == "contextmenu" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))
        return 2;
    if (e.preventDefault) {
        return e.button;
    }
    else {
        return {1:0, 2:2, 4:1}[e.button];
    }
};

exports.capture = function(el, eventHandler, releaseCaptureHandler) {
    function onMouseUp(e) {
        eventHandler && eventHandler(e);
        releaseCaptureHandler && releaseCaptureHandler(e);

        exports.removeListener(document, "mousemove", eventHandler, true);
        exports.removeListener(document, "mouseup", onMouseUp, true);
        exports.removeListener(document, "dragstart", onMouseUp, true);
    }

    exports.addListener(document, "mousemove", eventHandler, true);
    exports.addListener(document, "mouseup", onMouseUp, true);
    exports.addListener(document, "dragstart", onMouseUp, true);
    
    return onMouseUp;
};

exports.addTouchMoveListener = function (el, callback) {
    if ("ontouchmove" in el) {
        var startx, starty;
        exports.addListener(el, "touchstart", function (e) {
            var touchObj = e.changedTouches[0];
            startx = touchObj.clientX;
            starty = touchObj.clientY;
        });
        exports.addListener(el, "touchmove", function (e) {
            var factor = 1,
            touchObj = e.changedTouches[0];

            e.wheelX = -(touchObj.clientX - startx) / factor;
            e.wheelY = -(touchObj.clientY - starty) / factor;

            startx = touchObj.clientX;
            starty = touchObj.clientY;

            callback(e);
        });
    } 
};

exports.addMouseWheelListener = function(el, callback) {
    if ("onmousewheel" in el) {
        exports.addListener(el, "mousewheel", function(e) {
            var factor = 8;
            if (e.wheelDeltaX !== undefined) {
                e.wheelX = -e.wheelDeltaX / factor;
                e.wheelY = -e.wheelDeltaY / factor;
            } else {
                e.wheelX = 0;
                e.wheelY = -e.wheelDelta / factor;
            }
            callback(e);
        });
    } else if ("onwheel" in el) {
        exports.addListener(el, "wheel",  function(e) {
            var factor = 0.35;
            switch (e.deltaMode) {
                case e.DOM_DELTA_PIXEL:
                    e.wheelX = e.deltaX * factor || 0;
                    e.wheelY = e.deltaY * factor || 0;
                    break;
                case e.DOM_DELTA_LINE:
                case e.DOM_DELTA_PAGE:
                    e.wheelX = (e.deltaX || 0) * 5;
                    e.wheelY = (e.deltaY || 0) * 5;
                    break;
            }
            
            callback(e);
        });
    } else {
        exports.addListener(el, "DOMMouseScroll", function(e) {
            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {
                e.wheelX = (e.detail || 0) * 5;
                e.wheelY = 0;
            } else {
                e.wheelX = 0;
                e.wheelY = (e.detail || 0) * 5;
            }
            callback(e);
        });
    }
};

exports.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName) {
    var clicks = 0;
    var startX, startY, timer; 
    var eventNames = {
        2: "dblclick",
        3: "tripleclick",
        4: "quadclick"
    };

    function onMousedown(e) {
        if (exports.getButton(e) !== 0) {
            clicks = 0;
        } else if (e.detail > 1) {
            clicks++;
            if (clicks > 4)
                clicks = 1;
        } else {
            clicks = 1;
        }
        if (useragent.isIE) {
            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;
            if (!timer || isNewClick)
                clicks = 1;
            if (timer)
                clearTimeout(timer);
            timer = setTimeout(function() {timer = null}, timeouts[clicks - 1] || 600);

            if (clicks == 1) {
                startX = e.clientX;
                startY = e.clientY;
            }
        }
        
        e._clicks = clicks;

        eventHandler[callbackName]("mousedown", e);

        if (clicks > 4)
            clicks = 0;
        else if (clicks > 1)
            return eventHandler[callbackName](eventNames[clicks], e);
    }
    function onDblclick(e) {
        clicks = 2;
        if (timer)
            clearTimeout(timer);
        timer = setTimeout(function() {timer = null}, timeouts[clicks - 1] || 600);
        eventHandler[callbackName]("mousedown", e);
        eventHandler[callbackName](eventNames[clicks], e);
    }
    if (!Array.isArray(elements))
        elements = [elements];
    elements.forEach(function(el) {
        exports.addListener(el, "mousedown", onMousedown);
        if (useragent.isOldIE)
            exports.addListener(el, "dblclick", onDblclick);
    });
};

var getModifierHash = useragent.isMac && useragent.isOpera && !("KeyboardEvent" in window)
    ? function(e) {
        return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);
    }
    : function(e) {
        return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);
    };

exports.getModifierString = function(e) {
    return keys.KEY_MODS[getModifierHash(e)];
};

function normalizeCommandKeys(callback, e, keyCode) {
    var hashId = getModifierHash(e);

    if (!useragent.isMac && pressedKeys) {
        if (pressedKeys.OSKey)
            hashId |= 8;
        if (pressedKeys.altGr) {
            if ((3 & hashId) != 3)
                pressedKeys.altGr = 0;
            else
                return;
        }
        if (keyCode === 18 || keyCode === 17) {
            var location = "location" in e ? e.location : e.keyLocation;
            if (keyCode === 17 && location === 1) {
                if (pressedKeys[keyCode] == 1)
                    ts = e.timeStamp;
            } else if (keyCode === 18 && hashId === 3 && location === 2) {
                var dt = e.timeStamp - ts;
                if (dt < 50)
                    pressedKeys.altGr = true;
            }
        }
    }
    
    if (keyCode in keys.MODIFIER_KEYS) {
        keyCode = -1;
    }
    if (hashId & 8 && (keyCode >= 91 && keyCode <= 93)) {
        keyCode = -1;
    }
    
    if (!hashId && keyCode === 13) {
        var location = "location" in e ? e.location : e.keyLocation;
        if (location === 3) {
            callback(e, hashId, -keyCode);
            if (e.defaultPrevented)
                return;
        }
    }
    
    if (useragent.isChromeOS && hashId & 8) {
        callback(e, hashId, keyCode);
        if (e.defaultPrevented)
            return;
        else
            hashId &= ~8;
    }
    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {
        return false;
    }
    
    return callback(e, hashId, keyCode);
}


exports.addCommandKeyListener = function(el, callback) {
    var addListener = exports.addListener;
    if (useragent.isOldGecko || (useragent.isOpera && !("KeyboardEvent" in window))) {
        var lastKeyDownKeyCode = null;
        addListener(el, "keydown", function(e) {
            lastKeyDownKeyCode = e.keyCode;
        });
        addListener(el, "keypress", function(e) {
            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);
        });
    } else {
        var lastDefaultPrevented = null;

        addListener(el, "keydown", function(e) {
            var keyCode = e.keyCode;
            pressedKeys[keyCode] = (pressedKeys[keyCode] || 0) + 1;
            if (keyCode == 91 || keyCode == 92) {
                pressedKeys.OSKey = true;
            } else if (pressedKeys.OSKey) {
                if (e.timeStamp - pressedKeys.lastT > 200 && pressedKeys.count == 1)
                    resetPressedKeys();
            }
            if (pressedKeys[keyCode] == 1)
                pressedKeys.count++;
            pressedKeys.lastT = e.timeStamp;
            var result = normalizeCommandKeys(callback, e, keyCode);
            lastDefaultPrevented = e.defaultPrevented;
            return result;
        });

        addListener(el, "keypress", function(e) {
            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {
                exports.stopEvent(e);
                lastDefaultPrevented = null;
            }
        });

        addListener(el, "keyup", function(e) {
            var keyCode = e.keyCode;
            if (!pressedKeys[keyCode]) {
                resetPressedKeys();
            } else {
                pressedKeys.count = Math.max(pressedKeys.count - 1, 0);
            }
            if (keyCode == 91 || keyCode == 92) {
                pressedKeys.OSKey = false;
            }
            pressedKeys[keyCode] = null;
        });

        if (!pressedKeys) {
            resetPressedKeys();
            addListener(window, "focus", resetPressedKeys);
        }
    }
};
function resetPressedKeys() {
    pressedKeys = Object.create(null);
    pressedKeys.count = 0;
    pressedKeys.lastT = 0;
}

if (typeof window == "object" && window.postMessage && !useragent.isOldIE) {
    var postMessageId = 1;
    exports.nextTick = function(callback, win) {
        win = win || window;
        var messageName = "zero-timeout-message-" + postMessageId;
        exports.addListener(win, "message", function listener(e) {
            if (e.data == messageName) {
                exports.stopPropagation(e);
                exports.removeListener(win, "message", listener);
                callback();
            }
        });
        win.postMessage(messageName, "*");
    };
}


exports.nextFrame = typeof window == "object" && (window.requestAnimationFrame
    || window.mozRequestAnimationFrame
    || window.webkitRequestAnimationFrame
    || window.msRequestAnimationFrame
    || window.oRequestAnimationFrame);

if (exports.nextFrame)
    exports.nextFrame = exports.nextFrame.bind(window);
else
    exports.nextFrame = function(callback) {
        setTimeout(callback, 17);
    };
});

ace.define("ace/lib/lang",["require","exports","module"], function(acequire, exports, module) {
"use strict";

exports.last = function(a) {
    return a[a.length - 1];
};

exports.stringReverse = function(string) {
    return string.split("").reverse().join("");
};

exports.stringRepeat = function (string, count) {
    var result = '';
    while (count > 0) {
        if (count & 1)
            result += string;

        if (count >>= 1)
            string += string;
    }
    return result;
};

var trimBeginRegexp = /^\s\s*/;
var trimEndRegexp = /\s\s*$/;

exports.stringTrimLeft = function (string) {
    return string.replace(trimBeginRegexp, '');
};

exports.stringTrimRight = function (string) {
    return string.replace(trimEndRegexp, '');
};

exports.copyObject = function(obj) {
    var copy = {};
    for (var key in obj) {
        copy[key] = obj[key];
    }
    return copy;
};

exports.copyArray = function(array){
    var copy = [];
    for (var i=0, l=array.length; i<l; i++) {
        if (array[i] && typeof array[i] == "object")
            copy[i] = this.copyObject( array[i] );
        else 
            copy[i] = array[i];
    }
    return copy;
};

exports.deepCopy = function deepCopy(obj) {
    if (typeof obj !== "object" || !obj)
        return obj;
    var copy;
    if (Array.isArray(obj)) {
        copy = [];
        for (var key = 0; key < obj.length; key++) {
            copy[key] = deepCopy(obj[key]);
        }
        return copy;
    }
    var cons = obj.constructor;
    if (cons === RegExp)
        return obj;
    
    copy = cons();
    for (var key in obj) {
        copy[key] = deepCopy(obj[key]);
    }
    return copy;
};

exports.arrayToMap = function(arr) {
    var map = {};
    for (var i=0; i<arr.length; i++) {
        map[arr[i]] = 1;
    }
    return map;

};

exports.createMap = function(props) {
    var map = Object.create(null);
    for (var i in props) {
        map[i] = props[i];
    }
    return map;
};
exports.arrayRemove = function(array, value) {
  for (var i = 0; i <= array.length; i++) {
    if (value === array[i]) {
      array.splice(i, 1);
    }
  }
};

exports.escapeRegExp = function(str) {
    return str.replace(/([.*+?^${}()|[\]\/\\])/g, '\\$1');
};

exports.escapeHTML = function(str) {
    return str.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;");
};

exports.getMatchOffsets = function(string, regExp) {
    var matches = [];

    string.replace(regExp, function(str) {
        matches.push({
            offset: arguments[arguments.length-2],
            length: str.length
        });
    });

    return matches;
};
exports.deferredCall = function(fcn) {
    var timer = null;
    var callback = function() {
        timer = null;
        fcn();
    };

    var deferred = function(timeout) {
        deferred.cancel();
        timer = setTimeout(callback, timeout || 0);
        return deferred;
    };

    deferred.schedule = deferred;

    deferred.call = function() {
        this.cancel();
        fcn();
        return deferred;
    };

    deferred.cancel = function() {
        clearTimeout(timer);
        timer = null;
        return deferred;
    };
    
    deferred.isPending = function() {
        return timer;
    };

    return deferred;
};


exports.delayedCall = function(fcn, defaultTimeout) {
    var timer = null;
    var callback = function() {
        timer = null;
        fcn();
    };

    var _self = function(timeout) {
        if (timer == null)
            timer = setTimeout(callback, timeout || defaultTimeout);
    };

    _self.delay = function(timeout) {
        timer && clearTimeout(timer);
        timer = setTimeout(callback, timeout || defaultTimeout);
    };
    _self.schedule = _self;

    _self.call = function() {
        this.cancel();
        fcn();
    };

    _self.cancel = function() {
        timer && clearTimeout(timer);
        timer = null;
    };

    _self.isPending = function() {
        return timer;
    };

    return _self;
};
});

ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"], function(acequire, exports, module) {
"use strict";

var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
var dom = acequire("../lib/dom");
var lang = acequire("../lib/lang");
var BROKEN_SETDATA = useragent.isChrome < 18;
var USE_IE_MIME_TYPE =  useragent.isIE;

var TextInput = function(parentNode, host) {
    var text = dom.createElement("textarea");
    text.className = "ace_text-input";

    if (useragent.isTouchPad)
        text.setAttribute("x-palm-disable-auto-cap", true);

    text.setAttribute("wrap", "off");
    text.setAttribute("autocorrect", "off");
    text.setAttribute("autocapitalize", "off");
    text.setAttribute("spellcheck", false);

    text.style.opacity = "0";
    if (useragent.isOldIE) text.style.top = "-1000px";
    parentNode.insertBefore(text, parentNode.firstChild);

    var PLACEHOLDER = "\x01\x01";

    var copied = false;
    var pasted = false;
    var inComposition = false;
    var tempStyle = '';
    var isSelectionEmpty = true;
    try { var isFocused = document.activeElement === text; } catch(e) {}
    
    event.addListener(text, "blur", function(e) {
        host.onBlur(e);
        isFocused = false;
    });
    event.addListener(text, "focus", function(e) {
        isFocused = true;
        host.onFocus(e);
        resetSelection();
    });
    this.focus = function() {
        if (tempStyle) return text.focus();
        var top = text.style.top;
        text.style.position = "fixed";
        text.style.top = "0px";
        text.focus();
        setTimeout(function() {
            text.style.position = "";
            if (text.style.top == "0px")
                text.style.top = top;
        }, 0);
    };
    this.blur = function() {
        text.blur();
    };
    this.isFocused = function() {
        return isFocused;
    };
    var syncSelection = lang.delayedCall(function() {
        isFocused && resetSelection(isSelectionEmpty);
    });
    var syncValue = lang.delayedCall(function() {
         if (!inComposition) {
            text.value = PLACEHOLDER;
            isFocused && resetSelection();
         }
    });

    function resetSelection(isEmpty) {
        if (inComposition)
            return;
        inComposition = true;
        
        if (inputHandler) {
            selectionStart = 0;
            selectionEnd = isEmpty ? 0 : text.value.length - 1;
        } else {
            var selectionStart = isEmpty ? 2 : 1;
            var selectionEnd = 2;
        }
        try {
            text.setSelectionRange(selectionStart, selectionEnd);
        } catch(e){}
        
        inComposition = false;
    }

    function resetValue() {
        if (inComposition)
            return;
        text.value = PLACEHOLDER;
        if (useragent.isWebKit)
            syncValue.schedule();
    }

    useragent.isWebKit || host.addEventListener('changeSelection', function() {
        if (host.selection.isEmpty() != isSelectionEmpty) {
            isSelectionEmpty = !isSelectionEmpty;
            syncSelection.schedule();
        }
    });

    resetValue();
    if (isFocused)
        host.onFocus();


    var isAllSelected = function(text) {
        return text.selectionStart === 0 && text.selectionEnd === text.value.length;
    };
    if (!text.setSelectionRange && text.createTextRange) {
        text.setSelectionRange = function(selectionStart, selectionEnd) {
            var range = this.createTextRange();
            range.collapse(true);
            range.moveStart('character', selectionStart);
            range.moveEnd('character', selectionEnd);
            range.select();
        };
        isAllSelected = function(text) {
            try {
                var range = text.ownerDocument.selection.createRange();
            }catch(e) {}
            if (!range || range.parentElement() != text) return false;
                return range.text == text.value;
        }
    }
    if (useragent.isOldIE) {
        var inPropertyChange = false;
        var onPropertyChange = function(e){
            if (inPropertyChange)
                return;
            var data = text.value;
            if (inComposition || !data || data == PLACEHOLDER)
                return;
            if (e && data == PLACEHOLDER[0])
                return syncProperty.schedule();

            sendText(data);
            inPropertyChange = true;
            resetValue();
            inPropertyChange = false;
        };
        var syncProperty = lang.delayedCall(onPropertyChange);
        event.addListener(text, "propertychange", onPropertyChange);

        var keytable = { 13:1, 27:1 };
        event.addListener(text, "keyup", function (e) {
            if (inComposition && (!text.value || keytable[e.keyCode]))
                setTimeout(onCompositionEnd, 0);
            if ((text.value.charCodeAt(0)||0) < 129) {
                return syncProperty.call();
            }
            inComposition ? onCompositionUpdate() : onCompositionStart();
        });
        event.addListener(text, "keydown", function (e) {
            syncProperty.schedule(50);
        });
    }

    var onSelect = function(e) {
        if (copied) {
            copied = false;
        } else if (isAllSelected(text)) {
            host.selectAll();
            resetSelection();
        } else if (inputHandler) {
            resetSelection(host.selection.isEmpty());
        }
    };

    var inputHandler = null;
    this.setInputHandler = function(cb) {inputHandler = cb};
    this.getInputHandler = function() {return inputHandler};
    var afterContextMenu = false;
    
    var sendText = function(data) {
        if (inputHandler) {
            data = inputHandler(data);
            inputHandler = null;
        }
        if (pasted) {
            resetSelection();
            if (data)
                host.onPaste(data);
            pasted = false;
        } else if (data == PLACEHOLDER.charAt(0)) {
            if (afterContextMenu)
                host.execCommand("del", {source: "ace"});
            else // some versions of android do not fire keydown when pressing backspace
                host.execCommand("backspace", {source: "ace"});
        } else {
            if (data.substring(0, 2) == PLACEHOLDER)
                data = data.substr(2);
            else if (data.charAt(0) == PLACEHOLDER.charAt(0))
                data = data.substr(1);
            else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))
                data = data.slice(0, -1);
            if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))
                data = data.slice(0, -1);
            
            if (data)
                host.onTextInput(data);
        }
        if (afterContextMenu)
            afterContextMenu = false;
    };
    var onInput = function(e) {
        if (inComposition)
            return;
        var data = text.value;
        sendText(data);
        resetValue();
    };
    
    var handleClipboardData = function(e, data) {
        var clipboardData = e.clipboardData || window.clipboardData;
        if (!clipboardData || BROKEN_SETDATA)
            return;
        var mime = USE_IE_MIME_TYPE ? "Text" : "text/plain";
        if (data) {
            return clipboardData.setData(mime, data) !== false;
        } else {
            return clipboardData.getData(mime);
        }
    };

    var doCopy = function(e, isCut) {
        var data = host.getCopyText();
        if (!data)
            return event.preventDefault(e);

        if (handleClipboardData(e, data)) {
            isCut ? host.onCut() : host.onCopy();
            event.preventDefault(e);
        } else {
            copied = true;
            text.value = data;
            text.select();
            setTimeout(function(){
                copied = false;
                resetValue();
                resetSelection();
                isCut ? host.onCut() : host.onCopy();
            });
        }
    };
    
    var onCut = function(e) {
        doCopy(e, true);
    };
    
    var onCopy = function(e) {
        doCopy(e, false);
    };
    
    var onPaste = function(e) {
        var data = handleClipboardData(e);
        if (typeof data == "string") {
            if (data)
                host.onPaste(data, e);
            if (useragent.isIE)
                setTimeout(resetSelection);
            event.preventDefault(e);
        }
        else {
            text.value = "";
            pasted = true;
        }
    };

    event.addCommandKeyListener(text, host.onCommandKey.bind(host));

    event.addListener(text, "select", onSelect);

    event.addListener(text, "input", onInput);

    event.addListener(text, "cut", onCut);
    event.addListener(text, "copy", onCopy);
    event.addListener(text, "paste", onPaste);
    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)){
        event.addListener(parentNode, "keydown", function(e) {
            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)
                return;

            switch (e.keyCode) {
                case 67:
                    onCopy(e);
                    break;
                case 86:
                    onPaste(e);
                    break;
                case 88:
                    onCut(e);
                    break;
            }
        });
    }
    var onCompositionStart = function(e) {
        if (inComposition || !host.onCompositionStart || host.$readOnly) 
            return;
        inComposition = {};
        host.onCompositionStart();
        setTimeout(onCompositionUpdate, 0);
        host.on("mousedown", onCompositionEnd);
        if (!host.selection.isEmpty()) {
            host.insert("");
            host.session.markUndoGroup();
            host.selection.clearSelection();
        }
        host.session.markUndoGroup();
    };

    var onCompositionUpdate = function() {
        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)
            return;
        var val = text.value.replace(/\x01/g, "");
        if (inComposition.lastValue === val) return;
        
        host.onCompositionUpdate(val);
        if (inComposition.lastValue)
            host.undo();
        inComposition.lastValue = val;
        if (inComposition.lastValue) {
            var r = host.selection.getRange();
            host.insert(inComposition.lastValue);
            host.session.markUndoGroup();
            inComposition.range = host.selection.getRange();
            host.selection.setRange(r);
            host.selection.clearSelection();
        }
    };

    var onCompositionEnd = function(e) {
        if (!host.onCompositionEnd || host.$readOnly) return;
        var c = inComposition;
        inComposition = false;
        var timer = setTimeout(function() {
            timer = null;
            var str = text.value.replace(/\x01/g, "");
            if (inComposition)
                return;
            else if (str == c.lastValue)
                resetValue();
            else if (!c.lastValue && str) {
                resetValue();
                sendText(str);
            }
        });
        inputHandler = function compositionInputHandler(str) {
            if (timer)
                clearTimeout(timer);
            str = str.replace(/\x01/g, "");
            if (str == c.lastValue)
                return "";
            if (c.lastValue && timer)
                host.undo();
            return str;
        };
        host.onCompositionEnd();
        host.removeListener("mousedown", onCompositionEnd);
        if (e.type == "compositionend" && c.range) {
            host.selection.setRange(c.range);
        }
    };
    
    

    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);

    event.addListener(text, "compositionstart", onCompositionStart);
    if (useragent.isGecko) {
        event.addListener(text, "text", function(){syncComposition.schedule()});
    } else {
        event.addListener(text, "keyup", function(){syncComposition.schedule()});
        event.addListener(text, "keydown", function(){syncComposition.schedule()});
    }
    event.addListener(text, "compositionend", onCompositionEnd);

    this.getElement = function() {
        return text;
    };

    this.setReadOnly = function(readOnly) {
       text.readOnly = readOnly;
    };

    this.onContextMenu = function(e) {
        afterContextMenu = true;
        resetSelection(host.selection.isEmpty());
        host._emit("nativecontextmenu", {target: host, domEvent: e});
        this.moveToMouse(e, true);
    };
    
    this.moveToMouse = function(e, bringToFront) {
        if (!bringToFront && useragent.isOldIE)
            return;
        if (!tempStyle)
            tempStyle = text.style.cssText;
        text.style.cssText = (bringToFront ? "z-index:100000;" : "")
            + "height:" + text.style.height + ";"
            + (useragent.isIE ? "opacity:0.1;" : "");

        var rect = host.container.getBoundingClientRect();
        var style = dom.computedStyle(host.container);
        var top = rect.top + (parseInt(style.borderTopWidth) || 0);
        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);
        var maxTop = rect.bottom - top - text.clientHeight -2;
        var move = function(e) {
            text.style.left = e.clientX - left - 2 + "px";
            text.style.top = Math.min(e.clientY - top - 2, maxTop) + "px";
        }; 
        move(e);

        if (e.type != "mousedown")
            return;

        if (host.renderer.$keepTextAreaAtCursor)
            host.renderer.$keepTextAreaAtCursor = null;

        clearTimeout(closeTimeout);
        if (useragent.isWin && !useragent.isOldIE)
            event.capture(host.container, move, onContextMenuClose);
    };

    this.onContextMenuClose = onContextMenuClose;
    var closeTimeout;
    function onContextMenuClose() {
        clearTimeout(closeTimeout);
        closeTimeout = setTimeout(function () {
            if (tempStyle) {
                text.style.cssText = tempStyle;
                tempStyle = '';
            }
            if (host.renderer.$keepTextAreaAtCursor == null) {
                host.renderer.$keepTextAreaAtCursor = true;
                host.renderer.$moveTextAreaToCursor();
            }
        }, useragent.isOldIE ? 200 : 0);
    }

    var onContextMenu = function(e) {
        host.textInput.onContextMenu(e);
        onContextMenuClose();
    };
    event.addListener(text, "mouseup", onContextMenu);
    event.addListener(text, "mousedown", function(e) {
        e.preventDefault();
        onContextMenuClose();
    });
    event.addListener(host.renderer.scroller, "contextmenu", onContextMenu);
    event.addListener(text, "contextmenu", onContextMenu);
};

exports.TextInput = TextInput;
});

ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var dom = acequire("../lib/dom");
var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");

var DRAG_OFFSET = 0; // pixels

function DefaultHandlers(mouseHandler) {
    mouseHandler.$clickSelection = null;

    var editor = mouseHandler.editor;
    editor.setDefaultHandler("mousedown", this.onMouseDown.bind(mouseHandler));
    editor.setDefaultHandler("dblclick", this.onDoubleClick.bind(mouseHandler));
    editor.setDefaultHandler("tripleclick", this.onTripleClick.bind(mouseHandler));
    editor.setDefaultHandler("quadclick", this.onQuadClick.bind(mouseHandler));
    editor.setDefaultHandler("mousewheel", this.onMouseWheel.bind(mouseHandler));
    editor.setDefaultHandler("touchmove", this.onTouchMove.bind(mouseHandler));

    var exports = ["select", "startSelect", "selectEnd", "selectAllEnd", "selectByWordsEnd",
        "selectByLinesEnd", "dragWait", "dragWaitEnd", "focusWait"];

    exports.forEach(function(x) {
        mouseHandler[x] = this[x];
    }, this);

    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, "getLineRange");
    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, "getWordRange");
}

(function() {

    this.onMouseDown = function(ev) {
        var inSelection = ev.inSelection();
        var pos = ev.getDocumentPosition();
        this.mousedownEvent = ev;
        var editor = this.editor;

        var button = ev.getButton();
        if (button !== 0) {
            var selectionRange = editor.getSelectionRange();
            var selectionEmpty = selectionRange.isEmpty();
            editor.$blockScrolling++;
            if (selectionEmpty || button == 1)
                editor.selection.moveToPosition(pos);
            editor.$blockScrolling--;
            if (button == 2)
                editor.textInput.onContextMenu(ev.domEvent);
            return; // stopping event here breaks contextmenu on ff mac
        }

        this.mousedownEvent.time = Date.now();
        if (inSelection && !editor.isFocused()) {
            editor.focus();
            if (this.$focusTimout && !this.$clickSelection && !editor.inMultiSelectMode) {
                this.setState("focusWait");
                this.captureMouse(ev);
                return;
            }
        }

        this.captureMouse(ev);
        this.startSelect(pos, ev.domEvent._clicks > 1);
        return ev.preventDefault();
    };

    this.startSelect = function(pos, waitForClickSelection) {
        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
        var editor = this.editor;
        editor.$blockScrolling++;
        if (this.mousedownEvent.getShiftKey())
            editor.selection.selectToPosition(pos);
        else if (!waitForClickSelection)
            editor.selection.moveToPosition(pos);
        if (!waitForClickSelection)
            this.select();
        if (editor.renderer.scroller.setCapture) {
            editor.renderer.scroller.setCapture();
        }
        editor.setStyle("ace_selecting");
        this.setState("select");
        editor.$blockScrolling--;
    };

    this.select = function() {
        var anchor, editor = this.editor;
        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
        editor.$blockScrolling++;
        if (this.$clickSelection) {
            var cmp = this.$clickSelection.comparePoint(cursor);

            if (cmp == -1) {
                anchor = this.$clickSelection.end;
            } else if (cmp == 1) {
                anchor = this.$clickSelection.start;
            } else {
                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
                cursor = orientedRange.cursor;
                anchor = orientedRange.anchor;
            }
            editor.selection.setSelectionAnchor(anchor.row, anchor.column);
        }
        editor.selection.selectToPosition(cursor);
        editor.$blockScrolling--;
        editor.renderer.scrollCursorIntoView();
    };

    this.extendSelectionBy = function(unitName) {
        var anchor, editor = this.editor;
        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
        var range = editor.selection[unitName](cursor.row, cursor.column);
        editor.$blockScrolling++;
        if (this.$clickSelection) {
            var cmpStart = this.$clickSelection.comparePoint(range.start);
            var cmpEnd = this.$clickSelection.comparePoint(range.end);

            if (cmpStart == -1 && cmpEnd <= 0) {
                anchor = this.$clickSelection.end;
                if (range.end.row != cursor.row || range.end.column != cursor.column)
                    cursor = range.start;
            } else if (cmpEnd == 1 && cmpStart >= 0) {
                anchor = this.$clickSelection.start;
                if (range.start.row != cursor.row || range.start.column != cursor.column)
                    cursor = range.end;
            } else if (cmpStart == -1 && cmpEnd == 1) {
                cursor = range.end;
                anchor = range.start;
            } else {
                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
                cursor = orientedRange.cursor;
                anchor = orientedRange.anchor;
            }
            editor.selection.setSelectionAnchor(anchor.row, anchor.column);
        }
        editor.selection.selectToPosition(cursor);
        editor.$blockScrolling--;
        editor.renderer.scrollCursorIntoView();
    };

    this.selectEnd =
    this.selectAllEnd =
    this.selectByWordsEnd =
    this.selectByLinesEnd = function() {
        this.$clickSelection = null;
        this.editor.unsetStyle("ace_selecting");
        if (this.editor.renderer.scroller.releaseCapture) {
            this.editor.renderer.scroller.releaseCapture();
        }
    };

    this.focusWait = function() {
        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
        var time = Date.now();

        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimout)
            this.startSelect(this.mousedownEvent.getDocumentPosition());
    };

    this.onDoubleClick = function(ev) {
        var pos = ev.getDocumentPosition();
        var editor = this.editor;
        var session = editor.session;

        var range = session.getBracketRange(pos);
        if (range) {
            if (range.isEmpty()) {
                range.start.column--;
                range.end.column++;
            }
            this.setState("select");
        } else {
            range = editor.selection.getWordRange(pos.row, pos.column);
            this.setState("selectByWords");
        }
        this.$clickSelection = range;
        this.select();
    };

    this.onTripleClick = function(ev) {
        var pos = ev.getDocumentPosition();
        var editor = this.editor;

        this.setState("selectByLines");
        var range = editor.getSelectionRange();
        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {
            this.$clickSelection = editor.selection.getLineRange(range.start.row);
            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;
        } else {
            this.$clickSelection = editor.selection.getLineRange(pos.row);
        }
        this.select();
    };

    this.onQuadClick = function(ev) {
        var editor = this.editor;

        editor.selectAll();
        this.$clickSelection = editor.getSelectionRange();
        this.setState("selectAll");
    };

    this.onMouseWheel = function(ev) {
        if (ev.getAccelKey())
            return;
        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {
            ev.wheelX = ev.wheelY;
            ev.wheelY = 0;
        }

        var t = ev.domEvent.timeStamp;
        var dt = t - (this.$lastScrollTime||0);
        
        var editor = this.editor;
        var isScrolable = editor.renderer.isScrollableBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);
        if (isScrolable || dt < 200) {
            this.$lastScrollTime = t;
            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);
            return ev.stop();
        }
    };
    
    this.onTouchMove = function (ev) {
        var t = ev.domEvent.timeStamp;
        var dt = t - (this.$lastScrollTime || 0);

        var editor = this.editor;
        var isScrolable = editor.renderer.isScrollableBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);
        if (isScrolable || dt < 200) {
            this.$lastScrollTime = t;
            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);
            return ev.stop();
        }
    };

}).call(DefaultHandlers.prototype);

exports.DefaultHandlers = DefaultHandlers;

function calcDistance(ax, ay, bx, by) {
    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
}

function calcRangeOrientation(range, cursor) {
    if (range.start.row == range.end.row)
        var cmp = 2 * cursor.column - range.start.column - range.end.column;
    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)
        var cmp = cursor.column - 4;
    else
        var cmp = 2 * cursor.row - range.start.row - range.end.row;

    if (cmp < 0)
        return {cursor: range.start, anchor: range.end};
    else
        return {cursor: range.end, anchor: range.start};
}

});

ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
function Tooltip (parentNode) {
    this.isOpen = false;
    this.$element = null;
    this.$parentNode = parentNode;
}

(function() {
    this.$init = function() {
        this.$element = dom.createElement("div");
        this.$element.className = "ace_tooltip";
        this.$element.style.display = "none";
        this.$parentNode.appendChild(this.$element);
        return this.$element;
    };
    this.getElement = function() {
        return this.$element || this.$init();
    };
    this.setText = function(text) {
        dom.setInnerText(this.getElement(), text);
    };
    this.setHtml = function(html) {
        this.getElement().innerHTML = html;
    };
    this.setPosition = function(x, y) {
        this.getElement().style.left = x + "px";
        this.getElement().style.top = y + "px";
    };
    this.setClassName = function(className) {
        dom.addCssClass(this.getElement(), className);
    };
    this.show = function(text, x, y) {
        if (text != null)
            this.setText(text);
        if (x != null && y != null)
            this.setPosition(x, y);
        if (!this.isOpen) {
            this.getElement().style.display = "block";
            this.isOpen = true;
        }
    };

    this.hide = function() {
        if (this.isOpen) {
            this.getElement().style.display = "none";
            this.isOpen = false;
        }
    };
    this.getHeight = function() {
        return this.getElement().offsetHeight;
    };
    this.getWidth = function() {
        return this.getElement().offsetWidth;
    };

}).call(Tooltip.prototype);

exports.Tooltip = Tooltip;
});

ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"], function(acequire, exports, module) {
"use strict";
var dom = acequire("../lib/dom");
var oop = acequire("../lib/oop");
var event = acequire("../lib/event");
var Tooltip = acequire("../tooltip").Tooltip;

function GutterHandler(mouseHandler) {
    var editor = mouseHandler.editor;
    var gutter = editor.renderer.$gutterLayer;
    var tooltip = new GutterTooltip(editor.container);

    mouseHandler.editor.setDefaultHandler("guttermousedown", function(e) {
        if (!editor.isFocused() || e.getButton() != 0)
            return;
        var gutterRegion = gutter.getRegion(e);

        if (gutterRegion == "foldWidgets")
            return;

        var row = e.getDocumentPosition().row;
        var selection = editor.session.selection;

        if (e.getShiftKey())
            selection.selectTo(row, 0);
        else {
            if (e.domEvent.detail == 2) {
                editor.selectAll();
                return e.preventDefault();
            }
            mouseHandler.$clickSelection = editor.selection.getLineRange(row);
        }
        mouseHandler.setState("selectByLines");
        mouseHandler.captureMouse(e);
        return e.preventDefault();
    });


    var tooltipTimeout, mouseEvent, tooltipAnnotation;

    function showTooltip() {
        var row = mouseEvent.getDocumentPosition().row;
        var annotation = gutter.$annotations[row];
        if (!annotation)
            return hideTooltip();

        var maxRow = editor.session.getLength();
        if (row == maxRow) {
            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;
            var pos = mouseEvent.$pos;
            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))
                return hideTooltip();
        }

        if (tooltipAnnotation == annotation)
            return;
        tooltipAnnotation = annotation.text.join("<br/>");

        tooltip.setHtml(tooltipAnnotation);
        tooltip.show();
        editor.on("mousewheel", hideTooltip);

        if (mouseHandler.$tooltipFollowsMouse) {
            moveTooltip(mouseEvent);
        } else {
            var gutterElement = mouseEvent.domEvent.target;
            var rect = gutterElement.getBoundingClientRect();
            var style = tooltip.getElement().style;
            style.left = rect.right + "px";
            style.top = rect.bottom + "px";
        }
    }

    function hideTooltip() {
        if (tooltipTimeout)
            tooltipTimeout = clearTimeout(tooltipTimeout);
        if (tooltipAnnotation) {
            tooltip.hide();
            tooltipAnnotation = null;
            editor.removeEventListener("mousewheel", hideTooltip);
        }
    }

    function moveTooltip(e) {
        tooltip.setPosition(e.x, e.y);
    }

    mouseHandler.editor.setDefaultHandler("guttermousemove", function(e) {
        var target = e.domEvent.target || e.domEvent.srcElement;
        if (dom.hasCssClass(target, "ace_fold-widget"))
            return hideTooltip();

        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)
            moveTooltip(e);

        mouseEvent = e;
        if (tooltipTimeout)
            return;
        tooltipTimeout = setTimeout(function() {
            tooltipTimeout = null;
            if (mouseEvent && !mouseHandler.isMousePressed)
                showTooltip();
            else
                hideTooltip();
        }, 50);
    });

    event.addListener(editor.renderer.$gutter, "mouseout", function(e) {
        mouseEvent = null;
        if (!tooltipAnnotation || tooltipTimeout)
            return;

        tooltipTimeout = setTimeout(function() {
            tooltipTimeout = null;
            hideTooltip();
        }, 50);
    });
    
    editor.on("changeSession", hideTooltip);
}

function GutterTooltip(parentNode) {
    Tooltip.call(this, parentNode);
}

oop.inherits(GutterTooltip, Tooltip);

(function(){
    this.setPosition = function(x, y) {
        var windowWidth = window.innerWidth || document.documentElement.clientWidth;
        var windowHeight = window.innerHeight || document.documentElement.clientHeight;
        var width = this.getWidth();
        var height = this.getHeight();
        x += 15;
        y += 15;
        if (x + width > windowWidth) {
            x -= (x + width) - windowWidth;
        }
        if (y + height > windowHeight) {
            y -= 20 + height;
        }
        Tooltip.prototype.setPosition.call(this, x, y);
    };

}).call(GutterTooltip.prototype);



exports.GutterHandler = GutterHandler;

});

ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
var MouseEvent = exports.MouseEvent = function(domEvent, editor) {
    this.domEvent = domEvent;
    this.editor = editor;
    
    this.x = this.clientX = domEvent.clientX;
    this.y = this.clientY = domEvent.clientY;

    this.$pos = null;
    this.$inSelection = null;
    
    this.propagationStopped = false;
    this.defaultPrevented = false;
};

(function() {  
    
    this.stopPropagation = function() {
        event.stopPropagation(this.domEvent);
        this.propagationStopped = true;
    };
    
    this.preventDefault = function() {
        event.preventDefault(this.domEvent);
        this.defaultPrevented = true;
    };
    
    this.stop = function() {
        this.stopPropagation();
        this.preventDefault();
    };
    this.getDocumentPosition = function() {
        if (this.$pos)
            return this.$pos;
        
        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);
        return this.$pos;
    };
    this.inSelection = function() {
        if (this.$inSelection !== null)
            return this.$inSelection;
            
        var editor = this.editor;
        

        var selectionRange = editor.getSelectionRange();
        if (selectionRange.isEmpty())
            this.$inSelection = false;
        else {
            var pos = this.getDocumentPosition();
            this.$inSelection = selectionRange.contains(pos.row, pos.column);
        }

        return this.$inSelection;
    };
    this.getButton = function() {
        return event.getButton(this.domEvent);
    };
    this.getShiftKey = function() {
        return this.domEvent.shiftKey;
    };
    
    this.getAccelKey = useragent.isMac
        ? function() { return this.domEvent.metaKey; }
        : function() { return this.domEvent.ctrlKey; };
    
}).call(MouseEvent.prototype);

});

ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var dom = acequire("../lib/dom");
var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");

var AUTOSCROLL_DELAY = 200;
var SCROLL_CURSOR_DELAY = 200;
var SCROLL_CURSOR_HYSTERESIS = 5;

function DragdropHandler(mouseHandler) {

    var editor = mouseHandler.editor;

    var blankImage = dom.createElement("img");
    blankImage.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
    if (useragent.isOpera)
        blankImage.style.cssText = "width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;";

    var exports = ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"];

     exports.forEach(function(x) {
         mouseHandler[x] = this[x];
    }, this);
    editor.addEventListener("mousedown", this.onMouseDown.bind(mouseHandler));


    var mouseTarget = editor.container;
    var dragSelectionMarker, x, y;
    var timerId, range;
    var dragCursor, counter = 0;
    var dragOperation;
    var isInternal;
    var autoScrollStartTime;
    var cursorMovedTime;
    var cursorPointOnCaretMoved;

    this.onDragStart = function(e) {
        if (this.cancelDrag || !mouseTarget.draggable) {
            var self = this;
            setTimeout(function(){
                self.startSelect();
                self.captureMouse(e);
            }, 0);
            return e.preventDefault();
        }
        range = editor.getSelectionRange();

        var dataTransfer = e.dataTransfer;
        dataTransfer.effectAllowed = editor.getReadOnly() ? "copy" : "copyMove";
        if (useragent.isOpera) {
            editor.container.appendChild(blankImage);
            blankImage.scrollTop = 0;
        }
        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);
        if (useragent.isOpera) {
            editor.container.removeChild(blankImage);
        }
        dataTransfer.clearData();
        dataTransfer.setData("Text", editor.session.getTextRange());

        isInternal = true;
        this.setState("drag");
    };

    this.onDragEnd = function(e) {
        mouseTarget.draggable = false;
        isInternal = false;
        this.setState(null);
        if (!editor.getReadOnly()) {
            var dropEffect = e.dataTransfer.dropEffect;
            if (!dragOperation && dropEffect == "move")
                editor.session.remove(editor.getSelectionRange());
            editor.renderer.$cursorLayer.setBlinking(true);
        }
        this.editor.unsetStyle("ace_dragging");
        this.editor.renderer.setCursorStyle("");
    };

    this.onDragEnter = function(e) {
        if (editor.getReadOnly() || !canAccept(e.dataTransfer))
            return;
        x = e.clientX;
        y = e.clientY;
        if (!dragSelectionMarker)
            addDragMarker();
        counter++;
        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);
        return event.preventDefault(e);
    };

    this.onDragOver = function(e) {
        if (editor.getReadOnly() || !canAccept(e.dataTransfer))
            return;
        x = e.clientX;
        y = e.clientY;
        if (!dragSelectionMarker) {
            addDragMarker();
            counter++;
        }
        if (onMouseMoveTimer !== null)
            onMouseMoveTimer = null;

        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);
        return event.preventDefault(e);
    };

    this.onDragLeave = function(e) {
        counter--;
        if (counter <= 0 && dragSelectionMarker) {
            clearDragMarker();
            dragOperation = null;
            return event.preventDefault(e);
        }
    };

    this.onDrop = function(e) {
        if (!dragCursor)
            return;
        var dataTransfer = e.dataTransfer;
        if (isInternal) {
            switch (dragOperation) {
                case "move":
                    if (range.contains(dragCursor.row, dragCursor.column)) {
                        range = {
                            start: dragCursor,
                            end: dragCursor
                        };
                    } else {
                        range = editor.moveText(range, dragCursor);
                    }
                    break;
                case "copy":
                    range = editor.moveText(range, dragCursor, true);
                    break;
            }
        } else {
            var dropData = dataTransfer.getData('Text');
            range = {
                start: dragCursor,
                end: editor.session.insert(dragCursor, dropData)
            };
            editor.focus();
            dragOperation = null;
        }
        clearDragMarker();
        return event.preventDefault(e);
    };

    event.addListener(mouseTarget, "dragstart", this.onDragStart.bind(mouseHandler));
    event.addListener(mouseTarget, "dragend", this.onDragEnd.bind(mouseHandler));
    event.addListener(mouseTarget, "dragenter", this.onDragEnter.bind(mouseHandler));
    event.addListener(mouseTarget, "dragover", this.onDragOver.bind(mouseHandler));
    event.addListener(mouseTarget, "dragleave", this.onDragLeave.bind(mouseHandler));
    event.addListener(mouseTarget, "drop", this.onDrop.bind(mouseHandler));

    function scrollCursorIntoView(cursor, prevCursor) {
        var now = Date.now();
        var vMovement = !prevCursor || cursor.row != prevCursor.row;
        var hMovement = !prevCursor || cursor.column != prevCursor.column;
        if (!cursorMovedTime || vMovement || hMovement) {
            editor.$blockScrolling += 1;
            editor.moveCursorToPosition(cursor);
            editor.$blockScrolling -= 1;
            cursorMovedTime = now;
            cursorPointOnCaretMoved = {x: x, y: y};
        } else {
            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);
            if (distance > SCROLL_CURSOR_HYSTERESIS) {
                cursorMovedTime = null;
            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {
                editor.renderer.scrollCursorIntoView();
                cursorMovedTime = null;
            }
        }
    }

    function autoScroll(cursor, prevCursor) {
        var now = Date.now();
        var lineHeight = editor.renderer.layerConfig.lineHeight;
        var characterWidth = editor.renderer.layerConfig.characterWidth;
        var editorRect = editor.renderer.scroller.getBoundingClientRect();
        var offsets = {
           x: {
               left: x - editorRect.left,
               right: editorRect.right - x
           },
           y: {
               top: y - editorRect.top,
               bottom: editorRect.bottom - y
           }
        };
        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);
        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);
        var scrollCursor = {row: cursor.row, column: cursor.column};
        if (nearestXOffset / characterWidth <= 2) {
            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);
        }
        if (nearestYOffset / lineHeight <= 1) {
            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);
        }
        var vScroll = cursor.row != scrollCursor.row;
        var hScroll = cursor.column != scrollCursor.column;
        var vMovement = !prevCursor || cursor.row != prevCursor.row;
        if (vScroll || (hScroll && !vMovement)) {
            if (!autoScrollStartTime)
                autoScrollStartTime = now;
            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)
                editor.renderer.scrollCursorIntoView(scrollCursor);
        } else {
            autoScrollStartTime = null;
        }
    }

    function onDragInterval() {
        var prevCursor = dragCursor;
        dragCursor = editor.renderer.screenToTextCoordinates(x, y);
        scrollCursorIntoView(dragCursor, prevCursor);
        autoScroll(dragCursor, prevCursor);
    }

    function addDragMarker() {
        range = editor.selection.toOrientedRange();
        dragSelectionMarker = editor.session.addMarker(range, "ace_selection", editor.getSelectionStyle());
        editor.clearSelection();
        if (editor.isFocused())
            editor.renderer.$cursorLayer.setBlinking(false);
        clearInterval(timerId);
        onDragInterval();
        timerId = setInterval(onDragInterval, 20);
        counter = 0;
        event.addListener(document, "mousemove", onMouseMove);
    }

    function clearDragMarker() {
        clearInterval(timerId);
        editor.session.removeMarker(dragSelectionMarker);
        dragSelectionMarker = null;
        editor.$blockScrolling += 1;
        editor.selection.fromOrientedRange(range);
        editor.$blockScrolling -= 1;
        if (editor.isFocused() && !isInternal)
            editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());
        range = null;
        dragCursor = null;
        counter = 0;
        autoScrollStartTime = null;
        cursorMovedTime = null;
        event.removeListener(document, "mousemove", onMouseMove);
    }
    var onMouseMoveTimer = null;
    function onMouseMove() {
        if (onMouseMoveTimer == null) {
            onMouseMoveTimer = setTimeout(function() {
                if (onMouseMoveTimer != null && dragSelectionMarker)
                    clearDragMarker();
            }, 20);
        }
    }

    function canAccept(dataTransfer) {
        var types = dataTransfer.types;
        return !types || Array.prototype.some.call(types, function(type) {
            return type == 'text/plain' || type == 'Text';
        });
    }

    function getDropEffect(e) {
        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];
        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];

        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;
        var effectAllowed = "uninitialized";
        try {
            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();
        } catch (e) {}
        var dropEffect = "none";

        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)
            dropEffect = "copy";
        else if (moveAllowed.indexOf(effectAllowed) >= 0)
            dropEffect = "move";
        else if (copyAllowed.indexOf(effectAllowed) >= 0)
            dropEffect = "copy";

        return dropEffect;
    }
}

(function() {

    this.dragWait = function() {
        var interval = Date.now() - this.mousedownEvent.time;
        if (interval > this.editor.getDragDelay())
            this.startDrag();
    };

    this.dragWaitEnd = function() {
        var target = this.editor.container;
        target.draggable = false;
        this.startSelect(this.mousedownEvent.getDocumentPosition());
        this.selectEnd();
    };

    this.dragReadyEnd = function(e) {
        this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());
        this.editor.unsetStyle("ace_dragging");
        this.editor.renderer.setCursorStyle("");
        this.dragWaitEnd();
    };

    this.startDrag = function(){
        this.cancelDrag = false;
        var editor = this.editor;
        var target = editor.container;
        target.draggable = true;
        editor.renderer.$cursorLayer.setBlinking(false);
        editor.setStyle("ace_dragging");
        var cursorStyle = useragent.isWin ? "default" : "move";
        editor.renderer.setCursorStyle(cursorStyle);
        this.setState("dragReady");
    };

    this.onMouseDrag = function(e) {
        var target = this.editor.container;
        if (useragent.isIE && this.state == "dragReady") {
            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
            if (distance > 3)
                target.dragDrop();
        }
        if (this.state === "dragWait") {
            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
            if (distance > 0) {
                target.draggable = false;
                this.startSelect(this.mousedownEvent.getDocumentPosition());
            }
        }
    };

    this.onMouseDown = function(e) {
        if (!this.$dragEnabled)
            return;
        this.mousedownEvent = e;
        var editor = this.editor;

        var inSelection = e.inSelection();
        var button = e.getButton();
        var clickCount = e.domEvent.detail || 1;
        if (clickCount === 1 && button === 0 && inSelection) {
            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))
                return;
            this.mousedownEvent.time = Date.now();
            var eventTarget = e.domEvent.target || e.domEvent.srcElement;
            if ("unselectable" in eventTarget)
                eventTarget.unselectable = "on";
            if (editor.getDragDelay()) {
                if (useragent.isWebKit) {
                    this.cancelDrag = true;
                    var mouseTarget = editor.container;
                    mouseTarget.draggable = true;
                }
                this.setState("dragWait");
            } else {
                this.startDrag();
            }
            this.captureMouse(e, this.onMouseDrag.bind(this));
            e.defaultPrevented = true;
        }
    };

}).call(DragdropHandler.prototype);


function calcDistance(ax, ay, bx, by) {
    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
}

exports.DragdropHandler = DragdropHandler;

});

ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"], function(acequire, exports, module) {
"use strict";
var dom = acequire("./dom");

exports.get = function (url, callback) {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', url, true);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            callback(xhr.responseText);
        }
    };
    xhr.send(null);
};

exports.loadScript = function(path, callback) {
    var head = dom.getDocumentHead();
    var s = document.createElement('script');

    s.src = path;
    head.appendChild(s);

    s.onload = s.onreadystatechange = function(_, isAbort) {
        if (isAbort || !s.readyState || s.readyState == "loaded" || s.readyState == "complete") {
            s = s.onload = s.onreadystatechange = null;
            if (!isAbort)
                callback();
        }
    };
};
exports.qualifyURL = function(url) {
    var a = document.createElement('a');
    a.href = url;
    return a.href;
}

});

ace.define("ace/lib/event_emitter",["require","exports","module"], function(acequire, exports, module) {
"use strict";

var EventEmitter = {};
var stopPropagation = function() { this.propagationStopped = true; };
var preventDefault = function() { this.defaultPrevented = true; };

EventEmitter._emit =
EventEmitter._dispatchEvent = function(eventName, e) {
    this._eventRegistry || (this._eventRegistry = {});
    this._defaultHandlers || (this._defaultHandlers = {});

    var listeners = this._eventRegistry[eventName] || [];
    var defaultHandler = this._defaultHandlers[eventName];
    if (!listeners.length && !defaultHandler)
        return;

    if (typeof e != "object" || !e)
        e = {};

    if (!e.type)
        e.type = eventName;
    if (!e.stopPropagation)
        e.stopPropagation = stopPropagation;
    if (!e.preventDefault)
        e.preventDefault = preventDefault;

    listeners = listeners.slice();
    for (var i=0; i<listeners.length; i++) {
        listeners[i](e, this);
        if (e.propagationStopped)
            break;
    }
    
    if (defaultHandler && !e.defaultPrevented)
        return defaultHandler(e, this);
};


EventEmitter._signal = function(eventName, e) {
    var listeners = (this._eventRegistry || {})[eventName];
    if (!listeners)
        return;
    listeners = listeners.slice();
    for (var i=0; i<listeners.length; i++)
        listeners[i](e, this);
};

EventEmitter.once = function(eventName, callback) {
    var _self = this;
    callback && this.addEventListener(eventName, function newCallback() {
        _self.removeEventListener(eventName, newCallback);
        callback.apply(null, arguments);
    });
};


EventEmitter.setDefaultHandler = function(eventName, callback) {
    var handlers = this._defaultHandlers
    if (!handlers)
        handlers = this._defaultHandlers = {_disabled_: {}};
    
    if (handlers[eventName]) {
        var old = handlers[eventName];
        var disabled = handlers._disabled_[eventName];
        if (!disabled)
            handlers._disabled_[eventName] = disabled = [];
        disabled.push(old);
        var i = disabled.indexOf(callback);
        if (i != -1) 
            disabled.splice(i, 1);
    }
    handlers[eventName] = callback;
};
EventEmitter.removeDefaultHandler = function(eventName, callback) {
    var handlers = this._defaultHandlers
    if (!handlers)
        return;
    var disabled = handlers._disabled_[eventName];
    
    if (handlers[eventName] == callback) {
        var old = handlers[eventName];
        if (disabled)
            this.setDefaultHandler(eventName, disabled.pop());
    } else if (disabled) {
        var i = disabled.indexOf(callback);
        if (i != -1)
            disabled.splice(i, 1);
    }
};

EventEmitter.on =
EventEmitter.addEventListener = function(eventName, callback, capturing) {
    this._eventRegistry = this._eventRegistry || {};

    var listeners = this._eventRegistry[eventName];
    if (!listeners)
        listeners = this._eventRegistry[eventName] = [];

    if (listeners.indexOf(callback) == -1)
        listeners[capturing ? "unshift" : "push"](callback);
    return callback;
};

EventEmitter.off =
EventEmitter.removeListener =
EventEmitter.removeEventListener = function(eventName, callback) {
    this._eventRegistry = this._eventRegistry || {};

    var listeners = this._eventRegistry[eventName];
    if (!listeners)
        return;

    var index = listeners.indexOf(callback);
    if (index !== -1)
        listeners.splice(index, 1);
};

EventEmitter.removeAllListeners = function(eventName) {
    if (this._eventRegistry) this._eventRegistry[eventName] = [];
};

exports.EventEmitter = EventEmitter;

});

ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"], function(acequire, exports, module) {
"no use strict";

var oop = acequire("./oop");
var EventEmitter = acequire("./event_emitter").EventEmitter;

var optionsProvider = {
    setOptions: function(optList) {
        Object.keys(optList).forEach(function(key) {
            this.setOption(key, optList[key]);
        }, this);
    },
    getOptions: function(optionNames) {
        var result = {};
        if (!optionNames) {
            optionNames = Object.keys(this.$options);
        } else if (!Array.isArray(optionNames)) {
            result = optionNames;
            optionNames = Object.keys(result);
        }
        optionNames.forEach(function(key) {
            result[key] = this.getOption(key);
        }, this);
        return result;
    },
    setOption: function(name, value) {
        if (this["$" + name] === value)
            return;
        var opt = this.$options[name];
        if (!opt) {
            return warn('misspelled option "' + name + '"');
        }
        if (opt.forwardTo)
            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);

        if (!opt.handlesSet)
            this["$" + name] = value;
        if (opt && opt.set)
            opt.set.call(this, value);
    },
    getOption: function(name) {
        var opt = this.$options[name];
        if (!opt) {
            return warn('misspelled option "' + name + '"');
        }
        if (opt.forwardTo)
            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);
        return opt && opt.get ? opt.get.call(this) : this["$" + name];
    }
};

function warn(message) {
    if (typeof console != "undefined" && console.warn)
        console.warn.apply(console, arguments);
}

function reportError(msg, data) {
    var e = new Error(msg);
    e.data = data;
    if (typeof console == "object" && console.error)
        console.error(e);
    setTimeout(function() { throw e; });
}

var AppConfig = function() {
    this.$defaultOptions = {};
};

(function() {
    oop.implement(this, EventEmitter);
    this.defineOptions = function(obj, path, options) {
        if (!obj.$options)
            this.$defaultOptions[path] = obj.$options = {};

        Object.keys(options).forEach(function(key) {
            var opt = options[key];
            if (typeof opt == "string")
                opt = {forwardTo: opt};

            opt.name || (opt.name = key);
            obj.$options[opt.name] = opt;
            if ("initialValue" in opt)
                obj["$" + opt.name] = opt.initialValue;
        });
        oop.implement(obj, optionsProvider);

        return this;
    };

    this.resetOptions = function(obj) {
        Object.keys(obj.$options).forEach(function(key) {
            var opt = obj.$options[key];
            if ("value" in opt)
                obj.setOption(key, opt.value);
        });
    };

    this.setDefaultValue = function(path, name, value) {
        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});
        if (opts[name]) {
            if (opts.forwardTo)
                this.setDefaultValue(opts.forwardTo, name, value);
            else
                opts[name].value = value;
        }
    };

    this.setDefaultValues = function(path, optionHash) {
        Object.keys(optionHash).forEach(function(key) {
            this.setDefaultValue(path, key, optionHash[key]);
        }, this);
    };
    
    this.warn = warn;
    this.reportError = reportError;
    
}).call(AppConfig.prototype);

exports.AppConfig = AppConfig;

});

ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"], function(acequire, exports, module) {
"no use strict";

var lang = acequire("./lib/lang");
var oop = acequire("./lib/oop");
var net = acequire("./lib/net");
var AppConfig = acequire("./lib/app_config").AppConfig;

module.exports = exports = new AppConfig();

var global = (function() {
    return this || typeof window != "undefined" && window;
})();

var options = {
    packaged: false,
    workerPath: null,
    modePath: null,
    themePath: null,
    basePath: "",
    suffix: ".js",
    $moduleUrls: {}
};

exports.get = function(key) {
    if (!options.hasOwnProperty(key))
        throw new Error("Unknown config key: " + key);

    return options[key];
};

exports.set = function(key, value) {
    if (!options.hasOwnProperty(key))
        throw new Error("Unknown config key: " + key);

    options[key] = value;
};

exports.all = function() {
    return lang.copyObject(options);
};
exports.moduleUrl = function(name, component) {
    if (options.$moduleUrls[name])
        return options.$moduleUrls[name];

    var parts = name.split("/");
    component = component || parts[parts.length - 2] || "";
    var sep = component == "snippets" ? "/" : "-";
    var base = parts[parts.length - 1];
    if (component == "worker" && sep == "-") {
        var re = new RegExp("^" + component + "[\\-_]|[\\-_]" + component + "$", "g");
        base = base.replace(re, "");
    }

    if ((!base || base == component) && parts.length > 1)
        base = parts[parts.length - 2];
    var path = options[component + "Path"];
    if (path == null) {
        path = options.basePath;
    } else if (sep == "/") {
        component = sep = "";
    }
    if (path && path.slice(-1) != "/")
        path += "/";
    return path + component + sep + base + this.get("suffix");
};

exports.setModuleUrl = function(name, subst) {
    return options.$moduleUrls[name] = subst;
};

exports.$loading = {};
exports.loadModule = function(moduleName, onLoad) {
    var module, moduleType;
    if (Array.isArray(moduleName)) {
        moduleType = moduleName[0];
        moduleName = moduleName[1];
    }

    try {
        module = acequire(moduleName);
    } catch (e) {}
    if (module && !exports.$loading[moduleName])
        return onLoad && onLoad(module);

    if (!exports.$loading[moduleName])
        exports.$loading[moduleName] = [];

    exports.$loading[moduleName].push(onLoad);

    if (exports.$loading[moduleName].length > 1)
        return;

    var afterLoad = function() {
        acequire([moduleName], function(module) {
            exports._emit("load.module", {name: moduleName, module: module});
            var listeners = exports.$loading[moduleName];
            exports.$loading[moduleName] = null;
            listeners.forEach(function(onLoad) {
                onLoad && onLoad(module);
            });
        });
    };

    if (!exports.get("packaged"))
        return afterLoad();
    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);
};
init(true);function init(packaged) {

    if (!global || !global.document)
        return;
    
    options.packaged = packaged || acequire.packaged || module.packaged || (global.define && define.packaged);

    var scriptOptions = {};
    var scriptUrl = "";
    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill
    var currentDocument = currentScript && currentScript.ownerDocument || document;
    
    var scripts = currentDocument.getElementsByTagName("script");
    for (var i=0; i<scripts.length; i++) {
        var script = scripts[i];

        var src = script.src || script.getAttribute("src");
        if (!src)
            continue;

        var attributes = script.attributes;
        for (var j=0, l=attributes.length; j < l; j++) {
            var attr = attributes[j];
            if (attr.name.indexOf("data-ace-") === 0) {
                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, ""))] = attr.value;
            }
        }

        var m = src.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
        if (m)
            scriptUrl = m[1];
    }

    if (scriptUrl) {
        scriptOptions.base = scriptOptions.base || scriptUrl;
        scriptOptions.packaged = true;
    }

    scriptOptions.basePath = scriptOptions.base;
    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;
    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;
    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;
    delete scriptOptions.base;

    for (var key in scriptOptions)
        if (typeof scriptOptions[key] !== "undefined")
            exports.set(key, scriptOptions[key]);
}

exports.init = init;

function deHyphenate(str) {
    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });
}

});

ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"], function(acequire, exports, module) {
"use strict";

var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
var DefaultHandlers = acequire("./default_handlers").DefaultHandlers;
var DefaultGutterHandler = acequire("./default_gutter_handler").GutterHandler;
var MouseEvent = acequire("./mouse_event").MouseEvent;
var DragdropHandler = acequire("./dragdrop_handler").DragdropHandler;
var config = acequire("../config");

var MouseHandler = function(editor) {
    var _self = this;
    this.editor = editor;

    new DefaultHandlers(this);
    new DefaultGutterHandler(this);
    new DragdropHandler(this);

    var focusEditor = function(e) {
        var windowBlurred = !document.hasFocus || !document.hasFocus()
            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement())
        if (windowBlurred)
            window.focus();
        editor.focus();
    };

    var mouseTarget = editor.renderer.getMouseEventTarget();
    event.addListener(mouseTarget, "click", this.onMouseEvent.bind(this, "click"));
    event.addListener(mouseTarget, "mousemove", this.onMouseMove.bind(this, "mousemove"));
    event.addMultiMouseDownListener([
        mouseTarget,
        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,
        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,
        editor.textInput && editor.textInput.getElement()
    ].filter(Boolean), [400, 300, 250], this, "onMouseEvent");
    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, "mousewheel"));
    event.addTouchMoveListener(editor.container, this.onTouchMove.bind(this, "touchmove"));

    var gutterEl = editor.renderer.$gutter;
    event.addListener(gutterEl, "mousedown", this.onMouseEvent.bind(this, "guttermousedown"));
    event.addListener(gutterEl, "click", this.onMouseEvent.bind(this, "gutterclick"));
    event.addListener(gutterEl, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick"));
    event.addListener(gutterEl, "mousemove", this.onMouseEvent.bind(this, "guttermousemove"));

    event.addListener(mouseTarget, "mousedown", focusEditor);
    event.addListener(gutterEl, "mousedown", focusEditor);
    if (useragent.isIE && editor.renderer.scrollBarV) {
        event.addListener(editor.renderer.scrollBarV.element, "mousedown", focusEditor);
        event.addListener(editor.renderer.scrollBarH.element, "mousedown", focusEditor);
    }

    editor.on("mousemove", function(e){
        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)
            return;

        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);
        var range = editor.session.selection.getRange();
        var renderer = editor.renderer;

        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {
            renderer.setCursorStyle("default");
        } else {
            renderer.setCursorStyle("");
        }
    });
};

(function() {
    this.onMouseEvent = function(name, e) {
        this.editor._emit(name, new MouseEvent(e, this.editor));
    };

    this.onMouseMove = function(name, e) {
        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
        if (!listeners || !listeners.length)
            return;

        this.editor._emit(name, new MouseEvent(e, this.editor));
    };

    this.onMouseWheel = function(name, e) {
        var mouseEvent = new MouseEvent(e, this.editor);
        mouseEvent.speed = this.$scrollSpeed * 2;
        mouseEvent.wheelX = e.wheelX;
        mouseEvent.wheelY = e.wheelY;

        this.editor._emit(name, mouseEvent);
    };
    
    this.onTouchMove = function (name, e) {
        var mouseEvent = new MouseEvent(e, this.editor);
        mouseEvent.speed = 1;//this.$scrollSpeed * 2;
        mouseEvent.wheelX = e.wheelX;
        mouseEvent.wheelY = e.wheelY;
        this.editor._emit(name, mouseEvent);
    };

    this.setState = function(state) {
        this.state = state;
    };

    this.captureMouse = function(ev, mouseMoveHandler) {
        this.x = ev.x;
        this.y = ev.y;

        this.isMousePressed = true;
        var renderer = this.editor.renderer;
        if (renderer.$keepTextAreaAtCursor)
            renderer.$keepTextAreaAtCursor = null;

        var self = this;
        var onMouseMove = function(e) {
            if (!e) return;
            if (useragent.isWebKit && !e.which && self.releaseMouse)
                return self.releaseMouse();

            self.x = e.clientX;
            self.y = e.clientY;
            mouseMoveHandler && mouseMoveHandler(e);
            self.mouseEvent = new MouseEvent(e, self.editor);
            self.$mouseMoved = true;
        };

        var onCaptureEnd = function(e) {
            clearInterval(timerId);
            onCaptureInterval();
            self[self.state + "End"] && self[self.state + "End"](e);
            self.state = "";
            if (renderer.$keepTextAreaAtCursor == null) {
                renderer.$keepTextAreaAtCursor = true;
                renderer.$moveTextAreaToCursor();
            }
            self.isMousePressed = false;
            self.$onCaptureMouseMove = self.releaseMouse = null;
            e && self.onMouseEvent("mouseup", e);
        };

        var onCaptureInterval = function() {
            self[self.state] && self[self.state]();
            self.$mouseMoved = false;
        };

        if (useragent.isOldIE && ev.domEvent.type == "dblclick") {
            return setTimeout(function() {onCaptureEnd(ev);});
        }

        self.$onCaptureMouseMove = onMouseMove;
        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);
        var timerId = setInterval(onCaptureInterval, 20);
    };
    this.releaseMouse = null;
    this.cancelContextMenu = function() {
        var stop = function(e) {
            if (e && e.domEvent && e.domEvent.type != "contextmenu")
                return;
            this.editor.off("nativecontextmenu", stop);
            if (e && e.domEvent)
                event.stopEvent(e.domEvent);
        }.bind(this);
        setTimeout(stop, 10);
        this.editor.on("nativecontextmenu", stop);
    };
}).call(MouseHandler.prototype);

config.defineOptions(MouseHandler.prototype, "mouseHandler", {
    scrollSpeed: {initialValue: 2},
    dragDelay: {initialValue: (useragent.isMac ? 150 : 0)},
    dragEnabled: {initialValue: true},
    focusTimout: {initialValue: 0},
    tooltipFollowsMouse: {initialValue: true}
});


exports.MouseHandler = MouseHandler;
});

ace.define("ace/mouse/fold_handler",["require","exports","module"], function(acequire, exports, module) {
"use strict";

function FoldHandler(editor) {

    editor.on("click", function(e) {
        var position = e.getDocumentPosition();
        var session = editor.session;
        var fold = session.getFoldAt(position.row, position.column, 1);
        if (fold) {
            if (e.getAccelKey())
                session.removeFold(fold);
            else
                session.expandFold(fold);

            e.stop();
        }
    });

    editor.on("gutterclick", function(e) {
        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);

        if (gutterRegion == "foldWidgets") {
            var row = e.getDocumentPosition().row;
            var session = editor.session;
            if (session.foldWidgets && session.foldWidgets[row])
                editor.session.onFoldWidgetClick(row, e);
            if (!editor.isFocused())
                editor.focus();
            e.stop();
        }
    });

    editor.on("gutterdblclick", function(e) {
        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);

        if (gutterRegion == "foldWidgets") {
            var row = e.getDocumentPosition().row;
            var session = editor.session;
            var data = session.getParentFoldRangeData(row, true);
            var range = data.range || data.firstRange;

            if (range) {
                row = range.start.row;
                var fold = session.getFoldAt(row, session.getLine(row).length, 1);

                if (fold) {
                    session.removeFold(fold);
                } else {
                    session.addFold("...", range);
                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});
                }
            }
            e.stop();
        }
    });
}

exports.FoldHandler = FoldHandler;

});

ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"], function(acequire, exports, module) {
"use strict";

var keyUtil  = acequire("../lib/keys");
var event = acequire("../lib/event");

var KeyBinding = function(editor) {
    this.$editor = editor;
    this.$data = {editor: editor};
    this.$handlers = [];
    this.setDefaultHandler(editor.commands);
};

(function() {
    this.setDefaultHandler = function(kb) {
        this.removeKeyboardHandler(this.$defaultHandler);
        this.$defaultHandler = kb;
        this.addKeyboardHandler(kb, 0);
    };

    this.setKeyboardHandler = function(kb) {
        var h = this.$handlers;
        if (h[h.length - 1] == kb)
            return;

        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)
            this.removeKeyboardHandler(h[h.length - 1]);

        this.addKeyboardHandler(kb, 1);
    };

    this.addKeyboardHandler = function(kb, pos) {
        if (!kb)
            return;
        if (typeof kb == "function" && !kb.handleKeyboard)
            kb.handleKeyboard = kb;
        var i = this.$handlers.indexOf(kb);
        if (i != -1)
            this.$handlers.splice(i, 1);

        if (pos == undefined)
            this.$handlers.push(kb);
        else
            this.$handlers.splice(pos, 0, kb);

        if (i == -1 && kb.attach)
            kb.attach(this.$editor);
    };

    this.removeKeyboardHandler = function(kb) {
        var i = this.$handlers.indexOf(kb);
        if (i == -1)
            return false;
        this.$handlers.splice(i, 1);
        kb.detach && kb.detach(this.$editor);
        return true;
    };

    this.getKeyboardHandler = function() {
        return this.$handlers[this.$handlers.length - 1];
    };
    
    this.getStatusText = function() {
        var data = this.$data;
        var editor = data.editor;
        return this.$handlers.map(function(h) {
            return h.getStatusText && h.getStatusText(editor, data) || "";
        }).filter(Boolean).join(" ");
    };

    this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {
        var toExecute;
        var success = false;
        var commands = this.$editor.commands;

        for (var i = this.$handlers.length; i--;) {
            toExecute = this.$handlers[i].handleKeyboard(
                this.$data, hashId, keyString, keyCode, e
            );
            if (!toExecute || !toExecute.command)
                continue;
            if (toExecute.command == "null") {
                success = true;
            } else {
                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);
            }
            if (success && e && hashId != -1 && 
                toExecute.passEvent != true && toExecute.command.passEvent != true
            ) {
                event.stopEvent(e);
            }
            if (success)
                break;
        }
        
        if (!success && hashId == -1) {
            toExecute = {command: "insertstring"};
            success = commands.exec("insertstring", this.$editor, keyString);
        }
        
        if (success)
            this.$editor._signal("keyboardActivity", toExecute);
        
        return success;
    };

    this.onCommandKey = function(e, hashId, keyCode) {
        var keyString = keyUtil.keyCodeToString(keyCode);
        this.$callKeyboardHandlers(hashId, keyString, keyCode, e);
    };

    this.onTextInput = function(text) {
        this.$callKeyboardHandlers(-1, text);
    };

}).call(KeyBinding.prototype);

exports.KeyBinding = KeyBinding;
});

ace.define("ace/range",["require","exports","module"], function(acequire, exports, module) {
"use strict";
var comparePoints = function(p1, p2) {
    return p1.row - p2.row || p1.column - p2.column;
};
var Range = function(startRow, startColumn, endRow, endColumn) {
    this.start = {
        row: startRow,
        column: startColumn
    };

    this.end = {
        row: endRow,
        column: endColumn
    };
};

(function() {
    this.isEqual = function(range) {
        return this.start.row === range.start.row &&
            this.end.row === range.end.row &&
            this.start.column === range.start.column &&
            this.end.column === range.end.column;
    };
    this.toString = function() {
        return ("Range: [" + this.start.row + "/" + this.start.column +
            "] -> [" + this.end.row + "/" + this.end.column + "]");
    };

    this.contains = function(row, column) {
        return this.compare(row, column) == 0;
    };
    this.compareRange = function(range) {
        var cmp,
            end = range.end,
            start = range.start;

        cmp = this.compare(end.row, end.column);
        if (cmp == 1) {
            cmp = this.compare(start.row, start.column);
            if (cmp == 1) {
                return 2;
            } else if (cmp == 0) {
                return 1;
            } else {
                return 0;
            }
        } else if (cmp == -1) {
            return -2;
        } else {
            cmp = this.compare(start.row, start.column);
            if (cmp == -1) {
                return -1;
            } else if (cmp == 1) {
                return 42;
            } else {
                return 0;
            }
        }
    };
    this.comparePoint = function(p) {
        return this.compare(p.row, p.column);
    };
    this.containsRange = function(range) {
        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;
    };
    this.intersects = function(range) {
        var cmp = this.compareRange(range);
        return (cmp == -1 || cmp == 0 || cmp == 1);
    };
    this.isEnd = function(row, column) {
        return this.end.row == row && this.end.column == column;
    };
    this.isStart = function(row, column) {
        return this.start.row == row && this.start.column == column;
    };
    this.setStart = function(row, column) {
        if (typeof row == "object") {
            this.start.column = row.column;
            this.start.row = row.row;
        } else {
            this.start.row = row;
            this.start.column = column;
        }
    };
    this.setEnd = function(row, column) {
        if (typeof row == "object") {
            this.end.column = row.column;
            this.end.row = row.row;
        } else {
            this.end.row = row;
            this.end.column = column;
        }
    };
    this.inside = function(row, column) {
        if (this.compare(row, column) == 0) {
            if (this.isEnd(row, column) || this.isStart(row, column)) {
                return false;
            } else {
                return true;
            }
        }
        return false;
    };
    this.insideStart = function(row, column) {
        if (this.compare(row, column) == 0) {
            if (this.isEnd(row, column)) {
                return false;
            } else {
                return true;
            }
        }
        return false;
    };
    this.insideEnd = function(row, column) {
        if (this.compare(row, column) == 0) {
            if (this.isStart(row, column)) {
                return false;
            } else {
                return true;
            }
        }
        return false;
    };
    this.compare = function(row, column) {
        if (!this.isMultiLine()) {
            if (row === this.start.row) {
                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);
            }
        }

        if (row < this.start.row)
            return -1;

        if (row > this.end.row)
            return 1;

        if (this.start.row === row)
            return column >= this.start.column ? 0 : -1;

        if (this.end.row === row)
            return column <= this.end.column ? 0 : 1;

        return 0;
    };
    this.compareStart = function(row, column) {
        if (this.start.row == row && this.start.column == column) {
            return -1;
        } else {
            return this.compare(row, column);
        }
    };
    this.compareEnd = function(row, column) {
        if (this.end.row == row && this.end.column == column) {
            return 1;
        } else {
            return this.compare(row, column);
        }
    };
    this.compareInside = function(row, column) {
        if (this.end.row == row && this.end.column == column) {
            return 1;
        } else if (this.start.row == row && this.start.column == column) {
            return -1;
        } else {
            return this.compare(row, column);
        }
    };
    this.clipRows = function(firstRow, lastRow) {
        if (this.end.row > lastRow)
            var end = {row: lastRow + 1, column: 0};
        else if (this.end.row < firstRow)
            var end = {row: firstRow, column: 0};

        if (this.start.row > lastRow)
            var start = {row: lastRow + 1, column: 0};
        else if (this.start.row < firstRow)
            var start = {row: firstRow, column: 0};

        return Range.fromPoints(start || this.start, end || this.end);
    };
    this.extend = function(row, column) {
        var cmp = this.compare(row, column);

        if (cmp == 0)
            return this;
        else if (cmp == -1)
            var start = {row: row, column: column};
        else
            var end = {row: row, column: column};

        return Range.fromPoints(start || this.start, end || this.end);
    };

    this.isEmpty = function() {
        return (this.start.row === this.end.row && this.start.column === this.end.column);
    };
    this.isMultiLine = function() {
        return (this.start.row !== this.end.row);
    };
    this.clone = function() {
        return Range.fromPoints(this.start, this.end);
    };
    this.collapseRows = function() {
        if (this.end.column == 0)
            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0)
        else
            return new Range(this.start.row, 0, this.end.row, 0)
    };
    this.toScreenRange = function(session) {
        var screenPosStart = session.documentToScreenPosition(this.start);
        var screenPosEnd = session.documentToScreenPosition(this.end);

        return new Range(
            screenPosStart.row, screenPosStart.column,
            screenPosEnd.row, screenPosEnd.column
        );
    };
    this.moveBy = function(row, column) {
        this.start.row += row;
        this.start.column += column;
        this.end.row += row;
        this.end.column += column;
    };

}).call(Range.prototype);
Range.fromPoints = function(start, end) {
    return new Range(start.row, start.column, end.row, end.column);
};
Range.comparePoints = comparePoints;

Range.comparePoints = function(p1, p2) {
    return p1.row - p2.row || p1.column - p2.column;
};


exports.Range = Range;
});

ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var lang = acequire("./lib/lang");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var Range = acequire("./range").Range;
var Selection = function(session) {
    this.session = session;
    this.doc = session.getDocument();

    this.clearSelection();
    this.lead = this.selectionLead = this.doc.createAnchor(0, 0);
    this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);

    var self = this;
    this.lead.on("change", function(e) {
        self._emit("changeCursor");
        if (!self.$isEmpty)
            self._emit("changeSelection");
        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)
            self.$desiredColumn = null;
    });

    this.selectionAnchor.on("change", function() {
        if (!self.$isEmpty)
            self._emit("changeSelection");
    });
};

(function() {

    oop.implement(this, EventEmitter);
    this.isEmpty = function() {
        return (this.$isEmpty || (
            this.anchor.row == this.lead.row &&
            this.anchor.column == this.lead.column
        ));
    };
    this.isMultiLine = function() {
        if (this.isEmpty()) {
            return false;
        }

        return this.getRange().isMultiLine();
    };
    this.getCursor = function() {
        return this.lead.getPosition();
    };
    this.setSelectionAnchor = function(row, column) {
        this.anchor.setPosition(row, column);

        if (this.$isEmpty) {
            this.$isEmpty = false;
            this._emit("changeSelection");
        }
    };
    this.getSelectionAnchor = function() {
        if (this.$isEmpty)
            return this.getSelectionLead();
        else
            return this.anchor.getPosition();
    };
    this.getSelectionLead = function() {
        return this.lead.getPosition();
    };
    this.shiftSelection = function(columns) {
        if (this.$isEmpty) {
            this.moveCursorTo(this.lead.row, this.lead.column + columns);
            return;
        }

        var anchor = this.getSelectionAnchor();
        var lead = this.getSelectionLead();

        var isBackwards = this.isBackwards();

        if (!isBackwards || anchor.column !== 0)
            this.setSelectionAnchor(anchor.row, anchor.column + columns);

        if (isBackwards || lead.column !== 0) {
            this.$moveSelection(function() {
                this.moveCursorTo(lead.row, lead.column + columns);
            });
        }
    };
    this.isBackwards = function() {
        var anchor = this.anchor;
        var lead = this.lead;
        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));
    };
    this.getRange = function() {
        var anchor = this.anchor;
        var lead = this.lead;

        if (this.isEmpty())
            return Range.fromPoints(lead, lead);

        if (this.isBackwards()) {
            return Range.fromPoints(lead, anchor);
        }
        else {
            return Range.fromPoints(anchor, lead);
        }
    };
    this.clearSelection = function() {
        if (!this.$isEmpty) {
            this.$isEmpty = true;
            this._emit("changeSelection");
        }
    };
    this.selectAll = function() {
        var lastRow = this.doc.getLength() - 1;
        this.setSelectionAnchor(0, 0);
        this.moveCursorTo(lastRow, this.doc.getLine(lastRow).length);
    };
    this.setRange =
    this.setSelectionRange = function(range, reverse) {
        if (reverse) {
            this.setSelectionAnchor(range.end.row, range.end.column);
            this.selectTo(range.start.row, range.start.column);
        } else {
            this.setSelectionAnchor(range.start.row, range.start.column);
            this.selectTo(range.end.row, range.end.column);
        }
        if (this.getRange().isEmpty())
            this.$isEmpty = true;
        this.$desiredColumn = null;
    };

    this.$moveSelection = function(mover) {
        var lead = this.lead;
        if (this.$isEmpty)
            this.setSelectionAnchor(lead.row, lead.column);

        mover.call(this);
    };
    this.selectTo = function(row, column) {
        this.$moveSelection(function() {
            this.moveCursorTo(row, column);
        });
    };
    this.selectToPosition = function(pos) {
        this.$moveSelection(function() {
            this.moveCursorToPosition(pos);
        });
    };
    this.moveTo = function(row, column) {
        this.clearSelection();
        this.moveCursorTo(row, column);
    };
    this.moveToPosition = function(pos) {
        this.clearSelection();
        this.moveCursorToPosition(pos);
    };
    this.selectUp = function() {
        this.$moveSelection(this.moveCursorUp);
    };
    this.selectDown = function() {
        this.$moveSelection(this.moveCursorDown);
    };
    this.selectRight = function() {
        this.$moveSelection(this.moveCursorRight);
    };
    this.selectLeft = function() {
        this.$moveSelection(this.moveCursorLeft);
    };
    this.selectLineStart = function() {
        this.$moveSelection(this.moveCursorLineStart);
    };
    this.selectLineEnd = function() {
        this.$moveSelection(this.moveCursorLineEnd);
    };
    this.selectFileEnd = function() {
        this.$moveSelection(this.moveCursorFileEnd);
    };
    this.selectFileStart = function() {
        this.$moveSelection(this.moveCursorFileStart);
    };
    this.selectWordRight = function() {
        this.$moveSelection(this.moveCursorWordRight);
    };
    this.selectWordLeft = function() {
        this.$moveSelection(this.moveCursorWordLeft);
    };
    this.getWordRange = function(row, column) {
        if (typeof column == "undefined") {
            var cursor = row || this.lead;
            row = cursor.row;
            column = cursor.column;
        }
        return this.session.getWordRange(row, column);
    };
    this.selectWord = function() {
        this.setSelectionRange(this.getWordRange());
    };
    this.selectAWord = function() {
        var cursor = this.getCursor();
        var range = this.session.getAWordRange(cursor.row, cursor.column);
        this.setSelectionRange(range);
    };

    this.getLineRange = function(row, excludeLastChar) {
        var rowStart = typeof row == "number" ? row : this.lead.row;
        var rowEnd;

        var foldLine = this.session.getFoldLine(rowStart);
        if (foldLine) {
            rowStart = foldLine.start.row;
            rowEnd = foldLine.end.row;
        } else {
            rowEnd = rowStart;
        }
        if (excludeLastChar === true)
            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);
        else
            return new Range(rowStart, 0, rowEnd + 1, 0);
    };
    this.selectLine = function() {
        this.setSelectionRange(this.getLineRange());
    };
    this.moveCursorUp = function() {
        this.moveCursorBy(-1, 0);
    };
    this.moveCursorDown = function() {
        this.moveCursorBy(1, 0);
    };
    this.moveCursorLeft = function() {
        var cursor = this.lead.getPosition(),
            fold;

        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {
            this.moveCursorTo(fold.start.row, fold.start.column);
        } else if (cursor.column === 0) {
            if (cursor.row > 0) {
                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);
            }
        }
        else {
            var tabSize = this.session.getTabSize();
            if (this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(cursor.column-tabSize, cursor.column).split(" ").length-1 == tabSize)
                this.moveCursorBy(0, -tabSize);
            else
                this.moveCursorBy(0, -1);
        }
    };
    this.moveCursorRight = function() {
        var cursor = this.lead.getPosition(),
            fold;
        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {
            this.moveCursorTo(fold.end.row, fold.end.column);
        }
        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {
            if (this.lead.row < this.doc.getLength() - 1) {
                this.moveCursorTo(this.lead.row + 1, 0);
            }
        }
        else {
            var tabSize = this.session.getTabSize();
            var cursor = this.lead;
            if (this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(cursor.column, cursor.column+tabSize).split(" ").length-1 == tabSize)
                this.moveCursorBy(0, tabSize);
            else
                this.moveCursorBy(0, 1);
        }
    };
    this.moveCursorLineStart = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var screenRow = this.session.documentToScreenRow(row, column);
        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);
        var beforeCursor = this.session.getDisplayLine(
            row, null, firstColumnPosition.row,
            firstColumnPosition.column
        );

        var leadingSpace = beforeCursor.match(/^\s*/);
        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)
            firstColumnPosition.column += leadingSpace[0].length;
        this.moveCursorToPosition(firstColumnPosition);
    };
    this.moveCursorLineEnd = function() {
        var lead = this.lead;
        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);
        if (this.lead.column == lineEnd.column) {
            var line = this.session.getLine(lineEnd.row);
            if (lineEnd.column == line.length) {
                var textEnd = line.search(/\s+$/);
                if (textEnd > 0)
                    lineEnd.column = textEnd;
            }
        }

        this.moveCursorTo(lineEnd.row, lineEnd.column);
    };
    this.moveCursorFileEnd = function() {
        var row = this.doc.getLength() - 1;
        var column = this.doc.getLine(row).length;
        this.moveCursorTo(row, column);
    };
    this.moveCursorFileStart = function() {
        this.moveCursorTo(0, 0);
    };
    this.moveCursorLongWordRight = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var line = this.doc.getLine(row);
        var rightOfCursor = line.substring(column);

        var match;
        this.session.nonTokenRe.lastIndex = 0;
        this.session.tokenRe.lastIndex = 0;
        var fold = this.session.getFoldAt(row, column, 1);
        if (fold) {
            this.moveCursorTo(fold.end.row, fold.end.column);
            return;
        }
        if (match = this.session.nonTokenRe.exec(rightOfCursor)) {
            column += this.session.nonTokenRe.lastIndex;
            this.session.nonTokenRe.lastIndex = 0;
            rightOfCursor = line.substring(column);
        }
        if (column >= line.length) {
            this.moveCursorTo(row, line.length);
            this.moveCursorRight();
            if (row < this.doc.getLength() - 1)
                this.moveCursorWordRight();
            return;
        }
        if (match = this.session.tokenRe.exec(rightOfCursor)) {
            column += this.session.tokenRe.lastIndex;
            this.session.tokenRe.lastIndex = 0;
        }

        this.moveCursorTo(row, column);
    };
    this.moveCursorLongWordLeft = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var fold;
        if (fold = this.session.getFoldAt(row, column, -1)) {
            this.moveCursorTo(fold.start.row, fold.start.column);
            return;
        }

        var str = this.session.getFoldStringAt(row, column, -1);
        if (str == null) {
            str = this.doc.getLine(row).substring(0, column);
        }

        var leftOfCursor = lang.stringReverse(str);
        var match;
        this.session.nonTokenRe.lastIndex = 0;
        this.session.tokenRe.lastIndex = 0;
        if (match = this.session.nonTokenRe.exec(leftOfCursor)) {
            column -= this.session.nonTokenRe.lastIndex;
            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);
            this.session.nonTokenRe.lastIndex = 0;
        }
        if (column <= 0) {
            this.moveCursorTo(row, 0);
            this.moveCursorLeft();
            if (row > 0)
                this.moveCursorWordLeft();
            return;
        }
        if (match = this.session.tokenRe.exec(leftOfCursor)) {
            column -= this.session.tokenRe.lastIndex;
            this.session.tokenRe.lastIndex = 0;
        }

        this.moveCursorTo(row, column);
    };

    this.$shortWordEndIndex = function(rightOfCursor) {
        var match, index = 0, ch;
        var whitespaceRe = /\s/;
        var tokenRe = this.session.tokenRe;

        tokenRe.lastIndex = 0;
        if (match = this.session.tokenRe.exec(rightOfCursor)) {
            index = this.session.tokenRe.lastIndex;
        } else {
            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))
                index ++;

            if (index < 1) {
                tokenRe.lastIndex = 0;
                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {
                    tokenRe.lastIndex = 0;
                    index ++;
                    if (whitespaceRe.test(ch)) {
                        if (index > 2) {
                            index--;
                            break;
                        } else {
                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))
                                index ++;
                            if (index > 2)
                                break;
                        }
                    }
                }
            }
        }
        tokenRe.lastIndex = 0;

        return index;
    };

    this.moveCursorShortWordRight = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var line = this.doc.getLine(row);
        var rightOfCursor = line.substring(column);

        var fold = this.session.getFoldAt(row, column, 1);
        if (fold)
            return this.moveCursorTo(fold.end.row, fold.end.column);

        if (column == line.length) {
            var l = this.doc.getLength();
            do {
                row++;
                rightOfCursor = this.doc.getLine(row);
            } while (row < l && /^\s*$/.test(rightOfCursor));

            if (!/^\s+/.test(rightOfCursor))
                rightOfCursor = "";
            column = 0;
        }

        var index = this.$shortWordEndIndex(rightOfCursor);

        this.moveCursorTo(row, column + index);
    };

    this.moveCursorShortWordLeft = function() {
        var row = this.lead.row;
        var column = this.lead.column;

        var fold;
        if (fold = this.session.getFoldAt(row, column, -1))
            return this.moveCursorTo(fold.start.row, fold.start.column);

        var line = this.session.getLine(row).substring(0, column);
        if (column === 0) {
            do {
                row--;
                line = this.doc.getLine(row);
            } while (row > 0 && /^\s*$/.test(line));

            column = line.length;
            if (!/\s+$/.test(line))
                line = "";
        }

        var leftOfCursor = lang.stringReverse(line);
        var index = this.$shortWordEndIndex(leftOfCursor);

        return this.moveCursorTo(row, column - index);
    };

    this.moveCursorWordRight = function() {
        if (this.session.$selectLongWords)
            this.moveCursorLongWordRight();
        else
            this.moveCursorShortWordRight();
    };

    this.moveCursorWordLeft = function() {
        if (this.session.$selectLongWords)
            this.moveCursorLongWordLeft();
        else
            this.moveCursorShortWordLeft();
    };
    this.moveCursorBy = function(rows, chars) {
        var screenPos = this.session.documentToScreenPosition(
            this.lead.row,
            this.lead.column
        );

        if (chars === 0) {
            if (this.$desiredColumn)
                screenPos.column = this.$desiredColumn;
            else
                this.$desiredColumn = screenPos.column;
        }

        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column);
        
        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {
            if (this.session.lineWidgets && this.session.lineWidgets[docPos.row]) {
                if (docPos.row > 0 || rows > 0)
                    docPos.row++;
            }
        }
        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);
    };
    this.moveCursorToPosition = function(position) {
        this.moveCursorTo(position.row, position.column);
    };
    this.moveCursorTo = function(row, column, keepDesiredColumn) {
        var fold = this.session.getFoldAt(row, column, 1);
        if (fold) {
            row = fold.start.row;
            column = fold.start.column;
        }

        this.$keepDesiredColumnOnChange = true;
        this.lead.setPosition(row, column);
        this.$keepDesiredColumnOnChange = false;

        if (!keepDesiredColumn)
            this.$desiredColumn = null;
    };
    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {
        var pos = this.session.screenToDocumentPosition(row, column);
        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);
    };
    this.detach = function() {
        this.lead.detach();
        this.anchor.detach();
        this.session = this.doc = null;
    };

    this.fromOrientedRange = function(range) {
        this.setSelectionRange(range, range.cursor == range.start);
        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;
    };

    this.toOrientedRange = function(range) {
        var r = this.getRange();
        if (range) {
            range.start.column = r.start.column;
            range.start.row = r.start.row;
            range.end.column = r.end.column;
            range.end.row = r.end.row;
        } else {
            range = r;
        }

        range.cursor = this.isBackwards() ? range.start : range.end;
        range.desiredColumn = this.$desiredColumn;
        return range;
    };
    this.getRangeOfMovements = function(func) {
        var start = this.getCursor();
        try {
            func(this);
            var end = this.getCursor();
            return Range.fromPoints(start,end);
        } catch(e) {
            return Range.fromPoints(start,start);
        } finally {
            this.moveCursorToPosition(start);
        }
    };

    this.toJSON = function() {
        if (this.rangeCount) {
            var data = this.ranges.map(function(r) {
                var r1 = r.clone();
                r1.isBackwards = r.cursor == r.start;
                return r1;
            });
        } else {
            var data = this.getRange();
            data.isBackwards = this.isBackwards();
        }
        return data;
    };

    this.fromJSON = function(data) {
        if (data.start == undefined) {
            if (this.rangeList) {
                this.toSingleRange(data[0]);
                for (var i = data.length; i--; ) {
                    var r = Range.fromPoints(data[i].start, data[i].end);
                    if (data[i].isBackwards)
                        r.cursor = r.start;
                    this.addRange(r, true);
                }
                return;
            } else
                data = data[0];
        }
        if (this.rangeList)
            this.toSingleRange(data);
        this.setSelectionRange(data, data.isBackwards);
    };

    this.isEqual = function(data) {
        if ((data.length || this.rangeCount) && data.length != this.rangeCount)
            return false;
        if (!data.length || !this.ranges)
            return this.getRange().isEqual(data);

        for (var i = this.ranges.length; i--; ) {
            if (!this.ranges[i].isEqual(data[i]))
                return false;
        }
        return true;
    };

}).call(Selection.prototype);

exports.Selection = Selection;
});

ace.define("ace/tokenizer",["require","exports","module","ace/config"], function(acequire, exports, module) {
"use strict";

var config = acequire("./config");
var MAX_TOKEN_COUNT = 2000;
var Tokenizer = function(rules) {
    this.states = rules;

    this.regExps = {};
    this.matchMappings = {};
    for (var key in this.states) {
        var state = this.states[key];
        var ruleRegExps = [];
        var matchTotal = 0;
        var mapping = this.matchMappings[key] = {defaultToken: "text"};
        var flag = "g";

        var splitterRurles = [];
        for (var i = 0; i < state.length; i++) {
            var rule = state[i];
            if (rule.defaultToken)
                mapping.defaultToken = rule.defaultToken;
            if (rule.caseInsensitive)
                flag = "gi";
            if (rule.regex == null)
                continue;

            if (rule.regex instanceof RegExp)
                rule.regex = rule.regex.toString().slice(1, -1);
            var adjustedregex = rule.regex;
            var matchcount = new RegExp("(?:(" + adjustedregex + ")|(.))").exec("a").length - 2;
            if (Array.isArray(rule.token)) {
                if (rule.token.length == 1 || matchcount == 1) {
                    rule.token = rule.token[0];
                } else if (matchcount - 1 != rule.token.length) {
                    this.reportError("number of classes and regexp groups doesn't match", { 
                        rule: rule,
                        groupCount: matchcount - 1
                    });
                    rule.token = rule.token[0];
                } else {
                    rule.tokenArray = rule.token;
                    rule.token = null;
                    rule.onMatch = this.$arrayTokens;
                }
            } else if (typeof rule.token == "function" && !rule.onMatch) {
                if (matchcount > 1)
                    rule.onMatch = this.$applyToken;
                else
                    rule.onMatch = rule.token;
            }

            if (matchcount > 1) {
                if (/\\\d/.test(rule.regex)) {
                    adjustedregex = rule.regex.replace(/\\([0-9]+)/g, function(match, digit) {
                        return "\\" + (parseInt(digit, 10) + matchTotal + 1);
                    });
                } else {
                    matchcount = 1;
                    adjustedregex = this.removeCapturingGroups(rule.regex);
                }
                if (!rule.splitRegex && typeof rule.token != "string")
                    splitterRurles.push(rule); // flag will be known only at the very end
            }

            mapping[matchTotal] = i;
            matchTotal += matchcount;

            ruleRegExps.push(adjustedregex);
            if (!rule.onMatch)
                rule.onMatch = null;
        }
        
        if (!ruleRegExps.length) {
            mapping[0] = 0;
            ruleRegExps.push("$");
        }
        
        splitterRurles.forEach(function(rule) {
            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);
        }, this);

        this.regExps[key] = new RegExp("(" + ruleRegExps.join(")|(") + ")|($)", flag);
    }
};

(function() {
    this.$setMaxTokenCount = function(m) {
        MAX_TOKEN_COUNT = m | 0;
    };
    
    this.$applyToken = function(str) {
        var values = this.splitRegex.exec(str).slice(1);
        var types = this.token.apply(this, values);
        if (typeof types === "string")
            return [{type: types, value: str}];

        var tokens = [];
        for (var i = 0, l = types.length; i < l; i++) {
            if (values[i])
                tokens[tokens.length] = {
                    type: types[i],
                    value: values[i]
                };
        }
        return tokens;
    };

    this.$arrayTokens = function(str) {
        if (!str)
            return [];
        var values = this.splitRegex.exec(str);
        if (!values)
            return "text";
        var tokens = [];
        var types = this.tokenArray;
        for (var i = 0, l = types.length; i < l; i++) {
            if (values[i + 1])
                tokens[tokens.length] = {
                    type: types[i],
                    value: values[i + 1]
                };
        }
        return tokens;
    };

    this.removeCapturingGroups = function(src) {
        var r = src.replace(
            /\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,
            function(x, y) {return y ? "(?:" : x;}
        );
        return r;
    };

    this.createSplitterRegexp = function(src, flag) {
        if (src.indexOf("(?=") != -1) {
            var stack = 0;
            var inChClass = false;
            var lastCapture = {};
            src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(
                m, esc, parenOpen, parenClose, square, index
            ) {
                if (inChClass) {
                    inChClass = square != "]";
                } else if (square) {
                    inChClass = true;
                } else if (parenClose) {
                    if (stack == lastCapture.stack) {
                        lastCapture.end = index+1;
                        lastCapture.stack = -1;
                    }
                    stack--;
                } else if (parenOpen) {
                    stack++;
                    if (parenOpen.length != 1) {
                        lastCapture.stack = stack
                        lastCapture.start = index;
                    }
                }
                return m;
            });

            if (lastCapture.end != null && /^\)*$/.test(src.substr(lastCapture.end)))
                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);
        }
        if (src.charAt(0) != "^") src = "^" + src;
        if (src.charAt(src.length - 1) != "$") src += "$";
        
        return new RegExp(src, (flag||"").replace("g", ""));
    };
    this.getLineTokens = function(line, startState) {
        if (startState && typeof startState != "string") {
            var stack = startState.slice(0);
            startState = stack[0];
            if (startState === "#tmp") {
                stack.shift()
                startState = stack.shift()
            }
        } else
            var stack = [];

        var currentState = startState || "start";
        var state = this.states[currentState];
        if (!state) {
            currentState = "start";
            state = this.states[currentState];
        }
        var mapping = this.matchMappings[currentState];
        var re = this.regExps[currentState];
        re.lastIndex = 0;

        var match, tokens = [];
        var lastIndex = 0;
        var matchAttempts = 0;

        var token = {type: null, value: ""};

        while (match = re.exec(line)) {
            var type = mapping.defaultToken;
            var rule = null;
            var value = match[0];
            var index = re.lastIndex;

            if (index - value.length > lastIndex) {
                var skipped = line.substring(lastIndex, index - value.length);
                if (token.type == type) {
                    token.value += skipped;
                } else {
                    if (token.type)
                        tokens.push(token);
                    token = {type: type, value: skipped};
                }
            }

            for (var i = 0; i < match.length-2; i++) {
                if (match[i + 1] === undefined)
                    continue;

                rule = state[mapping[i]];

                if (rule.onMatch)
                    type = rule.onMatch(value, currentState, stack);
                else
                    type = rule.token;

                if (rule.next) {
                    if (typeof rule.next == "string") {
                        currentState = rule.next;
                    } else {
                        currentState = rule.next(currentState, stack);
                    }
                    
                    state = this.states[currentState];
                    if (!state) {
                        this.reportError("state doesn't exist", currentState);
                        currentState = "start";
                        state = this.states[currentState];
                    }
                    mapping = this.matchMappings[currentState];
                    lastIndex = index;
                    re = this.regExps[currentState];
                    re.lastIndex = index;
                }
                break;
            }

            if (value) {
                if (typeof type === "string") {
                    if ((!rule || rule.merge !== false) && token.type === type) {
                        token.value += value;
                    } else {
                        if (token.type)
                            tokens.push(token);
                        token = {type: type, value: value};
                    }
                } else if (type) {
                    if (token.type)
                        tokens.push(token);
                    token = {type: null, value: ""};
                    for (var i = 0; i < type.length; i++)
                        tokens.push(type[i]);
                }
            }

            if (lastIndex == line.length)
                break;

            lastIndex = index;

            if (matchAttempts++ > MAX_TOKEN_COUNT) {
                if (matchAttempts > 2 * line.length) {
                    this.reportError("infinite loop with in ace tokenizer", {
                        startState: startState,
                        line: line
                    });
                }
                while (lastIndex < line.length) {
                    if (token.type)
                        tokens.push(token);
                    token = {
                        value: line.substring(lastIndex, lastIndex += 2000),
                        type: "overflow"
                    };
                }
                currentState = "start";
                stack = [];
                break;
            }
        }

        if (token.type)
            tokens.push(token);
        
        if (stack.length > 1) {
            if (stack[0] !== currentState)
                stack.unshift("#tmp", currentState);
        }
        return {
            tokens : tokens,
            state : stack.length ? stack : currentState
        };
    };
    
    this.reportError = config.reportError;
    
}).call(Tokenizer.prototype);

exports.Tokenizer = Tokenizer;
});

ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"], function(acequire, exports, module) {
"use strict";

var lang = acequire("../lib/lang");

var TextHighlightRules = function() {

    this.$rules = {
        "start" : [{
            token : "empty_line",
            regex : '^$'
        }, {
            defaultToken : "text"
        }]
    };
};

(function() {

    this.addRules = function(rules, prefix) {
        if (!prefix) {
            for (var key in rules)
                this.$rules[key] = rules[key];
            return;
        }
        for (var key in rules) {
            var state = rules[key];
            for (var i = 0; i < state.length; i++) {
                var rule = state[i];
                if (rule.next || rule.onMatch) {
                    if (typeof rule.next == "string") {
                        if (rule.next.indexOf(prefix) !== 0)
                            rule.next = prefix + rule.next;
                    }
                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)
                        rule.nextState = prefix + rule.nextState;
                }
            }
            this.$rules[prefix + key] = state;
        }
    };

    this.getRules = function() {
        return this.$rules;
    };

    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {
        var embedRules = typeof HighlightRules == "function"
            ? new HighlightRules().getRules()
            : HighlightRules;
        if (states) {
            for (var i = 0; i < states.length; i++)
                states[i] = prefix + states[i];
        } else {
            states = [];
            for (var key in embedRules)
                states.push(prefix + key);
        }

        this.addRules(embedRules, prefix);

        if (escapeRules) {
            var addRules = Array.prototype[append ? "push" : "unshift"];
            for (var i = 0; i < states.length; i++)
                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));
        }

        if (!this.$embeds)
            this.$embeds = [];
        this.$embeds.push(prefix);
    };

    this.getEmbeds = function() {
        return this.$embeds;
    };

    var pushState = function(currentState, stack) {
        if (currentState != "start" || stack.length)
            stack.unshift(this.nextState, currentState);
        return this.nextState;
    };
    var popState = function(currentState, stack) {
        stack.shift();
        return stack.shift() || "start";
    };

    this.normalizeRules = function() {
        var id = 0;
        var rules = this.$rules;
        function processState(key) {
            var state = rules[key];
            state.processed = true;
            for (var i = 0; i < state.length; i++) {
                var rule = state[i];
                if (!rule.regex && rule.start) {
                    rule.regex = rule.start;
                    if (!rule.next)
                        rule.next = [];
                    rule.next.push({
                        defaultToken: rule.token
                    }, {
                        token: rule.token + ".end",
                        regex: rule.end || rule.start,
                        next: "pop"
                    });
                    rule.token = rule.token + ".start";
                    rule.push = true;
                }
                var next = rule.next || rule.push;
                if (next && Array.isArray(next)) {
                    var stateName = rule.stateName;
                    if (!stateName)  {
                        stateName = rule.token;
                        if (typeof stateName != "string")
                            stateName = stateName[0] || "";
                        if (rules[stateName])
                            stateName += id++;
                    }
                    rules[stateName] = next;
                    rule.next = stateName;
                    processState(stateName);
                } else if (next == "pop") {
                    rule.next = popState;
                }

                if (rule.push) {
                    rule.nextState = rule.next || rule.push;
                    rule.next = pushState;
                    delete rule.push;
                }

                if (rule.rules) {
                    for (var r in rule.rules) {
                        if (rules[r]) {
                            if (rules[r].push)
                                rules[r].push.apply(rules[r], rule.rules[r]);
                        } else {
                            rules[r] = rule.rules[r];
                        }
                    }
                }
                if (rule.include || typeof rule == "string") {
                    var includeName = rule.include || rule;
                    var toInsert = rules[includeName];
                } else if (Array.isArray(rule))
                    toInsert = rule;

                if (toInsert) {
                    var args = [i, 1].concat(toInsert);
                    if (rule.noEscape)
                        args = args.filter(function(x) {return !x.next;});
                    state.splice.apply(state, args);
                    i--;
                    toInsert = null;
                }
                
                if (rule.keywordMap) {
                    rule.token = this.createKeywordMapper(
                        rule.keywordMap, rule.defaultToken || "text", rule.caseInsensitive
                    );
                    delete rule.defaultToken;
                }
            }
        }
        Object.keys(rules).forEach(processState, this);
    };

    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {
        var keywords = Object.create(null);
        Object.keys(map).forEach(function(className) {
            var a = map[className];
            if (ignoreCase)
                a = a.toLowerCase();
            var list = a.split(splitChar || "|");
            for (var i = list.length; i--; )
                keywords[list[i]] = className;
        });
        if (Object.getPrototypeOf(keywords)) {
            keywords.__proto__ = null;
        }
        this.$keywordList = Object.keys(keywords);
        map = null;
        return ignoreCase
            ? function(value) {return keywords[value.toLowerCase()] || defaultToken }
            : function(value) {return keywords[value] || defaultToken };
    };

    this.getKeywords = function() {
        return this.$keywords;
    };

}).call(TextHighlightRules.prototype);

exports.TextHighlightRules = TextHighlightRules;
});

ace.define("ace/mode/behaviour",["require","exports","module"], function(acequire, exports, module) {
"use strict";

var Behaviour = function() {
   this.$behaviours = {};
};

(function () {

    this.add = function (name, action, callback) {
        switch (undefined) {
          case this.$behaviours:
              this.$behaviours = {};
          case this.$behaviours[name]:
              this.$behaviours[name] = {};
        }
        this.$behaviours[name][action] = callback;
    }
    
    this.addBehaviours = function (behaviours) {
        for (var key in behaviours) {
            for (var action in behaviours[key]) {
                this.add(key, action, behaviours[key][action]);
            }
        }
    }
    
    this.remove = function (name) {
        if (this.$behaviours && this.$behaviours[name]) {
            delete this.$behaviours[name];
        }
    }
    
    this.inherit = function (mode, filter) {
        if (typeof mode === "function") {
            var behaviours = new mode().getBehaviours(filter);
        } else {
            var behaviours = mode.getBehaviours(filter);
        }
        this.addBehaviours(behaviours);
    }
    
    this.getBehaviours = function (filter) {
        if (!filter) {
            return this.$behaviours;
        } else {
            var ret = {}
            for (var i = 0; i < filter.length; i++) {
                if (this.$behaviours[filter[i]]) {
                    ret[filter[i]] = this.$behaviours[filter[i]];
                }
            }
            return ret;
        }
    }

}).call(Behaviour.prototype);

exports.Behaviour = Behaviour;
});

ace.define("ace/unicode",["require","exports","module"], function(acequire, exports, module) {
"use strict";
exports.packages = {};

addUnicodePackage({
    L:  "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
    Ll: "0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
    Lu: "0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
    Lt: "01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",
    Lm: "02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",
    Lo: "01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
    M:  "0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
    Mn: "0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
    Mc: "0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
    Me: "0488048906DE20DD-20E020E2-20E4A670-A672",
    N:  "0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
    Nd: "0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
    Nl: "16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",
    No: "00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
    P:  "0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
    Pd: "002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",
    Ps: "0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",
    Pe: "0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
    Pi: "00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",
    Pf: "00BB2019201D203A2E032E052E0A2E0D2E1D2E21",
    Pc: "005F203F20402054FE33FE34FE4D-FE4FFF3F",
    Po: "0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
    S:  "0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
    Sm: "002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",
    Sc: "002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",
    Sk: "005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
    So: "00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
    Z:  "002000A01680180E2000-200A20282029202F205F3000",
    Zs: "002000A01680180E2000-200A202F205F3000",
    Zl: "2028",
    Zp: "2029",
    C:  "0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
    Cc: "0000-001F007F-009F",
    Cf: "00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",
    Co: "E000-F8FF",
    Cs: "D800-DFFF",
    Cn: "03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"
});

function addUnicodePackage (pack) {
    var codePoint = /\w{4}/g;
    for (var name in pack)
        exports.packages[name] = pack[name].replace(codePoint, "\\u$&");
}

});

ace.define("ace/token_iterator",["require","exports","module"], function(acequire, exports, module) {
"use strict";
var TokenIterator = function(session, initialRow, initialColumn) {
    this.$session = session;
    this.$row = initialRow;
    this.$rowTokens = session.getTokens(initialRow);

    var token = session.getTokenAt(initialRow, initialColumn);
    this.$tokenIndex = token ? token.index : -1;
};

(function() { 
    this.stepBackward = function() {
        this.$tokenIndex -= 1;
        
        while (this.$tokenIndex < 0) {
            this.$row -= 1;
            if (this.$row < 0) {
                this.$row = 0;
                return null;
            }
                
            this.$rowTokens = this.$session.getTokens(this.$row);
            this.$tokenIndex = this.$rowTokens.length - 1;
        }
            
        return this.$rowTokens[this.$tokenIndex];
    };   
    this.stepForward = function() {
        this.$tokenIndex += 1;
        var rowCount;
        while (this.$tokenIndex >= this.$rowTokens.length) {
            this.$row += 1;
            if (!rowCount)
                rowCount = this.$session.getLength();
            if (this.$row >= rowCount) {
                this.$row = rowCount - 1;
                return null;
            }

            this.$rowTokens = this.$session.getTokens(this.$row);
            this.$tokenIndex = 0;
        }
            
        return this.$rowTokens[this.$tokenIndex];
    };      
    this.getCurrentToken = function () {
        return this.$rowTokens[this.$tokenIndex];
    };      
    this.getCurrentTokenRow = function () {
        return this.$row;
    };     
    this.getCurrentTokenColumn = function() {
        var rowTokens = this.$rowTokens;
        var tokenIndex = this.$tokenIndex;
        var column = rowTokens[tokenIndex].start;
        if (column !== undefined)
            return column;
            
        column = 0;
        while (tokenIndex > 0) {
            tokenIndex -= 1;
            column += rowTokens[tokenIndex].value.length;
        }
        
        return column;  
    };
    this.getCurrentTokenPosition = function() {
        return {row: this.$row, column: this.getCurrentTokenColumn()};
    };
            
}).call(TokenIterator.prototype);

exports.TokenIterator = TokenIterator;
});

ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"], function(acequire, exports, module) {
"use strict";

var Tokenizer = acequire("../tokenizer").Tokenizer;
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;
var Behaviour = acequire("./behaviour").Behaviour;
var unicode = acequire("../unicode");
var lang = acequire("../lib/lang");
var TokenIterator = acequire("../token_iterator").TokenIterator;
var Range = acequire("../range").Range;

var Mode = function() {
    this.HighlightRules = TextHighlightRules;
    this.$behaviour = new Behaviour();
};

(function() {

    this.tokenRe = new RegExp("^["
        + unicode.packages.L
        + unicode.packages.Mn + unicode.packages.Mc
        + unicode.packages.Nd
        + unicode.packages.Pc + "\\$_]+", "g"
    );

    this.nonTokenRe = new RegExp("^(?:[^"
        + unicode.packages.L
        + unicode.packages.Mn + unicode.packages.Mc
        + unicode.packages.Nd
        + unicode.packages.Pc + "\\$_]|\\s])+", "g"
    );

    this.getTokenizer = function() {
        if (!this.$tokenizer) {
            this.$highlightRules = this.$highlightRules || new this.HighlightRules();
            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());
        }
        return this.$tokenizer;
    };

    this.lineCommentStart = "";
    this.blockComment = "";

    this.toggleCommentLines = function(state, session, startRow, endRow) {
        var doc = session.doc;

        var ignoreBlankLines = true;
        var shouldRemove = true;
        var minIndent = Infinity;
        var tabSize = session.getTabSize();
        var insertAtTabStop = false;

        if (!this.lineCommentStart) {
            if (!this.blockComment)
                return false;
            var lineCommentStart = this.blockComment.start;
            var lineCommentEnd = this.blockComment.end;
            var regexpStart = new RegExp("^(\\s*)(?:" + lang.escapeRegExp(lineCommentStart) + ")");
            var regexpEnd = new RegExp("(?:" + lang.escapeRegExp(lineCommentEnd) + ")\\s*$");

            var comment = function(line, i) {
                if (testRemove(line, i))
                    return;
                if (!ignoreBlankLines || /\S/.test(line)) {
                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);
                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);
                }
            };

            var uncomment = function(line, i) {
                var m;
                if (m = line.match(regexpEnd))
                    doc.removeInLine(i, line.length - m[0].length, line.length);
                if (m = line.match(regexpStart))
                    doc.removeInLine(i, m[1].length, m[0].length);
            };

            var testRemove = function(line, row) {
                if (regexpStart.test(line))
                    return true;
                var tokens = session.getTokens(row);
                for (var i = 0; i < tokens.length; i++) {
                    if (tokens[i].type === "comment")
                        return true;
                }
            };
        } else {
            if (Array.isArray(this.lineCommentStart)) {
                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join("|");
                var lineCommentStart = this.lineCommentStart[0];
            } else {
                var regexpStart = lang.escapeRegExp(this.lineCommentStart);
                var lineCommentStart = this.lineCommentStart;
            }
            regexpStart = new RegExp("^(\\s*)(?:" + regexpStart + ") ?");
            
            insertAtTabStop = session.getUseSoftTabs();

            var uncomment = function(line, i) {
                var m = line.match(regexpStart);
                if (!m) return;
                var start = m[1].length, end = m[0].length;
                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == " ")
                    end--;
                doc.removeInLine(i, start, end);
            };
            var commentWithSpace = lineCommentStart + " ";
            var comment = function(line, i) {
                if (!ignoreBlankLines || /\S/.test(line)) {
                    if (shouldInsertSpace(line, minIndent, minIndent))
                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);
                    else
                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);
                }
            };
            var testRemove = function(line, i) {
                return regexpStart.test(line);
            };
            
            var shouldInsertSpace = function(line, before, after) {
                var spaces = 0;
                while (before-- && line.charAt(before) == " ")
                    spaces++;
                if (spaces % tabSize != 0)
                    return false;
                var spaces = 0;
                while (line.charAt(after++) == " ")
                    spaces++;
                if (tabSize > 2)
                    return spaces % tabSize != tabSize - 1;
                else
                    return spaces % tabSize == 0;
                return true;
            };
        }

        function iter(fun) {
            for (var i = startRow; i <= endRow; i++)
                fun(doc.getLine(i), i);
        }


        var minEmptyLength = Infinity;
        iter(function(line, i) {
            var indent = line.search(/\S/);
            if (indent !== -1) {
                if (indent < minIndent)
                    minIndent = indent;
                if (shouldRemove && !testRemove(line, i))
                    shouldRemove = false;
            } else if (minEmptyLength > line.length) {
                minEmptyLength = line.length;
            }
        });

        if (minIndent == Infinity) {
            minIndent = minEmptyLength;
            ignoreBlankLines = false;
            shouldRemove = false;
        }

        if (insertAtTabStop && minIndent % tabSize != 0)
            minIndent = Math.floor(minIndent / tabSize) * tabSize;

        iter(shouldRemove ? uncomment : comment);
    };

    this.toggleBlockComment = function(state, session, range, cursor) {
        var comment = this.blockComment;
        if (!comment)
            return;
        if (!comment.start && comment[0])
            comment = comment[0];

        var iterator = new TokenIterator(session, cursor.row, cursor.column);
        var token = iterator.getCurrentToken();

        var sel = session.selection;
        var initialRange = session.selection.toOrientedRange();
        var startRow, colDiff;

        if (token && /comment/.test(token.type)) {
            var startRange, endRange;
            while (token && /comment/.test(token.type)) {
                var i = token.value.indexOf(comment.start);
                if (i != -1) {
                    var row = iterator.getCurrentTokenRow();
                    var column = iterator.getCurrentTokenColumn() + i;
                    startRange = new Range(row, column, row, column + comment.start.length);
                    break;
                }
                token = iterator.stepBackward();
            }

            var iterator = new TokenIterator(session, cursor.row, cursor.column);
            var token = iterator.getCurrentToken();
            while (token && /comment/.test(token.type)) {
                var i = token.value.indexOf(comment.end);
                if (i != -1) {
                    var row = iterator.getCurrentTokenRow();
                    var column = iterator.getCurrentTokenColumn() + i;
                    endRange = new Range(row, column, row, column + comment.end.length);
                    break;
                }
                token = iterator.stepForward();
            }
            if (endRange)
                session.remove(endRange);
            if (startRange) {
                session.remove(startRange);
                startRow = startRange.start.row;
                colDiff = -comment.start.length;
            }
        } else {
            colDiff = comment.start.length;
            startRow = range.start.row;
            session.insert(range.end, comment.end);
            session.insert(range.start, comment.start);
        }
        if (initialRange.start.row == startRow)
            initialRange.start.column += colDiff;
        if (initialRange.end.row == startRow)
            initialRange.end.column += colDiff;
        session.selection.fromOrientedRange(initialRange);
    };

    this.getNextLineIndent = function(state, line, tab) {
        return this.$getIndent(line);
    };

    this.checkOutdent = function(state, line, input) {
        return false;
    };

    this.autoOutdent = function(state, doc, row) {
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

    this.createWorker = function(session) {
        return null;
    };

    this.createModeDelegates = function (mapping) {
        this.$embeds = [];
        this.$modes = {};
        for (var i in mapping) {
            if (mapping[i]) {
                this.$embeds.push(i);
                this.$modes[i] = new mapping[i]();
            }
        }

        var delegations = ["toggleBlockComment", "toggleCommentLines", "getNextLineIndent", 
            "checkOutdent", "autoOutdent", "transformAction", "getCompletions"];

        for (var i = 0; i < delegations.length; i++) {
            (function(scope) {
              var functionName = delegations[i];
              var defaultHandler = scope[functionName];
              scope[delegations[i]] = function() {
                  return this.$delegator(functionName, arguments, defaultHandler);
              };
            }(this));
        }
    };

    this.$delegator = function(method, args, defaultHandler) {
        var state = args[0];
        if (typeof state != "string")
            state = state[0];
        for (var i = 0; i < this.$embeds.length; i++) {
            if (!this.$modes[this.$embeds[i]]) continue;

            var split = state.split(this.$embeds[i]);
            if (!split[0] && split[1]) {
                args[0] = split[1];
                var mode = this.$modes[this.$embeds[i]];
                return mode[method].apply(mode, args);
            }
        }
        var ret = defaultHandler.apply(this, args);
        return defaultHandler ? ret : undefined;
    };

    this.transformAction = function(state, action, editor, session, param) {
        if (this.$behaviour) {
            var behaviours = this.$behaviour.getBehaviours();
            for (var key in behaviours) {
                if (behaviours[key][action]) {
                    var ret = behaviours[key][action].apply(this, arguments);
                    if (ret) {
                        return ret;
                    }
                }
            }
        }
    };
    
    this.getKeywords = function(append) {
        if (!this.completionKeywords) {
            var rules = this.$tokenizer.rules;
            var completionKeywords = [];
            for (var rule in rules) {
                var ruleItr = rules[rule];
                for (var r = 0, l = ruleItr.length; r < l; r++) {
                    if (typeof ruleItr[r].token === "string") {
                        if (/keyword|support|storage/.test(ruleItr[r].token))
                            completionKeywords.push(ruleItr[r].regex);
                    }
                    else if (typeof ruleItr[r].token === "object") {
                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    
                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {
                                var rule = ruleItr[r].regex.match(/\(.+?\)/g)[a];
                                completionKeywords.push(rule.substr(1, rule.length - 2));
                            }
                        }
                    }
                }
            }
            this.completionKeywords = completionKeywords;
        }
        if (!append)
            return this.$keywordList;
        return completionKeywords.concat(this.$keywordList || []);
    };
    
    this.$createKeywordList = function() {
        if (!this.$highlightRules)
            this.getTokenizer();
        return this.$keywordList = this.$highlightRules.$keywordList || [];
    };

    this.getCompletions = function(state, session, pos, prefix) {
        var keywords = this.$keywordList || this.$createKeywordList();
        return keywords.map(function(word) {
            return {
                name: word,
                value: word,
                score: 0,
                meta: "keyword"
            };
        });
    };

    this.$id = "ace/mode/text";
}).call(Mode.prototype);

exports.Mode = Mode;
});

ace.define("ace/apply_delta",["require","exports","module"], function(acequire, exports, module) {
"use strict";

function throwDeltaError(delta, errorText){
    console.log("Invalid Delta:", delta);
    throw "Invalid Delta: " + errorText;
}

function positionInDocument(docLines, position) {
    return position.row    >= 0 && position.row    <  docLines.length &&
           position.column >= 0 && position.column <= docLines[position.row].length;
}

function validateDelta(docLines, delta) {
    if (delta.action != "insert" && delta.action != "remove")
        throwDeltaError(delta, "delta.action must be 'insert' or 'remove'");
    if (!(delta.lines instanceof Array))
        throwDeltaError(delta, "delta.lines must be an Array");
    if (!delta.start || !delta.end)
       throwDeltaError(delta, "delta.start/end must be an present");
    var start = delta.start;
    if (!positionInDocument(docLines, delta.start))
        throwDeltaError(delta, "delta.start must be contained in document");
    var end = delta.end;
    if (delta.action == "remove" && !positionInDocument(docLines, end))
        throwDeltaError(delta, "delta.end must contained in document for 'remove' actions");
    var numRangeRows = end.row - start.row;
    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));
    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)
        throwDeltaError(delta, "delta.range must match delta lines");
}

exports.applyDelta = function(docLines, delta, doNotValidate) {
    
    var row = delta.start.row;
    var startColumn = delta.start.column;
    var line = docLines[row] || "";
    switch (delta.action) {
        case "insert":
            var lines = delta.lines;
            if (lines.length === 1) {
                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);
            } else {
                var args = [row, 1].concat(delta.lines);
                docLines.splice.apply(docLines, args);
                docLines[row] = line.substring(0, startColumn) + docLines[row];
                docLines[row + delta.lines.length - 1] += line.substring(startColumn);
            }
            break;
        case "remove":
            var endColumn = delta.end.column;
            var endRow = delta.end.row;
            if (row === endRow) {
                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);
            } else {
                docLines.splice(
                    row, endRow - row + 1,
                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)
                );
            }
            break;
    }
}
});

ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;

var Anchor = exports.Anchor = function(doc, row, column) {
    this.$onChange = this.onChange.bind(this);
    this.attach(doc);
    
    if (typeof column == "undefined")
        this.setPosition(row.row, row.column);
    else
        this.setPosition(row, column);
};

(function() {

    oop.implement(this, EventEmitter);
    this.getPosition = function() {
        return this.$clipPositionToDocument(this.row, this.column);
    };
    this.getDocument = function() {
        return this.document;
    };
    this.$insertRight = false;
    this.onChange = function(delta) {
        if (delta.start.row == delta.end.row && delta.start.row != this.row)
            return;

        if (delta.start.row > this.row)
            return;
            
        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);
        this.setPosition(point.row, point.column, true);
    };
    
    function $pointsInOrder(point1, point2, equalPointsInOrder) {
        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;
        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);
    }
            
    function $getTransformedPoint(delta, point, moveIfEqual) {
        var deltaIsInsert = delta.action == "insert";
        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);
        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);
        var deltaStart = delta.start;
        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.
        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {
            return {
                row: point.row,
                column: point.column
            };
        }
        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {
            return {
                row: point.row + deltaRowShift,
                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)
            };
        }
        
        return {
            row: deltaStart.row,
            column: deltaStart.column
        };
    }
    this.setPosition = function(row, column, noClip) {
        var pos;
        if (noClip) {
            pos = {
                row: row,
                column: column
            };
        } else {
            pos = this.$clipPositionToDocument(row, column);
        }

        if (this.row == pos.row && this.column == pos.column)
            return;

        var old = {
            row: this.row,
            column: this.column
        };

        this.row = pos.row;
        this.column = pos.column;
        this._signal("change", {
            old: old,
            value: pos
        });
    };
    this.detach = function() {
        this.document.removeEventListener("change", this.$onChange);
    };
    this.attach = function(doc) {
        this.document = doc || this.document;
        this.document.on("change", this.$onChange);
    };
    this.$clipPositionToDocument = function(row, column) {
        var pos = {};

        if (row >= this.document.getLength()) {
            pos.row = Math.max(0, this.document.getLength() - 1);
            pos.column = this.document.getLine(pos.row).length;
        }
        else if (row < 0) {
            pos.row = 0;
            pos.column = 0;
        }
        else {
            pos.row = row;
            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));
        }

        if (column < 0)
            pos.column = 0;

        return pos;
    };

}).call(Anchor.prototype);

});

ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var applyDelta = acequire("./apply_delta").applyDelta;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var Range = acequire("./range").Range;
var Anchor = acequire("./anchor").Anchor;

var Document = function(textOrLines) {
    this.$lines = [""];
    if (textOrLines.length === 0) {
        this.$lines = [""];
    } else if (Array.isArray(textOrLines)) {
        this.insertMergedLines({row: 0, column: 0}, textOrLines);
    } else {
        this.insert({row: 0, column:0}, textOrLines);
    }
};

(function() {

    oop.implement(this, EventEmitter);
    this.setValue = function(text) {
        var len = this.getLength() - 1;
        this.remove(new Range(0, 0, len, this.getLine(len).length));
        this.insert({row: 0, column: 0}, text);
    };
    this.getValue = function() {
        return this.getAllLines().join(this.getNewLineCharacter());
    };
    this.createAnchor = function(row, column) {
        return new Anchor(this, row, column);
    };
    if ("aaa".split(/a/).length === 0) {
        this.$split = function(text) {
            return text.replace(/\r\n|\r/g, "\n").split("\n");
        };
    } else {
        this.$split = function(text) {
            return text.split(/\r\n|\r|\n/);
        };
    }


    this.$detectNewLine = function(text) {
        var match = text.match(/^.*?(\r\n|\r|\n)/m);
        this.$autoNewLine = match ? match[1] : "\n";
        this._signal("changeNewLineMode");
    };
    this.getNewLineCharacter = function() {
        switch (this.$newLineMode) {
          case "windows":
            return "\r\n";
          case "unix":
            return "\n";
          default:
            return this.$autoNewLine || "\n";
        }
    };

    this.$autoNewLine = "";
    this.$newLineMode = "auto";
    this.setNewLineMode = function(newLineMode) {
        if (this.$newLineMode === newLineMode)
            return;

        this.$newLineMode = newLineMode;
        this._signal("changeNewLineMode");
    };
    this.getNewLineMode = function() {
        return this.$newLineMode;
    };
    this.isNewLine = function(text) {
        return (text == "\r\n" || text == "\r" || text == "\n");
    };
    this.getLine = function(row) {
        return this.$lines[row] || "";
    };
    this.getLines = function(firstRow, lastRow) {
        return this.$lines.slice(firstRow, lastRow + 1);
    };
    this.getAllLines = function() {
        return this.getLines(0, this.getLength());
    };
    this.getLength = function() {
        return this.$lines.length;
    };
    this.getTextRange = function(range) {
        return this.getLinesForRange(range).join(this.getNewLineCharacter());
    };
    this.getLinesForRange = function(range) {
        var lines;
        if (range.start.row === range.end.row) {
            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];
        } else {
            lines = this.getLines(range.start.row, range.end.row);
            lines[0] = (lines[0] || "").substring(range.start.column);
            var l = lines.length - 1;
            if (range.end.row - range.start.row == l)
                lines[l] = lines[l].substring(0, range.end.column);
        }
        return lines;
    };
    this.insertLines = function(row, lines) {
        console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead.");
        return this.insertFullLines(row, lines);
    };
    this.removeLines = function(firstRow, lastRow) {
        console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead.");
        return this.removeFullLines(firstRow, lastRow);
    };
    this.insertNewLine = function(position) {
        console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead.");
        return this.insertMergedLines(position, ["", ""]);
    };
    this.insert = function(position, text) {
        if (this.getLength() <= 1)
            this.$detectNewLine(text);
        
        return this.insertMergedLines(position, this.$split(text));
    };
    this.insertInLine = function(position, text) {
        var start = this.clippedPos(position.row, position.column);
        var end = this.pos(position.row, position.column + text.length);
        
        this.applyDelta({
            start: start,
            end: end,
            action: "insert",
            lines: [text]
        }, true);
        
        return this.clonePos(end);
    };
    
    this.clippedPos = function(row, column) {
        var length = this.getLength();
        if (row === undefined) {
            row = length;
        } else if (row < 0) {
            row = 0;
        } else if (row >= length) {
            row = length - 1;
            column = undefined;
        }
        var line = this.getLine(row);
        if (column == undefined)
            column = line.length;
        column = Math.min(Math.max(column, 0), line.length);
        return {row: row, column: column};
    };
    
    this.clonePos = function(pos) {
        return {row: pos.row, column: pos.column};
    };
    
    this.pos = function(row, column) {
        return {row: row, column: column};
    };
    
    this.$clipPosition = function(position) {
        var length = this.getLength();
        if (position.row >= length) {
            position.row = Math.max(0, length - 1);
            position.column = this.getLine(length - 1).length;
        } else {
            position.row = Math.max(0, position.row);
            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);
        }
        return position;
    };
    this.insertFullLines = function(row, lines) {
        row = Math.min(Math.max(row, 0), this.getLength());
        var column = 0;
        if (row < this.getLength()) {
            lines = lines.concat([""]);
            column = 0;
        } else {
            lines = [""].concat(lines);
            row--;
            column = this.$lines[row].length;
        }
        this.insertMergedLines({row: row, column: column}, lines);
    };    
    this.insertMergedLines = function(position, lines) {
        var start = this.clippedPos(position.row, position.column);
        var end = {
            row: start.row + lines.length - 1,
            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length
        };
        
        this.applyDelta({
            start: start,
            end: end,
            action: "insert",
            lines: lines
        });
        
        return this.clonePos(end);
    };
    this.remove = function(range) {
        var start = this.clippedPos(range.start.row, range.start.column);
        var end = this.clippedPos(range.end.row, range.end.column);
        this.applyDelta({
            start: start,
            end: end,
            action: "remove",
            lines: this.getLinesForRange({start: start, end: end})
        });
        return this.clonePos(start);
    };
    this.removeInLine = function(row, startColumn, endColumn) {
        var start = this.clippedPos(row, startColumn);
        var end = this.clippedPos(row, endColumn);
        
        this.applyDelta({
            start: start,
            end: end,
            action: "remove",
            lines: this.getLinesForRange({start: start, end: end})
        }, true);
        
        return this.clonePos(start);
    };
    this.removeFullLines = function(firstRow, lastRow) {
        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);
        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);
        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;
        var deleteLastNewLine  = lastRow  < this.getLength() - 1;
        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );
        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );
        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );
        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); 
        var range = new Range(startRow, startCol, endRow, endCol);
        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);
        
        this.applyDelta({
            start: range.start,
            end: range.end,
            action: "remove",
            lines: this.getLinesForRange(range)
        });
        return deletedLines;
    };
    this.removeNewLine = function(row) {
        if (row < this.getLength() - 1 && row >= 0) {
            this.applyDelta({
                start: this.pos(row, this.getLine(row).length),
                end: this.pos(row + 1, 0),
                action: "remove",
                lines: ["", ""]
            });
        }
    };
    this.replace = function(range, text) {
        if (!(range instanceof Range))
            range = Range.fromPoints(range.start, range.end);
        if (text.length === 0 && range.isEmpty())
            return range.start;
        if (text == this.getTextRange(range))
            return range.end;

        this.remove(range);
        var end;
        if (text) {
            end = this.insert(range.start, text);
        }
        else {
            end = range.start;
        }
        
        return end;
    };
    this.applyDeltas = function(deltas) {
        for (var i=0; i<deltas.length; i++) {
            this.applyDelta(deltas[i]);
        }
    };
    this.revertDeltas = function(deltas) {
        for (var i=deltas.length-1; i>=0; i--) {
            this.revertDelta(deltas[i]);
        }
    };
    this.applyDelta = function(delta, doNotValidate) {
        var isInsert = delta.action == "insert";
        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]
            : !Range.comparePoints(delta.start, delta.end)) {
            return;
        }
        
        if (isInsert && delta.lines.length > 20000)
            this.$splitAndapplyLargeDelta(delta, 20000);
        applyDelta(this.$lines, delta, doNotValidate);
        this._signal("change", delta);
    };
    
    this.$splitAndapplyLargeDelta = function(delta, MAX) {
        var lines = delta.lines;
        var l = lines.length;
        var row = delta.start.row; 
        var column = delta.start.column;
        var from = 0, to = 0;
        do {
            from = to;
            to += MAX - 1;
            var chunk = lines.slice(from, to);
            if (to > l) {
                delta.lines = chunk;
                delta.start.row = row + from;
                delta.start.column = column;
                break;
            }
            chunk.push("");
            this.applyDelta({
                start: this.pos(row + from, column),
                end: this.pos(row + to, column = 0),
                action: delta.action,
                lines: chunk
            }, true);
        } while(true);
    };
    this.revertDelta = function(delta) {
        this.applyDelta({
            start: this.clonePos(delta.start),
            end: this.clonePos(delta.end),
            action: (delta.action == "insert" ? "remove" : "insert"),
            lines: delta.lines.slice()
        });
    };
    this.indexToPosition = function(index, startRow) {
        var lines = this.$lines || this.getAllLines();
        var newlineLength = this.getNewLineCharacter().length;
        for (var i = startRow || 0, l = lines.length; i < l; i++) {
            index -= lines[i].length + newlineLength;
            if (index < 0)
                return {row: i, column: index + lines[i].length + newlineLength};
        }
        return {row: l-1, column: lines[l-1].length};
    };
    this.positionToIndex = function(pos, startRow) {
        var lines = this.$lines || this.getAllLines();
        var newlineLength = this.getNewLineCharacter().length;
        var index = 0;
        var row = Math.min(pos.row, lines.length);
        for (var i = startRow || 0; i < row; ++i)
            index += lines[i].length + newlineLength;

        return index + pos.column;
    };

}).call(Document.prototype);

exports.Document = Document;
});

ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;

var BackgroundTokenizer = function(tokenizer, editor) {
    this.running = false;
    this.lines = [];
    this.states = [];
    this.currentLine = 0;
    this.tokenizer = tokenizer;

    var self = this;

    this.$worker = function() {
        if (!self.running) { return; }

        var workerStart = new Date();
        var currentLine = self.currentLine;
        var endLine = -1;
        var doc = self.doc;

        var startLine = currentLine;
        while (self.lines[currentLine])
            currentLine++;
        
        var len = doc.getLength();
        var processedLines = 0;
        self.running = false;
        while (currentLine < len) {
            self.$tokenizeRow(currentLine);
            endLine = currentLine;
            do {
                currentLine++;
            } while (self.lines[currentLine]);
            processedLines ++;
            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {                
                self.running = setTimeout(self.$worker, 20);
                break;
            }
        }
        self.currentLine = currentLine;
        
        if (startLine <= endLine)
            self.fireUpdateEvent(startLine, endLine);
    };
};

(function(){

    oop.implement(this, EventEmitter);
    this.setTokenizer = function(tokenizer) {
        this.tokenizer = tokenizer;
        this.lines = [];
        this.states = [];

        this.start(0);
    };
    this.setDocument = function(doc) {
        this.doc = doc;
        this.lines = [];
        this.states = [];

        this.stop();
    };
    this.fireUpdateEvent = function(firstRow, lastRow) {
        var data = {
            first: firstRow,
            last: lastRow
        };
        this._signal("update", {data: data});
    };
    this.start = function(startRow) {
        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());
        this.lines.splice(this.currentLine, this.lines.length);
        this.states.splice(this.currentLine, this.states.length);

        this.stop();
        this.running = setTimeout(this.$worker, 700);
    };
    
    this.scheduleStart = function() {
        if (!this.running)
            this.running = setTimeout(this.$worker, 700);
    }

    this.$updateOnChange = function(delta) {
        var startRow = delta.start.row;
        var len = delta.end.row - startRow;

        if (len === 0) {
            this.lines[startRow] = null;
        } else if (delta.action == "remove") {
            this.lines.splice(startRow, len + 1, null);
            this.states.splice(startRow, len + 1, null);
        } else {
            var args = Array(len + 1);
            args.unshift(startRow, 1);
            this.lines.splice.apply(this.lines, args);
            this.states.splice.apply(this.states, args);
        }

        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());

        this.stop();
    };
    this.stop = function() {
        if (this.running)
            clearTimeout(this.running);
        this.running = false;
    };
    this.getTokens = function(row) {
        return this.lines[row] || this.$tokenizeRow(row);
    };
    this.getState = function(row) {
        if (this.currentLine == row)
            this.$tokenizeRow(row);
        return this.states[row] || "start";
    };

    this.$tokenizeRow = function(row) {
        var line = this.doc.getLine(row);
        var state = this.states[row - 1];

        var data = this.tokenizer.getLineTokens(line, state, row);

        if (this.states[row] + "" !== data.state + "") {
            this.states[row] = data.state;
            this.lines[row + 1] = null;
            if (this.currentLine > row + 1)
                this.currentLine = row + 1;
        } else if (this.currentLine == row) {
            this.currentLine = row + 1;
        }

        return this.lines[row] = data.tokens;
    };

}).call(BackgroundTokenizer.prototype);

exports.BackgroundTokenizer = BackgroundTokenizer;
});

ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"], function(acequire, exports, module) {
"use strict";

var lang = acequire("./lib/lang");
var oop = acequire("./lib/oop");
var Range = acequire("./range").Range;

var SearchHighlight = function(regExp, clazz, type) {
    this.setRegexp(regExp);
    this.clazz = clazz;
    this.type = type || "text";
};

(function() {
    this.MAX_RANGES = 500;
    
    this.setRegexp = function(regExp) {
        if (this.regExp+"" == regExp+"")
            return;
        this.regExp = regExp;
        this.cache = [];
    };

    this.update = function(html, markerLayer, session, config) {
        if (!this.regExp)
            return;
        var start = config.firstRow, end = config.lastRow;

        for (var i = start; i <= end; i++) {
            var ranges = this.cache[i];
            if (ranges == null) {
                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);
                if (ranges.length > this.MAX_RANGES)
                    ranges = ranges.slice(0, this.MAX_RANGES);
                ranges = ranges.map(function(match) {
                    return new Range(i, match.offset, i, match.offset + match.length);
                });
                this.cache[i] = ranges.length ? ranges : "";
            }

            for (var j = ranges.length; j --; ) {
                markerLayer.drawSingleLineMarker(
                    html, ranges[j].toScreenRange(session), this.clazz, config);
            }
        }
    };

}).call(SearchHighlight.prototype);

exports.SearchHighlight = SearchHighlight;
});

ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;
function FoldLine(foldData, folds) {
    this.foldData = foldData;
    if (Array.isArray(folds)) {
        this.folds = folds;
    } else {
        folds = this.folds = [ folds ];
    }

    var last = folds[folds.length - 1];
    this.range = new Range(folds[0].start.row, folds[0].start.column,
                           last.end.row, last.end.column);
    this.start = this.range.start;
    this.end   = this.range.end;

    this.folds.forEach(function(fold) {
        fold.setFoldLine(this);
    }, this);
}

(function() {
    this.shiftRow = function(shift) {
        this.start.row += shift;
        this.end.row += shift;
        this.folds.forEach(function(fold) {
            fold.start.row += shift;
            fold.end.row += shift;
        });
    };

    this.addFold = function(fold) {
        if (fold.sameRow) {
            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {
                throw new Error("Can't add a fold to this FoldLine as it has no connection");
            }
            this.folds.push(fold);
            this.folds.sort(function(a, b) {
                return -a.range.compareEnd(b.start.row, b.start.column);
            });
            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {
                this.end.row = fold.end.row;
                this.end.column =  fold.end.column;
            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {
                this.start.row = fold.start.row;
                this.start.column = fold.start.column;
            }
        } else if (fold.start.row == this.end.row) {
            this.folds.push(fold);
            this.end.row = fold.end.row;
            this.end.column = fold.end.column;
        } else if (fold.end.row == this.start.row) {
            this.folds.unshift(fold);
            this.start.row = fold.start.row;
            this.start.column = fold.start.column;
        } else {
            throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
        }
        fold.foldLine = this;
    };

    this.containsRow = function(row) {
        return row >= this.start.row && row <= this.end.row;
    };

    this.walk = function(callback, endRow, endColumn) {
        var lastEnd = 0,
            folds = this.folds,
            fold,
            cmp, stop, isNewRow = true;

        if (endRow == null) {
            endRow = this.end.row;
            endColumn = this.end.column;
        }

        for (var i = 0; i < folds.length; i++) {
            fold = folds[i];

            cmp = fold.range.compareStart(endRow, endColumn);
            if (cmp == -1) {
                callback(null, endRow, endColumn, lastEnd, isNewRow);
                return;
            }

            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);
            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);
            if (stop || cmp === 0) {
                return;
            }
            isNewRow = !fold.sameRow;
            lastEnd = fold.end.column;
        }
        callback(null, endRow, endColumn, lastEnd, isNewRow);
    };

    this.getNextFoldTo = function(row, column) {
        var fold, cmp;
        for (var i = 0; i < this.folds.length; i++) {
            fold = this.folds[i];
            cmp = fold.range.compareEnd(row, column);
            if (cmp == -1) {
                return {
                    fold: fold,
                    kind: "after"
                };
            } else if (cmp === 0) {
                return {
                    fold: fold,
                    kind: "inside"
                };
            }
        }
        return null;
    };

    this.addRemoveChars = function(row, column, len) {
        var ret = this.getNextFoldTo(row, column),
            fold, folds;
        if (ret) {
            fold = ret.fold;
            if (ret.kind == "inside"
                && fold.start.column != column
                && fold.start.row != row)
            {
                window.console && window.console.log(row, column, fold);
            } else if (fold.start.row == row) {
                folds = this.folds;
                var i = folds.indexOf(fold);
                if (i === 0) {
                    this.start.column += len;
                }
                for (i; i < folds.length; i++) {
                    fold = folds[i];
                    fold.start.column += len;
                    if (!fold.sameRow) {
                        return;
                    }
                    fold.end.column += len;
                }
                this.end.column += len;
            }
        }
    };

    this.split = function(row, column) {
        var pos = this.getNextFoldTo(row, column);
        
        if (!pos || pos.kind == "inside")
            return null;
            
        var fold = pos.fold;
        var folds = this.folds;
        var foldData = this.foldData;
        
        var i = folds.indexOf(fold);
        var foldBefore = folds[i - 1];
        this.end.row = foldBefore.end.row;
        this.end.column = foldBefore.end.column;
        folds = folds.splice(i, folds.length - i);

        var newFoldLine = new FoldLine(foldData, folds);
        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);
        return newFoldLine;
    };

    this.merge = function(foldLineNext) {
        var folds = foldLineNext.folds;
        for (var i = 0; i < folds.length; i++) {
            this.addFold(folds[i]);
        }
        var foldData = this.foldData;
        foldData.splice(foldData.indexOf(foldLineNext), 1);
    };

    this.toString = function() {
        var ret = [this.range.toString() + ": [" ];

        this.folds.forEach(function(fold) {
            ret.push("  " + fold.toString());
        });
        ret.push("]");
        return ret.join("\n");
    };

    this.idxToPosition = function(idx) {
        var lastFoldEndColumn = 0;

        for (var i = 0; i < this.folds.length; i++) {
            var fold = this.folds[i];

            idx -= fold.start.column - lastFoldEndColumn;
            if (idx < 0) {
                return {
                    row: fold.start.row,
                    column: fold.start.column + idx
                };
            }

            idx -= fold.placeholder.length;
            if (idx < 0) {
                return fold.start;
            }

            lastFoldEndColumn = fold.end.column;
        }

        return {
            row: this.end.row,
            column: this.end.column + idx
        };
    };
}).call(FoldLine.prototype);

exports.FoldLine = FoldLine;
});

ace.define("ace/range_list",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";
var Range = acequire("./range").Range;
var comparePoints = Range.comparePoints;

var RangeList = function() {
    this.ranges = [];
};

(function() {
    this.comparePoints = comparePoints;

    this.pointIndex = function(pos, excludeEdges, startIndex) {
        var list = this.ranges;

        for (var i = startIndex || 0; i < list.length; i++) {
            var range = list[i];
            var cmpEnd = comparePoints(pos, range.end);
            if (cmpEnd > 0)
                continue;
            var cmpStart = comparePoints(pos, range.start);
            if (cmpEnd === 0)
                return excludeEdges && cmpStart !== 0 ? -i-2 : i;
            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))
                return i;

            return -i-1;
        }
        return -i - 1;
    };

    this.add = function(range) {
        var excludeEdges = !range.isEmpty();
        var startIndex = this.pointIndex(range.start, excludeEdges);
        if (startIndex < 0)
            startIndex = -startIndex - 1;

        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);

        if (endIndex < 0)
            endIndex = -endIndex - 1;
        else
            endIndex++;
        return this.ranges.splice(startIndex, endIndex - startIndex, range);
    };

    this.addList = function(list) {
        var removed = [];
        for (var i = list.length; i--; ) {
            removed.push.apply(removed, this.add(list[i]));
        }
        return removed;
    };

    this.substractPoint = function(pos) {
        var i = this.pointIndex(pos);

        if (i >= 0)
            return this.ranges.splice(i, 1);
    };
    this.merge = function() {
        var removed = [];
        var list = this.ranges;
        
        list = list.sort(function(a, b) {
            return comparePoints(a.start, b.start);
        });
        
        var next = list[0], range;
        for (var i = 1; i < list.length; i++) {
            range = next;
            next = list[i];
            var cmp = comparePoints(range.end, next.start);
            if (cmp < 0)
                continue;

            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())
                continue;

            if (comparePoints(range.end, next.end) < 0) {
                range.end.row = next.end.row;
                range.end.column = next.end.column;
            }

            list.splice(i, 1);
            removed.push(next);
            next = range;
            i--;
        }
        
        this.ranges = list;

        return removed;
    };

    this.contains = function(row, column) {
        return this.pointIndex({row: row, column: column}) >= 0;
    };

    this.containsPoint = function(pos) {
        return this.pointIndex(pos) >= 0;
    };

    this.rangeAtPoint = function(pos) {
        var i = this.pointIndex(pos);
        if (i >= 0)
            return this.ranges[i];
    };


    this.clipRows = function(startRow, endRow) {
        var list = this.ranges;
        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)
            return [];

        var startIndex = this.pointIndex({row: startRow, column: 0});
        if (startIndex < 0)
            startIndex = -startIndex - 1;
        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);
        if (endIndex < 0)
            endIndex = -endIndex - 1;

        var clipped = [];
        for (var i = startIndex; i < endIndex; i++) {
            clipped.push(list[i]);
        }
        return clipped;
    };

    this.removeAll = function() {
        return this.ranges.splice(0, this.ranges.length);
    };

    this.attach = function(session) {
        if (this.session)
            this.detach();

        this.session = session;
        this.onChange = this.$onChange.bind(this);

        this.session.on('change', this.onChange);
    };

    this.detach = function() {
        if (!this.session)
            return;
        this.session.removeListener('change', this.onChange);
        this.session = null;
    };

    this.$onChange = function(delta) {
        if (delta.action == "insert"){
            var start = delta.start;
            var end = delta.end;
        } else {
            var end = delta.start;
            var start = delta.end;
        }
        var startRow = start.row;
        var endRow = end.row;
        var lineDif = endRow - startRow;

        var colDiff = -start.column + end.column;
        var ranges = this.ranges;

        for (var i = 0, n = ranges.length; i < n; i++) {
            var r = ranges[i];
            if (r.end.row < startRow)
                continue;
            if (r.start.row > startRow)
                break;

            if (r.start.row == startRow && r.start.column >= start.column ) {
                if (r.start.column == start.column && this.$insertRight) {
                } else {
                    r.start.column += colDiff;
                    r.start.row += lineDif;
                }
            }
            if (r.end.row == startRow && r.end.column >= start.column) {
                if (r.end.column == start.column && this.$insertRight) {
                    continue;
                }
                if (r.end.column == start.column && colDiff > 0 && i < n - 1) {                
                    if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)
                        r.end.column -= colDiff;
                }
                r.end.column += colDiff;
                r.end.row += lineDif;
            }
        }

        if (lineDif != 0 && i < n) {
            for (; i < n; i++) {
                var r = ranges[i];
                r.start.row += lineDif;
                r.end.row += lineDif;
            }
        }
    };

}).call(RangeList.prototype);

exports.RangeList = RangeList;
});

ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;
var RangeList = acequire("../range_list").RangeList;
var oop = acequire("../lib/oop")
var Fold = exports.Fold = function(range, placeholder) {
    this.foldLine = null;
    this.placeholder = placeholder;
    this.range = range;
    this.start = range.start;
    this.end = range.end;

    this.sameRow = range.start.row == range.end.row;
    this.subFolds = this.ranges = [];
};

oop.inherits(Fold, RangeList);

(function() {

    this.toString = function() {
        return '"' + this.placeholder + '" ' + this.range.toString();
    };

    this.setFoldLine = function(foldLine) {
        this.foldLine = foldLine;
        this.subFolds.forEach(function(fold) {
            fold.setFoldLine(foldLine);
        });
    };

    this.clone = function() {
        var range = this.range.clone();
        var fold = new Fold(range, this.placeholder);
        this.subFolds.forEach(function(subFold) {
            fold.subFolds.push(subFold.clone());
        });
        fold.collapseChildren = this.collapseChildren;
        return fold;
    };

    this.addSubFold = function(fold) {
        if (this.range.isEqual(fold))
            return;

        if (!this.range.containsRange(fold))
            throw new Error("A fold can't intersect already existing fold" + fold.range + this.range);
        consumeRange(fold, this.start);

        var row = fold.start.row, column = fold.start.column;
        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {
            cmp = this.subFolds[i].range.compare(row, column);
            if (cmp != 1)
                break;
        }
        var afterStart = this.subFolds[i];

        if (cmp == 0)
            return afterStart.addSubFold(fold);
        var row = fold.range.end.row, column = fold.range.end.column;
        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {
            cmp = this.subFolds[j].range.compare(row, column);
            if (cmp != 1)
                break;
        }
        var afterEnd = this.subFolds[j];

        if (cmp == 0)
            throw new Error("A fold can't intersect already existing fold" + fold.range + this.range);

        var consumedFolds = this.subFolds.splice(i, j - i, fold);
        fold.setFoldLine(this.foldLine);

        return fold;
    };
    
    this.restoreRange = function(range) {
        return restoreRange(range, this.start);
    };

}).call(Fold.prototype);

function consumePoint(point, anchor) {
    point.row -= anchor.row;
    if (point.row == 0)
        point.column -= anchor.column;
}
function consumeRange(range, anchor) {
    consumePoint(range.start, anchor);
    consumePoint(range.end, anchor);
}
function restorePoint(point, anchor) {
    if (point.row == 0)
        point.column += anchor.column;
    point.row += anchor.row;
}
function restoreRange(range, anchor) {
    restorePoint(range.start, anchor);
    restorePoint(range.end, anchor);
}

});

ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;
var FoldLine = acequire("./fold_line").FoldLine;
var Fold = acequire("./fold").Fold;
var TokenIterator = acequire("../token_iterator").TokenIterator;

function Folding() {
    this.getFoldAt = function(row, column, side) {
        var foldLine = this.getFoldLine(row);
        if (!foldLine)
            return null;

        var folds = foldLine.folds;
        for (var i = 0; i < folds.length; i++) {
            var fold = folds[i];
            if (fold.range.contains(row, column)) {
                if (side == 1 && fold.range.isEnd(row, column)) {
                    continue;
                } else if (side == -1 && fold.range.isStart(row, column)) {
                    continue;
                }
                return fold;
            }
        }
    };
    this.getFoldsInRange = function(range) {
        var start = range.start;
        var end = range.end;
        var foldLines = this.$foldData;
        var foundFolds = [];

        start.column += 1;
        end.column -= 1;

        for (var i = 0; i < foldLines.length; i++) {
            var cmp = foldLines[i].range.compareRange(range);
            if (cmp == 2) {
                continue;
            }
            else if (cmp == -2) {
                break;
            }

            var folds = foldLines[i].folds;
            for (var j = 0; j < folds.length; j++) {
                var fold = folds[j];
                cmp = fold.range.compareRange(range);
                if (cmp == -2) {
                    break;
                } else if (cmp == 2) {
                    continue;
                } else
                if (cmp == 42) {
                    break;
                }
                foundFolds.push(fold);
            }
        }
        start.column -= 1;
        end.column += 1;

        return foundFolds;
    };

    this.getFoldsInRangeList = function(ranges) {
        if (Array.isArray(ranges)) {
            var folds = [];
            ranges.forEach(function(range) {
                folds = folds.concat(this.getFoldsInRange(range));
            }, this);
        } else {
            var folds = this.getFoldsInRange(ranges);
        }
        return folds;
    };
    this.getAllFolds = function() {
        var folds = [];
        var foldLines = this.$foldData;
        
        for (var i = 0; i < foldLines.length; i++)
            for (var j = 0; j < foldLines[i].folds.length; j++)
                folds.push(foldLines[i].folds[j]);

        return folds;
    };
    this.getFoldStringAt = function(row, column, trim, foldLine) {
        foldLine = foldLine || this.getFoldLine(row);
        if (!foldLine)
            return null;

        var lastFold = {
            end: { column: 0 }
        };
        var str, fold;
        for (var i = 0; i < foldLine.folds.length; i++) {
            fold = foldLine.folds[i];
            var cmp = fold.range.compareEnd(row, column);
            if (cmp == -1) {
                str = this
                    .getLine(fold.start.row)
                    .substring(lastFold.end.column, fold.start.column);
                break;
            }
            else if (cmp === 0) {
                return null;
            }
            lastFold = fold;
        }
        if (!str)
            str = this.getLine(fold.start.row).substring(lastFold.end.column);

        if (trim == -1)
            return str.substring(0, column - lastFold.end.column);
        else if (trim == 1)
            return str.substring(column - lastFold.end.column);
        else
            return str;
    };

    this.getFoldLine = function(docRow, startFoldLine) {
        var foldData = this.$foldData;
        var i = 0;
        if (startFoldLine)
            i = foldData.indexOf(startFoldLine);
        if (i == -1)
            i = 0;
        for (i; i < foldData.length; i++) {
            var foldLine = foldData[i];
            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {
                return foldLine;
            } else if (foldLine.end.row > docRow) {
                return null;
            }
        }
        return null;
    };
    this.getNextFoldLine = function(docRow, startFoldLine) {
        var foldData = this.$foldData;
        var i = 0;
        if (startFoldLine)
            i = foldData.indexOf(startFoldLine);
        if (i == -1)
            i = 0;
        for (i; i < foldData.length; i++) {
            var foldLine = foldData[i];
            if (foldLine.end.row >= docRow) {
                return foldLine;
            }
        }
        return null;
    };

    this.getFoldedRowCount = function(first, last) {
        var foldData = this.$foldData, rowCount = last-first+1;
        for (var i = 0; i < foldData.length; i++) {
            var foldLine = foldData[i],
                end = foldLine.end.row,
                start = foldLine.start.row;
            if (end >= last) {
                if (start < last) {
                    if (start >= first)
                        rowCount -= last-start;
                    else
                        rowCount = 0; // in one fold
                }
                break;
            } else if (end >= first){
                if (start >= first) // fold inside range
                    rowCount -=  end-start;
                else
                    rowCount -=  end-first+1;
            }
        }
        return rowCount;
    };

    this.$addFoldLine = function(foldLine) {
        this.$foldData.push(foldLine);
        this.$foldData.sort(function(a, b) {
            return a.start.row - b.start.row;
        });
        return foldLine;
    };
    this.addFold = function(placeholder, range) {
        var foldData = this.$foldData;
        var added = false;
        var fold;
        
        if (placeholder instanceof Fold)
            fold = placeholder;
        else {
            fold = new Fold(range, placeholder);
            fold.collapseChildren = range.collapseChildren;
        }
        this.$clipRangeToDocument(fold.range);

        var startRow = fold.start.row;
        var startColumn = fold.start.column;
        var endRow = fold.end.row;
        var endColumn = fold.end.column;
        if (!(startRow < endRow || 
            startRow == endRow && startColumn <= endColumn - 2))
            throw new Error("The range has to be at least 2 characters width");

        var startFold = this.getFoldAt(startRow, startColumn, 1);
        var endFold = this.getFoldAt(endRow, endColumn, -1);
        if (startFold && endFold == startFold)
            return startFold.addSubFold(fold);

        if (startFold && !startFold.range.isStart(startRow, startColumn))
            this.removeFold(startFold);
        
        if (endFold && !endFold.range.isEnd(endRow, endColumn))
            this.removeFold(endFold);
        var folds = this.getFoldsInRange(fold.range);
        if (folds.length > 0) {
            this.removeFolds(folds);
            folds.forEach(function(subFold) {
                fold.addSubFold(subFold);
            });
        }

        for (var i = 0; i < foldData.length; i++) {
            var foldLine = foldData[i];
            if (endRow == foldLine.start.row) {
                foldLine.addFold(fold);
                added = true;
                break;
            } else if (startRow == foldLine.end.row) {
                foldLine.addFold(fold);
                added = true;
                if (!fold.sameRow) {
                    var foldLineNext = foldData[i + 1];
                    if (foldLineNext && foldLineNext.start.row == endRow) {
                        foldLine.merge(foldLineNext);
                        break;
                    }
                }
                break;
            } else if (endRow <= foldLine.start.row) {
                break;
            }
        }

        if (!added)
            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));

        if (this.$useWrapMode)
            this.$updateWrapData(foldLine.start.row, foldLine.start.row);
        else
            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);
        this.$modified = true;
        this._signal("changeFold", { data: fold, action: "add" });

        return fold;
    };

    this.addFolds = function(folds) {
        folds.forEach(function(fold) {
            this.addFold(fold);
        }, this);
    };

    this.removeFold = function(fold) {
        var foldLine = fold.foldLine;
        var startRow = foldLine.start.row;
        var endRow = foldLine.end.row;

        var foldLines = this.$foldData;
        var folds = foldLine.folds;
        if (folds.length == 1) {
            foldLines.splice(foldLines.indexOf(foldLine), 1);
        } else
        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {
            folds.pop();
            foldLine.end.row = folds[folds.length - 1].end.row;
            foldLine.end.column = folds[folds.length - 1].end.column;
        } else
        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {
            folds.shift();
            foldLine.start.row = folds[0].start.row;
            foldLine.start.column = folds[0].start.column;
        } else
        if (fold.sameRow) {
            folds.splice(folds.indexOf(fold), 1);
        } else
        {
            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);
            folds = newFoldLine.folds;
            folds.shift();
            newFoldLine.start.row = folds[0].start.row;
            newFoldLine.start.column = folds[0].start.column;
        }

        if (!this.$updating) {
            if (this.$useWrapMode)
                this.$updateWrapData(startRow, endRow);
            else
                this.$updateRowLengthCache(startRow, endRow);
        }
        this.$modified = true;
        this._signal("changeFold", { data: fold, action: "remove" });
    };

    this.removeFolds = function(folds) {
        var cloneFolds = [];
        for (var i = 0; i < folds.length; i++) {
            cloneFolds.push(folds[i]);
        }

        cloneFolds.forEach(function(fold) {
            this.removeFold(fold);
        }, this);
        this.$modified = true;
    };

    this.expandFold = function(fold) {
        this.removeFold(fold);
        fold.subFolds.forEach(function(subFold) {
            fold.restoreRange(subFold);
            this.addFold(subFold);
        }, this);
        if (fold.collapseChildren > 0) {
            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);
        }
        fold.subFolds = [];
    };

    this.expandFolds = function(folds) {
        folds.forEach(function(fold) {
            this.expandFold(fold);
        }, this);
    };

    this.unfold = function(location, expandInner) {
        var range, folds;
        if (location == null) {
            range = new Range(0, 0, this.getLength(), 0);
            expandInner = true;
        } else if (typeof location == "number")
            range = new Range(location, 0, location, this.getLine(location).length);
        else if ("row" in location)
            range = Range.fromPoints(location, location);
        else
            range = location;
        
        folds = this.getFoldsInRangeList(range);
        if (expandInner) {
            this.removeFolds(folds);
        } else {
            var subFolds = folds;
            while (subFolds.length) {
                this.expandFolds(subFolds);
                subFolds = this.getFoldsInRangeList(range);
            }
        }
        if (folds.length)
            return folds;
    };
    this.isRowFolded = function(docRow, startFoldRow) {
        return !!this.getFoldLine(docRow, startFoldRow);
    };

    this.getRowFoldEnd = function(docRow, startFoldRow) {
        var foldLine = this.getFoldLine(docRow, startFoldRow);
        return foldLine ? foldLine.end.row : docRow;
    };

    this.getRowFoldStart = function(docRow, startFoldRow) {
        var foldLine = this.getFoldLine(docRow, startFoldRow);
        return foldLine ? foldLine.start.row : docRow;
    };

    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {
        if (startRow == null)
            startRow = foldLine.start.row;
        if (startColumn == null)
            startColumn = 0;
        if (endRow == null)
            endRow = foldLine.end.row;
        if (endColumn == null)
            endColumn = this.getLine(endRow).length;
        var doc = this.doc;
        var textLine = "";

        foldLine.walk(function(placeholder, row, column, lastColumn) {
            if (row < startRow)
                return;
            if (row == startRow) {
                if (column < startColumn)
                    return;
                lastColumn = Math.max(startColumn, lastColumn);
            }

            if (placeholder != null) {
                textLine += placeholder;
            } else {
                textLine += doc.getLine(row).substring(lastColumn, column);
            }
        }, endRow, endColumn);
        return textLine;
    };

    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {
        var foldLine = this.getFoldLine(row);

        if (!foldLine) {
            var line;
            line = this.doc.getLine(row);
            return line.substring(startColumn || 0, endColumn || line.length);
        } else {
            return this.getFoldDisplayLine(
                foldLine, row, endColumn, startRow, startColumn);
        }
    };

    this.$cloneFoldData = function() {
        var fd = [];
        fd = this.$foldData.map(function(foldLine) {
            var folds = foldLine.folds.map(function(fold) {
                return fold.clone();
            });
            return new FoldLine(fd, folds);
        });

        return fd;
    };

    this.toggleFold = function(tryToUnfold) {
        var selection = this.selection;
        var range = selection.getRange();
        var fold;
        var bracketPos;

        if (range.isEmpty()) {
            var cursor = range.start;
            fold = this.getFoldAt(cursor.row, cursor.column);

            if (fold) {
                this.expandFold(fold);
                return;
            } else if (bracketPos = this.findMatchingBracket(cursor)) {
                if (range.comparePoint(bracketPos) == 1) {
                    range.end = bracketPos;
                } else {
                    range.start = bracketPos;
                    range.start.column++;
                    range.end.column--;
                }
            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {
                if (range.comparePoint(bracketPos) == 1)
                    range.end = bracketPos;
                else
                    range.start = bracketPos;

                range.start.column++;
            } else {
                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;
            }
        } else {
            var folds = this.getFoldsInRange(range);
            if (tryToUnfold && folds.length) {
                this.expandFolds(folds);
                return;
            } else if (folds.length == 1 ) {
                fold = folds[0];
            }
        }

        if (!fold)
            fold = this.getFoldAt(range.start.row, range.start.column);

        if (fold && fold.range.toString() == range.toString()) {
            this.expandFold(fold);
            return;
        }

        var placeholder = "...";
        if (!range.isMultiLine()) {
            placeholder = this.getTextRange(range);
            if (placeholder.length < 4)
                return;
            placeholder = placeholder.trim().substring(0, 2) + "..";
        }

        this.addFold(placeholder, range);
    };

    this.getCommentFoldRange = function(row, column, dir) {
        var iterator = new TokenIterator(this, row, column);
        var token = iterator.getCurrentToken();
        if (token && /^comment|string/.test(token.type)) {
            var range = new Range();
            var re = new RegExp(token.type.replace(/\..*/, "\\."));
            if (dir != 1) {
                do {
                    token = iterator.stepBackward();
                } while (token && re.test(token.type));
                iterator.stepForward();
            }
            
            range.start.row = iterator.getCurrentTokenRow();
            range.start.column = iterator.getCurrentTokenColumn() + 2;

            iterator = new TokenIterator(this, row, column);
            
            if (dir != -1) {
                do {
                    token = iterator.stepForward();
                } while (token && re.test(token.type));
                token = iterator.stepBackward();
            } else
                token = iterator.getCurrentToken();

            range.end.row = iterator.getCurrentTokenRow();
            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;
            return range;
        }
    };

    this.foldAll = function(startRow, endRow, depth) {
        if (depth == undefined)
            depth = 100000; // JSON.stringify doesn't hanle Infinity
        var foldWidgets = this.foldWidgets;
        if (!foldWidgets)
            return; // mode doesn't support folding
        endRow = endRow || this.getLength();
        startRow = startRow || 0;
        for (var row = startRow; row < endRow; row++) {
            if (foldWidgets[row] == null)
                foldWidgets[row] = this.getFoldWidget(row);
            if (foldWidgets[row] != "start")
                continue;

            var range = this.getFoldWidgetRange(row);
            if (range && range.isMultiLine()
                && range.end.row <= endRow
                && range.start.row >= startRow
            ) {
                row = range.end.row;
                try {
                    var fold = this.addFold("...", range);
                    if (fold)
                        fold.collapseChildren = depth;
                } catch(e) {}
            }
        }
    };
    this.$foldStyles = {
        "manual": 1,
        "markbegin": 1,
        "markbeginend": 1
    };
    this.$foldStyle = "markbegin";
    this.setFoldStyle = function(style) {
        if (!this.$foldStyles[style])
            throw new Error("invalid fold style: " + style + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
        
        if (this.$foldStyle == style)
            return;

        this.$foldStyle = style;
        
        if (style == "manual")
            this.unfold();
        var mode = this.$foldMode;
        this.$setFolding(null);
        this.$setFolding(mode);
    };

    this.$setFolding = function(foldMode) {
        if (this.$foldMode == foldMode)
            return;
            
        this.$foldMode = foldMode;
        
        this.off('change', this.$updateFoldWidgets);
        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);
        this._signal("changeAnnotation");
        
        if (!foldMode || this.$foldStyle == "manual") {
            this.foldWidgets = null;
            return;
        }
        
        this.foldWidgets = [];
        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);
        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);
        
        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);
        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);
        this.on('change', this.$updateFoldWidgets);
        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);
    };

    this.getParentFoldRangeData = function (row, ignoreCurrent) {
        var fw = this.foldWidgets;
        if (!fw || (ignoreCurrent && fw[row]))
            return {};

        var i = row - 1, firstRange;
        while (i >= 0) {
            var c = fw[i];
            if (c == null)
                c = fw[i] = this.getFoldWidget(i);

            if (c == "start") {
                var range = this.getFoldWidgetRange(i);
                if (!firstRange)
                    firstRange = range;
                if (range && range.end.row >= row)
                    break;
            }
            i--;
        }

        return {
            range: i !== -1 && range,
            firstRange: firstRange
        };
    };

    this.onFoldWidgetClick = function(row, e) {
        e = e.domEvent;
        var options = {
            children: e.shiftKey,
            all: e.ctrlKey || e.metaKey,
            siblings: e.altKey
        };
        
        var range = this.$toggleFoldWidget(row, options);
        if (!range) {
            var el = (e.target || e.srcElement);
            if (el && /ace_fold-widget/.test(el.className))
                el.className += " ace_invalid";
        }
    };
    
    this.$toggleFoldWidget = function(row, options) {
        if (!this.getFoldWidget)
            return;
        var type = this.getFoldWidget(row);
        var line = this.getLine(row);

        var dir = type === "end" ? -1 : 1;
        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);

        if (fold) {
            if (options.children || options.all)
                this.removeFold(fold);
            else
                this.expandFold(fold);
            return;
        }

        var range = this.getFoldWidgetRange(row, true);
        if (range && !range.isMultiLine()) {
            fold = this.getFoldAt(range.start.row, range.start.column, 1);
            if (fold && range.isEqual(fold.range)) {
                this.removeFold(fold);
                return;
            }
        }
        
        if (options.siblings) {
            var data = this.getParentFoldRangeData(row);
            if (data.range) {
                var startRow = data.range.start.row + 1;
                var endRow = data.range.end.row;
            }
            this.foldAll(startRow, endRow, options.all ? 10000 : 0);
        } else if (options.children) {
            endRow = range ? range.end.row : this.getLength();
            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);
        } else if (range) {
            if (options.all) 
                range.collapseChildren = 10000;
            this.addFold("...", range);
        }
        
        return range;
    };
    
    
    
    this.toggleFoldWidget = function(toggleParent) {
        var row = this.selection.getCursor().row;
        row = this.getRowFoldStart(row);
        var range = this.$toggleFoldWidget(row, {});
        
        if (range)
            return;
        var data = this.getParentFoldRangeData(row, true);
        range = data.range || data.firstRange;
        
        if (range) {
            row = range.start.row;
            var fold = this.getFoldAt(row, this.getLine(row).length, 1);

            if (fold) {
                this.removeFold(fold);
            } else {
                this.addFold("...", range);
            }
        }
    };

    this.updateFoldWidgets = function(delta) {
        var firstRow = delta.start.row;
        var len = delta.end.row - firstRow;

        if (len === 0) {
            this.foldWidgets[firstRow] = null;
        } else if (delta.action == 'remove') {
            this.foldWidgets.splice(firstRow, len + 1, null);
        } else {
            var args = Array(len + 1);
            args.unshift(firstRow, 1);
            this.foldWidgets.splice.apply(this.foldWidgets, args);
        }
    };
    this.tokenizerUpdateFoldWidgets = function(e) {
        var rows = e.data;
        if (rows.first != rows.last) {
            if (this.foldWidgets.length > rows.first)
                this.foldWidgets.splice(rows.first, this.foldWidgets.length);
        }
    };
}

exports.Folding = Folding;

});

ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"], function(acequire, exports, module) {
"use strict";

var TokenIterator = acequire("../token_iterator").TokenIterator;
var Range = acequire("../range").Range;


function BracketMatch() {

    this.findMatchingBracket = function(position, chr) {
        if (position.column == 0) return null;

        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);
        if (charBeforeCursor == "") return null;

        var match = charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);
        if (!match)
            return null;

        if (match[1])
            return this.$findClosingBracket(match[1], position);
        else
            return this.$findOpeningBracket(match[2], position);
    };
    
    this.getBracketRange = function(pos) {
        var line = this.getLine(pos.row);
        var before = true, range;

        var chr = line.charAt(pos.column-1);
        var match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
        if (!match) {
            chr = line.charAt(pos.column);
            pos = {row: pos.row, column: pos.column + 1};
            match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
            before = false;
        }
        if (!match)
            return null;

        if (match[1]) {
            var bracketPos = this.$findClosingBracket(match[1], pos);
            if (!bracketPos)
                return null;
            range = Range.fromPoints(pos, bracketPos);
            if (!before) {
                range.end.column++;
                range.start.column--;
            }
            range.cursor = range.end;
        } else {
            var bracketPos = this.$findOpeningBracket(match[2], pos);
            if (!bracketPos)
                return null;
            range = Range.fromPoints(bracketPos, pos);
            if (!before) {
                range.start.column++;
                range.end.column--;
            }
            range.cursor = range.start;
        }
        
        return range;
    };

    this.$brackets = {
        ")": "(",
        "(": ")",
        "]": "[",
        "[": "]",
        "{": "}",
        "}": "{"
    };

    this.$findOpeningBracket = function(bracket, position, typeRe) {
        var openBracket = this.$brackets[bracket];
        var depth = 1;

        var iterator = new TokenIterator(this, position.row, position.column);
        var token = iterator.getCurrentToken();
        if (!token)
            token = iterator.stepForward();
        if (!token)
            return;
        
         if (!typeRe){
            typeRe = new RegExp(
                "(\\.?" +
                token.type.replace(".", "\\.").replace("rparen", ".paren")
                    .replace(/\b(?:end)\b/, "(?:start|begin|end)")
                + ")+"
            );
        }
        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;
        var value = token.value;
        
        while (true) {
        
            while (valueIndex >= 0) {
                var chr = value.charAt(valueIndex);
                if (chr == openBracket) {
                    depth -= 1;
                    if (depth == 0) {
                        return {row: iterator.getCurrentTokenRow(),
                            column: valueIndex + iterator.getCurrentTokenColumn()};
                    }
                }
                else if (chr == bracket) {
                    depth += 1;
                }
                valueIndex -= 1;
            }
            do {
                token = iterator.stepBackward();
            } while (token && !typeRe.test(token.type));

            if (token == null)
                break;
                
            value = token.value;
            valueIndex = value.length - 1;
        }
        
        return null;
    };

    this.$findClosingBracket = function(bracket, position, typeRe) {
        var closingBracket = this.$brackets[bracket];
        var depth = 1;

        var iterator = new TokenIterator(this, position.row, position.column);
        var token = iterator.getCurrentToken();
        if (!token)
            token = iterator.stepForward();
        if (!token)
            return;

        if (!typeRe){
            typeRe = new RegExp(
                "(\\.?" +
                token.type.replace(".", "\\.").replace("lparen", ".paren")
                    .replace(/\b(?:start|begin)\b/, "(?:start|begin|end)")
                + ")+"
            );
        }
        var valueIndex = position.column - iterator.getCurrentTokenColumn();

        while (true) {

            var value = token.value;
            var valueLength = value.length;
            while (valueIndex < valueLength) {
                var chr = value.charAt(valueIndex);
                if (chr == closingBracket) {
                    depth -= 1;
                    if (depth == 0) {
                        return {row: iterator.getCurrentTokenRow(),
                            column: valueIndex + iterator.getCurrentTokenColumn()};
                    }
                }
                else if (chr == bracket) {
                    depth += 1;
                }
                valueIndex += 1;
            }
            do {
                token = iterator.stepForward();
            } while (token && !typeRe.test(token.type));

            if (token == null)
                break;

            valueIndex = 0;
        }
        
        return null;
    };
}
exports.BracketMatch = BracketMatch;

});

ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var lang = acequire("./lib/lang");
var config = acequire("./config");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var Selection = acequire("./selection").Selection;
var TextMode = acequire("./mode/text").Mode;
var Range = acequire("./range").Range;
var Document = acequire("./document").Document;
var BackgroundTokenizer = acequire("./background_tokenizer").BackgroundTokenizer;
var SearchHighlight = acequire("./search_highlight").SearchHighlight;

var EditSession = function(text, mode) {
    this.$breakpoints = [];
    this.$decorations = [];
    this.$frontMarkers = {};
    this.$backMarkers = {};
    this.$markerId = 1;
    this.$undoSelect = true;

    this.$foldData = [];
    this.$foldData.toString = function() {
        return this.join("\n");
    };
    this.on("changeFold", this.onChangeFold.bind(this));
    this.$onChange = this.onChange.bind(this);

    if (typeof text != "object" || !text.getLine)
        text = new Document(text);

    this.setDocument(text);
    this.selection = new Selection(this);

    config.resetOptions(this);
    this.setMode(mode);
    config._signal("session", this);
};


(function() {

    oop.implement(this, EventEmitter);
    this.setDocument = function(doc) {
        if (this.doc)
            this.doc.removeListener("change", this.$onChange);

        this.doc = doc;
        doc.on("change", this.$onChange);

        if (this.bgTokenizer)
            this.bgTokenizer.setDocument(this.getDocument());

        this.resetCaches();
    };
    this.getDocument = function() {
        return this.doc;
    };
    this.$resetRowCache = function(docRow) {
        if (!docRow) {
            this.$docRowCache = [];
            this.$screenRowCache = [];
            return;
        }
        var l = this.$docRowCache.length;
        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;
        if (l > i) {
            this.$docRowCache.splice(i, l);
            this.$screenRowCache.splice(i, l);
        }
    };

    this.$getRowCacheIndex = function(cacheArray, val) {
        var low = 0;
        var hi = cacheArray.length - 1;

        while (low <= hi) {
            var mid = (low + hi) >> 1;
            var c = cacheArray[mid];

            if (val > c)
                low = mid + 1;
            else if (val < c)
                hi = mid - 1;
            else
                return mid;
        }

        return low -1;
    };

    this.resetCaches = function() {
        this.$modified = true;
        this.$wrapData = [];
        this.$rowLengthCache = [];
        this.$resetRowCache(0);
        if (this.bgTokenizer)
            this.bgTokenizer.start(0);
    };

    this.onChangeFold = function(e) {
        var fold = e.data;
        this.$resetRowCache(fold.start.row);
    };

    this.onChange = function(delta) {
        this.$modified = true;

        this.$resetRowCache(delta.start.row);

        var removedFolds = this.$updateInternalDataOnChange(delta);
        if (!this.$fromUndo && this.$undoManager && !delta.ignore) {
            this.$deltasDoc.push(delta);
            if (removedFolds && removedFolds.length != 0) {
                this.$deltasFold.push({
                    action: "removeFolds",
                    folds:  removedFolds
                });
            }

            this.$informUndoManager.schedule();
        }

        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);
        this._signal("change", delta);
    };
    this.setValue = function(text) {
        this.doc.setValue(text);
        this.selection.moveTo(0, 0);

        this.$resetRowCache(0);
        this.$deltas = [];
        this.$deltasDoc = [];
        this.$deltasFold = [];
        this.setUndoManager(this.$undoManager);
        this.getUndoManager().reset();
    };
    this.getValue =
    this.toString = function() {
        return this.doc.getValue();
    };
    this.getSelection = function() {
        return this.selection;
    };
    this.getState = function(row) {
        return this.bgTokenizer.getState(row);
    };
    this.getTokens = function(row) {
        return this.bgTokenizer.getTokens(row);
    };
    this.getTokenAt = function(row, column) {
        var tokens = this.bgTokenizer.getTokens(row);
        var token, c = 0;
        if (column == null) {
            i = tokens.length - 1;
            c = this.getLine(row).length;
        } else {
            for (var i = 0; i < tokens.length; i++) {
                c += tokens[i].value.length;
                if (c >= column)
                    break;
            }
        }
        token = tokens[i];
        if (!token)
            return null;
        token.index = i;
        token.start = c - token.value.length;
        return token;
    };
    this.setUndoManager = function(undoManager) {
        this.$undoManager = undoManager;
        this.$deltas = [];
        this.$deltasDoc = [];
        this.$deltasFold = [];

        if (this.$informUndoManager)
            this.$informUndoManager.cancel();

        if (undoManager) {
            var self = this;

            this.$syncInformUndoManager = function() {
                self.$informUndoManager.cancel();

                if (self.$deltasFold.length) {
                    self.$deltas.push({
                        group: "fold",
                        deltas: self.$deltasFold
                    });
                    self.$deltasFold = [];
                }

                if (self.$deltasDoc.length) {
                    self.$deltas.push({
                        group: "doc",
                        deltas: self.$deltasDoc
                    });
                    self.$deltasDoc = [];
                }

                if (self.$deltas.length > 0) {
                    undoManager.execute({
                        action: "aceupdate",
                        args: [self.$deltas, self],
                        merge: self.mergeUndoDeltas
                    });
                }
                self.mergeUndoDeltas = false;
                self.$deltas = [];
            };
            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);
        }
    };
    this.markUndoGroup = function() {
        if (this.$syncInformUndoManager)
            this.$syncInformUndoManager();
    };
    
    this.$defaultUndoManager = {
        undo: function() {},
        redo: function() {},
        reset: function() {}
    };
    this.getUndoManager = function() {
        return this.$undoManager || this.$defaultUndoManager;
    };
    this.getTabString = function() {
        if (this.getUseSoftTabs()) {
            return lang.stringRepeat(" ", this.getTabSize());
        } else {
            return "\t";
        }
    };
    this.setUseSoftTabs = function(val) {
        this.setOption("useSoftTabs", val);
    };
    this.getUseSoftTabs = function() {
        return this.$useSoftTabs && !this.$mode.$indentWithTabs;
    };
    this.setTabSize = function(tabSize) {
        this.setOption("tabSize", tabSize);
    };
    this.getTabSize = function() {
        return this.$tabSize;
    };
    this.isTabStop = function(position) {
        return this.$useSoftTabs && (position.column % this.$tabSize === 0);
    };

    this.$overwrite = false;
    this.setOverwrite = function(overwrite) {
        this.setOption("overwrite", overwrite);
    };
    this.getOverwrite = function() {
        return this.$overwrite;
    };
    this.toggleOverwrite = function() {
        this.setOverwrite(!this.$overwrite);
    };
    this.addGutterDecoration = function(row, className) {
        if (!this.$decorations[row])
            this.$decorations[row] = "";
        this.$decorations[row] += " " + className;
        this._signal("changeBreakpoint", {});
    };
    this.removeGutterDecoration = function(row, className) {
        this.$decorations[row] = (this.$decorations[row] || "").replace(" " + className, "");
        this._signal("changeBreakpoint", {});
    };
    this.getBreakpoints = function() {
        return this.$breakpoints;
    };
    this.setBreakpoints = function(rows) {
        this.$breakpoints = [];
        for (var i=0; i<rows.length; i++) {
            this.$breakpoints[rows[i]] = "ace_breakpoint";
        }
        this._signal("changeBreakpoint", {});
    };
    this.clearBreakpoints = function() {
        this.$breakpoints = [];
        this._signal("changeBreakpoint", {});
    };
    this.setBreakpoint = function(row, className) {
        if (className === undefined)
            className = "ace_breakpoint";
        if (className)
            this.$breakpoints[row] = className;
        else
            delete this.$breakpoints[row];
        this._signal("changeBreakpoint", {});
    };
    this.clearBreakpoint = function(row) {
        delete this.$breakpoints[row];
        this._signal("changeBreakpoint", {});
    };
    this.addMarker = function(range, clazz, type, inFront) {
        var id = this.$markerId++;

        var marker = {
            range : range,
            type : type || "line",
            renderer: typeof type == "function" ? type : null,
            clazz : clazz,
            inFront: !!inFront,
            id: id
        };

        if (inFront) {
            this.$frontMarkers[id] = marker;
            this._signal("changeFrontMarker");
        } else {
            this.$backMarkers[id] = marker;
            this._signal("changeBackMarker");
        }

        return id;
    };
    this.addDynamicMarker = function(marker, inFront) {
        if (!marker.update)
            return;
        var id = this.$markerId++;
        marker.id = id;
        marker.inFront = !!inFront;

        if (inFront) {
            this.$frontMarkers[id] = marker;
            this._signal("changeFrontMarker");
        } else {
            this.$backMarkers[id] = marker;
            this._signal("changeBackMarker");
        }

        return marker;
    };
    this.removeMarker = function(markerId) {
        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];
        if (!marker)
            return;

        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;
        if (marker) {
            delete (markers[markerId]);
            this._signal(marker.inFront ? "changeFrontMarker" : "changeBackMarker");
        }
    };
    this.getMarkers = function(inFront) {
        return inFront ? this.$frontMarkers : this.$backMarkers;
    };

    this.highlight = function(re) {
        if (!this.$searchHighlight) {
            var highlight = new SearchHighlight(null, "ace_selected-word", "text");
            this.$searchHighlight = this.addDynamicMarker(highlight);
        }
        this.$searchHighlight.setRegexp(re);
    };
    this.highlightLines = function(startRow, endRow, clazz, inFront) {
        if (typeof endRow != "number") {
            clazz = endRow;
            endRow = startRow;
        }
        if (!clazz)
            clazz = "ace_step";

        var range = new Range(startRow, 0, endRow, Infinity);
        range.id = this.addMarker(range, clazz, "fullLine", inFront);
        return range;
    };
    this.setAnnotations = function(annotations) {
        this.$annotations = annotations;
        this._signal("changeAnnotation", {});
    };
    this.getAnnotations = function() {
        return this.$annotations || [];
    };
    this.clearAnnotations = function() {
        this.setAnnotations([]);
    };
    this.$detectNewLine = function(text) {
        var match = text.match(/^.*?(\r?\n)/m);
        if (match) {
            this.$autoNewLine = match[1];
        } else {
            this.$autoNewLine = "\n";
        }
    };
    this.getWordRange = function(row, column) {
        var line = this.getLine(row);

        var inToken = false;
        if (column > 0)
            inToken = !!line.charAt(column - 1).match(this.tokenRe);

        if (!inToken)
            inToken = !!line.charAt(column).match(this.tokenRe);

        if (inToken)
            var re = this.tokenRe;
        else if (/^\s+$/.test(line.slice(column-1, column+1)))
            var re = /\s/;
        else
            var re = this.nonTokenRe;

        var start = column;
        if (start > 0) {
            do {
                start--;
            }
            while (start >= 0 && line.charAt(start).match(re));
            start++;
        }

        var end = column;
        while (end < line.length && line.charAt(end).match(re)) {
            end++;
        }

        return new Range(row, start, row, end);
    };
    this.getAWordRange = function(row, column) {
        var wordRange = this.getWordRange(row, column);
        var line = this.getLine(wordRange.end.row);

        while (line.charAt(wordRange.end.column).match(/[ \t]/)) {
            wordRange.end.column += 1;
        }
        return wordRange;
    };
    this.setNewLineMode = function(newLineMode) {
        this.doc.setNewLineMode(newLineMode);
    };
    this.getNewLineMode = function() {
        return this.doc.getNewLineMode();
    };
    this.setUseWorker = function(useWorker) { this.setOption("useWorker", useWorker); };
    this.getUseWorker = function() { return this.$useWorker; };
    this.onReloadTokenizer = function(e) {
        var rows = e.data;
        this.bgTokenizer.start(rows.first);
        this._signal("tokenizerUpdate", e);
    };

    this.$modes = {};
    this.$mode = null;
    this.$modeId = null;
    this.setMode = function(mode, cb) {
        if (mode && typeof mode === "object") {
            if (mode.getTokenizer)
                return this.$onChangeMode(mode);
            var options = mode;
            var path = options.path;
        } else {
            path = mode || "ace/mode/text";
        }
        if (!this.$modes["ace/mode/text"])
            this.$modes["ace/mode/text"] = new TextMode();

        if (this.$modes[path] && !options) {
            this.$onChangeMode(this.$modes[path]);
            cb && cb();
            return;
        }
        this.$modeId = path;
        config.loadModule(["mode", path], function(m) {
            if (this.$modeId !== path)
                return cb && cb();
            if (this.$modes[path] && !options) {
                this.$onChangeMode(this.$modes[path]);
            } else if (m && m.Mode) {
                m = new m.Mode(options);
                if (!options) {
                    this.$modes[path] = m;
                    m.$id = path;
                }
                this.$onChangeMode(m);
            }
            cb && cb();
        }.bind(this));
        if (!this.$mode)
            this.$onChangeMode(this.$modes["ace/mode/text"], true);
    };

    this.$onChangeMode = function(mode, $isPlaceholder) {
        if (!$isPlaceholder)
            this.$modeId = mode.$id;
        if (this.$mode === mode) 
            return;

        this.$mode = mode;

        this.$stopWorker();

        if (this.$useWorker)
            this.$startWorker();

        var tokenizer = mode.getTokenizer();

        if(tokenizer.addEventListener !== undefined) {
            var onReloadTokenizer = this.onReloadTokenizer.bind(this);
            tokenizer.addEventListener("update", onReloadTokenizer);
        }

        if (!this.bgTokenizer) {
            this.bgTokenizer = new BackgroundTokenizer(tokenizer);
            var _self = this;
            this.bgTokenizer.addEventListener("update", function(e) {
                _self._signal("tokenizerUpdate", e);
            });
        } else {
            this.bgTokenizer.setTokenizer(tokenizer);
        }

        this.bgTokenizer.setDocument(this.getDocument());

        this.tokenRe = mode.tokenRe;
        this.nonTokenRe = mode.nonTokenRe;

        
        if (!$isPlaceholder) {
            if (mode.attachToSession)
                mode.attachToSession(this);
            this.$options.wrapMethod.set.call(this, this.$wrapMethod);
            this.$setFolding(mode.foldingRules);
            this.bgTokenizer.start(0);
            this._emit("changeMode");
        }
    };

    this.$stopWorker = function() {
        if (this.$worker) {
            this.$worker.terminate();
            this.$worker = null;
        }
    };

    this.$startWorker = function() {
        try {
            this.$worker = this.$mode.createWorker(this);
        } catch (e) {
            config.warn("Could not load worker", e);
            this.$worker = null;
        }
    };
    this.getMode = function() {
        return this.$mode;
    };

    this.$scrollTop = 0;
    this.setScrollTop = function(scrollTop) {
        if (this.$scrollTop === scrollTop || isNaN(scrollTop))
            return;

        this.$scrollTop = scrollTop;
        this._signal("changeScrollTop", scrollTop);
    };
    this.getScrollTop = function() {
        return this.$scrollTop;
    };

    this.$scrollLeft = 0;
    this.setScrollLeft = function(scrollLeft) {
        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))
            return;

        this.$scrollLeft = scrollLeft;
        this._signal("changeScrollLeft", scrollLeft);
    };
    this.getScrollLeft = function() {
        return this.$scrollLeft;
    };
    this.getScreenWidth = function() {
        this.$computeWidth();
        if (this.lineWidgets) 
            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);
        return this.screenWidth;
    };
    
    this.getLineWidgetMaxWidth = function() {
        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;
        var width = 0;
        this.lineWidgets.forEach(function(w) {
            if (w && w.screenWidth > width)
                width = w.screenWidth;
        });
        return this.lineWidgetWidth = width;
    };

    this.$computeWidth = function(force) {
        if (this.$modified || force) {
            this.$modified = false;

            if (this.$useWrapMode)
                return this.screenWidth = this.$wrapLimit;

            var lines = this.doc.getAllLines();
            var cache = this.$rowLengthCache;
            var longestScreenLine = 0;
            var foldIndex = 0;
            var foldLine = this.$foldData[foldIndex];
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            var len = lines.length;

            for (var i = 0; i < len; i++) {
                if (i > foldStart) {
                    i = foldLine.end.row + 1;
                    if (i >= len)
                        break;
                    foldLine = this.$foldData[foldIndex++];
                    foldStart = foldLine ? foldLine.start.row : Infinity;
                }

                if (cache[i] == null)
                    cache[i] = this.$getStringScreenWidth(lines[i])[0];

                if (cache[i] > longestScreenLine)
                    longestScreenLine = cache[i];
            }
            this.screenWidth = longestScreenLine;
        }
    };
    this.getLine = function(row) {
        return this.doc.getLine(row);
    };
    this.getLines = function(firstRow, lastRow) {
        return this.doc.getLines(firstRow, lastRow);
    };
    this.getLength = function() {
        return this.doc.getLength();
    };
    this.getTextRange = function(range) {
        return this.doc.getTextRange(range || this.selection.getRange());
    };
    this.insert = function(position, text) {
        return this.doc.insert(position, text);
    };
    this.remove = function(range) {
        return this.doc.remove(range);
    };
    this.removeFullLines = function(firstRow, lastRow){
        return this.doc.removeFullLines(firstRow, lastRow);
    };
    this.undoChanges = function(deltas, dontSelect) {
        if (!deltas.length)
            return;

        this.$fromUndo = true;
        var lastUndoRange = null;
        for (var i = deltas.length - 1; i != -1; i--) {
            var delta = deltas[i];
            if (delta.group == "doc") {
                this.doc.revertDeltas(delta.deltas);
                lastUndoRange =
                    this.$getUndoSelection(delta.deltas, true, lastUndoRange);
            } else {
                delta.deltas.forEach(function(foldDelta) {
                    this.addFolds(foldDelta.folds);
                }, this);
            }
        }
        this.$fromUndo = false;
        lastUndoRange &&
            this.$undoSelect &&
            !dontSelect &&
            this.selection.setSelectionRange(lastUndoRange);
        return lastUndoRange;
    };
    this.redoChanges = function(deltas, dontSelect) {
        if (!deltas.length)
            return;

        this.$fromUndo = true;
        var lastUndoRange = null;
        for (var i = 0; i < deltas.length; i++) {
            var delta = deltas[i];
            if (delta.group == "doc") {
                this.doc.applyDeltas(delta.deltas);
                lastUndoRange =
                    this.$getUndoSelection(delta.deltas, false, lastUndoRange);
            }
        }
        this.$fromUndo = false;
        lastUndoRange &&
            this.$undoSelect &&
            !dontSelect &&
            this.selection.setSelectionRange(lastUndoRange);
        return lastUndoRange;
    };
    this.setUndoSelect = function(enable) {
        this.$undoSelect = enable;
    };

    this.$getUndoSelection = function(deltas, isUndo, lastUndoRange) {
        function isInsert(delta) {
            return isUndo ? delta.action !== "insert" : delta.action === "insert";
        }

        var delta = deltas[0];
        var range, point;
        var lastDeltaIsInsert = false;
        if (isInsert(delta)) {
            range = Range.fromPoints(delta.start, delta.end);
            lastDeltaIsInsert = true;
        } else {
            range = Range.fromPoints(delta.start, delta.start);
            lastDeltaIsInsert = false;
        }

        for (var i = 1; i < deltas.length; i++) {
            delta = deltas[i];
            if (isInsert(delta)) {
                point = delta.start;
                if (range.compare(point.row, point.column) == -1) {
                    range.setStart(point);
                }
                point = delta.end;
                if (range.compare(point.row, point.column) == 1) {
                    range.setEnd(point);
                }
                lastDeltaIsInsert = true;
            } else {
                point = delta.start;
                if (range.compare(point.row, point.column) == -1) {
                    range = Range.fromPoints(delta.start, delta.start);
                }
                lastDeltaIsInsert = false;
            }
        }
        if (lastUndoRange != null) {
            if (Range.comparePoints(lastUndoRange.start, range.start) === 0) {
                lastUndoRange.start.column += range.end.column - range.start.column;
                lastUndoRange.end.column += range.end.column - range.start.column;
            }

            var cmp = lastUndoRange.compareRange(range);
            if (cmp == 1) {
                range.setStart(lastUndoRange.start);
            } else if (cmp == -1) {
                range.setEnd(lastUndoRange.end);
            }
        }

        return range;
    };
    this.replace = function(range, text) {
        return this.doc.replace(range, text);
    };
    this.moveText = function(fromRange, toPosition, copy) {
        var text = this.getTextRange(fromRange);
        var folds = this.getFoldsInRange(fromRange);

        var toRange = Range.fromPoints(toPosition, toPosition);
        if (!copy) {
            this.remove(fromRange);
            var rowDiff = fromRange.start.row - fromRange.end.row;
            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;
            if (collDiff) {
                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)
                    toRange.start.column += collDiff;
                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)
                    toRange.end.column += collDiff;
            }
            if (rowDiff && toRange.start.row >= fromRange.end.row) {
                toRange.start.row += rowDiff;
                toRange.end.row += rowDiff;
            }
        }

        toRange.end = this.insert(toRange.start, text);
        if (folds.length) {
            var oldStart = fromRange.start;
            var newStart = toRange.start;
            var rowDiff = newStart.row - oldStart.row;
            var collDiff = newStart.column - oldStart.column;
            this.addFolds(folds.map(function(x) {
                x = x.clone();
                if (x.start.row == oldStart.row)
                    x.start.column += collDiff;
                if (x.end.row == oldStart.row)
                    x.end.column += collDiff;
                x.start.row += rowDiff;
                x.end.row += rowDiff;
                return x;
            }));
        }

        return toRange;
    };
    this.indentRows = function(startRow, endRow, indentString) {
        indentString = indentString.replace(/\t/g, this.getTabString());
        for (var row=startRow; row<=endRow; row++)
            this.doc.insertInLine({row: row, column: 0}, indentString);
    };
    this.outdentRows = function (range) {
        var rowRange = range.collapseRows();
        var deleteRange = new Range(0, 0, 0, 0);
        var size = this.getTabSize();

        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {
            var line = this.getLine(i);

            deleteRange.start.row = i;
            deleteRange.end.row = i;
            for (var j = 0; j < size; ++j)
                if (line.charAt(j) != ' ')
                    break;
            if (j < size && line.charAt(j) == '\t') {
                deleteRange.start.column = j;
                deleteRange.end.column = j + 1;
            } else {
                deleteRange.start.column = 0;
                deleteRange.end.column = j;
            }
            this.remove(deleteRange);
        }
    };

    this.$moveLines = function(firstRow, lastRow, dir) {
        firstRow = this.getRowFoldStart(firstRow);
        lastRow = this.getRowFoldEnd(lastRow);
        if (dir < 0) {
            var row = this.getRowFoldStart(firstRow + dir);
            if (row < 0) return 0;
            var diff = row-firstRow;
        } else if (dir > 0) {
            var row = this.getRowFoldEnd(lastRow + dir);
            if (row > this.doc.getLength()-1) return 0;
            var diff = row-lastRow;
        } else {
            firstRow = this.$clipRowToDocument(firstRow);
            lastRow = this.$clipRowToDocument(lastRow);
            var diff = lastRow - firstRow + 1;
        }

        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);
        var folds = this.getFoldsInRange(range).map(function(x){
            x = x.clone();
            x.start.row += diff;
            x.end.row += diff;
            return x;
        });
        
        var lines = dir == 0
            ? this.doc.getLines(firstRow, lastRow)
            : this.doc.removeFullLines(firstRow, lastRow);
        this.doc.insertFullLines(firstRow+diff, lines);
        folds.length && this.addFolds(folds);
        return diff;
    };
    this.moveLinesUp = function(firstRow, lastRow) {
        return this.$moveLines(firstRow, lastRow, -1);
    };
    this.moveLinesDown = function(firstRow, lastRow) {
        return this.$moveLines(firstRow, lastRow, 1);
    };
    this.duplicateLines = function(firstRow, lastRow) {
        return this.$moveLines(firstRow, lastRow, 0);
    };


    this.$clipRowToDocument = function(row) {
        return Math.max(0, Math.min(row, this.doc.getLength()-1));
    };

    this.$clipColumnToRow = function(row, column) {
        if (column < 0)
            return 0;
        return Math.min(this.doc.getLine(row).length, column);
    };


    this.$clipPositionToDocument = function(row, column) {
        column = Math.max(0, column);

        if (row < 0) {
            row = 0;
            column = 0;
        } else {
            var len = this.doc.getLength();
            if (row >= len) {
                row = len - 1;
                column = this.doc.getLine(len-1).length;
            } else {
                column = Math.min(this.doc.getLine(row).length, column);
            }
        }

        return {
            row: row,
            column: column
        };
    };

    this.$clipRangeToDocument = function(range) {
        if (range.start.row < 0) {
            range.start.row = 0;
            range.start.column = 0;
        } else {
            range.start.column = this.$clipColumnToRow(
                range.start.row,
                range.start.column
            );
        }

        var len = this.doc.getLength() - 1;
        if (range.end.row > len) {
            range.end.row = len;
            range.end.column = this.doc.getLine(len).length;
        } else {
            range.end.column = this.$clipColumnToRow(
                range.end.row,
                range.end.column
            );
        }
        return range;
    };
    this.$wrapLimit = 80;
    this.$useWrapMode = false;
    this.$wrapLimitRange = {
        min : null,
        max : null
    };
    this.setUseWrapMode = function(useWrapMode) {
        if (useWrapMode != this.$useWrapMode) {
            this.$useWrapMode = useWrapMode;
            this.$modified = true;
            this.$resetRowCache(0);
            if (useWrapMode) {
                var len = this.getLength();
                this.$wrapData = Array(len);
                this.$updateWrapData(0, len - 1);
            }

            this._signal("changeWrapMode");
        }
    };
    this.getUseWrapMode = function() {
        return this.$useWrapMode;
    };
    this.setWrapLimitRange = function(min, max) {
        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {
            this.$wrapLimitRange = { min: min, max: max };
            this.$modified = true;
            if (this.$useWrapMode)
                this._signal("changeWrapMode");
        }
    };
    this.adjustWrapLimit = function(desiredLimit, $printMargin) {
        var limits = this.$wrapLimitRange;
        if (limits.max < 0)
            limits = {min: $printMargin, max: $printMargin};
        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);
        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {
            this.$wrapLimit = wrapLimit;
            this.$modified = true;
            if (this.$useWrapMode) {
                this.$updateWrapData(0, this.getLength() - 1);
                this.$resetRowCache(0);
                this._signal("changeWrapLimit");
            }
            return true;
        }
        return false;
    };

    this.$constrainWrapLimit = function(wrapLimit, min, max) {
        if (min)
            wrapLimit = Math.max(min, wrapLimit);

        if (max)
            wrapLimit = Math.min(max, wrapLimit);

        return wrapLimit;
    };
    this.getWrapLimit = function() {
        return this.$wrapLimit;
    };
    this.setWrapLimit = function (limit) {
        this.setWrapLimitRange(limit, limit);
    };
    this.getWrapLimitRange = function() {
        return {
            min : this.$wrapLimitRange.min,
            max : this.$wrapLimitRange.max
        };
    };

    this.$updateInternalDataOnChange = function(delta) {
        var useWrapMode = this.$useWrapMode;
        var action = delta.action;
        var start = delta.start;
        var end = delta.end;
        var firstRow = start.row;
        var lastRow = end.row;
        var len = lastRow - firstRow;
        var removedFolds = null;
        
        this.$updating = true;
        if (len != 0) {
            if (action === "remove") {
                this[useWrapMode ? "$wrapData" : "$rowLengthCache"].splice(firstRow, len);

                var foldLines = this.$foldData;
                removedFolds = this.getFoldsInRange(delta);
                this.removeFolds(removedFolds);

                var foldLine = this.getFoldLine(end.row);
                var idx = 0;
                if (foldLine) {
                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);
                    foldLine.shiftRow(-len);

                    var foldLineBefore = this.getFoldLine(firstRow);
                    if (foldLineBefore && foldLineBefore !== foldLine) {
                        foldLineBefore.merge(foldLine);
                        foldLine = foldLineBefore;
                    }
                    idx = foldLines.indexOf(foldLine) + 1;
                }

                for (idx; idx < foldLines.length; idx++) {
                    var foldLine = foldLines[idx];
                    if (foldLine.start.row >= end.row) {
                        foldLine.shiftRow(-len);
                    }
                }

                lastRow = firstRow;
            } else {
                var args = Array(len);
                args.unshift(firstRow, 0);
                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache
                arr.splice.apply(arr, args);
                var foldLines = this.$foldData;
                var foldLine = this.getFoldLine(firstRow);
                var idx = 0;
                if (foldLine) {
                    var cmp = foldLine.range.compareInside(start.row, start.column);
                    if (cmp == 0) {
                        foldLine = foldLine.split(start.row, start.column);
                        if (foldLine) {
                            foldLine.shiftRow(len);
                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);
                        }
                    } else
                    if (cmp == -1) {
                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);
                        foldLine.shiftRow(len);
                    }
                    idx = foldLines.indexOf(foldLine) + 1;
                }

                for (idx; idx < foldLines.length; idx++) {
                    var foldLine = foldLines[idx];
                    if (foldLine.start.row >= firstRow) {
                        foldLine.shiftRow(len);
                    }
                }
            }
        } else {
            len = Math.abs(delta.start.column - delta.end.column);
            if (action === "remove") {
                removedFolds = this.getFoldsInRange(delta);
                this.removeFolds(removedFolds);

                len = -len;
            }
            var foldLine = this.getFoldLine(firstRow);
            if (foldLine) {
                foldLine.addRemoveChars(firstRow, start.column, len);
            }
        }

        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {
            console.error("doc.getLength() and $wrapData.length have to be the same!");
        }
        this.$updating = false;

        if (useWrapMode)
            this.$updateWrapData(firstRow, lastRow);
        else
            this.$updateRowLengthCache(firstRow, lastRow);

        return removedFolds;
    };

    this.$updateRowLengthCache = function(firstRow, lastRow, b) {
        this.$rowLengthCache[firstRow] = null;
        this.$rowLengthCache[lastRow] = null;
    };

    this.$updateWrapData = function(firstRow, lastRow) {
        var lines = this.doc.getAllLines();
        var tabSize = this.getTabSize();
        var wrapData = this.$wrapData;
        var wrapLimit = this.$wrapLimit;
        var tokens;
        var foldLine;

        var row = firstRow;
        lastRow = Math.min(lastRow, lines.length - 1);
        while (row <= lastRow) {
            foldLine = this.getFoldLine(row, foldLine);
            if (!foldLine) {
                tokens = this.$getDisplayTokens(lines[row]);
                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
                row ++;
            } else {
                tokens = [];
                foldLine.walk(function(placeholder, row, column, lastColumn) {
                        var walkTokens;
                        if (placeholder != null) {
                            walkTokens = this.$getDisplayTokens(
                                            placeholder, tokens.length);
                            walkTokens[0] = PLACEHOLDER_START;
                            for (var i = 1; i < walkTokens.length; i++) {
                                walkTokens[i] = PLACEHOLDER_BODY;
                            }
                        } else {
                            walkTokens = this.$getDisplayTokens(
                                lines[row].substring(lastColumn, column),
                                tokens.length);
                        }
                        tokens = tokens.concat(walkTokens);
                    }.bind(this),
                    foldLine.end.row,
                    lines[foldLine.end.row].length + 1
                );

                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
                row = foldLine.end.row + 1;
            }
        }
    };
    var CHAR = 1,
        CHAR_EXT = 2,
        PLACEHOLDER_START = 3,
        PLACEHOLDER_BODY =  4,
        PUNCTUATION = 9,
        SPACE = 10,
        TAB = 11,
        TAB_SPACE = 12;


    this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {
        if (tokens.length == 0) {
            return [];
        }

        var splits = [];
        var displayLength = tokens.length;
        var lastSplit = 0, lastDocSplit = 0;

        var isCode = this.$wrapAsCode;

        var indentedSoftWrap = this.$indentedSoftWrap;
        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)
            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);

        function getWrapIndent() {
            var indentation = 0;
            if (maxIndent === 0)
                return indentation;
            if (indentedSoftWrap) {
                for (var i = 0; i < tokens.length; i++) {
                    var token = tokens[i];
                    if (token == SPACE)
                        indentation += 1;
                    else if (token == TAB)
                        indentation += tabSize;
                    else if (token == TAB_SPACE)
                        continue;
                    else
                        break;
                }
            }
            if (isCode && indentedSoftWrap !== false)
                indentation += tabSize;
            return Math.min(indentation, maxIndent);
        }
        function addSplit(screenPos) {
            var displayed = tokens.slice(lastSplit, screenPos);
            var len = displayed.length;
            displayed.join("")
                .replace(/12/g, function() {
                    len -= 1;
                })
                .replace(/2/g, function() {
                    len -= 1;
                });

            if (!splits.length) {
                indent = getWrapIndent();
                splits.indent = indent;
            }
            lastDocSplit += len;
            splits.push(lastDocSplit);
            lastSplit = screenPos;
        }
        var indent = 0;
        while (displayLength - lastSplit > wrapLimit - indent) {
            var split = lastSplit + wrapLimit - indent;
            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {
                addSplit(split);
                continue;
            }
            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {
                for (split; split != lastSplit - 1; split--) {
                    if (tokens[split] == PLACEHOLDER_START) {
                        break;
                    }
                }
                if (split > lastSplit) {
                    addSplit(split);
                    continue;
                }
                split = lastSplit + wrapLimit;
                for (split; split < tokens.length; split++) {
                    if (tokens[split] != PLACEHOLDER_BODY) {
                        break;
                    }
                }
                if (split == tokens.length) {
                    break;  // Breaks the while-loop.
                }
                addSplit(split);
                continue;
            }
            var minSplit = Math.max(split - (wrapLimit -(wrapLimit>>2)), lastSplit - 1);
            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
                split --;
            }
            if (isCode) {
                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
                    split --;
                }
                while (split > minSplit && tokens[split] == PUNCTUATION) {
                    split --;
                }
            } else {
                while (split > minSplit && tokens[split] < SPACE) {
                    split --;
                }
            }
            if (split > minSplit) {
                addSplit(++split);
                continue;
            }
            split = lastSplit + wrapLimit;
            if (tokens[split] == CHAR_EXT)
                split--;
            addSplit(split - indent);
        }
        return splits;
    };
    this.$getDisplayTokens = function(str, offset) {
        var arr = [];
        var tabSize;
        offset = offset || 0;

        for (var i = 0; i < str.length; i++) {
            var c = str.charCodeAt(i);
            if (c == 9) {
                tabSize = this.getScreenTabSize(arr.length + offset);
                arr.push(TAB);
                for (var n = 1; n < tabSize; n++) {
                    arr.push(TAB_SPACE);
                }
            }
            else if (c == 32) {
                arr.push(SPACE);
            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {
                arr.push(PUNCTUATION);
            }
            else if (c >= 0x1100 && isFullWidth(c)) {
                arr.push(CHAR, CHAR_EXT);
            } else {
                arr.push(CHAR);
            }
        }
        return arr;
    };
    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
        if (maxScreenColumn == 0)
            return [0, 0];
        if (maxScreenColumn == null)
            maxScreenColumn = Infinity;
        screenColumn = screenColumn || 0;

        var c, column;
        for (column = 0; column < str.length; column++) {
            c = str.charCodeAt(column);
            if (c == 9) {
                screenColumn += this.getScreenTabSize(screenColumn);
            }
            else if (c >= 0x1100 && isFullWidth(c)) {
                screenColumn += 2;
            } else {
                screenColumn += 1;
            }
            if (screenColumn > maxScreenColumn) {
                break;
            }
        }

        return [screenColumn, column];
    };

    this.lineWidgets = null;
    this.getRowLength = function(row) {
        if (this.lineWidgets)
            var h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;
        else 
            h = 0
        if (!this.$useWrapMode || !this.$wrapData[row]) {
            return 1 + h;
        } else {
            return this.$wrapData[row].length + 1 + h;
        }
    };
    this.getRowLineCount = function(row) {
        if (!this.$useWrapMode || !this.$wrapData[row]) {
            return 1;
        } else {
            return this.$wrapData[row].length + 1;
        }
    };

    this.getRowWrapIndent = function(screenRow) {
        if (this.$useWrapMode) {
            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
            var splits = this.$wrapData[pos.row];
            return splits.length && splits[0] < pos.column ? splits.indent : 0;
        } else {
            return 0;
        }
    }
    this.getScreenLastRowColumn = function(screenRow) {
        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
        return this.documentToScreenColumn(pos.row, pos.column);
    };
    this.getDocumentLastRowColumn = function(docRow, docColumn) {
        var screenRow = this.documentToScreenRow(docRow, docColumn);
        return this.getScreenLastRowColumn(screenRow);
    };
    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {
        var screenRow = this.documentToScreenRow(docRow, docColumn);
        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);
    };
    this.getRowSplitData = function(row) {
        if (!this.$useWrapMode) {
            return undefined;
        } else {
            return this.$wrapData[row];
        }
    };
    this.getScreenTabSize = function(screenColumn) {
        return this.$tabSize - screenColumn % this.$tabSize;
    };


    this.screenToDocumentRow = function(screenRow, screenColumn) {
        return this.screenToDocumentPosition(screenRow, screenColumn).row;
    };


    this.screenToDocumentColumn = function(screenRow, screenColumn) {
        return this.screenToDocumentPosition(screenRow, screenColumn).column;
    };
    this.screenToDocumentPosition = function(screenRow, screenColumn) {
        if (screenRow < 0)
            return {row: 0, column: 0};

        var line;
        var docRow = 0;
        var docColumn = 0;
        var column;
        var row = 0;
        var rowLength = 0;

        var rowCache = this.$screenRowCache;
        var i = this.$getRowCacheIndex(rowCache, screenRow);
        var l = rowCache.length;
        if (l && i >= 0) {
            var row = rowCache[i];
            var docRow = this.$docRowCache[i];
            var doCache = screenRow > rowCache[l - 1];
        } else {
            var doCache = !l;
        }

        var maxRow = this.getLength() - 1;
        var foldLine = this.getNextFoldLine(docRow);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (row <= screenRow) {
            rowLength = this.getRowLength(docRow);
            if (row + rowLength > screenRow || docRow >= maxRow) {
                break;
            } else {
                row += rowLength;
                docRow++;
                if (docRow > foldStart) {
                    docRow = foldLine.end.row+1;
                    foldLine = this.getNextFoldLine(docRow, foldLine);
                    foldStart = foldLine ? foldLine.start.row : Infinity;
                }
            }

            if (doCache) {
                this.$docRowCache.push(docRow);
                this.$screenRowCache.push(row);
            }
        }

        if (foldLine && foldLine.start.row <= docRow) {
            line = this.getFoldDisplayLine(foldLine);
            docRow = foldLine.start.row;
        } else if (row + rowLength <= screenRow || docRow > maxRow) {
            return {
                row: maxRow,
                column: this.getLine(maxRow).length
            };
        } else {
            line = this.getLine(docRow);
            foldLine = null;
        }
        var wrapIndent = 0;
        if (this.$useWrapMode) {
            var splits = this.$wrapData[docRow];
            if (splits) {
                var splitIndex = Math.floor(screenRow - row);
                column = splits[splitIndex];
                if(splitIndex > 0 && splits.length) {
                    wrapIndent = splits.indent;
                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];
                    line = line.substring(docColumn);
                }
            }
        }

        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];
        if (this.$useWrapMode && docColumn >= column)
            docColumn = column - 1;

        if (foldLine)
            return foldLine.idxToPosition(docColumn);

        return {row: docRow, column: docColumn};
    };
    this.documentToScreenPosition = function(docRow, docColumn) {
        if (typeof docColumn === "undefined")
            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);
        else
            pos = this.$clipPositionToDocument(docRow, docColumn);

        docRow = pos.row;
        docColumn = pos.column;

        var screenRow = 0;
        var foldStartRow = null;
        var fold = null;
        fold = this.getFoldAt(docRow, docColumn, 1);
        if (fold) {
            docRow = fold.start.row;
            docColumn = fold.start.column;
        }

        var rowEnd, row = 0;


        var rowCache = this.$docRowCache;
        var i = this.$getRowCacheIndex(rowCache, docRow);
        var l = rowCache.length;
        if (l && i >= 0) {
            var row = rowCache[i];
            var screenRow = this.$screenRowCache[i];
            var doCache = docRow > rowCache[l - 1];
        } else {
            var doCache = !l;
        }

        var foldLine = this.getNextFoldLine(row);
        var foldStart = foldLine ?foldLine.start.row :Infinity;

        while (row < docRow) {
            if (row >= foldStart) {
                rowEnd = foldLine.end.row + 1;
                if (rowEnd > docRow)
                    break;
                foldLine = this.getNextFoldLine(rowEnd, foldLine);
                foldStart = foldLine ?foldLine.start.row :Infinity;
            }
            else {
                rowEnd = row + 1;
            }

            screenRow += this.getRowLength(row);
            row = rowEnd;

            if (doCache) {
                this.$docRowCache.push(row);
                this.$screenRowCache.push(screenRow);
            }
        }
        var textLine = "";
        if (foldLine && row >= foldStart) {
            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);
            foldStartRow = foldLine.start.row;
        } else {
            textLine = this.getLine(docRow).substring(0, docColumn);
            foldStartRow = docRow;
        }
        var wrapIndent = 0;
        if (this.$useWrapMode) {
            var wrapRow = this.$wrapData[foldStartRow];
            if (wrapRow) {
                var screenRowOffset = 0;
                while (textLine.length >= wrapRow[screenRowOffset]) {
                    screenRow ++;
                    screenRowOffset++;
                }
                textLine = textLine.substring(
                    wrapRow[screenRowOffset - 1] || 0, textLine.length
                );
                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;
            }
        }

        return {
            row: screenRow,
            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]
        };
    };
    this.documentToScreenColumn = function(row, docColumn) {
        return this.documentToScreenPosition(row, docColumn).column;
    };
    this.documentToScreenRow = function(docRow, docColumn) {
        return this.documentToScreenPosition(docRow, docColumn).row;
    };
    this.getScreenLength = function() {
        var screenRows = 0;
        var fold = null;
        if (!this.$useWrapMode) {
            screenRows = this.getLength();
            var foldData = this.$foldData;
            for (var i = 0; i < foldData.length; i++) {
                fold = foldData[i];
                screenRows -= fold.end.row - fold.start.row;
            }
        } else {
            var lastRow = this.$wrapData.length;
            var row = 0, i = 0;
            var fold = this.$foldData[i++];
            var foldStart = fold ? fold.start.row :Infinity;

            while (row < lastRow) {
                var splits = this.$wrapData[row];
                screenRows += splits ? splits.length + 1 : 1;
                row ++;
                if (row > foldStart) {
                    row = fold.end.row+1;
                    fold = this.$foldData[i++];
                    foldStart = fold ?fold.start.row :Infinity;
                }
            }
        }
        if (this.lineWidgets)
            screenRows += this.$getWidgetScreenLength();

        return screenRows;
    };
    this.$setFontMetrics = function(fm) {
        if (!this.$enableVarChar) return;
        this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
            if (maxScreenColumn === 0)
                return [0, 0];
            if (!maxScreenColumn)
                maxScreenColumn = Infinity;
            screenColumn = screenColumn || 0;
            
            var c, column;
            for (column = 0; column < str.length; column++) {
                c = str.charAt(column);
                if (c === "\t") {
                    screenColumn += this.getScreenTabSize(screenColumn);
                } else {
                    screenColumn += fm.getCharacterWidth(c);
                }
                if (screenColumn > maxScreenColumn) {
                    break;
                }
            }
            
            return [screenColumn, column];
        };
    };
    
    this.destroy = function() {
        if (this.bgTokenizer) {
            this.bgTokenizer.setDocument(null);
            this.bgTokenizer = null;
        }
        this.$stopWorker();
    };
    function isFullWidth(c) {
        if (c < 0x1100)
            return false;
        return c >= 0x1100 && c <= 0x115F ||
               c >= 0x11A3 && c <= 0x11A7 ||
               c >= 0x11FA && c <= 0x11FF ||
               c >= 0x2329 && c <= 0x232A ||
               c >= 0x2E80 && c <= 0x2E99 ||
               c >= 0x2E9B && c <= 0x2EF3 ||
               c >= 0x2F00 && c <= 0x2FD5 ||
               c >= 0x2FF0 && c <= 0x2FFB ||
               c >= 0x3000 && c <= 0x303E ||
               c >= 0x3041 && c <= 0x3096 ||
               c >= 0x3099 && c <= 0x30FF ||
               c >= 0x3105 && c <= 0x312D ||
               c >= 0x3131 && c <= 0x318E ||
               c >= 0x3190 && c <= 0x31BA ||
               c >= 0x31C0 && c <= 0x31E3 ||
               c >= 0x31F0 && c <= 0x321E ||
               c >= 0x3220 && c <= 0x3247 ||
               c >= 0x3250 && c <= 0x32FE ||
               c >= 0x3300 && c <= 0x4DBF ||
               c >= 0x4E00 && c <= 0xA48C ||
               c >= 0xA490 && c <= 0xA4C6 ||
               c >= 0xA960 && c <= 0xA97C ||
               c >= 0xAC00 && c <= 0xD7A3 ||
               c >= 0xD7B0 && c <= 0xD7C6 ||
               c >= 0xD7CB && c <= 0xD7FB ||
               c >= 0xF900 && c <= 0xFAFF ||
               c >= 0xFE10 && c <= 0xFE19 ||
               c >= 0xFE30 && c <= 0xFE52 ||
               c >= 0xFE54 && c <= 0xFE66 ||
               c >= 0xFE68 && c <= 0xFE6B ||
               c >= 0xFF01 && c <= 0xFF60 ||
               c >= 0xFFE0 && c <= 0xFFE6;
    }

}).call(EditSession.prototype);

acequire("./edit_session/folding").Folding.call(EditSession.prototype);
acequire("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype);


config.defineOptions(EditSession.prototype, "session", {
    wrap: {
        set: function(value) {
            if (!value || value == "off")
                value = false;
            else if (value == "free")
                value = true;
            else if (value == "printMargin")
                value = -1;
            else if (typeof value == "string")
                value = parseInt(value, 10) || false;

            if (this.$wrap == value)
                return;
            this.$wrap = value;
            if (!value) {
                this.setUseWrapMode(false);
            } else {
                var col = typeof value == "number" ? value : null;
                this.setWrapLimitRange(col, col);
                this.setUseWrapMode(true);
            }
        },
        get: function() {
            if (this.getUseWrapMode()) {
                if (this.$wrap == -1)
                    return "printMargin";
                if (!this.getWrapLimitRange().min)
                    return "free";
                return this.$wrap;
            }
            return "off";
        },
        handlesSet: true
    },    
    wrapMethod: {
        set: function(val) {
            val = val == "auto"
                ? this.$mode.type != "text"
                : val != "text";
            if (val != this.$wrapAsCode) {
                this.$wrapAsCode = val;
                if (this.$useWrapMode) {
                    this.$modified = true;
                    this.$resetRowCache(0);
                    this.$updateWrapData(0, this.getLength() - 1);
                }
            }
        },
        initialValue: "auto"
    },
    indentedSoftWrap: { initialValue: true },
    firstLineNumber: {
        set: function() {this._signal("changeBreakpoint");},
        initialValue: 1
    },
    useWorker: {
        set: function(useWorker) {
            this.$useWorker = useWorker;

            this.$stopWorker();
            if (useWorker)
                this.$startWorker();
        },
        initialValue: true
    },
    useSoftTabs: {initialValue: true},
    tabSize: {
        set: function(tabSize) {
            if (isNaN(tabSize) || this.$tabSize === tabSize) return;

            this.$modified = true;
            this.$rowLengthCache = [];
            this.$tabSize = tabSize;
            this._signal("changeTabSize");
        },
        initialValue: 4,
        handlesSet: true
    },
    overwrite: {
        set: function(val) {this._signal("changeOverwrite");},
        initialValue: false
    },
    newLineMode: {
        set: function(val) {this.doc.setNewLineMode(val)},
        get: function() {return this.doc.getNewLineMode()},
        handlesSet: true
    },
    mode: {
        set: function(val) { this.setMode(val) },
        get: function() { return this.$modeId }
    }
});

exports.EditSession = EditSession;
});

ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"], function(acequire, exports, module) {
"use strict";

var lang = acequire("./lib/lang");
var oop = acequire("./lib/oop");
var Range = acequire("./range").Range;

var Search = function() {
    this.$options = {};
};

(function() {
    this.set = function(options) {
        oop.mixin(this.$options, options);
        return this;
    };
    this.getOptions = function() {
        return lang.copyObject(this.$options);
    };
    this.setOptions = function(options) {
        this.$options = options;
    };
    this.find = function(session) {
        var options = this.$options;
        var iterator = this.$matchIterator(session, options);
        if (!iterator)
            return false;

        var firstRange = null;
        iterator.forEach(function(range, row, offset) {
            if (!range.start) {
                var column = range.offset + (offset || 0);
                firstRange = new Range(row, column, row, column + range.length);
                if (!range.length && options.start && options.start.start
                    && options.skipCurrent != false && firstRange.isEqual(options.start)
                ) {
                    firstRange = null;
                    return false;
                }
            } else
                firstRange = range;
            return true;
        });

        return firstRange;
    };
    this.findAll = function(session) {
        var options = this.$options;
        if (!options.needle)
            return [];
        this.$assembleRegExp(options);

        var range = options.range;
        var lines = range
            ? session.getLines(range.start.row, range.end.row)
            : session.doc.getAllLines();

        var ranges = [];
        var re = options.re;
        if (options.$isMultiLine) {
            var len = re.length;
            var maxRow = lines.length - len;
            var prevRange;
            outer: for (var row = re.offset || 0; row <= maxRow; row++) {
                for (var j = 0; j < len; j++)
                    if (lines[row + j].search(re[j]) == -1)
                        continue outer;
                
                var startLine = lines[row];
                var line = lines[row + len - 1];
                var startIndex = startLine.length - startLine.match(re[0])[0].length;
                var endIndex = line.match(re[len - 1])[0].length;
                
                if (prevRange && prevRange.end.row === row &&
                    prevRange.end.column > startIndex
                ) {
                    continue;
                }
                ranges.push(prevRange = new Range(
                    row, startIndex, row + len - 1, endIndex
                ));
                if (len > 2)
                    row = row + len - 2;
            }
        } else {
            for (var i = 0; i < lines.length; i++) {
                var matches = lang.getMatchOffsets(lines[i], re);
                for (var j = 0; j < matches.length; j++) {
                    var match = matches[j];
                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));
                }
            }
        }

        if (range) {
            var startColumn = range.start.column;
            var endColumn = range.start.column;
            var i = 0, j = ranges.length - 1;
            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)
                i++;

            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)
                j--;
            
            ranges = ranges.slice(i, j + 1);
            for (i = 0, j = ranges.length; i < j; i++) {
                ranges[i].start.row += range.start.row;
                ranges[i].end.row += range.start.row;
            }
        }

        return ranges;
    };
    this.replace = function(input, replacement) {
        var options = this.$options;

        var re = this.$assembleRegExp(options);
        if (options.$isMultiLine)
            return replacement;

        if (!re)
            return;

        var match = re.exec(input);
        if (!match || match[0].length != input.length)
            return null;
        
        replacement = input.replace(re, replacement);
        if (options.preserveCase) {
            replacement = replacement.split("");
            for (var i = Math.min(input.length, input.length); i--; ) {
                var ch = input[i];
                if (ch && ch.toLowerCase() != ch)
                    replacement[i] = replacement[i].toUpperCase();
                else
                    replacement[i] = replacement[i].toLowerCase();
            }
            replacement = replacement.join("");
        }
        
        return replacement;
    };

    this.$matchIterator = function(session, options) {
        var re = this.$assembleRegExp(options);
        if (!re)
            return false;

        var callback;
        if (options.$isMultiLine) {
            var len = re.length;
            var matchIterator = function(line, row, offset) {
                var startIndex = line.search(re[0]);
                if (startIndex == -1)
                    return;
                for (var i = 1; i < len; i++) {
                    line = session.getLine(row + i);
                    if (line.search(re[i]) == -1)
                        return;
                }

                var endIndex = line.match(re[len - 1])[0].length;

                var range = new Range(row, startIndex, row + len - 1, endIndex);
                if (re.offset == 1) {
                    range.start.row--;
                    range.start.column = Number.MAX_VALUE;
                } else if (offset)
                    range.start.column += offset;

                if (callback(range))
                    return true;
            };
        } else if (options.backwards) {
            var matchIterator = function(line, row, startIndex) {
                var matches = lang.getMatchOffsets(line, re);
                for (var i = matches.length-1; i >= 0; i--)
                    if (callback(matches[i], row, startIndex))
                        return true;
            };
        } else {
            var matchIterator = function(line, row, startIndex) {
                var matches = lang.getMatchOffsets(line, re);
                for (var i = 0; i < matches.length; i++)
                    if (callback(matches[i], row, startIndex))
                        return true;
            };
        }
        
        var lineIterator = this.$lineIterator(session, options);

        return {
            forEach: function(_callback) {
                callback = _callback;
                lineIterator.forEach(matchIterator);
            }
        };
    };

    this.$assembleRegExp = function(options, $disableFakeMultiline) {
        if (options.needle instanceof RegExp)
            return options.re = options.needle;

        var needle = options.needle;

        if (!options.needle)
            return options.re = false;

        if (!options.regExp)
            needle = lang.escapeRegExp(needle);

        if (options.wholeWord)
            needle = "\\b" + needle + "\\b";

        var modifier = options.caseSensitive ? "gm" : "gmi";

        options.$isMultiLine = !$disableFakeMultiline && /[\n\r]/.test(needle);
        if (options.$isMultiLine)
            return options.re = this.$assembleMultilineRegExp(needle, modifier);

        try {
            var re = new RegExp(needle, modifier);
        } catch(e) {
            re = false;
        }
        return options.re = re;
    };

    this.$assembleMultilineRegExp = function(needle, modifier) {
        var parts = needle.replace(/\r\n|\r|\n/g, "$\n^").split("\n");
        var re = [];
        for (var i = 0; i < parts.length; i++) try {
            re.push(new RegExp(parts[i], modifier));
        } catch(e) {
            return false;
        }
        if (parts[0] == "") {
            re.shift();
            re.offset = 1;
        } else {
            re.offset = 0;
        }
        return re;
    };

    this.$lineIterator = function(session, options) {
        var backwards = options.backwards == true;
        var skipCurrent = options.skipCurrent != false;

        var range = options.range;
        var start = options.start;
        if (!start)
            start = range ? range[backwards ? "end" : "start"] : session.selection.getRange();
         
        if (start.start)
            start = start[skipCurrent != backwards ? "end" : "start"];

        var firstRow = range ? range.start.row : 0;
        var lastRow = range ? range.end.row : session.getLength() - 1;

        var forEach = backwards ? function(callback) {
                var row = start.row;

                var line = session.getLine(row).substring(0, start.column);
                if (callback(line, row))
                    return;

                for (row--; row >= firstRow; row--)
                    if (callback(session.getLine(row), row))
                        return;

                if (options.wrap == false)
                    return;

                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)
                    if (callback(session.getLine(row), row))
                        return;
            } : function(callback) {
                var row = start.row;

                var line = session.getLine(row).substr(start.column);
                if (callback(line, row, start.column))
                    return;

                for (row = row+1; row <= lastRow; row++)
                    if (callback(session.getLine(row), row))
                        return;

                if (options.wrap == false)
                    return;

                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)
                    if (callback(session.getLine(row), row))
                        return;
            };
        
        return {forEach: forEach};
    };

}).call(Search.prototype);

exports.Search = Search;
});

ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var keyUtil = acequire("../lib/keys");
var useragent = acequire("../lib/useragent");
var KEY_MODS = keyUtil.KEY_MODS;

function HashHandler(config, platform) {
    this.platform = platform || (useragent.isMac ? "mac" : "win");
    this.commands = {};
    this.commandKeyBinding = {};
    this.addCommands(config);
    this.$singleCommand = true;
}

function MultiHashHandler(config, platform) {
    HashHandler.call(this, config, platform);
    this.$singleCommand = false;
}

MultiHashHandler.prototype = HashHandler.prototype;

(function() {
    

    this.addCommand = function(command) {
        if (this.commands[command.name])
            this.removeCommand(command);

        this.commands[command.name] = command;

        if (command.bindKey)
            this._buildKeyHash(command);
    };

    this.removeCommand = function(command, keepCommand) {
        var name = command && (typeof command === 'string' ? command : command.name);
        command = this.commands[name];
        if (!keepCommand)
            delete this.commands[name];
        var ckb = this.commandKeyBinding;
        for (var keyId in ckb) {
            var cmdGroup = ckb[keyId];
            if (cmdGroup == command) {
                delete ckb[keyId];
            } else if (Array.isArray(cmdGroup)) {
                var i = cmdGroup.indexOf(command);
                if (i != -1) {
                    cmdGroup.splice(i, 1);
                    if (cmdGroup.length == 1)
                        ckb[keyId] = cmdGroup[0];
                }
            }
        }
    };

    this.bindKey = function(key, command, position) {
        if (typeof key == "object" && key) {
            if (position == undefined)
                position = key.position;
            key = key[this.platform];
        }
        if (!key)
            return;
        if (typeof command == "function")
            return this.addCommand({exec: command, bindKey: key, name: command.name || key});
        
        key.split("|").forEach(function(keyPart) {
            var chain = "";
            if (keyPart.indexOf(" ") != -1) {
                var parts = keyPart.split(/\s+/);
                keyPart = parts.pop();
                parts.forEach(function(keyPart) {
                    var binding = this.parseKeys(keyPart);
                    var id = KEY_MODS[binding.hashId] + binding.key;
                    chain += (chain ? " " : "") + id;
                    this._addCommandToBinding(chain, "chainKeys");
                }, this);
                chain += " ";
            }
            var binding = this.parseKeys(keyPart);
            var id = KEY_MODS[binding.hashId] + binding.key;
            this._addCommandToBinding(chain + id, command, position);
        }, this);
    };
    
    function getPosition(command) {
        return typeof command == "object" && command.bindKey
            && command.bindKey.position || 0;
    }
    this._addCommandToBinding = function(keyId, command, position) {
        var ckb = this.commandKeyBinding, i;
        if (!command) {
            delete ckb[keyId];
        } else if (!ckb[keyId] || this.$singleCommand) {
            ckb[keyId] = command;
        } else {
            if (!Array.isArray(ckb[keyId])) {
                ckb[keyId] = [ckb[keyId]];
            } else if ((i = ckb[keyId].indexOf(command)) != -1) {
                ckb[keyId].splice(i, 1);
            }

            if (typeof position != "number") {
                if (position || command.isDefault)
                    position = -100;
                else
                   position = getPosition(command);
            }
            var commands = ckb[keyId];
            for (i = 0; i < commands.length; i++) {
                var other = commands[i];
                var otherPos = getPosition(other);
                if (otherPos > position)
                    break;
            }
            commands.splice(i, 0, command);
        }
    };

    this.addCommands = function(commands) {
        commands && Object.keys(commands).forEach(function(name) {
            var command = commands[name];
            if (!command)
                return;
            
            if (typeof command === "string")
                return this.bindKey(command, name);

            if (typeof command === "function")
                command = { exec: command };

            if (typeof command !== "object")
                return;

            if (!command.name)
                command.name = name;

            this.addCommand(command);
        }, this);
    };

    this.removeCommands = function(commands) {
        Object.keys(commands).forEach(function(name) {
            this.removeCommand(commands[name]);
        }, this);
    };

    this.bindKeys = function(keyList) {
        Object.keys(keyList).forEach(function(key) {
            this.bindKey(key, keyList[key]);
        }, this);
    };

    this._buildKeyHash = function(command) {
        this.bindKey(command.bindKey, command);
    };
    this.parseKeys = function(keys) {
        var parts = keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x});
        var key = parts.pop();

        var keyCode = keyUtil[key];
        if (keyUtil.FUNCTION_KEYS[keyCode])
            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();
        else if (!parts.length)
            return {key: key, hashId: -1};
        else if (parts.length == 1 && parts[0] == "shift")
            return {key: key.toUpperCase(), hashId: -1};

        var hashId = 0;
        for (var i = parts.length; i--;) {
            var modifier = keyUtil.KEY_MODS[parts[i]];
            if (modifier == null) {
                if (typeof console != "undefined")
                    console.error("invalid modifier " + parts[i] + " in " + keys);
                return false;
            }
            hashId |= modifier;
        }
        return {key: key, hashId: hashId};
    };

    this.findKeyCommand = function findKeyCommand(hashId, keyString) {
        var key = KEY_MODS[hashId] + keyString;
        return this.commandKeyBinding[key];
    };

    this.handleKeyboard = function(data, hashId, keyString, keyCode) {
        if (keyCode < 0) return;
        var key = KEY_MODS[hashId] + keyString;
        var command = this.commandKeyBinding[key];
        if (data.$keyChain) {
            data.$keyChain += " " + key;
            command = this.commandKeyBinding[data.$keyChain] || command;
        }
        
        if (command) {
            if (command == "chainKeys" || command[command.length - 1] == "chainKeys") {
                data.$keyChain = data.$keyChain || key;
                return {command: "null"};
            }
        }
        
        if (data.$keyChain) {
            if ((!hashId || hashId == 4) && keyString.length == 1)
                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input
            else if (hashId == -1 || keyCode > 0)
                data.$keyChain = ""; // reset keyChain
        }
        return {command: command};
    };
    
    this.getStatusText = function(editor, data) {
        return data.$keyChain || "";
    };

}).call(HashHandler.prototype);

exports.HashHandler = HashHandler;
exports.MultiHashHandler = MultiHashHandler;
});

ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var MultiHashHandler = acequire("../keyboard/hash_handler").MultiHashHandler;
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var CommandManager = function(platform, commands) {
    MultiHashHandler.call(this, commands, platform);
    this.byName = this.commands;
    this.setDefaultHandler("exec", function(e) {
        return e.command.exec(e.editor, e.args || {});
    });
};

oop.inherits(CommandManager, MultiHashHandler);

(function() {

    oop.implement(this, EventEmitter);

    this.exec = function(command, editor, args) {
        if (Array.isArray(command)) {
            for (var i = command.length; i--; ) {
                if (this.exec(command[i], editor, args)) return true;
            }
            return false;
        }
        
        if (typeof command === "string")
            command = this.commands[command];

        if (!command)
            return false;

        if (editor && editor.$readOnly && !command.readOnly)
            return false;

        var e = {editor: editor, command: command, args: args};
        e.returnValue = this._emit("exec", e);
        this._signal("afterExec", e);

        return e.returnValue === false ? false : true;
    };

    this.toggleRecording = function(editor) {
        if (this.$inReplay)
            return;

        editor && editor._emit("changeStatus");
        if (this.recording) {
            this.macro.pop();
            this.removeEventListener("exec", this.$addCommandToMacro);

            if (!this.macro.length)
                this.macro = this.oldMacro;

            return this.recording = false;
        }
        if (!this.$addCommandToMacro) {
            this.$addCommandToMacro = function(e) {
                this.macro.push([e.command, e.args]);
            }.bind(this);
        }

        this.oldMacro = this.macro;
        this.macro = [];
        this.on("exec", this.$addCommandToMacro);
        return this.recording = true;
    };

    this.replay = function(editor) {
        if (this.$inReplay || !this.macro)
            return;

        if (this.recording)
            return this.toggleRecording(editor);

        try {
            this.$inReplay = true;
            this.macro.forEach(function(x) {
                if (typeof x == "string")
                    this.exec(x, editor);
                else
                    this.exec(x[0], editor, x[1]);
            }, this);
        } finally {
            this.$inReplay = false;
        }
    };

    this.trimMacro = function(m) {
        return m.map(function(x){
            if (typeof x[0] != "string")
                x[0] = x[0].name;
            if (!x[1])
                x = x[0];
            return x;
        });
    };

}).call(CommandManager.prototype);

exports.CommandManager = CommandManager;

});

ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"], function(acequire, exports, module) {
"use strict";

var lang = acequire("../lib/lang");
var config = acequire("../config");
var Range = acequire("../range").Range;

function bindKey(win, mac) {
    return {win: win, mac: mac};
}
exports.commands = [{
    name: "showSettingsMenu",
    bindKey: bindKey("Ctrl-,", "Command-,"),
    exec: function(editor) {
        config.loadModule("ace/ext/settings_menu", function(module) {
            module.init(editor);
            editor.showSettingsMenu();
        });
    },
    readOnly: true
}, {
    name: "goToNextError",
    bindKey: bindKey("Alt-E", "Ctrl-E"),
    exec: function(editor) {
        config.loadModule("ace/ext/error_marker", function(module) {
            module.showErrorMarker(editor, 1);
        });
    },
    scrollIntoView: "animate",
    readOnly: true
}, {
    name: "goToPreviousError",
    bindKey: bindKey("Alt-Shift-E", "Ctrl-Shift-E"),
    exec: function(editor) {
        config.loadModule("ace/ext/error_marker", function(module) {
            module.showErrorMarker(editor, -1);
        });
    },
    scrollIntoView: "animate",
    readOnly: true
}, {
    name: "selectall",
    bindKey: bindKey("Ctrl-A", "Command-A"),
    exec: function(editor) { editor.selectAll(); },
    readOnly: true
}, {
    name: "centerselection",
    bindKey: bindKey(null, "Ctrl-L"),
    exec: function(editor) { editor.centerSelection(); },
    readOnly: true
}, {
    name: "gotoline",
    bindKey: bindKey("Ctrl-L", "Command-L"),
    exec: function(editor) {
        var line = parseInt(prompt("Enter line number:"), 10);
        if (!isNaN(line)) {
            editor.gotoLine(line);
        }
    },
    readOnly: true
}, {
    name: "fold",
    bindKey: bindKey("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
    exec: function(editor) { editor.session.toggleFold(false); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "unfold",
    bindKey: bindKey("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
    exec: function(editor) { editor.session.toggleFold(true); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "toggleFoldWidget",
    bindKey: bindKey("F2", "F2"),
    exec: function(editor) { editor.session.toggleFoldWidget(); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "toggleParentFoldWidget",
    bindKey: bindKey("Alt-F2", "Alt-F2"),
    exec: function(editor) { editor.session.toggleFoldWidget(true); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "foldall",
    bindKey: bindKey(null, "Ctrl-Command-Option-0"),
    exec: function(editor) { editor.session.foldAll(); },
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "foldOther",
    bindKey: bindKey("Alt-0", "Command-Option-0"),
    exec: function(editor) { 
        editor.session.foldAll();
        editor.session.unfold(editor.selection.getAllRanges());
    },
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "unfoldall",
    bindKey: bindKey("Alt-Shift-0", "Command-Option-Shift-0"),
    exec: function(editor) { editor.session.unfold(); },
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "findnext",
    bindKey: bindKey("Ctrl-K", "Command-G"),
    exec: function(editor) { editor.findNext(); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "findprevious",
    bindKey: bindKey("Ctrl-Shift-K", "Command-Shift-G"),
    exec: function(editor) { editor.findPrevious(); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "selectOrFindNext",
    bindKey: bindKey("Alt-K", "Ctrl-G"),
    exec: function(editor) {
        if (editor.selection.isEmpty())
            editor.selection.selectWord();
        else
            editor.findNext(); 
    },
    readOnly: true
}, {
    name: "selectOrFindPrevious",
    bindKey: bindKey("Alt-Shift-K", "Ctrl-Shift-G"),
    exec: function(editor) { 
        if (editor.selection.isEmpty())
            editor.selection.selectWord();
        else
            editor.findPrevious();
    },
    readOnly: true
}, {
    name: "find",
    bindKey: bindKey("Ctrl-F", "Command-F"),
    exec: function(editor) {
        config.loadModule("ace/ext/searchbox", function(e) {e.Search(editor)});
    },
    readOnly: true
}, {
    name: "overwrite",
    bindKey: "Insert",
    exec: function(editor) { editor.toggleOverwrite(); },
    readOnly: true
}, {
    name: "selecttostart",
    bindKey: bindKey("Ctrl-Shift-Home", "Command-Shift-Up"),
    exec: function(editor) { editor.getSelection().selectFileStart(); },
    multiSelectAction: "forEach",
    readOnly: true,
    scrollIntoView: "animate",
    aceCommandGroup: "fileJump"
}, {
    name: "gotostart",
    bindKey: bindKey("Ctrl-Home", "Command-Home|Command-Up"),
    exec: function(editor) { editor.navigateFileStart(); },
    multiSelectAction: "forEach",
    readOnly: true,
    scrollIntoView: "animate",
    aceCommandGroup: "fileJump"
}, {
    name: "selectup",
    bindKey: bindKey("Shift-Up", "Shift-Up"),
    exec: function(editor) { editor.getSelection().selectUp(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "golineup",
    bindKey: bindKey("Up", "Up|Ctrl-P"),
    exec: function(editor, args) { editor.navigateUp(args.times); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selecttoend",
    bindKey: bindKey("Ctrl-Shift-End", "Command-Shift-Down"),
    exec: function(editor) { editor.getSelection().selectFileEnd(); },
    multiSelectAction: "forEach",
    readOnly: true,
    scrollIntoView: "animate",
    aceCommandGroup: "fileJump"
}, {
    name: "gotoend",
    bindKey: bindKey("Ctrl-End", "Command-End|Command-Down"),
    exec: function(editor) { editor.navigateFileEnd(); },
    multiSelectAction: "forEach",
    readOnly: true,
    scrollIntoView: "animate",
    aceCommandGroup: "fileJump"
}, {
    name: "selectdown",
    bindKey: bindKey("Shift-Down", "Shift-Down"),
    exec: function(editor) { editor.getSelection().selectDown(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "golinedown",
    bindKey: bindKey("Down", "Down|Ctrl-N"),
    exec: function(editor, args) { editor.navigateDown(args.times); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectwordleft",
    bindKey: bindKey("Ctrl-Shift-Left", "Option-Shift-Left"),
    exec: function(editor) { editor.getSelection().selectWordLeft(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotowordleft",
    bindKey: bindKey("Ctrl-Left", "Option-Left"),
    exec: function(editor) { editor.navigateWordLeft(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selecttolinestart",
    bindKey: bindKey("Alt-Shift-Left", "Command-Shift-Left"),
    exec: function(editor) { editor.getSelection().selectLineStart(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotolinestart",
    bindKey: bindKey("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
    exec: function(editor) { editor.navigateLineStart(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectleft",
    bindKey: bindKey("Shift-Left", "Shift-Left"),
    exec: function(editor) { editor.getSelection().selectLeft(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotoleft",
    bindKey: bindKey("Left", "Left|Ctrl-B"),
    exec: function(editor, args) { editor.navigateLeft(args.times); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectwordright",
    bindKey: bindKey("Ctrl-Shift-Right", "Option-Shift-Right"),
    exec: function(editor) { editor.getSelection().selectWordRight(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotowordright",
    bindKey: bindKey("Ctrl-Right", "Option-Right"),
    exec: function(editor) { editor.navigateWordRight(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selecttolineend",
    bindKey: bindKey("Alt-Shift-Right", "Command-Shift-Right"),
    exec: function(editor) { editor.getSelection().selectLineEnd(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotolineend",
    bindKey: bindKey("Alt-Right|End", "Command-Right|End|Ctrl-E"),
    exec: function(editor) { editor.navigateLineEnd(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectright",
    bindKey: bindKey("Shift-Right", "Shift-Right"),
    exec: function(editor) { editor.getSelection().selectRight(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotoright",
    bindKey: bindKey("Right", "Right|Ctrl-F"),
    exec: function(editor, args) { editor.navigateRight(args.times); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectpagedown",
    bindKey: "Shift-PageDown",
    exec: function(editor) { editor.selectPageDown(); },
    readOnly: true
}, {
    name: "pagedown",
    bindKey: bindKey(null, "Option-PageDown"),
    exec: function(editor) { editor.scrollPageDown(); },
    readOnly: true
}, {
    name: "gotopagedown",
    bindKey: bindKey("PageDown", "PageDown|Ctrl-V"),
    exec: function(editor) { editor.gotoPageDown(); },
    readOnly: true
}, {
    name: "selectpageup",
    bindKey: "Shift-PageUp",
    exec: function(editor) { editor.selectPageUp(); },
    readOnly: true
}, {
    name: "pageup",
    bindKey: bindKey(null, "Option-PageUp"),
    exec: function(editor) { editor.scrollPageUp(); },
    readOnly: true
}, {
    name: "gotopageup",
    bindKey: "PageUp",
    exec: function(editor) { editor.gotoPageUp(); },
    readOnly: true
}, {
    name: "scrollup",
    bindKey: bindKey("Ctrl-Up", null),
    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },
    readOnly: true
}, {
    name: "scrolldown",
    bindKey: bindKey("Ctrl-Down", null),
    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },
    readOnly: true
}, {
    name: "selectlinestart",
    bindKey: "Shift-Home",
    exec: function(editor) { editor.getSelection().selectLineStart(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectlineend",
    bindKey: "Shift-End",
    exec: function(editor) { editor.getSelection().selectLineEnd(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "togglerecording",
    bindKey: bindKey("Ctrl-Alt-E", "Command-Option-E"),
    exec: function(editor) { editor.commands.toggleRecording(editor); },
    readOnly: true
}, {
    name: "replaymacro",
    bindKey: bindKey("Ctrl-Shift-E", "Command-Shift-E"),
    exec: function(editor) { editor.commands.replay(editor); },
    readOnly: true
}, {
    name: "jumptomatching",
    bindKey: bindKey("Ctrl-P", "Ctrl-P"),
    exec: function(editor) { editor.jumpToMatching(); },
    multiSelectAction: "forEach",
    scrollIntoView: "animate",
    readOnly: true
}, {
    name: "selecttomatching",
    bindKey: bindKey("Ctrl-Shift-P", "Ctrl-Shift-P"),
    exec: function(editor) { editor.jumpToMatching(true); },
    multiSelectAction: "forEach",
    scrollIntoView: "animate",
    readOnly: true
}, {
    name: "expandToMatching",
    bindKey: bindKey("Ctrl-Shift-M", "Ctrl-Shift-M"),
    exec: function(editor) { editor.jumpToMatching(true, true); },
    multiSelectAction: "forEach",
    scrollIntoView: "animate",
    readOnly: true
}, {
    name: "passKeysToBrowser",
    bindKey: bindKey(null, null),
    exec: function() {},
    passEvent: true,
    readOnly: true
}, {
    name: "copy",
    exec: function(editor) {
    },
    readOnly: true
},
{
    name: "cut",
    exec: function(editor) {
        var range = editor.getSelectionRange();
        editor._emit("cut", range);

        if (!editor.selection.isEmpty()) {
            editor.session.remove(range);
            editor.clearSelection();
        }
    },
    scrollIntoView: "cursor",
    multiSelectAction: "forEach"
}, {
    name: "paste",
    exec: function(editor, args) {
        editor.$handlePaste(args);
    },
    scrollIntoView: "cursor"
}, {
    name: "removeline",
    bindKey: bindKey("Ctrl-D", "Command-D"),
    exec: function(editor) { editor.removeLines(); },
    scrollIntoView: "cursor",
    multiSelectAction: "forEachLine"
}, {
    name: "duplicateSelection",
    bindKey: bindKey("Ctrl-Shift-D", "Command-Shift-D"),
    exec: function(editor) { editor.duplicateSelection(); },
    scrollIntoView: "cursor",
    multiSelectAction: "forEach"
}, {
    name: "sortlines",
    bindKey: bindKey("Ctrl-Alt-S", "Command-Alt-S"),
    exec: function(editor) { editor.sortLines(); },
    scrollIntoView: "selection",
    multiSelectAction: "forEachLine"
}, {
    name: "togglecomment",
    bindKey: bindKey("Ctrl-/", "Command-/"),
    exec: function(editor) { editor.toggleCommentLines(); },
    multiSelectAction: "forEachLine",
    scrollIntoView: "selectionPart"
}, {
    name: "toggleBlockComment",
    bindKey: bindKey("Ctrl-Shift-/", "Command-Shift-/"),
    exec: function(editor) { editor.toggleBlockComment(); },
    multiSelectAction: "forEach",
    scrollIntoView: "selectionPart"
}, {
    name: "modifyNumberUp",
    bindKey: bindKey("Ctrl-Shift-Up", "Alt-Shift-Up"),
    exec: function(editor) { editor.modifyNumber(1); },
    scrollIntoView: "cursor",
    multiSelectAction: "forEach"
}, {
    name: "modifyNumberDown",
    bindKey: bindKey("Ctrl-Shift-Down", "Alt-Shift-Down"),
    exec: function(editor) { editor.modifyNumber(-1); },
    scrollIntoView: "cursor",
    multiSelectAction: "forEach"
}, {
    name: "replace",
    bindKey: bindKey("Ctrl-H", "Command-Option-F"),
    exec: function(editor) {
        config.loadModule("ace/ext/searchbox", function(e) {e.Search(editor, true)});
    }
}, {
    name: "undo",
    bindKey: bindKey("Ctrl-Z", "Command-Z"),
    exec: function(editor) { editor.undo(); }
}, {
    name: "redo",
    bindKey: bindKey("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
    exec: function(editor) { editor.redo(); }
}, {
    name: "copylinesup",
    bindKey: bindKey("Alt-Shift-Up", "Command-Option-Up"),
    exec: function(editor) { editor.copyLinesUp(); },
    scrollIntoView: "cursor"
}, {
    name: "movelinesup",
    bindKey: bindKey("Alt-Up", "Option-Up"),
    exec: function(editor) { editor.moveLinesUp(); },
    scrollIntoView: "cursor"
}, {
    name: "copylinesdown",
    bindKey: bindKey("Alt-Shift-Down", "Command-Option-Down"),
    exec: function(editor) { editor.copyLinesDown(); },
    scrollIntoView: "cursor"
}, {
    name: "movelinesdown",
    bindKey: bindKey("Alt-Down", "Option-Down"),
    exec: function(editor) { editor.moveLinesDown(); },
    scrollIntoView: "cursor"
}, {
    name: "del",
    bindKey: bindKey("Delete", "Delete|Ctrl-D|Shift-Delete"),
    exec: function(editor) { editor.remove("right"); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "backspace",
    bindKey: bindKey(
        "Shift-Backspace|Backspace",
        "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"
    ),
    exec: function(editor) { editor.remove("left"); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "cut_or_delete",
    bindKey: bindKey("Shift-Delete", null),
    exec: function(editor) { 
        if (editor.selection.isEmpty()) {
            editor.remove("left");
        } else {
            return false;
        }
    },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "removetolinestart",
    bindKey: bindKey("Alt-Backspace", "Command-Backspace"),
    exec: function(editor) { editor.removeToLineStart(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "removetolineend",
    bindKey: bindKey("Alt-Delete", "Ctrl-K"),
    exec: function(editor) { editor.removeToLineEnd(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "removewordleft",
    bindKey: bindKey("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
    exec: function(editor) { editor.removeWordLeft(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "removewordright",
    bindKey: bindKey("Ctrl-Delete", "Alt-Delete"),
    exec: function(editor) { editor.removeWordRight(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "outdent",
    bindKey: bindKey("Shift-Tab", "Shift-Tab"),
    exec: function(editor) { editor.blockOutdent(); },
    multiSelectAction: "forEach",
    scrollIntoView: "selectionPart"
}, {
    name: "indent",
    bindKey: bindKey("Tab", "Tab"),
    exec: function(editor) { editor.indent(); },
    multiSelectAction: "forEach",
    scrollIntoView: "selectionPart"
}, {
    name: "blockoutdent",
    bindKey: bindKey("Ctrl-[", "Ctrl-["),
    exec: function(editor) { editor.blockOutdent(); },
    multiSelectAction: "forEachLine",
    scrollIntoView: "selectionPart"
}, {
    name: "blockindent",
    bindKey: bindKey("Ctrl-]", "Ctrl-]"),
    exec: function(editor) { editor.blockIndent(); },
    multiSelectAction: "forEachLine",
    scrollIntoView: "selectionPart"
}, {
    name: "insertstring",
    exec: function(editor, str) { editor.insert(str); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "inserttext",
    exec: function(editor, args) {
        editor.insert(lang.stringRepeat(args.text  || "", args.times || 1));
    },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "splitline",
    bindKey: bindKey(null, "Ctrl-O"),
    exec: function(editor) { editor.splitLine(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "transposeletters",
    bindKey: bindKey("Ctrl-T", "Ctrl-T"),
    exec: function(editor) { editor.transposeLetters(); },
    multiSelectAction: function(editor) {editor.transposeSelections(1); },
    scrollIntoView: "cursor"
}, {
    name: "touppercase",
    bindKey: bindKey("Ctrl-U", "Ctrl-U"),
    exec: function(editor) { editor.toUpperCase(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "tolowercase",
    bindKey: bindKey("Ctrl-Shift-U", "Ctrl-Shift-U"),
    exec: function(editor) { editor.toLowerCase(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "expandtoline",
    bindKey: bindKey("Ctrl-Shift-L", "Command-Shift-L"),
    exec: function(editor) {
        var range = editor.selection.getRange();

        range.start.column = range.end.column = 0;
        range.end.row++;
        editor.selection.setRange(range, false);
    },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "joinlines",
    bindKey: bindKey(null, null),
    exec: function(editor) {
        var isBackwards = editor.selection.isBackwards();
        var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();
        var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();
        var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;
        var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());
        var selectedCount = selectedText.replace(/\n\s*/, " ").length;
        var insertLine = editor.session.doc.getLine(selectionStart.row);

        for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {
            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));
            if (curLine.length !== 0) {
                curLine = " " + curLine;
            }
            insertLine += curLine;
        }

        if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {
            insertLine += editor.session.doc.getNewLineCharacter();
        }

        editor.clearSelection();
        editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);

        if (selectedCount > 0) {
            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);
            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);
        } else {
            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;
            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);
        }
    },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "invertSelection",
    bindKey: bindKey(null, null),
    exec: function(editor) {
        var endRow = editor.session.doc.getLength() - 1;
        var endCol = editor.session.doc.getLine(endRow).length;
        var ranges = editor.selection.rangeList.ranges;
        var newRanges = [];
        if (ranges.length < 1) {
            ranges = [editor.selection.getRange()];
        }

        for (var i = 0; i < ranges.length; i++) {
            if (i == (ranges.length - 1)) {
                if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {
                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));
                }
            }

            if (i === 0) {
                if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {
                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));
                }
            } else {
                newRanges.push(new Range(ranges[i-1].end.row, ranges[i-1].end.column, ranges[i].start.row, ranges[i].start.column));
            }
        }

        editor.exitMultiSelectMode();
        editor.clearSelection();

        for(var i = 0; i < newRanges.length; i++) {
            editor.selection.addRange(newRanges[i], false);
        }
    },
    readOnly: true,
    scrollIntoView: "none"
}];

});

ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"], function(acequire, exports, module) {
"use strict";

acequire("./lib/fixoldbrowsers");

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var lang = acequire("./lib/lang");
var useragent = acequire("./lib/useragent");
var TextInput = acequire("./keyboard/textinput").TextInput;
var MouseHandler = acequire("./mouse/mouse_handler").MouseHandler;
var FoldHandler = acequire("./mouse/fold_handler").FoldHandler;
var KeyBinding = acequire("./keyboard/keybinding").KeyBinding;
var EditSession = acequire("./edit_session").EditSession;
var Search = acequire("./search").Search;
var Range = acequire("./range").Range;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var CommandManager = acequire("./commands/command_manager").CommandManager;
var defaultCommands = acequire("./commands/default_commands").commands;
var config = acequire("./config");
var TokenIterator = acequire("./token_iterator").TokenIterator;
var Editor = function(renderer, session) {
    var container = renderer.getContainerElement();
    this.container = container;
    this.renderer = renderer;

    this.commands = new CommandManager(useragent.isMac ? "mac" : "win", defaultCommands);
    this.textInput  = new TextInput(renderer.getTextAreaContainer(), this);
    this.renderer.textarea = this.textInput.getElement();
    this.keyBinding = new KeyBinding(this);
    this.$mouseHandler = new MouseHandler(this);
    new FoldHandler(this);

    this.$blockScrolling = 0;
    this.$search = new Search().set({
        wrap: true
    });

    this.$historyTracker = this.$historyTracker.bind(this);
    this.commands.on("exec", this.$historyTracker);

    this.$initOperationListeners();
    
    this._$emitInputEvent = lang.delayedCall(function() {
        this._signal("input", {});
        if (this.session && this.session.bgTokenizer)
            this.session.bgTokenizer.scheduleStart();
    }.bind(this));
    
    this.on("change", function(_, _self) {
        _self._$emitInputEvent.schedule(31);
    });

    this.setSession(session || new EditSession(""));
    config.resetOptions(this);
    config._signal("editor", this);
};

(function(){

    oop.implement(this, EventEmitter);

    this.$initOperationListeners = function() {
        function last(a) {return a[a.length - 1]}

        this.selections = [];
        this.commands.on("exec", this.startOperation.bind(this), true);
        this.commands.on("afterExec", this.endOperation.bind(this), true);

        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this));

        this.on("change", function() {
            this.curOp || this.startOperation();
            this.curOp.docChanged = true;
        }.bind(this), true);

        this.on("changeSelection", function() {
            this.curOp || this.startOperation();
            this.curOp.selectionChanged = true;
        }.bind(this), true);
    };

    this.curOp = null;
    this.prevOp = {};
    this.startOperation = function(commadEvent) {
        if (this.curOp) {
            if (!commadEvent || this.curOp.command)
                return;
            this.prevOp = this.curOp;
        }
        if (!commadEvent) {
            this.previousCommand = null;
            commadEvent = {};
        }

        this.$opResetTimer.schedule();
        this.curOp = {
            command: commadEvent.command || {},
            args: commadEvent.args,
            scrollTop: this.renderer.scrollTop
        };
        if (this.curOp.command.name && this.curOp.command.scrollIntoView !== undefined)
            this.$blockScrolling++;
    };

    this.endOperation = function(e) {
        if (this.curOp) {
            if (e && e.returnValue === false)
                return this.curOp = null;
            this._signal("beforeEndOperation");
            var command = this.curOp.command;
            if (command.name && this.$blockScrolling > 0)
                this.$blockScrolling--;
            var scrollIntoView = command && command.scrollIntoView;
            if (scrollIntoView) {
                switch (scrollIntoView) {
                    case "center-animate":
                        scrollIntoView = "animate";
                    case "center":
                        this.renderer.scrollCursorIntoView(null, 0.5);
                        break;
                    case "animate":
                    case "cursor":
                        this.renderer.scrollCursorIntoView();
                        break;
                    case "selectionPart":
                        var range = this.selection.getRange();
                        var config = this.renderer.layerConfig;
                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {
                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);
                        }
                        break;
                    default:
                        break;
                }
                if (scrollIntoView == "animate")
                    this.renderer.animateScrolling(this.curOp.scrollTop);
            }
            
            this.prevOp = this.curOp;
            this.curOp = null;
        }
    };
    this.$mergeableCommands = ["backspace", "del", "insertstring"];
    this.$historyTracker = function(e) {
        if (!this.$mergeUndoDeltas)
            return;

        var prev = this.prevOp;
        var mergeableCommands = this.$mergeableCommands;
        var shouldMerge = prev.command && (e.command.name == prev.command.name);
        if (e.command.name == "insertstring") {
            var text = e.args;
            if (this.mergeNextCommand === undefined)
                this.mergeNextCommand = true;

            shouldMerge = shouldMerge
                && this.mergeNextCommand // previous command allows to coalesce with
                && (!/\s/.test(text) || /\s/.test(prev.args)); // previous insertion was of same type

            this.mergeNextCommand = true;
        } else {
            shouldMerge = shouldMerge
                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable
        }

        if (
            this.$mergeUndoDeltas != "always"
            && Date.now() - this.sequenceStartTime > 2000
        ) {
            shouldMerge = false; // the sequence is too long
        }

        if (shouldMerge)
            this.session.mergeUndoDeltas = true;
        else if (mergeableCommands.indexOf(e.command.name) !== -1)
            this.sequenceStartTime = Date.now();
    };
    this.setKeyboardHandler = function(keyboardHandler, cb) {
        if (keyboardHandler && typeof keyboardHandler === "string") {
            this.$keybindingId = keyboardHandler;
            var _self = this;
            config.loadModule(["keybinding", keyboardHandler], function(module) {
                if (_self.$keybindingId == keyboardHandler)
                    _self.keyBinding.setKeyboardHandler(module && module.handler);
                cb && cb();
            });
        } else {
            this.$keybindingId = null;
            this.keyBinding.setKeyboardHandler(keyboardHandler);
            cb && cb();
        }
    };
    this.getKeyboardHandler = function() {
        return this.keyBinding.getKeyboardHandler();
    };
    this.setSession = function(session) {
        if (this.session == session)
            return;
        if (this.curOp) this.endOperation();
        this.curOp = {};

        var oldSession = this.session;
        if (oldSession) {
            this.session.off("change", this.$onDocumentChange);
            this.session.off("changeMode", this.$onChangeMode);
            this.session.off("tokenizerUpdate", this.$onTokenizerUpdate);
            this.session.off("changeTabSize", this.$onChangeTabSize);
            this.session.off("changeWrapLimit", this.$onChangeWrapLimit);
            this.session.off("changeWrapMode", this.$onChangeWrapMode);
            this.session.off("changeFold", this.$onChangeFold);
            this.session.off("changeFrontMarker", this.$onChangeFrontMarker);
            this.session.off("changeBackMarker", this.$onChangeBackMarker);
            this.session.off("changeBreakpoint", this.$onChangeBreakpoint);
            this.session.off("changeAnnotation", this.$onChangeAnnotation);
            this.session.off("changeOverwrite", this.$onCursorChange);
            this.session.off("changeScrollTop", this.$onScrollTopChange);
            this.session.off("changeScrollLeft", this.$onScrollLeftChange);

            var selection = this.session.getSelection();
            selection.off("changeCursor", this.$onCursorChange);
            selection.off("changeSelection", this.$onSelectionChange);
        }

        this.session = session;
        if (session) {
            this.$onDocumentChange = this.onDocumentChange.bind(this);
            session.on("change", this.$onDocumentChange);
            this.renderer.setSession(session);
    
            this.$onChangeMode = this.onChangeMode.bind(this);
            session.on("changeMode", this.$onChangeMode);
    
            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);
            session.on("tokenizerUpdate", this.$onTokenizerUpdate);
    
            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);
            session.on("changeTabSize", this.$onChangeTabSize);
    
            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);
            session.on("changeWrapLimit", this.$onChangeWrapLimit);
    
            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);
            session.on("changeWrapMode", this.$onChangeWrapMode);
    
            this.$onChangeFold = this.onChangeFold.bind(this);
            session.on("changeFold", this.$onChangeFold);
    
            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);
            this.session.on("changeFrontMarker", this.$onChangeFrontMarker);
    
            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);
            this.session.on("changeBackMarker", this.$onChangeBackMarker);
    
            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);
            this.session.on("changeBreakpoint", this.$onChangeBreakpoint);
    
            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);
            this.session.on("changeAnnotation", this.$onChangeAnnotation);
    
            this.$onCursorChange = this.onCursorChange.bind(this);
            this.session.on("changeOverwrite", this.$onCursorChange);
    
            this.$onScrollTopChange = this.onScrollTopChange.bind(this);
            this.session.on("changeScrollTop", this.$onScrollTopChange);
    
            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);
            this.session.on("changeScrollLeft", this.$onScrollLeftChange);
    
            this.selection = session.getSelection();
            this.selection.on("changeCursor", this.$onCursorChange);
    
            this.$onSelectionChange = this.onSelectionChange.bind(this);
            this.selection.on("changeSelection", this.$onSelectionChange);
    
            this.onChangeMode();
    
            this.$blockScrolling += 1;
            this.onCursorChange();
            this.$blockScrolling -= 1;
    
            this.onScrollTopChange();
            this.onScrollLeftChange();
            this.onSelectionChange();
            this.onChangeFrontMarker();
            this.onChangeBackMarker();
            this.onChangeBreakpoint();
            this.onChangeAnnotation();
            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();
            this.renderer.updateFull();
        } else {
            this.selection = null;
            this.renderer.setSession(session);
        }

        this._signal("changeSession", {
            session: session,
            oldSession: oldSession
        });
        
        this.curOp = null;
        
        oldSession && oldSession._signal("changeEditor", {oldEditor: this});
        session && session._signal("changeEditor", {editor: this});
    };
    this.getSession = function() {
        return this.session;
    };
    this.setValue = function(val, cursorPos) {
        this.session.doc.setValue(val);

        if (!cursorPos)
            this.selectAll();
        else if (cursorPos == 1)
            this.navigateFileEnd();
        else if (cursorPos == -1)
            this.navigateFileStart();

        return val;
    };
    this.getValue = function() {
        return this.session.getValue();
    };
    this.getSelection = function() {
        return this.selection;
    };
    this.resize = function(force) {
        this.renderer.onResize(force);
    };
    this.setTheme = function(theme, cb) {
        this.renderer.setTheme(theme, cb);
    };
    this.getTheme = function() {
        return this.renderer.getTheme();
    };
    this.setStyle = function(style) {
        this.renderer.setStyle(style);
    };
    this.unsetStyle = function(style) {
        this.renderer.unsetStyle(style);
    };
    this.getFontSize = function () {
        return this.getOption("fontSize") ||
           dom.computedStyle(this.container, "fontSize");
    };
    this.setFontSize = function(size) {
        this.setOption("fontSize", size);
    };

    this.$highlightBrackets = function() {
        if (this.session.$bracketHighlight) {
            this.session.removeMarker(this.session.$bracketHighlight);
            this.session.$bracketHighlight = null;
        }

        if (this.$highlightPending) {
            return;
        }
        var self = this;
        this.$highlightPending = true;
        setTimeout(function() {
            self.$highlightPending = false;
            var session = self.session;
            if (!session || !session.bgTokenizer) return;
            var pos = session.findMatchingBracket(self.getCursorPosition());
            if (pos) {
                var range = new Range(pos.row, pos.column, pos.row, pos.column + 1);
            } else if (session.$mode.getMatching) {
                var range = session.$mode.getMatching(self.session);
            }
            if (range)
                session.$bracketHighlight = session.addMarker(range, "ace_bracket", "text");
        }, 50);
    };
    this.$highlightTags = function() {
        if (this.$highlightTagPending)
            return;
        var self = this;
        this.$highlightTagPending = true;
        setTimeout(function() {
            self.$highlightTagPending = false;
            
            var session = self.session;
            if (!session || !session.bgTokenizer) return;
            
            var pos = self.getCursorPosition();
            var iterator = new TokenIterator(self.session, pos.row, pos.column);
            var token = iterator.getCurrentToken();
            
            if (!token || !/\b(?:tag-open|tag-name)/.test(token.type)) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
                return;
            }
            
            if (token.type.indexOf("tag-open") != -1) {
                token = iterator.stepForward();
                if (!token)
                    return;
            }
            
            var tag = token.value;
            var depth = 0;
            var prevToken = iterator.stepBackward();
            
            if (prevToken.value == '<'){
                do {
                    prevToken = token;
                    token = iterator.stepForward();
                    
                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {
                        if (prevToken.value === '<'){
                            depth++;
                        } else if (prevToken.value === '</'){
                            depth--;
                        }
                    }
                    
                } while (token && depth >= 0);
            } else {
                do {
                    token = prevToken;
                    prevToken = iterator.stepBackward();
                    
                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {
                        if (prevToken.value === '<') {
                            depth++;
                        } else if (prevToken.value === '</') {
                            depth--;
                        }
                    }
                } while (prevToken && depth <= 0);
                iterator.stepForward();
            }
            
            if (!token) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
                return;
            }
            
            var row = iterator.getCurrentTokenRow();
            var column = iterator.getCurrentTokenColumn();
            var range = new Range(row, column, row, column+token.value.length);
            if (session.$tagHighlight && range.compareRange(session.$backMarkers[session.$tagHighlight].range)!==0) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
            }
            
            if (range && !session.$tagHighlight)
                session.$tagHighlight = session.addMarker(range, "ace_bracket", "text");
        }, 50);
    };
    this.focus = function() {
        var _self = this;
        setTimeout(function() {
            _self.textInput.focus();
        });
        this.textInput.focus();
    };
    this.isFocused = function() {
        return this.textInput.isFocused();
    };
    this.blur = function() {
        this.textInput.blur();
    };
    this.onFocus = function(e) {
        if (this.$isFocused)
            return;
        this.$isFocused = true;
        this.renderer.showCursor();
        this.renderer.visualizeFocus();
        this._emit("focus", e);
    };
    this.onBlur = function(e) {
        if (!this.$isFocused)
            return;
        this.$isFocused = false;
        this.renderer.hideCursor();
        this.renderer.visualizeBlur();
        this._emit("blur", e);
    };

    this.$cursorChange = function() {
        this.renderer.updateCursor();
    };
    this.onDocumentChange = function(delta) {
        var wrap = this.session.$useWrapMode;
        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);
        this.renderer.updateLines(delta.start.row, lastRow, wrap);

        this._signal("change", delta);
        this.$cursorChange();
        this.$updateHighlightActiveLine();
    };

    this.onTokenizerUpdate = function(e) {
        var rows = e.data;
        this.renderer.updateLines(rows.first, rows.last);
    };


    this.onScrollTopChange = function() {
        this.renderer.scrollToY(this.session.getScrollTop());
    };

    this.onScrollLeftChange = function() {
        this.renderer.scrollToX(this.session.getScrollLeft());
    };
    this.onCursorChange = function() {
        this.$cursorChange();

        if (!this.$blockScrolling) {
            config.warn("Automatically scrolling cursor into view after selection change",
                "this will be disabled in the next version",
                "set editor.$blockScrolling = Infinity to disable this message"
            );
            this.renderer.scrollCursorIntoView();
        }

        this.$highlightBrackets();
        this.$highlightTags();
        this.$updateHighlightActiveLine();
        this._signal("changeSelection");
    };

    this.$updateHighlightActiveLine = function() {
        var session = this.getSession();

        var highlight;
        if (this.$highlightActiveLine) {
            if ((this.$selectionStyle != "line" || !this.selection.isMultiLine()))
                highlight = this.getCursorPosition();
            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))
                highlight = false;
        }

        if (session.$highlightLineMarker && !highlight) {
            session.removeMarker(session.$highlightLineMarker.id);
            session.$highlightLineMarker = null;
        } else if (!session.$highlightLineMarker && highlight) {
            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);
            range.id = session.addMarker(range, "ace_active-line", "screenLine");
            session.$highlightLineMarker = range;
        } else if (highlight) {
            session.$highlightLineMarker.start.row = highlight.row;
            session.$highlightLineMarker.end.row = highlight.row;
            session.$highlightLineMarker.start.column = highlight.column;
            session._signal("changeBackMarker");
        }
    };

    this.onSelectionChange = function(e) {
        var session = this.session;

        if (session.$selectionMarker) {
            session.removeMarker(session.$selectionMarker);
        }
        session.$selectionMarker = null;

        if (!this.selection.isEmpty()) {
            var range = this.selection.getRange();
            var style = this.getSelectionStyle();
            session.$selectionMarker = session.addMarker(range, "ace_selection", style);
        } else {
            this.$updateHighlightActiveLine();
        }

        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
        this.session.highlight(re);

        this._signal("changeSelection");
    };

    this.$getSelectionHighLightRegexp = function() {
        var session = this.session;

        var selection = this.getSelectionRange();
        if (selection.isEmpty() || selection.isMultiLine())
            return;

        var startOuter = selection.start.column - 1;
        var endOuter = selection.end.column + 1;
        var line = session.getLine(selection.start.row);
        var lineCols = line.length;
        var needle = line.substring(Math.max(startOuter, 0),
                                    Math.min(endOuter, lineCols));
        if ((startOuter >= 0 && /^[\w\d]/.test(needle)) ||
            (endOuter <= lineCols && /[\w\d]$/.test(needle)))
            return;

        needle = line.substring(selection.start.column, selection.end.column);
        if (!/^[\w\d]+$/.test(needle))
            return;

        var re = this.$search.$assembleRegExp({
            wholeWord: true,
            caseSensitive: true,
            needle: needle
        });

        return re;
    };


    this.onChangeFrontMarker = function() {
        this.renderer.updateFrontMarkers();
    };

    this.onChangeBackMarker = function() {
        this.renderer.updateBackMarkers();
    };


    this.onChangeBreakpoint = function() {
        this.renderer.updateBreakpoints();
    };

    this.onChangeAnnotation = function() {
        this.renderer.setAnnotations(this.session.getAnnotations());
    };


    this.onChangeMode = function(e) {
        this.renderer.updateText();
        this._emit("changeMode", e);
    };


    this.onChangeWrapLimit = function() {
        this.renderer.updateFull();
    };

    this.onChangeWrapMode = function() {
        this.renderer.onResize(true);
    };


    this.onChangeFold = function() {
        this.$updateHighlightActiveLine();
        this.renderer.updateFull();
    };
    this.getSelectedText = function() {
        return this.session.getTextRange(this.getSelectionRange());
    };
    this.getCopyText = function() {
        var text = this.getSelectedText();
        this._signal("copy", text);
        return text;
    };
    this.onCopy = function() {
        this.commands.exec("copy", this);
    };
    this.onCut = function() {
        this.commands.exec("cut", this);
    };
    this.onPaste = function(text, event) {
        var e = {text: text, event: event};
        this.commands.exec("paste", this, e);
    };
    
    this.$handlePaste = function(e) {
        if (typeof e == "string") 
            e = {text: e};
        this._signal("paste", e);
        var text = e.text;
        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {
            this.insert(text);
        } else {
            var lines = text.split(/\r\n|\r|\n/);
            var ranges = this.selection.rangeList.ranges;
    
            if (lines.length > ranges.length || lines.length < 2 || !lines[1])
                return this.commands.exec("insertstring", this, text);
    
            for (var i = ranges.length; i--;) {
                var range = ranges[i];
                if (!range.isEmpty())
                    this.session.remove(range);
    
                this.session.insert(range.start, lines[i]);
            }
        }
    };

    this.execCommand = function(command, args) {
        return this.commands.exec(command, this, args);
    };
    this.insert = function(text, pasted) {
        var session = this.session;
        var mode = session.getMode();
        var cursor = this.getCursorPosition();

        if (this.getBehavioursEnabled() && !pasted) {
            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);
            if (transform) {
                if (text !== transform.text) {
                    this.session.mergeUndoDeltas = false;
                    this.$mergeNextCommand = false;
                }
                text = transform.text;

            }
        }
        
        if (text == "\t")
            text = this.session.getTabString();
        if (!this.selection.isEmpty()) {
            var range = this.getSelectionRange();
            cursor = this.session.remove(range);
            this.clearSelection();
        }
        else if (this.session.getOverwrite()) {
            var range = new Range.fromPoints(cursor, cursor);
            range.end.column += text.length;
            this.session.remove(range);
        }

        if (text == "\n" || text == "\r\n") {
            var line = session.getLine(cursor.row);
            if (cursor.column > line.search(/\S|$/)) {
                var d = line.substr(cursor.column).search(/\S|$/);
                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);
            }
        }
        this.clearSelection();

        var start = cursor.column;
        var lineState = session.getState(cursor.row);
        var line = session.getLine(cursor.row);
        var shouldOutdent = mode.checkOutdent(lineState, line, text);
        var end = session.insert(cursor, text);

        if (transform && transform.selection) {
            if (transform.selection.length == 2) { // Transform relative to the current column
                this.selection.setSelectionRange(
                    new Range(cursor.row, start + transform.selection[0],
                              cursor.row, start + transform.selection[1]));
            } else { // Transform relative to the current row.
                this.selection.setSelectionRange(
                    new Range(cursor.row + transform.selection[0],
                              transform.selection[1],
                              cursor.row + transform.selection[2],
                              transform.selection[3]));
            }
        }

        if (session.getDocument().isNewLine(text)) {
            var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());

            session.insert({row: cursor.row+1, column: 0}, lineIndent);
        }
        if (shouldOutdent)
            mode.autoOutdent(lineState, session, cursor.row);
    };

    this.onTextInput = function(text) {
        this.keyBinding.onTextInput(text);
    };

    this.onCommandKey = function(e, hashId, keyCode) {
        this.keyBinding.onCommandKey(e, hashId, keyCode);
    };
    this.setOverwrite = function(overwrite) {
        this.session.setOverwrite(overwrite);
    };
    this.getOverwrite = function() {
        return this.session.getOverwrite();
    };
    this.toggleOverwrite = function() {
        this.session.toggleOverwrite();
    };
    this.setScrollSpeed = function(speed) {
        this.setOption("scrollSpeed", speed);
    };
    this.getScrollSpeed = function() {
        return this.getOption("scrollSpeed");
    };
    this.setDragDelay = function(dragDelay) {
        this.setOption("dragDelay", dragDelay);
    };
    this.getDragDelay = function() {
        return this.getOption("dragDelay");
    };
    this.setSelectionStyle = function(val) {
        this.setOption("selectionStyle", val);
    };
    this.getSelectionStyle = function() {
        return this.getOption("selectionStyle");
    };
    this.setHighlightActiveLine = function(shouldHighlight) {
        this.setOption("highlightActiveLine", shouldHighlight);
    };
    this.getHighlightActiveLine = function() {
        return this.getOption("highlightActiveLine");
    };
    this.setHighlightGutterLine = function(shouldHighlight) {
        this.setOption("highlightGutterLine", shouldHighlight);
    };

    this.getHighlightGutterLine = function() {
        return this.getOption("highlightGutterLine");
    };
    this.setHighlightSelectedWord = function(shouldHighlight) {
        this.setOption("highlightSelectedWord", shouldHighlight);
    };
    this.getHighlightSelectedWord = function() {
        return this.$highlightSelectedWord;
    };

    this.setAnimatedScroll = function(shouldAnimate){
        this.renderer.setAnimatedScroll(shouldAnimate);
    };

    this.getAnimatedScroll = function(){
        return this.renderer.getAnimatedScroll();
    };
    this.setShowInvisibles = function(showInvisibles) {
        this.renderer.setShowInvisibles(showInvisibles);
    };
    this.getShowInvisibles = function() {
        return this.renderer.getShowInvisibles();
    };

    this.setDisplayIndentGuides = function(display) {
        this.renderer.setDisplayIndentGuides(display);
    };

    this.getDisplayIndentGuides = function() {
        return this.renderer.getDisplayIndentGuides();
    };
    this.setShowPrintMargin = function(showPrintMargin) {
        this.renderer.setShowPrintMargin(showPrintMargin);
    };
    this.getShowPrintMargin = function() {
        return this.renderer.getShowPrintMargin();
    };
    this.setPrintMarginColumn = function(showPrintMargin) {
        this.renderer.setPrintMarginColumn(showPrintMargin);
    };
    this.getPrintMarginColumn = function() {
        return this.renderer.getPrintMarginColumn();
    };
    this.setReadOnly = function(readOnly) {
        this.setOption("readOnly", readOnly);
    };
    this.getReadOnly = function() {
        return this.getOption("readOnly");
    };
    this.setBehavioursEnabled = function (enabled) {
        this.setOption("behavioursEnabled", enabled);
    };
    this.getBehavioursEnabled = function () {
        return this.getOption("behavioursEnabled");
    };
    this.setWrapBehavioursEnabled = function (enabled) {
        this.setOption("wrapBehavioursEnabled", enabled);
    };
    this.getWrapBehavioursEnabled = function () {
        return this.getOption("wrapBehavioursEnabled");
    };
    this.setShowFoldWidgets = function(show) {
        this.setOption("showFoldWidgets", show);

    };
    this.getShowFoldWidgets = function() {
        return this.getOption("showFoldWidgets");
    };

    this.setFadeFoldWidgets = function(fade) {
        this.setOption("fadeFoldWidgets", fade);
    };

    this.getFadeFoldWidgets = function() {
        return this.getOption("fadeFoldWidgets");
    };
    this.remove = function(dir) {
        if (this.selection.isEmpty()){
            if (dir == "left")
                this.selection.selectLeft();
            else
                this.selection.selectRight();
        }

        var range = this.getSelectionRange();
        if (this.getBehavioursEnabled()) {
            var session = this.session;
            var state = session.getState(range.start.row);
            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);

            if (range.end.column === 0) {
                var text = session.getTextRange(range);
                if (text[text.length - 1] == "\n") {
                    var line = session.getLine(range.end.row);
                    if (/^\s+$/.test(line)) {
                        range.end.column = line.length;
                    }
                }
            }
            if (new_range)
                range = new_range;
        }

        this.session.remove(range);
        this.clearSelection();
    };
    this.removeWordRight = function() {
        if (this.selection.isEmpty())
            this.selection.selectWordRight();

        this.session.remove(this.getSelectionRange());
        this.clearSelection();
    };
    this.removeWordLeft = function() {
        if (this.selection.isEmpty())
            this.selection.selectWordLeft();

        this.session.remove(this.getSelectionRange());
        this.clearSelection();
    };
    this.removeToLineStart = function() {
        if (this.selection.isEmpty())
            this.selection.selectLineStart();

        this.session.remove(this.getSelectionRange());
        this.clearSelection();
    };
    this.removeToLineEnd = function() {
        if (this.selection.isEmpty())
            this.selection.selectLineEnd();

        var range = this.getSelectionRange();
        if (range.start.column == range.end.column && range.start.row == range.end.row) {
            range.end.column = 0;
            range.end.row++;
        }

        this.session.remove(range);
        this.clearSelection();
    };
    this.splitLine = function() {
        if (!this.selection.isEmpty()) {
            this.session.remove(this.getSelectionRange());
            this.clearSelection();
        }

        var cursor = this.getCursorPosition();
        this.insert("\n");
        this.moveCursorToPosition(cursor);
    };
    this.transposeLetters = function() {
        if (!this.selection.isEmpty()) {
            return;
        }

        var cursor = this.getCursorPosition();
        var column = cursor.column;
        if (column === 0)
            return;

        var line = this.session.getLine(cursor.row);
        var swap, range;
        if (column < line.length) {
            swap = line.charAt(column) + line.charAt(column-1);
            range = new Range(cursor.row, column-1, cursor.row, column+1);
        }
        else {
            swap = line.charAt(column-1) + line.charAt(column-2);
            range = new Range(cursor.row, column-2, cursor.row, column);
        }
        this.session.replace(range, swap);
    };
    this.toLowerCase = function() {
        var originalRange = this.getSelectionRange();
        if (this.selection.isEmpty()) {
            this.selection.selectWord();
        }

        var range = this.getSelectionRange();
        var text = this.session.getTextRange(range);
        this.session.replace(range, text.toLowerCase());
        this.selection.setSelectionRange(originalRange);
    };
    this.toUpperCase = function() {
        var originalRange = this.getSelectionRange();
        if (this.selection.isEmpty()) {
            this.selection.selectWord();
        }

        var range = this.getSelectionRange();
        var text = this.session.getTextRange(range);
        this.session.replace(range, text.toUpperCase());
        this.selection.setSelectionRange(originalRange);
    };
    this.indent = function() {
        var session = this.session;
        var range = this.getSelectionRange();

        if (range.start.row < range.end.row) {
            var rows = this.$getSelectedRows();
            session.indentRows(rows.first, rows.last, "\t");
            return;
        } else if (range.start.column < range.end.column) {
            var text = session.getTextRange(range);
            if (!/^\s+$/.test(text)) {
                var rows = this.$getSelectedRows();
                session.indentRows(rows.first, rows.last, "\t");
                return;
            }
        }
        
        var line = session.getLine(range.start.row);
        var position = range.start;
        var size = session.getTabSize();
        var column = session.documentToScreenColumn(position.row, position.column);

        if (this.session.getUseSoftTabs()) {
            var count = (size - column % size);
            var indentString = lang.stringRepeat(" ", count);
        } else {
            var count = column % size;
            while (line[range.start.column] == " " && count) {
                range.start.column--;
                count--;
            }
            this.selection.setSelectionRange(range);
            indentString = "\t";
        }
        return this.insert(indentString);
    };
    this.blockIndent = function() {
        var rows = this.$getSelectedRows();
        this.session.indentRows(rows.first, rows.last, "\t");
    };
    this.blockOutdent = function() {
        var selection = this.session.getSelection();
        this.session.outdentRows(selection.getRange());
    };
    this.sortLines = function() {
        var rows = this.$getSelectedRows();
        var session = this.session;

        var lines = [];
        for (i = rows.first; i <= rows.last; i++)
            lines.push(session.getLine(i));

        lines.sort(function(a, b) {
            if (a.toLowerCase() < b.toLowerCase()) return -1;
            if (a.toLowerCase() > b.toLowerCase()) return 1;
            return 0;
        });

        var deleteRange = new Range(0, 0, 0, 0);
        for (var i = rows.first; i <= rows.last; i++) {
            var line = session.getLine(i);
            deleteRange.start.row = i;
            deleteRange.end.row = i;
            deleteRange.end.column = line.length;
            session.replace(deleteRange, lines[i-rows.first]);
        }
    };
    this.toggleCommentLines = function() {
        var state = this.session.getState(this.getCursorPosition().row);
        var rows = this.$getSelectedRows();
        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);
    };

    this.toggleBlockComment = function() {
        var cursor = this.getCursorPosition();
        var state = this.session.getState(cursor.row);
        var range = this.getSelectionRange();
        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);
    };
    this.getNumberAt = function(row, column) {
        var _numberRx = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
        _numberRx.lastIndex = 0;

        var s = this.session.getLine(row);
        while (_numberRx.lastIndex < column) {
            var m = _numberRx.exec(s);
            if(m.index <= column && m.index+m[0].length >= column){
                var number = {
                    value: m[0],
                    start: m.index,
                    end: m.index+m[0].length
                };
                return number;
            }
        }
        return null;
    };
    this.modifyNumber = function(amount) {
        var row = this.selection.getCursor().row;
        var column = this.selection.getCursor().column;
        var charRange = new Range(row, column-1, row, column);

        var c = this.session.getTextRange(charRange);
        if (!isNaN(parseFloat(c)) && isFinite(c)) {
            var nr = this.getNumberAt(row, column);
            if (nr) {
                var fp = nr.value.indexOf(".") >= 0 ? nr.start + nr.value.indexOf(".") + 1 : nr.end;
                var decimals = nr.start + nr.value.length - fp;

                var t = parseFloat(nr.value);
                t *= Math.pow(10, decimals);


                if(fp !== nr.end && column < fp){
                    amount *= Math.pow(10, nr.end - column - 1);
                } else {
                    amount *= Math.pow(10, nr.end - column);
                }

                t += amount;
                t /= Math.pow(10, decimals);
                var nnr = t.toFixed(decimals);
                var replaceRange = new Range(row, nr.start, row, nr.end);
                this.session.replace(replaceRange, nnr);
                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));

            }
        }
    };
    this.removeLines = function() {
        var rows = this.$getSelectedRows();
        this.session.removeFullLines(rows.first, rows.last);
        this.clearSelection();
    };

    this.duplicateSelection = function() {
        var sel = this.selection;
        var doc = this.session;
        var range = sel.getRange();
        var reverse = sel.isBackwards();
        if (range.isEmpty()) {
            var row = range.start.row;
            doc.duplicateLines(row, row);
        } else {
            var point = reverse ? range.start : range.end;
            var endPoint = doc.insert(point, doc.getTextRange(range), false);
            range.start = point;
            range.end = endPoint;

            sel.setSelectionRange(range, reverse);
        }
    };
    this.moveLinesDown = function() {
        this.$moveLines(1, false);
    };
    this.moveLinesUp = function() {
        this.$moveLines(-1, false);
    };
    this.moveText = function(range, toPosition, copy) {
        return this.session.moveText(range, toPosition, copy);
    };
    this.copyLinesUp = function() {
        this.$moveLines(-1, true);
    };
    this.copyLinesDown = function() {
        this.$moveLines(1, true);
    };
    this.$moveLines = function(dir, copy) {
        var rows, moved;
        var selection = this.selection;
        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {
            var range = selection.toOrientedRange();
            rows = this.$getSelectedRows(range);
            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);
            if (copy && dir == -1) moved = 0;
            range.moveBy(moved, 0);
            selection.fromOrientedRange(range);
        } else {
            var ranges = selection.rangeList.ranges;
            selection.rangeList.detach(this.session);
            this.inVirtualSelectionMode = true;
            
            var diff = 0;
            var totalDiff = 0;
            var l = ranges.length;
            for (var i = 0; i < l; i++) {
                var rangeIndex = i;
                ranges[i].moveBy(diff, 0);
                rows = this.$getSelectedRows(ranges[i]);
                var first = rows.first;
                var last = rows.last;
                while (++i < l) {
                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);
                    var subRows = this.$getSelectedRows(ranges[i]);
                    if (copy && subRows.first != last)
                        break;
                    else if (!copy && subRows.first > last + 1)
                        break;
                    last = subRows.last;
                }
                i--;
                diff = this.session.$moveLines(first, last, copy ? 0 : dir);
                if (copy && dir == -1) rangeIndex = i + 1;
                while (rangeIndex <= i) {
                    ranges[rangeIndex].moveBy(diff, 0);
                    rangeIndex++;
                }
                if (!copy) diff = 0;
                totalDiff += diff;
            }
            
            selection.fromOrientedRange(selection.ranges[0]);
            selection.rangeList.attach(this.session);
            this.inVirtualSelectionMode = false;
        }
    };
    this.$getSelectedRows = function(range) {
        range = (range || this.getSelectionRange()).collapseRows();

        return {
            first: this.session.getRowFoldStart(range.start.row),
            last: this.session.getRowFoldEnd(range.end.row)
        };
    };

    this.onCompositionStart = function(text) {
        this.renderer.showComposition(this.getCursorPosition());
    };

    this.onCompositionUpdate = function(text) {
        this.renderer.setCompositionText(text);
    };

    this.onCompositionEnd = function() {
        this.renderer.hideComposition();
    };
    this.getFirstVisibleRow = function() {
        return this.renderer.getFirstVisibleRow();
    };
    this.getLastVisibleRow = function() {
        return this.renderer.getLastVisibleRow();
    };
    this.isRowVisible = function(row) {
        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());
    };
    this.isRowFullyVisible = function(row) {
        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());
    };
    this.$getVisibleRowCount = function() {
        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;
    };

    this.$moveByPage = function(dir, select) {
        var renderer = this.renderer;
        var config = this.renderer.layerConfig;
        var rows = dir * Math.floor(config.height / config.lineHeight);

        this.$blockScrolling++;
        if (select === true) {
            this.selection.$moveSelection(function(){
                this.moveCursorBy(rows, 0);
            });
        } else if (select === false) {
            this.selection.moveCursorBy(rows, 0);
            this.selection.clearSelection();
        }
        this.$blockScrolling--;

        var scrollTop = renderer.scrollTop;

        renderer.scrollBy(0, rows * config.lineHeight);
        if (select != null)
            renderer.scrollCursorIntoView(null, 0.5);

        renderer.animateScrolling(scrollTop);
    };
    this.selectPageDown = function() {
        this.$moveByPage(1, true);
    };
    this.selectPageUp = function() {
        this.$moveByPage(-1, true);
    };
    this.gotoPageDown = function() {
       this.$moveByPage(1, false);
    };
    this.gotoPageUp = function() {
        this.$moveByPage(-1, false);
    };
    this.scrollPageDown = function() {
        this.$moveByPage(1);
    };
    this.scrollPageUp = function() {
        this.$moveByPage(-1);
    };
    this.scrollToRow = function(row) {
        this.renderer.scrollToRow(row);
    };
    this.scrollToLine = function(line, center, animate, callback) {
        this.renderer.scrollToLine(line, center, animate, callback);
    };
    this.centerSelection = function() {
        var range = this.getSelectionRange();
        var pos = {
            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),
            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)
        };
        this.renderer.alignCursor(pos, 0.5);
    };
    this.getCursorPosition = function() {
        return this.selection.getCursor();
    };
    this.getCursorPositionScreen = function() {
        return this.session.documentToScreenPosition(this.getCursorPosition());
    };
    this.getSelectionRange = function() {
        return this.selection.getRange();
    };
    this.selectAll = function() {
        this.$blockScrolling += 1;
        this.selection.selectAll();
        this.$blockScrolling -= 1;
    };
    this.clearSelection = function() {
        this.selection.clearSelection();
    };
    this.moveCursorTo = function(row, column) {
        this.selection.moveCursorTo(row, column);
    };
    this.moveCursorToPosition = function(pos) {
        this.selection.moveCursorToPosition(pos);
    };
    this.jumpToMatching = function(select, expand) {
        var cursor = this.getCursorPosition();
        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);
        var prevToken = iterator.getCurrentToken();
        var token = prevToken || iterator.stepForward();

        if (!token) return;
        var matchType;
        var found = false;
        var depth = {};
        var i = cursor.column - token.start;
        var bracketType;
        var brackets = {
            ")": "(",
            "(": "(",
            "]": "[",
            "[": "[",
            "{": "{",
            "}": "{"
        };
        
        do {
            if (token.value.match(/[{}()\[\]]/g)) {
                for (; i < token.value.length && !found; i++) {
                    if (!brackets[token.value[i]]) {
                        continue;
                    }

                    bracketType = brackets[token.value[i]] + '.' + token.type.replace("rparen", "lparen");

                    if (isNaN(depth[bracketType])) {
                        depth[bracketType] = 0;
                    }

                    switch (token.value[i]) {
                        case '(':
                        case '[':
                        case '{':
                            depth[bracketType]++;
                            break;
                        case ')':
                        case ']':
                        case '}':
                            depth[bracketType]--;

                            if (depth[bracketType] === -1) {
                                matchType = 'bracket';
                                found = true;
                            }
                        break;
                    }
                }
            }
            else if (token && token.type.indexOf('tag-name') !== -1) {
                if (isNaN(depth[token.value])) {
                    depth[token.value] = 0;
                }
                
                if (prevToken.value === '<') {
                    depth[token.value]++;
                }
                else if (prevToken.value === '</') {
                    depth[token.value]--;
                }
                
                if (depth[token.value] === -1) {
                    matchType = 'tag';
                    found = true;
                }
            }

            if (!found) {
                prevToken = token;
                token = iterator.stepForward();
                i = 0;
            }
        } while (token && !found);
        if (!matchType)
            return;

        var range, pos;
        if (matchType === 'bracket') {
            range = this.session.getBracketRange(cursor);
            if (!range) {
                range = new Range(
                    iterator.getCurrentTokenRow(),
                    iterator.getCurrentTokenColumn() + i - 1,
                    iterator.getCurrentTokenRow(),
                    iterator.getCurrentTokenColumn() + i - 1
                );
                pos = range.start;
                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)
                    range = this.session.getBracketRange(pos);
            }
        }
        else if (matchType === 'tag') {
            if (token && token.type.indexOf('tag-name') !== -1) 
                var tag = token.value;
            else
                return;

            range = new Range(
                iterator.getCurrentTokenRow(),
                iterator.getCurrentTokenColumn() - 2,
                iterator.getCurrentTokenRow(),
                iterator.getCurrentTokenColumn() - 2
            );
            if (range.compare(cursor.row, cursor.column) === 0) {
                found = false;
                do {
                    token = prevToken;
                    prevToken = iterator.stepBackward();
                    
                    if (prevToken) {
                        if (prevToken.type.indexOf('tag-close') !== -1) {
                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);
                        }

                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {
                            if (prevToken.value === '<') {
                                depth[tag]++;
                            }
                            else if (prevToken.value === '</') {
                                depth[tag]--;
                            }
                            
                            if (depth[tag] === 0)
                                found = true;
                        }
                    }
                } while (prevToken && !found);
            }
            if (token && token.type.indexOf('tag-name')) {
                pos = range.start;
                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)
                    pos = range.end;
            }
        }

        pos = range && range.cursor || pos;
        if (pos) {
            if (select) {
                if (range && expand) {
                    this.selection.setRange(range);
                } else if (range && range.isEqual(this.getSelectionRange())) {
                    this.clearSelection();
                } else {
                    this.selection.selectTo(pos.row, pos.column);
                }
            } else {
                this.selection.moveTo(pos.row, pos.column);
            }
        }
    };
    this.gotoLine = function(lineNumber, column, animate) {
        this.selection.clearSelection();
        this.session.unfold({row: lineNumber - 1, column: column || 0});

        this.$blockScrolling += 1;
        this.exitMultiSelectMode && this.exitMultiSelectMode();
        this.moveCursorTo(lineNumber - 1, column || 0);
        this.$blockScrolling -= 1;

        if (!this.isRowFullyVisible(lineNumber - 1))
            this.scrollToLine(lineNumber - 1, true, animate);
    };
    this.navigateTo = function(row, column) {
        this.selection.moveTo(row, column);
    };
    this.navigateUp = function(times) {
        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
            var selectionStart = this.selection.anchor.getPosition();
            return this.moveCursorToPosition(selectionStart);
        }
        this.selection.clearSelection();
        this.selection.moveCursorBy(-times || -1, 0);
    };
    this.navigateDown = function(times) {
        if (this.selection.isMultiLine() && this.selection.isBackwards()) {
            var selectionEnd = this.selection.anchor.getPosition();
            return this.moveCursorToPosition(selectionEnd);
        }
        this.selection.clearSelection();
        this.selection.moveCursorBy(times || 1, 0);
    };
    this.navigateLeft = function(times) {
        if (!this.selection.isEmpty()) {
            var selectionStart = this.getSelectionRange().start;
            this.moveCursorToPosition(selectionStart);
        }
        else {
            times = times || 1;
            while (times--) {
                this.selection.moveCursorLeft();
            }
        }
        this.clearSelection();
    };
    this.navigateRight = function(times) {
        if (!this.selection.isEmpty()) {
            var selectionEnd = this.getSelectionRange().end;
            this.moveCursorToPosition(selectionEnd);
        }
        else {
            times = times || 1;
            while (times--) {
                this.selection.moveCursorRight();
            }
        }
        this.clearSelection();
    };
    this.navigateLineStart = function() {
        this.selection.moveCursorLineStart();
        this.clearSelection();
    };
    this.navigateLineEnd = function() {
        this.selection.moveCursorLineEnd();
        this.clearSelection();
    };
    this.navigateFileEnd = function() {
        this.selection.moveCursorFileEnd();
        this.clearSelection();
    };
    this.navigateFileStart = function() {
        this.selection.moveCursorFileStart();
        this.clearSelection();
    };
    this.navigateWordRight = function() {
        this.selection.moveCursorWordRight();
        this.clearSelection();
    };
    this.navigateWordLeft = function() {
        this.selection.moveCursorWordLeft();
        this.clearSelection();
    };
    this.replace = function(replacement, options) {
        if (options)
            this.$search.set(options);

        var range = this.$search.find(this.session);
        var replaced = 0;
        if (!range)
            return replaced;

        if (this.$tryReplace(range, replacement)) {
            replaced = 1;
        }
        if (range !== null) {
            this.selection.setSelectionRange(range);
            this.renderer.scrollSelectionIntoView(range.start, range.end);
        }

        return replaced;
    };
    this.replaceAll = function(replacement, options) {
        if (options) {
            this.$search.set(options);
        }

        var ranges = this.$search.findAll(this.session);
        var replaced = 0;
        if (!ranges.length)
            return replaced;

        this.$blockScrolling += 1;

        var selection = this.getSelectionRange();
        this.selection.moveTo(0, 0);

        for (var i = ranges.length - 1; i >= 0; --i) {
            if(this.$tryReplace(ranges[i], replacement)) {
                replaced++;
            }
        }

        this.selection.setSelectionRange(selection);
        this.$blockScrolling -= 1;

        return replaced;
    };

    this.$tryReplace = function(range, replacement) {
        var input = this.session.getTextRange(range);
        replacement = this.$search.replace(input, replacement);
        if (replacement !== null) {
            range.end = this.session.replace(range, replacement);
            return range;
        } else {
            return null;
        }
    };
    this.getLastSearchOptions = function() {
        return this.$search.getOptions();
    };
    this.find = function(needle, options, animate) {
        if (!options)
            options = {};

        if (typeof needle == "string" || needle instanceof RegExp)
            options.needle = needle;
        else if (typeof needle == "object")
            oop.mixin(options, needle);

        var range = this.selection.getRange();
        if (options.needle == null) {
            needle = this.session.getTextRange(range)
                || this.$search.$options.needle;
            if (!needle) {
                range = this.session.getWordRange(range.start.row, range.start.column);
                needle = this.session.getTextRange(range);
            }
            this.$search.set({needle: needle});
        }

        this.$search.set(options);
        if (!options.start)
            this.$search.set({start: range});

        var newRange = this.$search.find(this.session);
        if (options.preventScroll)
            return newRange;
        if (newRange) {
            this.revealRange(newRange, animate);
            return newRange;
        }
        if (options.backwards)
            range.start = range.end;
        else
            range.end = range.start;
        this.selection.setRange(range);
    };
    this.findNext = function(options, animate) {
        this.find({skipCurrent: true, backwards: false}, options, animate);
    };
    this.findPrevious = function(options, animate) {
        this.find(options, {skipCurrent: true, backwards: true}, animate);
    };

    this.revealRange = function(range, animate) {
        this.$blockScrolling += 1;
        this.session.unfold(range);
        this.selection.setSelectionRange(range);
        this.$blockScrolling -= 1;

        var scrollTop = this.renderer.scrollTop;
        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);
        if (animate !== false)
            this.renderer.animateScrolling(scrollTop);
    };
    this.undo = function() {
        this.$blockScrolling++;
        this.session.getUndoManager().undo();
        this.$blockScrolling--;
        this.renderer.scrollCursorIntoView(null, 0.5);
    };
    this.redo = function() {
        this.$blockScrolling++;
        this.session.getUndoManager().redo();
        this.$blockScrolling--;
        this.renderer.scrollCursorIntoView(null, 0.5);
    };
    this.destroy = function() {
        this.renderer.destroy();
        this._signal("destroy", this);
        if (this.session) {
            this.session.destroy();
        }
    };
    this.setAutoScrollEditorIntoView = function(enable) {
        if (!enable)
            return;
        var rect;
        var self = this;
        var shouldScroll = false;
        if (!this.$scrollAnchor)
            this.$scrollAnchor = document.createElement("div");
        var scrollAnchor = this.$scrollAnchor;
        scrollAnchor.style.cssText = "position:absolute";
        this.container.insertBefore(scrollAnchor, this.container.firstChild);
        var onChangeSelection = this.on("changeSelection", function() {
            shouldScroll = true;
        });
        var onBeforeRender = this.renderer.on("beforeRender", function() {
            if (shouldScroll)
                rect = self.renderer.container.getBoundingClientRect();
        });
        var onAfterRender = this.renderer.on("afterRender", function() {
            if (shouldScroll && rect && (self.isFocused()
                || self.searchBox && self.searchBox.isFocused())
            ) {
                var renderer = self.renderer;
                var pos = renderer.$cursorLayer.$pixelPos;
                var config = renderer.layerConfig;
                var top = pos.top - config.offset;
                if (pos.top >= 0 && top + rect.top < 0) {
                    shouldScroll = true;
                } else if (pos.top < config.height &&
                    pos.top + rect.top + config.lineHeight > window.innerHeight) {
                    shouldScroll = false;
                } else {
                    shouldScroll = null;
                }
                if (shouldScroll != null) {
                    scrollAnchor.style.top = top + "px";
                    scrollAnchor.style.left = pos.left + "px";
                    scrollAnchor.style.height = config.lineHeight + "px";
                    scrollAnchor.scrollIntoView(shouldScroll);
                }
                shouldScroll = rect = null;
            }
        });
        this.setAutoScrollEditorIntoView = function(enable) {
            if (enable)
                return;
            delete this.setAutoScrollEditorIntoView;
            this.off("changeSelection", onChangeSelection);
            this.renderer.off("afterRender", onAfterRender);
            this.renderer.off("beforeRender", onBeforeRender);
        };
    };


    this.$resetCursorStyle = function() {
        var style = this.$cursorStyle || "ace";
        var cursorLayer = this.renderer.$cursorLayer;
        if (!cursorLayer)
            return;
        cursorLayer.setSmoothBlinking(/smooth/.test(style));
        cursorLayer.isBlinking = !this.$readOnly && style != "wide";
        dom.setCssClass(cursorLayer.element, "ace_slim-cursors", /slim/.test(style));
    };

}).call(Editor.prototype);



config.defineOptions(Editor.prototype, "editor", {
    selectionStyle: {
        set: function(style) {
            this.onSelectionChange();
            this._signal("changeSelectionStyle", {data: style});
        },
        initialValue: "line"
    },
    highlightActiveLine: {
        set: function() {this.$updateHighlightActiveLine();},
        initialValue: true
    },
    highlightSelectedWord: {
        set: function(shouldHighlight) {this.$onSelectionChange();},
        initialValue: true
    },
    readOnly: {
        set: function(readOnly) {
            this.$resetCursorStyle(); 
        },
        initialValue: false
    },
    cursorStyle: {
        set: function(val) { this.$resetCursorStyle(); },
        values: ["ace", "slim", "smooth", "wide"],
        initialValue: "ace"
    },
    mergeUndoDeltas: {
        values: [false, true, "always"],
        initialValue: true
    },
    behavioursEnabled: {initialValue: true},
    wrapBehavioursEnabled: {initialValue: true},
    autoScrollEditorIntoView: {
        set: function(val) {this.setAutoScrollEditorIntoView(val)}
    },
    keyboardHandler: {
        set: function(val) { this.setKeyboardHandler(val); },
        get: function() { return this.keybindingId; },
        handlesSet: true
    },

    hScrollBarAlwaysVisible: "renderer",
    vScrollBarAlwaysVisible: "renderer",
    highlightGutterLine: "renderer",
    animatedScroll: "renderer",
    showInvisibles: "renderer",
    showPrintMargin: "renderer",
    printMarginColumn: "renderer",
    printMargin: "renderer",
    fadeFoldWidgets: "renderer",
    showFoldWidgets: "renderer",
    showLineNumbers: "renderer",
    showGutter: "renderer",
    displayIndentGuides: "renderer",
    fontSize: "renderer",
    fontFamily: "renderer",
    maxLines: "renderer",
    minLines: "renderer",
    scrollPastEnd: "renderer",
    fixedWidthGutter: "renderer",
    theme: "renderer",

    scrollSpeed: "$mouseHandler",
    dragDelay: "$mouseHandler",
    dragEnabled: "$mouseHandler",
    focusTimout: "$mouseHandler",
    tooltipFollowsMouse: "$mouseHandler",

    firstLineNumber: "session",
    overwrite: "session",
    newLineMode: "session",
    useWorker: "session",
    useSoftTabs: "session",
    tabSize: "session",
    wrap: "session",
    indentedSoftWrap: "session",
    foldStyle: "session",
    mode: "session"
});

exports.Editor = Editor;
});

ace.define("ace/undomanager",["require","exports","module"], function(acequire, exports, module) {
"use strict";
var UndoManager = function() {
    this.reset();
};

(function() {
    this.execute = function(options) {
        var deltaSets = options.args[0];
        this.$doc  = options.args[1];
        if (options.merge && this.hasUndo()){
            this.dirtyCounter--;
            deltaSets = this.$undoStack.pop().concat(deltaSets);
        }
        this.$undoStack.push(deltaSets);
        this.$redoStack = [];
        if (this.dirtyCounter < 0) {
            this.dirtyCounter = NaN;
        }
        this.dirtyCounter++;
    };
    this.undo = function(dontSelect) {
        var deltaSets = this.$undoStack.pop();
        var undoSelectionRange = null;
        if (deltaSets) {
            undoSelectionRange = this.$doc.undoChanges(deltaSets, dontSelect);
            this.$redoStack.push(deltaSets);
            this.dirtyCounter--;
        }

        return undoSelectionRange;
    };
    this.redo = function(dontSelect) {
        var deltaSets = this.$redoStack.pop();
        var redoSelectionRange = null;
        if (deltaSets) {
            redoSelectionRange =
                this.$doc.redoChanges(this.$deserializeDeltas(deltaSets), dontSelect);
            this.$undoStack.push(deltaSets);
            this.dirtyCounter++;
        }
        return redoSelectionRange;
    };
    this.reset = function() {
        this.$undoStack = [];
        this.$redoStack = [];
        this.dirtyCounter = 0;
    };
    this.hasUndo = function() {
        return this.$undoStack.length > 0;
    };
    this.hasRedo = function() {
        return this.$redoStack.length > 0;
    };
    this.markClean = function() {
        this.dirtyCounter = 0;
    };
    this.isClean = function() {
        return this.dirtyCounter === 0;
    };
    this.$serializeDeltas = function(deltaSets) {
        return cloneDeltaSetsObj(deltaSets, $serializeDelta);
    };
    this.$deserializeDeltas = function(deltaSets) {
        return cloneDeltaSetsObj(deltaSets, $deserializeDelta);
    };
    
    function $serializeDelta(delta){
        return {
            action: delta.action,
            start: delta.start,
            end: delta.end,
            lines: delta.lines.length == 1 ? null : delta.lines,
            text: delta.lines.length == 1 ? delta.lines[0] : null
        };
    }
        
    function $deserializeDelta(delta) {
        return {
            action: delta.action,
            start: delta.start,
            end: delta.end,
            lines: delta.lines || [delta.text]
        };
    }
    
    function cloneDeltaSetsObj(deltaSets_old, fnGetModifiedDelta) {
        var deltaSets_new = new Array(deltaSets_old.length);
        for (var i = 0; i < deltaSets_old.length; i++) {
            var deltaSet_old = deltaSets_old[i];
            var deltaSet_new = { group: deltaSet_old.group, deltas: new Array(deltaSet_old.length)};
            
            for (var j = 0; j < deltaSet_old.deltas.length; j++) {
                var delta_old = deltaSet_old.deltas[j];
                deltaSet_new.deltas[j] = fnGetModifiedDelta(delta_old);
            }
            
            deltaSets_new[i] = deltaSet_new;
        }
        return deltaSets_new;
    }
    
}).call(UndoManager.prototype);

exports.UndoManager = UndoManager;
});

ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var dom = acequire("../lib/dom");
var oop = acequire("../lib/oop");
var lang = acequire("../lib/lang");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var Gutter = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_gutter-layer";
    parentEl.appendChild(this.element);
    this.setShowFoldWidgets(this.$showFoldWidgets);
    
    this.gutterWidth = 0;

    this.$annotations = [];
    this.$updateAnnotations = this.$updateAnnotations.bind(this);

    this.$cells = [];
};

(function() {

    oop.implement(this, EventEmitter);

    this.setSession = function(session) {
        if (this.session)
            this.session.removeEventListener("change", this.$updateAnnotations);
        this.session = session;
        if (session)
            session.on("change", this.$updateAnnotations);
    };

    this.addGutterDecoration = function(row, className){
        if (window.console)
            console.warn && console.warn("deprecated use session.addGutterDecoration");
        this.session.addGutterDecoration(row, className);
    };

    this.removeGutterDecoration = function(row, className){
        if (window.console)
            console.warn && console.warn("deprecated use session.removeGutterDecoration");
        this.session.removeGutterDecoration(row, className);
    };

    this.setAnnotations = function(annotations) {
        this.$annotations = [];
        for (var i = 0; i < annotations.length; i++) {
            var annotation = annotations[i];
            var row = annotation.row;
            var rowInfo = this.$annotations[row];
            if (!rowInfo)
                rowInfo = this.$annotations[row] = {text: []};
           
            var annoText = annotation.text;
            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || "";

            if (rowInfo.text.indexOf(annoText) === -1)
                rowInfo.text.push(annoText);

            var type = annotation.type;
            if (type == "error")
                rowInfo.className = " ace_error";
            else if (type == "warning" && rowInfo.className != " ace_error")
                rowInfo.className = " ace_warning";
            else if (type == "info" && (!rowInfo.className))
                rowInfo.className = " ace_info";
        }
    };

    this.$updateAnnotations = function (delta) {
        if (!this.$annotations.length)
            return;
        var firstRow = delta.start.row;
        var len = delta.end.row - firstRow;
        if (len === 0) {
        } else if (delta.action == 'remove') {
            this.$annotations.splice(firstRow, len + 1, null);
        } else {
            var args = new Array(len + 1);
            args.unshift(firstRow, 1);
            this.$annotations.splice.apply(this.$annotations, args);
        }
    };

    this.update = function(config) {
        var session = this.session;
        var firstRow = config.firstRow;
        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar
            session.getLength() - 1);
        var fold = session.getNextFoldLine(firstRow);
        var foldStart = fold ? fold.start.row : Infinity;
        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;
        var breakpoints = session.$breakpoints;
        var decorations = session.$decorations;
        var firstLineNumber = session.$firstLineNumber;
        var lastLineNumber = 0;
        
        var gutterRenderer = session.gutterRenderer || this.$renderer;

        var cell = null;
        var index = -1;
        var row = firstRow;
        while (true) {
            if (row > foldStart) {
                row = fold.end.row + 1;
                fold = session.getNextFoldLine(row, fold);
                foldStart = fold ? fold.start.row : Infinity;
            }
            if (row > lastRow) {
                while (this.$cells.length > index + 1) {
                    cell = this.$cells.pop();
                    this.element.removeChild(cell.element);
                }
                break;
            }

            cell = this.$cells[++index];
            if (!cell) {
                cell = {element: null, textNode: null, foldWidget: null};
                cell.element = dom.createElement("div");
                cell.textNode = document.createTextNode('');
                cell.element.appendChild(cell.textNode);
                this.element.appendChild(cell.element);
                this.$cells[index] = cell;
            }

            var className = "ace_gutter-cell ";
            if (breakpoints[row])
                className += breakpoints[row];
            if (decorations[row])
                className += decorations[row];
            if (this.$annotations[row])
                className += this.$annotations[row].className;
            if (cell.element.className != className)
                cell.element.className = className;

            var height = session.getRowLength(row) * config.lineHeight + "px";
            if (height != cell.element.style.height)
                cell.element.style.height = height;

            if (foldWidgets) {
                var c = foldWidgets[row];
                if (c == null)
                    c = foldWidgets[row] = session.getFoldWidget(row);
            }

            if (c) {
                if (!cell.foldWidget) {
                    cell.foldWidget = dom.createElement("span");
                    cell.element.appendChild(cell.foldWidget);
                }
                var className = "ace_fold-widget ace_" + c;
                if (c == "start" && row == foldStart && row < fold.end.row)
                    className += " ace_closed";
                else
                    className += " ace_open";
                if (cell.foldWidget.className != className)
                    cell.foldWidget.className = className;

                var height = config.lineHeight + "px";
                if (cell.foldWidget.style.height != height)
                    cell.foldWidget.style.height = height;
            } else {
                if (cell.foldWidget) {
                    cell.element.removeChild(cell.foldWidget);
                    cell.foldWidget = null;
                }
            }
            
            var text = lastLineNumber = gutterRenderer
                ? gutterRenderer.getText(session, row)
                : row + firstLineNumber;
            if (text != cell.textNode.data)
                cell.textNode.data = text;

            row++;
        }

        this.element.style.height = config.minHeight + "px";

        if (this.$fixedWidth || session.$useWrapMode)
            lastLineNumber = session.getLength() + firstLineNumber;

        var gutterWidth = gutterRenderer 
            ? gutterRenderer.getWidth(session, lastLineNumber, config)
            : lastLineNumber.toString().length * config.characterWidth;
        
        var padding = this.$padding || this.$computePadding();
        gutterWidth += padding.left + padding.right;
        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {
            this.gutterWidth = gutterWidth;
            this.element.style.width = Math.ceil(this.gutterWidth) + "px";
            this._emit("changeGutterWidth", gutterWidth);
        }
    };

    this.$fixedWidth = false;
    
    this.$showLineNumbers = true;
    this.$renderer = "";
    this.setShowLineNumbers = function(show) {
        this.$renderer = !show && {
            getWidth: function() {return ""},
            getText: function() {return ""}
        };
    };
    
    this.getShowLineNumbers = function() {
        return this.$showLineNumbers;
    };
    
    this.$showFoldWidgets = true;
    this.setShowFoldWidgets = function(show) {
        if (show)
            dom.addCssClass(this.element, "ace_folding-enabled");
        else
            dom.removeCssClass(this.element, "ace_folding-enabled");

        this.$showFoldWidgets = show;
        this.$padding = null;
    };
    
    this.getShowFoldWidgets = function() {
        return this.$showFoldWidgets;
    };

    this.$computePadding = function() {
        if (!this.element.firstChild)
            return {left: 0, right: 0};
        var style = dom.computedStyle(this.element.firstChild);
        this.$padding = {};
        this.$padding.left = parseInt(style.paddingLeft) + 1 || 0;
        this.$padding.right = parseInt(style.paddingRight) || 0;
        return this.$padding;
    };

    this.getRegion = function(point) {
        var padding = this.$padding || this.$computePadding();
        var rect = this.element.getBoundingClientRect();
        if (point.x < padding.left + rect.left)
            return "markers";
        if (this.$showFoldWidgets && point.x > rect.right - padding.right)
            return "foldWidgets";
    };

}).call(Gutter.prototype);

exports.Gutter = Gutter;

});

ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;
var dom = acequire("../lib/dom");

var Marker = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_marker-layer";
    parentEl.appendChild(this.element);
};

(function() {

    this.$padding = 0;

    this.setPadding = function(padding) {
        this.$padding = padding;
    };
    this.setSession = function(session) {
        this.session = session;
    };
    
    this.setMarkers = function(markers) {
        this.markers = markers;
    };

    this.update = function(config) {
        var config = config || this.config;
        if (!config)
            return;

        this.config = config;


        var html = [];
        for (var key in this.markers) {
            var marker = this.markers[key];

            if (!marker.range) {
                marker.update(html, this, this.session, config);
                continue;
            }

            var range = marker.range.clipRows(config.firstRow, config.lastRow);
            if (range.isEmpty()) continue;

            range = range.toScreenRange(this.session);
            if (marker.renderer) {
                var top = this.$getTop(range.start.row, config);
                var left = this.$padding + range.start.column * config.characterWidth;
                marker.renderer(html, range, left, top, config);
            } else if (marker.type == "fullLine") {
                this.drawFullLineMarker(html, range, marker.clazz, config);
            } else if (marker.type == "screenLine") {
                this.drawScreenLineMarker(html, range, marker.clazz, config);
            } else if (range.isMultiLine()) {
                if (marker.type == "text")
                    this.drawTextMarker(html, range, marker.clazz, config);
                else
                    this.drawMultiLineMarker(html, range, marker.clazz, config);
            } else {
                this.drawSingleLineMarker(html, range, marker.clazz + " ace_start" + " ace_br15", config);
            }
        }
        this.element.innerHTML = html.join("");
    };

    this.$getTop = function(row, layerConfig) {
        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;
    };

    function getBorderClass(tl, tr, br, bl) {
        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);
    }
    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {
        var session = this.session;
        var start = range.start.row;
        var end = range.end.row;
        var row = start;
        var prev = 0; 
        var curr = 0;
        var next = session.getScreenLastRowColumn(row);
        var lineRange = new Range(row, range.start.column, row, curr);
        for (; row <= end; row++) {
            lineRange.start.row = lineRange.end.row = row;
            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);
            lineRange.end.column = next;
            prev = curr;
            curr = next;
            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;
            this.drawSingleLineMarker(stringBuilder, lineRange, 
                clazz + (row == start  ? " ace_start" : "") + " ace_br"
                    + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end),
                layerConfig, row == end ? 0 : 1, extraStyle);
        }
    };
    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {
        var padding = this.$padding;
        var height = config.lineHeight;
        var top = this.$getTop(range.start.row, config);
        var left = padding + range.start.column * config.characterWidth;
        extraStyle = extraStyle || "";

        stringBuilder.push(
            "<div class='", clazz, " ace_br1 ace_start' style='",
            "height:", height, "px;",
            "right:0;",
            "top:", top, "px;",
            "left:", left, "px;", extraStyle, "'></div>"
        );
        top = this.$getTop(range.end.row, config);
        var width = range.end.column * config.characterWidth;

        stringBuilder.push(
            "<div class='", clazz, " ace_br12' style='",
            "height:", height, "px;",
            "width:", width, "px;",
            "top:", top, "px;",
            "left:", padding, "px;", extraStyle, "'></div>"
        );
        height = (range.end.row - range.start.row - 1) * config.lineHeight;
        if (height <= 0)
            return;
        top = this.$getTop(range.start.row + 1, config);
        
        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);

        stringBuilder.push(
            "<div class='", clazz, (radiusClass ? " ace_br" + radiusClass : ""), "' style='",
            "height:", height, "px;",
            "right:0;",
            "top:", top, "px;",
            "left:", padding, "px;", extraStyle, "'></div>"
        );
    };
    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {
        var height = config.lineHeight;
        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;

        var top = this.$getTop(range.start.row, config);
        var left = this.$padding + range.start.column * config.characterWidth;

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "width:", width, "px;",
            "top:", top, "px;",
            "left:", left, "px;", extraStyle || "", "'></div>"
        );
    };

    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {
        var top = this.$getTop(range.start.row, config);
        var height = config.lineHeight;
        if (range.start.row != range.end.row)
            height += this.$getTop(range.end.row, config) - top;

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "top:", top, "px;",
            "left:0;right:0;", extraStyle || "", "'></div>"
        );
    };
    
    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {
        var top = this.$getTop(range.start.row, config);
        var height = config.lineHeight;

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "top:", top, "px;",
            "left:0;right:0;", extraStyle || "", "'></div>"
        );
    };

}).call(Marker.prototype);

exports.Marker = Marker;

});

ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var dom = acequire("../lib/dom");
var lang = acequire("../lib/lang");
var useragent = acequire("../lib/useragent");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var Text = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_text-layer";
    parentEl.appendChild(this.element);
    this.$updateEolChar = this.$updateEolChar.bind(this);
};

(function() {

    oop.implement(this, EventEmitter);

    this.EOF_CHAR = "\xB6";
    this.EOL_CHAR_LF = "\xAC";
    this.EOL_CHAR_CRLF = "\xa4";
    this.EOL_CHAR = this.EOL_CHAR_LF;
    this.TAB_CHAR = "\u2014"; //"\u21E5";
    this.SPACE_CHAR = "\xB7";
    this.$padding = 0;

    this.$updateEolChar = function() {
        var EOL_CHAR = this.session.doc.getNewLineCharacter() == "\n"
           ? this.EOL_CHAR_LF
           : this.EOL_CHAR_CRLF;
        if (this.EOL_CHAR != EOL_CHAR) {
            this.EOL_CHAR = EOL_CHAR;
            return true;
        }
    }

    this.setPadding = function(padding) {
        this.$padding = padding;
        this.element.style.padding = "0 " + padding + "px";
    };

    this.getLineHeight = function() {
        return this.$fontMetrics.$characterSize.height || 0;
    };

    this.getCharacterWidth = function() {
        return this.$fontMetrics.$characterSize.width || 0;
    };
    
    this.$setFontMetrics = function(measure) {
        this.$fontMetrics = measure;
        this.$fontMetrics.on("changeCharacterSize", function(e) {
            this._signal("changeCharacterSize", e);
        }.bind(this));
        this.$pollSizeChanges();
    }

    this.checkForSizeChanges = function() {
        this.$fontMetrics.checkForSizeChanges();
    };
    this.$pollSizeChanges = function() {
        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();
    };
    this.setSession = function(session) {
        this.session = session;
        if (session)
            this.$computeTabString();
    };

    this.showInvisibles = false;
    this.setShowInvisibles = function(showInvisibles) {
        if (this.showInvisibles == showInvisibles)
            return false;

        this.showInvisibles = showInvisibles;
        this.$computeTabString();
        return true;
    };

    this.displayIndentGuides = true;
    this.setDisplayIndentGuides = function(display) {
        if (this.displayIndentGuides == display)
            return false;

        this.displayIndentGuides = display;
        this.$computeTabString();
        return true;
    };

    this.$tabStrings = [];
    this.onChangeTabSize =
    this.$computeTabString = function() {
        var tabSize = this.session.getTabSize();
        this.tabSize = tabSize;
        var tabStr = this.$tabStrings = [0];
        for (var i = 1; i < tabSize + 1; i++) {
            if (this.showInvisibles) {
                tabStr.push("<span class='ace_invisible ace_invisible_tab'>"
                    + lang.stringRepeat(this.TAB_CHAR, i)
                    + "</span>");
            } else {
                tabStr.push(lang.stringRepeat(" ", i));
            }
        }
        if (this.displayIndentGuides) {
            this.$indentGuideRe =  /\s\S| \t|\t |\s$/;
            var className = "ace_indent-guide";
            var spaceClass = "";
            var tabClass = "";
            if (this.showInvisibles) {
                className += " ace_invisible";
                spaceClass = " ace_invisible_space";
                tabClass = " ace_invisible_tab";
                var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);
                var tabContent = lang.stringRepeat(this.TAB_CHAR, this.tabSize);
            } else{
                var spaceContent = lang.stringRepeat(" ", this.tabSize);
                var tabContent = spaceContent;
            }

            this.$tabStrings[" "] = "<span class='" + className + spaceClass + "'>" + spaceContent + "</span>";
            this.$tabStrings["\t"] = "<span class='" + className + tabClass + "'>" + tabContent + "</span>";
        }
    };

    this.updateLines = function(config, firstRow, lastRow) {
        if (this.config.lastRow != config.lastRow ||
            this.config.firstRow != config.firstRow) {
            this.scrollLines(config);
        }
        this.config = config;

        var first = Math.max(firstRow, config.firstRow);
        var last = Math.min(lastRow, config.lastRow);

        var lineElements = this.element.childNodes;
        var lineElementsIdx = 0;

        for (var row = config.firstRow; row < first; row++) {
            var foldLine = this.session.getFoldLine(row);
            if (foldLine) {
                if (foldLine.containsRow(first)) {
                    first = foldLine.start.row;
                    break;
                } else {
                    row = foldLine.end.row;
                }
            }
            lineElementsIdx ++;
        }

        var row = first;
        var foldLine = this.session.getNextFoldLine(row);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (true) {
            if (row > foldStart) {
                row = foldLine.end.row+1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row :Infinity;
            }
            if (row > last)
                break;

            var lineElement = lineElements[lineElementsIdx++];
            if (lineElement) {
                var html = [];
                this.$renderLine(
                    html, row, !this.$useLineGroups(), row == foldStart ? foldLine : false
                );
                lineElement.style.height = config.lineHeight * this.session.getRowLength(row) + "px";
                lineElement.innerHTML = html.join("");
            }
            row++;
        }
    };

    this.scrollLines = function(config) {
        var oldConfig = this.config;
        this.config = config;

        if (!oldConfig || oldConfig.lastRow < config.firstRow)
            return this.update(config);

        if (config.lastRow < oldConfig.firstRow)
            return this.update(config);

        var el = this.element;
        if (oldConfig.firstRow < config.firstRow)
            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)
                el.removeChild(el.firstChild);

        if (oldConfig.lastRow > config.lastRow)
            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)
                el.removeChild(el.lastChild);

        if (config.firstRow < oldConfig.firstRow) {
            var fragment = this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1);
            if (el.firstChild)
                el.insertBefore(fragment, el.firstChild);
            else
                el.appendChild(fragment);
        }

        if (config.lastRow > oldConfig.lastRow) {
            var fragment = this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow);
            el.appendChild(fragment);
        }
    };

    this.$renderLinesFragment = function(config, firstRow, lastRow) {
        var fragment = this.element.ownerDocument.createDocumentFragment();
        var row = firstRow;
        var foldLine = this.session.getNextFoldLine(row);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (true) {
            if (row > foldStart) {
                row = foldLine.end.row+1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
            }
            if (row > lastRow)
                break;

            var container = dom.createElement("div");

            var html = [];
            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);
            container.innerHTML = html.join("");
            if (this.$useLineGroups()) {
                container.className = 'ace_line_group';
                fragment.appendChild(container);
                container.style.height = config.lineHeight * this.session.getRowLength(row) + "px";

            } else {
                while(container.firstChild)
                    fragment.appendChild(container.firstChild);
            }

            row++;
        }
        return fragment;
    };

    this.update = function(config) {
        this.config = config;

        var html = [];
        var firstRow = config.firstRow, lastRow = config.lastRow;

        var row = firstRow;
        var foldLine = this.session.getNextFoldLine(row);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (true) {
            if (row > foldStart) {
                row = foldLine.end.row+1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row :Infinity;
            }
            if (row > lastRow)
                break;

            if (this.$useLineGroups())
                html.push("<div class='ace_line_group' style='height:", config.lineHeight*this.session.getRowLength(row), "px'>")

            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);

            if (this.$useLineGroups())
                html.push("</div>"); // end the line group

            row++;
        }
        this.element.innerHTML = html.join("");
    };

    this.$textToken = {
        "text": true,
        "rparen": true,
        "lparen": true
    };

    this.$renderToken = function(stringBuilder, screenColumn, token, value) {
        var self = this;
        var replaceReg = /\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g;
        var replaceFunc = function(c, a, b, tabIdx, idx4) {
            if (a) {
                return self.showInvisibles
                    ? "<span class='ace_invisible ace_invisible_space'>" + lang.stringRepeat(self.SPACE_CHAR, c.length) + "</span>"
                    : c;
            } else if (c == "&") {
                return "&#38;";
            } else if (c == "<") {
                return "&#60;";
            } else if (c == ">") {
                return "&#62;";
            } else if (c == "\t") {
                var tabSize = self.session.getScreenTabSize(screenColumn + tabIdx);
                screenColumn += tabSize - 1;
                return self.$tabStrings[tabSize];
            } else if (c == "\u3000") {
                var classToUse = self.showInvisibles ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk";
                var space = self.showInvisibles ? self.SPACE_CHAR : "";
                screenColumn += 1;
                return "<span class='" + classToUse + "' style='width:" +
                    (self.config.characterWidth * 2) +
                    "px'>" + space + "</span>";
            } else if (b) {
                return "<span class='ace_invisible ace_invisible_space ace_invalid'>" + self.SPACE_CHAR + "</span>";
            } else {
                screenColumn += 1;
                return "<span class='ace_cjk' style='width:" +
                    (self.config.characterWidth * 2) +
                    "px'>" + c + "</span>";
            }
        };

        var output = value.replace(replaceReg, replaceFunc);

        if (!this.$textToken[token.type]) {
            var classes = "ace_" + token.type.replace(/\./g, " ace_");
            var style = "";
            if (token.type == "fold")
                style = " style='width:" + (token.value.length * this.config.characterWidth) + "px;' ";
            stringBuilder.push("<span class='", classes, "'", style, ">", output, "</span>");
        }
        else {
            stringBuilder.push(output);
        }
        return screenColumn + value.length;
    };

    this.renderIndentGuide = function(stringBuilder, value, max) {
        var cols = value.search(this.$indentGuideRe);
        if (cols <= 0 || cols >= max)
            return value;
        if (value[0] == " ") {
            cols -= cols % this.tabSize;
            stringBuilder.push(lang.stringRepeat(this.$tabStrings[" "], cols/this.tabSize));
            return value.substr(cols);
        } else if (value[0] == "\t") {
            stringBuilder.push(lang.stringRepeat(this.$tabStrings["\t"], cols));
            return value.substr(cols);
        }
        return value;
    };

    this.$renderWrappedLine = function(stringBuilder, tokens, splits, onlyContents) {
        var chars = 0;
        var split = 0;
        var splitChars = splits[0];
        var screenColumn = 0;

        for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            var value = token.value;
            if (i == 0 && this.displayIndentGuides) {
                chars = value.length;
                value = this.renderIndentGuide(stringBuilder, value, splitChars);
                if (!value)
                    continue;
                chars -= value.length;
            }

            if (chars + value.length < splitChars) {
                screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);
                chars += value.length;
            } else {
                while (chars + value.length >= splitChars) {
                    screenColumn = this.$renderToken(
                        stringBuilder, screenColumn,
                        token, value.substring(0, splitChars - chars)
                    );
                    value = value.substring(splitChars - chars);
                    chars = splitChars;

                    if (!onlyContents) {
                        stringBuilder.push("</div>",
                            "<div class='ace_line' style='height:",
                            this.config.lineHeight, "px'>"
                        );
                    }

                    stringBuilder.push(lang.stringRepeat("\xa0", splits.indent));

                    split ++;
                    screenColumn = 0;
                    splitChars = splits[split] || Number.MAX_VALUE;
                }
                if (value.length != 0) {
                    chars += value.length;
                    screenColumn = this.$renderToken(
                        stringBuilder, screenColumn, token, value
                    );
                }
            }
        }
    };

    this.$renderSimpleLine = function(stringBuilder, tokens) {
        var screenColumn = 0;
        var token = tokens[0];
        var value = token.value;
        if (this.displayIndentGuides)
            value = this.renderIndentGuide(stringBuilder, value);
        if (value)
            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);
        for (var i = 1; i < tokens.length; i++) {
            token = tokens[i];
            value = token.value;
            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);
        }
    };
    this.$renderLine = function(stringBuilder, row, onlyContents, foldLine) {
        if (!foldLine && foldLine != false)
            foldLine = this.session.getFoldLine(row);

        if (foldLine)
            var tokens = this.$getFoldLineTokens(row, foldLine);
        else
            var tokens = this.session.getTokens(row);


        if (!onlyContents) {
            stringBuilder.push(
                "<div class='ace_line' style='height:", 
                    this.config.lineHeight * (
                        this.$useLineGroups() ? 1 :this.session.getRowLength(row)
                    ), "px'>"
            );
        }

        if (tokens.length) {
            var splits = this.session.getRowSplitData(row);
            if (splits && splits.length)
                this.$renderWrappedLine(stringBuilder, tokens, splits, onlyContents);
            else
                this.$renderSimpleLine(stringBuilder, tokens);
        }

        if (this.showInvisibles) {
            if (foldLine)
                row = foldLine.end.row

            stringBuilder.push(
                "<span class='ace_invisible ace_invisible_eol'>",
                row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR,
                "</span>"
            );
        }
        if (!onlyContents)
            stringBuilder.push("</div>");
    };

    this.$getFoldLineTokens = function(row, foldLine) {
        var session = this.session;
        var renderTokens = [];

        function addTokens(tokens, from, to) {
            var idx = 0, col = 0;
            while ((col + tokens[idx].value.length) < from) {
                col += tokens[idx].value.length;
                idx++;

                if (idx == tokens.length)
                    return;
            }
            if (col != from) {
                var value = tokens[idx].value.substring(from - col);
                if (value.length > (to - from))
                    value = value.substring(0, to - from);

                renderTokens.push({
                    type: tokens[idx].type,
                    value: value
                });

                col = from + value.length;
                idx += 1;
            }

            while (col < to && idx < tokens.length) {
                var value = tokens[idx].value;
                if (value.length + col > to) {
                    renderTokens.push({
                        type: tokens[idx].type,
                        value: value.substring(0, to - col)
                    });
                } else
                    renderTokens.push(tokens[idx]);
                col += value.length;
                idx += 1;
            }
        }

        var tokens = session.getTokens(row);
        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {
            if (placeholder != null) {
                renderTokens.push({
                    type: "fold",
                    value: placeholder
                });
            } else {
                if (isNewRow)
                    tokens = session.getTokens(row);

                if (tokens.length)
                    addTokens(tokens, lastColumn, column);
            }
        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);

        return renderTokens;
    };

    this.$useLineGroups = function() {
        return this.session.getUseWrapMode();
    };

    this.destroy = function() {
        clearInterval(this.$pollSizeChangesTimer);
        if (this.$measureNode)
            this.$measureNode.parentNode.removeChild(this.$measureNode);
        delete this.$measureNode;
    };

}).call(Text.prototype);

exports.Text = Text;

});

ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"], function(acequire, exports, module) {
"use strict";

var dom = acequire("../lib/dom");
var isIE8;

var Cursor = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_cursor-layer";
    parentEl.appendChild(this.element);
    
    if (isIE8 === undefined)
        isIE8 = !("opacity" in this.element.style);

    this.isVisible = false;
    this.isBlinking = true;
    this.blinkInterval = 1000;
    this.smoothBlinking = false;

    this.cursors = [];
    this.cursor = this.addCursor();
    dom.addCssClass(this.element, "ace_hidden-cursors");
    this.$updateCursors = (isIE8
        ? this.$updateVisibility
        : this.$updateOpacity).bind(this);
};

(function() {
    
    this.$updateVisibility = function(val) {
        var cursors = this.cursors;
        for (var i = cursors.length; i--; )
            cursors[i].style.visibility = val ? "" : "hidden";
    };
    this.$updateOpacity = function(val) {
        var cursors = this.cursors;
        for (var i = cursors.length; i--; )
            cursors[i].style.opacity = val ? "" : "0";
    };
    

    this.$padding = 0;
    this.setPadding = function(padding) {
        this.$padding = padding;
    };

    this.setSession = function(session) {
        this.session = session;
    };

    this.setBlinking = function(blinking) {
        if (blinking != this.isBlinking){
            this.isBlinking = blinking;
            this.restartTimer();
        }
    };

    this.setBlinkInterval = function(blinkInterval) {
        if (blinkInterval != this.blinkInterval){
            this.blinkInterval = blinkInterval;
            this.restartTimer();
        }
    };

    this.setSmoothBlinking = function(smoothBlinking) {
        if (smoothBlinking != this.smoothBlinking && !isIE8) {
            this.smoothBlinking = smoothBlinking;
            dom.setCssClass(this.element, "ace_smooth-blinking", smoothBlinking);
            this.$updateCursors(true);
            this.$updateCursors = (this.$updateOpacity).bind(this);
            this.restartTimer();
        }
    };

    this.addCursor = function() {
        var el = dom.createElement("div");
        el.className = "ace_cursor";
        this.element.appendChild(el);
        this.cursors.push(el);
        return el;
    };

    this.removeCursor = function() {
        if (this.cursors.length > 1) {
            var el = this.cursors.pop();
            el.parentNode.removeChild(el);
            return el;
        }
    };

    this.hideCursor = function() {
        this.isVisible = false;
        dom.addCssClass(this.element, "ace_hidden-cursors");
        this.restartTimer();
    };

    this.showCursor = function() {
        this.isVisible = true;
        dom.removeCssClass(this.element, "ace_hidden-cursors");
        this.restartTimer();
    };

    this.restartTimer = function() {
        var update = this.$updateCursors;
        clearInterval(this.intervalId);
        clearTimeout(this.timeoutId);
        if (this.smoothBlinking) {
            dom.removeCssClass(this.element, "ace_smooth-blinking");
        }
        
        update(true);

        if (!this.isBlinking || !this.blinkInterval || !this.isVisible)
            return;

        if (this.smoothBlinking) {
            setTimeout(function(){
                dom.addCssClass(this.element, "ace_smooth-blinking");
            }.bind(this));
        }
        
        var blink = function(){
            this.timeoutId = setTimeout(function() {
                update(false);
            }, 0.6 * this.blinkInterval);
        }.bind(this);

        this.intervalId = setInterval(function() {
            update(true);
            blink();
        }, this.blinkInterval);

        blink();
    };

    this.getPixelPosition = function(position, onScreen) {
        if (!this.config || !this.session)
            return {left : 0, top : 0};

        if (!position)
            position = this.session.selection.getCursor();
        var pos = this.session.documentToScreenPosition(position);
        var cursorLeft = this.$padding + pos.column * this.config.characterWidth;
        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *
            this.config.lineHeight;

        return {left : cursorLeft, top : cursorTop};
    };

    this.update = function(config) {
        this.config = config;

        var selections = this.session.$selectionMarkers;
        var i = 0, cursorIndex = 0;

        if (selections === undefined || selections.length === 0){
            selections = [{cursor: null}];
        }

        for (var i = 0, n = selections.length; i < n; i++) {
            var pixelPos = this.getPixelPosition(selections[i].cursor, true);
            if ((pixelPos.top > config.height + config.offset ||
                 pixelPos.top < 0) && i > 1) {
                continue;
            }

            var style = (this.cursors[cursorIndex++] || this.addCursor()).style;
            
            if (!this.drawCursor) {
                style.left = pixelPos.left + "px";
                style.top = pixelPos.top + "px";
                style.width = config.characterWidth + "px";
                style.height = config.lineHeight + "px";
            } else {
                this.drawCursor(style, pixelPos, config, selections[i], this.session);
            }
        }
        while (this.cursors.length > cursorIndex)
            this.removeCursor();

        var overwrite = this.session.getOverwrite();
        this.$setOverwrite(overwrite);
        this.$pixelPos = pixelPos;
        this.restartTimer();
    };
    
    this.drawCursor = null;

    this.$setOverwrite = function(overwrite) {
        if (overwrite != this.overwrite) {
            this.overwrite = overwrite;
            if (overwrite)
                dom.addCssClass(this.element, "ace_overwrite-cursors");
            else
                dom.removeCssClass(this.element, "ace_overwrite-cursors");
        }
    };

    this.destroy = function() {
        clearInterval(this.intervalId);
        clearTimeout(this.timeoutId);
    };

}).call(Cursor.prototype);

exports.Cursor = Cursor;

});

ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var event = acequire("./lib/event");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var ScrollBar = function(parent) {
    this.element = dom.createElement("div");
    this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix;

    this.inner = dom.createElement("div");
    this.inner.className = "ace_scrollbar-inner";
    this.element.appendChild(this.inner);

    parent.appendChild(this.element);

    this.setVisible(false);
    this.skipEvent = false;

    event.addListener(this.element, "scroll", this.onScroll.bind(this));
    event.addListener(this.element, "mousedown", event.preventDefault);
};

(function() {
    oop.implement(this, EventEmitter);

    this.setVisible = function(isVisible) {
        this.element.style.display = isVisible ? "" : "none";
        this.isVisible = isVisible;
    };
}).call(ScrollBar.prototype);
var VScrollBar = function(parent, renderer) {
    ScrollBar.call(this, parent);
    this.scrollTop = 0;
    renderer.$scrollbarWidth = 
    this.width = dom.scrollbarWidth(parent.ownerDocument);
    this.inner.style.width =
    this.element.style.width = (this.width || 15) + 5 + "px";
};

oop.inherits(VScrollBar, ScrollBar);

(function() {

    this.classSuffix = '-v';
    this.onScroll = function() {
        if (!this.skipEvent) {
            this.scrollTop = this.element.scrollTop;
            this._emit("scroll", {data: this.scrollTop});
        }
        this.skipEvent = false;
    };
    this.getWidth = function() {
        return this.isVisible ? this.width : 0;
    };
    this.setHeight = function(height) {
        this.element.style.height = height + "px";
    };
    this.setInnerHeight = function(height) {
        this.inner.style.height = height + "px";
    };
    this.setScrollHeight = function(height) {
        this.inner.style.height = height + "px";
    };
    this.setScrollTop = function(scrollTop) {
        if (this.scrollTop != scrollTop) {
            this.skipEvent = true;
            this.scrollTop = this.element.scrollTop = scrollTop;
        }
    };

}).call(VScrollBar.prototype);
var HScrollBar = function(parent, renderer) {
    ScrollBar.call(this, parent);
    this.scrollLeft = 0;
    this.height = renderer.$scrollbarWidth;
    this.inner.style.height =
    this.element.style.height = (this.height || 15) + 5 + "px";
};

oop.inherits(HScrollBar, ScrollBar);

(function() {

    this.classSuffix = '-h';
    this.onScroll = function() {
        if (!this.skipEvent) {
            this.scrollLeft = this.element.scrollLeft;
            this._emit("scroll", {data: this.scrollLeft});
        }
        this.skipEvent = false;
    };
    this.getHeight = function() {
        return this.isVisible ? this.height : 0;
    };
    this.setWidth = function(width) {
        this.element.style.width = width + "px";
    };
    this.setInnerWidth = function(width) {
        this.inner.style.width = width + "px";
    };
    this.setScrollWidth = function(width) {
        this.inner.style.width = width + "px";
    };
    this.setScrollLeft = function(scrollLeft) {
        if (this.scrollLeft != scrollLeft) {
            this.skipEvent = true;
            this.scrollLeft = this.element.scrollLeft = scrollLeft;
        }
    };

}).call(HScrollBar.prototype);


exports.ScrollBar = VScrollBar; // backward compatibility
exports.ScrollBarV = VScrollBar; // backward compatibility
exports.ScrollBarH = HScrollBar; // backward compatibility

exports.VScrollBar = VScrollBar;
exports.HScrollBar = HScrollBar;
});

ace.define("ace/renderloop",["require","exports","module","ace/lib/event"], function(acequire, exports, module) {
"use strict";

var event = acequire("./lib/event");


var RenderLoop = function(onRender, win) {
    this.onRender = onRender;
    this.pending = false;
    this.changes = 0;
    this.window = win || window;
};

(function() {


    this.schedule = function(change) {
        this.changes = this.changes | change;
        if (!this.pending && this.changes) {
            this.pending = true;
            var _self = this;
            event.nextFrame(function() {
                _self.pending = false;
                var changes;
                while (changes = _self.changes) {
                    _self.changes = 0;
                    _self.onRender(changes);
                }
            }, this.window);
        }
    };

}).call(RenderLoop.prototype);

exports.RenderLoop = RenderLoop;
});

ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"], function(acequire, exports, module) {

var oop = acequire("../lib/oop");
var dom = acequire("../lib/dom");
var lang = acequire("../lib/lang");
var useragent = acequire("../lib/useragent");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var CHAR_COUNT = 0;

var FontMetrics = exports.FontMetrics = function(parentEl) {
    this.el = dom.createElement("div");
    this.$setMeasureNodeStyles(this.el.style, true);
    
    this.$main = dom.createElement("div");
    this.$setMeasureNodeStyles(this.$main.style);
    
    this.$measureNode = dom.createElement("div");
    this.$setMeasureNodeStyles(this.$measureNode.style);
    
    
    this.el.appendChild(this.$main);
    this.el.appendChild(this.$measureNode);
    parentEl.appendChild(this.el);
    
    if (!CHAR_COUNT)
        this.$testFractionalRect();
    this.$measureNode.innerHTML = lang.stringRepeat("X", CHAR_COUNT);
    
    this.$characterSize = {width: 0, height: 0};
    this.checkForSizeChanges();
};

(function() {

    oop.implement(this, EventEmitter);
        
    this.$characterSize = {width: 0, height: 0};
    
    this.$testFractionalRect = function() {
        var el = dom.createElement("div");
        this.$setMeasureNodeStyles(el.style);
        el.style.width = "0.2px";
        document.documentElement.appendChild(el);
        var w = el.getBoundingClientRect().width;
        if (w > 0 && w < 1)
            CHAR_COUNT = 50;
        else
            CHAR_COUNT = 100;
        el.parentNode.removeChild(el);
    };
    
    this.$setMeasureNodeStyles = function(style, isRoot) {
        style.width = style.height = "auto";
        style.left = style.top = "0px";
        style.visibility = "hidden";
        style.position = "absolute";
        style.whiteSpace = "pre";

        if (useragent.isIE < 8) {
            style["font-family"] = "inherit";
        } else {
            style.font = "inherit";
        }
        style.overflow = isRoot ? "hidden" : "visible";
    };

    this.checkForSizeChanges = function() {
        var size = this.$measureSizes();
        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {
            this.$measureNode.style.fontWeight = "bold";
            var boldSize = this.$measureSizes();
            this.$measureNode.style.fontWeight = "";
            this.$characterSize = size;
            this.charSizes = Object.create(null);
            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;
            this._emit("changeCharacterSize", {data: size});
        }
    };

    this.$pollSizeChanges = function() {
        if (this.$pollSizeChangesTimer)
            return this.$pollSizeChangesTimer;
        var self = this;
        return this.$pollSizeChangesTimer = setInterval(function() {
            self.checkForSizeChanges();
        }, 500);
    };
    
    this.setPolling = function(val) {
        if (val) {
            this.$pollSizeChanges();
        } else if (this.$pollSizeChangesTimer) {
            clearInterval(this.$pollSizeChangesTimer);
            this.$pollSizeChangesTimer = 0;
        }
    };

    this.$measureSizes = function() {
        if (CHAR_COUNT === 50) {
            var rect = null;
            try { 
               rect = this.$measureNode.getBoundingClientRect();
            } catch(e) {
               rect = {width: 0, height:0 };
            }
            var size = {
                height: rect.height,
                width: rect.width / CHAR_COUNT
            };
        } else {
            var size = {
                height: this.$measureNode.clientHeight,
                width: this.$measureNode.clientWidth / CHAR_COUNT
            };
        }
        if (size.width === 0 || size.height === 0)
            return null;
        return size;
    };

    this.$measureCharWidth = function(ch) {
        this.$main.innerHTML = lang.stringRepeat(ch, CHAR_COUNT);
        var rect = this.$main.getBoundingClientRect();
        return rect.width / CHAR_COUNT;
    };
    
    this.getCharacterWidth = function(ch) {
        var w = this.charSizes[ch];
        if (w === undefined) {
            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;
        }
        return w;
    };

    this.destroy = function() {
        clearInterval(this.$pollSizeChangesTimer);
        if (this.el && this.el.parentNode)
            this.el.parentNode.removeChild(this.el);
    };

}).call(FontMetrics.prototype);

});

ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var config = acequire("./config");
var useragent = acequire("./lib/useragent");
var GutterLayer = acequire("./layer/gutter").Gutter;
var MarkerLayer = acequire("./layer/marker").Marker;
var TextLayer = acequire("./layer/text").Text;
var CursorLayer = acequire("./layer/cursor").Cursor;
var HScrollBar = acequire("./scrollbar").HScrollBar;
var VScrollBar = acequire("./scrollbar").VScrollBar;
var RenderLoop = acequire("./renderloop").RenderLoop;
var FontMetrics = acequire("./layer/font_metrics").FontMetrics;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var editorCss = ".ace_editor {\
position: relative;\
overflow: hidden;\
font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\
direction: ltr;\
}\
.ace_scroller {\
position: absolute;\
overflow: hidden;\
top: 0;\
bottom: 0;\
background-color: inherit;\
-ms-user-select: none;\
-moz-user-select: none;\
-webkit-user-select: none;\
user-select: none;\
cursor: text;\
}\
.ace_content {\
position: absolute;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
min-width: 100%;\
}\
.ace_dragging .ace_scroller:before{\
position: absolute;\
top: 0;\
left: 0;\
right: 0;\
bottom: 0;\
content: '';\
background: rgba(250, 250, 250, 0.01);\
z-index: 1000;\
}\
.ace_dragging.ace_dark .ace_scroller:before{\
background: rgba(0, 0, 0, 0.01);\
}\
.ace_selecting, .ace_selecting * {\
cursor: text !important;\
}\
.ace_gutter {\
position: absolute;\
overflow : hidden;\
width: auto;\
top: 0;\
bottom: 0;\
left: 0;\
cursor: default;\
z-index: 4;\
-ms-user-select: none;\
-moz-user-select: none;\
-webkit-user-select: none;\
user-select: none;\
}\
.ace_gutter-active-line {\
position: absolute;\
left: 0;\
right: 0;\
}\
.ace_scroller.ace_scroll-left {\
box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\
}\
.ace_gutter-cell {\
padding-left: 19px;\
padding-right: 6px;\
background-repeat: no-repeat;\
}\
.ace_gutter-cell.ace_error {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\");\
background-repeat: no-repeat;\
background-position: 2px center;\
}\
.ace_gutter-cell.ace_warning {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\");\
background-position: 2px center;\
}\
.ace_gutter-cell.ace_info {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\");\
background-position: 2px center;\
}\
.ace_dark .ace_gutter-cell.ace_info {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\");\
}\
.ace_scrollbar {\
position: absolute;\
right: 0;\
bottom: 0;\
z-index: 6;\
}\
.ace_scrollbar-inner {\
position: absolute;\
cursor: text;\
left: 0;\
top: 0;\
}\
.ace_scrollbar-v{\
overflow-x: hidden;\
overflow-y: scroll;\
top: 0;\
}\
.ace_scrollbar-h {\
overflow-x: scroll;\
overflow-y: hidden;\
left: 0;\
}\
.ace_print-margin {\
position: absolute;\
height: 100%;\
}\
.ace_text-input {\
position: absolute;\
z-index: 0;\
width: 0.5em;\
height: 1em;\
opacity: 0;\
background: transparent;\
-moz-appearance: none;\
appearance: none;\
border: none;\
resize: none;\
outline: none;\
overflow: hidden;\
font: inherit;\
padding: 0 1px;\
margin: 0 -1px;\
text-indent: -1em;\
-ms-user-select: text;\
-moz-user-select: text;\
-webkit-user-select: text;\
user-select: text;\
white-space: pre!important;\
}\
.ace_text-input.ace_composition {\
background: inherit;\
color: inherit;\
z-index: 1000;\
opacity: 1;\
text-indent: 0;\
}\
.ace_layer {\
z-index: 1;\
position: absolute;\
overflow: hidden;\
word-wrap: normal;\
white-space: pre;\
height: 100%;\
width: 100%;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
pointer-events: none;\
}\
.ace_gutter-layer {\
position: relative;\
width: auto;\
text-align: right;\
pointer-events: auto;\
}\
.ace_text-layer {\
font: inherit !important;\
}\
.ace_cjk {\
display: inline-block;\
text-align: center;\
}\
.ace_cursor-layer {\
z-index: 4;\
}\
.ace_cursor {\
z-index: 4;\
position: absolute;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
border-left: 2px solid;\
transform: translatez(0);\
}\
.ace_slim-cursors .ace_cursor {\
border-left-width: 1px;\
}\
.ace_overwrite-cursors .ace_cursor {\
border-left-width: 0;\
border-bottom: 1px solid;\
}\
.ace_hidden-cursors .ace_cursor {\
opacity: 0.2;\
}\
.ace_smooth-blinking .ace_cursor {\
-webkit-transition: opacity 0.18s;\
transition: opacity 0.18s;\
}\
.ace_editor.ace_multiselect .ace_cursor {\
border-left-width: 1px;\
}\
.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\
position: absolute;\
z-index: 3;\
}\
.ace_marker-layer .ace_selection {\
position: absolute;\
z-index: 5;\
}\
.ace_marker-layer .ace_bracket {\
position: absolute;\
z-index: 6;\
}\
.ace_marker-layer .ace_active-line {\
position: absolute;\
z-index: 2;\
}\
.ace_marker-layer .ace_selected-word {\
position: absolute;\
z-index: 4;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
}\
.ace_line .ace_fold {\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
display: inline-block;\
height: 11px;\
margin-top: -2px;\
vertical-align: middle;\
background-image:\
url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),\
url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\");\
background-repeat: no-repeat, repeat-x;\
background-position: center center, top left;\
color: transparent;\
border: 1px solid black;\
border-radius: 2px;\
cursor: pointer;\
pointer-events: auto;\
}\
.ace_dark .ace_fold {\
}\
.ace_fold:hover{\
background-image:\
url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),\
url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\");\
}\
.ace_tooltip {\
background-color: #FFF;\
background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\
background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\
border: 1px solid gray;\
border-radius: 1px;\
box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\
color: black;\
max-width: 100%;\
padding: 3px 4px;\
position: fixed;\
z-index: 999999;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
cursor: default;\
white-space: pre;\
word-wrap: break-word;\
line-height: normal;\
font-style: normal;\
font-weight: normal;\
letter-spacing: normal;\
pointer-events: none;\
}\
.ace_folding-enabled > .ace_gutter-cell {\
padding-right: 13px;\
}\
.ace_fold-widget {\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
margin: 0 -12px 0 1px;\
display: none;\
width: 11px;\
vertical-align: top;\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\");\
background-repeat: no-repeat;\
background-position: center;\
border-radius: 3px;\
border: 1px solid transparent;\
cursor: pointer;\
}\
.ace_folding-enabled .ace_fold-widget {\
display: inline-block;   \
}\
.ace_fold-widget.ace_end {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\");\
}\
.ace_fold-widget.ace_closed {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\");\
}\
.ace_fold-widget:hover {\
border: 1px solid rgba(0, 0, 0, 0.3);\
background-color: rgba(255, 255, 255, 0.2);\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\
}\
.ace_fold-widget:active {\
border: 1px solid rgba(0, 0, 0, 0.4);\
background-color: rgba(0, 0, 0, 0.05);\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\
}\
.ace_dark .ace_fold-widget {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");\
}\
.ace_dark .ace_fold-widget.ace_end {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");\
}\
.ace_dark .ace_fold-widget.ace_closed {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");\
}\
.ace_dark .ace_fold-widget:hover {\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\
background-color: rgba(255, 255, 255, 0.1);\
}\
.ace_dark .ace_fold-widget:active {\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\
}\
.ace_fold-widget.ace_invalid {\
background-color: #FFB4B4;\
border-color: #DE5555;\
}\
.ace_fade-fold-widgets .ace_fold-widget {\
-webkit-transition: opacity 0.4s ease 0.05s;\
transition: opacity 0.4s ease 0.05s;\
opacity: 0;\
}\
.ace_fade-fold-widgets:hover .ace_fold-widget {\
-webkit-transition: opacity 0.05s ease 0.05s;\
transition: opacity 0.05s ease 0.05s;\
opacity:1;\
}\
.ace_underline {\
text-decoration: underline;\
}\
.ace_bold {\
font-weight: bold;\
}\
.ace_nobold .ace_bold {\
font-weight: normal;\
}\
.ace_italic {\
font-style: italic;\
}\
.ace_error-marker {\
background-color: rgba(255, 0, 0,0.2);\
position: absolute;\
z-index: 9;\
}\
.ace_highlight-marker {\
background-color: rgba(255, 255, 0,0.2);\
position: absolute;\
z-index: 8;\
}\
.ace_br1 {border-top-left-radius    : 3px;}\
.ace_br2 {border-top-right-radius   : 3px;}\
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\
.ace_br4 {border-bottom-right-radius: 3px;}\
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\
.ace_br8 {border-bottom-left-radius : 3px;}\
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\
";

dom.importCssString(editorCss, "ace_editor.css");

var VirtualRenderer = function(container, theme) {
    var _self = this;

    this.container = container || dom.createElement("div");
    this.$keepTextAreaAtCursor = !useragent.isOldIE;

    dom.addCssClass(this.container, "ace_editor");

    this.setTheme(theme);

    this.$gutter = dom.createElement("div");
    this.$gutter.className = "ace_gutter";
    this.container.appendChild(this.$gutter);

    this.scroller = dom.createElement("div");
    this.scroller.className = "ace_scroller";
    this.container.appendChild(this.scroller);

    this.content = dom.createElement("div");
    this.content.className = "ace_content";
    this.scroller.appendChild(this.content);

    this.$gutterLayer = new GutterLayer(this.$gutter);
    this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this));

    this.$markerBack = new MarkerLayer(this.content);

    var textLayer = this.$textLayer = new TextLayer(this.content);
    this.canvas = textLayer.element;

    this.$markerFront = new MarkerLayer(this.content);

    this.$cursorLayer = new CursorLayer(this.content);
    this.$horizScroll = false;
    this.$vScroll = false;

    this.scrollBar = 
    this.scrollBarV = new VScrollBar(this.container, this);
    this.scrollBarH = new HScrollBar(this.container, this);
    this.scrollBarV.addEventListener("scroll", function(e) {
        if (!_self.$scrollAnimation)
            _self.session.setScrollTop(e.data - _self.scrollMargin.top);
    });
    this.scrollBarH.addEventListener("scroll", function(e) {
        if (!_self.$scrollAnimation)
            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);
    });

    this.scrollTop = 0;
    this.scrollLeft = 0;

    this.cursorPos = {
        row : 0,
        column : 0
    };

    this.$fontMetrics = new FontMetrics(this.container);
    this.$textLayer.$setFontMetrics(this.$fontMetrics);
    this.$textLayer.addEventListener("changeCharacterSize", function(e) {
        _self.updateCharacterSize();
        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);
        _self._signal("changeCharacterSize", e);
    });

    this.$size = {
        width: 0,
        height: 0,
        scrollerHeight: 0,
        scrollerWidth: 0,
        $dirty: true
    };

    this.layerConfig = {
        width : 1,
        padding : 0,
        firstRow : 0,
        firstRowScreen: 0,
        lastRow : 0,
        lineHeight : 0,
        characterWidth : 0,
        minHeight : 1,
        maxHeight : 1,
        offset : 0,
        height : 1,
        gutterOffset: 1
    };
    
    this.scrollMargin = {
        left: 0,
        right: 0,
        top: 0,
        bottom: 0,
        v: 0,
        h: 0
    };

    this.$loop = new RenderLoop(
        this.$renderChanges.bind(this),
        this.container.ownerDocument.defaultView
    );
    this.$loop.schedule(this.CHANGE_FULL);

    this.updateCharacterSize();
    this.setPadding(4);
    config.resetOptions(this);
    config._emit("renderer", this);
};

(function() {

    this.CHANGE_CURSOR = 1;
    this.CHANGE_MARKER = 2;
    this.CHANGE_GUTTER = 4;
    this.CHANGE_SCROLL = 8;
    this.CHANGE_LINES = 16;
    this.CHANGE_TEXT = 32;
    this.CHANGE_SIZE = 64;
    this.CHANGE_MARKER_BACK = 128;
    this.CHANGE_MARKER_FRONT = 256;
    this.CHANGE_FULL = 512;
    this.CHANGE_H_SCROLL = 1024;

    oop.implement(this, EventEmitter);

    this.updateCharacterSize = function() {
        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {
            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;
            this.setStyle("ace_nobold", !this.$allowBoldFonts);
        }

        this.layerConfig.characterWidth =
        this.characterWidth = this.$textLayer.getCharacterWidth();
        this.layerConfig.lineHeight =
        this.lineHeight = this.$textLayer.getLineHeight();
        this.$updatePrintMargin();
    };
    this.setSession = function(session) {
        if (this.session)
            this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode);
            
        this.session = session;
        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)
            session.setScrollTop(-this.scrollMargin.top);

        this.$cursorLayer.setSession(session);
        this.$markerBack.setSession(session);
        this.$markerFront.setSession(session);
        this.$gutterLayer.setSession(session);
        this.$textLayer.setSession(session);
        if (!session)
            return;
        
        this.$loop.schedule(this.CHANGE_FULL);
        this.session.$setFontMetrics(this.$fontMetrics);
        
        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);
        this.onChangeNewLineMode()
        this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode);
    };
    this.updateLines = function(firstRow, lastRow, force) {
        if (lastRow === undefined)
            lastRow = Infinity;

        if (!this.$changedLines) {
            this.$changedLines = {
                firstRow: firstRow,
                lastRow: lastRow
            };
        }
        else {
            if (this.$changedLines.firstRow > firstRow)
                this.$changedLines.firstRow = firstRow;

            if (this.$changedLines.lastRow < lastRow)
                this.$changedLines.lastRow = lastRow;
        }
        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {
            if (force)
                this.$changedLines.lastRow = this.layerConfig.lastRow;
            else
                return;
        }
        if (this.$changedLines.firstRow > this.layerConfig.lastRow)
            return;
        this.$loop.schedule(this.CHANGE_LINES);
    };

    this.onChangeNewLineMode = function() {
        this.$loop.schedule(this.CHANGE_TEXT);
        this.$textLayer.$updateEolChar();
    };
    
    this.onChangeTabSize = function() {
        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);
        this.$textLayer.onChangeTabSize();
    };
    this.updateText = function() {
        this.$loop.schedule(this.CHANGE_TEXT);
    };
    this.updateFull = function(force) {
        if (force)
            this.$renderChanges(this.CHANGE_FULL, true);
        else
            this.$loop.schedule(this.CHANGE_FULL);
    };
    this.updateFontSize = function() {
        this.$textLayer.checkForSizeChanges();
    };

    this.$changes = 0;
    this.$updateSizeAsync = function() {
        if (this.$loop.pending)
            this.$size.$dirty = true;
        else
            this.onResize();
    };
    this.onResize = function(force, gutterWidth, width, height) {
        if (this.resizing > 2)
            return;
        else if (this.resizing > 0)
            this.resizing++;
        else
            this.resizing = force ? 1 : 0;
        var el = this.container;
        if (!height)
            height = el.clientHeight || el.scrollHeight;
        if (!width)
            width = el.clientWidth || el.scrollWidth;
        var changes = this.$updateCachedSize(force, gutterWidth, width, height);

        
        if (!this.$size.scrollerHeight || (!width && !height))
            return this.resizing = 0;

        if (force)
            this.$gutterLayer.$padding = null;

        if (force)
            this.$renderChanges(changes | this.$changes, true);
        else
            this.$loop.schedule(changes | this.$changes);

        if (this.resizing)
            this.resizing = 0;
        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;
    };
    
    this.$updateCachedSize = function(force, gutterWidth, width, height) {
        height -= (this.$extraHeight || 0);
        var changes = 0;
        var size = this.$size;
        var oldSize = {
            width: size.width,
            height: size.height,
            scrollerHeight: size.scrollerHeight,
            scrollerWidth: size.scrollerWidth
        };
        if (height && (force || size.height != height)) {
            size.height = height;
            changes |= this.CHANGE_SIZE;

            size.scrollerHeight = size.height;
            if (this.$horizScroll)
                size.scrollerHeight -= this.scrollBarH.getHeight();
            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px";

            changes = changes | this.CHANGE_SCROLL;
        }

        if (width && (force || size.width != width)) {
            changes |= this.CHANGE_SIZE;
            size.width = width;
            
            if (gutterWidth == null)
                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;
            
            this.gutterWidth = gutterWidth;
            
            this.scrollBarH.element.style.left = 
            this.scroller.style.left = gutterWidth + "px";
            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth());           
            
            this.scrollBarH.element.style.right = 
            this.scroller.style.right = this.scrollBarV.getWidth() + "px";
            this.scroller.style.bottom = this.scrollBarH.getHeight() + "px";

            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force)
                changes |= this.CHANGE_FULL;
        }
        
        size.$dirty = !width || !height;

        if (changes)
            this._signal("resize", oldSize);

        return changes;
    };

    this.onGutterResize = function() {
        var gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;
        if (gutterWidth != this.gutterWidth)
            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);

        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {
            this.$loop.schedule(this.CHANGE_FULL);
        } else if (this.$size.$dirty) {
            this.$loop.schedule(this.CHANGE_FULL);
        } else {
            this.$computeLayerConfig();
            this.$loop.schedule(this.CHANGE_MARKER);
        }
    };
    this.adjustWrapLimit = function() {
        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;
        var limit = Math.floor(availableWidth / this.characterWidth);
        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);
    };
    this.setAnimatedScroll = function(shouldAnimate){
        this.setOption("animatedScroll", shouldAnimate);
    };
    this.getAnimatedScroll = function() {
        return this.$animatedScroll;
    };
    this.setShowInvisibles = function(showInvisibles) {
        this.setOption("showInvisibles", showInvisibles);
    };
    this.getShowInvisibles = function() {
        return this.getOption("showInvisibles");
    };
    this.getDisplayIndentGuides = function() {
        return this.getOption("displayIndentGuides");
    };

    this.setDisplayIndentGuides = function(display) {
        this.setOption("displayIndentGuides", display);
    };
    this.setShowPrintMargin = function(showPrintMargin) {
        this.setOption("showPrintMargin", showPrintMargin);
    };
    this.getShowPrintMargin = function() {
        return this.getOption("showPrintMargin");
    };
    this.setPrintMarginColumn = function(showPrintMargin) {
        this.setOption("printMarginColumn", showPrintMargin);
    };
    this.getPrintMarginColumn = function() {
        return this.getOption("printMarginColumn");
    };
    this.getShowGutter = function(){
        return this.getOption("showGutter");
    };
    this.setShowGutter = function(show){
        return this.setOption("showGutter", show);
    };

    this.getFadeFoldWidgets = function(){
        return this.getOption("fadeFoldWidgets")
    };

    this.setFadeFoldWidgets = function(show) {
        this.setOption("fadeFoldWidgets", show);
    };

    this.setHighlightGutterLine = function(shouldHighlight) {
        this.setOption("highlightGutterLine", shouldHighlight);
    };

    this.getHighlightGutterLine = function() {
        return this.getOption("highlightGutterLine");
    };

    this.$updateGutterLineHighlight = function() {
        var pos = this.$cursorLayer.$pixelPos;
        var height = this.layerConfig.lineHeight;
        if (this.session.getUseWrapMode()) {
            var cursor = this.session.selection.getCursor();
            cursor.column = 0;
            pos = this.$cursorLayer.getPixelPosition(cursor, true);
            height *= this.session.getRowLength(cursor.row);
        }
        this.$gutterLineHighlight.style.top = pos.top - this.layerConfig.offset + "px";
        this.$gutterLineHighlight.style.height = height + "px";
    };

    this.$updatePrintMargin = function() {
        if (!this.$showPrintMargin && !this.$printMarginEl)
            return;

        if (!this.$printMarginEl) {
            var containerEl = dom.createElement("div");
            containerEl.className = "ace_layer ace_print-margin-layer";
            this.$printMarginEl = dom.createElement("div");
            this.$printMarginEl.className = "ace_print-margin";
            containerEl.appendChild(this.$printMarginEl);
            this.content.insertBefore(containerEl, this.content.firstChild);
        }

        var style = this.$printMarginEl.style;
        style.left = ((this.characterWidth * this.$printMarginColumn) + this.$padding) + "px";
        style.visibility = this.$showPrintMargin ? "visible" : "hidden";
        
        if (this.session && this.session.$wrap == -1)
            this.adjustWrapLimit();
    };
    this.getContainerElement = function() {
        return this.container;
    };
    this.getMouseEventTarget = function() {
        return this.scroller;
    };
    this.getTextAreaContainer = function() {
        return this.container;
    };
    this.$moveTextAreaToCursor = function() {
        if (!this.$keepTextAreaAtCursor)
            return;
        var config = this.layerConfig;
        var posTop = this.$cursorLayer.$pixelPos.top;
        var posLeft = this.$cursorLayer.$pixelPos.left;
        posTop -= config.offset;

        var style = this.textarea.style;
        var h = this.lineHeight;
        if (posTop < 0 || posTop > config.height - h) {
            style.top = style.left = "0";
            return;
        }

        var w = this.characterWidth;
        if (this.$composition) {
            var val = this.textarea.value.replace(/^\x01+/, "");
            w *= (this.session.$getStringScreenWidth(val)[0]+2);
            h += 2;
        }
        posLeft -= this.scrollLeft;
        if (posLeft > this.$size.scrollerWidth - w)
            posLeft = this.$size.scrollerWidth - w;

        posLeft += this.gutterWidth;
        style.height = h + "px";
        style.width = w + "px";
        style.left = Math.min(posLeft, this.$size.scrollerWidth - w) + "px";
        style.top = Math.min(posTop, this.$size.height - h) + "px";
    };
    this.getFirstVisibleRow = function() {
        return this.layerConfig.firstRow;
    };
    this.getFirstFullyVisibleRow = function() {
        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);
    };
    this.getLastFullyVisibleRow = function() {
        var config = this.layerConfig;
        var lastRow = config.lastRow
        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;
        if (top - this.session.getScrollTop() > config.height - config.lineHeight)
            return lastRow - 1;
        return lastRow;
    };
    this.getLastVisibleRow = function() {
        return this.layerConfig.lastRow;
    };

    this.$padding = null;
    this.setPadding = function(padding) {
        this.$padding = padding;
        this.$textLayer.setPadding(padding);
        this.$cursorLayer.setPadding(padding);
        this.$markerFront.setPadding(padding);
        this.$markerBack.setPadding(padding);
        this.$loop.schedule(this.CHANGE_FULL);
        this.$updatePrintMargin();
    };
    
    this.setScrollMargin = function(top, bottom, left, right) {
        var sm = this.scrollMargin;
        sm.top = top|0;
        sm.bottom = bottom|0;
        sm.right = right|0;
        sm.left = left|0;
        sm.v = sm.top + sm.bottom;
        sm.h = sm.left + sm.right;
        if (sm.top && this.scrollTop <= 0 && this.session)
            this.session.setScrollTop(-sm.top);
        this.updateFull();
    };
    this.getHScrollBarAlwaysVisible = function() {
        return this.$hScrollBarAlwaysVisible;
    };
    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {
        this.setOption("hScrollBarAlwaysVisible", alwaysVisible);
    };
    this.getVScrollBarAlwaysVisible = function() {
        return this.$vScrollBarAlwaysVisible;
    };
    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {
        this.setOption("vScrollBarAlwaysVisible", alwaysVisible);
    };

    this.$updateScrollBarV = function() {
        var scrollHeight = this.layerConfig.maxHeight;
        var scrollerHeight = this.$size.scrollerHeight;
        if (!this.$maxLines && this.$scrollPastEnd) {
            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;
            if (this.scrollTop > scrollHeight - scrollerHeight) {
                scrollHeight = this.scrollTop + scrollerHeight;
                this.scrollBarV.scrollTop = null;
            }
        }
        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);
        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);
    };
    this.$updateScrollBarH = function() {
        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);
        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);
    };
    
    this.$frozen = false;
    this.freeze = function() {
        this.$frozen = true;
    };
    
    this.unfreeze = function() {
        this.$frozen = false;
    };

    this.$renderChanges = function(changes, force) {
        if (this.$changes) {
            changes |= this.$changes;
            this.$changes = 0;
        }
        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {
            this.$changes |= changes;
            return; 
        } 
        if (this.$size.$dirty) {
            this.$changes |= changes;
            return this.onResize(true);
        }
        if (!this.lineHeight) {
            this.$textLayer.checkForSizeChanges();
        }
        
        this._signal("beforeRender");
        var config = this.layerConfig;
        if (changes & this.CHANGE_FULL ||
            changes & this.CHANGE_SIZE ||
            changes & this.CHANGE_TEXT ||
            changes & this.CHANGE_LINES ||
            changes & this.CHANGE_SCROLL ||
            changes & this.CHANGE_H_SCROLL
        ) {
            changes |= this.$computeLayerConfig();
            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {
                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;
                if (st > 0) {
                    this.scrollTop = st;
                    changes = changes | this.CHANGE_SCROLL;
                    changes |= this.$computeLayerConfig();
                }
            }
            config = this.layerConfig;
            this.$updateScrollBarV();
            if (changes & this.CHANGE_H_SCROLL)
                this.$updateScrollBarH();
            this.$gutterLayer.element.style.marginTop = (-config.offset) + "px";
            this.content.style.marginTop = (-config.offset) + "px";
            this.content.style.width = config.width + 2 * this.$padding + "px";
            this.content.style.height = config.minHeight + "px";
        }
        if (changes & this.CHANGE_H_SCROLL) {
            this.content.style.marginLeft = -this.scrollLeft + "px";
            this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left";
        }
        if (changes & this.CHANGE_FULL) {
            this.$textLayer.update(config);
            if (this.$showGutter)
                this.$gutterLayer.update(config);
            this.$markerBack.update(config);
            this.$markerFront.update(config);
            this.$cursorLayer.update(config);
            this.$moveTextAreaToCursor();
            this.$highlightGutterLine && this.$updateGutterLineHighlight();
            this._signal("afterRender");
            return;
        }
        if (changes & this.CHANGE_SCROLL) {
            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)
                this.$textLayer.update(config);
            else
                this.$textLayer.scrollLines(config);

            if (this.$showGutter)
                this.$gutterLayer.update(config);
            this.$markerBack.update(config);
            this.$markerFront.update(config);
            this.$cursorLayer.update(config);
            this.$highlightGutterLine && this.$updateGutterLineHighlight();
            this.$moveTextAreaToCursor();
            this._signal("afterRender");
            return;
        }

        if (changes & this.CHANGE_TEXT) {
            this.$textLayer.update(config);
            if (this.$showGutter)
                this.$gutterLayer.update(config);
        }
        else if (changes & this.CHANGE_LINES) {
            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)
                this.$gutterLayer.update(config);
        }
        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {
            if (this.$showGutter)
                this.$gutterLayer.update(config);
        }

        if (changes & this.CHANGE_CURSOR) {
            this.$cursorLayer.update(config);
            this.$moveTextAreaToCursor();
            this.$highlightGutterLine && this.$updateGutterLineHighlight();
        }

        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {
            this.$markerFront.update(config);
        }

        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {
            this.$markerBack.update(config);
        }

        this._signal("afterRender");
    };

    
    this.$autosize = function() {
        var height = this.session.getScreenLength() * this.lineHeight;
        var maxHeight = this.$maxLines * this.lineHeight;
        var desiredHeight = Math.max(
            (this.$minLines||1) * this.lineHeight,
            Math.min(maxHeight, height)
        ) + this.scrollMargin.v + (this.$extraHeight || 0);
        if (this.$horizScroll)
            desiredHeight += this.scrollBarH.getHeight();
        var vScroll = height > maxHeight;
        
        if (desiredHeight != this.desiredHeight ||
            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {
            if (vScroll != this.$vScroll) {
                this.$vScroll = vScroll;
                this.scrollBarV.setVisible(vScroll);
            }
            
            var w = this.container.clientWidth;
            this.container.style.height = desiredHeight + "px";
            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);
            this.desiredHeight = desiredHeight;
            
            this._signal("autosize");
        }
    };
    
    this.$computeLayerConfig = function() {
        var session = this.session;
        var size = this.$size;
        
        var hideScrollbars = size.height <= 2 * this.lineHeight;
        var screenLines = this.session.getScreenLength();
        var maxHeight = screenLines * this.lineHeight;

        var longestLine = this.$getLongestLine();
        
        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||
            size.scrollerWidth - longestLine - 2 * this.$padding < 0);

        var hScrollChanged = this.$horizScroll !== horizScroll;
        if (hScrollChanged) {
            this.$horizScroll = horizScroll;
            this.scrollBarH.setVisible(horizScroll);
        }
        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine
        if (this.$maxLines && this.lineHeight > 1)
            this.$autosize();

        var offset = this.scrollTop % this.lineHeight;
        var minHeight = size.scrollerHeight + this.lineHeight;
        
        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd
            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd
            : 0;
        maxHeight += scrollPastEnd;
        
        var sm = this.scrollMargin;
        this.session.setScrollTop(Math.max(-sm.top,
            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));

        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, 
            longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));
        
        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||
            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);
        var vScrollChanged = vScrollBefore !== vScroll;
        if (vScrollChanged) {
            this.$vScroll = vScroll;
            this.scrollBarV.setVisible(vScroll);
        }

        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;
        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));
        var lastRow = firstRow + lineCount;
        var firstRowScreen, firstRowHeight;
        var lineHeight = this.lineHeight;
        firstRow = session.screenToDocumentRow(firstRow, 0);
        var foldLine = session.getFoldLine(firstRow);
        if (foldLine) {
            firstRow = foldLine.start.row;
        }

        firstRowScreen = session.documentToScreenRow(firstRow, 0);
        firstRowHeight = session.getRowLength(firstRow) * lineHeight;

        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);
        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +
                                                firstRowHeight;

        offset = this.scrollTop - firstRowScreen * lineHeight;

        var changes = 0;
        if (this.layerConfig.width != longestLine) 
            changes = this.CHANGE_H_SCROLL;
        if (hScrollChanged || vScrollChanged) {
            changes = this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);
            this._signal("scrollbarVisibilityChanged");
            if (vScrollChanged)
                longestLine = this.$getLongestLine();
        }
        
        this.layerConfig = {
            width : longestLine,
            padding : this.$padding,
            firstRow : firstRow,
            firstRowScreen: firstRowScreen,
            lastRow : lastRow,
            lineHeight : lineHeight,
            characterWidth : this.characterWidth,
            minHeight : minHeight,
            maxHeight : maxHeight,
            offset : offset,
            gutterOffset : Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)),
            height : this.$size.scrollerHeight
        };

        return changes;
    };

    this.$updateLines = function() {
        var firstRow = this.$changedLines.firstRow;
        var lastRow = this.$changedLines.lastRow;
        this.$changedLines = null;

        var layerConfig = this.layerConfig;

        if (firstRow > layerConfig.lastRow + 1) { return; }
        if (lastRow < layerConfig.firstRow) { return; }
        if (lastRow === Infinity) {
            if (this.$showGutter)
                this.$gutterLayer.update(layerConfig);
            this.$textLayer.update(layerConfig);
            return;
        }
        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);
        return true;
    };

    this.$getLongestLine = function() {
        var charCount = this.session.getScreenWidth();
        if (this.showInvisibles && !this.session.$useWrapMode)
            charCount += 1;

        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));
    };
    this.updateFrontMarkers = function() {
        this.$markerFront.setMarkers(this.session.getMarkers(true));
        this.$loop.schedule(this.CHANGE_MARKER_FRONT);
    };
    this.updateBackMarkers = function() {
        this.$markerBack.setMarkers(this.session.getMarkers());
        this.$loop.schedule(this.CHANGE_MARKER_BACK);
    };
    this.addGutterDecoration = function(row, className){
        this.$gutterLayer.addGutterDecoration(row, className);
    };
    this.removeGutterDecoration = function(row, className){
        this.$gutterLayer.removeGutterDecoration(row, className);
    };
    this.updateBreakpoints = function(rows) {
        this.$loop.schedule(this.CHANGE_GUTTER);
    };
    this.setAnnotations = function(annotations) {
        this.$gutterLayer.setAnnotations(annotations);
        this.$loop.schedule(this.CHANGE_GUTTER);
    };
    this.updateCursor = function() {
        this.$loop.schedule(this.CHANGE_CURSOR);
    };
    this.hideCursor = function() {
        this.$cursorLayer.hideCursor();
    };
    this.showCursor = function() {
        this.$cursorLayer.showCursor();
    };

    this.scrollSelectionIntoView = function(anchor, lead, offset) {
        this.scrollCursorIntoView(anchor, offset);
        this.scrollCursorIntoView(lead, offset);
    };
    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {
        if (this.$size.scrollerHeight === 0)
            return;

        var pos = this.$cursorLayer.getPixelPosition(cursor);

        var left = pos.left;
        var top = pos.top;
        
        var topMargin = $viewMargin && $viewMargin.top || 0;
        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;
        
        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
        
        if (scrollTop + topMargin > top) {
            if (offset && scrollTop + topMargin > top + this.lineHeight)
                top -= offset * this.$size.scrollerHeight;
            if (top === 0)
                top = -this.scrollMargin.top;
            this.session.setScrollTop(top);
        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {
            if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top -  this.lineHeight)
                top += offset * this.$size.scrollerHeight;
            this.session.setScrollTop(top + this.lineHeight - this.$size.scrollerHeight);
        }

        var scrollLeft = this.scrollLeft;

        if (scrollLeft > left) {
            if (left < this.$padding + 2 * this.layerConfig.characterWidth)
                left = -this.scrollMargin.left;
            this.session.setScrollLeft(left);
        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {
            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));
        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {
            this.session.setScrollLeft(0);
        }
    };
    this.getScrollTop = function() {
        return this.session.getScrollTop();
    };
    this.getScrollLeft = function() {
        return this.session.getScrollLeft();
    };
    this.getScrollTopRow = function() {
        return this.scrollTop / this.lineHeight;
    };
    this.getScrollBottomRow = function() {
        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);
    };
    this.scrollToRow = function(row) {
        this.session.setScrollTop(row * this.lineHeight);
    };

    this.alignCursor = function(cursor, alignment) {
        if (typeof cursor == "number")
            cursor = {row: cursor, column: 0};

        var pos = this.$cursorLayer.getPixelPosition(cursor);
        var h = this.$size.scrollerHeight - this.lineHeight;
        var offset = pos.top - h * (alignment || 0);

        this.session.setScrollTop(offset);
        return offset;
    };

    this.STEPS = 8;
    this.$calcSteps = function(fromValue, toValue){
        var i = 0;
        var l = this.STEPS;
        var steps = [];

        var func  = function(t, x_min, dx) {
            return dx * (Math.pow(t - 1, 3) + 1) + x_min;
        };

        for (i = 0; i < l; ++i)
            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));

        return steps;
    };
    this.scrollToLine = function(line, center, animate, callback) {
        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});
        var offset = pos.top;
        if (center)
            offset -= this.$size.scrollerHeight / 2;

        var initialScroll = this.scrollTop;
        this.session.setScrollTop(offset);
        if (animate !== false)
            this.animateScrolling(initialScroll, callback);
    };

    this.animateScrolling = function(fromValue, callback) {
        var toValue = this.scrollTop;
        if (!this.$animatedScroll)
            return;
        var _self = this;
        
        if (fromValue == toValue)
            return;
        
        if (this.$scrollAnimation) {
            var oldSteps = this.$scrollAnimation.steps;
            if (oldSteps.length) {
                fromValue = oldSteps[0];
                if (fromValue == toValue)
                    return;
            }
        }
        
        var steps = _self.$calcSteps(fromValue, toValue);
        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};

        clearInterval(this.$timer);

        _self.session.setScrollTop(steps.shift());
        _self.session.$scrollTop = toValue;
        this.$timer = setInterval(function() {
            if (steps.length) {
                _self.session.setScrollTop(steps.shift());
                _self.session.$scrollTop = toValue;
            } else if (toValue != null) {
                _self.session.$scrollTop = -1;
                _self.session.setScrollTop(toValue);
                toValue = null;
            } else {
                _self.$timer = clearInterval(_self.$timer);
                _self.$scrollAnimation = null;
                callback && callback();
            }
        }, 10);
    };
    this.scrollToY = function(scrollTop) {
        if (this.scrollTop !== scrollTop) {
            this.$loop.schedule(this.CHANGE_SCROLL);
            this.scrollTop = scrollTop;
        }
    };
    this.scrollToX = function(scrollLeft) {
        if (this.scrollLeft !== scrollLeft)
            this.scrollLeft = scrollLeft;
        this.$loop.schedule(this.CHANGE_H_SCROLL);
    };
    this.scrollTo = function(x, y) {
        this.session.setScrollTop(y);
        this.session.setScrollLeft(y);
    };
    this.scrollBy = function(deltaX, deltaY) {
        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);
        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);
    };
    this.isScrollableBy = function(deltaX, deltaY) {
        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)
           return true;
        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight
            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)
           return true;
        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)
            return true;
        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth
            - this.layerConfig.width < -1 + this.scrollMargin.right)
           return true;
    };

    this.pixelToScreenCoordinates = function(x, y) {
        var canvasPos = this.scroller.getBoundingClientRect();

        var offset = (x + this.scrollLeft - canvasPos.left - this.$padding) / this.characterWidth;
        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);
        var col = Math.round(offset);

        return {row: row, column: col, side: offset - col > 0 ? 1 : -1};
    };

    this.screenToTextCoordinates = function(x, y) {
        var canvasPos = this.scroller.getBoundingClientRect();

        var col = Math.round(
            (x + this.scrollLeft - canvasPos.left - this.$padding) / this.characterWidth
        );

        var row = (y + this.scrollTop - canvasPos.top) / this.lineHeight;

        return this.session.screenToDocumentPosition(row, Math.max(col, 0));
    };
    this.textToScreenCoordinates = function(row, column) {
        var canvasPos = this.scroller.getBoundingClientRect();
        var pos = this.session.documentToScreenPosition(row, column);

        var x = this.$padding + Math.round(pos.column * this.characterWidth);
        var y = pos.row * this.lineHeight;

        return {
            pageX: canvasPos.left + x - this.scrollLeft,
            pageY: canvasPos.top + y - this.scrollTop
        };
    };
    this.visualizeFocus = function() {
        dom.addCssClass(this.container, "ace_focus");
    };
    this.visualizeBlur = function() {
        dom.removeCssClass(this.container, "ace_focus");
    };
    this.showComposition = function(position) {
        if (!this.$composition)
            this.$composition = {
                keepTextAreaAtCursor: this.$keepTextAreaAtCursor,
                cssText: this.textarea.style.cssText
            };

        this.$keepTextAreaAtCursor = true;
        dom.addCssClass(this.textarea, "ace_composition");
        this.textarea.style.cssText = "";
        this.$moveTextAreaToCursor();
    };
    this.setCompositionText = function(text) {
        this.$moveTextAreaToCursor();
    };
    this.hideComposition = function() {
        if (!this.$composition)
            return;

        dom.removeCssClass(this.textarea, "ace_composition");
        this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor;
        this.textarea.style.cssText = this.$composition.cssText;
        this.$composition = null;
    };
    this.setTheme = function(theme, cb) {
        var _self = this;
        this.$themeId = theme;
        _self._dispatchEvent('themeChange',{theme:theme});

        if (!theme || typeof theme == "string") {
            var moduleName = theme || this.$options.theme.initialValue;
            config.loadModule(["theme", moduleName], afterLoad);
        } else {
            afterLoad(theme);
        }

        function afterLoad(module) {
            if (_self.$themeId != theme)
                return cb && cb();
            if (!module.cssClass)
                return;
            dom.importCssString(
                module.cssText,
                module.cssClass,
                _self.container.ownerDocument
            );

            if (_self.theme)
                dom.removeCssClass(_self.container, _self.theme.cssClass);

            var padding = "padding" in module ? module.padding 
                : "padding" in (_self.theme || {}) ? 4 : _self.$padding;
            if (_self.$padding && padding != _self.$padding)
                _self.setPadding(padding);
            _self.$theme = module.cssClass;

            _self.theme = module;
            dom.addCssClass(_self.container, module.cssClass);
            dom.setCssClass(_self.container, "ace_dark", module.isDark);
            if (_self.$size) {
                _self.$size.width = 0;
                _self.$updateSizeAsync();
            }

            _self._dispatchEvent('themeLoaded', {theme:module});
            cb && cb();
        }
    };
    this.getTheme = function() {
        return this.$themeId;
    };
    this.setStyle = function(style, include) {
        dom.setCssClass(this.container, style, include !== false);
    };
    this.unsetStyle = function(style) {
        dom.removeCssClass(this.container, style);
    };
    
    this.setCursorStyle = function(style) {
        if (this.scroller.style.cursor != style)
            this.scroller.style.cursor = style;
    };
    this.setMouseCursor = function(cursorStyle) {
        this.scroller.style.cursor = cursorStyle;
    };
    this.destroy = function() {
        this.$textLayer.destroy();
        this.$cursorLayer.destroy();
    };

}).call(VirtualRenderer.prototype);


config.defineOptions(VirtualRenderer.prototype, "renderer", {
    animatedScroll: {initialValue: false},
    showInvisibles: {
        set: function(value) {
            if (this.$textLayer.setShowInvisibles(value))
                this.$loop.schedule(this.CHANGE_TEXT);
        },
        initialValue: false
    },
    showPrintMargin: {
        set: function() { this.$updatePrintMargin(); },
        initialValue: true
    },
    printMarginColumn: {
        set: function() { this.$updatePrintMargin(); },
        initialValue: 80
    },
    printMargin: {
        set: function(val) {
            if (typeof val == "number")
                this.$printMarginColumn = val;
            this.$showPrintMargin = !!val;
            this.$updatePrintMargin();
        },
        get: function() {
            return this.$showPrintMargin && this.$printMarginColumn; 
        }
    },
    showGutter: {
        set: function(show){
            this.$gutter.style.display = show ? "block" : "none";
            this.$loop.schedule(this.CHANGE_FULL);
            this.onGutterResize();
        },
        initialValue: true
    },
    fadeFoldWidgets: {
        set: function(show) {
            dom.setCssClass(this.$gutter, "ace_fade-fold-widgets", show);
        },
        initialValue: false
    },
    showFoldWidgets: {
        set: function(show) {this.$gutterLayer.setShowFoldWidgets(show)},
        initialValue: true
    },
    showLineNumbers: {
        set: function(show) {
            this.$gutterLayer.setShowLineNumbers(show);
            this.$loop.schedule(this.CHANGE_GUTTER);
        },
        initialValue: true
    },
    displayIndentGuides: {
        set: function(show) {
            if (this.$textLayer.setDisplayIndentGuides(show))
                this.$loop.schedule(this.CHANGE_TEXT);
        },
        initialValue: true
    },
    highlightGutterLine: {
        set: function(shouldHighlight) {
            if (!this.$gutterLineHighlight) {
                this.$gutterLineHighlight = dom.createElement("div");
                this.$gutterLineHighlight.className = "ace_gutter-active-line";
                this.$gutter.appendChild(this.$gutterLineHighlight);
                return;
            }

            this.$gutterLineHighlight.style.display = shouldHighlight ? "" : "none";
            if (this.$cursorLayer.$pixelPos)
                this.$updateGutterLineHighlight();
        },
        initialValue: false,
        value: true
    },
    hScrollBarAlwaysVisible: {
        set: function(val) {
            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)
                this.$loop.schedule(this.CHANGE_SCROLL);
        },
        initialValue: false
    },
    vScrollBarAlwaysVisible: {
        set: function(val) {
            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)
                this.$loop.schedule(this.CHANGE_SCROLL);
        },
        initialValue: false
    },
    fontSize:  {
        set: function(size) {
            if (typeof size == "number")
                size = size + "px";
            this.container.style.fontSize = size;
            this.updateFontSize();
        },
        initialValue: 12
    },
    fontFamily: {
        set: function(name) {
            this.container.style.fontFamily = name;
            this.updateFontSize();
        }
    },
    maxLines: {
        set: function(val) {
            this.updateFull();
        }
    },
    minLines: {
        set: function(val) {
            this.updateFull();
        }
    },
    scrollPastEnd: {
        set: function(val) {
            val = +val || 0;
            if (this.$scrollPastEnd == val)
                return;
            this.$scrollPastEnd = val;
            this.$loop.schedule(this.CHANGE_SCROLL);
        },
        initialValue: 0,
        handlesSet: true
    },
    fixedWidthGutter: {
        set: function(val) {
            this.$gutterLayer.$fixedWidth = !!val;
            this.$loop.schedule(this.CHANGE_GUTTER);
        }
    },
    theme: {
        set: function(val) { this.setTheme(val) },
        get: function() { return this.$themeId || this.theme; },
        initialValue: "./theme/textmate",
        handlesSet: true
    }
});

exports.VirtualRenderer = VirtualRenderer;
});

ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var net = acequire("../lib/net");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;
var config = acequire("../config");

var WorkerClient = function(topLevelNamespaces, mod, classname, workerUrl) {
    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);
    this.changeListener = this.changeListener.bind(this);
    this.onMessage = this.onMessage.bind(this);
    if (acequire.nameToUrl && !acequire.toUrl)
        acequire.toUrl = acequire.nameToUrl;
    
    if (config.get("packaged") || !acequire.toUrl) {
        workerUrl = workerUrl || config.moduleUrl(mod.id, "worker")
    } else {
        var normalizePath = this.$normalizePath;
        workerUrl = workerUrl || normalizePath(acequire.toUrl("ace/worker/worker.js", null, "_"));

        var tlns = {};
        topLevelNamespaces.forEach(function(ns) {
            tlns[ns] = normalizePath(acequire.toUrl(ns, null, "_").replace(/(\.js)?(\?.*)?$/, ""));
        });
    }

    try {
            var workerSrc = mod.src;
    var Blob = require('w3c-blob');
    var blob = new Blob([ workerSrc ], { type: 'application/javascript' });
    var blobUrl = (window.URL || window.webkitURL).createObjectURL(blob);

    this.$worker = new Worker(blobUrl);

    } catch(e) {
        if (e instanceof window.DOMException) {
            var blob = this.$workerBlob(workerUrl);
            var URL = window.URL || window.webkitURL;
            var blobURL = URL.createObjectURL(blob);

            this.$worker = new Worker(blobURL);
            URL.revokeObjectURL(blobURL);
        } else {
            throw e;
        }
    }
    this.$worker.postMessage({
        init : true,
        tlns : tlns,
        module : mod.id,
        classname : classname
    });

    this.callbackId = 1;
    this.callbacks = {};

    this.$worker.onmessage = this.onMessage;
};

(function(){

    oop.implement(this, EventEmitter);

    this.onMessage = function(e) {
        var msg = e.data;
        switch(msg.type) {
            case "event":
                this._signal(msg.name, {data: msg.data});
                break;
            case "call":
                var callback = this.callbacks[msg.id];
                if (callback) {
                    callback(msg.data);
                    delete this.callbacks[msg.id];
                }
                break;
            case "error":
                this.reportError(msg.data);
                break;
            case "log":
                window.console && console.log && console.log.apply(console, msg.data);
                break;
        }
    };
    
    this.reportError = function(err) {
        window.console && console.error && console.error(err);
    };

    this.$normalizePath = function(path) {
        return net.qualifyURL(path);
    };

    this.terminate = function() {
        this._signal("terminate", {});
        this.deltaQueue = null;
        this.$worker.terminate();
        this.$worker = null;
        if (this.$doc)
            this.$doc.off("change", this.changeListener);
        this.$doc = null;
    };

    this.send = function(cmd, args) {
        this.$worker.postMessage({command: cmd, args: args});
    };

    this.call = function(cmd, args, callback) {
        if (callback) {
            var id = this.callbackId++;
            this.callbacks[id] = callback;
            args.push(id);
        }
        this.send(cmd, args);
    };

    this.emit = function(event, data) {
        try {
            this.$worker.postMessage({event: event, data: {data: data.data}});
        }
        catch(ex) {
            console.error(ex.stack);
        }
    };

    this.attachToDocument = function(doc) {
        if(this.$doc)
            this.terminate();

        this.$doc = doc;
        this.call("setValue", [doc.getValue()]);
        doc.on("change", this.changeListener);
    };

    this.changeListener = function(delta) {
        if (!this.deltaQueue) {
            this.deltaQueue = [];
            setTimeout(this.$sendDeltaQueue, 0);
        }
        if (delta.action == "insert")
            this.deltaQueue.push(delta.start, delta.lines);
        else
            this.deltaQueue.push(delta.start, delta.end);
    };

    this.$sendDeltaQueue = function() {
        var q = this.deltaQueue;
        if (!q) return;
        this.deltaQueue = null;
        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {
            this.call("setValue", [this.$doc.getValue()]);
        } else
            this.emit("change", {data: q});
    };

    this.$workerBlob = function(workerUrl) {
        var script = "importScripts('" + net.qualifyURL(workerUrl) + "');";
        try {
            return new Blob([script], {"type": "application/javascript"});
        } catch (e) { // Backwards-compatibility
            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;
            var blobBuilder = new BlobBuilder();
            blobBuilder.append(script);
            return blobBuilder.getBlob("application/javascript");
        }
    };

}).call(WorkerClient.prototype);


var UIWorkerClient = function(topLevelNamespaces, mod, classname) {
    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);
    this.changeListener = this.changeListener.bind(this);
    this.callbackId = 1;
    this.callbacks = {};
    this.messageBuffer = [];

    var main = null;
    var emitSync = false;
    var sender = Object.create(EventEmitter);
    var _self = this;

    this.$worker = {};
    this.$worker.terminate = function() {};
    this.$worker.postMessage = function(e) {
        _self.messageBuffer.push(e);
        if (main) {
            if (emitSync)
                setTimeout(processNext);
            else
                processNext();
        }
    };
    this.setEmitSync = function(val) { emitSync = val };

    var processNext = function() {
        var msg = _self.messageBuffer.shift();
        if (msg.command)
            main[msg.command].apply(main, msg.args);
        else if (msg.event)
            sender._signal(msg.event, msg.data);
    };

    sender.postMessage = function(msg) {
        _self.onMessage({data: msg});
    };
    sender.callback = function(data, callbackId) {
        this.postMessage({type: "call", id: callbackId, data: data});
    };
    sender.emit = function(name, data) {
        this.postMessage({type: "event", name: name, data: data});
    };

    config.loadModule(["worker", mod], function(Main) {
        main = new Main[classname](sender);
        while (_self.messageBuffer.length)
            processNext();
    });
};

UIWorkerClient.prototype = WorkerClient.prototype;

exports.UIWorkerClient = UIWorkerClient;
exports.WorkerClient = WorkerClient;

});

ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"], function(acequire, exports, module) {
"use strict";

var Range = acequire("./range").Range;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var oop = acequire("./lib/oop");

var PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {
    var _self = this;
    this.length = length;
    this.session = session;
    this.doc = session.getDocument();
    this.mainClass = mainClass;
    this.othersClass = othersClass;
    this.$onUpdate = this.onUpdate.bind(this);
    this.doc.on("change", this.$onUpdate);
    this.$others = others;
    
    this.$onCursorChange = function() {
        setTimeout(function() {
            _self.onCursorChange();
        });
    };
    
    this.$pos = pos;
    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};
    this.$undoStackDepth = undoStack.length;
    this.setup();

    session.selection.on("changeCursor", this.$onCursorChange);
};

(function() {

    oop.implement(this, EventEmitter);
    this.setup = function() {
        var _self = this;
        var doc = this.doc;
        var session = this.session;
        
        this.selectionBefore = session.selection.toJSON();
        if (session.selection.inMultiSelectMode)
            session.selection.toSingleRange();

        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);
        var pos = this.pos;
        pos.$insertRight = true;
        pos.detach();
        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);
        this.others = [];
        this.$others.forEach(function(other) {
            var anchor = doc.createAnchor(other.row, other.column);
            anchor.$insertRight = true;
            anchor.detach();
            _self.others.push(anchor);
        });
        session.setUndoSelect(false);
    };
    this.showOtherMarkers = function() {
        if (this.othersActive) return;
        var session = this.session;
        var _self = this;
        this.othersActive = true;
        this.others.forEach(function(anchor) {
            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);
        });
    };
    this.hideOtherMarkers = function() {
        if (!this.othersActive) return;
        this.othersActive = false;
        for (var i = 0; i < this.others.length; i++) {
            this.session.removeMarker(this.others[i].markerId);
        }
    };
    this.onUpdate = function(delta) {
        if (this.$updating)
            return this.updateAnchors(delta);
            
        var range = delta;
        if (range.start.row !== range.end.row) return;
        if (range.start.row !== this.pos.row) return;
        this.$updating = true;
        var lengthDiff = delta.action === "insert" ? range.end.column - range.start.column : range.start.column - range.end.column;
        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;
        var distanceFromStart = range.start.column - this.pos.column;
        
        this.updateAnchors(delta);
        
        if (inMainRange)
            this.length += lengthDiff;

        if (inMainRange && !this.session.$fromUndo) {
            if (delta.action === 'insert') {
                for (var i = this.others.length - 1; i >= 0; i--) {
                    var otherPos = this.others[i];
                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};
                    this.doc.insertMergedLines(newPos, delta.lines);
                }
            } else if (delta.action === 'remove') {
                for (var i = this.others.length - 1; i >= 0; i--) {
                    var otherPos = this.others[i];
                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};
                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));
                }
            }
        }
        
        this.$updating = false;
        this.updateMarkers();
    };
    
    this.updateAnchors = function(delta) {
        this.pos.onChange(delta);
        for (var i = this.others.length; i--;)
            this.others[i].onChange(delta);
        this.updateMarkers();
    };
    
    this.updateMarkers = function() {
        if (this.$updating)
            return;
        var _self = this;
        var session = this.session;
        var updateMarker = function(pos, className) {
            session.removeMarker(pos.markerId);
            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column+_self.length), className, null, false);
        };
        updateMarker(this.pos, this.mainClass);
        for (var i = this.others.length; i--;)
            updateMarker(this.others[i], this.othersClass);
    };

    this.onCursorChange = function(event) {
        if (this.$updating || !this.session) return;
        var pos = this.session.selection.getCursor();
        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {
            this.showOtherMarkers();
            this._emit("cursorEnter", event);
        } else {
            this.hideOtherMarkers();
            this._emit("cursorLeave", event);
        }
    };    
    this.detach = function() {
        this.session.removeMarker(this.pos && this.pos.markerId);
        this.hideOtherMarkers();
        this.doc.removeEventListener("change", this.$onUpdate);
        this.session.selection.removeEventListener("changeCursor", this.$onCursorChange);
        this.session.setUndoSelect(true);
        this.session = null;
    };
    this.cancel = function() {
        if (this.$undoStackDepth === -1)
            return;
        var undoManager = this.session.getUndoManager();
        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;
        for (var i = 0; i < undosRequired; i++) {
            undoManager.undo(true);
        }
        if (this.selectionBefore)
            this.session.selection.fromJSON(this.selectionBefore);
    };
}).call(PlaceHolder.prototype);


exports.PlaceHolder = PlaceHolder;
});

ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"], function(acequire, exports, module) {

var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
function isSamePoint(p1, p2) {
    return p1.row == p2.row && p1.column == p2.column;
}

function onMouseDown(e) {
    var ev = e.domEvent;
    var alt = ev.altKey;
    var shift = ev.shiftKey;
    var ctrl = ev.ctrlKey;
    var accel = e.getAccelKey();
    var button = e.getButton();
    
    if (ctrl && useragent.isMac)
        button = ev.button;

    if (e.editor.inMultiSelectMode && button == 2) {
        e.editor.textInput.onContextMenu(e.domEvent);
        return;
    }
    
    if (!ctrl && !alt && !accel) {
        if (button === 0 && e.editor.inMultiSelectMode)
            e.editor.exitMultiSelectMode();
        return;
    }
    
    if (button !== 0)
        return;

    var editor = e.editor;
    var selection = editor.selection;
    var isMultiSelect = editor.inMultiSelectMode;
    var pos = e.getDocumentPosition();
    var cursor = selection.getCursor();
    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));

    var mouseX = e.x, mouseY = e.y;
    var onMouseSelection = function(e) {
        mouseX = e.clientX;
        mouseY = e.clientY;
    };
    
    var session = editor.session;
    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
    var screenCursor = screenAnchor;
    
    var selectionMode;
    if (editor.$mouseHandler.$enableJumpToDef) {
        if (ctrl && alt || accel && alt)
            selectionMode = shift ? "block" : "add";
        else if (alt && editor.$blockSelectEnabled)
            selectionMode = "block";
    } else {
        if (accel && !alt) {
            selectionMode = "add";
            if (!isMultiSelect && shift)
                return;
        } else if (alt && editor.$blockSelectEnabled) {
            selectionMode = "block";
        }
    }
    
    if (selectionMode && useragent.isMac && ev.ctrlKey) {
        editor.$mouseHandler.cancelContextMenu();
    }

    if (selectionMode == "add") {
        if (!isMultiSelect && inSelection)
            return; // dragging

        if (!isMultiSelect) {
            var range = selection.toOrientedRange();
            editor.addSelectionMarker(range);
        }

        var oldRange = selection.rangeList.rangeAtPoint(pos);
        
        
        editor.$blockScrolling++;
        editor.inVirtualSelectionMode = true;
        
        if (shift) {
            oldRange = null;
            range = selection.ranges[0] || range;
            editor.removeSelectionMarker(range);
        }
        editor.once("mouseup", function() {
            var tmpSel = selection.toOrientedRange();

            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))
                selection.substractPoint(tmpSel.cursor);
            else {
                if (shift) {
                    selection.substractPoint(range.cursor);
                } else if (range) {
                    editor.removeSelectionMarker(range);
                    selection.addRange(range);
                }
                selection.addRange(tmpSel);
            }
            editor.$blockScrolling--;
            editor.inVirtualSelectionMode = false;
        });

    } else if (selectionMode == "block") {
        e.stop();
        editor.inVirtualSelectionMode = true;        
        var initialRange;
        var rectSel = [];
        var blockSelect = function() {
            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column);

            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))
                return;
            screenCursor = newCursor;
            
            editor.$blockScrolling++;
            editor.selection.moveToPosition(cursor);
            editor.renderer.scrollCursorIntoView();

            editor.removeSelectionMarkers(rectSel);
            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);
            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())
                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();
            rectSel.forEach(editor.addSelectionMarker, editor);
            editor.updateSelectionMarkers();
            editor.$blockScrolling--;
        };
        editor.$blockScrolling++;
        if (isMultiSelect && !accel) {
            selection.toSingleRange();
        } else if (!isMultiSelect && accel) {
            initialRange = selection.toOrientedRange();
            editor.addSelectionMarker(initialRange);
        }
        
        if (shift)
            screenAnchor = session.documentToScreenPosition(selection.lead);            
        else
            selection.moveToPosition(pos);
        editor.$blockScrolling--;
        
        screenCursor = {row: -1, column: -1};

        var onMouseSelectionEnd = function(e) {
            clearInterval(timerId);
            editor.removeSelectionMarkers(rectSel);
            if (!rectSel.length)
                rectSel = [selection.toOrientedRange()];
            editor.$blockScrolling++;
            if (initialRange) {
                editor.removeSelectionMarker(initialRange);
                selection.toSingleRange(initialRange);
            }
            for (var i = 0; i < rectSel.length; i++)
                selection.addRange(rectSel[i]);
            editor.inVirtualSelectionMode = false;
            editor.$mouseHandler.$clickSelection = null;
            editor.$blockScrolling--;
        };

        var onSelectionInterval = blockSelect;

        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);
        var timerId = setInterval(function() {onSelectionInterval();}, 20);

        return e.preventDefault();
    }
}


exports.onMouseDown = onMouseDown;

});

ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"], function(acequire, exports, module) {
exports.defaultCommands = [{
    name: "addCursorAbove",
    exec: function(editor) { editor.selectMoreLines(-1); },
    bindKey: {win: "Ctrl-Alt-Up", mac: "Ctrl-Alt-Up"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "addCursorBelow",
    exec: function(editor) { editor.selectMoreLines(1); },
    bindKey: {win: "Ctrl-Alt-Down", mac: "Ctrl-Alt-Down"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "addCursorAboveSkipCurrent",
    exec: function(editor) { editor.selectMoreLines(-1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Up", mac: "Ctrl-Alt-Shift-Up"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "addCursorBelowSkipCurrent",
    exec: function(editor) { editor.selectMoreLines(1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Down", mac: "Ctrl-Alt-Shift-Down"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectMoreBefore",
    exec: function(editor) { editor.selectMore(-1); },
    bindKey: {win: "Ctrl-Alt-Left", mac: "Ctrl-Alt-Left"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectMoreAfter",
    exec: function(editor) { editor.selectMore(1); },
    bindKey: {win: "Ctrl-Alt-Right", mac: "Ctrl-Alt-Right"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectNextBefore",
    exec: function(editor) { editor.selectMore(-1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Left", mac: "Ctrl-Alt-Shift-Left"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectNextAfter",
    exec: function(editor) { editor.selectMore(1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Right", mac: "Ctrl-Alt-Shift-Right"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "splitIntoLines",
    exec: function(editor) { editor.multiSelect.splitIntoLines(); },
    bindKey: {win: "Ctrl-Alt-L", mac: "Ctrl-Alt-L"},
    readOnly: true
}, {
    name: "alignCursors",
    exec: function(editor) { editor.alignCursors(); },
    bindKey: {win: "Ctrl-Alt-A", mac: "Ctrl-Alt-A"},
    scrollIntoView: "cursor"
}, {
    name: "findAll",
    exec: function(editor) { editor.findAll(); },
    bindKey: {win: "Ctrl-Alt-K", mac: "Ctrl-Alt-G"},
    scrollIntoView: "cursor",
    readOnly: true
}];
exports.multiSelectCommands = [{
    name: "singleSelection",
    bindKey: "esc",
    exec: function(editor) { editor.exitMultiSelectMode(); },
    scrollIntoView: "cursor",
    readOnly: true,
    isAvailable: function(editor) {return editor && editor.inMultiSelectMode}
}];

var HashHandler = acequire("../keyboard/hash_handler").HashHandler;
exports.keyboardHandler = new HashHandler(exports.multiSelectCommands);

});

ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"], function(acequire, exports, module) {

var RangeList = acequire("./range_list").RangeList;
var Range = acequire("./range").Range;
var Selection = acequire("./selection").Selection;
var onMouseDown = acequire("./mouse/multi_select_handler").onMouseDown;
var event = acequire("./lib/event");
var lang = acequire("./lib/lang");
var commands = acequire("./commands/multi_select_commands");
exports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);
var Search = acequire("./search").Search;
var search = new Search();

function find(session, needle, dir) {
    search.$options.wrap = true;
    search.$options.needle = needle;
    search.$options.backwards = dir == -1;
    return search.find(session);
}
var EditSession = acequire("./edit_session").EditSession;
(function() {
    this.getSelectionMarkers = function() {
        return this.$selectionMarkers;
    };
}).call(EditSession.prototype);
(function() {
    this.ranges = null;
    this.rangeList = null;
    this.addRange = function(range, $blockChangeEvents) {
        if (!range)
            return;

        if (!this.inMultiSelectMode && this.rangeCount === 0) {
            var oldRange = this.toOrientedRange();
            this.rangeList.add(oldRange);
            this.rangeList.add(range);
            if (this.rangeList.ranges.length != 2) {
                this.rangeList.removeAll();
                return $blockChangeEvents || this.fromOrientedRange(range);
            }
            this.rangeList.removeAll();
            this.rangeList.add(oldRange);
            this.$onAddRange(oldRange);
        }

        if (!range.cursor)
            range.cursor = range.end;

        var removed = this.rangeList.add(range);

        this.$onAddRange(range);

        if (removed.length)
            this.$onRemoveRange(removed);

        if (this.rangeCount > 1 && !this.inMultiSelectMode) {
            this._signal("multiSelect");
            this.inMultiSelectMode = true;
            this.session.$undoSelect = false;
            this.rangeList.attach(this.session);
        }

        return $blockChangeEvents || this.fromOrientedRange(range);
    };

    this.toSingleRange = function(range) {
        range = range || this.ranges[0];
        var removed = this.rangeList.removeAll();
        if (removed.length)
            this.$onRemoveRange(removed);

        range && this.fromOrientedRange(range);
    };
    this.substractPoint = function(pos) {
        var removed = this.rangeList.substractPoint(pos);
        if (removed) {
            this.$onRemoveRange(removed);
            return removed[0];
        }
    };
    this.mergeOverlappingRanges = function() {
        var removed = this.rangeList.merge();
        if (removed.length)
            this.$onRemoveRange(removed);
        else if(this.ranges[0])
            this.fromOrientedRange(this.ranges[0]);
    };

    this.$onAddRange = function(range) {
        this.rangeCount = this.rangeList.ranges.length;
        this.ranges.unshift(range);
        this._signal("addRange", {range: range});
    };

    this.$onRemoveRange = function(removed) {
        this.rangeCount = this.rangeList.ranges.length;
        if (this.rangeCount == 1 && this.inMultiSelectMode) {
            var lastRange = this.rangeList.ranges.pop();
            removed.push(lastRange);
            this.rangeCount = 0;
        }

        for (var i = removed.length; i--; ) {
            var index = this.ranges.indexOf(removed[i]);
            this.ranges.splice(index, 1);
        }

        this._signal("removeRange", {ranges: removed});

        if (this.rangeCount === 0 && this.inMultiSelectMode) {
            this.inMultiSelectMode = false;
            this._signal("singleSelect");
            this.session.$undoSelect = true;
            this.rangeList.detach(this.session);
        }

        lastRange = lastRange || this.ranges[0];
        if (lastRange && !lastRange.isEqual(this.getRange()))
            this.fromOrientedRange(lastRange);
    };
    this.$initRangeList = function() {
        if (this.rangeList)
            return;

        this.rangeList = new RangeList();
        this.ranges = [];
        this.rangeCount = 0;
    };
    this.getAllRanges = function() {
        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];
    };

    this.splitIntoLines = function () {
        if (this.rangeCount > 1) {
            var ranges = this.rangeList.ranges;
            var lastRange = ranges[ranges.length - 1];
            var range = Range.fromPoints(ranges[0].start, lastRange.end);

            this.toSingleRange();
            this.setSelectionRange(range, lastRange.cursor == lastRange.start);
        } else {
            var range = this.getRange();
            var isBackwards = this.isBackwards();
            var startRow = range.start.row;
            var endRow = range.end.row;
            if (startRow == endRow) {
                if (isBackwards)
                    var start = range.end, end = range.start;
                else
                    var start = range.start, end = range.end;
                
                this.addRange(Range.fromPoints(end, end));
                this.addRange(Range.fromPoints(start, start));
                return;
            }

            var rectSel = [];
            var r = this.getLineRange(startRow, true);
            r.start.column = range.start.column;
            rectSel.push(r);

            for (var i = startRow + 1; i < endRow; i++)
                rectSel.push(this.getLineRange(i, true));

            r = this.getLineRange(endRow, true);
            r.end.column = range.end.column;
            rectSel.push(r);

            rectSel.forEach(this.addRange, this);
        }
    };
    this.toggleBlockSelection = function () {
        if (this.rangeCount > 1) {
            var ranges = this.rangeList.ranges;
            var lastRange = ranges[ranges.length - 1];
            var range = Range.fromPoints(ranges[0].start, lastRange.end);

            this.toSingleRange();
            this.setSelectionRange(range, lastRange.cursor == lastRange.start);
        } else {
            var cursor = this.session.documentToScreenPosition(this.selectionLead);
            var anchor = this.session.documentToScreenPosition(this.selectionAnchor);

            var rectSel = this.rectangularRangeBlock(cursor, anchor);
            rectSel.forEach(this.addRange, this);
        }
    };
    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {
        var rectSel = [];

        var xBackwards = screenCursor.column < screenAnchor.column;
        if (xBackwards) {
            var startColumn = screenCursor.column;
            var endColumn = screenAnchor.column;
        } else {
            var startColumn = screenAnchor.column;
            var endColumn = screenCursor.column;
        }

        var yBackwards = screenCursor.row < screenAnchor.row;
        if (yBackwards) {
            var startRow = screenCursor.row;
            var endRow = screenAnchor.row;
        } else {
            var startRow = screenAnchor.row;
            var endRow = screenCursor.row;
        }

        if (startColumn < 0)
            startColumn = 0;
        if (startRow < 0)
            startRow = 0;

        if (startRow == endRow)
            includeEmptyLines = true;

        for (var row = startRow; row <= endRow; row++) {
            var range = Range.fromPoints(
                this.session.screenToDocumentPosition(row, startColumn),
                this.session.screenToDocumentPosition(row, endColumn)
            );
            if (range.isEmpty()) {
                if (docEnd && isSamePoint(range.end, docEnd))
                    break;
                var docEnd = range.end;
            }
            range.cursor = xBackwards ? range.start : range.end;
            rectSel.push(range);
        }

        if (yBackwards)
            rectSel.reverse();

        if (!includeEmptyLines) {
            var end = rectSel.length - 1;
            while (rectSel[end].isEmpty() && end > 0)
                end--;
            if (end > 0) {
                var start = 0;
                while (rectSel[start].isEmpty())
                    start++;
            }
            for (var i = end; i >= start; i--) {
                if (rectSel[i].isEmpty())
                    rectSel.splice(i, 1);
            }
        }

        return rectSel;
    };
}).call(Selection.prototype);
var Editor = acequire("./editor").Editor;
(function() {
    this.updateSelectionMarkers = function() {
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };
    this.addSelectionMarker = function(orientedRange) {
        if (!orientedRange.cursor)
            orientedRange.cursor = orientedRange.end;

        var style = this.getSelectionStyle();
        orientedRange.marker = this.session.addMarker(orientedRange, "ace_selection", style);

        this.session.$selectionMarkers.push(orientedRange);
        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
        return orientedRange;
    };
    this.removeSelectionMarker = function(range) {
        if (!range.marker)
            return;
        this.session.removeMarker(range.marker);
        var index = this.session.$selectionMarkers.indexOf(range);
        if (index != -1)
            this.session.$selectionMarkers.splice(index, 1);
        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
    };

    this.removeSelectionMarkers = function(ranges) {
        var markerList = this.session.$selectionMarkers;
        for (var i = ranges.length; i--; ) {
            var range = ranges[i];
            if (!range.marker)
                continue;
            this.session.removeMarker(range.marker);
            var index = markerList.indexOf(range);
            if (index != -1)
                markerList.splice(index, 1);
        }
        this.session.selectionMarkerCount = markerList.length;
    };

    this.$onAddRange = function(e) {
        this.addSelectionMarker(e.range);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };

    this.$onRemoveRange = function(e) {
        this.removeSelectionMarkers(e.ranges);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };

    this.$onMultiSelect = function(e) {
        if (this.inMultiSelectMode)
            return;
        this.inMultiSelectMode = true;

        this.setStyle("ace_multiselect");
        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);
        this.commands.setDefaultHandler("exec", this.$onMultiSelectExec);

        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };

    this.$onSingleSelect = function(e) {
        if (this.session.multiSelect.inVirtualMode)
            return;
        this.inMultiSelectMode = false;

        this.unsetStyle("ace_multiselect");
        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);

        this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
        this._emit("changeSelection");
    };

    this.$onMultiSelectExec = function(e) {
        var command = e.command;
        var editor = e.editor;
        if (!editor.multiSelect)
            return;
        if (!command.multiSelectAction) {
            var result = command.exec(editor, e.args || {});
            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());
            editor.multiSelect.mergeOverlappingRanges();
        } else if (command.multiSelectAction == "forEach") {
            result = editor.forEachSelection(command, e.args);
        } else if (command.multiSelectAction == "forEachLine") {
            result = editor.forEachSelection(command, e.args, true);
        } else if (command.multiSelectAction == "single") {
            editor.exitMultiSelectMode();
            result = command.exec(editor, e.args || {});
        } else {
            result = command.multiSelectAction(editor, e.args || {});
        }
        return result;
    }; 
    this.forEachSelection = function(cmd, args, options) {
        if (this.inVirtualSelectionMode)
            return;
        var keepOrder = options && options.keepOrder;
        var $byLines = options == true || options && options.$byLines
        var session = this.session;
        var selection = this.selection;
        var rangeList = selection.rangeList;
        var ranges = (keepOrder ? selection : rangeList).ranges;
        var result;
        
        if (!ranges.length)
            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});
        
        var reg = selection._eventRegistry;
        selection._eventRegistry = {};

        var tmpSel = new Selection(session);
        this.inVirtualSelectionMode = true;
        for (var i = ranges.length; i--;) {
            if ($byLines) {
                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)
                    i--;
            }
            tmpSel.fromOrientedRange(ranges[i]);
            tmpSel.index = i;
            this.selection = session.selection = tmpSel;
            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});
            if (!result && cmdResult !== undefined)
                result = cmdResult;
            tmpSel.toOrientedRange(ranges[i]);
        }
        tmpSel.detach();

        this.selection = session.selection = selection;
        this.inVirtualSelectionMode = false;
        selection._eventRegistry = reg;
        selection.mergeOverlappingRanges();
        
        var anim = this.renderer.$scrollAnimation;
        this.onCursorChange();
        this.onSelectionChange();
        if (anim && anim.from == anim.to)
            this.renderer.animateScrolling(anim.from);
        
        return result;
    };
    this.exitMultiSelectMode = function() {
        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)
            return;
        this.multiSelect.toSingleRange();
    };

    this.getSelectedText = function() {
        var text = "";
        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
            var ranges = this.multiSelect.rangeList.ranges;
            var buf = [];
            for (var i = 0; i < ranges.length; i++) {
                buf.push(this.session.getTextRange(ranges[i]));
            }
            var nl = this.session.getDocument().getNewLineCharacter();
            text = buf.join(nl);
            if (text.length == (buf.length - 1) * nl.length)
                text = "";
        } else if (!this.selection.isEmpty()) {
            text = this.session.getTextRange(this.getSelectionRange());
        }
        return text;
    };
    
    this.$checkMultiselectChange = function(e, anchor) {
        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
            var range = this.multiSelect.ranges[0];
            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)
                return;
            var pos = anchor == this.multiSelect.anchor
                ? range.cursor == range.start ? range.end : range.start
                : range.cursor;
            if (pos.row != anchor.row 
                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)
                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());
        }
    };
    this.findAll = function(needle, options, additive) {
        options = options || {};
        options.needle = needle || options.needle;
        if (options.needle == undefined) {
            var range = this.selection.isEmpty()
                ? this.selection.getWordRange()
                : this.selection.getRange();
            options.needle = this.session.getTextRange(range);
        }    
        this.$search.set(options);
        
        var ranges = this.$search.findAll(this.session);
        if (!ranges.length)
            return 0;

        this.$blockScrolling += 1;
        var selection = this.multiSelect;

        if (!additive)
            selection.toSingleRange(ranges[0]);

        for (var i = ranges.length; i--; )
            selection.addRange(ranges[i], true);
        if (range && selection.rangeList.rangeAtPoint(range.start))
            selection.addRange(range, true);
        
        this.$blockScrolling -= 1;

        return ranges.length;
    };
    this.selectMoreLines = function(dir, skip) {
        var range = this.selection.toOrientedRange();
        var isBackwards = range.cursor == range.end;

        var screenLead = this.session.documentToScreenPosition(range.cursor);
        if (this.selection.$desiredColumn)
            screenLead.column = this.selection.$desiredColumn;

        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);

        if (!range.isEmpty()) {
            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);
            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);
        } else {
            var anchor = lead;
        }

        if (isBackwards) {
            var newRange = Range.fromPoints(lead, anchor);
            newRange.cursor = newRange.start;
        } else {
            var newRange = Range.fromPoints(anchor, lead);
            newRange.cursor = newRange.end;
        }

        newRange.desiredColumn = screenLead.column;
        if (!this.selection.inMultiSelectMode) {
            this.selection.addRange(range);
        } else {
            if (skip)
                var toRemove = range.cursor;
        }

        this.selection.addRange(newRange);
        if (toRemove)
            this.selection.substractPoint(toRemove);
    };
    this.transposeSelections = function(dir) {
        var session = this.session;
        var sel = session.multiSelect;
        var all = sel.ranges;

        for (var i = all.length; i--; ) {
            var range = all[i];
            if (range.isEmpty()) {
                var tmp = session.getWordRange(range.start.row, range.start.column);
                range.start.row = tmp.start.row;
                range.start.column = tmp.start.column;
                range.end.row = tmp.end.row;
                range.end.column = tmp.end.column;
            }
        }
        sel.mergeOverlappingRanges();

        var words = [];
        for (var i = all.length; i--; ) {
            var range = all[i];
            words.unshift(session.getTextRange(range));
        }

        if (dir < 0)
            words.unshift(words.pop());
        else
            words.push(words.shift());

        for (var i = all.length; i--; ) {
            var range = all[i];
            var tmp = range.clone();
            session.replace(range, words[i]);
            range.start.row = tmp.start.row;
            range.start.column = tmp.start.column;
        }
    };
    this.selectMore = function(dir, skip, stopAtFirst) {
        var session = this.session;
        var sel = session.multiSelect;

        var range = sel.toOrientedRange();
        if (range.isEmpty()) {
            range = session.getWordRange(range.start.row, range.start.column);
            range.cursor = dir == -1 ? range.start : range.end;
            this.multiSelect.addRange(range);
            if (stopAtFirst)
                return;
        }
        var needle = session.getTextRange(range);

        var newRange = find(session, needle, dir);
        if (newRange) {
            newRange.cursor = dir == -1 ? newRange.start : newRange.end;
            this.$blockScrolling += 1;
            this.session.unfold(newRange);
            this.multiSelect.addRange(newRange);
            this.$blockScrolling -= 1;
            this.renderer.scrollCursorIntoView(null, 0.5);
        }
        if (skip)
            this.multiSelect.substractPoint(range.cursor);
    };
    this.alignCursors = function() {
        var session = this.session;
        var sel = session.multiSelect;
        var ranges = sel.ranges;
        var row = -1;
        var sameRowRanges = ranges.filter(function(r) {
            if (r.cursor.row == row)
                return true;
            row = r.cursor.row;
        });
        
        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {
            var range = this.selection.getRange();
            var fr = range.start.row, lr = range.end.row;
            var guessRange = fr == lr;
            if (guessRange) {
                var max = this.session.getLength();
                var line;
                do {
                    line = this.session.getLine(lr);
                } while (/[=:]/.test(line) && ++lr < max);
                do {
                    line = this.session.getLine(fr);
                } while (/[=:]/.test(line) && --fr > 0);
                
                if (fr < 0) fr = 0;
                if (lr >= max) lr = max - 1;
            }
            var lines = this.session.removeFullLines(fr, lr);
            lines = this.$reAlignText(lines, guessRange);
            this.session.insert({row: fr, column: 0}, lines.join("\n") + "\n");
            if (!guessRange) {
                range.start.column = 0;
                range.end.column = lines[lines.length - 1].length;
            }
            this.selection.setRange(range);
        } else {
            sameRowRanges.forEach(function(r) {
                sel.substractPoint(r.cursor);
            });

            var maxCol = 0;
            var minSpace = Infinity;
            var spaceOffsets = ranges.map(function(r) {
                var p = r.cursor;
                var line = session.getLine(p.row);
                var spaceOffset = line.substr(p.column).search(/\S/g);
                if (spaceOffset == -1)
                    spaceOffset = 0;

                if (p.column > maxCol)
                    maxCol = p.column;
                if (spaceOffset < minSpace)
                    minSpace = spaceOffset;
                return spaceOffset;
            });
            ranges.forEach(function(r, i) {
                var p = r.cursor;
                var l = maxCol - p.column;
                var d = spaceOffsets[i] - minSpace;
                if (l > d)
                    session.insert(p, lang.stringRepeat(" ", l - d));
                else
                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));

                r.start.column = r.end.column = maxCol;
                r.start.row = r.end.row = p.row;
                r.cursor = r.end;
            });
            sel.fromOrientedRange(ranges[0]);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
        }
    };

    this.$reAlignText = function(lines, forceLeft) {
        var isLeftAligned = true, isRightAligned = true;
        var startW, textW, endW;

        return lines.map(function(line) {
            var m = line.match(/(\s*)(.*?)(\s*)([=:].*)/);
            if (!m)
                return [line];

            if (startW == null) {
                startW = m[1].length;
                textW = m[2].length;
                endW = m[3].length;
                return m;
            }

            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)
                isRightAligned = false;
            if (startW != m[1].length)
                isLeftAligned = false;

            if (startW > m[1].length)
                startW = m[1].length;
            if (textW < m[2].length)
                textW = m[2].length;
            if (endW > m[3].length)
                endW = m[3].length;

            return m;
        }).map(forceLeft ? alignLeft :
            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);

        function spaces(n) {
            return lang.stringRepeat(" ", n);
        }

        function alignLeft(m) {
            return !m[2] ? m[0] : spaces(startW) + m[2]
                + spaces(textW - m[2].length + endW)
                + m[4].replace(/^([=:])\s+/, "$1 ");
        }
        function alignRight(m) {
            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]
                + spaces(endW, " ")
                + m[4].replace(/^([=:])\s+/, "$1 ");
        }
        function unAlign(m) {
            return !m[2] ? m[0] : spaces(startW) + m[2]
                + spaces(endW)
                + m[4].replace(/^([=:])\s+/, "$1 ");
        }
    };
}).call(Editor.prototype);


function isSamePoint(p1, p2) {
    return p1.row == p2.row && p1.column == p2.column;
}
exports.onSessionChange = function(e) {
    var session = e.session;
    if (session && !session.multiSelect) {
        session.$selectionMarkers = [];
        session.selection.$initRangeList();
        session.multiSelect = session.selection;
    }
    this.multiSelect = session && session.multiSelect;

    var oldSession = e.oldSession;
    if (oldSession) {
        oldSession.multiSelect.off("addRange", this.$onAddRange);
        oldSession.multiSelect.off("removeRange", this.$onRemoveRange);
        oldSession.multiSelect.off("multiSelect", this.$onMultiSelect);
        oldSession.multiSelect.off("singleSelect", this.$onSingleSelect);
        oldSession.multiSelect.lead.off("change", this.$checkMultiselectChange);
        oldSession.multiSelect.anchor.off("change", this.$checkMultiselectChange);
    }

    if (session) {
        session.multiSelect.on("addRange", this.$onAddRange);
        session.multiSelect.on("removeRange", this.$onRemoveRange);
        session.multiSelect.on("multiSelect", this.$onMultiSelect);
        session.multiSelect.on("singleSelect", this.$onSingleSelect);
        session.multiSelect.lead.on("change", this.$checkMultiselectChange);
        session.multiSelect.anchor.on("change", this.$checkMultiselectChange);
    }

    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {
        if (session.selection.inMultiSelectMode)
            this.$onMultiSelect();
        else
            this.$onSingleSelect();
    }
};
function MultiSelect(editor) {
    if (editor.$multiselectOnSessionChange)
        return;
    editor.$onAddRange = editor.$onAddRange.bind(editor);
    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);
    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);
    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);
    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);
    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);

    editor.$multiselectOnSessionChange(editor);
    editor.on("changeSession", editor.$multiselectOnSessionChange);

    editor.on("mousedown", onMouseDown);
    editor.commands.addCommands(commands.defaultCommands);

    addAltCursorListeners(editor);
}

function addAltCursorListeners(editor){
    var el = editor.textInput.getElement();
    var altCursor = false;
    event.addListener(el, "keydown", function(e) {
        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);
        if (editor.$blockSelectEnabled && altDown) {
            if (!altCursor) {
                editor.renderer.setMouseCursor("crosshair");
                altCursor = true;
            }
        } else if (altCursor) {
            reset();
        }
    });

    event.addListener(el, "keyup", reset);
    event.addListener(el, "blur", reset);
    function reset(e) {
        if (altCursor) {
            editor.renderer.setMouseCursor("");
            altCursor = false;
        }
    }
}

exports.MultiSelect = MultiSelect;


acequire("./config").defineOptions(Editor.prototype, "editor", {
    enableMultiselect: {
        set: function(val) {
            MultiSelect(this);
            if (val) {
                this.on("changeSession", this.$multiselectOnSessionChange);
                this.on("mousedown", onMouseDown);
            } else {
                this.off("changeSession", this.$multiselectOnSessionChange);
                this.off("mousedown", onMouseDown);
            }
        },
        value: true
    },
    enableBlockSelect: {
        set: function(val) {
            this.$blockSelectEnabled = val;
        },
        value: true
    }
});



});

ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../../range").Range;

var FoldMode = exports.FoldMode = function() {};

(function() {

    this.foldingStartMarker = null;
    this.foldingStopMarker = null;
    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
        if (this.foldingStartMarker.test(line))
            return "start";
        if (foldStyle == "markbeginend"
                && this.foldingStopMarker
                && this.foldingStopMarker.test(line))
            return "end";
        return "";
    };

    this.getFoldWidgetRange = function(session, foldStyle, row) {
        return null;
    };

    this.indentationBlock = function(session, row, column) {
        var re = /\S/;
        var line = session.getLine(row);
        var startLevel = line.search(re);
        if (startLevel == -1)
            return;

        var startColumn = column || line.length;
        var maxRow = session.getLength();
        var startRow = row;
        var endRow = row;

        while (++row < maxRow) {
            var level = session.getLine(row).search(re);

            if (level == -1)
                continue;

            if (level <= startLevel)
                break;

            endRow = row;
        }

        if (endRow > startRow) {
            var endColumn = session.getLine(endRow).length;
            return new Range(startRow, startColumn, endRow, endColumn);
        }
    };

    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {
        var start = {row: row, column: column + 1};
        var end = session.$findClosingBracket(bracket, start, typeRe);
        if (!end)
            return;

        var fw = session.foldWidgets[end.row];
        if (fw == null)
            fw = session.getFoldWidget(end.row);

        if (fw == "start" && end.row > start.row) {
            end.row --;
            end.column = session.getLine(end.row).length;
        }
        return Range.fromPoints(start, end);
    };

    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {
        var end = {row: row, column: column};
        var start = session.$findOpeningBracket(bracket, end);

        if (!start)
            return;

        start.column++;
        end.column--;

        return  Range.fromPoints(start, end);
    };
}).call(FoldMode.prototype);

});

ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"], function(acequire, exports, module) {
"use strict";

exports.isDark = false;
exports.cssClass = "ace-tm";
exports.cssText = ".ace-tm .ace_gutter {\
background: #f0f0f0;\
color: #333;\
}\
.ace-tm .ace_print-margin {\
width: 1px;\
background: #e8e8e8;\
}\
.ace-tm .ace_fold {\
background-color: #6B72E6;\
}\
.ace-tm {\
background-color: #FFFFFF;\
color: black;\
}\
.ace-tm .ace_cursor {\
color: black;\
}\
.ace-tm .ace_invisible {\
color: rgb(191, 191, 191);\
}\
.ace-tm .ace_storage,\
.ace-tm .ace_keyword {\
color: blue;\
}\
.ace-tm .ace_constant {\
color: rgb(197, 6, 11);\
}\
.ace-tm .ace_constant.ace_buildin {\
color: rgb(88, 72, 246);\
}\
.ace-tm .ace_constant.ace_language {\
color: rgb(88, 92, 246);\
}\
.ace-tm .ace_constant.ace_library {\
color: rgb(6, 150, 14);\
}\
.ace-tm .ace_invalid {\
background-color: rgba(255, 0, 0, 0.1);\
color: red;\
}\
.ace-tm .ace_support.ace_function {\
color: rgb(60, 76, 114);\
}\
.ace-tm .ace_support.ace_constant {\
color: rgb(6, 150, 14);\
}\
.ace-tm .ace_support.ace_type,\
.ace-tm .ace_support.ace_class {\
color: rgb(109, 121, 222);\
}\
.ace-tm .ace_keyword.ace_operator {\
color: rgb(104, 118, 135);\
}\
.ace-tm .ace_string {\
color: rgb(3, 106, 7);\
}\
.ace-tm .ace_comment {\
color: rgb(76, 136, 107);\
}\
.ace-tm .ace_comment.ace_doc {\
color: rgb(0, 102, 255);\
}\
.ace-tm .ace_comment.ace_doc.ace_tag {\
color: rgb(128, 159, 191);\
}\
.ace-tm .ace_constant.ace_numeric {\
color: rgb(0, 0, 205);\
}\
.ace-tm .ace_variable {\
color: rgb(49, 132, 149);\
}\
.ace-tm .ace_xml-pe {\
color: rgb(104, 104, 91);\
}\
.ace-tm .ace_entity.ace_name.ace_function {\
color: #0000A2;\
}\
.ace-tm .ace_heading {\
color: rgb(12, 7, 255);\
}\
.ace-tm .ace_list {\
color:rgb(185, 6, 144);\
}\
.ace-tm .ace_meta.ace_tag {\
color:rgb(0, 22, 142);\
}\
.ace-tm .ace_string.ace_regex {\
color: rgb(255, 0, 0)\
}\
.ace-tm .ace_marker-layer .ace_selection {\
background: rgb(181, 213, 255);\
}\
.ace-tm.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px white;\
}\
.ace-tm .ace_marker-layer .ace_step {\
background: rgb(252, 255, 0);\
}\
.ace-tm .ace_marker-layer .ace_stack {\
background: rgb(164, 229, 101);\
}\
.ace-tm .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid rgb(192, 192, 192);\
}\
.ace-tm .ace_marker-layer .ace_active-line {\
background: rgba(0, 0, 0, 0.07);\
}\
.ace-tm .ace_gutter-active-line {\
background-color : #dcdcdc;\
}\
.ace-tm .ace_marker-layer .ace_selected-word {\
background: rgb(250, 250, 255);\
border: 1px solid rgb(200, 200, 250);\
}\
.ace-tm .ace_indent-guide {\
background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y;\
}\
";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});

ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var Range = acequire("./range").Range;


function LineWidgets(session) {
    this.session = session;
    this.session.widgetManager = this;
    this.session.getRowLength = this.getRowLength;
    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;
    this.updateOnChange = this.updateOnChange.bind(this);
    this.renderWidgets = this.renderWidgets.bind(this);
    this.measureWidgets = this.measureWidgets.bind(this);
    this.session._changedWidgets = [];
    this.$onChangeEditor = this.$onChangeEditor.bind(this);
    
    this.session.on("change", this.updateOnChange);
    this.session.on("changeFold", this.updateOnFold);
    this.session.on("changeEditor", this.$onChangeEditor);
}

(function() {
    this.getRowLength = function(row) {
        var h;
        if (this.lineWidgets)
            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;
        else 
            h = 0;
        if (!this.$useWrapMode || !this.$wrapData[row]) {
            return 1 + h;
        } else {
            return this.$wrapData[row].length + 1 + h;
        }
    };

    this.$getWidgetScreenLength = function() {
        var screenRows = 0;
        this.lineWidgets.forEach(function(w){
            if (w && w.rowCount && !w.hidden)
                screenRows += w.rowCount;
        });
        return screenRows;
    };    
    
    this.$onChangeEditor = function(e) {
        this.attach(e.editor);
    };
    
    this.attach = function(editor) {
        if (editor  && editor.widgetManager && editor.widgetManager != this)
            editor.widgetManager.detach();

        if (this.editor == editor)
            return;

        this.detach();
        this.editor = editor;
        
        if (editor) {
            editor.widgetManager = this;
            editor.renderer.on("beforeRender", this.measureWidgets);
            editor.renderer.on("afterRender", this.renderWidgets);
        }
    };
    this.detach = function(e) {
        var editor = this.editor;
        if (!editor)
            return;
        
        this.editor = null;
        editor.widgetManager = null;
        
        editor.renderer.off("beforeRender", this.measureWidgets);
        editor.renderer.off("afterRender", this.renderWidgets);
        var lineWidgets = this.session.lineWidgets;
        lineWidgets && lineWidgets.forEach(function(w) {
            if (w && w.el && w.el.parentNode) {
                w._inDocument = false;
                w.el.parentNode.removeChild(w.el);
            }
        });
    };

    this.updateOnFold = function(e, session) {
        var lineWidgets = session.lineWidgets;
        if (!lineWidgets || !e.action)
            return;
        var fold = e.data;
        var start = fold.start.row;
        var end = fold.end.row;
        var hide = e.action == "add";
        for (var i = start + 1; i < end; i++) {
            if (lineWidgets[i])
                lineWidgets[i].hidden = hide;
        }
        if (lineWidgets[end]) {
            if (hide) {
                if (!lineWidgets[start])
                    lineWidgets[start] = lineWidgets[end];
                else
                    lineWidgets[end].hidden = hide;
            } else {
                if (lineWidgets[start] == lineWidgets[end])
                    lineWidgets[start] = undefined;
                lineWidgets[end].hidden = hide;
            }
        }
    };
    
    this.updateOnChange = function(delta) {
        var lineWidgets = this.session.lineWidgets;
        if (!lineWidgets) return;
        
        var startRow = delta.start.row;
        var len = delta.end.row - startRow;

        if (len === 0) {
        } else if (delta.action == 'remove') {
            var removed = lineWidgets.splice(startRow + 1, len);
            removed.forEach(function(w) {
                w && this.removeLineWidget(w);
            }, this);
            this.$updateRows();
        } else {
            var args = new Array(len);
            args.unshift(startRow, 0);
            lineWidgets.splice.apply(lineWidgets, args);
            this.$updateRows();
        }
    };
    
    this.$updateRows = function() {
        var lineWidgets = this.session.lineWidgets;
        if (!lineWidgets) return;
        var noWidgets = true;
        lineWidgets.forEach(function(w, i) {
            if (w) {
                noWidgets = false;
                w.row = i;
                while (w.$oldWidget) {
                    w.$oldWidget.row = i;
                    w = w.$oldWidget;
                }
            }
        });
        if (noWidgets)
            this.session.lineWidgets = null;
    };

    this.addLineWidget = function(w) {
        if (!this.session.lineWidgets)
            this.session.lineWidgets = new Array(this.session.getLength());
        
        var old = this.session.lineWidgets[w.row];
        if (old) {
            w.$oldWidget = old;
            if (old.el && old.el.parentNode) {
                old.el.parentNode.removeChild(old.el);
                old._inDocument = false;
            }
        }
            
        this.session.lineWidgets[w.row] = w;
        
        w.session = this.session;
        
        var renderer = this.editor.renderer;
        if (w.html && !w.el) {
            w.el = dom.createElement("div");
            w.el.innerHTML = w.html;
        }
        if (w.el) {
            dom.addCssClass(w.el, "ace_lineWidgetContainer");
            w.el.style.position = "absolute";
            w.el.style.zIndex = 5;
            renderer.container.appendChild(w.el);
            w._inDocument = true;
        }
        
        if (!w.coverGutter) {
            w.el.style.zIndex = 3;
        }
        if (!w.pixelHeight) {
            w.pixelHeight = w.el.offsetHeight;
        }
        if (w.rowCount == null) {
            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;
        }
        
        var fold = this.session.getFoldAt(w.row, 0);
        w.$fold = fold;
        if (fold) {
            var lineWidgets = this.session.lineWidgets;
            if (w.row == fold.end.row && !lineWidgets[fold.start.row])
                lineWidgets[fold.start.row] = w;
            else
                w.hidden = true;
        }
            
        this.session._emit("changeFold", {data:{start:{row: w.row}}});
        
        this.$updateRows();
        this.renderWidgets(null, renderer);
        this.onWidgetChanged(w);
        return w;
    };
    
    this.removeLineWidget = function(w) {
        w._inDocument = false;
        w.session = null;
        if (w.el && w.el.parentNode)
            w.el.parentNode.removeChild(w.el);
        if (w.editor && w.editor.destroy) try {
            w.editor.destroy();
        } catch(e){}
        if (this.session.lineWidgets) {
            var w1 = this.session.lineWidgets[w.row]
            if (w1 == w) {
                this.session.lineWidgets[w.row] = w.$oldWidget;
                if (w.$oldWidget)
                    this.onWidgetChanged(w.$oldWidget);
            } else {
                while (w1) {
                    if (w1.$oldWidget == w) {
                        w1.$oldWidget = w.$oldWidget;
                        break;
                    }
                    w1 = w1.$oldWidget;
                }
            }
        }
        this.session._emit("changeFold", {data:{start:{row: w.row}}});
        this.$updateRows();
    };
    
    this.getWidgetsAtRow = function(row) {
        var lineWidgets = this.session.lineWidgets;
        var w = lineWidgets && lineWidgets[row];
        var list = [];
        while (w) {
            list.push(w);
            w = w.$oldWidget;
        }
        return list;
    };
    
    this.onWidgetChanged = function(w) {
        this.session._changedWidgets.push(w);
        this.editor && this.editor.renderer.updateFull();
    };
    
    this.measureWidgets = function(e, renderer) {
        var changedWidgets = this.session._changedWidgets;
        var config = renderer.layerConfig;
        
        if (!changedWidgets || !changedWidgets.length) return;
        var min = Infinity;
        for (var i = 0; i < changedWidgets.length; i++) {
            var w = changedWidgets[i];
            if (!w || !w.el) continue;
            if (w.session != this.session) continue;
            if (!w._inDocument) {
                if (this.session.lineWidgets[w.row] != w)
                    continue;
                w._inDocument = true;
                renderer.container.appendChild(w.el);
            }
            
            w.h = w.el.offsetHeight;
            
            if (!w.fixedWidth) {
                w.w = w.el.offsetWidth;
                w.screenWidth = Math.ceil(w.w / config.characterWidth);
            }
            
            var rowCount = w.h / config.lineHeight;
            if (w.coverLine) {
                rowCount -= this.session.getRowLineCount(w.row);
                if (rowCount < 0)
                    rowCount = 0;
            }
            if (w.rowCount != rowCount) {
                w.rowCount = rowCount;
                if (w.row < min)
                    min = w.row;
            }
        }
        if (min != Infinity) {
            this.session._emit("changeFold", {data:{start:{row: min}}});
            this.session.lineWidgetWidth = null;
        }
        this.session._changedWidgets = [];
    };
    
    this.renderWidgets = function(e, renderer) {
        var config = renderer.layerConfig;
        var lineWidgets = this.session.lineWidgets;
        if (!lineWidgets)
            return;
        var first = Math.min(this.firstRow, config.firstRow);
        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);
        
        while (first > 0 && !lineWidgets[first])
            first--;
        
        this.firstRow = config.firstRow;
        this.lastRow = config.lastRow;

        renderer.$cursorLayer.config = config;
        for (var i = first; i <= last; i++) {
            var w = lineWidgets[i];
            if (!w || !w.el) continue;
            if (w.hidden) {
                w.el.style.top = -100 - (w.pixelHeight || 0) + "px";
                continue;
            }
            if (!w._inDocument) {
                w._inDocument = true;
                renderer.container.appendChild(w.el);
            }
            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;
            if (!w.coverLine)
                top += config.lineHeight * this.session.getRowLineCount(w.row);
            w.el.style.top = top - config.offset + "px";
            
            var left = w.coverGutter ? 0 : renderer.gutterWidth;
            if (!w.fixedWidth)
                left -= renderer.scrollLeft;
            w.el.style.left = left + "px";
            
            if (w.fullWidth && w.screenWidth) {
                w.el.style.minWidth = config.width + 2 * config.padding + "px";
            }
            
            if (w.fixedWidth) {
                w.el.style.right = renderer.scrollBar.getWidth() + "px";
            } else {
                w.el.style.right = "";
            }
        }
    };
    
}).call(LineWidgets.prototype);


exports.LineWidgets = LineWidgets;

});

ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"], function(acequire, exports, module) {
"use strict";
var LineWidgets = acequire("../line_widgets").LineWidgets;
var dom = acequire("../lib/dom");
var Range = acequire("../range").Range;

function binarySearch(array, needle, comparator) {
    var first = 0;
    var last = array.length - 1;

    while (first <= last) {
        var mid = (first + last) >> 1;
        var c = comparator(needle, array[mid]);
        if (c > 0)
            first = mid + 1;
        else if (c < 0)
            last = mid - 1;
        else
            return mid;
    }
    return -(first + 1);
}

function findAnnotations(session, row, dir) {
    var annotations = session.getAnnotations().sort(Range.comparePoints);
    if (!annotations.length)
        return;
    
    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);
    if (i < 0)
        i = -i - 1;
    
    if (i >= annotations.length)
        i = dir > 0 ? 0 : annotations.length - 1;
    else if (i === 0 && dir < 0)
        i = annotations.length - 1;
    
    var annotation = annotations[i];
    if (!annotation || !dir)
        return;

    if (annotation.row === row) {
        do {
            annotation = annotations[i += dir];
        } while (annotation && annotation.row === row);
        if (!annotation)
            return annotations.slice();
    }
    
    
    var matched = [];
    row = annotation.row;
    do {
        matched[dir < 0 ? "unshift" : "push"](annotation);
        annotation = annotations[i += dir];
    } while (annotation && annotation.row == row);
    return matched.length && matched;
}

exports.showErrorMarker = function(editor, dir) {
    var session = editor.session;
    if (!session.widgetManager) {
        session.widgetManager = new LineWidgets(session);
        session.widgetManager.attach(editor);
    }
    
    var pos = editor.getCursorPosition();
    var row = pos.row;
    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w) {
        return w.type == "errorMarker";
    })[0];
    if (oldWidget) {
        oldWidget.destroy();
    } else {
        row -= dir;
    }
    var annotations = findAnnotations(session, row, dir);
    var gutterAnno;
    if (annotations) {
        var annotation = annotations[0];
        pos.column = (annotation.pos && typeof annotation.column != "number"
            ? annotation.pos.sc
            : annotation.column) || 0;
        pos.row = annotation.row;
        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];
    } else if (oldWidget) {
        return;
    } else {
        gutterAnno = {
            text: ["Looks good!"],
            className: "ace_ok"
        };
    }
    editor.session.unfold(pos.row);
    editor.selection.moveToPosition(pos);
    
    var w = {
        row: pos.row, 
        fixedWidth: true,
        coverGutter: true,
        el: dom.createElement("div"),
        type: "errorMarker"
    };
    var el = w.el.appendChild(dom.createElement("div"));
    var arrow = w.el.appendChild(dom.createElement("div"));
    arrow.className = "error_widget_arrow " + gutterAnno.className;
    
    var left = editor.renderer.$cursorLayer
        .getPixelPosition(pos).left;
    arrow.style.left = left + editor.renderer.gutterWidth - 5 + "px";
    
    w.el.className = "error_widget_wrapper";
    el.className = "error_widget " + gutterAnno.className;
    el.innerHTML = gutterAnno.text.join("<br>");
    
    el.appendChild(dom.createElement("div"));
    
    var kb = function(_, hashId, keyString) {
        if (hashId === 0 && (keyString === "esc" || keyString === "return")) {
            w.destroy();
            return {command: "null"};
        }
    };
    
    w.destroy = function() {
        if (editor.$mouseHandler.isMousePressed)
            return;
        editor.keyBinding.removeKeyboardHandler(kb);
        session.widgetManager.removeLineWidget(w);
        editor.off("changeSelection", w.destroy);
        editor.off("changeSession", w.destroy);
        editor.off("mouseup", w.destroy);
        editor.off("change", w.destroy);
    };
    
    editor.keyBinding.addKeyboardHandler(kb);
    editor.on("changeSelection", w.destroy);
    editor.on("changeSession", w.destroy);
    editor.on("mouseup", w.destroy);
    editor.on("change", w.destroy);
    
    editor.session.widgetManager.addLineWidget(w);
    
    w.el.onmousedown = editor.focus.bind(editor);
    
    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});
};


dom.importCssString("\
    .error_widget_wrapper {\
        background: inherit;\
        color: inherit;\
        border:none\
    }\
    .error_widget {\
        border-top: solid 2px;\
        border-bottom: solid 2px;\
        margin: 5px 0;\
        padding: 10px 40px;\
        white-space: pre-wrap;\
    }\
    .error_widget.ace_error, .error_widget_arrow.ace_error{\
        border-color: #ff5a5a\
    }\
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\
        border-color: #F1D817\
    }\
    .error_widget.ace_info, .error_widget_arrow.ace_info{\
        border-color: #5a5a5a\
    }\
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\
        border-color: #5aaa5a\
    }\
    .error_widget_arrow {\
        position: absolute;\
        border: solid 5px;\
        border-top-color: transparent!important;\
        border-right-color: transparent!important;\
        border-left-color: transparent!important;\
        top: -5px;\
    }\
", "");

});

ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"], function(acequire, exports, module) {
"use strict";

acequire("./lib/fixoldbrowsers");

var dom = acequire("./lib/dom");
var event = acequire("./lib/event");

var Editor = acequire("./editor").Editor;
var EditSession = acequire("./edit_session").EditSession;
var UndoManager = acequire("./undomanager").UndoManager;
var Renderer = acequire("./virtual_renderer").VirtualRenderer;
acequire("./worker/worker_client");
acequire("./keyboard/hash_handler");
acequire("./placeholder");
acequire("./multi_select");
acequire("./mode/folding/fold_mode");
acequire("./theme/textmate");
acequire("./ext/error_marker");

exports.config = acequire("./config");
exports.acequire = acequire;
exports.edit = function(el) {
    if (typeof el == "string") {
        var _id = el;
        el = document.getElementById(_id);
        if (!el)
            throw new Error("ace.edit can't find div #" + _id);
    }

    if (el && el.env && el.env.editor instanceof Editor)
        return el.env.editor;

    var value = "";
    if (el && /input|textarea/i.test(el.tagName)) {
        var oldNode = el;
        value = oldNode.value;
        el = dom.createElement("pre");
        oldNode.parentNode.replaceChild(el, oldNode);
    } else if (el) {
        value = dom.getInnerText(el);
        el.innerHTML = "";
    }

    var doc = exports.createEditSession(value);

    var editor = new Editor(new Renderer(el));
    editor.setSession(doc);

    var env = {
        document: doc,
        editor: editor,
        onResize: editor.resize.bind(editor, null)
    };
    if (oldNode) env.textarea = oldNode;
    event.addListener(window, "resize", env.onResize);
    editor.on("destroy", function() {
        event.removeListener(window, "resize", env.onResize);
        env.editor.container.env = null; // prevent memory leak on old ie
    });
    editor.container.env = editor.env = env;
    return editor;
};
exports.createEditSession = function(text, mode) {
    var doc = new EditSession(text, mode);
    doc.setUndoManager(new UndoManager());
    return doc;
}
exports.EditSession = EditSession;
exports.UndoManager = UndoManager;
exports.version = "1.2.3";
});
            (function() {
                ace.acequire(["ace/ace"], function(a) {
                    a && a.config.init(true);
                    if (!window.ace)
                        window.ace = a;
                    for (var key in a) if (a.hasOwnProperty(key))
                        window.ace[key] = a[key];
                });
            })();
        
module.exports = window.ace.acequire("ace/ace");
}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/brace/index.js","/../node_modules/brace")
},{"buffer":8,"pBGvAp":10,"w3c-blob":11}],3:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var DocCommentHighlightRules = function() {
    this.$rules = {
        "start" : [ {
            token : "comment.doc.tag",
            regex : "@[\\w\\d_]+" // TODO: fix email addresses
        }, 
        DocCommentHighlightRules.getTagRule(),
        {
            defaultToken : "comment.doc",
            caseInsensitive: true
        }]
    };
};

oop.inherits(DocCommentHighlightRules, TextHighlightRules);

DocCommentHighlightRules.getTagRule = function(start) {
    return {
        token : "comment.doc.tag.storage.type",
        regex : "\\b(?:TODO|FIXME|XXX|HACK)\\b"
    };
}

DocCommentHighlightRules.getStartRule = function(start) {
    return {
        token : "comment.doc", // doc comment
        regex : "\\/\\*(?=\\*)",
        next  : start
    };
};

DocCommentHighlightRules.getEndRule = function (start) {
    return {
        token : "comment.doc", // closing comment
        regex : "\\*\\/",
        next  : start
    };
};


exports.DocCommentHighlightRules = DocCommentHighlightRules;

});

ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var DocCommentHighlightRules = acequire("./doc_comment_highlight_rules").DocCommentHighlightRules;
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;
var identifierRe = "[a-zA-Z\\$_\u00a1-\uffff][a-zA-Z\\d\\$_\u00a1-\uffff]*\\b";

var JavaScriptHighlightRules = function(options) {
    var keywordMapper = this.createKeywordMapper({
        "variable.language":
            "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|"  + // Constructors
            "Namespace|QName|XML|XMLList|"                                             + // E4X
            "ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|"   +
            "Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|"                    +
            "Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|"   + // Errors
            "SyntaxError|TypeError|URIError|"                                          +
            "decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|" + // Non-constructor functions
            "isNaN|parseFloat|parseInt|"                                               +
            "JSON|Math|"                                                               + // Other
            "this|arguments|prototype|window|document"                                 , // Pseudo
        "keyword":
            "const|yield|import|get|set|" +
            "break|case|catch|continue|default|delete|do|else|finally|for|function|" +
            "if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|" +
            "__parent__|__count__|escape|unescape|with|__proto__|" +
            "class|enum|extends|super|export|implements|private|public|interface|package|protected|static",
        "storage.type":
            "const|let|var|function",
        "constant.language":
            "null|Infinity|NaN|undefined",
        "support.function":
            "alert",
        "constant.language.boolean": "true|false"
    }, "identifier");
    var kwBeforeRe = "case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void";

    var escapedRe = "\\\\(?:x[0-9a-fA-F]{2}|" + // hex
        "u[0-9a-fA-F]{4}|" + // unicode
        "u{[0-9a-fA-F]{1,6}}|" + // es6 unicode
        "[0-2][0-7]{0,2}|" + // oct
        "3[0-7][0-7]?|" + // oct
        "[4-7][0-7]?|" + //oct
        ".)";

    this.$rules = {
        "no_regex" : [
            DocCommentHighlightRules.getStartRule("doc-start"),
            comments("no_regex"),
            {
                token : "string",
                regex : "'(?=.)",
                next  : "qstring"
            }, {
                token : "string",
                regex : '"(?=.)',
                next  : "qqstring"
            }, {
                token : "constant.numeric", // hex
                regex : /0(?:[xX][0-9a-fA-F]+|[bB][01]+)\b/
            }, {
                token : "constant.numeric", // float
                regex : /[+-]?\d[\d_]*(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/
            }, {
                token : [
                    "storage.type", "punctuation.operator", "support.function",
                    "punctuation.operator", "entity.name.function", "text","keyword.operator"
                ],
                regex : "(" + identifierRe + ")(\\.)(prototype)(\\.)(" + identifierRe +")(\\s*)(=)",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "entity.name.function", "text", "keyword.operator", "text", "storage.type",
                    "text", "paren.lparen"
                ],
                regex : "(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text",
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(function)(\\s+)(" + identifierRe + ")(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "entity.name.function", "text", "punctuation.operator",
                    "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "text", "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : "keyword",
                regex : "(?:" + kwBeforeRe + ")\\b",
                next : "start"
            }, {
                token : ["support.constant"],
                regex : /that\b/
            }, {
                token : ["storage.type", "punctuation.operator", "support.function.firebug"],
                regex : /(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/
            }, {
                token : keywordMapper,
                regex : identifierRe
            }, {
                token : "punctuation.operator",
                regex : /[.](?![.])/,
                next  : "property"
            }, {
                token : "keyword.operator",
                regex : /--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/,
                next  : "start"
            }, {
                token : "punctuation.operator",
                regex : /[?:,;.]/,
                next  : "start"
            }, {
                token : "paren.lparen",
                regex : /[\[({]/,
                next  : "start"
            }, {
                token : "paren.rparen",
                regex : /[\])}]/
            }, {
                token: "comment",
                regex: /^#!.*$/
            }
        ],
        property: [{
                token : "text",
                regex : "\\s+"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text",
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : "punctuation.operator",
                regex : /[.](?![.])/
            }, {
                token : "support.function",
                regex : /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/
            }, {
                token : "support.function.dom",
                regex : /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/
            }, {
                token :  "support.constant",
                regex : /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/
            }, {
                token : "identifier",
                regex : identifierRe
            }, {
                regex: "",
                token: "empty",
                next: "no_regex"
            }
        ],
        "start": [
            DocCommentHighlightRules.getStartRule("doc-start"),
            comments("start"),
            {
                token: "string.regexp",
                regex: "\\/",
                next: "regex"
            }, {
                token : "text",
                regex : "\\s+|^$",
                next : "start"
            }, {
                token: "empty",
                regex: "",
                next: "no_regex"
            }
        ],
        "regex": [
            {
                token: "regexp.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {
                token: "string.regexp",
                regex: "/[sxngimy]*",
                next: "no_regex"
            }, {
                token : "invalid",
                regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/
            }, {
                token : "constant.language.escape",
                regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/
            }, {
                token : "constant.language.delimiter",
                regex: /\|/
            }, {
                token: "constant.language.escape",
                regex: /\[\^?/,
                next: "regex_character_class"
            }, {
                token: "empty",
                regex: "$",
                next: "no_regex"
            }, {
                defaultToken: "string.regexp"
            }
        ],
        "regex_character_class": [
            {
                token: "regexp.charclass.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {
                token: "constant.language.escape",
                regex: "]",
                next: "regex"
            }, {
                token: "constant.language.escape",
                regex: "-"
            }, {
                token: "empty",
                regex: "$",
                next: "no_regex"
            }, {
                defaultToken: "string.regexp.charachterclass"
            }
        ],
        "function_arguments": [
            {
                token: "variable.parameter",
                regex: identifierRe
            }, {
                token: "punctuation.operator",
                regex: "[, ]+"
            }, {
                token: "punctuation.operator",
                regex: "$"
            }, {
                token: "empty",
                regex: "",
                next: "no_regex"
            }
        ],
        "qqstring" : [
            {
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "string",
                regex : "\\\\$",
                next  : "qqstring"
            }, {
                token : "string",
                regex : '"|$',
                next  : "no_regex"
            }, {
                defaultToken: "string"
            }
        ],
        "qstring" : [
            {
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "string",
                regex : "\\\\$",
                next  : "qstring"
            }, {
                token : "string",
                regex : "'|$",
                next  : "no_regex"
            }, {
                defaultToken: "string"
            }
        ]
    };
    
    
    if (!options || !options.noES6) {
        this.$rules.no_regex.unshift({
            regex: "[{}]", onMatch: function(val, state, stack) {
                this.next = val == "{" ? this.nextState : "";
                if (val == "{" && stack.length) {
                    stack.unshift("start", state);
                }
                else if (val == "}" && stack.length) {
                    stack.shift();
                    this.next = stack.shift();
                    if (this.next.indexOf("string") != -1 || this.next.indexOf("jsx") != -1)
                        return "paren.quasi.end";
                }
                return val == "{" ? "paren.lparen" : "paren.rparen";
            },
            nextState: "start"
        }, {
            token : "string.quasi.start",
            regex : /`/,
            push  : [{
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "paren.quasi.start",
                regex : /\${/,
                push  : "start"
            }, {
                token : "string.quasi.end",
                regex : /`/,
                next  : "pop"
            }, {
                defaultToken: "string.quasi"
            }]
        });
        
        if (!options || !options.noJSX)
            JSX.call(this);
    }
    
    this.embedRules(DocCommentHighlightRules, "doc-",
        [ DocCommentHighlightRules.getEndRule("no_regex") ]);
    
    this.normalizeRules();
};

oop.inherits(JavaScriptHighlightRules, TextHighlightRules);

function JSX() {
    var tagRegex = identifierRe.replace("\\d", "\\d\\-");
    var jsxTag = {
        onMatch : function(val, state, stack) {
            var offset = val.charAt(1) == "/" ? 2 : 1;
            if (offset == 1) {
                if (state != this.nextState)
                    stack.unshift(this.next, this.nextState, 0);
                else
                    stack.unshift(this.next);
                stack[2]++;
            } else if (offset == 2) {
                if (state == this.nextState) {
                    stack[1]--;
                    if (!stack[1] || stack[1] < 0) {
                        stack.shift();
                        stack.shift();
                    }
                }
            }
            return [{
                type: "meta.tag.punctuation." + (offset == 1 ? "" : "end-") + "tag-open.xml",
                value: val.slice(0, offset)
            }, {
                type: "meta.tag.tag-name.xml",
                value: val.substr(offset)
            }];
        },
        regex : "</?" + tagRegex + "",
        next: "jsxAttributes",
        nextState: "jsx"
    };
    this.$rules.start.unshift(jsxTag);
    var jsxJsRule = {
        regex: "{",
        token: "paren.quasi.start",
        push: "start"
    };
    this.$rules.jsx = [
        jsxJsRule,
        jsxTag,
        {include : "reference"},
        {defaultToken: "string"}
    ];
    this.$rules.jsxAttributes = [{
        token : "meta.tag.punctuation.tag-close.xml", 
        regex : "/?>", 
        onMatch : function(value, currentState, stack) {
            if (currentState == stack[0])
                stack.shift();
            if (value.length == 2) {
                if (stack[0] == this.nextState)
                    stack[1]--;
                if (!stack[1] || stack[1] < 0) {
                    stack.splice(0, 2);
                }
            }
            this.next = stack[0] || "start";
            return [{type: this.token, value: value}];
        },
        nextState: "jsx"
    }, 
    jsxJsRule,
    comments("jsxAttributes"),
    {
        token : "entity.other.attribute-name.xml",
        regex : tagRegex
    }, {
        token : "keyword.operator.attribute-equals.xml",
        regex : "="
    }, {
        token : "text.tag-whitespace.xml",
        regex : "\\s+"
    }, {
        token : "string.attribute-value.xml",
        regex : "'",
        stateName : "jsx_attr_q",
        push : [
            {token : "string.attribute-value.xml", regex: "'", next: "pop"},
            {include : "reference"},
            {defaultToken : "string.attribute-value.xml"}
        ]
    }, {
        token : "string.attribute-value.xml",
        regex : '"',
        stateName : "jsx_attr_qq",
        push : [
            {token : "string.attribute-value.xml", regex: '"', next: "pop"},
            {include : "reference"},
            {defaultToken : "string.attribute-value.xml"}
        ]
    },
    jsxTag
    ];
    this.$rules.reference = [{
        token : "constant.language.escape.reference.xml",
        regex : "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
    }];
}

function comments(next) {
    return [
        {
            token : "comment", // multi line comment
            regex : /\/\*/,
            next: [
                DocCommentHighlightRules.getTagRule(),
                {token : "comment", regex : "\\*\\/", next : next || "pop"},
                {defaultToken : "comment", caseInsensitive: true}
            ]
        }, {
            token : "comment",
            regex : "\\/\\/",
            next: [
                DocCommentHighlightRules.getTagRule(),
                {token : "comment", regex : "$|^", next : next || "pop"},
                {defaultToken : "comment", caseInsensitive: true}
            ]
        }
    ];
}
exports.JavaScriptHighlightRules = JavaScriptHighlightRules;
});

ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;

var MatchingBraceOutdent = function() {};

(function() {

    this.checkOutdent = function(line, input) {
        if (! /^\s+$/.test(line))
            return false;

        return /^\s*\}/.test(input);
    };

    this.autoOutdent = function(doc, row) {
        var line = doc.getLine(row);
        var match = line.match(/^(\s*\})/);

        if (!match) return 0;

        var column = match[1].length;
        var openBracePos = doc.findMatchingBracket({row: row, column: column});

        if (!openBracePos || openBracePos.row == row) return 0;

        var indent = this.$getIndent(doc.getLine(openBracePos.row));
        doc.replace(new Range(row, 0, row, column-1), indent);
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

}).call(MatchingBraceOutdent.prototype);

exports.MatchingBraceOutdent = MatchingBraceOutdent;
});

ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Behaviour = acequire("../behaviour").Behaviour;
var TokenIterator = acequire("../../token_iterator").TokenIterator;
var lang = acequire("../../lib/lang");

var SAFE_INSERT_IN_TOKENS =
    ["text", "paren.rparen", "punctuation.operator"];
var SAFE_INSERT_BEFORE_TOKENS =
    ["text", "paren.rparen", "punctuation.operator", "comment"];

var context;
var contextCache = {};
var initContext = function(editor) {
    var id = -1;
    if (editor.multiSelect) {
        id = editor.selection.index;
        if (contextCache.rangeCount != editor.multiSelect.rangeCount)
            contextCache = {rangeCount: editor.multiSelect.rangeCount};
    }
    if (contextCache[id])
        return context = contextCache[id];
    context = contextCache[id] = {
        autoInsertedBrackets: 0,
        autoInsertedRow: -1,
        autoInsertedLineEnd: "",
        maybeInsertedBrackets: 0,
        maybeInsertedRow: -1,
        maybeInsertedLineStart: "",
        maybeInsertedLineEnd: ""
    };
};

var getWrapped = function(selection, selected, opening, closing) {
    var rowDiff = selection.end.row - selection.start.row;
    return {
        text: opening + selected + closing,
        selection: [
                0,
                selection.start.column + 1,
                rowDiff,
                selection.end.column + (rowDiff ? 0 : 1)
            ]
    };
};

var CstyleBehaviour = function() {
    this.add("braces", "insertion", function(state, action, editor, session, text) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (text == '{') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "{" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '{', '}');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                if (/[\]\}\)]/.test(line[cursor.column]) || editor.inMultiSelectMode) {
                    CstyleBehaviour.recordAutoInsert(editor, session, "}");
                    return {
                        text: '{}',
                        selection: [1, 1]
                    };
                } else {
                    CstyleBehaviour.recordMaybeInsert(editor, session, "{");
                    return {
                        text: '{',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == '}') {
            initContext(editor);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == '}') {
                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == "\n" || text == "\r\n") {
            initContext(editor);
            var closing = "";
            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {
                closing = lang.stringRepeat("}", context.maybeInsertedBrackets);
                CstyleBehaviour.clearMaybeInsertedClosing();
            }
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar === '}') {
                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');
                if (!openBracePos)
                     return null;
                var next_indent = this.$getIndent(session.getLine(openBracePos.row));
            } else if (closing) {
                var next_indent = this.$getIndent(line);
            } else {
                CstyleBehaviour.clearMaybeInsertedClosing();
                return;
            }
            var indent = next_indent + session.getTabString();

            return {
                text: '\n' + indent + '\n' + next_indent + closing,
                selection: [1, indent.length, 1, indent.length]
            };
        } else {
            CstyleBehaviour.clearMaybeInsertedClosing();
        }
    });

    this.add("braces", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '{') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.end.column, range.end.column + 1);
            if (rightChar == '}') {
                range.end.column++;
                return range;
            } else {
                context.maybeInsertedBrackets--;
            }
        }
    });

    this.add("parens", "insertion", function(state, action, editor, session, text) {
        if (text == '(') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '(', ')');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, ")");
                return {
                    text: '()',
                    selection: [1, 1]
                };
            }
        } else if (text == ')') {
            initContext(editor);
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ')') {
                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("parens", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '(') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ')') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("brackets", "insertion", function(state, action, editor, session, text) {
        if (text == '[') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '[', ']');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, "]");
                return {
                    text: '[]',
                    selection: [1, 1]
                };
            }
        } else if (text == ']') {
            initContext(editor);
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ']') {
                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("brackets", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '[') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ']') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("string_dquotes", "insertion", function(state, action, editor, session, text) {
        if (text == '"' || text == "'") {
            initContext(editor);
            var quote = text;
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "'" && selected != '"' && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, quote, quote);
            } else if (!selected) {
                var cursor = editor.getCursorPosition();
                var line = session.doc.getLine(cursor.row);
                var leftChar = line.substring(cursor.column-1, cursor.column);
                var rightChar = line.substring(cursor.column, cursor.column + 1);
                
                var token = session.getTokenAt(cursor.row, cursor.column);
                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);
                if (leftChar == "\\" && token && /escape/.test(token.type))
                    return null;
                
                var stringBefore = token && /string|escape/.test(token.type);
                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);
                
                var pair;
                if (rightChar == quote) {
                    pair = stringBefore !== stringAfter;
                } else {
                    if (stringBefore && !stringAfter)
                        return null; // wrap string with different quote
                    if (stringBefore && stringAfter)
                        return null; // do not pair quotes inside strings
                    var wordRe = session.$mode.tokenRe;
                    wordRe.lastIndex = 0;
                    var isWordBefore = wordRe.test(leftChar);
                    wordRe.lastIndex = 0;
                    var isWordAfter = wordRe.test(leftChar);
                    if (isWordBefore || isWordAfter)
                        return null; // before or after alphanumeric
                    if (rightChar && !/[\s;,.})\]\\]/.test(rightChar))
                        return null; // there is rightChar and it isn't closing
                    pair = true;
                }
                return {
                    text: pair ? quote + quote : "",
                    selection: [1,1]
                };
            }
        }
    });

    this.add("string_dquotes", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && (selected == '"' || selected == "'")) {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == selected) {
                range.end.column++;
                return range;
            }
        }
    });

};

    
CstyleBehaviour.isSaneInsertion = function(editor, session) {
    var cursor = editor.getCursorPosition();
    var iterator = new TokenIterator(session, cursor.row, cursor.column);
    if (!this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS)) {
        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);
        if (!this.$matchTokenType(iterator2.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS))
            return false;
    }
    iterator.stepForward();
    return iterator.getCurrentTokenRow() !== cursor.row ||
        this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_BEFORE_TOKENS);
};

CstyleBehaviour.$matchTokenType = function(token, types) {
    return types.indexOf(token.type || token) > -1;
};

CstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {
    var cursor = editor.getCursorPosition();
    var line = session.doc.getLine(cursor.row);
    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))
        context.autoInsertedBrackets = 0;
    context.autoInsertedRow = cursor.row;
    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);
    context.autoInsertedBrackets++;
};

CstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {
    var cursor = editor.getCursorPosition();
    var line = session.doc.getLine(cursor.row);
    if (!this.isMaybeInsertedClosing(cursor, line))
        context.maybeInsertedBrackets = 0;
    context.maybeInsertedRow = cursor.row;
    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;
    context.maybeInsertedLineEnd = line.substr(cursor.column);
    context.maybeInsertedBrackets++;
};

CstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {
    return context.autoInsertedBrackets > 0 &&
        cursor.row === context.autoInsertedRow &&
        bracket === context.autoInsertedLineEnd[0] &&
        line.substr(cursor.column) === context.autoInsertedLineEnd;
};

CstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {
    return context.maybeInsertedBrackets > 0 &&
        cursor.row === context.maybeInsertedRow &&
        line.substr(cursor.column) === context.maybeInsertedLineEnd &&
        line.substr(0, cursor.column) == context.maybeInsertedLineStart;
};

CstyleBehaviour.popAutoInsertedClosing = function() {
    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);
    context.autoInsertedBrackets--;
};

CstyleBehaviour.clearMaybeInsertedClosing = function() {
    if (context) {
        context.maybeInsertedBrackets = 0;
        context.maybeInsertedRow = -1;
    }
};



oop.inherits(CstyleBehaviour, Behaviour);

exports.CstyleBehaviour = CstyleBehaviour;
});

ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Range = acequire("../../range").Range;
var BaseFoldMode = acequire("./fold_mode").FoldMode;

var FoldMode = exports.FoldMode = function(commentRegex) {
    if (commentRegex) {
        this.foldingStartMarker = new RegExp(
            this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.start)
        );
        this.foldingStopMarker = new RegExp(
            this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.end)
        );
    }
};
oop.inherits(FoldMode, BaseFoldMode);

(function() {
    
    this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/;
    this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;
    this.singleLineBlockCommentRe= /^\s*(\/\*).*\*\/\s*$/;
    this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/;
    this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/;
    this._getFoldWidgetBase = this.getFoldWidget;
    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
    
        if (this.singleLineBlockCommentRe.test(line)) {
            if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line))
                return "";
        }
    
        var fw = this._getFoldWidgetBase(session, foldStyle, row);
    
        if (!fw && this.startRegionRe.test(line))
            return "start"; // lineCommentRegionStart
    
        return fw;
    };

    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {
        var line = session.getLine(row);
        
        if (this.startRegionRe.test(line))
            return this.getCommentRegionBlock(session, line, row);
        
        var match = line.match(this.foldingStartMarker);
        if (match) {
            var i = match.index;

            if (match[1])
                return this.openingBracketBlock(session, match[1], row, i);
                
            var range = session.getCommentFoldRange(row, i + match[0].length, 1);
            
            if (range && !range.isMultiLine()) {
                if (forceMultiline) {
                    range = this.getSectionRange(session, row);
                } else if (foldStyle != "all")
                    range = null;
            }
            
            return range;
        }

        if (foldStyle === "markbegin")
            return;

        var match = line.match(this.foldingStopMarker);
        if (match) {
            var i = match.index + match[0].length;

            if (match[1])
                return this.closingBracketBlock(session, match[1], row, i);

            return session.getCommentFoldRange(row, i, -1);
        }
    };
    
    this.getSectionRange = function(session, row) {
        var line = session.getLine(row);
        var startIndent = line.search(/\S/);
        var startRow = row;
        var startColumn = line.length;
        row = row + 1;
        var endRow = row;
        var maxRow = session.getLength();
        while (++row < maxRow) {
            line = session.getLine(row);
            var indent = line.search(/\S/);
            if (indent === -1)
                continue;
            if  (startIndent > indent)
                break;
            var subRange = this.getFoldWidgetRange(session, "all", row);
            
            if (subRange) {
                if (subRange.start.row <= startRow) {
                    break;
                } else if (subRange.isMultiLine()) {
                    row = subRange.end.row;
                } else if (startIndent == indent) {
                    break;
                }
            }
            endRow = row;
        }
        
        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);
    };
    this.getCommentRegionBlock = function(session, line, row) {
        var startColumn = line.search(/\s*$/);
        var maxRow = session.getLength();
        var startRow = row;
        
        var re = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;
        var depth = 1;
        while (++row < maxRow) {
            line = session.getLine(row);
            var m = re.exec(line);
            if (!m) continue;
            if (m[1]) depth--;
            else depth++;

            if (!depth) break;
        }

        var endRow = row;
        if (endRow > startRow) {
            return new Range(startRow, startColumn, endRow, line.length);
        }
    };

}).call(FoldMode.prototype);

});

ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextMode = acequire("./text").Mode;
var JavaScriptHighlightRules = acequire("./javascript_highlight_rules").JavaScriptHighlightRules;
var MatchingBraceOutdent = acequire("./matching_brace_outdent").MatchingBraceOutdent;
var Range = acequire("../range").Range;
var WorkerClient = acequire("../worker/worker_client").WorkerClient;
var CstyleBehaviour = acequire("./behaviour/cstyle").CstyleBehaviour;
var CStyleFoldMode = acequire("./folding/cstyle").FoldMode;

var Mode = function() {
    this.HighlightRules = JavaScriptHighlightRules;
    
    this.$outdent = new MatchingBraceOutdent();
    this.$behaviour = new CstyleBehaviour();
    this.foldingRules = new CStyleFoldMode();
};
oop.inherits(Mode, TextMode);

(function() {

    this.lineCommentStart = "//";
    this.blockComment = {start: "/*", end: "*/"};

    this.getNextLineIndent = function(state, line, tab) {
        var indent = this.$getIndent(line);

        var tokenizedLine = this.getTokenizer().getLineTokens(line, state);
        var tokens = tokenizedLine.tokens;
        var endState = tokenizedLine.state;

        if (tokens.length && tokens[tokens.length-1].type == "comment") {
            return indent;
        }

        if (state == "start" || state == "no_regex") {
            var match = line.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);
            if (match) {
                indent += tab;
            }
        } else if (state == "doc-start") {
            if (endState == "start" || endState == "no_regex") {
                return "";
            }
            var match = line.match(/^\s*(\/?)\*/);
            if (match) {
                if (match[1]) {
                    indent += " ";
                }
                indent += "* ";
            }
        }

        return indent;
    };

    this.checkOutdent = function(state, line, input) {
        return this.$outdent.checkOutdent(line, input);
    };

    this.autoOutdent = function(state, doc, row) {
        this.$outdent.autoOutdent(doc, row);
    };

    this.createWorker = function(session) {
        var worker = new WorkerClient(["ace"], require("../worker/javascript"), "JavaScriptWorker");
        worker.attachToDocument(session.getDocument());

        worker.on("annotate", function(results) {
            session.setAnnotations(results.data);
        });

        worker.on("terminate", function() {
            session.clearAnnotations();
        });

        return worker;
    };

    this.$id = "ace/mode/javascript";
}).call(Mode.prototype);

exports.Mode = Mode;
});

ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var lang = acequire("../lib/lang");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;
var supportType = exports.supportType = "align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|min-height|min-width|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index";
var supportFunction = exports.supportFunction = "rgb|rgba|url|attr|counter|counters";
var supportConstant = exports.supportConstant = "absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero";
var supportConstantColor = exports.supportConstantColor = "aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow";
var supportConstantFonts = exports.supportConstantFonts = "arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace";

var numRe = exports.numRe = "\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))";
var pseudoElements = exports.pseudoElements = "(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b";
var pseudoClasses  = exports.pseudoClasses =  "(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|acequired|root|target|valid|visited)\\b";

var CssHighlightRules = function() {

    var keywordMapper = this.createKeywordMapper({
        "support.function": supportFunction,
        "support.constant": supportConstant,
        "support.type": supportType,
        "support.constant.color": supportConstantColor,
        "support.constant.fonts": supportConstantFonts
    }, "text", true);

    this.$rules = {
        "start" : [{
            token : "comment", // multi line comment
            regex : "\\/\\*",
            push : "comment"
        }, {
            token: "paren.lparen",
            regex: "\\{",
            push:  "ruleset"
        }, {
            token: "string",
            regex: "@.*?{",
            push:  "media"
        }, {
            token: "keyword",
            regex: "#[a-z0-9-_]+"
        }, {
            token: "variable",
            regex: "\\.[a-z0-9-_]+"
        }, {
            token: "string",
            regex: ":[a-z0-9-_]+"
        }, {
            token: "constant",
            regex: "[a-z0-9-_]+"
        }, {
            caseInsensitive: true
        }],

        "media" : [{
            token : "comment", // multi line comment
            regex : "\\/\\*",
            push : "comment"
        }, {
            token: "paren.lparen",
            regex: "\\{",
            push:  "ruleset"
        }, {
            token: "string",
            regex: "\\}",
            next:  "pop"
        }, {
            token: "keyword",
            regex: "#[a-z0-9-_]+"
        }, {
            token: "variable",
            regex: "\\.[a-z0-9-_]+"
        }, {
            token: "string",
            regex: ":[a-z0-9-_]+"
        }, {
            token: "constant",
            regex: "[a-z0-9-_]+"
        }, {
            caseInsensitive: true
        }],

        "comment" : [{
            token : "comment",
            regex : "\\*\\/",
            next : "pop"
        }, {
            defaultToken : "comment"
        }],

        "ruleset" : [
        {
            token : "paren.rparen",
            regex : "\\}",
            next:   "pop"
        }, {
            token : "comment", // multi line comment
            regex : "\\/\\*",
            push : "comment"
        }, {
            token : "string", // single line
            regex : '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'
        }, {
            token : "string", // single line
            regex : "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"
        }, {
            token : ["constant.numeric", "keyword"],
            regex : "(" + numRe + ")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"
        }, {
            token : "constant.numeric",
            regex : numRe
        }, {
            token : "constant.numeric",  // hex6 color
            regex : "#[a-f0-9]{6}"
        }, {
            token : "constant.numeric", // hex3 color
            regex : "#[a-f0-9]{3}"
        }, {
            token : ["punctuation", "entity.other.attribute-name.pseudo-element.css"],
            regex : pseudoElements
        }, {
            token : ["punctuation", "entity.other.attribute-name.pseudo-class.css"],
            regex : pseudoClasses
        }, {
            token : ["support.function", "string", "support.function"],
            regex : "(url\\()(.*)(\\))"
        }, {
            token : keywordMapper,
            regex : "\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"
        }, {
            caseInsensitive: true
        }]
    };

    this.normalizeRules();
};

oop.inherits(CssHighlightRules, TextHighlightRules);

exports.CssHighlightRules = CssHighlightRules;

});

ace.define("ace/mode/css_completions",["require","exports","module"], function(acequire, exports, module) {
"use strict";

var propertyMap = {
    "background": {"#$0": 1},
    "background-color": {"#$0": 1, "transparent": 1, "fixed": 1},
    "background-image": {"url('/$0')": 1},
    "background-repeat": {"repeat": 1, "repeat-x": 1, "repeat-y": 1, "no-repeat": 1, "inherit": 1},
    "background-position": {"bottom":2, "center":2, "left":2, "right":2, "top":2, "inherit":2},
    "background-attachment": {"scroll": 1, "fixed": 1},
    "background-size": {"cover": 1, "contain": 1},
    "background-clip": {"border-box": 1, "padding-box": 1, "content-box": 1},
    "background-origin": {"border-box": 1, "padding-box": 1, "content-box": 1},
    "border": {"solid $0": 1, "dashed $0": 1, "dotted $0": 1, "#$0": 1},
    "border-color": {"#$0": 1},
    "border-style": {"solid":2, "dashed":2, "dotted":2, "double":2, "groove":2, "hidden":2, "inherit":2, "inset":2, "none":2, "outset":2, "ridged":2},
    "border-collapse": {"collapse": 1, "separate": 1},
    "bottom": {"px": 1, "em": 1, "%": 1},
    "clear": {"left": 1, "right": 1, "both": 1, "none": 1},
    "color": {"#$0": 1, "rgb(#$00,0,0)": 1},
    "cursor": {"default": 1, "pointer": 1, "move": 1, "text": 1, "wait": 1, "help": 1, "progress": 1, "n-resize": 1, "ne-resize": 1, "e-resize": 1, "se-resize": 1, "s-resize": 1, "sw-resize": 1, "w-resize": 1, "nw-resize": 1},
    "display": {"none": 1, "block": 1, "inline": 1, "inline-block": 1, "table-cell": 1},
    "empty-cells": {"show": 1, "hide": 1},
    "float": {"left": 1, "right": 1, "none": 1},
    "font-family": {"Arial":2,"Comic Sans MS":2,"Consolas":2,"Courier New":2,"Courier":2,"Georgia":2,"Monospace":2,"Sans-Serif":2, "Segoe UI":2,"Tahoma":2,"Times New Roman":2,"Trebuchet MS":2,"Verdana": 1},
    "font-size": {"px": 1, "em": 1, "%": 1},
    "font-weight": {"bold": 1, "normal": 1},
    "font-style": {"italic": 1, "normal": 1},
    "font-variant": {"normal": 1, "small-caps": 1},
    "height": {"px": 1, "em": 1, "%": 1},
    "left": {"px": 1, "em": 1, "%": 1},
    "letter-spacing": {"normal": 1},
    "line-height": {"normal": 1},
    "list-style-type": {"none": 1, "disc": 1, "circle": 1, "square": 1, "decimal": 1, "decimal-leading-zero": 1, "lower-roman": 1, "upper-roman": 1, "lower-greek": 1, "lower-latin": 1, "upper-latin": 1, "georgian": 1, "lower-alpha": 1, "upper-alpha": 1},
    "margin": {"px": 1, "em": 1, "%": 1},
    "margin-right": {"px": 1, "em": 1, "%": 1},
    "margin-left": {"px": 1, "em": 1, "%": 1},
    "margin-top": {"px": 1, "em": 1, "%": 1},
    "margin-bottom": {"px": 1, "em": 1, "%": 1},
    "max-height": {"px": 1, "em": 1, "%": 1},
    "max-width": {"px": 1, "em": 1, "%": 1},
    "min-height": {"px": 1, "em": 1, "%": 1},
    "min-width": {"px": 1, "em": 1, "%": 1},
    "overflow": {"hidden": 1, "visible": 1, "auto": 1, "scroll": 1},
    "overflow-x": {"hidden": 1, "visible": 1, "auto": 1, "scroll": 1},
    "overflow-y": {"hidden": 1, "visible": 1, "auto": 1, "scroll": 1},
    "padding": {"px": 1, "em": 1, "%": 1},
    "padding-top": {"px": 1, "em": 1, "%": 1},
    "padding-right": {"px": 1, "em": 1, "%": 1},
    "padding-bottom": {"px": 1, "em": 1, "%": 1},
    "padding-left": {"px": 1, "em": 1, "%": 1},
    "page-break-after": {"auto": 1, "always": 1, "avoid": 1, "left": 1, "right": 1},
    "page-break-before": {"auto": 1, "always": 1, "avoid": 1, "left": 1, "right": 1},
    "position": {"absolute": 1, "relative": 1, "fixed": 1, "static": 1},
    "right": {"px": 1, "em": 1, "%": 1},
    "table-layout": {"fixed": 1, "auto": 1},
    "text-decoration": {"none": 1, "underline": 1, "line-through": 1, "blink": 1},
    "text-align": {"left": 1, "right": 1, "center": 1, "justify": 1},
    "text-transform": {"capitalize": 1, "uppercase": 1, "lowercase": 1, "none": 1},
    "top": {"px": 1, "em": 1, "%": 1},
    "vertical-align": {"top": 1, "bottom": 1},
    "visibility": {"hidden": 1, "visible": 1},
    "white-space": {"nowrap": 1, "normal": 1, "pre": 1, "pre-line": 1, "pre-wrap": 1},
    "width": {"px": 1, "em": 1, "%": 1},
    "word-spacing": {"normal": 1},
    "filter": {"alpha(opacity=$0100)": 1},

    "text-shadow": {"$02px 2px 2px #777": 1},
    "text-overflow": {"ellipsis-word": 1, "clip": 1, "ellipsis": 1},
    "-moz-border-radius": 1,
    "-moz-border-radius-topright": 1,
    "-moz-border-radius-bottomright": 1,
    "-moz-border-radius-topleft": 1,
    "-moz-border-radius-bottomleft": 1,
    "-webkit-border-radius": 1,
    "-webkit-border-top-right-radius": 1,
    "-webkit-border-top-left-radius": 1,
    "-webkit-border-bottom-right-radius": 1,
    "-webkit-border-bottom-left-radius": 1,
    "-moz-box-shadow": 1,
    "-webkit-box-shadow": 1,
    "transform": {"rotate($00deg)": 1, "skew($00deg)": 1},
    "-moz-transform": {"rotate($00deg)": 1, "skew($00deg)": 1},
    "-webkit-transform": {"rotate($00deg)": 1, "skew($00deg)": 1 }
};

var CssCompletions = function() {

};

(function() {

    this.completionsDefined = false;

    this.defineCompletions = function() {
        if (document) {
            var style = document.createElement('c').style;

            for (var i in style) {
                if (typeof style[i] !== 'string')
                    continue;

                var name = i.replace(/[A-Z]/g, function(x) {
                    return '-' + x.toLowerCase();
                });

                if (!propertyMap.hasOwnProperty(name))
                    propertyMap[name] = 1;
            }
        }

        this.completionsDefined = true;
    }

    this.getCompletions = function(state, session, pos, prefix) {
        if (!this.completionsDefined) {
            this.defineCompletions();
        }

        var token = session.getTokenAt(pos.row, pos.column);

        if (!token)
            return [];
        if (state==='ruleset'){
            var line = session.getLine(pos.row).substr(0, pos.column);
            if (/:[^;]+$/.test(line)) {
                /([\w\-]+):[^:]*$/.test(line);

                return this.getPropertyValueCompletions(state, session, pos, prefix);
            } else {
                return this.getPropertyCompletions(state, session, pos, prefix);
            }
        }

        return [];
    };

    this.getPropertyCompletions = function(state, session, pos, prefix) {
        var properties = Object.keys(propertyMap);
        return properties.map(function(property){
            return {
                caption: property,
                snippet: property + ': $0',
                meta: "property",
                score: Number.MAX_VALUE
            };
        });
    };

    this.getPropertyValueCompletions = function(state, session, pos, prefix) {
        var line = session.getLine(pos.row).substr(0, pos.column);
        var property = (/([\w\-]+):[^:]*$/.exec(line) || {})[1];

        if (!property)
            return [];
        var values = [];
        if (property in propertyMap && typeof propertyMap[property] === "object") {
            values = Object.keys(propertyMap[property]);
        }
        return values.map(function(value){
            return {
                caption: value,
                snippet: value,
                meta: "property value",
                score: Number.MAX_VALUE
            };
        });
    };

}).call(CssCompletions.prototype);

exports.CssCompletions = CssCompletions;
});

ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Behaviour = acequire("../behaviour").Behaviour;
var CstyleBehaviour = acequire("./cstyle").CstyleBehaviour;
var TokenIterator = acequire("../../token_iterator").TokenIterator;

var CssBehaviour = function () {

    this.inherit(CstyleBehaviour);

    this.add("colon", "insertion", function (state, action, editor, session, text) {
        if (text === ':') {
            var cursor = editor.getCursorPosition();
            var iterator = new TokenIterator(session, cursor.row, cursor.column);
            var token = iterator.getCurrentToken();
            if (token && token.value.match(/\s+/)) {
                token = iterator.stepBackward();
            }
            if (token && token.type === 'support.type') {
                var line = session.doc.getLine(cursor.row);
                var rightChar = line.substring(cursor.column, cursor.column + 1);
                if (rightChar === ':') {
                    return {
                       text: '',
                       selection: [1, 1]
                    }
                }
                if (!line.substring(cursor.column).match(/^\s*;/)) {
                    return {
                       text: ':;',
                       selection: [1, 1]
                    }
                }
            }
        }
    });

    this.add("colon", "deletion", function (state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected === ':') {
            var cursor = editor.getCursorPosition();
            var iterator = new TokenIterator(session, cursor.row, cursor.column);
            var token = iterator.getCurrentToken();
            if (token && token.value.match(/\s+/)) {
                token = iterator.stepBackward();
            }
            if (token && token.type === 'support.type') {
                var line = session.doc.getLine(range.start.row);
                var rightChar = line.substring(range.end.column, range.end.column + 1);
                if (rightChar === ';') {
                    range.end.column ++;
                    return range;
                }
            }
        }
    });

    this.add("semicolon", "insertion", function (state, action, editor, session, text) {
        if (text === ';') {
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar === ';') {
                return {
                   text: '',
                   selection: [1, 1]
                }
            }
        }
    });

}
oop.inherits(CssBehaviour, CstyleBehaviour);

exports.CssBehaviour = CssBehaviour;
});

ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextMode = acequire("./text").Mode;
var CssHighlightRules = acequire("./css_highlight_rules").CssHighlightRules;
var MatchingBraceOutdent = acequire("./matching_brace_outdent").MatchingBraceOutdent;
var WorkerClient = acequire("../worker/worker_client").WorkerClient;
var CssCompletions = acequire("./css_completions").CssCompletions;
var CssBehaviour = acequire("./behaviour/css").CssBehaviour;
var CStyleFoldMode = acequire("./folding/cstyle").FoldMode;

var Mode = function() {
    this.HighlightRules = CssHighlightRules;
    this.$outdent = new MatchingBraceOutdent();
    this.$behaviour = new CssBehaviour();
    this.$completer = new CssCompletions();
    this.foldingRules = new CStyleFoldMode();
};
oop.inherits(Mode, TextMode);

(function() {

    this.foldingRules = "cStyle";
    this.blockComment = {start: "/*", end: "*/"};

    this.getNextLineIndent = function(state, line, tab) {
        var indent = this.$getIndent(line);
        var tokens = this.getTokenizer().getLineTokens(line, state).tokens;
        if (tokens.length && tokens[tokens.length-1].type == "comment") {
            return indent;
        }

        var match = line.match(/^.*\{\s*$/);
        if (match) {
            indent += tab;
        }

        return indent;
    };

    this.checkOutdent = function(state, line, input) {
        return this.$outdent.checkOutdent(line, input);
    };

    this.autoOutdent = function(state, doc, row) {
        this.$outdent.autoOutdent(doc, row);
    };

    this.getCompletions = function(state, session, pos, prefix) {
        return this.$completer.getCompletions(state, session, pos, prefix);
    };

    this.createWorker = function(session) {
        var worker = new WorkerClient(["ace"], require("../worker/css"), "Worker");
        worker.attachToDocument(session.getDocument());

        worker.on("annotate", function(e) {
            session.setAnnotations(e.data);
        });

        worker.on("terminate", function() {
            session.clearAnnotations();
        });

        return worker;
    };

    this.$id = "ace/mode/css";
}).call(Mode.prototype);

exports.Mode = Mode;

});

ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var XmlHighlightRules = function(normalize) {
    var tagRegex = "[_:a-zA-Z\xc0-\uffff][-_:.a-zA-Z0-9\xc0-\uffff]*";

    this.$rules = {
        start : [
            {token : "string.cdata.xml", regex : "<\\!\\[CDATA\\[", next : "cdata"},
            {
                token : ["punctuation.xml-decl.xml", "keyword.xml-decl.xml"],
                regex : "(<\\?)(xml)(?=[\\s])", next : "xml_decl", caseInsensitive: true
            },
            {
                token : ["punctuation.instruction.xml", "keyword.instruction.xml"],
                regex : "(<\\?)(" + tagRegex + ")", next : "processing_instruction"
            },
            {token : "comment.xml", regex : "<\\!--", next : "comment"},
            {
                token : ["xml-pe.doctype.xml", "xml-pe.doctype.xml"],
                regex : "(<\\!)(DOCTYPE)(?=[\\s])", next : "doctype", caseInsensitive: true
            },
            {include : "tag"},
            {token : "text.end-tag-open.xml", regex: "</"},
            {token : "text.tag-open.xml", regex: "<"},
            {include : "reference"},
            {defaultToken : "text.xml"}
        ],

        xml_decl : [{
            token : "entity.other.attribute-name.decl-attribute-name.xml",
            regex : "(?:" + tagRegex + ":)?" + tagRegex + ""
        }, {
            token : "keyword.operator.decl-attribute-equals.xml",
            regex : "="
        }, {
            include: "whitespace"
        }, {
            include: "string"
        }, {
            token : "punctuation.xml-decl.xml",
            regex : "\\?>",
            next : "start"
        }],

        processing_instruction : [
            {token : "punctuation.instruction.xml", regex : "\\?>", next : "start"},
            {defaultToken : "instruction.xml"}
        ],

        doctype : [
            {include : "whitespace"},
            {include : "string"},
            {token : "xml-pe.doctype.xml", regex : ">", next : "start"},
            {token : "xml-pe.xml", regex : "[-_a-zA-Z0-9:]+"},
            {token : "punctuation.int-subset", regex : "\\[", push : "int_subset"}
        ],

        int_subset : [{
            token : "text.xml",
            regex : "\\s+"
        }, {
            token: "punctuation.int-subset.xml",
            regex: "]",
            next: "pop"
        }, {
            token : ["punctuation.markup-decl.xml", "keyword.markup-decl.xml"],
            regex : "(<\\!)(" + tagRegex + ")",
            push : [{
                token : "text",
                regex : "\\s+"
            },
            {
                token : "punctuation.markup-decl.xml",
                regex : ">",
                next : "pop"
            },
            {include : "string"}]
        }],

        cdata : [
            {token : "string.cdata.xml", regex : "\\]\\]>", next : "start"},
            {token : "text.xml", regex : "\\s+"},
            {token : "text.xml", regex : "(?:[^\\]]|\\](?!\\]>))+"}
        ],

        comment : [
            {token : "comment.xml", regex : "-->", next : "start"},
            {defaultToken : "comment.xml"}
        ],

        reference : [{
            token : "constant.language.escape.reference.xml",
            regex : "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
        }],

        attr_reference : [{
            token : "constant.language.escape.reference.attribute-value.xml",
            regex : "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
        }],

        tag : [{
            token : ["meta.tag.punctuation.tag-open.xml", "meta.tag.punctuation.end-tag-open.xml", "meta.tag.tag-name.xml"],
            regex : "(?:(<)|(</))((?:" + tagRegex + ":)?" + tagRegex + ")",
            next: [
                {include : "attributes"},
                {token : "meta.tag.punctuation.tag-close.xml", regex : "/?>", next : "start"}
            ]
        }],

        tag_whitespace : [
            {token : "text.tag-whitespace.xml", regex : "\\s+"}
        ],
        whitespace : [
            {token : "text.whitespace.xml", regex : "\\s+"}
        ],
        string: [{
            token : "string.xml",
            regex : "'",
            push : [
                {token : "string.xml", regex: "'", next: "pop"},
                {defaultToken : "string.xml"}
            ]
        }, {
            token : "string.xml",
            regex : '"',
            push : [
                {token : "string.xml", regex: '"', next: "pop"},
                {defaultToken : "string.xml"}
            ]
        }],

        attributes: [{
            token : "entity.other.attribute-name.xml",
            regex : "(?:" + tagRegex + ":)?" + tagRegex + ""
        }, {
            token : "keyword.operator.attribute-equals.xml",
            regex : "="
        }, {
            include: "tag_whitespace"
        }, {
            include: "attribute_value"
        }],

        attribute_value: [{
            token : "string.attribute-value.xml",
            regex : "'",
            push : [
                {token : "string.attribute-value.xml", regex: "'", next: "pop"},
                {include : "attr_reference"},
                {defaultToken : "string.attribute-value.xml"}
            ]
        }, {
            token : "string.attribute-value.xml",
            regex : '"',
            push : [
                {token : "string.attribute-value.xml", regex: '"', next: "pop"},
                {include : "attr_reference"},
                {defaultToken : "string.attribute-value.xml"}
            ]
        }]
    };

    if (this.constructor === XmlHighlightRules)
        this.normalizeRules();
};


(function() {

    this.embedTagRules = function(HighlightRules, prefix, tag){
        this.$rules.tag.unshift({
            token : ["meta.tag.punctuation.tag-open.xml", "meta.tag." + tag + ".tag-name.xml"],
            regex : "(<)(" + tag + "(?=\\s|>|$))",
            next: [
                {include : "attributes"},
                {token : "meta.tag.punctuation.tag-close.xml", regex : "/?>", next : prefix + "start"}
            ]
        });

        this.$rules[tag + "-end"] = [
            {include : "attributes"},
            {token : "meta.tag.punctuation.tag-close.xml", regex : "/?>",  next: "start",
                onMatch : function(value, currentState, stack) {
                    stack.splice(0);
                    return this.token;
            }}
        ]

        this.embedRules(HighlightRules, prefix, [{
            token: ["meta.tag.punctuation.end-tag-open.xml", "meta.tag." + tag + ".tag-name.xml"],
            regex : "(</)(" + tag + "(?=\\s|>|$))",
            next: tag + "-end"
        }, {
            token: "string.cdata.xml",
            regex : "<\\!\\[CDATA\\["
        }, {
            token: "string.cdata.xml",
            regex : "\\]\\]>"
        }]);
    };

}).call(TextHighlightRules.prototype);

oop.inherits(XmlHighlightRules, TextHighlightRules);

exports.XmlHighlightRules = XmlHighlightRules;
});

ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var lang = acequire("../lib/lang");
var CssHighlightRules = acequire("./css_highlight_rules").CssHighlightRules;
var JavaScriptHighlightRules = acequire("./javascript_highlight_rules").JavaScriptHighlightRules;
var XmlHighlightRules = acequire("./xml_highlight_rules").XmlHighlightRules;

var tagMap = lang.createMap({
    a           : 'anchor',
    button 	    : 'form',
    form        : 'form',
    img         : 'image',
    input       : 'form',
    label       : 'form',
    option      : 'form',
    script      : 'script',
    select      : 'form',
    textarea    : 'form',
    style       : 'style',
    table       : 'table',
    tbody       : 'table',
    td          : 'table',
    tfoot       : 'table',
    th          : 'table',
    tr          : 'table'
});

var HtmlHighlightRules = function() {
    XmlHighlightRules.call(this);

    this.addRules({
        attributes: [{
            include : "tag_whitespace"
        }, {
            token : "entity.other.attribute-name.xml",
            regex : "[-_a-zA-Z0-9:.]+"
        }, {
            token : "keyword.operator.attribute-equals.xml",
            regex : "=",
            push : [{
                include: "tag_whitespace"
            }, {
                token : "string.unquoted.attribute-value.html",
                regex : "[^<>='\"`\\s]+",
                next : "pop"
            }, {
                token : "empty",
                regex : "",
                next : "pop"
            }]
        }, {
            include : "attribute_value"
        }],
        tag: [{
            token : function(start, tag) {
                var group = tagMap[tag];
                return ["meta.tag.punctuation." + (start == "<" ? "" : "end-") + "tag-open.xml",
                    "meta.tag" + (group ? "." + group : "") + ".tag-name.xml"];
            },
            regex : "(</?)([-_a-zA-Z0-9:.]+)",
            next: "tag_stuff"
        }],
        tag_stuff: [
            {include : "attributes"},
            {token : "meta.tag.punctuation.tag-close.xml", regex : "/?>", next : "start"}
        ]
    });

    this.embedTagRules(CssHighlightRules, "css-", "style");
    this.embedTagRules(new JavaScriptHighlightRules({noJSX: true}).getRules(), "js-", "script");

    if (this.constructor === HtmlHighlightRules)
        this.normalizeRules();
};

oop.inherits(HtmlHighlightRules, XmlHighlightRules);

exports.HtmlHighlightRules = HtmlHighlightRules;
});

ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Behaviour = acequire("../behaviour").Behaviour;
var TokenIterator = acequire("../../token_iterator").TokenIterator;
var lang = acequire("../../lib/lang");

function is(token, type) {
    return token.type.lastIndexOf(type + ".xml") > -1;
}

var XmlBehaviour = function () {

    this.add("string_dquotes", "insertion", function (state, action, editor, session, text) {
        if (text == '"' || text == "'") {
            var quote = text;
            var selected = session.doc.getTextRange(editor.getSelectionRange());
            if (selected !== "" && selected !== "'" && selected != '"' && editor.getWrapBehavioursEnabled()) {
                return {
                    text: quote + selected + quote,
                    selection: false
                };
            }

            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            var iterator = new TokenIterator(session, cursor.row, cursor.column);
            var token = iterator.getCurrentToken();

            if (rightChar == quote && (is(token, "attribute-value") || is(token, "string"))) {
                return {
                    text: "",
                    selection: [1, 1]
                };
            }

            if (!token)
                token = iterator.stepBackward();

            if (!token)
                return;

            while (is(token, "tag-whitespace") || is(token, "whitespace")) {
                token = iterator.stepBackward();
            }
            var rightSpace = !rightChar || rightChar.match(/\s/);
            if (is(token, "attribute-equals") && (rightSpace || rightChar == '>') || (is(token, "decl-attribute-equals") && (rightSpace || rightChar == '?'))) {
                return {
                    text: quote + quote,
                    selection: [1, 1]
                };
            }
        }
    });

    this.add("string_dquotes", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && (selected == '"' || selected == "'")) {
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == selected) {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("autoclosing", "insertion", function (state, action, editor, session, text) {
        if (text == '>') {
            var position = editor.getCursorPosition();
            var iterator = new TokenIterator(session, position.row, position.column);
            var token = iterator.getCurrentToken() || iterator.stepBackward();
            if (!token || !(is(token, "tag-name") || is(token, "tag-whitespace") || is(token, "attribute-name") || is(token, "attribute-equals") || is(token, "attribute-value")))
                return;
            if (is(token, "reference.attribute-value"))
                return;
            if (is(token, "attribute-value")) {
                var firstChar = token.value.charAt(0);
                if (firstChar == '"' || firstChar == "'") {
                    var lastChar = token.value.charAt(token.value.length - 1);
                    var tokenEnd = iterator.getCurrentTokenColumn() + token.value.length;
                    if (tokenEnd > position.column || tokenEnd == position.column && firstChar != lastChar)
                        return;
                }
            }
            while (!is(token, "tag-name")) {
                token = iterator.stepBackward();
            }

            var tokenRow = iterator.getCurrentTokenRow();
            var tokenColumn = iterator.getCurrentTokenColumn();
            if (is(iterator.stepBackward(), "end-tag-open"))
                return;

            var element = token.value;
            if (tokenRow == position.row)
                element = element.substring(0, position.column - tokenColumn);

            if (this.voidElements.hasOwnProperty(element.toLowerCase()))
                 return;

            return {
               text: ">" + "</" + element + ">",
               selection: [1, 1]
            };
        }
    });

    this.add("autoindent", "insertion", function (state, action, editor, session, text) {
        if (text == "\n") {
            var cursor = editor.getCursorPosition();
            var line = session.getLine(cursor.row);
            var iterator = new TokenIterator(session, cursor.row, cursor.column);
            var token = iterator.getCurrentToken();

            if (token && token.type.indexOf("tag-close") !== -1) {
                if (token.value == "/>")
                    return;
                while (token && token.type.indexOf("tag-name") === -1) {
                    token = iterator.stepBackward();
                }

                if (!token) {
                    return;
                }

                var tag = token.value;
                var row = iterator.getCurrentTokenRow();
                token = iterator.stepBackward();
                if (!token || token.type.indexOf("end-tag") !== -1) {
                    return;
                }

                if (this.voidElements && !this.voidElements[tag]) {
                    var nextToken = session.getTokenAt(cursor.row, cursor.column+1);
                    var line = session.getLine(row);
                    var nextIndent = this.$getIndent(line);
                    var indent = nextIndent + session.getTabString();

                    if (nextToken && nextToken.value === "</") {
                        return {
                            text: "\n" + indent + "\n" + nextIndent,
                            selection: [1, indent.length, 1, indent.length]
                        };
                    } else {
                        return {
                            text: "\n" + indent
                        };
                    }
                }
            }
        }
    });

};

oop.inherits(XmlBehaviour, Behaviour);

exports.XmlBehaviour = XmlBehaviour;
});

ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var BaseFoldMode = acequire("./fold_mode").FoldMode;

var FoldMode = exports.FoldMode = function(defaultMode, subModes) {
    this.defaultMode = defaultMode;
    this.subModes = subModes;
};
oop.inherits(FoldMode, BaseFoldMode);

(function() {


    this.$getMode = function(state) {
        if (typeof state != "string") 
            state = state[0];
        for (var key in this.subModes) {
            if (state.indexOf(key) === 0)
                return this.subModes[key];
        }
        return null;
    };
    
    this.$tryMode = function(state, session, foldStyle, row) {
        var mode = this.$getMode(state);
        return (mode ? mode.getFoldWidget(session, foldStyle, row) : "");
    };

    this.getFoldWidget = function(session, foldStyle, row) {
        return (
            this.$tryMode(session.getState(row-1), session, foldStyle, row) ||
            this.$tryMode(session.getState(row), session, foldStyle, row) ||
            this.defaultMode.getFoldWidget(session, foldStyle, row)
        );
    };

    this.getFoldWidgetRange = function(session, foldStyle, row) {
        var mode = this.$getMode(session.getState(row-1));
        
        if (!mode || !mode.getFoldWidget(session, foldStyle, row))
            mode = this.$getMode(session.getState(row));
        
        if (!mode || !mode.getFoldWidget(session, foldStyle, row))
            mode = this.defaultMode;
        
        return mode.getFoldWidgetRange(session, foldStyle, row);
    };

}).call(FoldMode.prototype);

});

ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var lang = acequire("../../lib/lang");
var Range = acequire("../../range").Range;
var BaseFoldMode = acequire("./fold_mode").FoldMode;
var TokenIterator = acequire("../../token_iterator").TokenIterator;

var FoldMode = exports.FoldMode = function(voidElements, optionalEndTags) {
    BaseFoldMode.call(this);
    this.voidElements = voidElements || {};
    this.optionalEndTags = oop.mixin({}, this.voidElements);
    if (optionalEndTags)
        oop.mixin(this.optionalEndTags, optionalEndTags);
    
};
oop.inherits(FoldMode, BaseFoldMode);

var Tag = function() {
    this.tagName = "";
    this.closing = false;
    this.selfClosing = false;
    this.start = {row: 0, column: 0};
    this.end = {row: 0, column: 0};
};

function is(token, type) {
    return token.type.lastIndexOf(type + ".xml") > -1;
}

(function() {

    this.getFoldWidget = function(session, foldStyle, row) {
        var tag = this._getFirstTagInLine(session, row);

        if (!tag)
            return "";

        if (tag.closing || (!tag.tagName && tag.selfClosing))
            return foldStyle == "markbeginend" ? "end" : "";

        if (!tag.tagName || tag.selfClosing || this.voidElements.hasOwnProperty(tag.tagName.toLowerCase()))
            return "";

        if (this._findEndTagInLine(session, row, tag.tagName, tag.end.column))
            return "";

        return "start";
    };
    this._getFirstTagInLine = function(session, row) {
        var tokens = session.getTokens(row);
        var tag = new Tag();

        for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            if (is(token, "tag-open")) {
                tag.end.column = tag.start.column + token.value.length;
                tag.closing = is(token, "end-tag-open");
                token = tokens[++i];
                if (!token)
                    return null;
                tag.tagName = token.value;
                tag.end.column += token.value.length;
                for (i++; i < tokens.length; i++) {
                    token = tokens[i];
                    tag.end.column += token.value.length;
                    if (is(token, "tag-close")) {
                        tag.selfClosing = token.value == '/>';
                        break;
                    }
                }
                return tag;
            } else if (is(token, "tag-close")) {
                tag.selfClosing = token.value == '/>';
                return tag;
            }
            tag.start.column += token.value.length;
        }

        return null;
    };

    this._findEndTagInLine = function(session, row, tagName, startColumn) {
        var tokens = session.getTokens(row);
        var column = 0;
        for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            column += token.value.length;
            if (column < startColumn)
                continue;
            if (is(token, "end-tag-open")) {
                token = tokens[i + 1];
                if (token && token.value == tagName)
                    return true;
            }
        }
        return false;
    };
    this._readTagForward = function(iterator) {
        var token = iterator.getCurrentToken();
        if (!token)
            return null;

        var tag = new Tag();
        do {
            if (is(token, "tag-open")) {
                tag.closing = is(token, "end-tag-open");
                tag.start.row = iterator.getCurrentTokenRow();
                tag.start.column = iterator.getCurrentTokenColumn();
            } else if (is(token, "tag-name")) {
                tag.tagName = token.value;
            } else if (is(token, "tag-close")) {
                tag.selfClosing = token.value == "/>";
                tag.end.row = iterator.getCurrentTokenRow();
                tag.end.column = iterator.getCurrentTokenColumn() + token.value.length;
                iterator.stepForward();
                return tag;
            }
        } while(token = iterator.stepForward());

        return null;
    };
    
    this._readTagBackward = function(iterator) {
        var token = iterator.getCurrentToken();
        if (!token)
            return null;

        var tag = new Tag();
        do {
            if (is(token, "tag-open")) {
                tag.closing = is(token, "end-tag-open");
                tag.start.row = iterator.getCurrentTokenRow();
                tag.start.column = iterator.getCurrentTokenColumn();
                iterator.stepBackward();
                return tag;
            } else if (is(token, "tag-name")) {
                tag.tagName = token.value;
            } else if (is(token, "tag-close")) {
                tag.selfClosing = token.value == "/>";
                tag.end.row = iterator.getCurrentTokenRow();
                tag.end.column = iterator.getCurrentTokenColumn() + token.value.length;
            }
        } while(token = iterator.stepBackward());

        return null;
    };
    
    this._pop = function(stack, tag) {
        while (stack.length) {
            
            var top = stack[stack.length-1];
            if (!tag || top.tagName == tag.tagName) {
                return stack.pop();
            }
            else if (this.optionalEndTags.hasOwnProperty(top.tagName)) {
                stack.pop();
                continue;
            } else {
                return null;
            }
        }
    };
    
    this.getFoldWidgetRange = function(session, foldStyle, row) {
        var firstTag = this._getFirstTagInLine(session, row);
        
        if (!firstTag)
            return null;
        
        var isBackward = firstTag.closing || firstTag.selfClosing;
        var stack = [];
        var tag;
        
        if (!isBackward) {
            var iterator = new TokenIterator(session, row, firstTag.start.column);
            var start = {
                row: row,
                column: firstTag.start.column + firstTag.tagName.length + 2
            };
            if (firstTag.start.row == firstTag.end.row)
                start.column = firstTag.end.column;
            while (tag = this._readTagForward(iterator)) {
                if (tag.selfClosing) {
                    if (!stack.length) {
                        tag.start.column += tag.tagName.length + 2;
                        tag.end.column -= 2;
                        return Range.fromPoints(tag.start, tag.end);
                    } else
                        continue;
                }
                
                if (tag.closing) {
                    this._pop(stack, tag);
                    if (stack.length == 0)
                        return Range.fromPoints(start, tag.start);
                }
                else {
                    stack.push(tag);
                }
            }
        }
        else {
            var iterator = new TokenIterator(session, row, firstTag.end.column);
            var end = {
                row: row,
                column: firstTag.start.column
            };
            
            while (tag = this._readTagBackward(iterator)) {
                if (tag.selfClosing) {
                    if (!stack.length) {
                        tag.start.column += tag.tagName.length + 2;
                        tag.end.column -= 2;
                        return Range.fromPoints(tag.start, tag.end);
                    } else
                        continue;
                }
                
                if (!tag.closing) {
                    this._pop(stack, tag);
                    if (stack.length == 0) {
                        tag.start.column += tag.tagName.length + 2;
                        if (tag.start.row == tag.end.row && tag.start.column < tag.end.column)
                            tag.start.column = tag.end.column;
                        return Range.fromPoints(tag.start, end);
                    }
                }
                else {
                    stack.push(tag);
                }
            }
        }
        
    };

}).call(FoldMode.prototype);

});

ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var MixedFoldMode = acequire("./mixed").FoldMode;
var XmlFoldMode = acequire("./xml").FoldMode;
var CStyleFoldMode = acequire("./cstyle").FoldMode;

var FoldMode = exports.FoldMode = function(voidElements, optionalTags) {
    MixedFoldMode.call(this, new XmlFoldMode(voidElements, optionalTags), {
        "js-": new CStyleFoldMode(),
        "css-": new CStyleFoldMode()
    });
};

oop.inherits(FoldMode, MixedFoldMode);

});

ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"], function(acequire, exports, module) {
"use strict";

var TokenIterator = acequire("../token_iterator").TokenIterator;

var commonAttributes = [
    "accesskey",
    "class",
    "contenteditable",
    "contextmenu",
    "dir",
    "draggable",
    "dropzone",
    "hidden",
    "id",
    "inert",
    "itemid",
    "itemprop",
    "itemref",
    "itemscope",
    "itemtype",
    "lang",
    "spellcheck",
    "style",
    "tabindex",
    "title",
    "translate"
];

var eventAttributes = [
    "onabort",
    "onblur",
    "oncancel",
    "oncanplay",
    "oncanplaythrough",
    "onchange",
    "onclick",
    "onclose",
    "oncontextmenu",
    "oncuechange",
    "ondblclick",
    "ondrag",
    "ondragend",
    "ondragenter",
    "ondragleave",
    "ondragover",
    "ondragstart",
    "ondrop",
    "ondurationchange",
    "onemptied",
    "onended",
    "onerror",
    "onfocus",
    "oninput",
    "oninvalid",
    "onkeydown",
    "onkeypress",
    "onkeyup",
    "onload",
    "onloadeddata",
    "onloadedmetadata",
    "onloadstart",
    "onmousedown",
    "onmousemove",
    "onmouseout",
    "onmouseover",
    "onmouseup",
    "onmousewheel",
    "onpause",
    "onplay",
    "onplaying",
    "onprogress",
    "onratechange",
    "onreset",
    "onscroll",
    "onseeked",
    "onseeking",
    "onselect",
    "onshow",
    "onstalled",
    "onsubmit",
    "onsuspend",
    "ontimeupdate",
    "onvolumechange",
    "onwaiting"
];

var globalAttributes = commonAttributes.concat(eventAttributes);

var attributeMap = {
    "html": {"manifest": 1},
    "head": {},
    "title": {},
    "base": {"href": 1, "target": 1},
    "link": {"href": 1, "hreflang": 1, "rel": {"stylesheet": 1, "icon": 1}, "media": {"all": 1, "screen": 1, "print": 1}, "type": {"text/css": 1, "image/png": 1, "image/jpeg": 1, "image/gif": 1}, "sizes": 1},
    "meta": {"http-equiv": {"content-type": 1}, "name": {"description": 1, "keywords": 1}, "content": {"text/html; charset=UTF-8": 1}, "charset": 1},
    "style": {"type": 1, "media": {"all": 1, "screen": 1, "print": 1}, "scoped": 1},
    "script": {"charset": 1, "type": {"text/javascript": 1}, "src": 1, "defer": 1, "async": 1},
    "noscript": {"href": 1},
    "body": {"onafterprint": 1, "onbeforeprint": 1, "onbeforeunload": 1, "onhashchange": 1, "onmessage": 1, "onoffline": 1, "onpopstate": 1, "onredo": 1, "onresize": 1, "onstorage": 1, "onundo": 1, "onunload": 1},
    "section": {},
    "nav": {},
    "article": {"pubdate": 1},
    "aside": {},
    "h1": {},
    "h2": {},
    "h3": {},
    "h4": {},
    "h5": {},
    "h6": {},
    "header": {},
    "footer": {},
    "address": {},
    "main": {},
    "p": {},
    "hr": {},
    "pre": {},
    "blockquote": {"cite": 1},
    "ol": {"start": 1, "reversed": 1},
    "ul": {},
    "li": {"value": 1},
    "dl": {},
    "dt": {},
    "dd": {},
    "figure": {},
    "figcaption": {},
    "div": {},
    "a": {"href": 1, "target": {"_blank": 1, "top": 1}, "ping": 1, "rel": {"nofollow": 1, "alternate": 1, "author": 1, "bookmark": 1, "help": 1, "license": 1, "next": 1, "noreferrer": 1, "prefetch": 1, "prev": 1, "search": 1, "tag": 1}, "media": 1, "hreflang": 1, "type": 1},
    "em": {},
    "strong": {},
    "small": {},
    "s": {},
    "cite": {},
    "q": {"cite": 1},
    "dfn": {},
    "abbr": {},
    "data": {},
    "time": {"datetime": 1},
    "code": {},
    "var": {},
    "samp": {},
    "kbd": {},
    "sub": {},
    "sup": {},
    "i": {},
    "b": {},
    "u": {},
    "mark": {},
    "ruby": {},
    "rt": {},
    "rp": {},
    "bdi": {},
    "bdo": {},
    "span": {},
    "br": {},
    "wbr": {},
    "ins": {"cite": 1, "datetime": 1},
    "del": {"cite": 1, "datetime": 1},
    "img": {"alt": 1, "src": 1, "height": 1, "width": 1, "usemap": 1, "ismap": 1},
    "iframe": {"name": 1, "src": 1, "height": 1, "width": 1, "sandbox": {"allow-same-origin": 1, "allow-top-navigation": 1, "allow-forms": 1, "allow-scripts": 1}, "seamless": {"seamless": 1}},
    "embed": {"src": 1, "height": 1, "width": 1, "type": 1},
    "object": {"param": 1, "data": 1, "type": 1, "height" : 1, "width": 1, "usemap": 1, "name": 1, "form": 1, "classid": 1},
    "param": {"name": 1, "value": 1},
    "video": {"src": 1, "autobuffer": 1, "autoplay": {"autoplay": 1}, "loop": {"loop": 1}, "controls": {"controls": 1}, "width": 1, "height": 1, "poster": 1, "muted": {"muted": 1}, "preload": {"auto": 1, "metadata": 1, "none": 1}},
    "audio": {"src": 1, "autobuffer": 1, "autoplay": {"autoplay": 1}, "loop": {"loop": 1}, "controls": {"controls": 1}, "muted": {"muted": 1}, "preload": {"auto": 1, "metadata": 1, "none": 1 }},
    "source": {"src": 1, "type": 1, "media": 1},
    "track": {"kind": 1, "src": 1, "srclang": 1, "label": 1, "default": 1},
    "canvas": {"width": 1, "height": 1},
    "map": {"name": 1},
    "area": {"shape": 1, "coords": 1, "href": 1, "hreflang": 1, "alt": 1, "target": 1, "media": 1, "rel": 1, "ping": 1, "type": 1},
    "svg": {},
    "math": {},
    "table": {"summary": 1},
    "caption": {},
    "colgroup": {"span": 1},
    "col": {"span": 1},
    "tbody": {},
    "thead": {},
    "tfoot": {},
    "tr": {},
    "td": {"headers": 1, "rowspan": 1, "colspan": 1},
    "th": {"headers": 1, "rowspan": 1, "colspan": 1, "scope": 1},
    "form": {"accept-charset": 1, "action": 1, "autocomplete": 1, "enctype": {"multipart/form-data": 1, "application/x-www-form-urlencoded": 1}, "method": {"get": 1, "post": 1}, "name": 1, "novalidate": 1, "target": {"_blank": 1, "top": 1}},
    "fieldset": {"disabled": 1, "form": 1, "name": 1},
    "legend": {},
    "label": {"form": 1, "for": 1},
    "input": {
        "type": {"text": 1, "password": 1, "hidden": 1, "checkbox": 1, "submit": 1, "radio": 1, "file": 1, "button": 1, "reset": 1, "image": 31, "color": 1, "date": 1, "datetime": 1, "datetime-local": 1, "email": 1, "month": 1, "number": 1, "range": 1, "search": 1, "tel": 1, "time": 1, "url": 1, "week": 1},
        "accept": 1, "alt": 1, "autocomplete": {"on": 1, "off": 1}, "autofocus": {"autofocus": 1}, "checked": {"checked": 1}, "disabled": {"disabled": 1}, "form": 1, "formaction": 1, "formenctype": {"application/x-www-form-urlencoded": 1, "multipart/form-data": 1, "text/plain": 1}, "formmethod": {"get": 1, "post": 1}, "formnovalidate": {"formnovalidate": 1}, "formtarget": {"_blank": 1, "_self": 1, "_parent": 1, "_top": 1}, "height": 1, "list": 1, "max": 1, "maxlength": 1, "min": 1, "multiple": {"multiple": 1}, "pattern": 1, "placeholder": 1, "readonly": {"readonly": 1}, "acequired": {"acequired": 1}, "size": 1, "src": 1, "step": 1, "width": 1, "files": 1, "value": 1},
    "button": {"autofocus": 1, "disabled": {"disabled": 1}, "form": 1, "formaction": 1, "formenctype": 1, "formmethod": 1, "formnovalidate": 1, "formtarget": 1, "name": 1, "value": 1, "type": {"button": 1, "submit": 1}},
    "select": {"autofocus": 1, "disabled": 1, "form": 1, "multiple": {"multiple": 1}, "name": 1, "size": 1, "readonly":{"readonly": 1}},
    "datalist": {},
    "optgroup": {"disabled": 1, "label": 1},
    "option": {"disabled": 1, "selected": 1, "label": 1, "value": 1},
    "textarea": {"autofocus": {"autofocus": 1}, "disabled": {"disabled": 1}, "form": 1, "maxlength": 1, "name": 1, "placeholder": 1, "readonly": {"readonly": 1}, "acequired": {"acequired": 1}, "rows": 1, "cols": 1, "wrap": {"on": 1, "off": 1, "hard": 1, "soft": 1}},
    "keygen": {"autofocus": 1, "challenge": {"challenge": 1}, "disabled": {"disabled": 1}, "form": 1, "keytype": {"rsa": 1, "dsa": 1, "ec": 1}, "name": 1},
    "output": {"for": 1, "form": 1, "name": 1},
    "progress": {"value": 1, "max": 1},
    "meter": {"value": 1, "min": 1, "max": 1, "low": 1, "high": 1, "optimum": 1},
    "details": {"open": 1},
    "summary": {},
    "command": {"type": 1, "label": 1, "icon": 1, "disabled": 1, "checked": 1, "radiogroup": 1, "command": 1},
    "menu": {"type": 1, "label": 1},
    "dialog": {"open": 1}
};

var elements = Object.keys(attributeMap);

function is(token, type) {
    return token.type.lastIndexOf(type + ".xml") > -1;
}

function findTagName(session, pos) {
    var iterator = new TokenIterator(session, pos.row, pos.column);
    var token = iterator.getCurrentToken();
    while (token && !is(token, "tag-name")){
        token = iterator.stepBackward();
    }
    if (token)
        return token.value;
}

function findAttributeName(session, pos) {
    var iterator = new TokenIterator(session, pos.row, pos.column);
    var token = iterator.getCurrentToken();
    while (token && !is(token, "attribute-name")){
        token = iterator.stepBackward();
    }
    if (token)
        return token.value;
}

var HtmlCompletions = function() {

};

(function() {

    this.getCompletions = function(state, session, pos, prefix) {
        var token = session.getTokenAt(pos.row, pos.column);

        if (!token)
            return [];
        if (is(token, "tag-name") || is(token, "tag-open") || is(token, "end-tag-open"))
            return this.getTagCompletions(state, session, pos, prefix);
        if (is(token, "tag-whitespace") || is(token, "attribute-name"))
            return this.getAttributeCompletions(state, session, pos, prefix);
        if (is(token, "attribute-value"))
            return this.getAttributeValueCompletions(state, session, pos, prefix);
        var line = session.getLine(pos.row).substr(0, pos.column);
        if (/&[A-z]*$/i.test(line))
            return this.getHTMLEntityCompletions(state, session, pos, prefix);

        return [];
    };

    this.getTagCompletions = function(state, session, pos, prefix) {
        return elements.map(function(element){
            return {
                value: element,
                meta: "tag",
                score: Number.MAX_VALUE
            };
        });
    };

    this.getAttributeCompletions = function(state, session, pos, prefix) {
        var tagName = findTagName(session, pos);
        if (!tagName)
            return [];
        var attributes = globalAttributes;
        if (tagName in attributeMap) {
            attributes = attributes.concat(Object.keys(attributeMap[tagName]));
        }
        return attributes.map(function(attribute){
            return {
                caption: attribute,
                snippet: attribute + '="$0"',
                meta: "attribute",
                score: Number.MAX_VALUE
            };
        });
    };

    this.getAttributeValueCompletions = function(state, session, pos, prefix) {
        var tagName = findTagName(session, pos);
        var attributeName = findAttributeName(session, pos);
        
        if (!tagName)
            return [];
        var values = [];
        if (tagName in attributeMap && attributeName in attributeMap[tagName] && typeof attributeMap[tagName][attributeName] === "object") {
            values = Object.keys(attributeMap[tagName][attributeName]);
        }
        return values.map(function(value){
            return {
                caption: value,
                snippet: value,
                meta: "attribute value",
                score: Number.MAX_VALUE
            };
        });
    };

    this.getHTMLEntityCompletions = function(state, session, pos, prefix) {
        var values = ['Aacute;', 'aacute;', 'Acirc;', 'acirc;', 'acute;', 'AElig;', 'aelig;', 'Agrave;', 'agrave;', 'alefsym;', 'Alpha;', 'alpha;', 'amp;', 'and;', 'ang;', 'Aring;', 'aring;', 'asymp;', 'Atilde;', 'atilde;', 'Auml;', 'auml;', 'bdquo;', 'Beta;', 'beta;', 'brvbar;', 'bull;', 'cap;', 'Ccedil;', 'ccedil;', 'cedil;', 'cent;', 'Chi;', 'chi;', 'circ;', 'clubs;', 'cong;', 'copy;', 'crarr;', 'cup;', 'curren;', 'Dagger;', 'dagger;', 'dArr;', 'darr;', 'deg;', 'Delta;', 'delta;', 'diams;', 'divide;', 'Eacute;', 'eacute;', 'Ecirc;', 'ecirc;', 'Egrave;', 'egrave;', 'empty;', 'emsp;', 'ensp;', 'Epsilon;', 'epsilon;', 'equiv;', 'Eta;', 'eta;', 'ETH;', 'eth;', 'Euml;', 'euml;', 'euro;', 'exist;', 'fnof;', 'forall;', 'frac12;', 'frac14;', 'frac34;', 'frasl;', 'Gamma;', 'gamma;', 'ge;', 'gt;', 'hArr;', 'harr;', 'hearts;', 'hellip;', 'Iacute;', 'iacute;', 'Icirc;', 'icirc;', 'iexcl;', 'Igrave;', 'igrave;', 'image;', 'infin;', 'int;', 'Iota;', 'iota;', 'iquest;', 'isin;', 'Iuml;', 'iuml;', 'Kappa;', 'kappa;', 'Lambda;', 'lambda;', 'lang;', 'laquo;', 'lArr;', 'larr;', 'lceil;', 'ldquo;', 'le;', 'lfloor;', 'lowast;', 'loz;', 'lrm;', 'lsaquo;', 'lsquo;', 'lt;', 'macr;', 'mdash;', 'micro;', 'middot;', 'minus;', 'Mu;', 'mu;', 'nabla;', 'nbsp;', 'ndash;', 'ne;', 'ni;', 'not;', 'notin;', 'nsub;', 'Ntilde;', 'ntilde;', 'Nu;', 'nu;', 'Oacute;', 'oacute;', 'Ocirc;', 'ocirc;', 'OElig;', 'oelig;', 'Ograve;', 'ograve;', 'oline;', 'Omega;', 'omega;', 'Omicron;', 'omicron;', 'oplus;', 'or;', 'ordf;', 'ordm;', 'Oslash;', 'oslash;', 'Otilde;', 'otilde;', 'otimes;', 'Ouml;', 'ouml;', 'para;', 'part;', 'permil;', 'perp;', 'Phi;', 'phi;', 'Pi;', 'pi;', 'piv;', 'plusmn;', 'pound;', 'Prime;', 'prime;', 'prod;', 'prop;', 'Psi;', 'psi;', 'quot;', 'radic;', 'rang;', 'raquo;', 'rArr;', 'rarr;', 'rceil;', 'rdquo;', 'real;', 'reg;', 'rfloor;', 'Rho;', 'rho;', 'rlm;', 'rsaquo;', 'rsquo;', 'sbquo;', 'Scaron;', 'scaron;', 'sdot;', 'sect;', 'shy;', 'Sigma;', 'sigma;', 'sigmaf;', 'sim;', 'spades;', 'sub;', 'sube;', 'sum;', 'sup;', 'sup1;', 'sup2;', 'sup3;', 'supe;', 'szlig;', 'Tau;', 'tau;', 'there4;', 'Theta;', 'theta;', 'thetasym;', 'thinsp;', 'THORN;', 'thorn;', 'tilde;', 'times;', 'trade;', 'Uacute;', 'uacute;', 'uArr;', 'uarr;', 'Ucirc;', 'ucirc;', 'Ugrave;', 'ugrave;', 'uml;', 'upsih;', 'Upsilon;', 'upsilon;', 'Uuml;', 'uuml;', 'weierp;', 'Xi;', 'xi;', 'Yacute;', 'yacute;', 'yen;', 'Yuml;', 'yuml;', 'Zeta;', 'zeta;', 'zwj;', 'zwnj;'];

        return values.map(function(value){
            return {
                caption: value,
                snippet: value,
                meta: "html entity",
                score: Number.MAX_VALUE
            };
        });
    };

}).call(HtmlCompletions.prototype);

exports.HtmlCompletions = HtmlCompletions;
});

ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var lang = acequire("../lib/lang");
var TextMode = acequire("./text").Mode;
var JavaScriptMode = acequire("./javascript").Mode;
var CssMode = acequire("./css").Mode;
var HtmlHighlightRules = acequire("./html_highlight_rules").HtmlHighlightRules;
var XmlBehaviour = acequire("./behaviour/xml").XmlBehaviour;
var HtmlFoldMode = acequire("./folding/html").FoldMode;
var HtmlCompletions = acequire("./html_completions").HtmlCompletions;
var WorkerClient = acequire("../worker/worker_client").WorkerClient;
var voidElements = ["area", "base", "br", "col", "embed", "hr", "img", "input", "keygen", "link", "meta", "menuitem", "param", "source", "track", "wbr"];
var optionalEndTags = ["li", "dt", "dd", "p", "rt", "rp", "optgroup", "option", "colgroup", "td", "th"];

var Mode = function(options) {
    this.fragmentContext = options && options.fragmentContext;
    this.HighlightRules = HtmlHighlightRules;
    this.$behaviour = new XmlBehaviour();
    this.$completer = new HtmlCompletions();
    
    this.createModeDelegates({
        "js-": JavaScriptMode,
        "css-": CssMode
    });
    
    this.foldingRules = new HtmlFoldMode(this.voidElements, lang.arrayToMap(optionalEndTags));
};
oop.inherits(Mode, TextMode);

(function() {

    this.blockComment = {start: "<!--", end: "-->"};

    this.voidElements = lang.arrayToMap(voidElements);

    this.getNextLineIndent = function(state, line, tab) {
        return this.$getIndent(line);
    };

    this.checkOutdent = function(state, line, input) {
        return false;
    };

    this.getCompletions = function(state, session, pos, prefix) {
        return this.$completer.getCompletions(state, session, pos, prefix);
    };

    this.createWorker = function(session) {
        if (this.constructor != Mode)
            return;
        var worker = new WorkerClient(["ace"], require("../worker/html"), "Worker");
        worker.attachToDocument(session.getDocument());

        if (this.fragmentContext)
            worker.call("setOptions", [{context: this.fragmentContext}]);

        worker.on("error", function(e) {
            session.setAnnotations(e.data);
        });

        worker.on("terminate", function() {
            session.clearAnnotations();
        });

        return worker;
    };

    this.$id = "ace/mode/html";
}).call(Mode.prototype);

exports.Mode = Mode;
});

}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/brace/mode/html.js","/../node_modules/brace/mode")
},{"../worker/css":5,"../worker/html":6,"../worker/javascript":7,"buffer":8,"pBGvAp":10}],4:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
ace.define("ace/theme/clouds_midnight",["require","exports","module","ace/lib/dom"], function(acequire, exports, module) {

exports.isDark = true;
exports.cssClass = "ace-clouds-midnight";
exports.cssText = ".ace-clouds-midnight .ace_gutter {\
background: #232323;\
color: #929292\
}\
.ace-clouds-midnight .ace_print-margin {\
width: 1px;\
background: #232323\
}\
.ace-clouds-midnight {\
background-color: #191919;\
color: #929292\
}\
.ace-clouds-midnight .ace_cursor {\
color: #7DA5DC\
}\
.ace-clouds-midnight .ace_marker-layer .ace_selection {\
background: #000000\
}\
.ace-clouds-midnight.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px #191919;\
}\
.ace-clouds-midnight .ace_marker-layer .ace_step {\
background: rgb(102, 82, 0)\
}\
.ace-clouds-midnight .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid #BFBFBF\
}\
.ace-clouds-midnight .ace_marker-layer .ace_active-line {\
background: rgba(215, 215, 215, 0.031)\
}\
.ace-clouds-midnight .ace_gutter-active-line {\
background-color: rgba(215, 215, 215, 0.031)\
}\
.ace-clouds-midnight .ace_marker-layer .ace_selected-word {\
border: 1px solid #000000\
}\
.ace-clouds-midnight .ace_invisible {\
color: #666\
}\
.ace-clouds-midnight .ace_keyword,\
.ace-clouds-midnight .ace_meta,\
.ace-clouds-midnight .ace_support.ace_constant.ace_property-value {\
color: #927C5D\
}\
.ace-clouds-midnight .ace_keyword.ace_operator {\
color: #4B4B4B\
}\
.ace-clouds-midnight .ace_keyword.ace_other.ace_unit {\
color: #366F1A\
}\
.ace-clouds-midnight .ace_constant.ace_language {\
color: #39946A\
}\
.ace-clouds-midnight .ace_constant.ace_numeric {\
color: #46A609\
}\
.ace-clouds-midnight .ace_constant.ace_character.ace_entity {\
color: #A165AC\
}\
.ace-clouds-midnight .ace_invalid {\
color: #FFFFFF;\
background-color: #E92E2E\
}\
.ace-clouds-midnight .ace_fold {\
background-color: #927C5D;\
border-color: #929292\
}\
.ace-clouds-midnight .ace_storage,\
.ace-clouds-midnight .ace_support.ace_class,\
.ace-clouds-midnight .ace_support.ace_function,\
.ace-clouds-midnight .ace_support.ace_other,\
.ace-clouds-midnight .ace_support.ace_type {\
color: #E92E2E\
}\
.ace-clouds-midnight .ace_string {\
color: #5D90CD\
}\
.ace-clouds-midnight .ace_comment {\
color: #3C403B\
}\
.ace-clouds-midnight .ace_entity.ace_name.ace_tag,\
.ace-clouds-midnight .ace_entity.ace_other.ace_attribute-name {\
color: #606060\
}\
.ace-clouds-midnight .ace_indent-guide {\
background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y\
}";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});

}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/brace/theme/clouds_midnight.js","/../node_modules/brace/theme")
},{"buffer":8,"pBGvAp":10}],5:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
module.exports.id = 'ace/mode/css_worker';
module.exports.src = "\"no use strict\";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail=\"\";testPath;){var alias=paths[testPath];if(\"string\"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,\"/\")+(tail||alias.main||alias.name);if(alias===!1)return\"\";var i=testPath.lastIndexOf(\"/\");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:\"error\",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return window.normalizeModule(parentId,chunks[0])+\"!\"+window.normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=(base?base+\"/\":\"\")+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,\"\").replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log(\"unable to load \"+id);var path=resolveModuleId(id,window.acequire.tlns);return\".js\"!=path.slice(-3)&&(path+=\".js\"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),\"function\"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=[\"require\",\"exports\",\"module\"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case\"require\":return req;case\"exports\":return module.exports;case\"module\":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire(\"ace/lib/event_emitter\").EventEmitter,oop=window.acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error(\"Unknown command:\"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if(\"object\"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||\"\";switch(delta.action){case\"insert\":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case\"remove\":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert=\"insert\"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),applyDelta=acequire(\"./apply_delta\").applyDelta,EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(textOrLines){this.$lines=[\"\"],0===textOrLines.length?this.$lines=[\"\"]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0===\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\",this._signal(\"changeNewLineMode\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},this.$autoNewLine=\"\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal(\"changeNewLineMode\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(position,[\"\",\"\"])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:\"insert\",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([\"\"]),column=0):(lines=[\"\"].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:\"insert\",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:\"remove\",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:\"remove\",lines:[\"\",\"\"]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert=\"insert\"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal(\"change\",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(\"\"),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:\"insert\"==delta.action?\"remove\":\"insert\",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){\"use strict\";acequire(\"../range\").Range;var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:\"insert\",start:data[i],lines:data[i+1]};else var d={action:\"remove\",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define(\"ace/mode/css/csslint\",[\"require\",\"exports\",\"module\"],function(acequire,exports,module){function objectToString(o){return Object.prototype.toString.call(o)}function clone(parent,circular,depth,prototype){function _clone(parent,depth){if(null===parent)return null;if(0==depth)return parent;var child;if(\"object\"!=typeof parent)return parent;if(util.isArray(parent))child=[];else if(util.isRegExp(parent))child=RegExp(parent.source,util.getRegExpFlags(parent)),parent.lastIndex&&(child.lastIndex=parent.lastIndex);else if(util.isDate(parent))child=new Date(parent.getTime());else{if(useBuffer&&Buffer.isBuffer(parent))return child=new Buffer(parent.length),parent.copy(child),child;child=prototype===void 0?Object.create(Object.getPrototypeOf(parent)):Object.create(prototype)}if(circular){var index=allParents.indexOf(parent);if(-1!=index)return allChildren[index];allParents.push(parent),allChildren.push(child)}for(var i in parent)child[i]=_clone(parent[i],depth-1);return child}var allParents=[],allChildren=[],useBuffer=\"undefined\"!=typeof Buffer;return circular===void 0&&(circular=!0),depth===void 0&&(depth=1/0),_clone(parent,depth)}function Reporter(lines,ruleset){this.messages=[],this.stats=[],this.lines=lines,this.ruleset=ruleset}var parserlib={};(function(){function EventTarget(){this._listeners={}}function StringReader(text){this._input=text.replace(/\\n\\r?/g,\"\\n\"),this._line=1,this._col=1,this._cursor=0}function SyntaxError(message,line,col){this.col=col,this.line=line,this.message=message}function SyntaxUnit(text,line,col,type){this.col=col,this.line=line,this.text=text,this.type=type}function TokenStreamBase(input,tokenData){this._reader=input?new StringReader(\"\"+input):null,this._token=null,this._tokenData=tokenData,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}EventTarget.prototype={constructor:EventTarget,addListener:function(type,listener){this._listeners[type]||(this._listeners[type]=[]),this._listeners[type].push(listener)},fire:function(event){if(\"string\"==typeof event&&(event={type:event}),event.target!==void 0&&(event.target=this),event.type===void 0)throw Error(\"Event object missing 'type' property.\");if(this._listeners[event.type])for(var listeners=this._listeners[event.type].concat(),i=0,len=listeners.length;len>i;i++)listeners[i].call(this,event)},removeListener:function(type,listener){if(this._listeners[type])for(var listeners=this._listeners[type],i=0,len=listeners.length;len>i;i++)if(listeners[i]===listener){listeners.splice(i,1);break}}},StringReader.prototype={constructor:StringReader,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return this._cursor==this._input.length},peek:function(count){var c=null;return count=count===void 0?1:count,this._cursor<this._input.length&&(c=this._input.charAt(this._cursor+count-1)),c},read:function(){var c=null;return this._cursor<this._input.length&&(\"\\n\"==this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++,c=this._input.charAt(this._cursor++)),c},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(pattern){for(var c,buffer=\"\";buffer.length<pattern.length||buffer.lastIndexOf(pattern)!=buffer.length-pattern.length;){if(c=this.read(),!c)throw Error('Expected \"'+pattern+'\" at line '+this._line+\", col \"+this._col+\".\");buffer+=c}return buffer},readWhile:function(filter){for(var buffer=\"\",c=this.read();null!==c&&filter(c);)buffer+=c,c=this.read();return buffer},readMatch:function(matcher){var source=this._input.substring(this._cursor),value=null;return\"string\"==typeof matcher?0===source.indexOf(matcher)&&(value=this.readCount(matcher.length)):matcher instanceof RegExp&&matcher.test(source)&&(value=this.readCount(RegExp.lastMatch.length)),value},readCount:function(count){for(var buffer=\"\";count--;)buffer+=this.read();return buffer}},SyntaxError.prototype=Error(),SyntaxUnit.fromToken=function(token){return new SyntaxUnit(token.value,token.startLine,token.startCol)},SyntaxUnit.prototype={constructor:SyntaxUnit,valueOf:function(){return this.text},toString:function(){return this.text}},TokenStreamBase.createTokenData=function(tokens){var nameMap=[],typeMap={},tokenData=tokens.concat([]),i=0,len=tokenData.length+1;for(tokenData.UNKNOWN=-1,tokenData.unshift({name:\"EOF\"});len>i;i++)nameMap.push(tokenData[i].name),tokenData[tokenData[i].name]=i,tokenData[i].text&&(typeMap[tokenData[i].text]=i);return tokenData.name=function(tt){return nameMap[tt]},tokenData.type=function(c){return typeMap[c]},tokenData},TokenStreamBase.prototype={constructor:TokenStreamBase,match:function(tokenTypes,channel){tokenTypes instanceof Array||(tokenTypes=[tokenTypes]);\nfor(var tt=this.get(channel),i=0,len=tokenTypes.length;len>i;)if(tt==tokenTypes[i++])return!0;return this.unget(),!1},mustMatch:function(tokenTypes){var token;if(tokenTypes instanceof Array||(tokenTypes=[tokenTypes]),!this.match.apply(this,arguments))throw token=this.LT(1),new SyntaxError(\"Expected \"+this._tokenData[tokenTypes[0]].name+\" at line \"+token.startLine+\", col \"+token.startCol+\".\",token.startLine,token.startCol)},advance:function(tokenTypes,channel){for(;0!==this.LA(0)&&!this.match(tokenTypes,channel);)this.get();return this.LA(0)},get:function(channel){var token,info,tokenInfo=this._tokenData,i=(this._reader,0);if(tokenInfo.length,this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){for(i++,this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type];void 0!==info.channel&&channel!==info.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type],i++;if((void 0===info.channel||channel===info.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(i),this._token.type}return token=this._getToken(),token.type>-1&&!tokenInfo[token.type].hide&&(token.channel=tokenInfo[token.type].channel,this._token=token,this._lt.push(token),this._ltIndexCache.push(this._lt.length-this._ltIndex+i),this._lt.length>5&&this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length),info=tokenInfo[token.type],info&&(info.hide||void 0!==info.channel&&channel!==info.channel)?this.get(channel):token.type},LA:function(index){var tt,total=index;if(index>0){if(index>5)throw Error(\"Too much lookahead.\");for(;total;)tt=this.get(),total--;for(;index>total;)this.unget(),total++}else if(0>index){if(!this._lt[this._ltIndex+index])throw Error(\"Too much lookbehind.\");tt=this._lt[this._ltIndex+index].type}else tt=this._token.type;return tt},LT:function(index){return this.LA(index),this._lt[this._ltIndex+index-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(tokenType){return 0>tokenType||tokenType>this._tokenData.length?\"UNKNOWN_TOKEN\":this._tokenData[tokenType].name},tokenType:function(tokenName){return this._tokenData[tokenName]||-1},unget:function(){if(!this._ltIndexCache.length)throw Error(\"Too much lookahead.\");this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}},parserlib.util={StringReader:StringReader,SyntaxError:SyntaxError,SyntaxUnit:SyntaxUnit,EventTarget:EventTarget,TokenStreamBase:TokenStreamBase}})(),function(){function Combinator(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.COMBINATOR_TYPE),this.type=\"unknown\",/^\\s+$/.test(text)?this.type=\"descendant\":\">\"==text?this.type=\"child\":\"+\"==text?this.type=\"adjacent-sibling\":\"~\"==text&&(this.type=\"sibling\")}function MediaFeature(name,value){SyntaxUnit.call(this,\"(\"+name+(null!==value?\":\"+value:\"\")+\")\",name.startLine,name.startCol,Parser.MEDIA_FEATURE_TYPE),this.name=name,this.value=value}function MediaQuery(modifier,mediaType,features,line,col){SyntaxUnit.call(this,(modifier?modifier+\" \":\"\")+(mediaType?mediaType:\"\")+(mediaType&&features.length>0?\" and \":\"\")+features.join(\" and \"),line,col,Parser.MEDIA_QUERY_TYPE),this.modifier=modifier,this.mediaType=mediaType,this.features=features}function Parser(options){EventTarget.call(this),this.options=options||{},this._tokenStream=null}function PropertyName(text,hack,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_NAME_TYPE),this.hack=hack}function PropertyValue(parts,line,col){SyntaxUnit.call(this,parts.join(\" \"),line,col,Parser.PROPERTY_VALUE_TYPE),this.parts=parts}function PropertyValueIterator(value){this._i=0,this._parts=value.parts,this._marks=[],this.value=value}function PropertyValuePart(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_VALUE_PART_TYPE),this.type=\"unknown\";var temp;if(/^([+\\-]?[\\d\\.]+)([a-z]+)$/i.test(text))switch(this.type=\"dimension\",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case\"em\":case\"rem\":case\"ex\":case\"px\":case\"cm\":case\"mm\":case\"in\":case\"pt\":case\"pc\":case\"ch\":case\"vh\":case\"vw\":case\"vmax\":case\"vmin\":this.type=\"length\";break;case\"deg\":case\"rad\":case\"grad\":this.type=\"angle\";break;case\"ms\":case\"s\":this.type=\"time\";break;case\"hz\":case\"khz\":this.type=\"frequency\";break;case\"dpi\":case\"dpcm\":this.type=\"resolution\"}else/^([+\\-]?[\\d\\.]+)%$/i.test(text)?(this.type=\"percentage\",this.value=+RegExp.$1):/^([+\\-]?\\d+)$/i.test(text)?(this.type=\"integer\",this.value=+RegExp.$1):/^([+\\-]?[\\d\\.]+)$/i.test(text)?(this.type=\"number\",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(text)?(this.type=\"color\",temp=RegExp.$1,3==temp.length?(this.red=parseInt(temp.charAt(0)+temp.charAt(0),16),this.green=parseInt(temp.charAt(1)+temp.charAt(1),16),this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)):(this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16))):/^rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/i.test(text)?(this.type=\"color\",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type=\"color\",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type=\"color\",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type=\"color\",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type=\"color\",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type=\"color\",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\\([\"']?([^\\)\"']+)[\"']?\\)/i.test(text)?(this.type=\"uri\",this.uri=RegExp.$1):/^([^\\(]+)\\(/i.test(text)?(this.type=\"function\",this.name=RegExp.$1,this.value=text):/^[\"'][^\"']*[\"']/.test(text)?(this.type=\"string\",this.value=eval(text)):Colors[text.toLowerCase()]?(this.type=\"color\",temp=Colors[text.toLowerCase()].substring(1),this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16)):/^[\\,\\/]$/.test(text)?(this.type=\"operator\",this.value=text):/^[a-z\\-_\\u0080-\\uFFFF][a-z0-9\\-_\\u0080-\\uFFFF]*$/i.test(text)&&(this.type=\"identifier\",this.value=text)}function Selector(parts,line,col){SyntaxUnit.call(this,parts.join(\" \"),line,col,Parser.SELECTOR_TYPE),this.parts=parts,this.specificity=Specificity.calculate(this)}function SelectorPart(elementName,modifiers,text,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_PART_TYPE),this.elementName=elementName,this.modifiers=modifiers}function SelectorSubPart(text,type,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_SUB_PART_TYPE),this.type=type,this.args=[]}function Specificity(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function isHexDigit(c){return null!==c&&h.test(c)}function isDigit(c){return null!==c&&/\\d/.test(c)}function isWhitespace(c){return null!==c&&/\\s/.test(c)}function isNewLine(c){return null!==c&&nl.test(c)}function isNameStart(c){return null!==c&&/[a-z_\\u0080-\\uFFFF\\\\]/i.test(c)}function isNameChar(c){return null!==c&&(isNameStart(c)||/[0-9\\-\\\\]/.test(c))}function isIdentStart(c){return null!==c&&(isNameStart(c)||/\\-\\\\/.test(c))}function mix(receiver,supplier){for(var prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return receiver}function TokenStream(input){TokenStreamBase.call(this,input,Tokens)}function ValidationError(message,line,col){this.col=col,this.line=line,this.message=message}var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,StringReader=parserlib.util.StringReader,SyntaxError=parserlib.util.SyntaxError,SyntaxUnit=parserlib.util.SyntaxUnit,Colors={aliceblue:\"#f0f8ff\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",aquamarine:\"#7fffd4\",azure:\"#f0ffff\",beige:\"#f5f5dc\",bisque:\"#ffe4c4\",black:\"#000000\",blanchedalmond:\"#ffebcd\",blue:\"#0000ff\",blueviolet:\"#8a2be2\",brown:\"#a52a2a\",burlywood:\"#deb887\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",cornflowerblue:\"#6495ed\",cornsilk:\"#fff8dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkgray:\"#a9a9a9\",darkgrey:\"#a9a9a9\",darkgreen:\"#006400\",darkkhaki:\"#bdb76b\",darkmagenta:\"#8b008b\",darkolivegreen:\"#556b2f\",darkorange:\"#ff8c00\",darkorchid:\"#9932cc\",darkred:\"#8b0000\",darksalmon:\"#e9967a\",darkseagreen:\"#8fbc8f\",darkslateblue:\"#483d8b\",darkslategray:\"#2f4f4f\",darkslategrey:\"#2f4f4f\",darkturquoise:\"#00ced1\",darkviolet:\"#9400d3\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",dimgray:\"#696969\",dimgrey:\"#696969\",dodgerblue:\"#1e90ff\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",forestgreen:\"#228b22\",fuchsia:\"#ff00ff\",gainsboro:\"#dcdcdc\",ghostwhite:\"#f8f8ff\",gold:\"#ffd700\",goldenrod:\"#daa520\",gray:\"#808080\",grey:\"#808080\",green:\"#008000\",greenyellow:\"#adff2f\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",ivory:\"#fffff0\",khaki:\"#f0e68c\",lavender:\"#e6e6fa\",lavenderblush:\"#fff0f5\",lawngreen:\"#7cfc00\",lemonchiffon:\"#fffacd\",lightblue:\"#add8e6\",lightcoral:\"#f08080\",lightcyan:\"#e0ffff\",lightgoldenrodyellow:\"#fafad2\",lightgray:\"#d3d3d3\",lightgrey:\"#d3d3d3\",lightgreen:\"#90ee90\",lightpink:\"#ffb6c1\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",lightskyblue:\"#87cefa\",lightslategray:\"#778899\",lightslategrey:\"#778899\",lightsteelblue:\"#b0c4de\",lightyellow:\"#ffffe0\",lime:\"#00ff00\",limegreen:\"#32cd32\",linen:\"#faf0e6\",magenta:\"#ff00ff\",maroon:\"#800000\",mediumaquamarine:\"#66cdaa\",mediumblue:\"#0000cd\",mediumorchid:\"#ba55d3\",mediumpurple:\"#9370d8\",mediumseagreen:\"#3cb371\",mediumslateblue:\"#7b68ee\",mediumspringgreen:\"#00fa9a\",mediumturquoise:\"#48d1cc\",mediumvioletred:\"#c71585\",midnightblue:\"#191970\",mintcream:\"#f5fffa\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",navajowhite:\"#ffdead\",navy:\"#000080\",oldlace:\"#fdf5e6\",olive:\"#808000\",olivedrab:\"#6b8e23\",orange:\"#ffa500\",orangered:\"#ff4500\",orchid:\"#da70d6\",palegoldenrod:\"#eee8aa\",palegreen:\"#98fb98\",paleturquoise:\"#afeeee\",palevioletred:\"#d87093\",papayawhip:\"#ffefd5\",peachpuff:\"#ffdab9\",peru:\"#cd853f\",pink:\"#ffc0cb\",plum:\"#dda0dd\",powderblue:\"#b0e0e6\",purple:\"#800080\",red:\"#ff0000\",rosybrown:\"#bc8f8f\",royalblue:\"#4169e1\",saddlebrown:\"#8b4513\",salmon:\"#fa8072\",sandybrown:\"#f4a460\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",sienna:\"#a0522d\",silver:\"#c0c0c0\",skyblue:\"#87ceeb\",slateblue:\"#6a5acd\",slategray:\"#708090\",slategrey:\"#708090\",snow:\"#fffafa\",springgreen:\"#00ff7f\",steelblue:\"#4682b4\",tan:\"#d2b48c\",teal:\"#008080\",thistle:\"#d8bfd8\",tomato:\"#ff6347\",turquoise:\"#40e0d0\",violet:\"#ee82ee\",wheat:\"#f5deb3\",white:\"#ffffff\",whitesmoke:\"#f5f5f5\",yellow:\"#ffff00\",yellowgreen:\"#9acd32\",activeBorder:\"Active window border.\",activecaption:\"Active window caption.\",appworkspace:\"Background color of multiple document interface.\",background:\"Desktop background.\",buttonface:\"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.\",buttonhighlight:\"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.\",buttonshadow:\"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.\",buttontext:\"Text on push buttons.\",captiontext:\"Text in caption, size box, and scrollbar arrow box.\",graytext:\"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.\",greytext:\"Greyed (disabled) text. This color is set to #000 if the current display driver does not support a solid grey color.\",highlight:\"Item(s) selected in a control.\",highlighttext:\"Text of item(s) selected in a control.\",inactiveborder:\"Inactive window border.\",inactivecaption:\"Inactive window caption.\",inactivecaptiontext:\"Color of text in an inactive caption.\",infobackground:\"Background color for tooltip controls.\",infotext:\"Text color for tooltip controls.\",menu:\"Menu background.\",menutext:\"Text in menus.\",scrollbar:\"Scroll bar gray area.\",threeddarkshadow:\"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.\",threedface:\"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.\",threedhighlight:\"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.\",threedlightshadow:\"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.\",threedshadow:\"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.\",window:\"Window background.\",windowframe:\"Window frame.\",windowtext:\"Text in windows.\"};Combinator.prototype=new SyntaxUnit,Combinator.prototype.constructor=Combinator,MediaFeature.prototype=new SyntaxUnit,MediaFeature.prototype.constructor=MediaFeature,MediaQuery.prototype=new SyntaxUnit,MediaQuery.prototype.constructor=MediaQuery,Parser.DEFAULT_TYPE=0,Parser.COMBINATOR_TYPE=1,Parser.MEDIA_FEATURE_TYPE=2,Parser.MEDIA_QUERY_TYPE=3,Parser.PROPERTY_NAME_TYPE=4,Parser.PROPERTY_VALUE_TYPE=5,Parser.PROPERTY_VALUE_PART_TYPE=6,Parser.SELECTOR_TYPE=7,Parser.SELECTOR_PART_TYPE=8,Parser.SELECTOR_SUB_PART_TYPE=9,Parser.prototype=function(){var prop,proto=new EventTarget,additions={constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var count,token,tt,tokenStream=this._tokenStream;for(this.fire(\"startstylesheet\"),this._charset(),this._skipCruft();tokenStream.peek()==Tokens.IMPORT_SYM;)this._import(),this._skipCruft();for(;tokenStream.peek()==Tokens.NAMESPACE_SYM;)this._namespace(),this._skipCruft();for(tt=tokenStream.peek();tt>Tokens.EOF;){try{switch(tt){case Tokens.MEDIA_SYM:this._media(),this._skipCruft();break;case Tokens.PAGE_SYM:this._page(),this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face(),this._skipCruft();break;case Tokens.KEYFRAMES_SYM:this._keyframes(),this._skipCruft();break;case Tokens.VIEWPORT_SYM:this._viewport(),this._skipCruft();break;case Tokens.UNKNOWN_SYM:if(tokenStream.get(),this.options.strict)throw new SyntaxError(\"Unknown @ rule.\",tokenStream.LT(0).startLine,tokenStream.LT(0).startCol);for(this.fire({type:\"error\",error:null,message:\"Unknown @ rule: \"+tokenStream.LT(0).value+\".\",line:tokenStream.LT(0).startLine,col:tokenStream.LT(0).startCol}),count=0;tokenStream.advance([Tokens.LBRACE,Tokens.RBRACE])==Tokens.LBRACE;)count++;for(;count;)tokenStream.advance([Tokens.RBRACE]),count--;break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset())switch(tt){case Tokens.CHARSET_SYM:throw token=tokenStream.LT(1),this._charset(!1),new SyntaxError(\"@charset not allowed here.\",token.startLine,token.startCol);case Tokens.IMPORT_SYM:throw token=tokenStream.LT(1),this._import(!1),new SyntaxError(\"@import not allowed here.\",token.startLine,token.startCol);case Tokens.NAMESPACE_SYM:throw token=tokenStream.LT(1),this._namespace(!1),new SyntaxError(\"@namespace not allowed here.\",token.startLine,token.startCol);default:tokenStream.get(),this._unexpectedToken(tokenStream.token())}}}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;this.fire({type:\"error\",error:ex,message:ex.message,line:ex.line,col:ex.col})}tt=tokenStream.peek()}tt!=Tokens.EOF&&this._unexpectedToken(tokenStream.token()),this.fire(\"endstylesheet\")},_charset:function(emit){var charset,token,line,col,tokenStream=this._tokenStream;tokenStream.match(Tokens.CHARSET_SYM)&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.mustMatch(Tokens.STRING),token=tokenStream.token(),charset=token.value,this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),emit!==!1&&this.fire({type:\"charset\",charset:charset,line:line,col:col}))},_import:function(emit){var uri,importToken,tokenStream=this._tokenStream,mediaList=[];tokenStream.mustMatch(Tokens.IMPORT_SYM),importToken=tokenStream.token(),this._readWhitespace(),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/^(?:url\\()?[\"']?([^\"']+?)[\"']?\\)?$/,\"$1\"),this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:\"import\",uri:uri,media:mediaList,line:importToken.startLine,col:importToken.startCol})},_namespace:function(emit){var line,col,prefix,uri,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.NAMESPACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(prefix=tokenStream.token().value,this._readWhitespace()),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/(?:url\\()?[\"']([^\"']+)[\"']\\)?/,\"$1\"),this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:\"namespace\",prefix:prefix,uri:uri,line:line,col:col})},_media:function(){var line,col,mediaList,tokenStream=this._tokenStream;for(tokenStream.mustMatch(Tokens.MEDIA_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace(),this.fire({type:\"startmedia\",media:mediaList,line:line,col:col});;)if(tokenStream.peek()==Tokens.PAGE_SYM)this._page();else if(tokenStream.peek()==Tokens.FONT_FACE_SYM)this._font_face();else if(tokenStream.peek()==Tokens.VIEWPORT_SYM)this._viewport();else if(!this._ruleset())break;tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace(),this.fire({type:\"endmedia\",media:mediaList,line:line,col:col})},_media_query_list:function(){var tokenStream=this._tokenStream,mediaList=[];for(this._readWhitespace(),(tokenStream.peek()==Tokens.IDENT||tokenStream.peek()==Tokens.LPAREN)&&mediaList.push(this._media_query());tokenStream.match(Tokens.COMMA);)this._readWhitespace(),mediaList.push(this._media_query());return mediaList},_media_query:function(){var tokenStream=this._tokenStream,type=null,ident=null,token=null,expressions=[];if(tokenStream.match(Tokens.IDENT)&&(ident=tokenStream.token().value.toLowerCase(),\"only\"!=ident&&\"not\"!=ident?(tokenStream.unget(),ident=null):token=tokenStream.token()),this._readWhitespace(),tokenStream.peek()==Tokens.IDENT?(type=this._media_type(),null===token&&(token=tokenStream.token())):tokenStream.peek()==Tokens.LPAREN&&(null===token&&(token=tokenStream.LT(1)),expressions.push(this._media_expression())),null===type&&0===expressions.length)return null;for(this._readWhitespace();tokenStream.match(Tokens.IDENT);)\"and\"!=tokenStream.token().value.toLowerCase()&&this._unexpectedToken(tokenStream.token()),this._readWhitespace(),expressions.push(this._media_expression());return new MediaQuery(ident,type,expressions,token.startLine,token.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var token,tokenStream=this._tokenStream,feature=null,expression=null;return tokenStream.mustMatch(Tokens.LPAREN),feature=this._media_feature(),this._readWhitespace(),tokenStream.match(Tokens.COLON)&&(this._readWhitespace(),token=tokenStream.LT(1),expression=this._expression()),tokenStream.mustMatch(Tokens.RPAREN),this._readWhitespace(),new MediaFeature(feature,expression?new SyntaxUnit(expression,token.startLine,token.startCol):null)},_media_feature:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.IDENT),SyntaxUnit.fromToken(tokenStream.token())},_page:function(){var line,col,tokenStream=this._tokenStream,identifier=null,pseudoPage=null;tokenStream.mustMatch(Tokens.PAGE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(identifier=tokenStream.token().value,\"auto\"===identifier.toLowerCase()&&this._unexpectedToken(tokenStream.token())),tokenStream.peek()==Tokens.COLON&&(pseudoPage=this._pseudo_page()),this._readWhitespace(),this.fire({type:\"startpage\",id:identifier,pseudo:pseudoPage,line:line,col:col}),this._readDeclarations(!0,!0),this.fire({type:\"endpage\",id:identifier,pseudo:pseudoPage,line:line,col:col})},_margin:function(){var line,col,tokenStream=this._tokenStream,marginSym=this._margin_sym();return marginSym?(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this.fire({type:\"startpagemargin\",margin:marginSym,line:line,col:col}),this._readDeclarations(!0),this.fire({type:\"endpagemargin\",margin:marginSym,line:line,col:col}),!0):!1},_margin_sym:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])?SyntaxUnit.fromToken(tokenStream.token()):null},_pseudo_page:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.COLON),tokenStream.mustMatch(Tokens.IDENT),tokenStream.token().value},_font_face:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.FONT_FACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:\"startfontface\",line:line,col:col}),this._readDeclarations(!0),this.fire({type:\"endfontface\",line:line,col:col})},_viewport:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.VIEWPORT_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:\"startviewport\",line:line,col:col}),this._readDeclarations(!0),this.fire({type:\"endviewport\",line:line,col:col})},_operator:function(inFunction){var tokenStream=this._tokenStream,token=null;return(tokenStream.match([Tokens.SLASH,Tokens.COMMA])||inFunction&&tokenStream.match([Tokens.PLUS,Tokens.STAR,Tokens.MINUS]))&&(token=tokenStream.token(),this._readWhitespace()),token?PropertyValuePart.fromToken(token):null},_combinator:function(){var token,tokenStream=this._tokenStream,value=null;return tokenStream.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])&&(token=tokenStream.token(),value=new Combinator(token.value,token.startLine,token.startCol),this._readWhitespace()),value},_unary_operator:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.MINUS,Tokens.PLUS])?tokenStream.token().value:null},_property:function(){var tokenValue,token,line,col,tokenStream=this._tokenStream,value=null,hack=null;return tokenStream.peek()==Tokens.STAR&&this.options.starHack&&(tokenStream.get(),token=tokenStream.token(),hack=token.value,line=token.startLine,col=token.startCol),tokenStream.match(Tokens.IDENT)&&(token=tokenStream.token(),tokenValue=token.value,\"_\"==tokenValue.charAt(0)&&this.options.underscoreHack&&(hack=\"_\",tokenValue=tokenValue.substring(1)),value=new PropertyName(tokenValue,hack,line||token.startLine,col||token.startCol),this._readWhitespace()),value},_ruleset:function(){var tt,selectors,tokenStream=this._tokenStream;try{selectors=this._selectors_group()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:\"error\",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.RBRACE]),tt!=Tokens.RBRACE)throw ex;return!0}return selectors&&(this.fire({type:\"startrule\",selectors:selectors,line:selectors[0].line,col:selectors[0].col}),this._readDeclarations(!0),this.fire({type:\"endrule\",selectors:selectors,line:selectors[0].line,col:selectors[0].col})),selectors},_selectors_group:function(){var selector,tokenStream=this._tokenStream,selectors=[];if(selector=this._selector(),null!==selector)for(selectors.push(selector);tokenStream.match(Tokens.COMMA);)this._readWhitespace(),selector=this._selector(),null!==selector?selectors.push(selector):this._unexpectedToken(tokenStream.LT(1));return selectors.length?selectors:null},_selector:function(){var tokenStream=this._tokenStream,selector=[],nextSelector=null,combinator=null,ws=null;if(nextSelector=this._simple_selector_sequence(),null===nextSelector)return null;for(selector.push(nextSelector);;)if(combinator=this._combinator(),null!==combinator)selector.push(combinator),nextSelector=this._simple_selector_sequence(),null===nextSelector?this._unexpectedToken(tokenStream.LT(1)):selector.push(nextSelector);else{if(!this._readWhitespace())break;ws=new Combinator(tokenStream.token().value,tokenStream.token().startLine,tokenStream.token().startCol),combinator=this._combinator(),nextSelector=this._simple_selector_sequence(),null===nextSelector?null!==combinator&&this._unexpectedToken(tokenStream.LT(1)):(null!==combinator?selector.push(combinator):selector.push(ws),selector.push(nextSelector))}return new Selector(selector,selector[0].line,selector[0].col)},_simple_selector_sequence:function(){var line,col,tokenStream=this._tokenStream,elementName=null,modifiers=[],selectorText=\"\",components=[function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,\"id\",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],i=0,len=components.length,component=null;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol,elementName=this._type_selector(),elementName||(elementName=this._universal()),null!==elementName&&(selectorText+=elementName);;){if(tokenStream.peek()===Tokens.S)break;for(;len>i&&null===component;)component=components[i++].call(this);if(null===component){if(\"\"===selectorText)return null;break}i=0,modifiers.push(component),selectorText+=\"\"+component,component=null}return\"\"!==selectorText?new SelectorPart(elementName,modifiers,selectorText,line,col):null},_type_selector:function(){var tokenStream=this._tokenStream,ns=this._namespace_prefix(),elementName=this._element_name();return elementName?(ns&&(elementName.text=ns+elementName.text,elementName.col-=ns.length),elementName):(ns&&(tokenStream.unget(),ns.length>1&&tokenStream.unget()),null)},_class:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.DOT)?(tokenStream.mustMatch(Tokens.IDENT),token=tokenStream.token(),new SelectorSubPart(\".\"+token.value,\"class\",token.startLine,token.startCol-1)):null},_element_name:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.IDENT)?(token=tokenStream.token(),new SelectorSubPart(token.value,\"elementName\",token.startLine,token.startCol)):null},_namespace_prefix:function(){var tokenStream=this._tokenStream,value=\"\";return(tokenStream.LA(1)===Tokens.PIPE||tokenStream.LA(2)===Tokens.PIPE)&&(tokenStream.match([Tokens.IDENT,Tokens.STAR])&&(value+=tokenStream.token().value),tokenStream.mustMatch(Tokens.PIPE),value+=\"|\"),value.length?value:null},_universal:function(){var ns,tokenStream=this._tokenStream,value=\"\";return ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.match(Tokens.STAR)&&(value+=\"*\"),value.length?value:null},_attrib:function(){var ns,token,tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.LBRACKET)?(token=tokenStream.token(),value=token.value,value+=this._readWhitespace(),ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.mustMatch(Tokens.IDENT),value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])&&(value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),value+=tokenStream.token().value,value+=this._readWhitespace()),tokenStream.mustMatch(Tokens.RBRACKET),new SelectorSubPart(value+\"]\",\"attribute\",token.startLine,token.startCol)):null},_pseudo:function(){var line,col,tokenStream=this._tokenStream,pseudo=null,colons=\":\";return tokenStream.match(Tokens.COLON)&&(tokenStream.match(Tokens.COLON)&&(colons+=\":\"),tokenStream.match(Tokens.IDENT)?(pseudo=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol-colons.length):tokenStream.peek()==Tokens.FUNCTION&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol-colons.length,pseudo=this._functional_pseudo()),pseudo&&(pseudo=new SelectorSubPart(colons+pseudo,\"pseudo\",line,col))),pseudo},_functional_pseudo:function(){var tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.FUNCTION)&&(value=tokenStream.token().value,value+=this._readWhitespace(),value+=this._expression(),tokenStream.mustMatch(Tokens.RPAREN),value+=\")\"),value},_expression:function(){for(var tokenStream=this._tokenStream,value=\"\";tokenStream.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION,Tokens.SLASH]);)value+=tokenStream.token().value,value+=this._readWhitespace();return value.length?value:null},_negation:function(){var line,col,arg,tokenStream=this._tokenStream,value=\"\",subpart=null;return tokenStream.match(Tokens.NOT)&&(value=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol,value+=this._readWhitespace(),arg=this._negation_arg(),value+=arg,value+=this._readWhitespace(),tokenStream.match(Tokens.RPAREN),value+=tokenStream.token().value,subpart=new SelectorSubPart(value,\"not\",line,col),subpart.args.push(arg)),subpart},_negation_arg:function(){var line,col,part,tokenStream=this._tokenStream,args=[this._type_selector,this._universal,function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,\"id\",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo],arg=null,i=0,len=args.length;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol;len>i&&null===arg;)arg=args[i].call(this),i++;return null===arg&&this._unexpectedToken(tokenStream.LT(1)),part=\"elementName\"==arg.type?new SelectorPart(arg,[],\"\"+arg,line,col):new SelectorPart(null,[arg],\"\"+arg,line,col)},_declaration:function(){var tokenStream=this._tokenStream,property=null,expr=null,prio=null,invalid=null,propertyName=\"\";if(property=this._property(),null!==property){tokenStream.mustMatch(Tokens.COLON),this._readWhitespace(),expr=this._expr(),expr&&0!==expr.length||this._unexpectedToken(tokenStream.LT(1)),prio=this._prio(),propertyName=\"\"+property,(this.options.starHack&&\"*\"==property.hack||this.options.underscoreHack&&\"_\"==property.hack)&&(propertyName=property.text);try{this._validateProperty(propertyName,expr)}catch(ex){invalid=ex}return this.fire({type:\"property\",property:property,value:expr,important:prio,line:property.line,col:property.col,invalid:invalid}),!0}return!1},_prio:function(){var tokenStream=this._tokenStream,result=tokenStream.match(Tokens.IMPORTANT_SYM);return this._readWhitespace(),result},_expr:function(inFunction){var values=(this._tokenStream,[]),value=null,operator=null;if(value=this._term(inFunction),null!==value)for(values.push(value);;){if(operator=this._operator(inFunction),operator&&values.push(operator),value=this._term(inFunction),null===value)break;\nvalues.push(value)}return values.length>0?new PropertyValue(values,values[0].line,values[0].col):null},_term:function(inFunction){var token,line,col,tokenStream=this._tokenStream,unary=null,value=null,endChar=null;return unary=this._unary_operator(),null!==unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.peek()==Tokens.IE_FUNCTION&&this.options.ieFilters?(value=this._ie_function(),null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol)):inFunction&&tokenStream.match([Tokens.LPAREN,Tokens.LBRACE,Tokens.LBRACKET])?(token=tokenStream.token(),endChar=token.endChar,value=token.value+this._expr(inFunction).text,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.mustMatch(Tokens.type(endChar)),value+=endChar,this._readWhitespace()):tokenStream.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])?(value=tokenStream.token().value,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),this._readWhitespace()):(token=this._hexcolor(),null===token?(null===unary&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol),null===value&&(value=tokenStream.LA(3)==Tokens.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(value=token.value,null===unary&&(line=token.startLine,col=token.startCol))),null!==value?new PropertyValuePart(null!==unary?unary+value:value,line,col):null},_function:function(){var lt,tokenStream=this._tokenStream,functionText=null,expr=null;if(tokenStream.match(Tokens.FUNCTION)){if(functionText=tokenStream.token().value,this._readWhitespace(),expr=this._expr(!0),functionText+=expr,this.options.ieFilters&&tokenStream.peek()==Tokens.EQUALS)do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=\")\",this._readWhitespace()}return functionText},_ie_function:function(){var lt,tokenStream=this._tokenStream,functionText=null;if(tokenStream.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){functionText=tokenStream.token().value;do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=\")\",this._readWhitespace()}return functionText},_hexcolor:function(){var color,tokenStream=this._tokenStream,token=null;if(tokenStream.match(Tokens.HASH)){if(token=tokenStream.token(),color=token.value,!/#[a-f0-9]{3,6}/i.test(color))throw new SyntaxError(\"Expected a hex color but found '\"+color+\"' at line \"+token.startLine+\", col \"+token.startCol+\".\",token.startLine,token.startCol);this._readWhitespace()}return token},_keyframes:function(){var token,tt,name,tokenStream=this._tokenStream,prefix=\"\";for(tokenStream.mustMatch(Tokens.KEYFRAMES_SYM),token=tokenStream.token(),/^@\\-([^\\-]+)\\-/.test(token.value)&&(prefix=RegExp.$1),this._readWhitespace(),name=this._keyframe_name(),this._readWhitespace(),tokenStream.mustMatch(Tokens.LBRACE),this.fire({type:\"startkeyframes\",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tt=tokenStream.peek();tt==Tokens.IDENT||tt==Tokens.PERCENTAGE;)this._keyframe_rule(),this._readWhitespace(),tt=tokenStream.peek();this.fire({type:\"endkeyframes\",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tokenStream.mustMatch(Tokens.RBRACE)},_keyframe_name:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),SyntaxUnit.fromToken(tokenStream.token())},_keyframe_rule:function(){var keyList=(this._tokenStream,this._key_list());this.fire({type:\"startkeyframerule\",keys:keyList,line:keyList[0].line,col:keyList[0].col}),this._readDeclarations(!0),this.fire({type:\"endkeyframerule\",keys:keyList,line:keyList[0].line,col:keyList[0].col})},_key_list:function(){var tokenStream=this._tokenStream,keyList=[];for(keyList.push(this._key()),this._readWhitespace();tokenStream.match(Tokens.COMMA);)this._readWhitespace(),keyList.push(this._key()),this._readWhitespace();return keyList},_key:function(){var token,tokenStream=this._tokenStream;if(tokenStream.match(Tokens.PERCENTAGE))return SyntaxUnit.fromToken(tokenStream.token());if(tokenStream.match(Tokens.IDENT)){if(token=tokenStream.token(),/from|to/i.test(token.value))return SyntaxUnit.fromToken(token);tokenStream.unget()}this._unexpectedToken(tokenStream.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC]););},_readDeclarations:function(checkStart,readMargins){var tt,tokenStream=this._tokenStream;this._readWhitespace(),checkStart&&tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace();try{for(;;){if(tokenStream.match(Tokens.SEMICOLON)||readMargins&&this._margin());else{if(!this._declaration())break;if(!tokenStream.match(Tokens.SEMICOLON))break}this._readWhitespace()}tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:\"error\",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.SEMICOLON,Tokens.RBRACE]),tt==Tokens.SEMICOLON)this._readDeclarations(!1,readMargins);else if(tt!=Tokens.RBRACE)throw ex}},_readWhitespace:function(){for(var tokenStream=this._tokenStream,ws=\"\";tokenStream.match(Tokens.S);)ws+=tokenStream.token().value;return ws},_unexpectedToken:function(token){throw new SyntaxError(\"Unexpected token '\"+token.value+\"' at line \"+token.startLine+\", col \"+token.startCol+\".\",token.startLine,token.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!=Tokens.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(property,value){Validation.validate(property,value)},parse:function(input){this._tokenStream=new TokenStream(input,Tokens),this._stylesheet()},parseStyleSheet:function(input){return this.parse(input)},parseMediaQuery:function(input){this._tokenStream=new TokenStream(input,Tokens);var result=this._media_query();return this._verifyEnd(),result},parsePropertyValue:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._expr();return this._readWhitespace(),this._verifyEnd(),result},parseRule:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._ruleset();return this._readWhitespace(),this._verifyEnd(),result},parseSelector:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._selector();return this._readWhitespace(),this._verifyEnd(),result},parseStyleAttribute:function(input){input+=\"}\",this._tokenStream=new TokenStream(input,Tokens),this._readDeclarations()}};for(prop in additions)additions.hasOwnProperty(prop)&&(proto[prop]=additions[prop]);return proto}();var Properties={\"align-items\":\"flex-start | flex-end | center | baseline | stretch\",\"align-content\":\"flex-start | flex-end | center | space-between | space-around | stretch\",\"align-self\":\"auto | flex-start | flex-end | center | baseline | stretch\",\"-webkit-align-items\":\"flex-start | flex-end | center | baseline | stretch\",\"-webkit-align-content\":\"flex-start | flex-end | center | space-between | space-around | stretch\",\"-webkit-align-self\":\"auto | flex-start | flex-end | center | baseline | stretch\",\"alignment-adjust\":\"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>\",\"alignment-baseline\":\"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical\",animation:1,\"animation-delay\":{multi:\"<time>\",comma:!0},\"animation-direction\":{multi:\"normal | alternate\",comma:!0},\"animation-duration\":{multi:\"<time>\",comma:!0},\"animation-fill-mode\":{multi:\"none | forwards | backwards | both\",comma:!0},\"animation-iteration-count\":{multi:\"<number> | infinite\",comma:!0},\"animation-name\":{multi:\"none | <ident>\",comma:!0},\"animation-play-state\":{multi:\"running | paused\",comma:!0},\"animation-timing-function\":1,\"-moz-animation-delay\":{multi:\"<time>\",comma:!0},\"-moz-animation-direction\":{multi:\"normal | alternate\",comma:!0},\"-moz-animation-duration\":{multi:\"<time>\",comma:!0},\"-moz-animation-iteration-count\":{multi:\"<number> | infinite\",comma:!0},\"-moz-animation-name\":{multi:\"none | <ident>\",comma:!0},\"-moz-animation-play-state\":{multi:\"running | paused\",comma:!0},\"-ms-animation-delay\":{multi:\"<time>\",comma:!0},\"-ms-animation-direction\":{multi:\"normal | alternate\",comma:!0},\"-ms-animation-duration\":{multi:\"<time>\",comma:!0},\"-ms-animation-iteration-count\":{multi:\"<number> | infinite\",comma:!0},\"-ms-animation-name\":{multi:\"none | <ident>\",comma:!0},\"-ms-animation-play-state\":{multi:\"running | paused\",comma:!0},\"-webkit-animation-delay\":{multi:\"<time>\",comma:!0},\"-webkit-animation-direction\":{multi:\"normal | alternate\",comma:!0},\"-webkit-animation-duration\":{multi:\"<time>\",comma:!0},\"-webkit-animation-fill-mode\":{multi:\"none | forwards | backwards | both\",comma:!0},\"-webkit-animation-iteration-count\":{multi:\"<number> | infinite\",comma:!0},\"-webkit-animation-name\":{multi:\"none | <ident>\",comma:!0},\"-webkit-animation-play-state\":{multi:\"running | paused\",comma:!0},\"-o-animation-delay\":{multi:\"<time>\",comma:!0},\"-o-animation-direction\":{multi:\"normal | alternate\",comma:!0},\"-o-animation-duration\":{multi:\"<time>\",comma:!0},\"-o-animation-iteration-count\":{multi:\"<number> | infinite\",comma:!0},\"-o-animation-name\":{multi:\"none | <ident>\",comma:!0},\"-o-animation-play-state\":{multi:\"running | paused\",comma:!0},appearance:\"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit\",azimuth:function(expression){var part,simple=\"<angle> | leftwards | rightwards | inherit\",direction=\"left-side | far-left | left | center-left | center | center-right | right | far-right | right-side\",behind=!1,valid=!1;if(ValidationTypes.isAny(expression,simple)||(ValidationTypes.isAny(expression,\"behind\")&&(behind=!0,valid=!0),ValidationTypes.isAny(expression,direction)&&(valid=!0,behind||ValidationTypes.isAny(expression,\"behind\"))),expression.hasNext())throw part=expression.next(),valid?new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col):new ValidationError(\"Expected (<'azimuth'>) but found '\"+part+\"'.\",part.line,part.col)},\"backface-visibility\":\"visible | hidden\",background:1,\"background-attachment\":{multi:\"<attachment>\",comma:!0},\"background-clip\":{multi:\"<box>\",comma:!0},\"background-color\":\"<color> | inherit\",\"background-image\":{multi:\"<bg-image>\",comma:!0},\"background-origin\":{multi:\"<box>\",comma:!0},\"background-position\":{multi:\"<bg-position>\",comma:!0},\"background-repeat\":{multi:\"<repeat-style>\"},\"background-size\":{multi:\"<bg-size>\",comma:!0},\"baseline-shift\":\"baseline | sub | super | <percentage> | <length>\",behavior:1,binding:1,bleed:\"<length>\",\"bookmark-label\":\"<content> | <attr> | <string>\",\"bookmark-level\":\"none | <integer>\",\"bookmark-state\":\"open | closed\",\"bookmark-target\":\"none | <uri> | <attr>\",border:\"<border-width> || <border-style> || <color>\",\"border-bottom\":\"<border-width> || <border-style> || <color>\",\"border-bottom-color\":\"<color> | inherit\",\"border-bottom-left-radius\":\"<x-one-radius>\",\"border-bottom-right-radius\":\"<x-one-radius>\",\"border-bottom-style\":\"<border-style>\",\"border-bottom-width\":\"<border-width>\",\"border-collapse\":\"collapse | separate | inherit\",\"border-color\":{multi:\"<color> | inherit\",max:4},\"border-image\":1,\"border-image-outset\":{multi:\"<length> | <number>\",max:4},\"border-image-repeat\":{multi:\"stretch | repeat | round\",max:2},\"border-image-slice\":function(expression){var part,valid=!1,numeric=\"<number> | <percentage>\",fill=!1,count=0,max=4;for(ValidationTypes.isAny(expression,\"fill\")&&(fill=!0,valid=!0);expression.hasNext()&&max>count&&(valid=ValidationTypes.isAny(expression,numeric));)count++;if(fill?valid=!0:ValidationTypes.isAny(expression,\"fill\"),expression.hasNext())throw part=expression.next(),valid?new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col):new ValidationError(\"Expected ([<number> | <percentage>]{1,4} && fill?) but found '\"+part+\"'.\",part.line,part.col)},\"border-image-source\":\"<image> | none\",\"border-image-width\":{multi:\"<length> | <percentage> | <number> | auto\",max:4},\"border-left\":\"<border-width> || <border-style> || <color>\",\"border-left-color\":\"<color> | inherit\",\"border-left-style\":\"<border-style>\",\"border-left-width\":\"<border-width>\",\"border-radius\":function(expression){for(var part,valid=!1,simple=\"<length> | <percentage> | inherit\",slash=!1,count=0,max=8;expression.hasNext()&&max>count;){if(valid=ValidationTypes.isAny(expression,simple),!valid){if(!(\"/\"==expression.peek()&&count>0)||slash)break;slash=!0,max=count+5,expression.next()}count++}if(expression.hasNext())throw part=expression.next(),valid?new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col):new ValidationError(\"Expected (<'border-radius'>) but found '\"+part+\"'.\",part.line,part.col)},\"border-right\":\"<border-width> || <border-style> || <color>\",\"border-right-color\":\"<color> | inherit\",\"border-right-style\":\"<border-style>\",\"border-right-width\":\"<border-width>\",\"border-spacing\":{multi:\"<length> | inherit\",max:2},\"border-style\":{multi:\"<border-style>\",max:4},\"border-top\":\"<border-width> || <border-style> || <color>\",\"border-top-color\":\"<color> | inherit\",\"border-top-left-radius\":\"<x-one-radius>\",\"border-top-right-radius\":\"<x-one-radius>\",\"border-top-style\":\"<border-style>\",\"border-top-width\":\"<border-width>\",\"border-width\":{multi:\"<border-width>\",max:4},bottom:\"<margin-width> | inherit\",\"-moz-box-align\":\"start | end | center | baseline | stretch\",\"-moz-box-decoration-break\":\"slice |clone\",\"-moz-box-direction\":\"normal | reverse | inherit\",\"-moz-box-flex\":\"<number>\",\"-moz-box-flex-group\":\"<integer>\",\"-moz-box-lines\":\"single | multiple\",\"-moz-box-ordinal-group\":\"<integer>\",\"-moz-box-orient\":\"horizontal | vertical | inline-axis | block-axis | inherit\",\"-moz-box-pack\":\"start | end | center | justify\",\"-webkit-box-align\":\"start | end | center | baseline | stretch\",\"-webkit-box-decoration-break\":\"slice |clone\",\"-webkit-box-direction\":\"normal | reverse | inherit\",\"-webkit-box-flex\":\"<number>\",\"-webkit-box-flex-group\":\"<integer>\",\"-webkit-box-lines\":\"single | multiple\",\"-webkit-box-ordinal-group\":\"<integer>\",\"-webkit-box-orient\":\"horizontal | vertical | inline-axis | block-axis | inherit\",\"-webkit-box-pack\":\"start | end | center | justify\",\"box-shadow\":function(expression){var part;if(ValidationTypes.isAny(expression,\"none\")){if(expression.hasNext())throw part=expression.next(),new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col)}else Validation.multiProperty(\"<shadow>\",expression,!0,1/0)},\"box-sizing\":\"content-box | border-box | inherit\",\"break-after\":\"auto | always | avoid | left | right | page | column | avoid-page | avoid-column\",\"break-before\":\"auto | always | avoid | left | right | page | column | avoid-page | avoid-column\",\"break-inside\":\"auto | avoid | avoid-page | avoid-column\",\"caption-side\":\"top | bottom | inherit\",clear:\"none | right | left | both | inherit\",clip:1,color:\"<color> | inherit\",\"color-profile\":1,\"column-count\":\"<integer> | auto\",\"column-fill\":\"auto | balance\",\"column-gap\":\"<length> | normal\",\"column-rule\":\"<border-width> || <border-style> || <color>\",\"column-rule-color\":\"<color>\",\"column-rule-style\":\"<border-style>\",\"column-rule-width\":\"<border-width>\",\"column-span\":\"none | all\",\"column-width\":\"<length> | auto\",columns:1,content:1,\"counter-increment\":1,\"counter-reset\":1,crop:\"<shape> | auto\",cue:\"cue-after | cue-before | inherit\",\"cue-after\":1,\"cue-before\":1,cursor:1,direction:\"ltr | rtl | inherit\",display:\"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | grid | inline-grid | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box | -ms-flexbox | -ms-inline-flexbox | flex | -webkit-flex | inline-flex | -webkit-inline-flex\",\"dominant-baseline\":1,\"drop-initial-after-adjust\":\"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>\",\"drop-initial-after-align\":\"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical\",\"drop-initial-before-adjust\":\"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>\",\"drop-initial-before-align\":\"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical\",\"drop-initial-size\":\"auto | line | <length> | <percentage>\",\"drop-initial-value\":\"initial | <integer>\",elevation:\"<angle> | below | level | above | higher | lower | inherit\",\"empty-cells\":\"show | hide | inherit\",filter:1,fit:\"fill | hidden | meet | slice\",\"fit-position\":1,flex:\"<flex>\",\"flex-basis\":\"<width>\",\"flex-direction\":\"row | row-reverse | column | column-reverse\",\"flex-flow\":\"<flex-direction> || <flex-wrap>\",\"flex-grow\":\"<number>\",\"flex-shrink\":\"<number>\",\"flex-wrap\":\"nowrap | wrap | wrap-reverse\",\"-webkit-flex\":\"<flex>\",\"-webkit-flex-basis\":\"<width>\",\"-webkit-flex-direction\":\"row | row-reverse | column | column-reverse\",\"-webkit-flex-flow\":\"<flex-direction> || <flex-wrap>\",\"-webkit-flex-grow\":\"<number>\",\"-webkit-flex-shrink\":\"<number>\",\"-webkit-flex-wrap\":\"nowrap | wrap | wrap-reverse\",\"-ms-flex\":\"<flex>\",\"-ms-flex-align\":\"start | end | center | stretch | baseline\",\"-ms-flex-direction\":\"row | row-reverse | column | column-reverse | inherit\",\"-ms-flex-order\":\"<number>\",\"-ms-flex-pack\":\"start | end | center | justify\",\"-ms-flex-wrap\":\"nowrap | wrap | wrap-reverse\",\"float\":\"left | right | none | inherit\",\"float-offset\":1,font:1,\"font-family\":1,\"font-size\":\"<absolute-size> | <relative-size> | <length> | <percentage> | inherit\",\"font-size-adjust\":\"<number> | none | inherit\",\"font-stretch\":\"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit\",\"font-style\":\"normal | italic | oblique | inherit\",\"font-variant\":\"normal | small-caps | inherit\",\"font-weight\":\"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit\",\"grid-cell-stacking\":\"columns | rows | layer\",\"grid-column\":1,\"grid-columns\":1,\"grid-column-align\":\"start | end | center | stretch\",\"grid-column-sizing\":1,\"grid-column-span\":\"<integer>\",\"grid-flow\":\"none | rows | columns\",\"grid-layer\":\"<integer>\",\"grid-row\":1,\"grid-rows\":1,\"grid-row-align\":\"start | end | center | stretch\",\"grid-row-span\":\"<integer>\",\"grid-row-sizing\":1,\"hanging-punctuation\":1,height:\"<margin-width> | <content-sizing> | inherit\",\"hyphenate-after\":\"<integer> | auto\",\"hyphenate-before\":\"<integer> | auto\",\"hyphenate-character\":\"<string> | auto\",\"hyphenate-lines\":\"no-limit | <integer>\",\"hyphenate-resource\":1,hyphens:\"none | manual | auto\",icon:1,\"image-orientation\":\"angle | auto\",\"image-rendering\":1,\"image-resolution\":1,\"inline-box-align\":\"initial | last | <integer>\",\"justify-content\":\"flex-start | flex-end | center | space-between | space-around\",\"-webkit-justify-content\":\"flex-start | flex-end | center | space-between | space-around\",left:\"<margin-width> | inherit\",\"letter-spacing\":\"<length> | normal | inherit\",\"line-height\":\"<number> | <length> | <percentage> | normal | inherit\",\"line-break\":\"auto | loose | normal | strict\",\"line-stacking\":1,\"line-stacking-ruby\":\"exclude-ruby | include-ruby\",\"line-stacking-shift\":\"consider-shifts | disregard-shifts\",\"line-stacking-strategy\":\"inline-line-height | block-line-height | max-height | grid-height\",\"list-style\":1,\"list-style-image\":\"<uri> | none | inherit\",\"list-style-position\":\"inside | outside | inherit\",\"list-style-type\":\"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit\",margin:{multi:\"<margin-width> | inherit\",max:4},\"margin-bottom\":\"<margin-width> | inherit\",\"margin-left\":\"<margin-width> | inherit\",\"margin-right\":\"<margin-width> | inherit\",\"margin-top\":\"<margin-width> | inherit\",mark:1,\"mark-after\":1,\"mark-before\":1,marks:1,\"marquee-direction\":1,\"marquee-play-count\":1,\"marquee-speed\":1,\"marquee-style\":1,\"max-height\":\"<length> | <percentage> | <content-sizing> | none | inherit\",\"max-width\":\"<length> | <percentage> | <content-sizing> | none | inherit\",\"min-height\":\"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit\",\"min-width\":\"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit\",\"move-to\":1,\"nav-down\":1,\"nav-index\":1,\"nav-left\":1,\"nav-right\":1,\"nav-up\":1,opacity:\"<number> | inherit\",order:\"<integer>\",\"-webkit-order\":\"<integer>\",orphans:\"<integer> | inherit\",outline:1,\"outline-color\":\"<color> | invert | inherit\",\"outline-offset\":1,\"outline-style\":\"<border-style> | inherit\",\"outline-width\":\"<border-width> | inherit\",overflow:\"visible | hidden | scroll | auto | inherit\",\"overflow-style\":1,\"overflow-wrap\":\"normal | break-word\",\"overflow-x\":1,\"overflow-y\":1,padding:{multi:\"<padding-width> | inherit\",max:4},\"padding-bottom\":\"<padding-width> | inherit\",\"padding-left\":\"<padding-width> | inherit\",\"padding-right\":\"<padding-width> | inherit\",\"padding-top\":\"<padding-width> | inherit\",page:1,\"page-break-after\":\"auto | always | avoid | left | right | inherit\",\"page-break-before\":\"auto | always | avoid | left | right | inherit\",\"page-break-inside\":\"auto | avoid | inherit\",\"page-policy\":1,pause:1,\"pause-after\":1,\"pause-before\":1,perspective:1,\"perspective-origin\":1,phonemes:1,pitch:1,\"pitch-range\":1,\"play-during\":1,\"pointer-events\":\"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit\",position:\"static | relative | absolute | fixed | inherit\",\"presentation-level\":1,\"punctuation-trim\":1,quotes:1,\"rendering-intent\":1,resize:1,rest:1,\"rest-after\":1,\"rest-before\":1,richness:1,right:\"<margin-width> | inherit\",rotation:1,\"rotation-point\":1,\"ruby-align\":1,\"ruby-overhang\":1,\"ruby-position\":1,\"ruby-span\":1,size:1,speak:\"normal | none | spell-out | inherit\",\"speak-header\":\"once | always | inherit\",\"speak-numeral\":\"digits | continuous | inherit\",\"speak-punctuation\":\"code | none | inherit\",\"speech-rate\":1,src:1,stress:1,\"string-set\":1,\"table-layout\":\"auto | fixed | inherit\",\"tab-size\":\"<integer> | <length>\",target:1,\"target-name\":1,\"target-new\":1,\"target-position\":1,\"text-align\":\"left | right | center | justify | inherit\",\"text-align-last\":1,\"text-decoration\":1,\"text-emphasis\":1,\"text-height\":1,\"text-indent\":\"<length> | <percentage> | inherit\",\"text-justify\":\"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida\",\"text-outline\":1,\"text-overflow\":1,\"text-rendering\":\"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit\",\"text-shadow\":1,\"text-transform\":\"capitalize | uppercase | lowercase | none | inherit\",\"text-wrap\":\"normal | none | avoid\",top:\"<margin-width> | inherit\",\"-ms-touch-action\":\"auto | none | pan-x | pan-y\",\"touch-action\":\"auto | none | pan-x | pan-y\",transform:1,\"transform-origin\":1,\"transform-style\":1,transition:1,\"transition-delay\":1,\"transition-duration\":1,\"transition-property\":1,\"transition-timing-function\":1,\"unicode-bidi\":\"normal | embed | isolate | bidi-override | isolate-override | plaintext | inherit\",\"user-modify\":\"read-only | read-write | write-only | inherit\",\"user-select\":\"none | text | toggle | element | elements | all | inherit\",\"vertical-align\":\"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>\",visibility:\"visible | hidden | collapse | inherit\",\"voice-balance\":1,\"voice-duration\":1,\"voice-family\":1,\"voice-pitch\":1,\"voice-pitch-range\":1,\"voice-rate\":1,\"voice-stress\":1,\"voice-volume\":1,volume:1,\"white-space\":\"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap\",\"white-space-collapse\":1,widows:\"<integer> | inherit\",width:\"<length> | <percentage> | <content-sizing> | auto | inherit\",\"word-break\":\"normal | keep-all | break-all\",\"word-spacing\":\"<length> | normal | inherit\",\"word-wrap\":\"normal | break-word\",\"writing-mode\":\"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb | inherit\",\"z-index\":\"<integer> | auto | inherit\",zoom:\"<number> | <percentage> | normal\"};PropertyName.prototype=new SyntaxUnit,PropertyName.prototype.constructor=PropertyName,PropertyName.prototype.toString=function(){return(this.hack?this.hack:\"\")+this.text},PropertyValue.prototype=new SyntaxUnit,PropertyValue.prototype.constructor=PropertyValue,PropertyValueIterator.prototype.count=function(){return this._parts.length},PropertyValueIterator.prototype.isFirst=function(){return 0===this._i},PropertyValueIterator.prototype.hasNext=function(){return this._i<this._parts.length},PropertyValueIterator.prototype.mark=function(){this._marks.push(this._i)},PropertyValueIterator.prototype.peek=function(count){return this.hasNext()?this._parts[this._i+(count||0)]:null},PropertyValueIterator.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null},PropertyValueIterator.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},PropertyValueIterator.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},PropertyValuePart.prototype=new SyntaxUnit,PropertyValuePart.prototype.constructor=PropertyValuePart,PropertyValuePart.fromToken=function(token){return new PropertyValuePart(token.value,token.startLine,token.startCol)};var Pseudos={\":first-letter\":1,\":first-line\":1,\":before\":1,\":after\":1};Pseudos.ELEMENT=1,Pseudos.CLASS=2,Pseudos.isElement=function(pseudo){return 0===pseudo.indexOf(\"::\")||Pseudos[pseudo.toLowerCase()]==Pseudos.ELEMENT},Selector.prototype=new SyntaxUnit,Selector.prototype.constructor=Selector,SelectorPart.prototype=new SyntaxUnit,SelectorPart.prototype.constructor=SelectorPart,SelectorSubPart.prototype=new SyntaxUnit,SelectorSubPart.prototype.constructor=SelectorSubPart,Specificity.prototype={constructor:Specificity,compare:function(other){var i,len,comps=[\"a\",\"b\",\"c\",\"d\"];for(i=0,len=comps.length;len>i;i++){if(this[comps[i]]<other[comps[i]])return-1;if(this[comps[i]]>other[comps[i]])return 1}return 0},valueOf:function(){return 1e3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+\",\"+this.b+\",\"+this.c+\",\"+this.d}},Specificity.calculate=function(selector){function updateValues(part){var i,j,len,num,modifier,elementName=part.elementName?part.elementName.text:\"\";for(elementName&&\"*\"!=elementName.charAt(elementName.length-1)&&d++,i=0,len=part.modifiers.length;len>i;i++)switch(modifier=part.modifiers[i],modifier.type){case\"class\":case\"attribute\":c++;break;case\"id\":b++;break;case\"pseudo\":Pseudos.isElement(modifier.text)?d++:c++;break;case\"not\":for(j=0,num=modifier.args.length;num>j;j++)updateValues(modifier.args[j])}}var i,len,part,b=0,c=0,d=0;for(i=0,len=selector.parts.length;len>i;i++)part=selector.parts[i],part instanceof SelectorPart&&updateValues(part);return new Specificity(0,b,c,d)};var h=/^[0-9a-fA-F]$/,nonascii=/^[\\u0080-\\uFFFF]$/,nl=/\\n|\\r\\n|\\r|\\f/;TokenStream.prototype=mix(new TokenStreamBase,{_getToken:function(){var c,reader=this._reader,token=null,startLine=reader.getLine(),startCol=reader.getCol();for(c=reader.read();c;){switch(c){case\"/\":token=\"*\"==reader.peek()?this.commentToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case\"|\":case\"~\":case\"^\":case\"$\":case\"*\":token=\"=\"==reader.peek()?this.comparisonToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case'\"':case\"'\":token=this.stringToken(c,startLine,startCol);break;case\"#\":token=isNameChar(reader.peek())?this.hashToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case\".\":token=isDigit(reader.peek())?this.numberToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case\"-\":token=\"-\"==reader.peek()?this.htmlCommentEndToken(c,startLine,startCol):isNameStart(reader.peek())?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case\"!\":token=this.importantToken(c,startLine,startCol);break;case\"@\":token=this.atRuleToken(c,startLine,startCol);break;case\":\":token=this.notToken(c,startLine,startCol);break;case\"<\":token=this.htmlCommentStartToken(c,startLine,startCol);break;case\"U\":case\"u\":if(\"+\"==reader.peek()){token=this.unicodeRangeToken(c,startLine,startCol);break}default:token=isDigit(c)?this.numberToken(c,startLine,startCol):isWhitespace(c)?this.whitespaceToken(c,startLine,startCol):isIdentStart(c)?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol)}break}return token||null!==c||(token=this.createToken(Tokens.EOF,null,startLine,startCol)),token},createToken:function(tt,value,startLine,startCol,options){var reader=this._reader;return options=options||{},{value:value,type:tt,channel:options.channel,endChar:options.endChar,hide:options.hide||!1,startLine:startLine,startCol:startCol,endLine:reader.getLine(),endCol:reader.getCol()}},atRuleToken:function(first,startLine,startCol){var ident,rule=first,reader=this._reader,tt=Tokens.CHAR;return reader.mark(),ident=this.readName(),rule=first+ident,tt=Tokens.type(rule.toLowerCase()),(tt==Tokens.CHAR||tt==Tokens.UNKNOWN)&&(rule.length>1?tt=Tokens.UNKNOWN_SYM:(tt=Tokens.CHAR,rule=first,reader.reset())),this.createToken(tt,rule,startLine,startCol)},charToken:function(c,startLine,startCol){var tt=Tokens.type(c),opts={};return-1==tt?tt=Tokens.CHAR:opts.endChar=Tokens[tt].endChar,this.createToken(tt,c,startLine,startCol,opts)},commentToken:function(first,startLine,startCol){var comment=(this._reader,this.readComment(first));return this.createToken(Tokens.COMMENT,comment,startLine,startCol)},comparisonToken:function(c,startLine,startCol){var reader=this._reader,comparison=c+reader.read(),tt=Tokens.type(comparison)||Tokens.CHAR;return this.createToken(tt,comparison,startLine,startCol)},hashToken:function(first,startLine,startCol){var name=(this._reader,this.readName(first));return this.createToken(Tokens.HASH,name,startLine,startCol)\n},htmlCommentStartToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(3),\"<!--\"==text?this.createToken(Tokens.CDO,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},htmlCommentEndToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(2),\"-->\"==text?this.createToken(Tokens.CDC,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},identOrFunctionToken:function(first,startLine,startCol){var reader=this._reader,ident=this.readName(first),tt=Tokens.IDENT;return\"(\"==reader.peek()?(ident+=reader.read(),\"url(\"==ident.toLowerCase()?(tt=Tokens.URI,ident=this.readURI(ident),\"url(\"==ident.toLowerCase()&&(tt=Tokens.FUNCTION)):tt=Tokens.FUNCTION):\":\"==reader.peek()&&\"progid\"==ident.toLowerCase()&&(ident+=reader.readTo(\"(\"),tt=Tokens.IE_FUNCTION),this.createToken(tt,ident,startLine,startCol)},importantToken:function(first,startLine,startCol){var temp,c,reader=this._reader,important=first,tt=Tokens.CHAR;for(reader.mark(),c=reader.read();c;){if(\"/\"==c){if(\"*\"!=reader.peek())break;if(temp=this.readComment(c),\"\"===temp)break}else{if(!isWhitespace(c)){if(/i/i.test(c)){temp=reader.readCount(8),/mportant/i.test(temp)&&(important+=c+temp,tt=Tokens.IMPORTANT_SYM);break}break}important+=c+this.readWhitespace()}c=reader.read()}return tt==Tokens.CHAR?(reader.reset(),this.charToken(first,startLine,startCol)):this.createToken(tt,important,startLine,startCol)},notToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(4),\":not(\"==text.toLowerCase()?this.createToken(Tokens.NOT,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},numberToken:function(first,startLine,startCol){var ident,reader=this._reader,value=this.readNumber(first),tt=Tokens.NUMBER,c=reader.peek();return isIdentStart(c)?(ident=this.readName(reader.read()),value+=ident,tt=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vmax$|^vmin$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(ident)?Tokens.LENGTH:/^deg|^rad$|^grad$/i.test(ident)?Tokens.ANGLE:/^ms$|^s$/i.test(ident)?Tokens.TIME:/^hz$|^khz$/i.test(ident)?Tokens.FREQ:/^dpi$|^dpcm$/i.test(ident)?Tokens.RESOLUTION:Tokens.DIMENSION):\"%\"==c&&(value+=reader.read(),tt=Tokens.PERCENTAGE),this.createToken(tt,value,startLine,startCol)},stringToken:function(first,startLine,startCol){for(var delim=first,string=first,reader=this._reader,prev=first,tt=Tokens.STRING,c=reader.read();c&&(string+=c,c!=delim||\"\\\\\"==prev);){if(isNewLine(reader.peek())&&\"\\\\\"!=c){tt=Tokens.INVALID;break}prev=c,c=reader.read()}return null===c&&(tt=Tokens.INVALID),this.createToken(tt,string,startLine,startCol)},unicodeRangeToken:function(first,startLine,startCol){var temp,reader=this._reader,value=first,tt=Tokens.CHAR;return\"+\"==reader.peek()&&(reader.mark(),value+=reader.read(),value+=this.readUnicodeRangePart(!0),2==value.length?reader.reset():(tt=Tokens.UNICODE_RANGE,-1==value.indexOf(\"?\")&&\"-\"==reader.peek()&&(reader.mark(),temp=reader.read(),temp+=this.readUnicodeRangePart(!1),1==temp.length?reader.reset():value+=temp))),this.createToken(tt,value,startLine,startCol)},whitespaceToken:function(first,startLine,startCol){var value=(this._reader,first+this.readWhitespace());return this.createToken(Tokens.S,value,startLine,startCol)},readUnicodeRangePart:function(allowQuestionMark){for(var reader=this._reader,part=\"\",c=reader.peek();isHexDigit(c)&&6>part.length;)reader.read(),part+=c,c=reader.peek();if(allowQuestionMark)for(;\"?\"==c&&6>part.length;)reader.read(),part+=c,c=reader.peek();return part},readWhitespace:function(){for(var reader=this._reader,whitespace=\"\",c=reader.peek();isWhitespace(c);)reader.read(),whitespace+=c,c=reader.peek();return whitespace},readNumber:function(first){for(var reader=this._reader,number=first,hasDot=\".\"==first,c=reader.peek();c;){if(isDigit(c))number+=reader.read();else{if(\".\"!=c)break;if(hasDot)break;hasDot=!0,number+=reader.read()}c=reader.peek()}return number},readString:function(){for(var reader=this._reader,delim=reader.read(),string=delim,prev=delim,c=reader.peek();c&&(c=reader.read(),string+=c,c!=delim||\"\\\\\"==prev);){if(isNewLine(reader.peek())&&\"\\\\\"!=c){string=\"\";break}prev=c,c=reader.peek()}return null===c&&(string=\"\"),string},readURI:function(first){var reader=this._reader,uri=first,inner=\"\",c=reader.peek();for(reader.mark();c&&isWhitespace(c);)reader.read(),c=reader.peek();for(inner=\"'\"==c||'\"'==c?this.readString():this.readURL(),c=reader.peek();c&&isWhitespace(c);)reader.read(),c=reader.peek();return\"\"===inner||\")\"!=c?(uri=first,reader.reset()):uri+=inner+reader.read(),uri},readURL:function(){for(var reader=this._reader,url=\"\",c=reader.peek();/^[!#$%&\\\\*-~]$/.test(c);)url+=reader.read(),c=reader.peek();return url},readName:function(first){for(var reader=this._reader,ident=first||\"\",c=reader.peek();;)if(\"\\\\\"==c)ident+=this.readEscape(reader.read()),c=reader.peek();else{if(!c||!isNameChar(c))break;ident+=reader.read(),c=reader.peek()}return ident},readEscape:function(first){var reader=this._reader,cssEscape=first||\"\",i=0,c=reader.peek();if(isHexDigit(c))do cssEscape+=reader.read(),c=reader.peek();while(c&&isHexDigit(c)&&6>++i);return 3==cssEscape.length&&/\\s/.test(c)||7==cssEscape.length||1==cssEscape.length?reader.read():c=\"\",cssEscape+c},readComment:function(first){var reader=this._reader,comment=first||\"\",c=reader.read();if(\"*\"==c){for(;c;){if(comment+=c,comment.length>2&&\"*\"==c&&\"/\"==reader.peek()){comment+=reader.read();break}c=reader.read()}return comment}return\"\"}});var Tokens=[{name:\"CDO\"},{name:\"CDC\"},{name:\"S\",whitespace:!0},{name:\"COMMENT\",comment:!0,hide:!0,channel:\"comment\"},{name:\"INCLUDES\",text:\"~=\"},{name:\"DASHMATCH\",text:\"|=\"},{name:\"PREFIXMATCH\",text:\"^=\"},{name:\"SUFFIXMATCH\",text:\"$=\"},{name:\"SUBSTRINGMATCH\",text:\"*=\"},{name:\"STRING\"},{name:\"IDENT\"},{name:\"HASH\"},{name:\"IMPORT_SYM\",text:\"@import\"},{name:\"PAGE_SYM\",text:\"@page\"},{name:\"MEDIA_SYM\",text:\"@media\"},{name:\"FONT_FACE_SYM\",text:\"@font-face\"},{name:\"CHARSET_SYM\",text:\"@charset\"},{name:\"NAMESPACE_SYM\",text:\"@namespace\"},{name:\"VIEWPORT_SYM\",text:[\"@viewport\",\"@-ms-viewport\"]},{name:\"UNKNOWN_SYM\"},{name:\"KEYFRAMES_SYM\",text:[\"@keyframes\",\"@-webkit-keyframes\",\"@-moz-keyframes\",\"@-o-keyframes\"]},{name:\"IMPORTANT_SYM\"},{name:\"LENGTH\"},{name:\"ANGLE\"},{name:\"TIME\"},{name:\"FREQ\"},{name:\"DIMENSION\"},{name:\"PERCENTAGE\"},{name:\"NUMBER\"},{name:\"URI\"},{name:\"FUNCTION\"},{name:\"UNICODE_RANGE\"},{name:\"INVALID\"},{name:\"PLUS\",text:\"+\"},{name:\"GREATER\",text:\">\"},{name:\"COMMA\",text:\",\"},{name:\"TILDE\",text:\"~\"},{name:\"NOT\"},{name:\"TOPLEFTCORNER_SYM\",text:\"@top-left-corner\"},{name:\"TOPLEFT_SYM\",text:\"@top-left\"},{name:\"TOPCENTER_SYM\",text:\"@top-center\"},{name:\"TOPRIGHT_SYM\",text:\"@top-right\"},{name:\"TOPRIGHTCORNER_SYM\",text:\"@top-right-corner\"},{name:\"BOTTOMLEFTCORNER_SYM\",text:\"@bottom-left-corner\"},{name:\"BOTTOMLEFT_SYM\",text:\"@bottom-left\"},{name:\"BOTTOMCENTER_SYM\",text:\"@bottom-center\"},{name:\"BOTTOMRIGHT_SYM\",text:\"@bottom-right\"},{name:\"BOTTOMRIGHTCORNER_SYM\",text:\"@bottom-right-corner\"},{name:\"LEFTTOP_SYM\",text:\"@left-top\"},{name:\"LEFTMIDDLE_SYM\",text:\"@left-middle\"},{name:\"LEFTBOTTOM_SYM\",text:\"@left-bottom\"},{name:\"RIGHTTOP_SYM\",text:\"@right-top\"},{name:\"RIGHTMIDDLE_SYM\",text:\"@right-middle\"},{name:\"RIGHTBOTTOM_SYM\",text:\"@right-bottom\"},{name:\"RESOLUTION\",state:\"media\"},{name:\"IE_FUNCTION\"},{name:\"CHAR\"},{name:\"PIPE\",text:\"|\"},{name:\"SLASH\",text:\"/\"},{name:\"MINUS\",text:\"-\"},{name:\"STAR\",text:\"*\"},{name:\"LBRACE\",endChar:\"}\",text:\"{\"},{name:\"RBRACE\",text:\"}\"},{name:\"LBRACKET\",endChar:\"]\",text:\"[\"},{name:\"RBRACKET\",text:\"]\"},{name:\"EQUALS\",text:\"=\"},{name:\"COLON\",text:\":\"},{name:\"SEMICOLON\",text:\";\"},{name:\"LPAREN\",endChar:\")\",text:\"(\"},{name:\"RPAREN\",text:\")\"},{name:\"DOT\",text:\".\"}];(function(){var nameMap=[],typeMap={};Tokens.UNKNOWN=-1,Tokens.unshift({name:\"EOF\"});for(var i=0,len=Tokens.length;len>i;i++)if(nameMap.push(Tokens[i].name),Tokens[Tokens[i].name]=i,Tokens[i].text)if(Tokens[i].text instanceof Array)for(var j=0;Tokens[i].text.length>j;j++)typeMap[Tokens[i].text[j]]=i;else typeMap[Tokens[i].text]=i;Tokens.name=function(tt){return nameMap[tt]},Tokens.type=function(c){return typeMap[c]||-1}})();var Validation={validate:function(property,value){var name=(\"\"+property).toLowerCase(),expression=(value.parts,new PropertyValueIterator(value)),spec=Properties[name];if(spec)\"number\"!=typeof spec&&(\"string\"==typeof spec?spec.indexOf(\"||\")>-1?this.groupProperty(spec,expression):this.singleProperty(spec,expression,1):spec.multi?this.multiProperty(spec.multi,expression,spec.comma,spec.max||1/0):\"function\"==typeof spec&&spec(expression));else if(0!==name.indexOf(\"-\"))throw new ValidationError(\"Unknown property '\"+property+\"'.\",property.line,property.col)},singleProperty:function(types,expression,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&max>count&&(result=ValidationTypes.isAny(expression,types));)count++;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col)):new ValidationError(\"Expected (\"+types+\") but found '\"+value+\"'.\",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col)},multiProperty:function(types,expression,comma,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&!result&&max>count&&ValidationTypes.isAny(expression,types);)if(count++,expression.hasNext()){if(comma){if(\",\"!=expression.peek())break;part=expression.next()}}else result=!0;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col)):(part=expression.previous(),comma&&\",\"==part?new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col):new ValidationError(\"Expected (\"+types+\") but found '\"+value+\"'.\",value.line,value.col));if(expression.hasNext())throw part=expression.next(),new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col)},groupProperty:function(types,expression){for(var name,part,result=!1,value=expression.value,typeCount=types.split(\"||\").length,groups={count:0},partial=!1;expression.hasNext()&&!result&&(name=ValidationTypes.isAnyOfGroup(expression,types))&&!groups[name];)groups[name]=1,groups.count++,partial=!0,groups.count!=typeCount&&expression.hasNext()||(result=!0);if(!result)throw partial&&expression.hasNext()?(part=expression.peek(),new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col)):new ValidationError(\"Expected (\"+types+\") but found '\"+value+\"'.\",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError(\"Expected end of value but found '\"+part+\"'.\",part.line,part.col)}};ValidationError.prototype=Error();var ValidationTypes={isLiteral:function(part,literals){var i,len,text=(\"\"+part.text).toLowerCase(),args=literals.split(\" | \"),found=!1;for(i=0,len=args.length;len>i&&!found;i++)text==args[i].toLowerCase()&&(found=!0);return found},isSimple:function(type){return!!this.simple[type]},isComplex:function(type){return!!this.complex[type]},isAny:function(expression,types){var i,len,args=types.split(\" | \"),found=!1;for(i=0,len=args.length;len>i&&!found&&expression.hasNext();i++)found=this.isType(expression,args[i]);return found},isAnyOfGroup:function(expression,types){var i,len,args=types.split(\" || \"),found=!1;for(i=0,len=args.length;len>i&&!found;i++)found=this.isType(expression,args[i]);return found?args[i-1]:!1},isType:function(expression,type){var part=expression.peek(),result=!1;return\"<\"!=type.charAt(0)?(result=this.isLiteral(part,type),result&&expression.next()):this.simple[type]?(result=this.simple[type](part),result&&expression.next()):result=this.complex[type](expression),result},simple:{\"<absolute-size>\":function(part){return ValidationTypes.isLiteral(part,\"xx-small | x-small | small | medium | large | x-large | xx-large\")},\"<attachment>\":function(part){return ValidationTypes.isLiteral(part,\"scroll | fixed | local\")},\"<attr>\":function(part){return\"function\"==part.type&&\"attr\"==part.name},\"<bg-image>\":function(part){return this[\"<image>\"](part)||this[\"<gradient>\"](part)||\"none\"==part},\"<gradient>\":function(part){return\"function\"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?(?:repeating\\-)?(?:radial\\-|linear\\-)?gradient/i.test(part)},\"<box>\":function(part){return ValidationTypes.isLiteral(part,\"padding-box | border-box | content-box\")},\"<content>\":function(part){return\"function\"==part.type&&\"content\"==part.name},\"<relative-size>\":function(part){return ValidationTypes.isLiteral(part,\"smaller | larger\")},\"<ident>\":function(part){return\"identifier\"==part.type},\"<length>\":function(part){return\"function\"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?calc/i.test(part)?!0:\"length\"==part.type||\"number\"==part.type||\"integer\"==part.type||\"0\"==part},\"<color>\":function(part){return\"color\"==part.type||\"transparent\"==part},\"<number>\":function(part){return\"number\"==part.type||this[\"<integer>\"](part)},\"<integer>\":function(part){return\"integer\"==part.type},\"<line>\":function(part){return\"integer\"==part.type},\"<angle>\":function(part){return\"angle\"==part.type},\"<uri>\":function(part){return\"uri\"==part.type},\"<image>\":function(part){return this[\"<uri>\"](part)},\"<percentage>\":function(part){return\"percentage\"==part.type||\"0\"==part},\"<border-width>\":function(part){return this[\"<length>\"](part)||ValidationTypes.isLiteral(part,\"thin | medium | thick\")},\"<border-style>\":function(part){return ValidationTypes.isLiteral(part,\"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset\")},\"<content-sizing>\":function(part){return ValidationTypes.isLiteral(part,\"fill-available | -moz-available | -webkit-fill-available | max-content | -moz-max-content | -webkit-max-content | min-content | -moz-min-content | -webkit-min-content | fit-content | -moz-fit-content | -webkit-fit-content\")},\"<margin-width>\":function(part){return this[\"<length>\"](part)||this[\"<percentage>\"](part)||ValidationTypes.isLiteral(part,\"auto\")},\"<padding-width>\":function(part){return this[\"<length>\"](part)||this[\"<percentage>\"](part)},\"<shape>\":function(part){return\"function\"==part.type&&(\"rect\"==part.name||\"inset-rect\"==part.name)},\"<time>\":function(part){return\"time\"==part.type},\"<flex-grow>\":function(part){return this[\"<number>\"](part)},\"<flex-shrink>\":function(part){return this[\"<number>\"](part)},\"<width>\":function(part){return this[\"<margin-width>\"](part)},\"<flex-basis>\":function(part){return this[\"<width>\"](part)},\"<flex-direction>\":function(part){return ValidationTypes.isLiteral(part,\"row | row-reverse | column | column-reverse\")},\"<flex-wrap>\":function(part){return ValidationTypes.isLiteral(part,\"nowrap | wrap | wrap-reverse\")}},complex:{\"<bg-position>\":function(expression){for(var result=!1,numeric=\"<percentage> | <length>\",xDir=\"left | right\",yDir=\"top | bottom\",count=0;expression.peek(count)&&\",\"!=expression.peek(count);)count++;return 3>count?ValidationTypes.isAny(expression,xDir+\" | center | \"+numeric)?(result=!0,ValidationTypes.isAny(expression,yDir+\" | center | \"+numeric)):ValidationTypes.isAny(expression,yDir)&&(result=!0,ValidationTypes.isAny(expression,xDir+\" | center\")):ValidationTypes.isAny(expression,xDir)?ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,\"center\")&&(result=!0)):ValidationTypes.isAny(expression,yDir)?ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,\"center\")&&(result=!0)):ValidationTypes.isAny(expression,\"center\")&&ValidationTypes.isAny(expression,xDir+\" | \"+yDir)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},\"<bg-size>\":function(expression){var result=!1,numeric=\"<percentage> | <length> | auto\";return ValidationTypes.isAny(expression,\"cover | contain\")?result=!0:ValidationTypes.isAny(expression,numeric)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},\"<repeat-style>\":function(expression){var part,result=!1,values=\"repeat | space | round | no-repeat\";return expression.hasNext()&&(part=expression.next(),ValidationTypes.isLiteral(part,\"repeat-x | repeat-y\")?result=!0:ValidationTypes.isLiteral(part,values)&&(result=!0,expression.hasNext()&&ValidationTypes.isLiteral(expression.peek(),values)&&expression.next())),result},\"<shadow>\":function(expression){var result=!1,count=0,inset=!1,color=!1;if(expression.hasNext()){for(ValidationTypes.isAny(expression,\"inset\")&&(inset=!0),ValidationTypes.isAny(expression,\"<color>\")&&(color=!0);ValidationTypes.isAny(expression,\"<length>\")&&4>count;)count++;expression.hasNext()&&(color||ValidationTypes.isAny(expression,\"<color>\"),inset||ValidationTypes.isAny(expression,\"inset\")),result=count>=2&&4>=count}return result},\"<x-one-radius>\":function(expression){var result=!1,simple=\"<length> | <percentage> | inherit\";return ValidationTypes.isAny(expression,simple)&&(result=!0,ValidationTypes.isAny(expression,simple)),result},\"<flex>\":function(expression){var part,result=!1;if(ValidationTypes.isAny(expression,\"none | inherit\")?result=!0:ValidationTypes.isType(expression,\"<flex-grow>\")?expression.peek()?ValidationTypes.isType(expression,\"<flex-shrink>\")?result=expression.peek()?ValidationTypes.isType(expression,\"<flex-basis>\"):!0:ValidationTypes.isType(expression,\"<flex-basis>\")&&(result=null===expression.peek()):result=!0:ValidationTypes.isType(expression,\"<flex-basis>\")&&(result=!0),!result)throw part=expression.peek(),new ValidationError(\"Expected (none | [ <flex-grow> <flex-shrink>? || <flex-basis> ]) but found '\"+expression.value.text+\"'.\",part.line,part.col);return result}}};parserlib.css={Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:Tokens,ValidationError:ValidationError}}(),function(){for(var prop in parserlib)exports[prop]=parserlib[prop]}();var util={isArray:function(ar){return Array.isArray(ar)||\"object\"==typeof ar&&\"[object Array]\"===objectToString(ar)},isDate:function(d){return\"object\"==typeof d&&\"[object Date]\"===objectToString(d)},isRegExp:function(re){return\"object\"==typeof re&&\"[object RegExp]\"===objectToString(re)},getRegExpFlags:function(re){var flags=\"\";return re.global&&(flags+=\"g\"),re.ignoreCase&&(flags+=\"i\"),re.multiline&&(flags+=\"m\"),flags}};\"object\"==typeof module&&(module.exports=clone),clone.clonePrototype=function(parent){if(null===parent)return null;var c=function(){};return c.prototype=parent,new c};var CSSLint=function(){function applyEmbeddedRuleset(text,ruleset){var valueMap,embedded=text&&text.match(embeddedRuleset),rules=embedded&&embedded[1];return rules&&(valueMap={\"true\":2,\"\":1,\"false\":0,2:2,1:1,0:0},rules.toLowerCase().split(\",\").forEach(function(rule){var pair=rule.split(\":\"),property=pair[0]||\"\",value=pair[1]||\"\";ruleset[property.trim()]=valueMap[value.trim()]})),ruleset}var rules=[],formatters=[],embeddedRuleset=/\\/\\*csslint([^\\*]*)\\*\\//,api=new parserlib.util.EventTarget;return api.version=\"@VERSION@\",api.addRule=function(rule){rules.push(rule),rules[rule.id]=rule},api.clearRules=function(){rules=[]},api.getRules=function(){return[].concat(rules).sort(function(a,b){return a.id>b.id?1:0})},api.getRuleset=function(){for(var ruleset={},i=0,len=rules.length;len>i;)ruleset[rules[i++].id]=1;return ruleset},api.addFormatter=function(formatter){formatters[formatter.id]=formatter},api.getFormatter=function(formatId){return formatters[formatId]},api.format=function(results,filename,formatId,options){var formatter=this.getFormatter(formatId),result=null;return formatter&&(result=formatter.startFormat(),result+=formatter.formatResults(results,filename,options||{}),result+=formatter.endFormat()),result},api.hasFormat=function(formatId){return formatters.hasOwnProperty(formatId)},api.verify=function(text,ruleset){var reporter,lines,report,i=0,parser=new parserlib.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1});lines=text.replace(/\\n\\r?/g,\"$split$\").split(\"$split$\"),ruleset||(ruleset=this.getRuleset()),embeddedRuleset.test(text)&&(ruleset=clone(ruleset),ruleset=applyEmbeddedRuleset(text,ruleset)),reporter=new Reporter(lines,ruleset),ruleset.errors=2;for(i in ruleset)ruleset.hasOwnProperty(i)&&ruleset[i]&&rules[i]&&rules[i].init(parser,reporter);try{parser.parse(text)}catch(ex){reporter.error(\"Fatal error, cannot continue: \"+ex.message,ex.line,ex.col,{})}return report={messages:reporter.messages,stats:reporter.stats,ruleset:reporter.ruleset},report.messages.sort(function(a,b){return a.rollup&&!b.rollup?1:!a.rollup&&b.rollup?-1:a.line-b.line}),report},api}();Reporter.prototype={constructor:Reporter,error:function(message,line,col,rule){this.messages.push({type:\"error\",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule||{}})},warn:function(message,line,col,rule){this.report(message,line,col,rule)},report:function(message,line,col,rule){this.messages.push({type:2===this.ruleset[rule.id]?\"error\":\"warning\",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},info:function(message,line,col,rule){this.messages.push({type:\"info\",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},rollupError:function(message,rule){this.messages.push({type:\"error\",rollup:!0,message:message,rule:rule})},rollupWarn:function(message,rule){this.messages.push({type:\"warning\",rollup:!0,message:message,rule:rule})},stat:function(name,value){this.stats[name]=value}},CSSLint._Reporter=Reporter,CSSLint.Util={mix:function(receiver,supplier){var prop;for(prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return prop},indexOf:function(values,value){if(values.indexOf)return values.indexOf(value);for(var i=0,len=values.length;len>i;i++)if(values[i]===value)return i;return-1},forEach:function(values,func){if(values.forEach)return values.forEach(func);for(var i=0,len=values.length;len>i;i++)func(values[i],i,values)}},CSSLint.addRule({id:\"adjoining-classes\",name:\"Disallow adjoining classes\",desc:\"Don't use adjoining classes.\",browsers:\"IE6\",init:function(parser,reporter){var rule=this;parser.addListener(\"startrule\",function(event){var selector,part,modifier,classCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(classCount=0,k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],\"class\"===modifier.type&&classCount++,classCount>1&&reporter.report(\"Don't use adjoining classes.\",part.line,part.col,rule)})}}),CSSLint.addRule({id:\"box-model\",name:\"Beware of broken box size\",desc:\"Don't use width or height when using padding or border.\",browsers:\"All\",init:function(parser,reporter){function startRule(){properties={},boxSizing=!1}function endRule(){var prop,value;if(!boxSizing){if(properties.height)for(prop in heightProperties)heightProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,(\"padding\"!==prop||2!==value.parts.length||0!==value.parts[0].value)&&reporter.report(\"Using height with \"+prop+\" can sometimes make elements larger than you expect.\",properties[prop].line,properties[prop].col,rule));if(properties.width)for(prop in widthProperties)widthProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,(\"padding\"!==prop||2!==value.parts.length||0!==value.parts[1].value)&&reporter.report(\"Using width with \"+prop+\" can sometimes make elements larger than you expect.\",properties[prop].line,properties[prop].col,rule))}}var properties,rule=this,widthProperties={border:1,\"border-left\":1,\"border-right\":1,padding:1,\"padding-left\":1,\"padding-right\":1},heightProperties={border:1,\"border-bottom\":1,\"border-top\":1,padding:1,\"padding-bottom\":1,\"padding-top\":1},boxSizing=!1;parser.addListener(\"startrule\",startRule),parser.addListener(\"startfontface\",startRule),parser.addListener(\"startpage\",startRule),parser.addListener(\"startpagemargin\",startRule),parser.addListener(\"startkeyframerule\",startRule),parser.addListener(\"property\",function(event){var name=event.property.text.toLowerCase();heightProperties[name]||widthProperties[name]?/^0\\S*$/.test(event.value)||\"border\"===name&&\"none\"==\"\"+event.value||(properties[name]={line:event.property.line,col:event.property.col,value:event.value}):/^(width|height)/i.test(name)&&/^(length|percentage)/.test(event.value.parts[0].type)?properties[name]=1:\"box-sizing\"===name&&(boxSizing=!0)}),parser.addListener(\"endrule\",endRule),parser.addListener(\"endfontface\",endRule),parser.addListener(\"endpage\",endRule),parser.addListener(\"endpagemargin\",endRule),parser.addListener(\"endkeyframerule\",endRule)}}),CSSLint.addRule({id:\"box-sizing\",name:\"Disallow use of box-sizing\",desc:\"The box-sizing properties isn't supported in IE6 and IE7.\",browsers:\"IE6, IE7\",tags:[\"Compatibility\"],init:function(parser,reporter){var rule=this;parser.addListener(\"property\",function(event){var name=event.property.text.toLowerCase();\"box-sizing\"===name&&reporter.report(\"The box-sizing property isn't supported in IE6 and IE7.\",event.line,event.col,rule)})}}),CSSLint.addRule({id:\"bulletproof-font-face\",name:\"Use the bulletproof @font-face syntax\",desc:\"Use the bulletproof @font-face syntax to avoid 404's in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).\",browsers:\"All\",init:function(parser,reporter){var line,col,rule=this,fontFaceRule=!1,firstSrc=!0,ruleFailed=!1;parser.addListener(\"startfontface\",function(){fontFaceRule=!0}),parser.addListener(\"property\",function(event){if(fontFaceRule){var propertyName=(\"\"+event.property).toLowerCase(),value=\"\"+event.value;if(line=event.line,col=event.col,\"src\"===propertyName){var regex=/^\\s?url\\(['\"].+\\.eot\\?.*['\"]\\)\\s*format\\(['\"]embedded-opentype['\"]\\).*$/i;!value.match(regex)&&firstSrc?(ruleFailed=!0,firstSrc=!1):value.match(regex)&&!firstSrc&&(ruleFailed=!1)}}}),parser.addListener(\"endfontface\",function(){fontFaceRule=!1,ruleFailed&&reporter.report(\"@font-face declaration doesn't follow the fontspring bulletproof syntax.\",line,col,rule)})}}),CSSLint.addRule({id:\"compatible-vendor-prefixes\",name:\"Require compatible vendor prefixes\",desc:\"Include all compatible vendor prefixes to reach a wider range of users.\",browsers:\"All\",init:function(parser,reporter){var compatiblePrefixes,properties,prop,variations,prefixed,i,len,rule=this,inKeyFrame=!1,arrayPush=Array.prototype.push,applyTo=[];compatiblePrefixes={animation:\"webkit moz\",\"animation-delay\":\"webkit moz\",\"animation-direction\":\"webkit moz\",\"animation-duration\":\"webkit moz\",\"animation-fill-mode\":\"webkit moz\",\"animation-iteration-count\":\"webkit moz\",\"animation-name\":\"webkit moz\",\"animation-play-state\":\"webkit moz\",\"animation-timing-function\":\"webkit moz\",appearance:\"webkit moz\",\"border-end\":\"webkit moz\",\"border-end-color\":\"webkit moz\",\"border-end-style\":\"webkit moz\",\"border-end-width\":\"webkit moz\",\"border-image\":\"webkit moz o\",\"border-radius\":\"webkit\",\"border-start\":\"webkit moz\",\"border-start-color\":\"webkit moz\",\"border-start-style\":\"webkit moz\",\"border-start-width\":\"webkit moz\",\"box-align\":\"webkit moz ms\",\"box-direction\":\"webkit moz ms\",\"box-flex\":\"webkit moz ms\",\"box-lines\":\"webkit ms\",\"box-ordinal-group\":\"webkit moz ms\",\"box-orient\":\"webkit moz ms\",\"box-pack\":\"webkit moz ms\",\"box-sizing\":\"webkit moz\",\"box-shadow\":\"webkit moz\",\"column-count\":\"webkit moz ms\",\"column-gap\":\"webkit moz ms\",\"column-rule\":\"webkit moz ms\",\"column-rule-color\":\"webkit moz ms\",\"column-rule-style\":\"webkit moz ms\",\"column-rule-width\":\"webkit moz ms\",\"column-width\":\"webkit moz ms\",hyphens:\"epub moz\",\"line-break\":\"webkit ms\",\"margin-end\":\"webkit moz\",\"margin-start\":\"webkit moz\",\"marquee-speed\":\"webkit wap\",\"marquee-style\":\"webkit wap\",\"padding-end\":\"webkit moz\",\"padding-start\":\"webkit moz\",\"tab-size\":\"moz o\",\"text-size-adjust\":\"webkit ms\",transform:\"webkit moz ms o\",\"transform-origin\":\"webkit moz ms o\",transition:\"webkit moz o\",\"transition-delay\":\"webkit moz o\",\"transition-duration\":\"webkit moz o\",\"transition-property\":\"webkit moz o\",\"transition-timing-function\":\"webkit moz o\",\"user-modify\":\"webkit moz\",\"user-select\":\"webkit moz ms\",\"word-break\":\"epub ms\",\"writing-mode\":\"epub ms\"};for(prop in compatiblePrefixes)if(compatiblePrefixes.hasOwnProperty(prop)){for(variations=[],prefixed=compatiblePrefixes[prop].split(\" \"),i=0,len=prefixed.length;len>i;i++)variations.push(\"-\"+prefixed[i]+\"-\"+prop);compatiblePrefixes[prop]=variations,arrayPush.apply(applyTo,variations)}parser.addListener(\"startrule\",function(){properties=[]}),parser.addListener(\"startkeyframes\",function(event){inKeyFrame=event.prefix||!0}),parser.addListener(\"endkeyframes\",function(){inKeyFrame=!1}),parser.addListener(\"property\",function(event){var name=event.property;CSSLint.Util.indexOf(applyTo,name.text)>-1&&(inKeyFrame&&\"string\"==typeof inKeyFrame&&0===name.text.indexOf(\"-\"+inKeyFrame+\"-\")||properties.push(name))}),parser.addListener(\"endrule\",function(){if(properties.length){var i,len,name,prop,variations,value,full,actual,item,propertiesSpecified,propertyGroups={};for(i=0,len=properties.length;len>i;i++){name=properties[i];for(prop in compatiblePrefixes)compatiblePrefixes.hasOwnProperty(prop)&&(variations=compatiblePrefixes[prop],CSSLint.Util.indexOf(variations,name.text)>-1&&(propertyGroups[prop]||(propertyGroups[prop]={full:variations.slice(0),actual:[],actualNodes:[]}),-1===CSSLint.Util.indexOf(propertyGroups[prop].actual,name.text)&&(propertyGroups[prop].actual.push(name.text),propertyGroups[prop].actualNodes.push(name))))}for(prop in propertyGroups)if(propertyGroups.hasOwnProperty(prop)&&(value=propertyGroups[prop],full=value.full,actual=value.actual,full.length>actual.length))for(i=0,len=full.length;len>i;i++)item=full[i],-1===CSSLint.Util.indexOf(actual,item)&&(propertiesSpecified=1===actual.length?actual[0]:2===actual.length?actual.join(\" and \"):actual.join(\", \"),reporter.report(\"The property \"+item+\" is compatible with \"+propertiesSpecified+\" and should be included as well.\",value.actualNodes[0].line,value.actualNodes[0].col,rule))}})}}),CSSLint.addRule({id:\"display-property-grouping\",name:\"Require properties appropriate for display\",desc:\"Certain properties shouldn't be used with certain display property values.\",browsers:\"All\",init:function(parser,reporter){function reportProperty(name,display,msg){properties[name]&&(\"string\"!=typeof propertiesToCheck[name]||properties[name].value.toLowerCase()!==propertiesToCheck[name])&&reporter.report(msg||name+\" can't be used with display: \"+display+\".\",properties[name].line,properties[name].col,rule)}function startRule(){properties={}}function endRule(){var display=properties.display?properties.display.value:null;if(display)switch(display){case\"inline\":reportProperty(\"height\",display),reportProperty(\"width\",display),reportProperty(\"margin\",display),reportProperty(\"margin-top\",display),reportProperty(\"margin-bottom\",display),reportProperty(\"float\",display,\"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).\");break;case\"block\":reportProperty(\"vertical-align\",display);break;case\"inline-block\":reportProperty(\"float\",display);break;default:0===display.indexOf(\"table-\")&&(reportProperty(\"margin\",display),reportProperty(\"margin-left\",display),reportProperty(\"margin-right\",display),reportProperty(\"margin-top\",display),reportProperty(\"margin-bottom\",display),reportProperty(\"float\",display))\n}}var properties,rule=this,propertiesToCheck={display:1,\"float\":\"none\",height:1,width:1,margin:1,\"margin-left\":1,\"margin-right\":1,\"margin-bottom\":1,\"margin-top\":1,padding:1,\"padding-left\":1,\"padding-right\":1,\"padding-bottom\":1,\"padding-top\":1,\"vertical-align\":1};parser.addListener(\"startrule\",startRule),parser.addListener(\"startfontface\",startRule),parser.addListener(\"startkeyframerule\",startRule),parser.addListener(\"startpagemargin\",startRule),parser.addListener(\"startpage\",startRule),parser.addListener(\"property\",function(event){var name=event.property.text.toLowerCase();propertiesToCheck[name]&&(properties[name]={value:event.value.text,line:event.property.line,col:event.property.col})}),parser.addListener(\"endrule\",endRule),parser.addListener(\"endfontface\",endRule),parser.addListener(\"endkeyframerule\",endRule),parser.addListener(\"endpagemargin\",endRule),parser.addListener(\"endpage\",endRule)}}),CSSLint.addRule({id:\"duplicate-background-images\",name:\"Disallow duplicate background images\",desc:\"Every background-image should be unique. Use a common class for e.g. sprites.\",browsers:\"All\",init:function(parser,reporter){var rule=this,stack={};parser.addListener(\"property\",function(event){var i,len,name=event.property.text,value=event.value;if(name.match(/background/i))for(i=0,len=value.parts.length;len>i;i++)\"uri\"===value.parts[i].type&&(stack[value.parts[i].uri]===void 0?stack[value.parts[i].uri]=event:reporter.report(\"Background image '\"+value.parts[i].uri+\"' was used multiple times, first declared at line \"+stack[value.parts[i].uri].line+\", col \"+stack[value.parts[i].uri].col+\".\",event.line,event.col,rule))})}}),CSSLint.addRule({id:\"duplicate-properties\",name:\"Disallow duplicate properties\",desc:\"Duplicate properties must appear one after the other.\",browsers:\"All\",init:function(parser,reporter){function startRule(){properties={}}var properties,lastProperty,rule=this;parser.addListener(\"startrule\",startRule),parser.addListener(\"startfontface\",startRule),parser.addListener(\"startpage\",startRule),parser.addListener(\"startpagemargin\",startRule),parser.addListener(\"startkeyframerule\",startRule),parser.addListener(\"property\",function(event){var property=event.property,name=property.text.toLowerCase();!properties[name]||lastProperty===name&&properties[name]!==event.value.text||reporter.report(\"Duplicate property '\"+event.property+\"' found.\",event.line,event.col,rule),properties[name]=event.value.text,lastProperty=name})}}),CSSLint.addRule({id:\"empty-rules\",name:\"Disallow empty rules\",desc:\"Rules without any properties specified should be removed.\",browsers:\"All\",init:function(parser,reporter){var rule=this,count=0;parser.addListener(\"startrule\",function(){count=0}),parser.addListener(\"property\",function(){count++}),parser.addListener(\"endrule\",function(event){var selectors=event.selectors;0===count&&reporter.report(\"Rule is empty.\",selectors[0].line,selectors[0].col,rule)})}}),CSSLint.addRule({id:\"errors\",name:\"Parsing Errors\",desc:\"This rule looks for recoverable syntax errors.\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"error\",function(event){reporter.error(event.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:\"fallback-colors\",name:\"Require fallback colors\",desc:\"For older browsers that don't support RGBA, HSL, or HSLA, provide a fallback color.\",browsers:\"IE6,IE7,IE8\",init:function(parser,reporter){function startRule(){properties={},lastProperty=null}var lastProperty,properties,rule=this,propertiesToCheck={color:1,background:1,\"border-color\":1,\"border-top-color\":1,\"border-right-color\":1,\"border-bottom-color\":1,\"border-left-color\":1,border:1,\"border-top\":1,\"border-right\":1,\"border-bottom\":1,\"border-left\":1,\"background-color\":1};parser.addListener(\"startrule\",startRule),parser.addListener(\"startfontface\",startRule),parser.addListener(\"startpage\",startRule),parser.addListener(\"startpagemargin\",startRule),parser.addListener(\"startkeyframerule\",startRule),parser.addListener(\"property\",function(event){var property=event.property,name=property.text.toLowerCase(),parts=event.value.parts,i=0,colorType=\"\",len=parts.length;if(propertiesToCheck[name])for(;len>i;)\"color\"===parts[i].type&&(\"alpha\"in parts[i]||\"hue\"in parts[i]?(/([^\\)]+)\\(/.test(parts[i])&&(colorType=RegExp.$1.toUpperCase()),lastProperty&&lastProperty.property.text.toLowerCase()===name&&\"compat\"===lastProperty.colorType||reporter.report(\"Fallback \"+name+\" (hex or RGB) should precede \"+colorType+\" \"+name+\".\",event.line,event.col,rule)):event.colorType=\"compat\"),i++;lastProperty=event})}}),CSSLint.addRule({id:\"floats\",name:\"Disallow too many floats\",desc:\"This rule tests if the float property is used too many times\",browsers:\"All\",init:function(parser,reporter){var rule=this,count=0;parser.addListener(\"property\",function(event){\"float\"===event.property.text.toLowerCase()&&\"none\"!==event.value.text.toLowerCase()&&count++}),parser.addListener(\"endstylesheet\",function(){reporter.stat(\"floats\",count),count>=10&&reporter.rollupWarn(\"Too many floats (\"+count+\"), you're probably using them for layout. Consider using a grid system instead.\",rule)})}}),CSSLint.addRule({id:\"font-faces\",name:\"Don't use too many web fonts\",desc:\"Too many different web fonts in the same stylesheet.\",browsers:\"All\",init:function(parser,reporter){var rule=this,count=0;parser.addListener(\"startfontface\",function(){count++}),parser.addListener(\"endstylesheet\",function(){count>5&&reporter.rollupWarn(\"Too many @font-face declarations (\"+count+\").\",rule)})}}),CSSLint.addRule({id:\"font-sizes\",name:\"Disallow too many font sizes\",desc:\"Checks the number of font-size declarations.\",browsers:\"All\",init:function(parser,reporter){var rule=this,count=0;parser.addListener(\"property\",function(event){\"font-size\"==\"\"+event.property&&count++}),parser.addListener(\"endstylesheet\",function(){reporter.stat(\"font-sizes\",count),count>=10&&reporter.rollupWarn(\"Too many font-size declarations (\"+count+\"), abstraction needed.\",rule)})}}),CSSLint.addRule({id:\"gradients\",name:\"Require all gradient definitions\",desc:\"When using a vendor-prefixed gradient, make sure to use them all.\",browsers:\"All\",init:function(parser,reporter){var gradients,rule=this;parser.addListener(\"startrule\",function(){gradients={moz:0,webkit:0,oldWebkit:0,o:0}}),parser.addListener(\"property\",function(event){/\\-(moz|o|webkit)(?:\\-(?:linear|radial))\\-gradient/i.test(event.value)?gradients[RegExp.$1]=1:/\\-webkit\\-gradient/i.test(event.value)&&(gradients.oldWebkit=1)}),parser.addListener(\"endrule\",function(event){var missing=[];gradients.moz||missing.push(\"Firefox 3.6+\"),gradients.webkit||missing.push(\"Webkit (Safari 5+, Chrome)\"),gradients.oldWebkit||missing.push(\"Old Webkit (Safari 4+, Chrome)\"),gradients.o||missing.push(\"Opera 11.1+\"),missing.length&&4>missing.length&&reporter.report(\"Missing vendor-prefixed CSS gradients for \"+missing.join(\", \")+\".\",event.selectors[0].line,event.selectors[0].col,rule)})}}),CSSLint.addRule({id:\"ids\",name:\"Disallow IDs in selectors\",desc:\"Selectors should not contain IDs.\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"startrule\",function(event){var selector,part,modifier,idCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++){for(selector=selectors[i],idCount=0,j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],\"id\"===modifier.type&&idCount++;1===idCount?reporter.report(\"Don't use IDs in selectors.\",selector.line,selector.col,rule):idCount>1&&reporter.report(idCount+\" IDs in the selector, really?\",selector.line,selector.col,rule)}})}}),CSSLint.addRule({id:\"import\",name:\"Disallow @import\",desc:\"Don't use @import, use <link> instead.\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"import\",function(event){reporter.report(\"@import prevents parallel downloads, use <link> instead.\",event.line,event.col,rule)})}}),CSSLint.addRule({id:\"important\",name:\"Disallow !important\",desc:\"Be careful when using !important declaration\",browsers:\"All\",init:function(parser,reporter){var rule=this,count=0;parser.addListener(\"property\",function(event){event.important===!0&&(count++,reporter.report(\"Use of !important\",event.line,event.col,rule))}),parser.addListener(\"endstylesheet\",function(){reporter.stat(\"important\",count),count>=10&&reporter.rollupWarn(\"Too many !important declarations (\"+count+\"), try to use less than 10 to avoid specificity issues.\",rule)})}}),CSSLint.addRule({id:\"known-properties\",name:\"Require use of known properties\",desc:\"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"property\",function(event){event.invalid&&reporter.report(event.invalid.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:\"order-alphabetical\",name:\"Alphabetical order\",desc:\"Assure properties are in alphabetical order\",browsers:\"All\",init:function(parser,reporter){var properties,rule=this,startRule=function(){properties=[]};parser.addListener(\"startrule\",startRule),parser.addListener(\"startfontface\",startRule),parser.addListener(\"startpage\",startRule),parser.addListener(\"startpagemargin\",startRule),parser.addListener(\"startkeyframerule\",startRule),parser.addListener(\"property\",function(event){var name=event.property.text,lowerCasePrefixLessName=name.toLowerCase().replace(/^-.*?-/,\"\");properties.push(lowerCasePrefixLessName)}),parser.addListener(\"endrule\",function(event){var currentProperties=properties.join(\",\"),expectedProperties=properties.sort().join(\",\");currentProperties!==expectedProperties&&reporter.report(\"Rule doesn't have all its properties in alphabetical ordered.\",event.line,event.col,rule)})}}),CSSLint.addRule({id:\"outline-none\",name:\"Disallow outline: none\",desc:\"Use of outline: none or outline: 0 should be limited to :focus rules.\",browsers:\"All\",tags:[\"Accessibility\"],init:function(parser,reporter){function startRule(event){lastRule=event.selectors?{line:event.line,col:event.col,selectors:event.selectors,propCount:0,outline:!1}:null}function endRule(){lastRule&&lastRule.outline&&(-1===(\"\"+lastRule.selectors).toLowerCase().indexOf(\":focus\")?reporter.report(\"Outlines should only be modified using :focus.\",lastRule.line,lastRule.col,rule):1===lastRule.propCount&&reporter.report(\"Outlines shouldn't be hidden unless other visual changes are made.\",lastRule.line,lastRule.col,rule))}var lastRule,rule=this;parser.addListener(\"startrule\",startRule),parser.addListener(\"startfontface\",startRule),parser.addListener(\"startpage\",startRule),parser.addListener(\"startpagemargin\",startRule),parser.addListener(\"startkeyframerule\",startRule),parser.addListener(\"property\",function(event){var name=event.property.text.toLowerCase(),value=event.value;lastRule&&(lastRule.propCount++,\"outline\"!==name||\"none\"!=\"\"+value&&\"0\"!=\"\"+value||(lastRule.outline=!0))}),parser.addListener(\"endrule\",endRule),parser.addListener(\"endfontface\",endRule),parser.addListener(\"endpage\",endRule),parser.addListener(\"endpagemargin\",endRule),parser.addListener(\"endkeyframerule\",endRule)}}),CSSLint.addRule({id:\"overqualified-elements\",name:\"Disallow overqualified elements\",desc:\"Don't use classes or IDs with elements (a.foo or a#foo).\",browsers:\"All\",init:function(parser,reporter){var rule=this,classes={};parser.addListener(\"startrule\",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],part.elementName&&\"id\"===modifier.type?reporter.report(\"Element (\"+part+\") is overqualified, just use \"+modifier+\" without element name.\",part.line,part.col,rule):\"class\"===modifier.type&&(classes[modifier]||(classes[modifier]=[]),classes[modifier].push({modifier:modifier,part:part}))}),parser.addListener(\"endstylesheet\",function(){var prop;for(prop in classes)classes.hasOwnProperty(prop)&&1===classes[prop].length&&classes[prop][0].part.elementName&&reporter.report(\"Element (\"+classes[prop][0].part+\") is overqualified, just use \"+classes[prop][0].modifier+\" without element name.\",classes[prop][0].part.line,classes[prop][0].part.col,rule)})}}),CSSLint.addRule({id:\"qualified-headings\",name:\"Disallow qualified headings\",desc:\"Headings should not be qualified (namespaced).\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"startrule\",function(event){var selector,part,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE&&part.elementName&&/h[1-6]/.test(\"\"+part.elementName)&&j>0&&reporter.report(\"Heading (\"+part.elementName+\") should not be qualified.\",part.line,part.col,rule)})}}),CSSLint.addRule({id:\"regex-selectors\",name:\"Disallow selectors that look like regexs\",desc:\"Selectors that look like regular expressions are slow and should be avoided.\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"startrule\",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],\"attribute\"===modifier.type&&/([\\~\\|\\^\\$\\*]=)/.test(modifier)&&reporter.report(\"Attribute selectors with \"+RegExp.$1+\" are slow!\",modifier.line,modifier.col,rule)})}}),CSSLint.addRule({id:\"rules-count\",name:\"Rules Count\",desc:\"Track how many rules there are.\",browsers:\"All\",init:function(parser,reporter){var count=0;parser.addListener(\"startrule\",function(){count++}),parser.addListener(\"endstylesheet\",function(){reporter.stat(\"rule-count\",count)})}}),CSSLint.addRule({id:\"selector-max-approaching\",name:\"Warn when approaching the 4095 selector limit for IE\",desc:\"Will warn when selector count is >= 3800 selectors.\",browsers:\"IE\",init:function(parser,reporter){var rule=this,count=0;parser.addListener(\"startrule\",function(event){count+=event.selectors.length}),parser.addListener(\"endstylesheet\",function(){count>=3800&&reporter.report(\"You have \"+count+\" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.\",0,0,rule)})}}),CSSLint.addRule({id:\"selector-max\",name:\"Error when past the 4095 selector limit for IE\",desc:\"Will error when selector count is > 4095.\",browsers:\"IE\",init:function(parser,reporter){var rule=this,count=0;parser.addListener(\"startrule\",function(event){count+=event.selectors.length}),parser.addListener(\"endstylesheet\",function(){count>4095&&reporter.report(\"You have \"+count+\" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.\",0,0,rule)})}}),CSSLint.addRule({id:\"selector-newline\",name:\"Disallow new-line characters in selectors\",desc:\"New-line characters in selectors are usually a forgotten comma and not a descendant combinator.\",browsers:\"All\",init:function(parser,reporter){function startRule(event){var i,len,selector,p,n,pLen,part,part2,type,currentLine,nextLine,selectors=event.selectors;for(i=0,len=selectors.length;len>i;i++)for(selector=selectors[i],p=0,pLen=selector.parts.length;pLen>p;p++)for(n=p+1;pLen>n;n++)part=selector.parts[p],part2=selector.parts[n],type=part.type,currentLine=part.line,nextLine=part2.line,\"descendant\"===type&&nextLine>currentLine&&reporter.report(\"newline character found in selector (forgot a comma?)\",currentLine,selectors[i].parts[0].col,rule)}var rule=this;parser.addListener(\"startrule\",startRule)}}),CSSLint.addRule({id:\"shorthand\",name:\"Require shorthand properties\",desc:\"Use shorthand properties where possible.\",browsers:\"All\",init:function(parser,reporter){function startRule(){properties={}}function endRule(event){var prop,i,len,total;for(prop in mapping)if(mapping.hasOwnProperty(prop)){for(total=0,i=0,len=mapping[prop].length;len>i;i++)total+=properties[mapping[prop][i]]?1:0;total===mapping[prop].length&&reporter.report(\"The properties \"+mapping[prop].join(\", \")+\" can be replaced by \"+prop+\".\",event.line,event.col,rule)}}var prop,i,len,properties,rule=this,propertiesToCheck={},mapping={margin:[\"margin-top\",\"margin-bottom\",\"margin-left\",\"margin-right\"],padding:[\"padding-top\",\"padding-bottom\",\"padding-left\",\"padding-right\"]};for(prop in mapping)if(mapping.hasOwnProperty(prop))for(i=0,len=mapping[prop].length;len>i;i++)propertiesToCheck[mapping[prop][i]]=prop;parser.addListener(\"startrule\",startRule),parser.addListener(\"startfontface\",startRule),parser.addListener(\"property\",function(event){var name=(\"\"+event.property).toLowerCase();propertiesToCheck[name]&&(properties[name]=1)}),parser.addListener(\"endrule\",endRule),parser.addListener(\"endfontface\",endRule)}}),CSSLint.addRule({id:\"star-property-hack\",name:\"Disallow properties with a star prefix\",desc:\"Checks for the star property hack (targets IE6/7)\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"property\",function(event){var property=event.property;\"*\"===property.hack&&reporter.report(\"Property with star prefix found.\",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:\"text-indent\",name:\"Disallow negative text-indent\",desc:\"Checks for text indent less than -99px\",browsers:\"All\",init:function(parser,reporter){function startRule(){textIndent=!1,direction=\"inherit\"}function endRule(){textIndent&&\"ltr\"!==direction&&reporter.report(\"Negative text-indent doesn't work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.\",textIndent.line,textIndent.col,rule)}var textIndent,direction,rule=this;parser.addListener(\"startrule\",startRule),parser.addListener(\"startfontface\",startRule),parser.addListener(\"property\",function(event){var name=(\"\"+event.property).toLowerCase(),value=event.value;\"text-indent\"===name&&-99>value.parts[0].value?textIndent=event.property:\"direction\"===name&&\"ltr\"==\"\"+value&&(direction=\"ltr\")}),parser.addListener(\"endrule\",endRule),parser.addListener(\"endfontface\",endRule)}}),CSSLint.addRule({id:\"underscore-property-hack\",name:\"Disallow properties with an underscore prefix\",desc:\"Checks for the underscore property hack (targets IE6)\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"property\",function(event){var property=event.property;\"_\"===property.hack&&reporter.report(\"Property with underscore prefix found.\",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:\"unique-headings\",name:\"Headings should only be defined once\",desc:\"Headings should be defined only once.\",browsers:\"All\",init:function(parser,reporter){var rule=this,headings={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};parser.addListener(\"startrule\",function(event){var selector,part,pseudo,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.elementName&&/(h[1-6])/i.test(\"\"+part.elementName)){for(j=0;part.modifiers.length>j;j++)if(\"pseudo\"===part.modifiers[j].type){pseudo=!0;break}pseudo||(headings[RegExp.$1]++,headings[RegExp.$1]>1&&reporter.report(\"Heading (\"+part.elementName+\") has already been defined.\",part.line,part.col,rule))}}),parser.addListener(\"endstylesheet\",function(){var prop,messages=[];for(prop in headings)headings.hasOwnProperty(prop)&&headings[prop]>1&&messages.push(headings[prop]+\" \"+prop+\"s\");messages.length&&reporter.rollupWarn(\"You have \"+messages.join(\", \")+\" defined in this stylesheet.\",rule)})}}),CSSLint.addRule({id:\"universal-selector\",name:\"Disallow universal selector\",desc:\"The universal selector (*) is known to be slow.\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"startrule\",function(event){var selector,part,i,selectors=event.selectors;for(i=0;selectors.length>i;i++)selector=selectors[i],part=selector.parts[selector.parts.length-1],\"*\"===part.elementName&&reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:\"unqualified-attributes\",name:\"Disallow unqualified attribute selectors\",desc:\"Unqualified attribute selectors are known to be slow.\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"startrule\",function(event){var selector,part,modifier,i,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],\"attribute\"!==modifier.type||part.elementName&&\"*\"!==part.elementName||reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:\"vendor-prefix\",name:\"Require standard property with vendor prefix\",desc:\"When using a vendor-prefixed property, make sure to include the standard one.\",browsers:\"All\",init:function(parser,reporter){function startRule(){properties={},num=1}function endRule(){var prop,i,len,needed,actual,needsStandard=[];for(prop in properties)propertiesToCheck[prop]&&needsStandard.push({actual:prop,needed:propertiesToCheck[prop]});for(i=0,len=needsStandard.length;len>i;i++)needed=needsStandard[i].needed,actual=needsStandard[i].actual,properties[needed]?properties[needed][0].pos<properties[actual][0].pos&&reporter.report(\"Standard property '\"+needed+\"' should come after vendor-prefixed property '\"+actual+\"'.\",properties[actual][0].name.line,properties[actual][0].name.col,rule):reporter.report(\"Missing standard property '\"+needed+\"' to go along with '\"+actual+\"'.\",properties[actual][0].name.line,properties[actual][0].name.col,rule)}var properties,num,rule=this,propertiesToCheck={\"-webkit-border-radius\":\"border-radius\",\"-webkit-border-top-left-radius\":\"border-top-left-radius\",\"-webkit-border-top-right-radius\":\"border-top-right-radius\",\"-webkit-border-bottom-left-radius\":\"border-bottom-left-radius\",\"-webkit-border-bottom-right-radius\":\"border-bottom-right-radius\",\"-o-border-radius\":\"border-radius\",\"-o-border-top-left-radius\":\"border-top-left-radius\",\"-o-border-top-right-radius\":\"border-top-right-radius\",\"-o-border-bottom-left-radius\":\"border-bottom-left-radius\",\"-o-border-bottom-right-radius\":\"border-bottom-right-radius\",\"-moz-border-radius\":\"border-radius\",\"-moz-border-radius-topleft\":\"border-top-left-radius\",\"-moz-border-radius-topright\":\"border-top-right-radius\",\"-moz-border-radius-bottomleft\":\"border-bottom-left-radius\",\"-moz-border-radius-bottomright\":\"border-bottom-right-radius\",\"-moz-column-count\":\"column-count\",\"-webkit-column-count\":\"column-count\",\"-moz-column-gap\":\"column-gap\",\"-webkit-column-gap\":\"column-gap\",\"-moz-column-rule\":\"column-rule\",\"-webkit-column-rule\":\"column-rule\",\"-moz-column-rule-style\":\"column-rule-style\",\"-webkit-column-rule-style\":\"column-rule-style\",\"-moz-column-rule-color\":\"column-rule-color\",\"-webkit-column-rule-color\":\"column-rule-color\",\"-moz-column-rule-width\":\"column-rule-width\",\"-webkit-column-rule-width\":\"column-rule-width\",\"-moz-column-width\":\"column-width\",\"-webkit-column-width\":\"column-width\",\"-webkit-column-span\":\"column-span\",\"-webkit-columns\":\"columns\",\"-moz-box-shadow\":\"box-shadow\",\"-webkit-box-shadow\":\"box-shadow\",\"-moz-transform\":\"transform\",\"-webkit-transform\":\"transform\",\"-o-transform\":\"transform\",\"-ms-transform\":\"transform\",\"-moz-transform-origin\":\"transform-origin\",\"-webkit-transform-origin\":\"transform-origin\",\"-o-transform-origin\":\"transform-origin\",\"-ms-transform-origin\":\"transform-origin\",\"-moz-box-sizing\":\"box-sizing\",\"-webkit-box-sizing\":\"box-sizing\"};parser.addListener(\"startrule\",startRule),parser.addListener(\"startfontface\",startRule),parser.addListener(\"startpage\",startRule),parser.addListener(\"startpagemargin\",startRule),parser.addListener(\"startkeyframerule\",startRule),parser.addListener(\"property\",function(event){var name=event.property.text.toLowerCase();properties[name]||(properties[name]=[]),properties[name].push({name:event.property,value:event.value,pos:num++})}),parser.addListener(\"endrule\",endRule),parser.addListener(\"endfontface\",endRule),parser.addListener(\"endpage\",endRule),parser.addListener(\"endpagemargin\",endRule),parser.addListener(\"endkeyframerule\",endRule)}}),CSSLint.addRule({id:\"zero-units\",name:\"Disallow units for 0 values\",desc:\"You don't need to specify units when a value is 0.\",browsers:\"All\",init:function(parser,reporter){var rule=this;parser.addListener(\"property\",function(event){for(var parts=event.value.parts,i=0,len=parts.length;len>i;)!parts[i].units&&\"percentage\"!==parts[i].type||0!==parts[i].value||\"time\"===parts[i].type||reporter.report(\"Values of 0 shouldn't have units specified.\",parts[i].line,parts[i].col,rule),i++})}}),function(){var xmlEscape=function(str){return str&&str.constructor===String?str.replace(/[\\\"&><]/g,function(match){switch(match){case'\"':return\"&quot;\";case\"&\":return\"&amp;\";case\"<\":return\"&lt;\";case\">\":return\"&gt;\"}}):\"\"};CSSLint.addFormatter({id:\"checkstyle-xml\",name:\"Checkstyle XML format\",startFormat:function(){return'<?xml version=\"1.0\" encoding=\"utf-8\"?><checkstyle>'},endFormat:function(){return\"</checkstyle>\"},readError:function(filename,message){return'<file name=\"'+xmlEscape(filename)+'\"><error line=\"0\" column=\"0\" severty=\"error\" message=\"'+xmlEscape(message)+'\"></error></file>'},formatResults:function(results,filename){var messages=results.messages,output=[],generateSource=function(rule){return rule&&\"name\"in rule?\"net.csslint.\"+rule.name.replace(/\\s/g,\"\"):\"\"};return messages.length>0&&(output.push('<file name=\"'+filename+'\">'),CSSLint.Util.forEach(messages,function(message){message.rollup||output.push('<error line=\"'+message.line+'\" column=\"'+message.col+'\" severity=\"'+message.type+'\"'+' message=\"'+xmlEscape(message.message)+'\" source=\"'+generateSource(message.rule)+'\"/>')}),output.push(\"</file>\")),output.join(\"\")}})}(),CSSLint.addFormatter({id:\"compact\",name:\"Compact, 'porcelain' format\",startFormat:function(){return\"\"},endFormat:function(){return\"\"},formatResults:function(results,filename,options){var messages=results.messages,output=\"\";options=options||{};var capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)};return 0===messages.length?options.quiet?\"\":filename+\": Lint Free!\":(CSSLint.Util.forEach(messages,function(message){output+=message.rollup?filename+\": \"+capitalize(message.type)+\" - \"+message.message+\"\\n\":filename+\": \"+\"line \"+message.line+\", col \"+message.col+\", \"+capitalize(message.type)+\" - \"+message.message+\" (\"+message.rule.id+\")\\n\"}),output)}}),CSSLint.addFormatter({id:\"csslint-xml\",name:\"CSSLint XML format\",startFormat:function(){return'<?xml version=\"1.0\" encoding=\"utf-8\"?><csslint>'},endFormat:function(){return\"</csslint>\"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\\"/g,\"'\").replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\"):\"\"};return messages.length>0&&(output.push('<file name=\"'+filename+'\">'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push('<issue severity=\"'+message.type+'\" reason=\"'+escapeSpecialCharacters(message.message)+'\" evidence=\"'+escapeSpecialCharacters(message.evidence)+'\"/>'):output.push('<issue line=\"'+message.line+'\" char=\"'+message.col+'\" severity=\"'+message.type+'\"'+' reason=\"'+escapeSpecialCharacters(message.message)+'\" evidence=\"'+escapeSpecialCharacters(message.evidence)+'\"/>')}),output.push(\"</file>\")),output.join(\"\")}}),CSSLint.addFormatter({id:\"junit-xml\",name:\"JUNIT XML format\",startFormat:function(){return'<?xml version=\"1.0\" encoding=\"utf-8\"?><testsuites>'},endFormat:function(){return\"</testsuites>\"},formatResults:function(results,filename){var messages=results.messages,output=[],tests={error:0,failure:0},generateSource=function(rule){return rule&&\"name\"in rule?\"net.csslint.\"+rule.name.replace(/\\s/g,\"\"):\"\"},escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\\"/g,\"'\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\"):\"\"};return messages.length>0&&(messages.forEach(function(message){var type=\"warning\"===message.type?\"error\":message.type;message.rollup||(output.push('<testcase time=\"0\" name=\"'+generateSource(message.rule)+'\">'),output.push(\"<\"+type+' message=\"'+escapeSpecialCharacters(message.message)+'\"><![CDATA['+message.line+\":\"+message.col+\":\"+escapeSpecialCharacters(message.evidence)+\"]]></\"+type+\">\"),output.push(\"</testcase>\"),tests[type]+=1)}),output.unshift('<testsuite time=\"0\" tests=\"'+messages.length+'\" skipped=\"0\" errors=\"'+tests.error+'\" failures=\"'+tests.failure+'\" package=\"net.csslint\" name=\"'+filename+'\">'),output.push(\"</testsuite>\")),output.join(\"\")}}),CSSLint.addFormatter({id:\"lint-xml\",name:\"Lint XML format\",startFormat:function(){return'<?xml version=\"1.0\" encoding=\"utf-8\"?><lint>'},endFormat:function(){return\"</lint>\"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\\"/g,\"'\").replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\"):\"\"};return messages.length>0&&(output.push('<file name=\"'+filename+'\">'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push('<issue severity=\"'+message.type+'\" reason=\"'+escapeSpecialCharacters(message.message)+'\" evidence=\"'+escapeSpecialCharacters(message.evidence)+'\"/>'):output.push('<issue line=\"'+message.line+'\" char=\"'+message.col+'\" severity=\"'+message.type+'\"'+' reason=\"'+escapeSpecialCharacters(message.message)+'\" evidence=\"'+escapeSpecialCharacters(message.evidence)+'\"/>')}),output.push(\"</file>\")),output.join(\"\")}}),CSSLint.addFormatter({id:\"text\",name:\"Plain Text\",startFormat:function(){return\"\"},endFormat:function(){return\"\"},formatResults:function(results,filename,options){var messages=results.messages,output=\"\";if(options=options||{},0===messages.length)return options.quiet?\"\":\"\\n\\ncsslint: No errors in \"+filename+\".\";output=\"\\n\\ncsslint: There \",output+=1===messages.length?\"is 1 problem\":\"are \"+messages.length+\" problems\",output+=\" in \"+filename+\".\";var pos=filename.lastIndexOf(\"/\"),shortFilename=filename;return-1===pos&&(pos=filename.lastIndexOf(\"\\\\\")),pos>-1&&(shortFilename=filename.substring(pos+1)),CSSLint.Util.forEach(messages,function(message,i){output=output+\"\\n\\n\"+shortFilename,message.rollup?(output+=\"\\n\"+(i+1)+\": \"+message.type,output+=\"\\n\"+message.message):(output+=\"\\n\"+(i+1)+\": \"+message.type+\" at line \"+message.line+\", col \"+message.col,output+=\"\\n\"+message.message,output+=\"\\n\"+message.evidence)}),output}}),module.exports.CSSLint=CSSLint}),ace.define(\"ace/mode/css_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/worker/mirror\",\"ace/mode/css/csslint\"],function(acequire,exports){\"use strict\";var oop=acequire(\"../lib/oop\"),lang=acequire(\"../lib/lang\"),Mirror=acequire(\"../worker/mirror\").Mirror,CSSLint=acequire(\"./css/csslint\").CSSLint,Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.ruleset=null,this.setDisabledRules(\"ids|order-alphabetical\"),this.setInfoRules(\"adjoining-classes|qualified-headings|zero-units|gradients|import|outline-none|vendor-prefix\")};oop.inherits(Worker,Mirror),function(){this.setInfoRules=function(ruleNames){\"string\"==typeof ruleNames&&(ruleNames=ruleNames.split(\"|\")),this.infoRules=lang.arrayToMap(ruleNames),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.setDisabledRules=function(ruleNames){if(ruleNames){\"string\"==typeof ruleNames&&(ruleNames=ruleNames.split(\"|\"));var all={};CSSLint.getRules().forEach(function(x){all[x.id]=!0}),ruleNames.forEach(function(x){delete all[x]}),this.ruleset=all}else this.ruleset=null;this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.onUpdate=function(){var value=this.doc.getValue();\nif(!value)return this.sender.emit(\"annotate\",[]);var infoRules=this.infoRules,result=CSSLint.verify(value,this.ruleset);this.sender.emit(\"annotate\",result.messages.map(function(msg){return{row:msg.line-1,column:msg.col-1,text:msg.message,type:infoRules[msg.rule.id]?\"info\":msg.type,rule:msg.rule.name}}))}}.call(Worker.prototype)}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\u000b\\f\\r   ᠎             　\\u2028\\u2029﻿\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}});";
}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/brace/worker/css.js","/../node_modules/brace/worker")
},{"buffer":8,"pBGvAp":10}],6:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
module.exports.id = 'ace/mode/html_worker';
module.exports.src = "\"no use strict\";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail=\"\";testPath;){var alias=paths[testPath];if(\"string\"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,\"/\")+(tail||alias.main||alias.name);if(alias===!1)return\"\";var i=testPath.lastIndexOf(\"/\");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:\"error\",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return window.normalizeModule(parentId,chunks[0])+\"!\"+window.normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=(base?base+\"/\":\"\")+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,\"\").replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log(\"unable to load \"+id);var path=resolveModuleId(id,window.acequire.tlns);return\".js\"!=path.slice(-3)&&(path+=\".js\"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),\"function\"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=[\"require\",\"exports\",\"module\"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case\"require\":return req;case\"exports\":return module.exports;case\"module\":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire(\"ace/lib/event_emitter\").EventEmitter,oop=window.acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error(\"Unknown command:\"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if(\"object\"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||\"\";switch(delta.action){case\"insert\":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case\"remove\":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert=\"insert\"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),applyDelta=acequire(\"./apply_delta\").applyDelta,EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(textOrLines){this.$lines=[\"\"],0===textOrLines.length?this.$lines=[\"\"]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0===\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\",this._signal(\"changeNewLineMode\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},this.$autoNewLine=\"\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal(\"changeNewLineMode\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(position,[\"\",\"\"])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:\"insert\",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([\"\"]),column=0):(lines=[\"\"].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:\"insert\",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:\"remove\",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:\"remove\",lines:[\"\",\"\"]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert=\"insert\"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal(\"change\",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(\"\"),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:\"insert\"==delta.action?\"remove\":\"insert\",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){\"use strict\";acequire(\"../range\").Range;var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:\"insert\",start:data[i],lines:data[i+1]};else var d={action:\"remove\",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define(\"ace/mode/html/saxparser\",[\"require\",\"exports\",\"module\"],function(acequire,exports,module){module.exports=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=\"function\"==typeof acequire&&acequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i=\"function\"==typeof acequire&&acequire,o=0;r.length>o;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){function isScopeMarker(node){return\"http://www.w3.org/1999/xhtml\"===node.namespaceURI?\"applet\"===node.localName||\"caption\"===node.localName||\"marquee\"===node.localName||\"object\"===node.localName||\"table\"===node.localName||\"td\"===node.localName||\"th\"===node.localName:\"http://www.w3.org/1998/Math/MathML\"===node.namespaceURI?\"mi\"===node.localName||\"mo\"===node.localName||\"mn\"===node.localName||\"ms\"===node.localName||\"mtext\"===node.localName||\"annotation-xml\"===node.localName:\"http://www.w3.org/2000/svg\"===node.namespaceURI?\"foreignObject\"===node.localName||\"desc\"===node.localName||\"title\"===node.localName:void 0}function isListItemScopeMarker(node){return isScopeMarker(node)||\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"ol\"===node.localName||\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"ul\"===node.localName}function isTableScopeMarker(node){return\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"table\"===node.localName||\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"html\"===node.localName}function isTableBodyScopeMarker(node){return\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"tbody\"===node.localName||\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"tfoot\"===node.localName||\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"thead\"===node.localName||\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"html\"===node.localName}function isTableRowScopeMarker(node){return\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"tr\"===node.localName||\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"html\"===node.localName}function isButtonScopeMarker(node){return isScopeMarker(node)||\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"button\"===node.localName}function isSelectScopeMarker(node){return!(\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"optgroup\"===node.localName||\"http://www.w3.org/1999/xhtml\"===node.namespaceURI&&\"option\"===node.localName)}function ElementStack(){this.elements=[],this.rootNode=null,this.headElement=null,this.bodyElement=null}ElementStack.prototype._inScope=function(localName,isMarker){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.localName===localName)return!0;if(isMarker(node))return!1}},ElementStack.prototype.push=function(item){this.elements.push(item)},ElementStack.prototype.pushHtmlElement=function(item){this.rootNode=item.node,this.push(item)},ElementStack.prototype.pushHeadElement=function(item){this.headElement=item.node,this.push(item)},ElementStack.prototype.pushBodyElement=function(item){this.bodyElement=item.node,this.push(item)},ElementStack.prototype.pop=function(){return this.elements.pop()},ElementStack.prototype.remove=function(item){this.elements.splice(this.elements.indexOf(item),1)},ElementStack.prototype.popUntilPopped=function(localName){var element;do element=this.pop();while(element.localName!=localName)},ElementStack.prototype.popUntilTableScopeMarker=function(){for(;!isTableScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableBodyScopeMarker=function(){for(;!isTableBodyScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableRowScopeMarker=function(){for(;!isTableRowScopeMarker(this.top);)this.pop()},ElementStack.prototype.item=function(index){return this.elements[index]},ElementStack.prototype.contains=function(element){return-1!==this.elements.indexOf(element)},ElementStack.prototype.inScope=function(localName){return this._inScope(localName,isScopeMarker)},ElementStack.prototype.inListItemScope=function(localName){return this._inScope(localName,isListItemScopeMarker)},ElementStack.prototype.inTableScope=function(localName){return this._inScope(localName,isTableScopeMarker)},ElementStack.prototype.inButtonScope=function(localName){return this._inScope(localName,isButtonScopeMarker)},ElementStack.prototype.inSelectScope=function(localName){return this._inScope(localName,isSelectScopeMarker)},ElementStack.prototype.hasNumberedHeaderElementInScope=function(){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.isNumberedHeader())return!0;if(isScopeMarker(node))return!1}},ElementStack.prototype.furthestBlockForFormattingElement=function(element){for(var furthestBlock=null,i=this.elements.length-1;i>=0;i--){var node=this.elements[i];\nif(node.node===element)break;node.isSpecial()&&(furthestBlock=node)}return furthestBlock},ElementStack.prototype.findIndex=function(localName){for(var i=this.elements.length-1;i>=0;i--)if(this.elements[i].localName==localName)return i;return-1},ElementStack.prototype.remove_openElements_until=function(callback){for(var element,finished=!1;!finished;)element=this.elements.pop(),finished=callback(element);return element},Object.defineProperty(ElementStack.prototype,\"top\",{get:function(){return this.elements[this.elements.length-1]}}),Object.defineProperty(ElementStack.prototype,\"length\",{get:function(){return this.elements.length}}),exports.ElementStack=ElementStack},{}],2:[function(_dereq_,module,exports){function isAlphaNumeric(c){return c>=\"0\"&&\"9\">=c||c>=\"a\"&&\"z\">=c||c>=\"A\"&&\"Z\">=c}function isHexDigit(c){return c>=\"0\"&&\"9\">=c||c>=\"a\"&&\"f\">=c||c>=\"A\"&&\"F\">=c}function isDecimalDigit(c){return c>=\"0\"&&\"9\">=c}var entities=_dereq_(\"html5-entities\"),InputStream=_dereq_(\"./InputStream\").InputStream,namedEntityPrefixes={};Object.keys(entities).forEach(function(entityKey){for(var i=0;entityKey.length>i;i++)namedEntityPrefixes[entityKey.substring(0,i+1)]=!0});var EntityParser={};EntityParser.consumeEntity=function(buffer,tokenizer,additionalAllowedCharacter){var decodedCharacter=\"\",consumedCharacters=\"\",ch=buffer.char();if(ch===InputStream.EOF)return!1;if(consumedCharacters+=ch,\"\t\"==ch||\"\\n\"==ch||\"\u000b\"==ch||\" \"==ch||\"<\"==ch||\"&\"==ch)return buffer.unget(consumedCharacters),!1;if(additionalAllowedCharacter===ch)return buffer.unget(consumedCharacters),!1;if(\"#\"==ch){if(ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError(\"expected-numeric-entity-but-got-eof\"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch;var radix=10,isDigit=isDecimalDigit;if(\"x\"==ch||\"X\"==ch){if(radix=16,isDigit=isHexDigit,ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError(\"expected-numeric-entity-but-got-eof\"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch}if(isDigit(ch)){for(var code=\"\";ch!==InputStream.EOF&&isDigit(ch);)code+=ch,ch=buffer.char();code=parseInt(code,radix);var replacement=this.replaceEntityNumbers(code);if(replacement&&(tokenizer._parseError(\"invalid-numeric-entity-replaced\"),code=replacement),code>65535&&1114111>=code){code-=65536;var first=((1047552&code)>>10)+55296,second=(1023&code)+56320;decodedCharacter=String.fromCharCode(first,second)}else decodedCharacter=String.fromCharCode(code);return\";\"!==ch&&(tokenizer._parseError(\"numeric-entity-without-semicolon\"),buffer.unget(ch)),decodedCharacter}return buffer.unget(consumedCharacters),tokenizer._parseError(\"expected-numeric-entity\"),!1}if(ch>=\"a\"&&\"z\">=ch||ch>=\"A\"&&\"Z\">=ch){for(var mostRecentMatch=\"\";namedEntityPrefixes[consumedCharacters]&&(entities[consumedCharacters]&&(mostRecentMatch=consumedCharacters),\";\"!=ch)&&(ch=buffer.char(),ch!==InputStream.EOF);)consumedCharacters+=ch;return mostRecentMatch?(decodedCharacter=entities[mostRecentMatch],\";\"===ch||!additionalAllowedCharacter||!isAlphaNumeric(ch)&&\"=\"!==ch?(consumedCharacters.length>mostRecentMatch.length&&buffer.unget(consumedCharacters.substring(mostRecentMatch.length)),\";\"!==ch&&tokenizer._parseError(\"named-entity-without-semicolon\"),decodedCharacter):(buffer.unget(consumedCharacters),!1)):(tokenizer._parseError(\"expected-named-entity\"),buffer.unget(consumedCharacters),!1)}},EntityParser.replaceEntityNumbers=function(c){switch(c){case 0:return 65533;case 19:return 16;case 128:return 8364;case 129:return 129;case 130:return 8218;case 131:return 402;case 132:return 8222;case 133:return 8230;case 134:return 8224;case 135:return 8225;case 136:return 710;case 137:return 8240;case 138:return 352;case 139:return 8249;case 140:return 338;case 141:return 141;case 142:return 381;case 143:return 143;case 144:return 144;case 145:return 8216;case 146:return 8217;case 147:return 8220;case 148:return 8221;case 149:return 8226;case 150:return 8211;case 151:return 8212;case 152:return 732;case 153:return 8482;case 154:return 353;case 155:return 8250;case 156:return 339;case 157:return 157;case 158:return 382;case 159:return 376;default:if(c>=55296&&57343>=c||c>1114111)return 65533;if(c>=1&&8>=c||c>=14&&31>=c||c>=127&&159>=c||c>=64976&&65007>=c||11==c||65534==c||131070==c||3145726==c||196607==c||262142==c||262143==c||327678==c||327679==c||393214==c||393215==c||458750==c||458751==c||524286==c||524287==c||589822==c||589823==c||655358==c||655359==c||720894==c||720895==c||786430==c||786431==c||851966==c||851967==c||917502==c||917503==c||983038==c||983039==c||1048574==c||1048575==c||1114110==c||1114111==c)return c}},exports.EntityParser=EntityParser},{\"./InputStream\":3,\"html5-entities\":12}],3:[function(_dereq_,module,exports){function InputStream(){this.data=\"\",this.start=0,this.committed=0,this.eof=!1,this.lastLocation={line:0,column:0}}InputStream.EOF=-1,InputStream.DRAIN=-2,InputStream.prototype={slice:function(){if(this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}return this.data.slice(this.start,this.data.length)},\"char\":function(){if(!this.eof&&this.start>=this.data.length-1)throw InputStream.DRAIN;if(this.start>=this.data.length)return InputStream.EOF;var ch=this.data[this.start++];return\"\\r\"===ch&&(ch=\"\\n\"),ch},advance:function(amount){if(this.start+=amount,this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}this.committed>this.data.length/2&&(this.lastLocation=this.location(),this.data=this.data.slice(this.committed),this.start=this.start-this.committed,this.committed=0)},matchWhile:function(re){if(this.eof&&this.start>=this.data.length)return\"\";var r=RegExp(\"^\"+re+\"+\"),m=r.exec(this.slice());if(m){if(!this.eof&&m[0].length==this.data.length-this.start)throw InputStream.DRAIN;return this.advance(m[0].length),m[0]}return\"\"},matchUntil:function(re){var m,s;if(s=this.slice(),s===InputStream.EOF)return\"\";if(m=RegExp(re+(this.eof?\"|$\":\"\")).exec(s)){var t=this.data.slice(this.start,this.start+m.index);return this.advance(m.index),t.replace(/\\r/g,\"\\n\").replace(/\\n{2,}/g,\"\\n\")}throw InputStream.DRAIN},append:function(data){this.data+=data},shift:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;if(this.eof&&this.start>=this.data.length)return InputStream.EOF;var d=\"\"+this.data.slice(this.start,this.start+n);return this.advance(Math.min(n,this.data.length-this.start)),d},peek:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;return this.eof&&this.start>=this.data.length?InputStream.EOF:\"\"+this.data.slice(this.start,Math.min(this.start+n,this.data.length))},length:function(){return this.data.length-this.start-1},unget:function(d){d!==InputStream.EOF&&(this.start-=d.length)},undo:function(){this.start=this.committed},commit:function(){this.committed=this.start},location:function(){var lastLine=this.lastLocation.line,lastColumn=this.lastLocation.column,read=this.data.slice(0,this.committed),newlines=read.match(/\\n/g),line=newlines?lastLine+newlines.length:lastLine,column=newlines?read.length-read.lastIndexOf(\"\\n\")-1:lastColumn+read.length;return{line:line,column:column}}},exports.InputStream=InputStream},{}],4:[function(_dereq_,module,exports){function StackItem(namespaceURI,localName,attributes,node){this.localName=localName,this.namespaceURI=namespaceURI,this.attributes=attributes,this.node=node}function getAttribute(item,name){for(var i=0;item.attributes.length>i;i++)if(item.attributes[i].nodeName==name)return item.attributes[i].nodeValue;return null}var SpecialElements={\"http://www.w3.org/1999/xhtml\":[\"address\",\"applet\",\"area\",\"article\",\"aside\",\"base\",\"basefont\",\"bgsound\",\"blockquote\",\"body\",\"br\",\"button\",\"caption\",\"center\",\"col\",\"colgroup\",\"dd\",\"details\",\"dir\",\"div\",\"dl\",\"dt\",\"embed\",\"fieldset\",\"figcaption\",\"figure\",\"footer\",\"form\",\"frame\",\"frameset\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"iframe\",\"img\",\"input\",\"isindex\",\"li\",\"link\",\"listing\",\"main\",\"marquee\",\"menu\",\"menuitem\",\"meta\",\"nav\",\"noembed\",\"noframes\",\"noscript\",\"object\",\"ol\",\"p\",\"param\",\"plaintext\",\"pre\",\"script\",\"section\",\"select\",\"source\",\"style\",\"summary\",\"table\",\"tbody\",\"td\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"title\",\"tr\",\"track\",\"ul\",\"wbr\",\"xmp\"],\"http://www.w3.org/1998/Math/MathML\":[\"mi\",\"mo\",\"mn\",\"ms\",\"mtext\",\"annotation-xml\"],\"http://www.w3.org/2000/svg\":[\"foreignObject\",\"desc\",\"title\"]};StackItem.prototype.isSpecial=function(){return this.namespaceURI in SpecialElements&&SpecialElements[this.namespaceURI].indexOf(this.localName)>-1},StackItem.prototype.isFosterParenting=function(){return\"http://www.w3.org/1999/xhtml\"===this.namespaceURI?\"table\"===this.localName||\"tbody\"===this.localName||\"tfoot\"===this.localName||\"thead\"===this.localName||\"tr\"===this.localName:!1},StackItem.prototype.isNumberedHeader=function(){return\"http://www.w3.org/1999/xhtml\"===this.namespaceURI?\"h1\"===this.localName||\"h2\"===this.localName||\"h3\"===this.localName||\"h4\"===this.localName||\"h5\"===this.localName||\"h6\"===this.localName:!1},StackItem.prototype.isForeign=function(){return\"http://www.w3.org/1999/xhtml\"!=this.namespaceURI},StackItem.prototype.isHtmlIntegrationPoint=function(){if(\"http://www.w3.org/1998/Math/MathML\"===this.namespaceURI){if(\"annotation-xml\"!==this.localName)return!1;var encoding=getAttribute(this,\"encoding\");return encoding?(encoding=encoding.toLowerCase(),\"text/html\"===encoding||\"application/xhtml+xml\"===encoding):!1}return\"http://www.w3.org/2000/svg\"===this.namespaceURI?\"foreignObject\"===this.localName||\"desc\"===this.localName||\"title\"===this.localName:!1},StackItem.prototype.isMathMLTextIntegrationPoint=function(){return\"http://www.w3.org/1998/Math/MathML\"===this.namespaceURI?\"mi\"===this.localName||\"mo\"===this.localName||\"mn\"===this.localName||\"ms\"===this.localName||\"mtext\"===this.localName:!1},exports.StackItem=StackItem},{}],5:[function(_dereq_,module,exports){function isWhitespace(c){return\" \"===c||\"\\n\"===c||\"\t\"===c||\"\\r\"===c||\"\\f\"===c}function isAlpha(c){return c>=\"A\"&&\"Z\">=c||c>=\"a\"&&\"z\">=c}function Tokenizer(tokenHandler){this._tokenHandler=tokenHandler,this._state=Tokenizer.DATA,this._inputStream=new InputStream,this._currentToken=null,this._temporaryBuffer=\"\",this._additionalAllowedCharacter=\"\"}var InputStream=_dereq_(\"./InputStream\").InputStream,EntityParser=_dereq_(\"./EntityParser\").EntityParser;Tokenizer.prototype._parseError=function(code,args){this._tokenHandler.parseError(code,args)},Tokenizer.prototype._emitToken=function(token){if(\"StartTag\"===token.type)for(var i=1;token.data.length>i;i++)token.data[i].nodeName||token.data.splice(i--,1);else\"EndTag\"===token.type&&(token.selfClosing&&this._parseError(\"self-closing-flag-on-end-tag\"),0!==token.data.length&&this._parseError(\"attributes-in-end-tag\"));this._tokenHandler.processToken(token),\"StartTag\"===token.type&&token.selfClosing&&!this._tokenHandler.isSelfClosingFlagAcknowledged()&&this._parseError(\"non-void-element-with-trailing-solidus\",{name:token.name})},Tokenizer.prototype._emitCurrentToken=function(){this._state=Tokenizer.DATA,this._emitToken(this._currentToken)},Tokenizer.prototype._currentAttribute=function(){return this._currentToken.data[this._currentToken.data.length-1]},Tokenizer.prototype.setState=function(state){this._state=state},Tokenizer.prototype.tokenize=function(source){function data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:\"EOF\",data:null}),!1;if(\"&\"===data)tokenizer.setState(character_reference_in_data_state);else if(\"<\"===data)tokenizer.setState(tag_open_state);else if(\"\\0\"===data)tokenizer._emitToken({type:\"Characters\",data:data}),buffer.commit();else{var chars=buffer.matchUntil(\"&|<|\\0\");tokenizer._emitToken({type:\"Characters\",data:data+chars}),buffer.commit()}return!0}function character_reference_in_data_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(data_state),tokenizer._emitToken({type:\"Characters\",data:character||\"&\"}),!0}function rcdata_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:\"EOF\",data:null}),!1;if(\"&\"===data)tokenizer.setState(character_reference_in_rcdata_state);else if(\"<\"===data)tokenizer.setState(rcdata_less_than_sign_state);else if(\"\\0\"===data)tokenizer._parseError(\"invalid-codepoint\"),tokenizer._emitToken({type:\"Characters\",data:\"�\"}),buffer.commit();else{var chars=buffer.matchUntil(\"&|<|\\0\");tokenizer._emitToken({type:\"Characters\",data:data+chars}),buffer.commit()}return!0}function character_reference_in_rcdata_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(rcdata_state),tokenizer._emitToken({type:\"Characters\",data:character||\"&\"}),!0}function rawtext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:\"EOF\",data:null}),!1;if(\"<\"===data)tokenizer.setState(rawtext_less_than_sign_state);else if(\"\\0\"===data)tokenizer._parseError(\"invalid-codepoint\"),tokenizer._emitToken({type:\"Characters\",data:\"�\"}),buffer.commit();else{var chars=buffer.matchUntil(\"<|\\0\");tokenizer._emitToken({type:\"Characters\",data:data+chars})}return!0}function plaintext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:\"EOF\",data:null}),!1;if(\"\\0\"===data)tokenizer._parseError(\"invalid-codepoint\"),tokenizer._emitToken({type:\"Characters\",data:\"�\"}),buffer.commit();else{var chars=buffer.matchUntil(\"\\0\");tokenizer._emitToken({type:\"Characters\",data:data+chars})}return!0}function script_data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:\"EOF\",data:null}),!1;if(\"<\"===data)tokenizer.setState(script_data_less_than_sign_state);else if(\"\\0\"===data)tokenizer._parseError(\"invalid-codepoint\"),tokenizer._emitToken({type:\"Characters\",data:\"�\"}),buffer.commit();else{var chars=buffer.matchUntil(\"<|\\0\");tokenizer._emitToken({type:\"Characters\",data:data+chars})}return!0}function rcdata_less_than_sign_state(buffer){var data=buffer.char();return\"/\"===data?(this._temporaryBuffer=\"\",tokenizer.setState(rcdata_end_tag_open_state)):(tokenizer._emitToken({type:\"Characters\",data:\"<\"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rcdata_end_tag_name_state)):(tokenizer._emitToken({type:\"Characters\",data:\"</\"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):\"/\"===data&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):\">\"===data&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:\"Characters\",data:\"</\"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rawtext_less_than_sign_state(buffer){var data=buffer.char();return\"/\"===data?(this._temporaryBuffer=\"\",tokenizer.setState(rawtext_end_tag_open_state)):(tokenizer._emitToken({type:\"Characters\",data:\"<\"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rawtext_end_tag_name_state)):(tokenizer._emitToken({type:\"Characters\",data:\"</\"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):\"/\"===data&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):\">\"===data&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:\"Characters\",data:\"</\"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function script_data_less_than_sign_state(buffer){var data=buffer.char();return\"/\"===data?(this._temporaryBuffer=\"\",tokenizer.setState(script_data_end_tag_open_state)):\"!\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"<!\"}),tokenizer.setState(script_data_escape_start_state)):(tokenizer._emitToken({type:\"Characters\",data:\"<\"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(script_data_end_tag_name_state)):(tokenizer._emitToken({type:\"Characters\",data:\"</\"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:\"script\",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):\"/\"===data&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:\"script\",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):\">\"===data&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:\"script\",data:[],selfClosing:!1},tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:\"Characters\",data:\"</\"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_state(buffer){var data=buffer.char();return\"-\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"-\"}),tokenizer.setState(script_data_escape_start_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_dash_state(buffer){var data=buffer.char();return\"-\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"-\"}),tokenizer.setState(script_data_escaped_dash_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escaped_state(buffer){var data=buffer.char();if(data===InputStream.EOF)buffer.unget(data),tokenizer.setState(data_state);else if(\"-\"===data)tokenizer._emitToken({type:\"Characters\",data:\"-\"}),tokenizer.setState(script_data_escaped_dash_state);else if(\"<\"===data)tokenizer.setState(script_data_escaped_less_then_sign_state);else if(\"\\0\"===data)tokenizer._parseError(\"invalid-codepoint\"),tokenizer._emitToken({type:\"Characters\",data:\"�\"}),buffer.commit();else{var chars=buffer.matchUntil(\"<|-|\\0\");tokenizer._emitToken({type:\"Characters\",data:data+chars})}return!0}function script_data_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer.setState(data_state)):\"-\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"-\"}),tokenizer.setState(script_data_escaped_dash_dash_state)):\"<\"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._emitToken({type:\"Characters\",data:\"�\"}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:\"Characters\",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-script\"),buffer.unget(data),tokenizer.setState(data_state)):\"<\"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):\">\"===data?(tokenizer._emitToken({type:\"Characters\",data:\">\"}),tokenizer.setState(script_data_state)):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._emitToken({type:\"Characters\",data:\"�\"}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:\"Characters\",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_less_then_sign_state(buffer){var data=buffer.char();return\"/\"===data?(this._temporaryBuffer=\"\",tokenizer.setState(script_data_escaped_end_tag_open_state)):isAlpha(data)?(tokenizer._emitToken({type:\"Characters\",data:\"<\"+data}),this._temporaryBuffer=data,tokenizer.setState(script_data_double_escape_start_state)):(tokenizer._emitToken({type:\"Characters\",data:\"<\"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer=data,tokenizer.setState(script_data_escaped_end_tag_name_state)):(tokenizer._emitToken({type:\"Characters\",data:\"</\"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:\"script\",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):\"/\"===data&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:\"script\",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):\">\"===data&&appropriate?(tokenizer._currentToken={type:\"EndTag\",name:\"script\",data:[],selfClosing:!1},tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:\"Characters\",data:\"</\"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escape_start_state(buffer){var data=buffer.char();return isWhitespace(data)||\"/\"===data||\">\"===data?(tokenizer._emitToken({type:\"Characters\",data:data}),\"script\"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_double_escaped_state):tokenizer.setState(script_data_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:\"Characters\",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escaped_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-script\"),buffer.unget(data),tokenizer.setState(data_state)):\"-\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"-\"}),tokenizer.setState(script_data_double_escaped_dash_state)):\"<\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"<\"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._emitToken({type:\"Characters\",data:\"�\"}),buffer.commit()):(tokenizer._emitToken({type:\"Characters\",data:data}),buffer.commit()),!0}function script_data_double_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-script\"),buffer.unget(data),tokenizer.setState(data_state)):\"-\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"-\"}),tokenizer.setState(script_data_double_escaped_dash_dash_state)):\"<\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"<\"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._emitToken({type:\"Characters\",data:\"�\"}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:\"Characters\",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-script\"),buffer.unget(data),tokenizer.setState(data_state)):\"-\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"-\"}),buffer.commit()):\"<\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"<\"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):\">\"===data?(tokenizer._emitToken({type:\"Characters\",data:\">\"}),tokenizer.setState(script_data_state)):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._emitToken({type:\"Characters\",data:\"�\"}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:\"Characters\",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_less_than_sign_state(buffer){var data=buffer.char();return\"/\"===data?(tokenizer._emitToken({type:\"Characters\",data:\"/\"}),this._temporaryBuffer=\"\",tokenizer.setState(script_data_double_escape_end_state)):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escape_end_state(buffer){var data=buffer.char();return isWhitespace(data)||\"/\"===data||\">\"===data?(tokenizer._emitToken({type:\"Characters\",data:data}),\"script\"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_escaped_state):tokenizer.setState(script_data_double_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:\"Characters\",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"bare-less-than-sign-at-eof\"),tokenizer._emitToken({type:\"Characters\",data:\"<\"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:\"StartTag\",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):\"!\"===data?tokenizer.setState(markup_declaration_open_state):\"/\"===data?tokenizer.setState(close_tag_open_state):\">\"===data?(tokenizer._parseError(\"expected-tag-name-but-got-right-bracket\"),tokenizer._emitToken({type:\"Characters\",data:\"<>\"}),tokenizer.setState(data_state)):\"?\"===data?(tokenizer._parseError(\"expected-tag-name-but-got-question-mark\"),buffer.unget(data),tokenizer.setState(bogus_comment_state)):(tokenizer._parseError(\"expected-tag-name\"),tokenizer._emitToken({type:\"Characters\",data:\"<\"}),buffer.unget(data),tokenizer.setState(data_state)),!0}function close_tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"expected-closing-tag-but-got-eof\"),tokenizer._emitToken({type:\"Characters\",data:\"</\"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:\"EndTag\",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):\">\"===data?(tokenizer._parseError(\"expected-closing-tag-but-got-right-bracket\"),tokenizer.setState(data_state)):(tokenizer._parseError(\"expected-closing-tag-but-got-char\",{data:data}),buffer.unget(data),tokenizer.setState(bogus_comment_state)),!0}function tag_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-tag-name\"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):isAlpha(data)?tokenizer._currentToken.name+=data.toLowerCase():\">\"===data?tokenizer._emitCurrentToken():\"/\"===data?tokenizer.setState(self_closing_tag_state):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentToken.name+=\"�\"):tokenizer._currentToken.name+=data,buffer.commit(),!0}function before_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError(\"expected-attribute-name-but-got-eof\"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data.toLowerCase(),nodeValue:\"\"}),tokenizer.setState(attribute_name_state)):\">\"===data?tokenizer._emitCurrentToken():\"/\"===data?tokenizer.setState(self_closing_tag_state):\"'\"===data||'\"'===data||\"=\"===data||\"<\"===data?(tokenizer._parseError(\"invalid-character-in-attribute-name\"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:\"\"}),tokenizer.setState(attribute_name_state)):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentToken.data.push({nodeName:\"�\",nodeValue:\"\"})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:\"\"}),tokenizer.setState(attribute_name_state))}return!0}function attribute_name_state(buffer){var data=buffer.char(),leavingThisState=!0,shouldEmit=!1;if(data===InputStream.EOF?(tokenizer._parseError(\"eof-in-attribute-name\"),buffer.unget(data),tokenizer.setState(data_state),shouldEmit=!0):\"=\"===data?tokenizer.setState(before_attribute_value_state):isAlpha(data)?(tokenizer._currentAttribute().nodeName+=data.toLowerCase(),leavingThisState=!1):\">\"===data?shouldEmit=!0:isWhitespace(data)?tokenizer.setState(after_attribute_name_state):\"/\"===data?tokenizer.setState(self_closing_tag_state):\"'\"===data||'\"'===data?(tokenizer._parseError(\"invalid-character-in-attribute-name\"),tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentAttribute().nodeName+=\"�\"):(tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1),leavingThisState){for(var attributes=tokenizer._currentToken.data,currentAttribute=attributes[attributes.length-1],i=attributes.length-2;i>=0;i--)if(currentAttribute.nodeName===attributes[i].nodeName){tokenizer._parseError(\"duplicate-attribute\",{name:currentAttribute.nodeName}),currentAttribute.nodeName=null;break}shouldEmit&&tokenizer._emitCurrentToken()}else buffer.commit();return!0}function after_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError(\"expected-end-of-tag-but-got-eof\"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;\"=\"===data?tokenizer.setState(before_attribute_value_state):\">\"===data?tokenizer._emitCurrentToken():isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data,nodeValue:\"\"}),tokenizer.setState(attribute_name_state)):\"/\"===data?tokenizer.setState(self_closing_tag_state):\"'\"===data||'\"'===data||\"<\"===data?(tokenizer._parseError(\"invalid-character-after-attribute-name\"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:\"\"}),tokenizer.setState(attribute_name_state)):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentToken.data.push({nodeName:\"�\",nodeValue:\"\"})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:\"\"}),tokenizer.setState(attribute_name_state))}return!0}function before_attribute_value_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError(\"expected-attribute-value-but-got-eof\"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;'\"'===data?tokenizer.setState(attribute_value_double_quoted_state):\"&\"===data?(tokenizer.setState(attribute_value_unquoted_state),buffer.unget(data)):\"'\"===data?tokenizer.setState(attribute_value_single_quoted_state):\">\"===data?(tokenizer._parseError(\"expected-attribute-value-but-got-right-bracket\"),tokenizer._emitCurrentToken()):\"=\"===data||\"<\"===data||\"`\"===data?(tokenizer._parseError(\"unexpected-character-in-unquoted-attribute-value\"),tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state)):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentAttribute().nodeValue+=\"�\"):(tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state))}return!0\n}function attribute_value_double_quoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError(\"eof-in-attribute-value-double-quote\"),buffer.unget(data),tokenizer.setState(data_state);else if('\"'===data)tokenizer.setState(after_attribute_value_state);else if(\"&\"===data)this._additionalAllowedCharacter='\"',tokenizer.setState(character_reference_in_attribute_value_state);else if(\"\\0\"===data)tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentAttribute().nodeValue+=\"�\";else{var s=buffer.matchUntil('[\\0\"&]');data+=s,tokenizer._currentAttribute().nodeValue+=data}return!0}function attribute_value_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-attribute-value-single-quote\"),buffer.unget(data),tokenizer.setState(data_state)):\"'\"===data?tokenizer.setState(after_attribute_value_state):\"&\"===data?(this._additionalAllowedCharacter=\"'\",tokenizer.setState(character_reference_in_attribute_value_state)):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentAttribute().nodeValue+=\"�\"):tokenizer._currentAttribute().nodeValue+=data+buffer.matchUntil(\"\\0|['&]\"),!0}function attribute_value_unquoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError(\"eof-after-attribute-value\"),buffer.unget(data),tokenizer.setState(data_state);else if(isWhitespace(data))tokenizer.setState(before_attribute_name_state);else if(\"&\"===data)this._additionalAllowedCharacter=\">\",tokenizer.setState(character_reference_in_attribute_value_state);else if(\">\"===data)tokenizer._emitCurrentToken();else if('\"'===data||\"'\"===data||\"=\"===data||\"`\"===data||\"<\"===data)tokenizer._parseError(\"unexpected-character-in-unquoted-attribute-value\"),tokenizer._currentAttribute().nodeValue+=data,buffer.commit();else if(\"\\0\"===data)tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentAttribute().nodeValue+=\"�\";else{var o=buffer.matchUntil(\"\\0|[\t\\n\u000b\\f \\r&<>\\\"'=`]\");o===InputStream.EOF&&(tokenizer._parseError(\"eof-in-attribute-value-no-quotes\"),tokenizer._emitCurrentToken()),buffer.commit(),tokenizer._currentAttribute().nodeValue+=data+o}return!0}function character_reference_in_attribute_value_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer,this._additionalAllowedCharacter);return this._currentAttribute().nodeValue+=character||\"&\",'\"'===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_double_quoted_state):\"'\"===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_single_quoted_state):\">\"===this._additionalAllowedCharacter&&tokenizer.setState(attribute_value_unquoted_state),!0}function after_attribute_value_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-after-attribute-value\"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):\">\"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\"/\"===data?tokenizer.setState(self_closing_tag_state):(tokenizer._parseError(\"unexpected-character-after-attribute-value\"),buffer.unget(data),tokenizer.setState(before_attribute_name_state)),!0}function self_closing_tag_state(buffer){var c=buffer.char();return c===InputStream.EOF?(tokenizer._parseError(\"unexpected-eof-after-solidus-in-tag\"),buffer.unget(c),tokenizer.setState(data_state)):\">\"===c?(tokenizer._currentToken.selfClosing=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError(\"unexpected-character-after-solidus-in-tag\"),buffer.unget(c),tokenizer.setState(before_attribute_name_state)),!0}function bogus_comment_state(buffer){var data=buffer.matchUntil(\">\");return data=data.replace(/\\u0000/g,\"�\"),buffer.char(),tokenizer._emitToken({type:\"Comment\",data:data}),tokenizer.setState(data_state),!0}function markup_declaration_open_state(buffer){var chars=buffer.shift(2);if(\"--\"===chars)tokenizer._currentToken={type:\"Comment\",data:\"\"},tokenizer.setState(comment_start_state);else{var newchars=buffer.shift(5);if(newchars===InputStream.EOF||chars===InputStream.EOF)return tokenizer._parseError(\"expected-dashes-or-doctype\"),tokenizer.setState(bogus_comment_state),buffer.unget(chars),!0;chars+=newchars,\"DOCTYPE\"===chars.toUpperCase()?(tokenizer._currentToken={type:\"Doctype\",name:\"\",publicId:null,systemId:null,forceQuirks:!1},tokenizer.setState(doctype_state)):tokenizer._tokenHandler.isCdataSectionAllowed()&&\"[CDATA[\"===chars?tokenizer.setState(cdata_section_state):(tokenizer._parseError(\"expected-dashes-or-doctype\"),buffer.unget(chars),tokenizer.setState(bogus_comment_state))}return!0}function cdata_section_state(buffer){var data=buffer.matchUntil(\"]]>\");return buffer.shift(3),data&&tokenizer._emitToken({type:\"Characters\",data:data}),tokenizer.setState(data_state),!0}function comment_start_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-comment\"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):\"-\"===data?tokenizer.setState(comment_start_dash_state):\">\"===data?(tokenizer._parseError(\"incorrect-comment\"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentToken.data+=\"�\"):(tokenizer._currentToken.data+=data,tokenizer.setState(comment_state)),!0}function comment_start_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-comment\"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):\"-\"===data?tokenizer.setState(comment_end_state):\">\"===data?(tokenizer._parseError(\"incorrect-comment\"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentToken.data+=\"�\"):(tokenizer._currentToken.data+=\"-\"+data,tokenizer.setState(comment_state)),!0}function comment_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-comment\"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):\"-\"===data?tokenizer.setState(comment_end_dash_state):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentToken.data+=\"�\"):(tokenizer._currentToken.data+=data,buffer.commit()),!0}function comment_end_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-comment-end-dash\"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):\"-\"===data?tokenizer.setState(comment_end_state):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentToken.data+=\"-�\",tokenizer.setState(comment_state)):(tokenizer._currentToken.data+=\"-\"+data+buffer.matchUntil(\"\\0|-\"),buffer.char()),!0}function comment_end_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-comment-double-dash\"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):\">\"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):\"!\"===data?(tokenizer._parseError(\"unexpected-bang-after-double-dash-in-comment\"),tokenizer.setState(comment_end_bang_state)):\"-\"===data?(tokenizer._parseError(\"unexpected-dash-after-double-dash-in-comment\"),tokenizer._currentToken.data+=data):\"\\0\"===data?(tokenizer._parseError(\"invalid-codepoint\"),tokenizer._currentToken.data+=\"--�\",tokenizer.setState(comment_state)):(tokenizer._parseError(\"unexpected-char-in-comment\"),tokenizer._currentToken.data+=\"--\"+data,tokenizer.setState(comment_state)),!0}function comment_end_bang_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-comment-end-bang-state\"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):\">\"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):\"-\"===data?(tokenizer._currentToken.data+=\"--!\",tokenizer.setState(comment_end_dash_state)):(tokenizer._currentToken.data+=\"--!\"+data,tokenizer.setState(comment_state)),!0}function doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"expected-doctype-name-but-got-eof\"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_name_state):(tokenizer._parseError(\"need-space-after-doctype\"),buffer.unget(data),tokenizer.setState(before_doctype_name_state)),!0}function before_doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"expected-doctype-name-but-got-eof\"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(\">\"===data?(tokenizer._parseError(\"expected-doctype-name-but-got-right-bracket\"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name=data,tokenizer.setState(doctype_name_state))),!0}function doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError(\"eof-in-doctype-name\"),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(after_doctype_name_state):\">\"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name+=data,buffer.commit()),!0}function after_doctype_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError(\"eof-in-doctype\"),tokenizer.setState(data_state),tokenizer._emitCurrentToken();else if(isWhitespace(data));else if(\">\"===data)tokenizer.setState(data_state),tokenizer._emitCurrentToken();else{if([\"p\",\"P\"].indexOf(data)>-1){var expected=[[\"u\",\"U\"],[\"b\",\"B\"],[\"l\",\"L\"],[\"i\",\"I\"],[\"c\",\"C\"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_public_keyword_state),!0}else if([\"s\",\"S\"].indexOf(data)>-1){var expected=[[\"y\",\"Y\"],[\"s\",\"S\"],[\"t\",\"T\"],[\"e\",\"E\"],[\"m\",\"M\"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_system_keyword_state),!0}buffer.unget(data),tokenizer._currentToken.forceQuirks=!0,data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError(\"expected-space-or-right-bracket-in-doctype\",{data:data}),tokenizer.setState(bogus_doctype_state))}return!0}function after_doctype_public_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_public_identifier_state):\"'\"===data||'\"'===data?(tokenizer._parseError(\"unexpected-char-in-doctype\"),buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)),!0}function before_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||('\"'===data?(tokenizer._currentToken.publicId=\"\",tokenizer.setState(doctype_public_identifier_double_quoted_state)):\"'\"===data?(tokenizer._currentToken.publicId=\"\",tokenizer.setState(doctype_public_identifier_single_quoted_state)):\">\"===data?(tokenizer._parseError(\"unexpected-end-of-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError(\"unexpected-char-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_public_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):'\"'===data?tokenizer.setState(after_doctype_public_identifier_state):\">\"===data?(tokenizer._parseError(\"unexpected-end-of-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function doctype_public_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\"'\"===data?tokenizer.setState(after_doctype_public_identifier_state):\">\"===data?(tokenizer._parseError(\"unexpected-end-of-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function after_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(between_doctype_public_and_system_identifiers_state):\">\"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):'\"'===data?(tokenizer._parseError(\"unexpected-char-in-doctype\"),tokenizer._currentToken.systemId=\"\",tokenizer.setState(doctype_system_identifier_double_quoted_state)):\"'\"===data?(tokenizer._parseError(\"unexpected-char-in-doctype\"),tokenizer._currentToken.systemId=\"\",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError(\"unexpected-char-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state)),!0}function between_doctype_public_and_system_identifiers_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(\">\"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):'\"'===data?(tokenizer._currentToken.systemId=\"\",tokenizer.setState(doctype_system_identifier_double_quoted_state)):\"'\"===data?(tokenizer._currentToken.systemId=\"\",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError(\"unexpected-char-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function after_doctype_system_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_doctype_system_identifier_state):\"'\"===data||'\"'===data?(tokenizer._parseError(\"unexpected-char-in-doctype\"),buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)),!0}function before_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||('\"'===data?(tokenizer._currentToken.systemId=\"\",tokenizer.setState(doctype_system_identifier_double_quoted_state)):\"'\"===data?(tokenizer._currentToken.systemId=\"\",tokenizer.setState(doctype_system_identifier_single_quoted_state)):\">\"===data?(tokenizer._parseError(\"unexpected-end-of-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError(\"unexpected-char-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_system_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):'\"'===data?tokenizer.setState(after_doctype_system_identifier_state):\">\"===data?(tokenizer._parseError(\"unexpected-end-of-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function doctype_system_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):\"'\"===data?tokenizer.setState(after_doctype_system_identifier_state):\">\"===data?(tokenizer._parseError(\"unexpected-end-of-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function after_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError(\"eof-in-doctype\"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(\">\"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError(\"unexpected-char-in-doctype\"),tokenizer.setState(bogus_doctype_state))),!0}function bogus_doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):\">\"===data&&(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)),!0}Tokenizer.DATA=data_state,Tokenizer.RCDATA=rcdata_state,Tokenizer.RAWTEXT=rawtext_state,Tokenizer.SCRIPT_DATA=script_data_state,Tokenizer.PLAINTEXT=plaintext_state,this._state=Tokenizer.DATA,this._inputStream.append(source),this._tokenHandler.startTokenization(this),this._inputStream.eof=!0;for(var tokenizer=this;this._state.call(this,this._inputStream););},Object.defineProperty(Tokenizer.prototype,\"lineNumber\",{get:function(){return this._inputStream.location().line}}),Object.defineProperty(Tokenizer.prototype,\"columnNumber\",{get:function(){return this._inputStream.location().column}}),exports.Tokenizer=Tokenizer},{\"./EntityParser\":2,\"./InputStream\":3}],6:[function(_dereq_,module,exports){function isWhitespace(ch){return\" \"===ch||\"\\n\"===ch||\"\t\"===ch||\"\\r\"===ch||\"\\f\"===ch}function isWhitespaceOrReplacementCharacter(ch){return isWhitespace(ch)||\"�\"===ch}function isAllWhitespace(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespace(ch))return!1}return!0}function isAllWhitespaceOrReplacementCharacters(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespaceOrReplacementCharacter(ch))return!1}return!0}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute}return null}function CharacterBuffer(characters){this.characters=characters,this.current=0,this.end=this.characters.length}function TreeBuilder(){this.tokenizer=null,this.errorHandler=null,this.scriptingEnabled=!1,this.document=null,this.head=null,this.form=null,this.openElements=new ElementStack,this.activeFormattingElements=[],this.insertionMode=null,this.insertionModeName=\"\",this.originalInsertionMode=\"\",this.inQuirksMode=!1,this.compatMode=\"no quirks\",this.framesetOk=!0,this.redirectAttachToFosterParent=!1,this.selfClosingFlagAcknowledged=!1,this.context=\"\",this.pendingTableCharacters=[],this.shouldSkipLeadingNewline=!1;var tree=this,modes=this.insertionModes={};modes.base={end_tag_handlers:{\"-default\":\"endTagOther\"},start_tag_handlers:{\"-default\":\"startTagOther\"},processEOF:function(){tree.generateImpliedEndTags(),tree.openElements.length>2?tree.parseError(\"expected-closing-tag-but-got-eof\"):2==tree.openElements.length&&\"body\"!=tree.openElements.item(1).localName?tree.parseError(\"expected-closing-tag-but-got-eof\"):tree.context&&tree.openElements.length>1},processComment:function(data){tree.insertComment(data,tree.currentStackItem().node)},processDoctype:function(){tree.parseError(\"unexpected-doctype\")},processStartTag:function(name,attributes,selfClosing){if(this[this.start_tag_handlers[name]])this[this.start_tag_handlers[name]](name,attributes,selfClosing);else{if(!this[this.start_tag_handlers[\"-default\"]])throw Error(\"No handler found for \"+name);this[this.start_tag_handlers[\"-default\"]](name,attributes,selfClosing)}},processEndTag:function(name){if(this[this.end_tag_handlers[name]])this[this.end_tag_handlers[name]](name);else{if(!this[this.end_tag_handlers[\"-default\"]])throw Error(\"No handler found for \"+name);this[this.end_tag_handlers[\"-default\"]](name)}},startTagHtml:function(name,attributes){modes.inBody.startTagHtml(name,attributes)}},modes.initial=Object.create(modes.base),modes.initial.processEOF=function(){tree.parseError(\"expected-doctype-but-got-eof\"),this.anythingElse(),tree.insertionMode.processEOF()},modes.initial.processComment=function(data){tree.insertComment(data,tree.document)},modes.initial.processDoctype=function(name,publicId,systemId,forceQuirks){function publicIdStartsWith(string){return 0===publicId.toLowerCase().indexOf(string)}tree.insertDoctype(name||\"\",publicId||\"\",systemId||\"\"),forceQuirks||\"html\"!=name||null!=publicId&&([\"+//silmaril//dtd html pro v0r11 19970101//\",\"-//advasoft ltd//dtd html 3.0 aswedit + extensions//\",\"-//as//dtd html 3.0 aswedit + extensions//\",\"-//ietf//dtd html 2.0 level 1//\",\"-//ietf//dtd html 2.0 level 2//\",\"-//ietf//dtd html 2.0 strict level 1//\",\"-//ietf//dtd html 2.0 strict level 2//\",\"-//ietf//dtd html 2.0 strict//\",\"-//ietf//dtd html 2.0//\",\"-//ietf//dtd html 2.1e//\",\"-//ietf//dtd html 3.0//\",\"-//ietf//dtd html 3.0//\",\"-//ietf//dtd html 3.2 final//\",\"-//ietf//dtd html 3.2//\",\"-//ietf//dtd html 3//\",\"-//ietf//dtd html level 0//\",\"-//ietf//dtd html level 0//\",\"-//ietf//dtd html level 1//\",\"-//ietf//dtd html level 1//\",\"-//ietf//dtd html level 2//\",\"-//ietf//dtd html level 2//\",\"-//ietf//dtd html level 3//\",\"-//ietf//dtd html level 3//\",\"-//ietf//dtd html strict level 0//\",\"-//ietf//dtd html strict level 0//\",\"-//ietf//dtd html strict level 1//\",\"-//ietf//dtd html strict level 1//\",\"-//ietf//dtd html strict level 2//\",\"-//ietf//dtd html strict level 2//\",\"-//ietf//dtd html strict level 3//\",\"-//ietf//dtd html strict level 3//\",\"-//ietf//dtd html strict//\",\"-//ietf//dtd html strict//\",\"-//ietf//dtd html strict//\",\"-//ietf//dtd html//\",\"-//ietf//dtd html//\",\"-//ietf//dtd html//\",\"-//metrius//dtd metrius presentational//\",\"-//microsoft//dtd internet explorer 2.0 html strict//\",\"-//microsoft//dtd internet explorer 2.0 html//\",\"-//microsoft//dtd internet explorer 2.0 tables//\",\"-//microsoft//dtd internet explorer 3.0 html strict//\",\"-//microsoft//dtd internet explorer 3.0 html//\",\"-//microsoft//dtd internet explorer 3.0 tables//\",\"-//netscape comm. corp.//dtd html//\",\"-//netscape comm. corp.//dtd strict html//\",\"-//o'reilly and associates//dtd html 2.0//\",\"-//o'reilly and associates//dtd html extended 1.0//\",\"-//spyglass//dtd html 2.0 extended//\",\"-//sq//dtd html 2.0 hotmetal + extensions//\",\"-//sun microsystems corp.//dtd hotjava html//\",\"-//sun microsystems corp.//dtd hotjava strict html//\",\"-//w3c//dtd html 3 1995-03-24//\",\"-//w3c//dtd html 3.2 draft//\",\"-//w3c//dtd html 3.2 final//\",\"-//w3c//dtd html 3.2//\",\"-//w3c//dtd html 3.2s draft//\",\"-//w3c//dtd html 4.0 frameset//\",\"-//w3c//dtd html 4.0 transitional//\",\"-//w3c//dtd html experimental 19960712//\",\"-//w3c//dtd html experimental 970421//\",\"-//w3c//dtd w3 html//\",\"-//w3o//dtd w3 html 3.0//\",\"-//webtechs//dtd mozilla html 2.0//\",\"-//webtechs//dtd mozilla html//\",\"html\"].some(publicIdStartsWith)||[\"-//w3o//dtd w3 html strict 3.0//en//\",\"-/w3c/dtd html 4.0 transitional/en\",\"html\"].indexOf(publicId.toLowerCase())>-1||null==systemId&&[\"-//w3c//dtd html 4.01 transitional//\",\"-//w3c//dtd html 4.01 frameset//\"].some(publicIdStartsWith))||null!=systemId&&\"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd\"==systemId.toLowerCase()?(tree.compatMode=\"quirks\",tree.parseError(\"quirky-doctype\")):null!=publicId&&([\"-//w3c//dtd xhtml 1.0 transitional//\",\"-//w3c//dtd xhtml 1.0 frameset//\"].some(publicIdStartsWith)||null!=systemId&&[\"-//w3c//dtd html 4.01 transitional//\",\"-//w3c//dtd html 4.01 frameset//\"].indexOf(publicId.toLowerCase())>-1)?(tree.compatMode=\"limited quirks\",tree.parseError(\"almost-standards-doctype\")):\"-//W3C//DTD HTML 4.0//EN\"==publicId&&(null==systemId||\"http://www.w3.org/TR/REC-html40/strict.dtd\"==systemId)||\"-//W3C//DTD HTML 4.01//EN\"==publicId&&(null==systemId||\"http://www.w3.org/TR/html4/strict.dtd\"==systemId)||\"-//W3C//DTD XHTML 1.0 Strict//EN\"==publicId&&\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"==systemId||\"-//W3C//DTD XHTML 1.1//EN\"==publicId&&\"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\"==systemId||(null!=systemId&&\"about:legacy-compat\"!=systemId||null!=publicId)&&tree.parseError(\"unknown-doctype\"),tree.setInsertionMode(\"beforeHTML\")},modes.initial.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(tree.parseError(\"expected-doctype-but-got-chars\"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.initial.processStartTag=function(name,attributes,selfClosing){tree.parseError(\"expected-doctype-but-got-start-tag\",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.initial.processEndTag=function(name){tree.parseError(\"expected-doctype-but-got-end-tag\",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.initial.anythingElse=function(){tree.compatMode=\"quirks\",tree.setInsertionMode(\"beforeHTML\")},modes.beforeHTML=Object.create(modes.base),modes.beforeHTML.start_tag_handlers={html:\"startTagHtml\",\"-default\":\"startTagOther\"},modes.beforeHTML.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.beforeHTML.processComment=function(data){tree.insertComment(data,tree.document)},modes.beforeHTML.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.beforeHTML.startTagHtml=function(name,attributes){tree.insertHtmlElement(attributes),tree.setInsertionMode(\"beforeHead\")},modes.beforeHTML.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHTML.processEndTag=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.beforeHTML.anythingElse=function(){tree.insertHtmlElement(),tree.setInsertionMode(\"beforeHead\")},modes.afterAfterBody=Object.create(modes.base),modes.afterAfterBody.start_tag_handlers={html:\"startTagHtml\",\"-default\":\"startTagOther\"},modes.afterAfterBody.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterBody.processDoctype=function(data){modes.inBody.processDoctype(data)},modes.afterAfterBody.startTagHtml=function(data,attributes){modes.inBody.startTagHtml(data,attributes)},modes.afterAfterBody.startTagOther=function(name,attributes,selfClosing){tree.parseError(\"unexpected-start-tag\",{name:name}),tree.setInsertionMode(\"inBody\"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterAfterBody.endTagOther=function(name){tree.parseError(\"unexpected-end-tag\",{name:name}),tree.setInsertionMode(\"inBody\"),tree.insertionMode.processEndTag(name)},modes.afterAfterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError(\"unexpected-char-after-body\"),tree.setInsertionMode(\"inBody\"),tree.insertionMode.processCharacters(data))},modes.afterBody=Object.create(modes.base),modes.afterBody.end_tag_handlers={html:\"endTagHtml\",\"-default\":\"endTagOther\"},modes.afterBody.processComment=function(data){tree.insertComment(data,tree.openElements.rootNode)},modes.afterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError(\"unexpected-char-after-body\"),tree.setInsertionMode(\"inBody\"),tree.insertionMode.processCharacters(data))},modes.afterBody.processStartTag=function(name,attributes,selfClosing){tree.parseError(\"unexpected-start-tag-after-body\",{name:name}),tree.setInsertionMode(\"inBody\"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterBody.endTagHtml=function(){tree.context?tree.parseError(\"end-html-in-innerhtml\"):tree.setInsertionMode(\"afterAfterBody\")},modes.afterBody.endTagOther=function(name){tree.parseError(\"unexpected-end-tag-after-body\",{name:name}),tree.setInsertionMode(\"inBody\"),tree.insertionMode.processEndTag(name)},modes.afterFrameset=Object.create(modes.base),modes.afterFrameset.start_tag_handlers={html:\"startTagHtml\",noframes:\"startTagNoframes\",\"-default\":\"startTagOther\"},modes.afterFrameset.end_tag_handlers={html:\"endTagHtml\",\"-default\":\"endTagOther\"},modes.afterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace=\"\",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&tree.insertText(whitespace),whitespace.length<characters.length&&tree.parseError(\"expected-eof-but-got-char\")},modes.afterFrameset.startTagNoframes=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterFrameset.startTagOther=function(name){tree.parseError(\"unexpected-start-tag-after-frameset\",{name:name})},modes.afterFrameset.endTagHtml=function(){tree.setInsertionMode(\"afterAfterFrameset\")},modes.afterFrameset.endTagOther=function(name){tree.parseError(\"unexpected-end-tag-after-frameset\",{name:name})},modes.beforeHead=Object.create(modes.base),modes.beforeHead.start_tag_handlers={html:\"startTagHtml\",head:\"startTagHead\",\"-default\":\"startTagOther\"},modes.beforeHead.end_tag_handlers={html:\"endTagImplyHead\",head:\"endTagImplyHead\",body:\"endTagImplyHead\",br:\"endTagImplyHead\",\"-default\":\"endTagOther\"},modes.beforeHead.processEOF=function(){this.startTagHead(\"head\",[]),tree.insertionMode.processEOF()},modes.beforeHead.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.startTagHead(\"head\",[]),tree.insertionMode.processCharacters(buffer))},modes.beforeHead.startTagHead=function(name,attributes){tree.insertHeadElement(attributes),tree.setInsertionMode(\"inHead\")},modes.beforeHead.startTagOther=function(name,attributes,selfClosing){this.startTagHead(\"head\",[]),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHead.endTagImplyHead=function(name){this.startTagHead(\"head\",[]),tree.insertionMode.processEndTag(name)},modes.beforeHead.endTagOther=function(name){tree.parseError(\"end-tag-after-implied-root\",{name:name})},modes.inHead=Object.create(modes.base),modes.inHead.start_tag_handlers={html:\"startTagHtml\",head:\"startTagHead\",title:\"startTagTitle\",script:\"startTagScript\",style:\"startTagNoFramesStyle\",noscript:\"startTagNoScript\",noframes:\"startTagNoFramesStyle\",base:\"startTagBaseBasefontBgsoundLink\",basefont:\"startTagBaseBasefontBgsoundLink\",bgsound:\"startTagBaseBasefontBgsoundLink\",link:\"startTagBaseBasefontBgsoundLink\",meta:\"startTagMeta\",\"-default\":\"startTagOther\"},modes.inHead.end_tag_handlers={head:\"endTagHead\",html:\"endTagHtmlBodyBr\",body:\"endTagHtmlBodyBr\",br:\"endTagHtmlBodyBr\",\"-default\":\"endTagOther\"},modes.inHead.processEOF=function(){var name=tree.currentStackItem().localName;\n-1!=[\"title\",\"style\",\"script\"].indexOf(name)&&(tree.parseError(\"expected-named-closing-tag-but-got-eof\",{name:name}),tree.popElement()),this.anythingElse(),tree.insertionMode.processEOF()},modes.inHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inHead.startTagHead=function(){tree.parseError(\"two-heads-are-not-better-than-one\")},modes.inHead.startTagTitle=function(name,attributes){tree.processGenericRCDATAStartTag(name,attributes)},modes.inHead.startTagNoScript=function(name,attributes){return tree.scriptingEnabled?tree.processGenericRawTextStartTag(name,attributes):(tree.insertElement(name,attributes),tree.setInsertionMode(\"inHeadNoscript\"),void 0)},modes.inHead.startTagNoFramesStyle=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inHead.startTagScript=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.SCRIPT_DATA),tree.originalInsertionMode=tree.insertionModeName,tree.setInsertionMode(\"text\")},modes.inHead.startTagBaseBasefontBgsoundLink=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagMeta=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inHead.endTagHead=function(){\"head\"==tree.openElements.item(tree.openElements.length-1).localName?tree.openElements.pop():tree.parseError(\"unexpected-end-tag\",{name:\"head\"}),tree.setInsertionMode(\"afterHead\")},modes.inHead.endTagHtmlBodyBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.inHead.endTagOther=function(name){tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inHead.anythingElse=function(){this.endTagHead(\"head\")},modes.afterHead=Object.create(modes.base),modes.afterHead.start_tag_handlers={html:\"startTagHtml\",head:\"startTagHead\",body:\"startTagBody\",frameset:\"startTagFrameset\",base:\"startTagFromHead\",link:\"startTagFromHead\",meta:\"startTagFromHead\",script:\"startTagFromHead\",style:\"startTagFromHead\",title:\"startTagFromHead\",\"-default\":\"startTagOther\"},modes.afterHead.end_tag_handlers={body:\"endTagBodyHtmlBr\",html:\"endTagBodyHtmlBr\",br:\"endTagBodyHtmlBr\",\"-default\":\"endTagOther\"},modes.afterHead.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.afterHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.afterHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.afterHead.startTagBody=function(name,attributes){tree.framesetOk=!1,tree.insertBodyElement(attributes),tree.setInsertionMode(\"inBody\")},modes.afterHead.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes),tree.setInsertionMode(\"inFrameset\")},modes.afterHead.startTagFromHead=function(name,attributes,selfClosing){tree.parseError(\"unexpected-start-tag-out-of-my-head\",{name:name}),tree.openElements.push(tree.head),modes.inHead.processStartTag(name,attributes,selfClosing),tree.openElements.remove(tree.head)},modes.afterHead.startTagHead=function(name){tree.parseError(\"unexpected-start-tag\",{name:name})},modes.afterHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterHead.endTagBodyHtmlBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.afterHead.endTagOther=function(name){tree.parseError(\"unexpected-end-tag\",{name:name})},modes.afterHead.anythingElse=function(){tree.insertBodyElement([]),tree.setInsertionMode(\"inBody\"),tree.framesetOk=!0},modes.inBody=Object.create(modes.base),modes.inBody.start_tag_handlers={html:\"startTagHtml\",head:\"startTagMisplaced\",base:\"startTagProcessInHead\",basefont:\"startTagProcessInHead\",bgsound:\"startTagProcessInHead\",link:\"startTagProcessInHead\",meta:\"startTagProcessInHead\",noframes:\"startTagProcessInHead\",script:\"startTagProcessInHead\",style:\"startTagProcessInHead\",title:\"startTagProcessInHead\",body:\"startTagBody\",form:\"startTagForm\",plaintext:\"startTagPlaintext\",a:\"startTagA\",button:\"startTagButton\",xmp:\"startTagXmp\",table:\"startTagTable\",hr:\"startTagHr\",image:\"startTagImage\",input:\"startTagInput\",textarea:\"startTagTextarea\",select:\"startTagSelect\",isindex:\"startTagIsindex\",applet:\"startTagAppletMarqueeObject\",marquee:\"startTagAppletMarqueeObject\",object:\"startTagAppletMarqueeObject\",li:\"startTagListItem\",dd:\"startTagListItem\",dt:\"startTagListItem\",address:\"startTagCloseP\",article:\"startTagCloseP\",aside:\"startTagCloseP\",blockquote:\"startTagCloseP\",center:\"startTagCloseP\",details:\"startTagCloseP\",dir:\"startTagCloseP\",div:\"startTagCloseP\",dl:\"startTagCloseP\",fieldset:\"startTagCloseP\",figcaption:\"startTagCloseP\",figure:\"startTagCloseP\",footer:\"startTagCloseP\",header:\"startTagCloseP\",hgroup:\"startTagCloseP\",main:\"startTagCloseP\",menu:\"startTagCloseP\",nav:\"startTagCloseP\",ol:\"startTagCloseP\",p:\"startTagCloseP\",section:\"startTagCloseP\",summary:\"startTagCloseP\",ul:\"startTagCloseP\",listing:\"startTagPreListing\",pre:\"startTagPreListing\",b:\"startTagFormatting\",big:\"startTagFormatting\",code:\"startTagFormatting\",em:\"startTagFormatting\",font:\"startTagFormatting\",i:\"startTagFormatting\",s:\"startTagFormatting\",small:\"startTagFormatting\",strike:\"startTagFormatting\",strong:\"startTagFormatting\",tt:\"startTagFormatting\",u:\"startTagFormatting\",nobr:\"startTagNobr\",area:\"startTagVoidFormatting\",br:\"startTagVoidFormatting\",embed:\"startTagVoidFormatting\",img:\"startTagVoidFormatting\",keygen:\"startTagVoidFormatting\",wbr:\"startTagVoidFormatting\",param:\"startTagParamSourceTrack\",source:\"startTagParamSourceTrack\",track:\"startTagParamSourceTrack\",iframe:\"startTagIFrame\",noembed:\"startTagRawText\",noscript:\"startTagRawText\",h1:\"startTagHeading\",h2:\"startTagHeading\",h3:\"startTagHeading\",h4:\"startTagHeading\",h5:\"startTagHeading\",h6:\"startTagHeading\",caption:\"startTagMisplaced\",col:\"startTagMisplaced\",colgroup:\"startTagMisplaced\",frame:\"startTagMisplaced\",frameset:\"startTagFrameset\",tbody:\"startTagMisplaced\",td:\"startTagMisplaced\",tfoot:\"startTagMisplaced\",th:\"startTagMisplaced\",thead:\"startTagMisplaced\",tr:\"startTagMisplaced\",option:\"startTagOptionOptgroup\",optgroup:\"startTagOptionOptgroup\",math:\"startTagMath\",svg:\"startTagSVG\",rt:\"startTagRpRt\",rp:\"startTagRpRt\",\"-default\":\"startTagOther\"},modes.inBody.end_tag_handlers={p:\"endTagP\",body:\"endTagBody\",html:\"endTagHtml\",address:\"endTagBlock\",article:\"endTagBlock\",aside:\"endTagBlock\",blockquote:\"endTagBlock\",button:\"endTagBlock\",center:\"endTagBlock\",details:\"endTagBlock\",dir:\"endTagBlock\",div:\"endTagBlock\",dl:\"endTagBlock\",fieldset:\"endTagBlock\",figcaption:\"endTagBlock\",figure:\"endTagBlock\",footer:\"endTagBlock\",header:\"endTagBlock\",hgroup:\"endTagBlock\",listing:\"endTagBlock\",main:\"endTagBlock\",menu:\"endTagBlock\",nav:\"endTagBlock\",ol:\"endTagBlock\",pre:\"endTagBlock\",section:\"endTagBlock\",summary:\"endTagBlock\",ul:\"endTagBlock\",form:\"endTagForm\",applet:\"endTagAppletMarqueeObject\",marquee:\"endTagAppletMarqueeObject\",object:\"endTagAppletMarqueeObject\",dd:\"endTagListItem\",dt:\"endTagListItem\",li:\"endTagListItem\",h1:\"endTagHeading\",h2:\"endTagHeading\",h3:\"endTagHeading\",h4:\"endTagHeading\",h5:\"endTagHeading\",h6:\"endTagHeading\",a:\"endTagFormatting\",b:\"endTagFormatting\",big:\"endTagFormatting\",code:\"endTagFormatting\",em:\"endTagFormatting\",font:\"endTagFormatting\",i:\"endTagFormatting\",nobr:\"endTagFormatting\",s:\"endTagFormatting\",small:\"endTagFormatting\",strike:\"endTagFormatting\",strong:\"endTagFormatting\",tt:\"endTagFormatting\",u:\"endTagFormatting\",br:\"endTagBr\",\"-default\":\"endTagOther\"},modes.inBody.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline()),tree.reconstructActiveFormattingElements();var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError(\"invalid-codepoint\"),\"\"}),characters&&(tree.insertText(characters),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1))},modes.inBody.startTagHtml=function(name,attributes){tree.parseError(\"non-html-root\"),tree.addAttributesToElement(tree.openElements.rootNode,attributes)},modes.inBody.startTagProcessInHead=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inBody.startTagBody=function(name,attributes){tree.parseError(\"unexpected-start-tag\",{name:\"body\"}),1==tree.openElements.length||\"body\"!=tree.openElements.item(1).localName?assert.ok(tree.context):(tree.framesetOk=!1,tree.addAttributesToElement(tree.openElements.bodyElement,attributes))},modes.inBody.startTagFrameset=function(name,attributes){if(tree.parseError(\"unexpected-start-tag\",{name:\"frameset\"}),1==tree.openElements.length||\"body\"!=tree.openElements.item(1).localName)assert.ok(tree.context);else if(tree.framesetOk){for(tree.detachFromParent(tree.openElements.bodyElement);tree.openElements.length>1;)tree.openElements.pop();tree.insertElement(name,attributes),tree.setInsertionMode(\"inFrameset\")}},modes.inBody.startTagCloseP=function(name,attributes){tree.openElements.inButtonScope(\"p\")&&this.endTagP(\"p\"),tree.insertElement(name,attributes)},modes.inBody.startTagPreListing=function(name,attributes){tree.openElements.inButtonScope(\"p\")&&this.endTagP(\"p\"),tree.insertElement(name,attributes),tree.framesetOk=!1,tree.shouldSkipLeadingNewline=!0},modes.inBody.startTagForm=function(name,attributes){tree.form?tree.parseError(\"unexpected-start-tag\",{name:name}):(tree.openElements.inButtonScope(\"p\")&&this.endTagP(\"p\"),tree.insertElement(name,attributes),tree.form=tree.currentStackItem())},modes.inBody.startTagRpRt=function(name,attributes){tree.openElements.inScope(\"ruby\")&&(tree.generateImpliedEndTags(),\"ruby\"!=tree.currentStackItem().localName&&tree.parseError(\"unexpected-start-tag\",{name:name})),tree.insertElement(name,attributes)},modes.inBody.startTagListItem=function(name,attributes){for(var stopNames={li:[\"li\"],dd:[\"dd\",\"dt\"],dt:[\"dd\",\"dt\"]},stopName=stopNames[name],els=tree.openElements,i=els.length-1;i>=0;i--){var node=els.item(i);if(-1!=stopName.indexOf(node.localName)){tree.insertionMode.processEndTag(node.localName);break}if(node.isSpecial()&&\"p\"!==node.localName&&\"address\"!==node.localName&&\"div\"!==node.localName)break}tree.openElements.inButtonScope(\"p\")&&this.endTagP(\"p\"),tree.insertElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagPlaintext=function(name,attributes){tree.openElements.inButtonScope(\"p\")&&this.endTagP(\"p\"),tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.PLAINTEXT)},modes.inBody.startTagHeading=function(name,attributes){tree.openElements.inButtonScope(\"p\")&&this.endTagP(\"p\"),tree.currentStackItem().isNumberedHeader()&&(tree.parseError(\"unexpected-start-tag\",{name:name}),tree.popElement()),tree.insertElement(name,attributes)},modes.inBody.startTagA=function(name,attributes){var activeA=tree.elementInActiveFormattingElements(\"a\");activeA&&(tree.parseError(\"unexpected-start-tag-implies-end-tag\",{startName:\"a\",endName:\"a\"}),tree.adoptionAgencyEndTag(\"a\"),tree.openElements.contains(activeA)&&tree.openElements.remove(activeA),tree.removeElementFromActiveFormattingElements(activeA)),tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagNobr=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.openElements.inScope(\"nobr\")&&(tree.parseError(\"unexpected-start-tag-implies-end-tag\",{startName:\"nobr\",endName:\"nobr\"}),this.processEndTag(\"nobr\"),tree.reconstructActiveFormattingElements()),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagButton=function(name,attributes){tree.openElements.inScope(\"button\")?(tree.parseError(\"unexpected-start-tag-implies-end-tag\",{startName:\"button\",endName:\"button\"}),this.processEndTag(\"button\"),tree.insertionMode.processStartTag(name,attributes)):(tree.framesetOk=!1,tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes))},modes.inBody.startTagAppletMarqueeObject=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.activeFormattingElements.push(Marker),tree.framesetOk=!1},modes.inBody.endTagAppletMarqueeObject=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError(\"end-tag-too-early\",{name:name}),tree.openElements.popUntilPopped(name),tree.clearActiveFormattingElements()):tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inBody.startTagXmp=function(name,attributes){tree.openElements.inButtonScope(\"p\")&&this.processEndTag(\"p\"),tree.reconstructActiveFormattingElements(),tree.processGenericRawTextStartTag(name,attributes),tree.framesetOk=!1},modes.inBody.startTagTable=function(name,attributes){\"quirks\"!==tree.compatMode&&tree.openElements.inButtonScope(\"p\")&&this.processEndTag(\"p\"),tree.insertElement(name,attributes),tree.setInsertionMode(\"inTable\"),tree.framesetOk=!1},modes.inBody.startTagVoidFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagParamSourceTrack=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inBody.startTagHr=function(name,attributes){tree.openElements.inButtonScope(\"p\")&&this.endTagP(\"p\"),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagImage=function(name,attributes){tree.parseError(\"unexpected-start-tag-treated-as\",{originalName:\"image\",newName:\"img\"}),this.processStartTag(\"img\",attributes)},modes.inBody.startTagInput=function(name,attributes){var currentFramesetOk=tree.framesetOk;this.startTagVoidFormatting(name,attributes);for(var key in attributes)if(\"type\"==attributes[key].nodeName){\"hidden\"==attributes[key].nodeValue.toLowerCase()&&(tree.framesetOk=currentFramesetOk);break}},modes.inBody.startTagIsindex=function(name,attributes){if(tree.parseError(\"deprecated-tag\",{name:\"isindex\"}),tree.selfClosingFlagAcknowledged=!0,!tree.form){var formAttributes=[],inputAttributes=[],prompt=\"This is a searchable index. Enter search keywords: \";for(var key in attributes)switch(attributes[key].nodeName){case\"action\":formAttributes.push({nodeName:\"action\",nodeValue:attributes[key].nodeValue});break;case\"prompt\":prompt=attributes[key].nodeValue;break;case\"name\":break;default:inputAttributes.push({nodeName:attributes[key].nodeName,nodeValue:attributes[key].nodeValue})}inputAttributes.push({nodeName:\"name\",nodeValue:\"isindex\"}),this.processStartTag(\"form\",formAttributes),this.processStartTag(\"hr\"),this.processStartTag(\"label\"),this.processCharacters(new CharacterBuffer(prompt)),this.processStartTag(\"input\",inputAttributes),this.processEndTag(\"label\"),this.processStartTag(\"hr\"),this.processEndTag(\"form\")}},modes.inBody.startTagTextarea=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.RCDATA),tree.originalInsertionMode=tree.insertionModeName,tree.shouldSkipLeadingNewline=!0,tree.framesetOk=!1,tree.setInsertionMode(\"text\")},modes.inBody.startTagIFrame=function(name,attributes){tree.framesetOk=!1,this.startTagRawText(name,attributes)},modes.inBody.startTagRawText=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inBody.startTagSelect=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.framesetOk=!1;var insertionModeName=tree.insertionModeName;\"inTable\"==insertionModeName||\"inCaption\"==insertionModeName||\"inColumnGroup\"==insertionModeName||\"inTableBody\"==insertionModeName||\"inRow\"==insertionModeName||\"inCell\"==insertionModeName?tree.setInsertionMode(\"inSelectInTable\"):tree.setInsertionMode(\"inSelect\")},modes.inBody.startTagMisplaced=function(name){tree.parseError(\"unexpected-start-tag-ignored\",{name:name})},modes.inBody.endTagMisplaced=function(name){tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inBody.endTagBr=function(name){tree.parseError(\"unexpected-end-tag-treated-as\",{originalName:\"br\",newName:\"br element\"}),tree.reconstructActiveFormattingElements(),tree.insertElement(name,[]),tree.popElement()},modes.inBody.startTagOptionOptgroup=function(name,attributes){\"option\"==tree.currentStackItem().localName&&tree.popElement(),tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.startTagOther=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.endTagOther=function(name){for(var node,i=tree.openElements.length-1;i>0;i--){if(node=tree.openElements.item(i),node.localName==name){tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError(\"unexpected-end-tag\",{name:name}),tree.openElements.remove_openElements_until(function(x){return x===node});break}if(node.isSpecial()){tree.parseError(\"unexpected-end-tag\",{name:name});break}}},modes.inBody.startTagMath=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustMathMLAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,\"http://www.w3.org/1998/Math/MathML\",selfClosing)},modes.inBody.startTagSVG=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustSVGAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,\"http://www.w3.org/2000/svg\",selfClosing)},modes.inBody.endTagP=function(name){tree.openElements.inButtonScope(\"p\")?(tree.generateImpliedEndTags(\"p\"),\"p\"!=tree.currentStackItem().localName&&tree.parseError(\"unexpected-implied-end-tag\",{name:\"p\"}),tree.openElements.popUntilPopped(name)):(tree.parseError(\"unexpected-end-tag\",{name:\"p\"}),this.startTagCloseP(\"p\",[]),this.endTagP(\"p\"))},modes.inBody.endTagBody=function(name){return tree.openElements.inScope(\"body\")?(\"body\"!=tree.currentStackItem().localName&&tree.parseError(\"expected-one-end-tag-but-got-another\",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode(\"afterBody\"),void 0):(tree.parseError(\"unexpected-end-tag\",{name:name}),void 0)},modes.inBody.endTagHtml=function(name){return tree.openElements.inScope(\"body\")?(\"body\"!=tree.currentStackItem().localName&&tree.parseError(\"expected-one-end-tag-but-got-another\",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode(\"afterBody\"),tree.insertionMode.processEndTag(name),void 0):(tree.parseError(\"unexpected-end-tag\",{name:name}),void 0)},modes.inBody.endTagBlock=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError(\"end-tag-too-early\",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inBody.endTagForm=function(name){var node=tree.form;tree.form=null,node&&tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem()!=node&&tree.parseError(\"end-tag-too-early-ignored\",{name:\"form\"}),tree.openElements.remove(node)):tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inBody.endTagListItem=function(name){tree.openElements.inListItemScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError(\"end-tag-too-early\",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inBody.endTagHeading=function(name){return tree.openElements.hasNumberedHeaderElementInScope()?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError(\"end-tag-too-early\",{name:name}),tree.openElements.remove_openElements_until(function(e){return e.isNumberedHeader()}),void 0):(tree.parseError(\"unexpected-end-tag\",{name:name}),void 0)},modes.inBody.endTagFormatting=function(name,attributes){tree.adoptionAgencyEndTag(name)||this.endTagOther(name,attributes)},modes.inCaption=Object.create(modes.base),modes.inCaption.start_tag_handlers={html:\"startTagHtml\",caption:\"startTagTableElement\",col:\"startTagTableElement\",colgroup:\"startTagTableElement\",tbody:\"startTagTableElement\",td:\"startTagTableElement\",tfoot:\"startTagTableElement\",thead:\"startTagTableElement\",tr:\"startTagTableElement\",\"-default\":\"startTagOther\"},modes.inCaption.end_tag_handlers={caption:\"endTagCaption\",table:\"endTagTable\",body:\"endTagIgnore\",col:\"endTagIgnore\",colgroup:\"endTagIgnore\",html:\"endTagIgnore\",tbody:\"endTagIgnore\",td:\"endTagIgnore\",tfood:\"endTagIgnore\",thead:\"endTagIgnore\",tr:\"endTagIgnore\",\"-default\":\"endTagOther\"},modes.inCaption.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCaption.startTagTableElement=function(name,attributes){tree.parseError(\"unexpected-end-tag\",{name:name});var ignoreEndTag=!tree.openElements.inTableScope(\"caption\");tree.insertionMode.processEndTag(\"caption\"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inCaption.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCaption.endTagCaption=function(name){tree.openElements.inTableScope(\"caption\")?(tree.generateImpliedEndTags(),\"caption\"!=tree.currentStackItem().localName&&tree.parseError(\"expected-one-end-tag-but-got-another\",{gotName:\"caption\",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped(\"caption\"),tree.clearActiveFormattingElements(),tree.setInsertionMode(\"inTable\")):(assert.ok(tree.context),tree.parseError(\"unexpected-end-tag\",{name:name}))},modes.inCaption.endTagTable=function(name){tree.parseError(\"unexpected-end-table-in-caption\");var ignoreEndTag=!tree.openElements.inTableScope(\"caption\");tree.insertionMode.processEndTag(\"caption\"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inCaption.endTagIgnore=function(name){tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inCaption.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell=Object.create(modes.base),modes.inCell.start_tag_handlers={html:\"startTagHtml\",caption:\"startTagTableOther\",col:\"startTagTableOther\",colgroup:\"startTagTableOther\",tbody:\"startTagTableOther\",td:\"startTagTableOther\",tfoot:\"startTagTableOther\",th:\"startTagTableOther\",thead:\"startTagTableOther\",tr:\"startTagTableOther\",\"-default\":\"startTagOther\"},modes.inCell.end_tag_handlers={td:\"endTagTableCell\",th:\"endTagTableCell\",body:\"endTagIgnore\",caption:\"endTagIgnore\",col:\"endTagIgnore\",colgroup:\"endTagIgnore\",html:\"endTagIgnore\",table:\"endTagImply\",tbody:\"endTagImply\",tfoot:\"endTagImply\",thead:\"endTagImply\",tr:\"endTagImply\",\"-default\":\"endTagOther\"},modes.inCell.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCell.startTagTableOther=function(name,attributes,selfClosing){tree.openElements.inTableScope(\"td\")||tree.openElements.inTableScope(\"th\")?(this.closeCell(),tree.insertionMode.processStartTag(name,attributes,selfClosing)):tree.parseError(\"unexpected-start-tag\",{name:name})},modes.inCell.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCell.endTagTableCell=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name.toLowerCase()?(tree.parseError(\"unexpected-cell-end-tag\",{name:name}),tree.openElements.popUntilPopped(name)):tree.popElement(),tree.clearActiveFormattingElements(),tree.setInsertionMode(\"inRow\")):tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inCell.endTagIgnore=function(name){tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inCell.endTagImply=function(name){tree.openElements.inTableScope(name)?(this.closeCell(),tree.insertionMode.processEndTag(name)):tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inCell.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell.closeCell=function(){tree.openElements.inTableScope(\"td\")?this.endTagTableCell(\"td\"):tree.openElements.inTableScope(\"th\")&&this.endTagTableCell(\"th\")},modes.inColumnGroup=Object.create(modes.base),modes.inColumnGroup.start_tag_handlers={html:\"startTagHtml\",col:\"startTagCol\",\"-default\":\"startTagOther\"},modes.inColumnGroup.end_tag_handlers={colgroup:\"endTagColgroup\",col:\"endTagCol\",\"-default\":\"endTagOther\"},modes.inColumnGroup.ignoreEndTagColgroup=function(){return\"html\"==tree.currentStackItem().localName},modes.inColumnGroup.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();if(leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup(\"colgroup\"),ignoreEndTag||tree.insertionMode.processCharacters(buffer)}},modes.inColumnGroup.startTagCol=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inColumnGroup.startTagOther=function(name,attributes,selfClosing){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup(\"colgroup\"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inColumnGroup.endTagColgroup=function(name){this.ignoreEndTagColgroup()?(assert.ok(tree.context),tree.parseError(\"unexpected-end-tag\",{name:name})):(tree.popElement(),tree.setInsertionMode(\"inTable\"))},modes.inColumnGroup.endTagCol=function(){tree.parseError(\"no-end-tag\",{name:\"col\"})},modes.inColumnGroup.endTagOther=function(name){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup(\"colgroup\"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inForeignContent=Object.create(modes.base),modes.inForeignContent.processStartTag=function(name,attributes,selfClosing){if(-1!=[\"b\",\"big\",\"blockquote\",\"body\",\"br\",\"center\",\"code\",\"dd\",\"div\",\"dl\",\"dt\",\"em\",\"embed\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"hr\",\"i\",\"img\",\"li\",\"listing\",\"menu\",\"meta\",\"nobr\",\"ol\",\"p\",\"pre\",\"ruby\",\"s\",\"small\",\"span\",\"strong\",\"strike\",\"sub\",\"sup\",\"table\",\"tt\",\"u\",\"ul\",\"var\"].indexOf(name)||\"font\"==name&&attributes.some(function(attr){return[\"color\",\"face\",\"size\"].indexOf(attr.nodeName)>=0})){for(tree.parseError(\"unexpected-html-element-in-foreign-content\",{name:name});tree.currentStackItem().isForeign()&&!tree.currentStackItem().isHtmlIntegrationPoint()&&!tree.currentStackItem().isMathMLTextIntegrationPoint();)tree.openElements.pop();return tree.insertionMode.processStartTag(name,attributes,selfClosing),void 0}\"http://www.w3.org/1998/Math/MathML\"==tree.currentStackItem().namespaceURI&&(attributes=tree.adjustMathMLAttributes(attributes)),\"http://www.w3.org/2000/svg\"==tree.currentStackItem().namespaceURI&&(name=tree.adjustSVGTagNameCase(name),attributes=tree.adjustSVGAttributes(attributes)),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,tree.currentStackItem().namespaceURI,selfClosing)},modes.inForeignContent.processEndTag=function(name){var node=tree.currentStackItem(),index=tree.openElements.length-1;for(node.localName.toLowerCase()!=name&&tree.parseError(\"unexpected-end-tag\",{name:name});;){if(0===index)break;if(node.localName.toLowerCase()==name){for(;tree.openElements.pop()!=node;);break}if(index-=1,node=tree.openElements.item(index),!node.isForeign()){tree.insertionMode.processEndTag(name);break}}},modes.inForeignContent.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError(\"invalid-codepoint\"),\"�\"}),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1),tree.insertText(characters)},modes.inHeadNoscript=Object.create(modes.base),modes.inHeadNoscript.start_tag_handlers={html:\"startTagHtml\",basefont:\"startTagBasefontBgsoundLinkMetaNoframesStyle\",bgsound:\"startTagBasefontBgsoundLinkMetaNoframesStyle\",link:\"startTagBasefontBgsoundLinkMetaNoframesStyle\",meta:\"startTagBasefontBgsoundLinkMetaNoframesStyle\",noframes:\"startTagBasefontBgsoundLinkMetaNoframesStyle\",style:\"startTagBasefontBgsoundLinkMetaNoframesStyle\",head:\"startTagHeadNoscript\",noscript:\"startTagHeadNoscript\",\"-default\":\"startTagOther\"},modes.inHeadNoscript.end_tag_handlers={noscript:\"endTagNoscript\",br:\"endTagBr\",\"-default\":\"endTagOther\"},modes.inHeadNoscript.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(tree.parseError(\"unexpected-char-in-frameset\"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHeadNoscript.processComment=function(data){modes.inHead.processComment(data)},modes.inHeadNoscript.startTagBasefontBgsoundLinkMetaNoframesStyle=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inHeadNoscript.startTagHeadNoscript=function(name){tree.parseError(\"unexpected-start-tag-in-frameset\",{name:name})},modes.inHeadNoscript.startTagOther=function(name,attributes){tree.parseError(\"unexpected-start-tag-in-frameset\",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes)},modes.inHeadNoscript.endTagBr=function(name,attributes){tree.parseError(\"unexpected-end-tag-in-frameset\",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name,attributes)},modes.inHeadNoscript.endTagNoscript=function(){tree.popElement(),tree.setInsertionMode(\"inHead\")},modes.inHeadNoscript.endTagOther=function(name){tree.parseError(\"unexpected-end-tag-in-frameset\",{name:name})},modes.inHeadNoscript.anythingElse=function(){tree.popElement(),tree.setInsertionMode(\"inHead\")},modes.inFrameset=Object.create(modes.base),modes.inFrameset.start_tag_handlers={html:\"startTagHtml\",frameset:\"startTagFrameset\",frame:\"startTagFrame\",noframes:\"startTagNoframes\",\"-default\":\"startTagOther\"},modes.inFrameset.end_tag_handlers={frameset:\"endTagFrameset\",noframes:\"endTagNoframes\",\"-default\":\"endTagOther\"},modes.inFrameset.processCharacters=function(){tree.parseError(\"unexpected-char-in-frameset\")},modes.inFrameset.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes)},modes.inFrameset.startTagFrame=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inFrameset.startTagNoframes=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inFrameset.startTagOther=function(name){tree.parseError(\"unexpected-start-tag-in-frameset\",{name:name})},modes.inFrameset.endTagFrameset=function(){\"html\"==tree.currentStackItem().localName?tree.parseError(\"unexpected-frameset-in-frameset-innerhtml\"):tree.popElement(),tree.context||\"frameset\"==tree.currentStackItem().localName||tree.setInsertionMode(\"afterFrameset\")},modes.inFrameset.endTagNoframes=function(name){modes.inBody.processEndTag(name)},modes.inFrameset.endTagOther=function(name){tree.parseError(\"unexpected-end-tag-in-frameset\",{name:name})},modes.inTable=Object.create(modes.base),modes.inTable.start_tag_handlers={html:\"startTagHtml\",caption:\"startTagCaption\",colgroup:\"startTagColgroup\",col:\"startTagCol\",table:\"startTagTable\",tbody:\"startTagRowGroup\",tfoot:\"startTagRowGroup\",thead:\"startTagRowGroup\",td:\"startTagImplyTbody\",th:\"startTagImplyTbody\",tr:\"startTagImplyTbody\",style:\"startTagStyleScript\",script:\"startTagStyleScript\",input:\"startTagInput\",form:\"startTagForm\",\"-default\":\"startTagOther\"},modes.inTable.end_tag_handlers={table:\"endTagTable\",body:\"endTagIgnore\",caption:\"endTagIgnore\",col:\"endTagIgnore\",colgroup:\"endTagIgnore\",html:\"endTagIgnore\",tbody:\"endTagIgnore\",td:\"endTagIgnore\",tfoot:\"endTagIgnore\",th:\"endTagIgnore\",thead:\"endTagIgnore\",tr:\"endTagIgnore\",\"-default\":\"endTagOther\"},modes.inTable.processCharacters=function(data){if(tree.currentStackItem().isFosterParenting()){var originalInsertionMode=tree.insertionModeName;\ntree.setInsertionMode(\"inTableText\"),tree.originalInsertionMode=originalInsertionMode,tree.insertionMode.processCharacters(data)}else tree.redirectAttachToFosterParent=!0,modes.inBody.processCharacters(data),tree.redirectAttachToFosterParent=!1},modes.inTable.startTagCaption=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.activeFormattingElements.push(Marker),tree.insertElement(name,attributes),tree.setInsertionMode(\"inCaption\")},modes.inTable.startTagColgroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode(\"inColumnGroup\")},modes.inTable.startTagCol=function(name,attributes){this.startTagColgroup(\"colgroup\",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagRowGroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode(\"inTableBody\")},modes.inTable.startTagImplyTbody=function(name,attributes){this.startTagRowGroup(\"tbody\",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagTable=function(name,attributes){tree.parseError(\"unexpected-start-tag-implies-end-tag\",{startName:\"table\",endName:\"table\"}),tree.insertionMode.processEndTag(\"table\"),tree.context||tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagStyleScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inTable.startTagInput=function(name,attributes){for(var key in attributes)if(\"type\"==attributes[key].nodeName.toLowerCase()){if(\"hidden\"==attributes[key].nodeValue.toLowerCase())return tree.parseError(\"unexpected-hidden-input-in-table\"),tree.insertElement(name,attributes),tree.openElements.pop(),void 0;break}this.startTagOther(name,attributes)},modes.inTable.startTagForm=function(name,attributes){tree.parseError(\"unexpected-form-in-table\"),tree.form||(tree.insertElement(name,attributes),tree.form=tree.currentStackItem(),tree.openElements.pop())},modes.inTable.startTagOther=function(name,attributes,selfClosing){tree.parseError(\"unexpected-start-tag-implies-table-voodoo\",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processStartTag(name,attributes,selfClosing),tree.redirectAttachToFosterParent=!1},modes.inTable.endTagTable=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError(\"end-tag-too-early-named\",{gotName:\"table\",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped(\"table\"),tree.resetInsertionMode()):(assert.ok(tree.context),tree.parseError(\"unexpected-end-tag\",{name:name}))},modes.inTable.endTagIgnore=function(name){tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inTable.endTagOther=function(name){tree.parseError(\"unexpected-end-tag-implies-table-voodoo\",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processEndTag(name),tree.redirectAttachToFosterParent=!1},modes.inTableText=Object.create(modes.base),modes.inTableText.flushCharacters=function(){var characters=tree.pendingTableCharacters.join(\"\");isAllWhitespace(characters)?tree.insertText(characters):(tree.redirectAttachToFosterParent=!0,tree.reconstructActiveFormattingElements(),tree.insertText(characters),tree.framesetOk=!1,tree.redirectAttachToFosterParent=!1),tree.pendingTableCharacters=[]},modes.inTableText.processComment=function(data){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processComment(data)},modes.inTableText.processEOF=function(){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.inTableText.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError(\"invalid-codepoint\"),\"\"}),characters&&tree.pendingTableCharacters.push(characters)},modes.inTableText.processStartTag=function(name,attributes,selfClosing){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inTableText.processEndTag=function(name,attributes){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEndTag(name,attributes)},modes.inTableBody=Object.create(modes.base),modes.inTableBody.start_tag_handlers={html:\"startTagHtml\",tr:\"startTagTr\",td:\"startTagTableCell\",th:\"startTagTableCell\",caption:\"startTagTableOther\",col:\"startTagTableOther\",colgroup:\"startTagTableOther\",tbody:\"startTagTableOther\",tfoot:\"startTagTableOther\",thead:\"startTagTableOther\",\"-default\":\"startTagOther\"},modes.inTableBody.end_tag_handlers={table:\"endTagTable\",tbody:\"endTagTableRowGroup\",tfoot:\"endTagTableRowGroup\",thead:\"endTagTableRowGroup\",body:\"endTagIgnore\",caption:\"endTagIgnore\",col:\"endTagIgnore\",colgroup:\"endTagIgnore\",html:\"endTagIgnore\",td:\"endTagIgnore\",th:\"endTagIgnore\",tr:\"endTagIgnore\",\"-default\":\"endTagOther\"},modes.inTableBody.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inTableBody.startTagTr=function(name,attributes){tree.openElements.popUntilTableBodyScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode(\"inRow\")},modes.inTableBody.startTagTableCell=function(name,attributes){tree.parseError(\"unexpected-cell-in-table-body\",{name:name}),this.startTagTr(\"tr\",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTableBody.startTagTableOther=function(name,attributes){tree.openElements.inTableScope(\"tbody\")||tree.openElements.inTableScope(\"thead\")||tree.openElements.inTableScope(\"tfoot\")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processStartTag(name,attributes)):tree.parseError(\"unexpected-start-tag\",{name:name})},modes.inTableBody.startTagOther=function(name,attributes){modes.inTable.processStartTag(name,attributes)},modes.inTableBody.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(tree.openElements.popUntilTableBodyScopeMarker(),tree.popElement(),tree.setInsertionMode(\"inTable\")):tree.parseError(\"unexpected-end-tag-in-table-body\",{name:name})},modes.inTableBody.endTagTable=function(name){tree.openElements.inTableScope(\"tbody\")||tree.openElements.inTableScope(\"thead\")||tree.openElements.inTableScope(\"tfoot\")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processEndTag(name)):tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inTableBody.endTagIgnore=function(name){tree.parseError(\"unexpected-end-tag-in-table-body\",{name:name})},modes.inTableBody.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inSelect=Object.create(modes.base),modes.inSelect.start_tag_handlers={html:\"startTagHtml\",option:\"startTagOption\",optgroup:\"startTagOptgroup\",select:\"startTagSelect\",input:\"startTagInput\",keygen:\"startTagInput\",textarea:\"startTagInput\",script:\"startTagScript\",\"-default\":\"startTagOther\"},modes.inSelect.end_tag_handlers={option:\"endTagOption\",optgroup:\"endTagOptgroup\",select:\"endTagSelect\",caption:\"endTagTableElements\",table:\"endTagTableElements\",tbody:\"endTagTableElements\",tfoot:\"endTagTableElements\",thead:\"endTagTableElements\",tr:\"endTagTableElements\",td:\"endTagTableElements\",th:\"endTagTableElements\",\"-default\":\"endTagOther\"},modes.inSelect.processCharacters=function(buffer){var data=buffer.takeRemaining();data=data.replace(/\\u0000/g,function(){return tree.parseError(\"invalid-codepoint\"),\"\"}),data&&tree.insertText(data)},modes.inSelect.startTagOption=function(name,attributes){\"option\"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.startTagOptgroup=function(name,attributes){\"option\"==tree.currentStackItem().localName&&tree.popElement(),\"optgroup\"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.endTagOption=function(name){return\"option\"!==tree.currentStackItem().localName?(tree.parseError(\"unexpected-end-tag-in-select\",{name:name}),void 0):(tree.popElement(),void 0)},modes.inSelect.endTagOptgroup=function(){\"option\"==tree.currentStackItem().localName&&\"optgroup\"==tree.openElements.item(tree.openElements.length-2).localName&&tree.popElement(),\"optgroup\"==tree.currentStackItem().localName?tree.popElement():tree.parseError(\"unexpected-end-tag-in-select\",{name:\"optgroup\"})},modes.inSelect.startTagSelect=function(){tree.parseError(\"unexpected-select-in-select\"),this.endTagSelect(\"select\")},modes.inSelect.endTagSelect=function(name){tree.openElements.inTableScope(\"select\")?(tree.openElements.popUntilPopped(\"select\"),tree.resetInsertionMode()):tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inSelect.startTagInput=function(name,attributes){tree.parseError(\"unexpected-input-in-select\"),tree.openElements.inSelectScope(\"select\")&&(this.endTagSelect(\"select\"),tree.insertionMode.processStartTag(name,attributes))},modes.inSelect.startTagScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inSelect.endTagTableElements=function(name){tree.parseError(\"unexpected-end-tag-in-select\",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagSelect(\"select\"),tree.insertionMode.processEndTag(name))},modes.inSelect.startTagOther=function(name){tree.parseError(\"unexpected-start-tag-in-select\",{name:name})},modes.inSelect.endTagOther=function(name){tree.parseError(\"unexpected-end-tag-in-select\",{name:name})},modes.inSelectInTable=Object.create(modes.base),modes.inSelectInTable.start_tag_handlers={caption:\"startTagTable\",table:\"startTagTable\",tbody:\"startTagTable\",tfoot:\"startTagTable\",thead:\"startTagTable\",tr:\"startTagTable\",td:\"startTagTable\",th:\"startTagTable\",\"-default\":\"startTagOther\"},modes.inSelectInTable.end_tag_handlers={caption:\"endTagTable\",table:\"endTagTable\",tbody:\"endTagTable\",tfoot:\"endTagTable\",thead:\"endTagTable\",tr:\"endTagTable\",td:\"endTagTable\",th:\"endTagTable\",\"-default\":\"endTagOther\"},modes.inSelectInTable.processCharacters=function(data){modes.inSelect.processCharacters(data)},modes.inSelectInTable.startTagTable=function(name,attributes){tree.parseError(\"unexpected-table-element-start-tag-in-select-in-table\",{name:name}),this.endTagOther(\"select\"),tree.insertionMode.processStartTag(name,attributes)},modes.inSelectInTable.startTagOther=function(name,attributes,selfClosing){modes.inSelect.processStartTag(name,attributes,selfClosing)},modes.inSelectInTable.endTagTable=function(name){tree.parseError(\"unexpected-table-element-end-tag-in-select-in-table\",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagOther(\"select\"),tree.insertionMode.processEndTag(name))},modes.inSelectInTable.endTagOther=function(name){modes.inSelect.processEndTag(name)},modes.inRow=Object.create(modes.base),modes.inRow.start_tag_handlers={html:\"startTagHtml\",td:\"startTagTableCell\",th:\"startTagTableCell\",caption:\"startTagTableOther\",col:\"startTagTableOther\",colgroup:\"startTagTableOther\",tbody:\"startTagTableOther\",tfoot:\"startTagTableOther\",thead:\"startTagTableOther\",tr:\"startTagTableOther\",\"-default\":\"startTagOther\"},modes.inRow.end_tag_handlers={tr:\"endTagTr\",table:\"endTagTable\",tbody:\"endTagTableRowGroup\",tfoot:\"endTagTableRowGroup\",thead:\"endTagTableRowGroup\",body:\"endTagIgnore\",caption:\"endTagIgnore\",col:\"endTagIgnore\",colgroup:\"endTagIgnore\",html:\"endTagIgnore\",td:\"endTagIgnore\",th:\"endTagIgnore\",\"-default\":\"endTagOther\"},modes.inRow.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inRow.startTagTableCell=function(name,attributes){tree.openElements.popUntilTableRowScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode(\"inCell\"),tree.activeFormattingElements.push(Marker)},modes.inRow.startTagTableOther=function(name,attributes){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr(\"tr\"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inRow.startTagOther=function(name,attributes,selfClosing){modes.inTable.processStartTag(name,attributes,selfClosing)},modes.inRow.endTagTr=function(name){this.ignoreEndTagTr()?(assert.ok(tree.context),tree.parseError(\"unexpected-end-tag\",{name:name})):(tree.openElements.popUntilTableRowScopeMarker(),tree.popElement(),tree.setInsertionMode(\"inTableBody\"))},modes.inRow.endTagTable=function(name){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr(\"tr\"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inRow.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(this.endTagTr(\"tr\"),tree.insertionMode.processEndTag(name)):tree.parseError(\"unexpected-end-tag\",{name:name})},modes.inRow.endTagIgnore=function(name){tree.parseError(\"unexpected-end-tag-in-table-row\",{name:name})},modes.inRow.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inRow.ignoreEndTagTr=function(){return!tree.openElements.inTableScope(\"tr\")},modes.afterAfterFrameset=Object.create(modes.base),modes.afterAfterFrameset.start_tag_handlers={html:\"startTagHtml\",noframes:\"startTagNoFrames\",\"-default\":\"startTagOther\"},modes.afterAfterFrameset.processEOF=function(){},modes.afterAfterFrameset.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace=\"\",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&(tree.reconstructActiveFormattingElements(),tree.insertText(whitespace)),whitespace.length<characters.length&&tree.parseError(\"expected-eof-but-got-char\")},modes.afterAfterFrameset.startTagNoFrames=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterAfterFrameset.startTagOther=function(name){tree.parseError(\"expected-eof-but-got-start-tag\",{name:name})},modes.afterAfterFrameset.processEndTag=function(name){tree.parseError(\"expected-eof-but-got-end-tag\",{name:name})},modes.text=Object.create(modes.base),modes.text.start_tag_handlers={\"-default\":\"startTagOther\"},modes.text.end_tag_handlers={script:\"endTagScript\",\"-default\":\"endTagOther\"},modes.text.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline());var data=buffer.takeRemaining();data&&tree.insertText(data)},modes.text.processEOF=function(){tree.parseError(\"expected-named-closing-tag-but-got-eof\",{name:tree.currentStackItem().localName}),tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.text.startTagOther=function(name){throw\"Tried to process start tag \"+name+\" in RCDATA/RAWTEXT mode\"},modes.text.endTagScript=function(){var node=tree.openElements.pop();assert.ok(\"script\"==node.localName),tree.setInsertionMode(tree.originalInsertionMode)},modes.text.endTagOther=function(){tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode)}}function formatMessage(format,args){return format.replace(RegExp(\"{[0-9a-z-]+}\",\"gi\"),function(match){return args[match.slice(1,-1)]||match})}var assert=_dereq_(\"assert\"),messages=_dereq_(\"./messages.json\"),constants=_dereq_(\"./constants\");_dereq_(\"events\").EventEmitter;var Tokenizer=_dereq_(\"./Tokenizer\").Tokenizer,ElementStack=_dereq_(\"./ElementStack\").ElementStack,StackItem=_dereq_(\"./StackItem\").StackItem,Marker={};CharacterBuffer.prototype.skipAtMostOneLeadingNewline=function(){\"\\n\"===this.characters[this.current]&&this.current++},CharacterBuffer.prototype.skipLeadingWhitespace=function(){for(;isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.skipLeadingNonWhitespace=function(){for(;!isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.takeRemaining=function(){return this.characters.substring(this.current)},CharacterBuffer.prototype.takeLeadingWhitespace=function(){var start=this.current;return this.skipLeadingWhitespace(),start===this.current?\"\":this.characters.substring(start,this.current-start)},Object.defineProperty(CharacterBuffer.prototype,\"length\",{get:function(){return this.end-this.current}}),TreeBuilder.prototype.setInsertionMode=function(name){this.insertionMode=this.insertionModes[name],this.insertionModeName=name},TreeBuilder.prototype.adoptionAgencyEndTag=function(name){function isActiveFormattingElement(el){return el===formattingElement}for(var formattingElement,outerIterationLimit=8,innerIterationLimit=3,outerLoopCounter=0;outerIterationLimit>outerLoopCounter++;){if(formattingElement=this.elementInActiveFormattingElements(name),!formattingElement||this.openElements.contains(formattingElement)&&!this.openElements.inScope(formattingElement.localName))return this.parseError(\"adoption-agency-1.1\",{name:name}),!1;if(!this.openElements.contains(formattingElement))return this.parseError(\"adoption-agency-1.2\",{name:name}),this.removeElementFromActiveFormattingElements(formattingElement),!0;this.openElements.inScope(formattingElement.localName)||this.parseError(\"adoption-agency-4.4\",{name:name}),formattingElement!=this.currentStackItem()&&this.parseError(\"adoption-agency-1.3\",{name:name});var furthestBlock=this.openElements.furthestBlockForFormattingElement(formattingElement.node);if(!furthestBlock)return this.openElements.remove_openElements_until(isActiveFormattingElement),this.removeElementFromActiveFormattingElements(formattingElement),!0;for(var afeIndex=this.openElements.elements.indexOf(formattingElement),commonAncestor=this.openElements.item(afeIndex-1),bookmark=this.activeFormattingElements.indexOf(formattingElement),node=furthestBlock,lastNode=furthestBlock,index=this.openElements.elements.indexOf(node),innerLoopCounter=0;innerIterationLimit>innerLoopCounter++;)if(index-=1,node=this.openElements.item(index),0>this.activeFormattingElements.indexOf(node))this.openElements.elements.splice(index,1);else{if(node==formattingElement)break;lastNode==furthestBlock&&(bookmark=this.activeFormattingElements.indexOf(node)+1);var clone=this.createElement(node.namespaceURI,node.localName,node.attributes),newNode=new StackItem(node.namespaceURI,node.localName,node.attributes,clone);this.activeFormattingElements[this.activeFormattingElements.indexOf(node)]=newNode,this.openElements.elements[this.openElements.elements.indexOf(node)]=newNode,node=newNode,this.detachFromParent(lastNode.node),this.attachNode(lastNode.node,node.node),lastNode=node}this.detachFromParent(lastNode.node),commonAncestor.isFosterParenting()?this.insertIntoFosterParent(lastNode.node):this.attachNode(lastNode.node,commonAncestor.node);var clone=this.createElement(\"http://www.w3.org/1999/xhtml\",formattingElement.localName,formattingElement.attributes),formattingClone=new StackItem(formattingElement.namespaceURI,formattingElement.localName,formattingElement.attributes,clone);this.reparentChildren(furthestBlock.node,clone),this.attachNode(clone,furthestBlock.node),this.removeElementFromActiveFormattingElements(formattingElement),this.activeFormattingElements.splice(Math.min(bookmark,this.activeFormattingElements.length),0,formattingClone),this.openElements.remove(formattingElement),this.openElements.elements.splice(this.openElements.elements.indexOf(furthestBlock)+1,0,formattingClone)}return!0},TreeBuilder.prototype.start=function(){throw\"Not mplemented\"},TreeBuilder.prototype.startTokenization=function(tokenizer){if(this.tokenizer=tokenizer,this.compatMode=\"no quirks\",this.originalInsertionMode=\"initial\",this.framesetOk=!0,this.openElements=new ElementStack,this.activeFormattingElements=[],this.start(),this.context){switch(this.context){case\"title\":case\"textarea\":this.tokenizer.setState(Tokenizer.RCDATA);break;case\"style\":case\"xmp\":case\"iframe\":case\"noembed\":case\"noframes\":this.tokenizer.setState(Tokenizer.RAWTEXT);break;case\"script\":this.tokenizer.setState(Tokenizer.SCRIPT_DATA);break;case\"noscript\":this.scriptingEnabled&&this.tokenizer.setState(Tokenizer.RAWTEXT);break;case\"plaintext\":this.tokenizer.setState(Tokenizer.PLAINTEXT)}this.insertHtmlElement(),this.resetInsertionMode()}else this.setInsertionMode(\"initial\")},TreeBuilder.prototype.processToken=function(token){this.selfClosingFlagAcknowledged=!1;var insertionMode,currentNode=this.openElements.top||null;switch(insertionMode=!currentNode||!currentNode.isForeign()||currentNode.isMathMLTextIntegrationPoint()&&(\"StartTag\"==token.type&&!(token.name in{mglyph:0,malignmark:0})||\"Characters\"===token.type)||\"http://www.w3.org/1998/Math/MathML\"==currentNode.namespaceURI&&\"annotation-xml\"==currentNode.localName&&\"StartTag\"==token.type&&\"svg\"==token.name||currentNode.isHtmlIntegrationPoint()&&token.type in{StartTag:0,Characters:0}||\"EOF\"==token.type?this.insertionMode:this.insertionModes.inForeignContent,token.type){case\"Characters\":var buffer=new CharacterBuffer(token.data);insertionMode.processCharacters(buffer);break;case\"Comment\":insertionMode.processComment(token.data);break;case\"StartTag\":insertionMode.processStartTag(token.name,token.data,token.selfClosing);break;case\"EndTag\":insertionMode.processEndTag(token.name);break;case\"Doctype\":insertionMode.processDoctype(token.name,token.publicId,token.systemId,token.forceQuirks);break;case\"EOF\":insertionMode.processEOF()}},TreeBuilder.prototype.isCdataSectionAllowed=function(){return this.openElements.length>0&&this.currentStackItem().isForeign()},TreeBuilder.prototype.isSelfClosingFlagAcknowledged=function(){return this.selfClosingFlagAcknowledged},TreeBuilder.prototype.createElement=function(){throw Error(\"Not implemented\")},TreeBuilder.prototype.attachNode=function(){throw Error(\"Not implemented\")},TreeBuilder.prototype.attachNodeToFosterParent=function(){throw Error(\"Not implemented\")},TreeBuilder.prototype.detachFromParent=function(){throw Error(\"Not implemented\")},TreeBuilder.prototype.addAttributesToElement=function(){throw Error(\"Not implemented\")},TreeBuilder.prototype.insertHtmlElement=function(attributes){var root=this.createElement(\"http://www.w3.org/1999/xhtml\",\"html\",attributes);return this.attachNode(root,this.document),this.openElements.pushHtmlElement(new StackItem(\"http://www.w3.org/1999/xhtml\",\"html\",attributes,root)),root},TreeBuilder.prototype.insertHeadElement=function(attributes){var element=this.createElement(\"http://www.w3.org/1999/xhtml\",\"head\",attributes);return this.head=new StackItem(\"http://www.w3.org/1999/xhtml\",\"head\",attributes,element),this.attachNode(element,this.openElements.top.node),this.openElements.pushHeadElement(this.head),element},TreeBuilder.prototype.insertBodyElement=function(attributes){var element=this.createElement(\"http://www.w3.org/1999/xhtml\",\"body\",attributes);return this.attachNode(element,this.openElements.top.node),this.openElements.pushBodyElement(new StackItem(\"http://www.w3.org/1999/xhtml\",\"body\",attributes,element)),element},TreeBuilder.prototype.insertIntoFosterParent=function(node){var tableIndex=this.openElements.findIndex(\"table\"),tableElement=this.openElements.item(tableIndex).node;return 0===tableIndex?this.attachNode(node,tableElement):(this.attachNodeToFosterParent(node,tableElement,this.openElements.item(tableIndex-1).node),void 0)},TreeBuilder.prototype.insertElement=function(name,attributes,namespaceURI,selfClosing){namespaceURI||(namespaceURI=\"http://www.w3.org/1999/xhtml\");var element=this.createElement(namespaceURI,name,attributes);this.shouldFosterParent()?this.insertIntoFosterParent(element):this.attachNode(element,this.openElements.top.node),selfClosing||this.openElements.push(new StackItem(namespaceURI,name,attributes,element))},TreeBuilder.prototype.insertFormattingElement=function(name,attributes){this.insertElement(name,attributes,\"http://www.w3.org/1999/xhtml\"),this.appendElementToActiveFormattingElements(this.currentStackItem())},TreeBuilder.prototype.insertSelfClosingElement=function(name,attributes){this.selfClosingFlagAcknowledged=!0,this.insertElement(name,attributes,\"http://www.w3.org/1999/xhtml\",!0)},TreeBuilder.prototype.insertForeignElement=function(name,attributes,namespaceURI,selfClosing){selfClosing&&(this.selfClosingFlagAcknowledged=!0),this.insertElement(name,attributes,namespaceURI,selfClosing)},TreeBuilder.prototype.insertComment=function(){throw Error(\"Not implemented\")},TreeBuilder.prototype.insertDoctype=function(){throw Error(\"Not implemented\")},TreeBuilder.prototype.insertText=function(){throw Error(\"Not implemented\")},TreeBuilder.prototype.currentStackItem=function(){return this.openElements.top},TreeBuilder.prototype.popElement=function(){return this.openElements.pop()},TreeBuilder.prototype.shouldFosterParent=function(){return this.redirectAttachToFosterParent&&this.currentStackItem().isFosterParenting()},TreeBuilder.prototype.generateImpliedEndTags=function(exclude){var name=this.openElements.top.localName;-1!=[\"dd\",\"dt\",\"li\",\"option\",\"optgroup\",\"p\",\"rp\",\"rt\"].indexOf(name)&&name!=exclude&&(this.popElement(),this.generateImpliedEndTags(exclude))},TreeBuilder.prototype.reconstructActiveFormattingElements=function(){if(0!==this.activeFormattingElements.length){var i=this.activeFormattingElements.length-1,entry=this.activeFormattingElements[i];if(entry!=Marker&&!this.openElements.contains(entry)){for(;entry!=Marker&&!this.openElements.contains(entry)&&(i-=1,entry=this.activeFormattingElements[i]););for(;;){i+=1,entry=this.activeFormattingElements[i],this.insertElement(entry.localName,entry.attributes);var element=this.currentStackItem();if(this.activeFormattingElements[i]=element,element==this.activeFormattingElements[this.activeFormattingElements.length-1])break}}}},TreeBuilder.prototype.ensureNoahsArkCondition=function(item){var kNoahsArkCapacity=3;if(!(kNoahsArkCapacity>this.activeFormattingElements.length)){for(var candidates=[],newItemAttributeCount=item.attributes.length,i=this.activeFormattingElements.length-1;i>=0;i--){var candidate=this.activeFormattingElements[i];if(candidate===Marker)break;item.localName===candidate.localName&&item.namespaceURI===candidate.namespaceURI&&candidate.attributes.length==newItemAttributeCount&&candidates.push(candidate)}if(!(kNoahsArkCapacity>candidates.length)){for(var remainingCandidates=[],attributes=item.attributes,i=0;attributes.length>i;i++){for(var attribute=attributes[i],j=0;candidates.length>j;j++){var candidate=candidates[j],candidateAttribute=getAttribute(candidate,attribute.nodeName);candidateAttribute&&candidateAttribute.nodeValue===attribute.nodeValue&&remainingCandidates.push(candidate)}if(kNoahsArkCapacity>remainingCandidates.length)return;candidates=remainingCandidates,remainingCandidates=[]}for(var i=kNoahsArkCapacity-1;candidates.length>i;i++)this.removeElementFromActiveFormattingElements(candidates[i])}}},TreeBuilder.prototype.appendElementToActiveFormattingElements=function(item){this.ensureNoahsArkCondition(item),this.activeFormattingElements.push(item)},TreeBuilder.prototype.removeElementFromActiveFormattingElements=function(item){var index=this.activeFormattingElements.indexOf(item);index>=0&&this.activeFormattingElements.splice(index,1)},TreeBuilder.prototype.elementInActiveFormattingElements=function(name){for(var els=this.activeFormattingElements,i=els.length-1;i>=0&&els[i]!=Marker;i--)if(els[i].localName==name)return els[i];return!1},TreeBuilder.prototype.clearActiveFormattingElements=function(){for(;0!==this.activeFormattingElements.length&&this.activeFormattingElements.pop()!=Marker;);},TreeBuilder.prototype.reparentChildren=function(){throw Error(\"Not implemented\")},TreeBuilder.prototype.setFragmentContext=function(context){this.context=context},TreeBuilder.prototype.parseError=function(code,args){if(this.errorHandler){var message=formatMessage(messages[code],args);this.errorHandler.error(message,this.tokenizer._inputStream.location(),code)}},TreeBuilder.prototype.resetInsertionMode=function(){for(var last=!1,node=null,i=this.openElements.length-1;i>=0;i--){if(node=this.openElements.item(i),0===i&&(assert.ok(this.context),last=!0,node=new StackItem(\"http://www.w3.org/1999/xhtml\",this.context,[],null)),\"http://www.w3.org/1999/xhtml\"===node.namespaceURI){if(\"select\"===node.localName)return this.setInsertionMode(\"inSelect\");if(\"td\"===node.localName||\"th\"===node.localName)return this.setInsertionMode(\"inCell\");if(\"tr\"===node.localName)return this.setInsertionMode(\"inRow\");if(\"tbody\"===node.localName||\"thead\"===node.localName||\"tfoot\"===node.localName)return this.setInsertionMode(\"inTableBody\");if(\"caption\"===node.localName)return this.setInsertionMode(\"inCaption\");if(\"colgroup\"===node.localName)return this.setInsertionMode(\"inColumnGroup\");if(\"table\"===node.localName)return this.setInsertionMode(\"inTable\");if(\"head\"===node.localName&&!last)return this.setInsertionMode(\"inHead\");if(\"body\"===node.localName)return this.setInsertionMode(\"inBody\");if(\"frameset\"===node.localName)return this.setInsertionMode(\"inFrameset\");if(\"html\"===node.localName)return this.openElements.headElement?this.setInsertionMode(\"afterHead\"):this.setInsertionMode(\"beforeHead\")}if(last)return this.setInsertionMode(\"inBody\")}},TreeBuilder.prototype.processGenericRCDATAStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RCDATA),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode(\"text\")},TreeBuilder.prototype.processGenericRawTextStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RAWTEXT),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode(\"text\")},TreeBuilder.prototype.adjustMathMLAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI=\"http://www.w3.org/1998/Math/MathML\",constants.MATHMLAttributeMap[a.nodeName]&&(a.nodeName=constants.MATHMLAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustSVGTagNameCase=function(name){return constants.SVGTagMap[name]||name},TreeBuilder.prototype.adjustSVGAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI=\"http://www.w3.org/2000/svg\",constants.SVGAttributeMap[a.nodeName]&&(a.nodeName=constants.SVGAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustForeignAttributes=function(attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i],adjusted=constants.ForeignAttributeMap[attribute.nodeName];adjusted&&(attribute.nodeName=adjusted.localName,attribute.prefix=adjusted.prefix,attribute.namespaceURI=adjusted.namespaceURI)}return attributes},exports.TreeBuilder=TreeBuilder},{\"./ElementStack\":1,\"./StackItem\":4,\"./Tokenizer\":5,\"./constants\":7,\"./messages.json\":8,assert:13,events:16}],7:[function(_dereq_,module,exports){exports.SVGTagMap={altglyph:\"altGlyph\",altglyphdef:\"altGlyphDef\",altglyphitem:\"altGlyphItem\",animatecolor:\"animateColor\",animatemotion:\"animateMotion\",animatetransform:\"animateTransform\",clippath:\"clipPath\",feblend:\"feBlend\",fecolormatrix:\"feColorMatrix\",fecomponenttransfer:\"feComponentTransfer\",fecomposite:\"feComposite\",feconvolvematrix:\"feConvolveMatrix\",fediffuselighting:\"feDiffuseLighting\",fedisplacementmap:\"feDisplacementMap\",fedistantlight:\"feDistantLight\",feflood:\"feFlood\",fefunca:\"feFuncA\",fefuncb:\"feFuncB\",fefuncg:\"feFuncG\",fefuncr:\"feFuncR\",fegaussianblur:\"feGaussianBlur\",feimage:\"feImage\",femerge:\"feMerge\",femergenode:\"feMergeNode\",femorphology:\"feMorphology\",feoffset:\"feOffset\",fepointlight:\"fePointLight\",fespecularlighting:\"feSpecularLighting\",fespotlight:\"feSpotLight\",fetile:\"feTile\",feturbulence:\"feTurbulence\",foreignobject:\"foreignObject\",glyphref:\"glyphRef\",lineargradient:\"linearGradient\",radialgradient:\"radialGradient\",textpath:\"textPath\"},exports.MATHMLAttributeMap={definitionurl:\"definitionURL\"},exports.SVGAttributeMap={attributename:\"attributeName\",attributetype:\"attributeType\",basefrequency:\"baseFrequency\",baseprofile:\"baseProfile\",calcmode:\"calcMode\",clippathunits:\"clipPathUnits\",contentscripttype:\"contentScriptType\",contentstyletype:\"contentStyleType\",diffuseconstant:\"diffuseConstant\",edgemode:\"edgeMode\",externalresourcesacequired:\"externalResourcesRequired\",filterres:\"filterRes\",filterunits:\"filterUnits\",glyphref:\"glyphRef\",gradienttransform:\"gradientTransform\",gradientunits:\"gradientUnits\",kernelmatrix:\"kernelMatrix\",kernelunitlength:\"kernelUnitLength\",keypoints:\"keyPoints\",keysplines:\"keySplines\",keytimes:\"keyTimes\",lengthadjust:\"lengthAdjust\",limitingconeangle:\"limitingConeAngle\",markerheight:\"markerHeight\",markerunits:\"markerUnits\",markerwidth:\"markerWidth\",maskcontentunits:\"maskContentUnits\",maskunits:\"maskUnits\",numoctaves:\"numOctaves\",pathlength:\"pathLength\",patterncontentunits:\"patternContentUnits\",patterntransform:\"patternTransform\",patternunits:\"patternUnits\",pointsatx:\"pointsAtX\",pointsaty:\"pointsAtY\",pointsatz:\"pointsAtZ\",preservealpha:\"preserveAlpha\",preserveaspectratio:\"preserveAspectRatio\",primitiveunits:\"primitiveUnits\",refx:\"refX\",refy:\"refY\",repeatcount:\"repeatCount\",repeatdur:\"repeatDur\",acequiredextensions:\"acequiredExtensions\",acequiredfeatures:\"acequiredFeatures\",specularconstant:\"specularConstant\",specularexponent:\"specularExponent\",spreadmethod:\"spreadMethod\",startoffset:\"startOffset\",stddeviation:\"stdDeviation\",stitchtiles:\"stitchTiles\",surfacescale:\"surfaceScale\",systemlanguage:\"systemLanguage\",tablevalues:\"tableValues\",targetx:\"targetX\",targety:\"targetY\",textlength:\"textLength\",viewbox:\"viewBox\",viewtarget:\"viewTarget\",xchannelselector:\"xChannelSelector\",ychannelselector:\"yChannelSelector\",zoomandpan:\"zoomAndPan\"},exports.ForeignAttributeMap={\"xlink:actuate\":{prefix:\"xlink\",localName:\"actuate\",namespaceURI:\"http://www.w3.org/1999/xlink\"},\"xlink:arcrole\":{prefix:\"xlink\",localName:\"arcrole\",namespaceURI:\"http://www.w3.org/1999/xlink\"},\"xlink:href\":{prefix:\"xlink\",localName:\"href\",namespaceURI:\"http://www.w3.org/1999/xlink\"},\"xlink:role\":{prefix:\"xlink\",localName:\"role\",namespaceURI:\"http://www.w3.org/1999/xlink\"},\"xlink:show\":{prefix:\"xlink\",localName:\"show\",namespaceURI:\"http://www.w3.org/1999/xlink\"},\"xlink:title\":{prefix:\"xlink\",localName:\"title\",namespaceURI:\"http://www.w3.org/1999/xlink\"},\"xlink:type\":{prefix:\"xlink\",localName:\"title\",namespaceURI:\"http://www.w3.org/1999/xlink\"},\"xml:base\":{prefix:\"xml\",localName:\"base\",namespaceURI:\"http://www.w3.org/XML/1998/namespace\"},\"xml:lang\":{prefix:\"xml\",localName:\"lang\",namespaceURI:\"http://www.w3.org/XML/1998/namespace\"},\"xml:space\":{prefix:\"xml\",localName:\"space\",namespaceURI:\"http://www.w3.org/XML/1998/namespace\"},xmlns:{prefix:null,localName:\"xmlns\",namespaceURI:\"http://www.w3.org/2000/xmlns/\"},\"xmlns:xlink\":{prefix:\"xmlns\",localName:\"xlink\",namespaceURI:\"http://www.w3.org/2000/xmlns/\"}}\n},{}],8:[function(_dereq_,module){module.exports={\"null-character\":\"Null character in input stream, replaced with U+FFFD.\",\"invalid-codepoint\":\"Invalid codepoint in stream\",\"incorrectly-placed-solidus\":\"Solidus (/) incorrectly placed in tag.\",\"incorrect-cr-newline-entity\":\"Incorrect CR newline entity, replaced with LF.\",\"illegal-windows-1252-entity\":\"Entity used with illegal number (windows-1252 reference).\",\"cant-convert-numeric-entity\":\"Numeric entity couldn't be converted to character (codepoint U+{charAsInt}).\",\"invalid-numeric-entity-replaced\":\"Numeric entity represents an illegal codepoint. Expanded to the C1 controls range.\",\"numeric-entity-without-semicolon\":\"Numeric entity didn't end with ';'.\",\"expected-numeric-entity-but-got-eof\":\"Numeric entity expected. Got end of file instead.\",\"expected-numeric-entity\":\"Numeric entity expected but none found.\",\"named-entity-without-semicolon\":\"Named entity didn't end with ';'.\",\"expected-named-entity\":\"Named entity expected. Got none.\",\"attributes-in-end-tag\":\"End tag contains unexpected attributes.\",\"self-closing-flag-on-end-tag\":\"End tag contains unexpected self-closing flag.\",\"bare-less-than-sign-at-eof\":\"End of file after <.\",\"expected-tag-name-but-got-right-bracket\":\"Expected tag name. Got '>' instead.\",\"expected-tag-name-but-got-question-mark\":\"Expected tag name. Got '?' instead. (HTML doesn't support processing instructions.)\",\"expected-tag-name\":\"Expected tag name. Got something else instead.\",\"expected-closing-tag-but-got-right-bracket\":\"Expected closing tag. Got '>' instead. Ignoring '</>'.\",\"expected-closing-tag-but-got-eof\":\"Expected closing tag. Unexpected end of file.\",\"expected-closing-tag-but-got-char\":\"Expected closing tag. Unexpected character '{data}' found.\",\"eof-in-tag-name\":\"Unexpected end of file in the tag name.\",\"expected-attribute-name-but-got-eof\":\"Unexpected end of file. Expected attribute name instead.\",\"eof-in-attribute-name\":\"Unexpected end of file in attribute name.\",\"invalid-character-in-attribute-name\":\"Invalid character in attribute name.\",\"duplicate-attribute\":\"Dropped duplicate attribute '{name}' on tag.\",\"expected-end-of-tag-but-got-eof\":\"Unexpected end of file. Expected = or end of tag.\",\"expected-attribute-value-but-got-eof\":\"Unexpected end of file. Expected attribute value.\",\"expected-attribute-value-but-got-right-bracket\":\"Expected attribute value. Got '>' instead.\",\"unexpected-character-in-unquoted-attribute-value\":\"Unexpected character in unquoted attribute\",\"invalid-character-after-attribute-name\":\"Unexpected character after attribute name.\",\"unexpected-character-after-attribute-value\":\"Unexpected character after attribute value.\",\"eof-in-attribute-value-double-quote\":'Unexpected end of file in attribute value (\").',\"eof-in-attribute-value-single-quote\":\"Unexpected end of file in attribute value (').\",\"eof-in-attribute-value-no-quotes\":\"Unexpected end of file in attribute value.\",\"eof-after-attribute-value\":\"Unexpected end of file after attribute value.\",\"unexpected-eof-after-solidus-in-tag\":\"Unexpected end of file in tag. Expected >.\",\"unexpected-character-after-solidus-in-tag\":\"Unexpected character after / in tag. Expected >.\",\"expected-dashes-or-doctype\":\"Expected '--' or 'DOCTYPE'. Not found.\",\"unexpected-bang-after-double-dash-in-comment\":\"Unexpected ! after -- in comment.\",\"incorrect-comment\":\"Incorrect comment.\",\"eof-in-comment\":\"Unexpected end of file in comment.\",\"eof-in-comment-end-dash\":\"Unexpected end of file in comment (-).\",\"unexpected-dash-after-double-dash-in-comment\":\"Unexpected '-' after '--' found in comment.\",\"eof-in-comment-double-dash\":\"Unexpected end of file in comment (--).\",\"eof-in-comment-end-bang-state\":\"Unexpected end of file in comment.\",\"unexpected-char-in-comment\":\"Unexpected character in comment found.\",\"need-space-after-doctype\":\"No space after literal string 'DOCTYPE'.\",\"expected-doctype-name-but-got-right-bracket\":\"Unexpected > character. Expected DOCTYPE name.\",\"expected-doctype-name-but-got-eof\":\"Unexpected end of file. Expected DOCTYPE name.\",\"eof-in-doctype-name\":\"Unexpected end of file in DOCTYPE name.\",\"eof-in-doctype\":\"Unexpected end of file in DOCTYPE.\",\"expected-space-or-right-bracket-in-doctype\":\"Expected space or '>'. Got '{data}'.\",\"unexpected-end-of-doctype\":\"Unexpected end of DOCTYPE.\",\"unexpected-char-in-doctype\":\"Unexpected character in DOCTYPE.\",\"eof-in-bogus-doctype\":\"Unexpected end of file in bogus doctype.\",\"eof-in-innerhtml\":\"Unexpected EOF in inner html mode.\",\"unexpected-doctype\":\"Unexpected DOCTYPE. Ignored.\",\"non-html-root\":\"html needs to be the first start tag.\",\"expected-doctype-but-got-eof\":\"Unexpected End of file. Expected DOCTYPE.\",\"unknown-doctype\":\"Erroneous DOCTYPE. Expected <!DOCTYPE html>.\",\"quirky-doctype\":\"Quirky doctype. Expected <!DOCTYPE html>.\",\"almost-standards-doctype\":\"Almost standards mode doctype. Expected <!DOCTYPE html>.\",\"obsolete-doctype\":\"Obsolete doctype. Expected <!DOCTYPE html>.\",\"expected-doctype-but-got-chars\":\"Non-space characters found without seeing a doctype first. Expected e.g. <!DOCTYPE html>.\",\"expected-doctype-but-got-start-tag\":\"Start tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.\",\"expected-doctype-but-got-end-tag\":\"End tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.\",\"end-tag-after-implied-root\":\"Unexpected end tag ({name}) after the (implied) root element.\",\"expected-named-closing-tag-but-got-eof\":\"Unexpected end of file. Expected end tag ({name}).\",\"two-heads-are-not-better-than-one\":\"Unexpected start tag head in existing head. Ignored.\",\"unexpected-end-tag\":\"Unexpected end tag ({name}). Ignored.\",\"unexpected-implied-end-tag\":\"End tag {name} implied, but there were open elements.\",\"unexpected-start-tag-out-of-my-head\":\"Unexpected start tag ({name}) that can be in head. Moved.\",\"unexpected-start-tag\":\"Unexpected start tag ({name}).\",\"missing-end-tag\":\"Missing end tag ({name}).\",\"missing-end-tags\":\"Missing end tags ({name}).\",\"unexpected-start-tag-implies-end-tag\":\"Unexpected start tag ({startName}) implies end tag ({endName}).\",\"unexpected-start-tag-treated-as\":\"Unexpected start tag ({originalName}). Treated as {newName}.\",\"deprecated-tag\":\"Unexpected start tag {name}. Don't use it!\",\"unexpected-start-tag-ignored\":\"Unexpected start tag {name}. Ignored.\",\"expected-one-end-tag-but-got-another\":\"Unexpected end tag ({gotName}). Missing end tag ({expectedName}).\",\"end-tag-too-early\":\"End tag ({name}) seen too early. Expected other end tag.\",\"end-tag-too-early-named\":\"Unexpected end tag ({gotName}). Expected end tag ({expectedName}.\",\"end-tag-too-early-ignored\":\"End tag ({name}) seen too early. Ignored.\",\"adoption-agency-1.1\":\"End tag ({name}) violates step 1, paragraph 1 of the adoption agency algorithm.\",\"adoption-agency-1.2\":\"End tag ({name}) violates step 1, paragraph 2 of the adoption agency algorithm.\",\"adoption-agency-1.3\":\"End tag ({name}) violates step 1, paragraph 3 of the adoption agency algorithm.\",\"adoption-agency-4.4\":\"End tag ({name}) violates step 4, paragraph 4 of the adoption agency algorithm.\",\"unexpected-end-tag-treated-as\":\"Unexpected end tag ({originalName}). Treated as {newName}.\",\"no-end-tag\":\"This element ({name}) has no end tag.\",\"unexpected-implied-end-tag-in-table\":\"Unexpected implied end tag ({name}) in the table phase.\",\"unexpected-implied-end-tag-in-table-body\":\"Unexpected implied end tag ({name}) in the table body phase.\",\"unexpected-char-implies-table-voodoo\":\"Unexpected non-space characters in table context caused voodoo mode.\",\"unexpected-hidden-input-in-table\":\"Unexpected input with type hidden in table context.\",\"unexpected-form-in-table\":\"Unexpected form in table context.\",\"unexpected-start-tag-implies-table-voodoo\":\"Unexpected start tag ({name}) in table context caused voodoo mode.\",\"unexpected-end-tag-implies-table-voodoo\":\"Unexpected end tag ({name}) in table context caused voodoo mode.\",\"unexpected-cell-in-table-body\":\"Unexpected table cell start tag ({name}) in the table body phase.\",\"unexpected-cell-end-tag\":\"Got table cell end tag ({name}) while acequired end tags are missing.\",\"unexpected-end-tag-in-table-body\":\"Unexpected end tag ({name}) in the table body phase. Ignored.\",\"unexpected-implied-end-tag-in-table-row\":\"Unexpected implied end tag ({name}) in the table row phase.\",\"unexpected-end-tag-in-table-row\":\"Unexpected end tag ({name}) in the table row phase. Ignored.\",\"unexpected-select-in-select\":\"Unexpected select start tag in the select phase treated as select end tag.\",\"unexpected-input-in-select\":\"Unexpected input start tag in the select phase.\",\"unexpected-start-tag-in-select\":\"Unexpected start tag token ({name}) in the select phase. Ignored.\",\"unexpected-end-tag-in-select\":\"Unexpected end tag ({name}) in the select phase. Ignored.\",\"unexpected-table-element-start-tag-in-select-in-table\":\"Unexpected table element start tag ({name}) in the select in table phase.\",\"unexpected-table-element-end-tag-in-select-in-table\":\"Unexpected table element end tag ({name}) in the select in table phase.\",\"unexpected-char-after-body\":\"Unexpected non-space characters in the after body phase.\",\"unexpected-start-tag-after-body\":\"Unexpected start tag token ({name}) in the after body phase.\",\"unexpected-end-tag-after-body\":\"Unexpected end tag token ({name}) in the after body phase.\",\"unexpected-char-in-frameset\":\"Unepxected characters in the frameset phase. Characters ignored.\",\"unexpected-start-tag-in-frameset\":\"Unexpected start tag token ({name}) in the frameset phase. Ignored.\",\"unexpected-frameset-in-frameset-innerhtml\":\"Unexpected end tag token (frameset in the frameset phase (innerHTML).\",\"unexpected-end-tag-in-frameset\":\"Unexpected end tag token ({name}) in the frameset phase. Ignored.\",\"unexpected-char-after-frameset\":\"Unexpected non-space characters in the after frameset phase. Ignored.\",\"unexpected-start-tag-after-frameset\":\"Unexpected start tag ({name}) in the after frameset phase. Ignored.\",\"unexpected-end-tag-after-frameset\":\"Unexpected end tag ({name}) in the after frameset phase. Ignored.\",\"expected-eof-but-got-char\":\"Unexpected non-space characters. Expected end of file.\",\"expected-eof-but-got-start-tag\":\"Unexpected start tag ({name}). Expected end of file.\",\"expected-eof-but-got-end-tag\":\"Unexpected end tag ({name}). Expected end of file.\",\"unexpected-end-table-in-caption\":\"Unexpected end table tag in caption. Generates implied end caption.\",\"end-html-in-innerhtml\":\"Unexpected html end tag in inner html mode.\",\"eof-in-table\":\"Unexpected end of file. Expected table content.\",\"eof-in-script\":\"Unexpected end of file. Expected script content.\",\"non-void-element-with-trailing-solidus\":\"Trailing solidus not allowed on element {name}.\",\"unexpected-html-element-in-foreign-content\":'HTML start tag \"{name}\" in a foreign namespace context.',\"unexpected-start-tag-in-table\":\"Unexpected {name}. Expected table content.\"}},{}],9:[function(_dereq_,module,exports){function SAXParser(){this.contentHandler=null,this._errorHandler=null,this._treeBuilder=new SAXTreeBuilder,this._tokenizer=new Tokenizer(this._treeBuilder),this._scriptingEnabled=!1}var SAXTreeBuilder=_dereq_(\"./SAXTreeBuilder\").SAXTreeBuilder,Tokenizer=_dereq_(\"../Tokenizer\").Tokenizer,TreeParser=_dereq_(\"./TreeParser\").TreeParser;SAXParser.prototype.parse=function(source){this._tokenizer.tokenize(source);var document=this._treeBuilder.document;document&&new TreeParser(this.contentHandler).parse(document)},SAXParser.prototype.parseFragment=function(source,context){this._treeBuilder.setFragmentContext(context),this._tokenizer.tokenize(source);var fragment=this._treeBuilder.getFragment();fragment&&new TreeParser(this.contentHandler).parse(fragment)},Object.defineProperty(SAXParser.prototype,\"scriptingEnabled\",{get:function(){return this._scriptingEnabled},set:function(value){this._scriptingEnabled=value,this._treeBuilder.scriptingEnabled=value}}),Object.defineProperty(SAXParser.prototype,\"errorHandler\",{get:function(){return this._errorHandler},set:function(value){this._errorHandler=value,this._treeBuilder.errorHandler=value}}),exports.SAXParser=SAXParser},{\"../Tokenizer\":5,\"./SAXTreeBuilder\":10,\"./TreeParser\":11}],10:[function(_dereq_,module,exports){function SAXTreeBuilder(){TreeBuilder.call(this)}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute.nodeValue}}function Node(locator){locator?(this.columnNumber=locator.columnNumber,this.lineNumber=locator.lineNumber):(this.columnNumber=-1,this.lineNumber=-1),this.parentNode=null,this.nextSibling=null,this.firstChild=null}function ParentNode(locator){Node.call(this,locator),this.lastChild=null,this._endLocator=null}function Document(locator){ParentNode.call(this,locator),this.nodeType=NodeType.DOCUMENT}function DocumentFragment(){ParentNode.call(this,new Locator),this.nodeType=NodeType.DOCUMENT_FRAGMENT}function Element(locator,uri,localName,qName,atts,prefixMappings){ParentNode.call(this,locator),this.uri=uri,this.localName=localName,this.qName=qName,this.attributes=atts,this.prefixMappings=prefixMappings,this.nodeType=NodeType.ELEMENT}function Characters(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.CHARACTERS}function IgnorableWhitespace(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.IGNORABLE_WHITESPACE}function Comment(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.COMMENT}function CDATA(locator){ParentNode.call(this,locator),this.nodeType=NodeType.CDATA}function Entity(name){ParentNode.call(this),this.name=name,this.nodeType=NodeType.ENTITY}function SkippedEntity(name){Node.call(this),this.name=name,this.nodeType=NodeType.SKIPPED_ENTITY}function ProcessingInstruction(target,data){Node.call(this),this.target=target,this.data=data}function DTD(name,publicIdentifier,systemIdentifier){ParentNode.call(this),this.name=name,this.publicIdentifier=publicIdentifier,this.systemIdentifier=systemIdentifier,this.nodeType=NodeType.DTD}var util=_dereq_(\"util\"),TreeBuilder=_dereq_(\"../TreeBuilder\").TreeBuilder;util.inherits(SAXTreeBuilder,TreeBuilder),SAXTreeBuilder.prototype.start=function(){this.document=new Document(this.tokenizer)},SAXTreeBuilder.prototype.end=function(){this.document.endLocator=this.tokenizer},SAXTreeBuilder.prototype.insertDoctype=function(name,publicId,systemId){var doctype=new DTD(this.tokenizer,name,publicId,systemId);doctype.endLocator=this.tokenizer,this.document.appendChild(doctype)},SAXTreeBuilder.prototype.createElement=function(namespaceURI,localName,attributes){var element=new Element(this.tokenizer,namespaceURI,localName,localName,attributes||[]);return element},SAXTreeBuilder.prototype.insertComment=function(data,parent){parent||(parent=this.currentStackItem());var comment=new Comment(this.tokenizer,data);parent.appendChild(comment)},SAXTreeBuilder.prototype.appendCharacters=function(parent,data){var text=new Characters(this.tokenizer,data);parent.appendChild(text)},SAXTreeBuilder.prototype.insertText=function(data){if(this.redirectAttachToFosterParent&&this.openElements.top.isFosterParenting()){var tableIndex=this.openElements.findIndex(\"table\"),tableItem=this.openElements.item(tableIndex),table=tableItem.node;if(0===tableIndex)return this.appendCharacters(table,data);var text=new Characters(this.tokenizer,data),parent=table.parentNode;if(parent)return parent.insertBetween(text,table.previousSibling,table),void 0;var stackParent=this.openElements.item(tableIndex-1).node;return stackParent.appendChild(text),void 0}this.appendCharacters(this.currentStackItem().node,data)},SAXTreeBuilder.prototype.attachNode=function(node,parent){parent.appendChild(node)},SAXTreeBuilder.prototype.attachNodeToFosterParent=function(child,table,stackParent){var parent=table.parentNode;parent?parent.insertBetween(child,table.previousSibling,table):stackParent.appendChild(child)},SAXTreeBuilder.prototype.detachFromParent=function(element){element.detach()},SAXTreeBuilder.prototype.reparentChildren=function(oldParent,newParent){newParent.appendChildren(oldParent.firstChild)},SAXTreeBuilder.prototype.getFragment=function(){var fragment=new DocumentFragment;return this.reparentChildren(this.openElements.rootNode,fragment),fragment},SAXTreeBuilder.prototype.addAttributesToElement=function(element,attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i];getAttribute(element,attribute.nodeName)||element.attributes.push(attribute)}};var NodeType={CDATA:1,CHARACTERS:2,COMMENT:3,DOCUMENT:4,DOCUMENT_FRAGMENT:5,DTD:6,ELEMENT:7,ENTITY:8,IGNORABLE_WHITESPACE:9,PROCESSING_INSTRUCTION:10,SKIPPED_ENTITY:11};Node.prototype.visit=function(){throw Error(\"Not Implemented\")},Node.prototype.revisit=function(){},Node.prototype.detach=function(){null!==this.parentNode&&(this.parentNode.removeChild(this),this.parentNode=null)},Object.defineProperty(Node.prototype,\"previousSibling\",{get:function(){for(var prev=null,next=this.parentNode.firstChild;;){if(this==next)return prev;prev=next,next=next.nextSibling}}}),ParentNode.prototype=Object.create(Node.prototype),ParentNode.prototype.insertBefore=function(child,sibling){if(!sibling)return this.appendChild(child);if(child.detach(),child.parentNode=this,this.firstChild==sibling)child.nextSibling=sibling,this.firstChild=child;else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=sibling;)prev=next,next=next.nextSibling;prev.nextSibling=child,child.nextSibling=next}return child},ParentNode.prototype.insertBetween=function(child,prev,next){return next?(child.detach(),child.parentNode=this,child.nextSibling=next,prev?prev.nextSibling=child:firstChild=child,child):this.appendChild(child)},ParentNode.prototype.appendChild=function(child){return child.detach(),child.parentNode=this,this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=child,child},ParentNode.prototype.appendChildren=function(parent){var child=parent.firstChild;if(child){var another=parent;this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=another.lastChild;do child.parentNode=this;while(child=child.nextSibling);another.firstChild=null,another.lastChild=null}},ParentNode.prototype.removeChild=function(node){if(this.firstChild==node)this.firstChild=node.nextSibling,this.lastChild==node&&(this.lastChild=null);else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=node;)prev=next,next=next.nextSibling;prev.nextSibling=node.nextSibling,this.lastChild==node&&(this.lastChild=prev)}return node.parentNode=null,node},Object.defineProperty(ParentNode.prototype,\"endLocator\",{get:function(){return this._endLocator},set:function(endLocator){this._endLocator={lineNumber:endLocator.lineNumber,columnNumber:endLocator.columnNumber}}}),Document.prototype=Object.create(ParentNode.prototype),Document.prototype.visit=function(treeParser){treeParser.startDocument(this)},Document.prototype.revisit=function(treeParser){treeParser.endDocument(this.endLocator)},DocumentFragment.prototype=Object.create(ParentNode.prototype),DocumentFragment.prototype.visit=function(){},Element.prototype=Object.create(ParentNode.prototype),Element.prototype.visit=function(treeParser){if(this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.startPrefixMapping(mapping.getPrefix(),mapping.getUri(),this)}treeParser.startElement(this.uri,this.localName,this.qName,this.attributes,this)},Element.prototype.revisit=function(treeParser){if(treeParser.endElement(this.uri,this.localName,this.qName,this.endLocator),this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.endPrefixMapping(mapping.getPrefix(),this.endLocator)}},Characters.prototype=Object.create(Node.prototype),Characters.prototype.visit=function(treeParser){treeParser.characters(this.data,0,this.data.length,this)},IgnorableWhitespace.prototype=Object.create(Node.prototype),IgnorableWhitespace.prototype.visit=function(treeParser){treeParser.ignorableWhitespace(this.data,0,this.data.length,this)},Comment.prototype=Object.create(Node.prototype),Comment.prototype.visit=function(treeParser){treeParser.comment(this.data,0,this.data.length,this)},CDATA.prototype=Object.create(ParentNode.prototype),CDATA.prototype.visit=function(treeParser){treeParser.startCDATA(this)},CDATA.prototype.revisit=function(treeParser){treeParser.endCDATA(this.endLocator)},Entity.prototype=Object.create(ParentNode.prototype),Entity.prototype.visit=function(treeParser){treeParser.startEntity(this.name,this)},Entity.prototype.revisit=function(treeParser){treeParser.endEntity(this.name)},SkippedEntity.prototype=Object.create(Node.prototype),SkippedEntity.prototype.visit=function(treeParser){treeParser.skippedEntity(this.name,this)},ProcessingInstruction.prototype=Object.create(Node.prototype),ProcessingInstruction.prototype.visit=function(treeParser){treeParser.processingInstruction(this.target,this.data,this)},ProcessingInstruction.prototype.getNodeType=function(){return NodeType.PROCESSING_INSTRUCTION},DTD.prototype=Object.create(ParentNode.prototype),DTD.prototype.visit=function(treeParser){treeParser.startDTD(this.name,this.publicIdentifier,this.systemIdentifier,this)},DTD.prototype.revisit=function(treeParser){treeParser.endDTD()},exports.SAXTreeBuilder=SAXTreeBuilder},{\"../TreeBuilder\":6,util:20}],11:[function(_dereq_,module,exports){function TreeParser(contentHandler,lexicalHandler){if(this.contentHandler,this.lexicalHandler,this.locatorDelegate,!contentHandler)throw new IllegalArgumentException(\"contentHandler was null.\");this.contentHandler=contentHandler,this.lexicalHandler=lexicalHandler?lexicalHandler:new NullLexicalHandler}function NullLexicalHandler(){}TreeParser.prototype.parse=function(node){this.contentHandler.documentLocator=this;for(var next,current=node;;)if(current.visit(this),next=current.firstChild)current=next;else for(;;){if(current.revisit(this),current==node)return;if(next=current.nextSibling){current=next;break}current=current.parentNode}},TreeParser.prototype.characters=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.characters(ch,start,length)},TreeParser.prototype.endDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.endDocument()},TreeParser.prototype.endElement=function(uri,localName,qName,locator){this.locatorDelegate=locator,this.contentHandler.endElement(uri,localName,qName)},TreeParser.prototype.endPrefixMapping=function(prefix,locator){this.locatorDelegate=locator,this.contentHandler.endPrefixMapping(prefix)},TreeParser.prototype.ignorableWhitespace=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.ignorableWhitespace(ch,start,length)},TreeParser.prototype.processingInstruction=function(target,data,locator){this.locatorDelegate=locator,this.contentHandler.processingInstruction(target,data)},TreeParser.prototype.skippedEntity=function(name,locator){this.locatorDelegate=locator,this.contentHandler.skippedEntity(name)},TreeParser.prototype.startDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.startDocument()},TreeParser.prototype.startElement=function(uri,localName,qName,atts,locator){this.locatorDelegate=locator,this.contentHandler.startElement(uri,localName,qName,atts)},TreeParser.prototype.startPrefixMapping=function(prefix,uri,locator){this.locatorDelegate=locator,this.contentHandler.startPrefixMapping(prefix,uri)},TreeParser.prototype.comment=function(ch,start,length,locator){this.locatorDelegate=locator,this.lexicalHandler.comment(ch,start,length)},TreeParser.prototype.endCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endCDATA()},TreeParser.prototype.endDTD=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endDTD()},TreeParser.prototype.endEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.endEntity(name)},TreeParser.prototype.startCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.startCDATA()},TreeParser.prototype.startDTD=function(name,publicId,systemId,locator){this.locatorDelegate=locator,this.lexicalHandler.startDTD(name,publicId,systemId)},TreeParser.prototype.startEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.startEntity(name)},Object.defineProperty(TreeParser.prototype,\"columnNumber\",{get:function(){return this.locatorDelegate?this.locatorDelegate.columnNumber:-1}}),Object.defineProperty(TreeParser.prototype,\"lineNumber\",{get:function(){return this.locatorDelegate?this.locatorDelegate.lineNumber:-1}}),NullLexicalHandler.prototype.comment=function(){},NullLexicalHandler.prototype.endCDATA=function(){},NullLexicalHandler.prototype.endDTD=function(){},NullLexicalHandler.prototype.endEntity=function(){},NullLexicalHandler.prototype.startCDATA=function(){},NullLexicalHandler.prototype.startDTD=function(){},NullLexicalHandler.prototype.startEntity=function(){},exports.TreeParser=TreeParser},{}],12:[function(_dereq_,module){module.exports={\"Aacute;\":\"Á\",Aacute:\"Á\",\"aacute;\":\"á\",aacute:\"á\",\"Abreve;\":\"Ă\",\"abreve;\":\"ă\",\"ac;\":\"∾\",\"acd;\":\"∿\",\"acE;\":\"∾̳\",\"Acirc;\":\"Â\",Acirc:\"Â\",\"acirc;\":\"â\",acirc:\"â\",\"acute;\":\"´\",acute:\"´\",\"Acy;\":\"А\",\"acy;\":\"а\",\"AElig;\":\"Æ\",AElig:\"Æ\",\"aelig;\":\"æ\",aelig:\"æ\",\"af;\":\"⁡\",\"Afr;\":\"𝔄\",\"afr;\":\"𝔞\",\"Agrave;\":\"À\",Agrave:\"À\",\"agrave;\":\"à\",agrave:\"à\",\"alefsym;\":\"ℵ\",\"aleph;\":\"ℵ\",\"Alpha;\":\"Α\",\"alpha;\":\"α\",\"Amacr;\":\"Ā\",\"amacr;\":\"ā\",\"amalg;\":\"⨿\",\"amp;\":\"&\",amp:\"&\",\"AMP;\":\"&\",AMP:\"&\",\"andand;\":\"⩕\",\"And;\":\"⩓\",\"and;\":\"∧\",\"andd;\":\"⩜\",\"andslope;\":\"⩘\",\"andv;\":\"⩚\",\"ang;\":\"∠\",\"ange;\":\"⦤\",\"angle;\":\"∠\",\"angmsdaa;\":\"⦨\",\"angmsdab;\":\"⦩\",\"angmsdac;\":\"⦪\",\"angmsdad;\":\"⦫\",\"angmsdae;\":\"⦬\",\"angmsdaf;\":\"⦭\",\"angmsdag;\":\"⦮\",\"angmsdah;\":\"⦯\",\"angmsd;\":\"∡\",\"angrt;\":\"∟\",\"angrtvb;\":\"⊾\",\"angrtvbd;\":\"⦝\",\"angsph;\":\"∢\",\"angst;\":\"Å\",\"angzarr;\":\"⍼\",\"Aogon;\":\"Ą\",\"aogon;\":\"ą\",\"Aopf;\":\"𝔸\",\"aopf;\":\"𝕒\",\"apacir;\":\"⩯\",\"ap;\":\"≈\",\"apE;\":\"⩰\",\"ape;\":\"≊\",\"apid;\":\"≋\",\"apos;\":\"'\",\"ApplyFunction;\":\"⁡\",\"approx;\":\"≈\",\"approxeq;\":\"≊\",\"Aring;\":\"Å\",Aring:\"Å\",\"aring;\":\"å\",aring:\"å\",\"Ascr;\":\"𝒜\",\"ascr;\":\"𝒶\",\"Assign;\":\"≔\",\"ast;\":\"*\",\"asymp;\":\"≈\",\"asympeq;\":\"≍\",\"Atilde;\":\"Ã\",Atilde:\"Ã\",\"atilde;\":\"ã\",atilde:\"ã\",\"Auml;\":\"Ä\",Auml:\"Ä\",\"auml;\":\"ä\",auml:\"ä\",\"awconint;\":\"∳\",\"awint;\":\"⨑\",\"backcong;\":\"≌\",\"backepsilon;\":\"϶\",\"backprime;\":\"‵\",\"backsim;\":\"∽\",\"backsimeq;\":\"⋍\",\"Backslash;\":\"∖\",\"Barv;\":\"⫧\",\"barvee;\":\"⊽\",\"barwed;\":\"⌅\",\"Barwed;\":\"⌆\",\"barwedge;\":\"⌅\",\"bbrk;\":\"⎵\",\"bbrktbrk;\":\"⎶\",\"bcong;\":\"≌\",\"Bcy;\":\"Б\",\"bcy;\":\"б\",\"bdquo;\":\"„\",\"becaus;\":\"∵\",\"because;\":\"∵\",\"Because;\":\"∵\",\"bemptyv;\":\"⦰\",\"bepsi;\":\"϶\",\"bernou;\":\"ℬ\",\"Bernoullis;\":\"ℬ\",\"Beta;\":\"Β\",\"beta;\":\"β\",\"beth;\":\"ℶ\",\"between;\":\"≬\",\"Bfr;\":\"𝔅\",\"bfr;\":\"𝔟\",\"bigcap;\":\"⋂\",\"bigcirc;\":\"◯\",\"bigcup;\":\"⋃\",\"bigodot;\":\"⨀\",\"bigoplus;\":\"⨁\",\"bigotimes;\":\"⨂\",\"bigsqcup;\":\"⨆\",\"bigstar;\":\"★\",\"bigtriangledown;\":\"▽\",\"bigtriangleup;\":\"△\",\"biguplus;\":\"⨄\",\"bigvee;\":\"⋁\",\"bigwedge;\":\"⋀\",\"bkarow;\":\"⤍\",\"blacklozenge;\":\"⧫\",\"blacksquare;\":\"▪\",\"blacktriangle;\":\"▴\",\"blacktriangledown;\":\"▾\",\"blacktriangleleft;\":\"◂\",\"blacktriangleright;\":\"▸\",\"blank;\":\"␣\",\"blk12;\":\"▒\",\"blk14;\":\"░\",\"blk34;\":\"▓\",\"block;\":\"█\",\"bne;\":\"=⃥\",\"bnequiv;\":\"≡⃥\",\"bNot;\":\"⫭\",\"bnot;\":\"⌐\",\"Bopf;\":\"𝔹\",\"bopf;\":\"𝕓\",\"bot;\":\"⊥\",\"bottom;\":\"⊥\",\"bowtie;\":\"⋈\",\"boxbox;\":\"⧉\",\"boxdl;\":\"┐\",\"boxdL;\":\"╕\",\"boxDl;\":\"╖\",\"boxDL;\":\"╗\",\"boxdr;\":\"┌\",\"boxdR;\":\"╒\",\"boxDr;\":\"╓\",\"boxDR;\":\"╔\",\"boxh;\":\"─\",\"boxH;\":\"═\",\"boxhd;\":\"┬\",\"boxHd;\":\"╤\",\"boxhD;\":\"╥\",\"boxHD;\":\"╦\",\"boxhu;\":\"┴\",\"boxHu;\":\"╧\",\"boxhU;\":\"╨\",\"boxHU;\":\"╩\",\"boxminus;\":\"⊟\",\"boxplus;\":\"⊞\",\"boxtimes;\":\"⊠\",\"boxul;\":\"┘\",\"boxuL;\":\"╛\",\"boxUl;\":\"╜\",\"boxUL;\":\"╝\",\"boxur;\":\"└\",\"boxuR;\":\"╘\",\"boxUr;\":\"╙\",\"boxUR;\":\"╚\",\"boxv;\":\"│\",\"boxV;\":\"║\",\"boxvh;\":\"┼\",\"boxvH;\":\"╪\",\"boxVh;\":\"╫\",\"boxVH;\":\"╬\",\"boxvl;\":\"┤\",\"boxvL;\":\"╡\",\"boxVl;\":\"╢\",\"boxVL;\":\"╣\",\"boxvr;\":\"├\",\"boxvR;\":\"╞\",\"boxVr;\":\"╟\",\"boxVR;\":\"╠\",\"bprime;\":\"‵\",\"breve;\":\"˘\",\"Breve;\":\"˘\",\"brvbar;\":\"¦\",brvbar:\"¦\",\"bscr;\":\"𝒷\",\"Bscr;\":\"ℬ\",\"bsemi;\":\"⁏\",\"bsim;\":\"∽\",\"bsime;\":\"⋍\",\"bsolb;\":\"⧅\",\"bsol;\":\"\\\\\",\"bsolhsub;\":\"⟈\",\"bull;\":\"•\",\"bullet;\":\"•\",\"bump;\":\"≎\",\"bumpE;\":\"⪮\",\"bumpe;\":\"≏\",\"Bumpeq;\":\"≎\",\"bumpeq;\":\"≏\",\"Cacute;\":\"Ć\",\"cacute;\":\"ć\",\"capand;\":\"⩄\",\"capbrcup;\":\"⩉\",\"capcap;\":\"⩋\",\"cap;\":\"∩\",\"Cap;\":\"⋒\",\"capcup;\":\"⩇\",\"capdot;\":\"⩀\",\"CapitalDifferentialD;\":\"ⅅ\",\"caps;\":\"∩︀\",\"caret;\":\"⁁\",\"caron;\":\"ˇ\",\"Cayleys;\":\"ℭ\",\"ccaps;\":\"⩍\",\"Ccaron;\":\"Č\",\"ccaron;\":\"č\",\"Ccedil;\":\"Ç\",Ccedil:\"Ç\",\"ccedil;\":\"ç\",ccedil:\"ç\",\"Ccirc;\":\"Ĉ\",\"ccirc;\":\"ĉ\",\"Cconint;\":\"∰\",\"ccups;\":\"⩌\",\"ccupssm;\":\"⩐\",\"Cdot;\":\"Ċ\",\"cdot;\":\"ċ\",\"cedil;\":\"¸\",cedil:\"¸\",\"Cedilla;\":\"¸\",\"cemptyv;\":\"⦲\",\"cent;\":\"¢\",cent:\"¢\",\"centerdot;\":\"·\",\"CenterDot;\":\"·\",\"cfr;\":\"𝔠\",\"Cfr;\":\"ℭ\",\"CHcy;\":\"Ч\",\"chcy;\":\"ч\",\"check;\":\"✓\",\"checkmark;\":\"✓\",\"Chi;\":\"Χ\",\"chi;\":\"χ\",\"circ;\":\"ˆ\",\"circeq;\":\"≗\",\"circlearrowleft;\":\"↺\",\"circlearrowright;\":\"↻\",\"circledast;\":\"⊛\",\"circledcirc;\":\"⊚\",\"circleddash;\":\"⊝\",\"CircleDot;\":\"⊙\",\"circledR;\":\"®\",\"circledS;\":\"Ⓢ\",\"CircleMinus;\":\"⊖\",\"CirclePlus;\":\"⊕\",\"CircleTimes;\":\"⊗\",\"cir;\":\"○\",\"cirE;\":\"⧃\",\"cire;\":\"≗\",\"cirfnint;\":\"⨐\",\"cirmid;\":\"⫯\",\"cirscir;\":\"⧂\",\"ClockwiseContourIntegral;\":\"∲\",\"CloseCurlyDoubleQuote;\":\"”\",\"CloseCurlyQuote;\":\"’\",\"clubs;\":\"♣\",\"clubsuit;\":\"♣\",\"colon;\":\":\",\"Colon;\":\"∷\",\"Colone;\":\"⩴\",\"colone;\":\"≔\",\"coloneq;\":\"≔\",\"comma;\":\",\",\"commat;\":\"@\",\"comp;\":\"∁\",\"compfn;\":\"∘\",\"complement;\":\"∁\",\"complexes;\":\"ℂ\",\"cong;\":\"≅\",\"congdot;\":\"⩭\",\"Congruent;\":\"≡\",\"conint;\":\"∮\",\"Conint;\":\"∯\",\"ContourIntegral;\":\"∮\",\"copf;\":\"𝕔\",\"Copf;\":\"ℂ\",\"coprod;\":\"∐\",\"Coproduct;\":\"∐\",\"copy;\":\"©\",copy:\"©\",\"COPY;\":\"©\",COPY:\"©\",\"copysr;\":\"℗\",\"CounterClockwiseContourIntegral;\":\"∳\",\"crarr;\":\"↵\",\"cross;\":\"✗\",\"Cross;\":\"⨯\",\"Cscr;\":\"𝒞\",\"cscr;\":\"𝒸\",\"csub;\":\"⫏\",\"csube;\":\"⫑\",\"csup;\":\"⫐\",\"csupe;\":\"⫒\",\"ctdot;\":\"⋯\",\"cudarrl;\":\"⤸\",\"cudarrr;\":\"⤵\",\"cuepr;\":\"⋞\",\"cuesc;\":\"⋟\",\"cularr;\":\"↶\",\"cularrp;\":\"⤽\",\"cupbrcap;\":\"⩈\",\"cupcap;\":\"⩆\",\"CupCap;\":\"≍\",\"cup;\":\"∪\",\"Cup;\":\"⋓\",\"cupcup;\":\"⩊\",\"cupdot;\":\"⊍\",\"cupor;\":\"⩅\",\"cups;\":\"∪︀\",\"curarr;\":\"↷\",\"curarrm;\":\"⤼\",\"curlyeqprec;\":\"⋞\",\"curlyeqsucc;\":\"⋟\",\"curlyvee;\":\"⋎\",\"curlywedge;\":\"⋏\",\"curren;\":\"¤\",curren:\"¤\",\"curvearrowleft;\":\"↶\",\"curvearrowright;\":\"↷\",\"cuvee;\":\"⋎\",\"cuwed;\":\"⋏\",\"cwconint;\":\"∲\",\"cwint;\":\"∱\",\"cylcty;\":\"⌭\",\"dagger;\":\"†\",\"Dagger;\":\"‡\",\"daleth;\":\"ℸ\",\"darr;\":\"↓\",\"Darr;\":\"↡\",\"dArr;\":\"⇓\",\"dash;\":\"‐\",\"Dashv;\":\"⫤\",\"dashv;\":\"⊣\",\"dbkarow;\":\"⤏\",\"dblac;\":\"˝\",\"Dcaron;\":\"Ď\",\"dcaron;\":\"ď\",\"Dcy;\":\"Д\",\"dcy;\":\"д\",\"ddagger;\":\"‡\",\"ddarr;\":\"⇊\",\"DD;\":\"ⅅ\",\"dd;\":\"ⅆ\",\"DDotrahd;\":\"⤑\",\"ddotseq;\":\"⩷\",\"deg;\":\"°\",deg:\"°\",\"Del;\":\"∇\",\"Delta;\":\"Δ\",\"delta;\":\"δ\",\"demptyv;\":\"⦱\",\"dfisht;\":\"⥿\",\"Dfr;\":\"𝔇\",\"dfr;\":\"𝔡\",\"dHar;\":\"⥥\",\"dharl;\":\"⇃\",\"dharr;\":\"⇂\",\"DiacriticalAcute;\":\"´\",\"DiacriticalDot;\":\"˙\",\"DiacriticalDoubleAcute;\":\"˝\",\"DiacriticalGrave;\":\"`\",\"DiacriticalTilde;\":\"˜\",\"diam;\":\"⋄\",\"diamond;\":\"⋄\",\"Diamond;\":\"⋄\",\"diamondsuit;\":\"♦\",\"diams;\":\"♦\",\"die;\":\"¨\",\"DifferentialD;\":\"ⅆ\",\"digamma;\":\"ϝ\",\"disin;\":\"⋲\",\"div;\":\"÷\",\"divide;\":\"÷\",divide:\"÷\",\"divideontimes;\":\"⋇\",\"divonx;\":\"⋇\",\"DJcy;\":\"Ђ\",\"djcy;\":\"ђ\",\"dlcorn;\":\"⌞\",\"dlcrop;\":\"⌍\",\"dollar;\":\"$\",\"Dopf;\":\"𝔻\",\"dopf;\":\"𝕕\",\"Dot;\":\"¨\",\"dot;\":\"˙\",\"DotDot;\":\"⃜\",\"doteq;\":\"≐\",\"doteqdot;\":\"≑\",\"DotEqual;\":\"≐\",\"dotminus;\":\"∸\",\"dotplus;\":\"∔\",\"dotsquare;\":\"⊡\",\"doublebarwedge;\":\"⌆\",\"DoubleContourIntegral;\":\"∯\",\"DoubleDot;\":\"¨\",\"DoubleDownArrow;\":\"⇓\",\"DoubleLeftArrow;\":\"⇐\",\"DoubleLeftRightArrow;\":\"⇔\",\"DoubleLeftTee;\":\"⫤\",\"DoubleLongLeftArrow;\":\"⟸\",\"DoubleLongLeftRightArrow;\":\"⟺\",\"DoubleLongRightArrow;\":\"⟹\",\"DoubleRightArrow;\":\"⇒\",\"DoubleRightTee;\":\"⊨\",\"DoubleUpArrow;\":\"⇑\",\"DoubleUpDownArrow;\":\"⇕\",\"DoubleVerticalBar;\":\"∥\",\"DownArrowBar;\":\"⤓\",\"downarrow;\":\"↓\",\"DownArrow;\":\"↓\",\"Downarrow;\":\"⇓\",\"DownArrowUpArrow;\":\"⇵\",\"DownBreve;\":\"̑\",\"downdownarrows;\":\"⇊\",\"downharpoonleft;\":\"⇃\",\"downharpoonright;\":\"⇂\",\"DownLeftRightVector;\":\"⥐\",\"DownLeftTeeVector;\":\"⥞\",\"DownLeftVectorBar;\":\"⥖\",\"DownLeftVector;\":\"↽\",\"DownRightTeeVector;\":\"⥟\",\"DownRightVectorBar;\":\"⥗\",\"DownRightVector;\":\"⇁\",\"DownTeeArrow;\":\"↧\",\"DownTee;\":\"⊤\",\"drbkarow;\":\"⤐\",\"drcorn;\":\"⌟\",\"drcrop;\":\"⌌\",\"Dscr;\":\"𝒟\",\"dscr;\":\"𝒹\",\"DScy;\":\"Ѕ\",\"dscy;\":\"ѕ\",\"dsol;\":\"⧶\",\"Dstrok;\":\"Đ\",\"dstrok;\":\"đ\",\"dtdot;\":\"⋱\",\"dtri;\":\"▿\",\"dtrif;\":\"▾\",\"duarr;\":\"⇵\",\"duhar;\":\"⥯\",\"dwangle;\":\"⦦\",\"DZcy;\":\"Џ\",\"dzcy;\":\"џ\",\"dzigrarr;\":\"⟿\",\"Eacute;\":\"É\",Eacute:\"É\",\"eacute;\":\"é\",eacute:\"é\",\"easter;\":\"⩮\",\"Ecaron;\":\"Ě\",\"ecaron;\":\"ě\",\"Ecirc;\":\"Ê\",Ecirc:\"Ê\",\"ecirc;\":\"ê\",ecirc:\"ê\",\"ecir;\":\"≖\",\"ecolon;\":\"≕\",\"Ecy;\":\"Э\",\"ecy;\":\"э\",\"eDDot;\":\"⩷\",\"Edot;\":\"Ė\",\"edot;\":\"ė\",\"eDot;\":\"≑\",\"ee;\":\"ⅇ\",\"efDot;\":\"≒\",\"Efr;\":\"𝔈\",\"efr;\":\"𝔢\",\"eg;\":\"⪚\",\"Egrave;\":\"È\",Egrave:\"È\",\"egrave;\":\"è\",egrave:\"è\",\"egs;\":\"⪖\",\"egsdot;\":\"⪘\",\"el;\":\"⪙\",\"Element;\":\"∈\",\"elinters;\":\"⏧\",\"ell;\":\"ℓ\",\"els;\":\"⪕\",\"elsdot;\":\"⪗\",\"Emacr;\":\"Ē\",\"emacr;\":\"ē\",\"empty;\":\"∅\",\"emptyset;\":\"∅\",\"EmptySmallSquare;\":\"◻\",\"emptyv;\":\"∅\",\"EmptyVerySmallSquare;\":\"▫\",\"emsp13;\":\" \",\"emsp14;\":\" \",\"emsp;\":\" \",\"ENG;\":\"Ŋ\",\"eng;\":\"ŋ\",\"ensp;\":\" \",\"Eogon;\":\"Ę\",\"eogon;\":\"ę\",\"Eopf;\":\"𝔼\",\"eopf;\":\"𝕖\",\"epar;\":\"⋕\",\"eparsl;\":\"⧣\",\"eplus;\":\"⩱\",\"epsi;\":\"ε\",\"Epsilon;\":\"Ε\",\"epsilon;\":\"ε\",\"epsiv;\":\"ϵ\",\"eqcirc;\":\"≖\",\"eqcolon;\":\"≕\",\"eqsim;\":\"≂\",\"eqslantgtr;\":\"⪖\",\"eqslantless;\":\"⪕\",\"Equal;\":\"⩵\",\"equals;\":\"=\",\"EqualTilde;\":\"≂\",\"equest;\":\"≟\",\"Equilibrium;\":\"⇌\",\"equiv;\":\"≡\",\"equivDD;\":\"⩸\",\"eqvparsl;\":\"⧥\",\"erarr;\":\"⥱\",\"erDot;\":\"≓\",\"escr;\":\"ℯ\",\"Escr;\":\"ℰ\",\"esdot;\":\"≐\",\"Esim;\":\"⩳\",\"esim;\":\"≂\",\"Eta;\":\"Η\",\"eta;\":\"η\",\"ETH;\":\"Ð\",ETH:\"Ð\",\"eth;\":\"ð\",eth:\"ð\",\"Euml;\":\"Ë\",Euml:\"Ë\",\"euml;\":\"ë\",euml:\"ë\",\"euro;\":\"€\",\"excl;\":\"!\",\"exist;\":\"∃\",\"Exists;\":\"∃\",\"expectation;\":\"ℰ\",\"exponentiale;\":\"ⅇ\",\"ExponentialE;\":\"ⅇ\",\"fallingdotseq;\":\"≒\",\"Fcy;\":\"Ф\",\"fcy;\":\"ф\",\"female;\":\"♀\",\"ffilig;\":\"ﬃ\",\"fflig;\":\"ﬀ\",\"ffllig;\":\"ﬄ\",\"Ffr;\":\"𝔉\",\"ffr;\":\"𝔣\",\"filig;\":\"ﬁ\",\"FilledSmallSquare;\":\"◼\",\"FilledVerySmallSquare;\":\"▪\",\"fjlig;\":\"fj\",\"flat;\":\"♭\",\"fllig;\":\"ﬂ\",\"fltns;\":\"▱\",\"fnof;\":\"ƒ\",\"Fopf;\":\"𝔽\",\"fopf;\":\"𝕗\",\"forall;\":\"∀\",\"ForAll;\":\"∀\",\"fork;\":\"⋔\",\"forkv;\":\"⫙\",\"Fouriertrf;\":\"ℱ\",\"fpartint;\":\"⨍\",\"frac12;\":\"½\",frac12:\"½\",\"frac13;\":\"⅓\",\"frac14;\":\"¼\",frac14:\"¼\",\"frac15;\":\"⅕\",\"frac16;\":\"⅙\",\"frac18;\":\"⅛\",\"frac23;\":\"⅔\",\"frac25;\":\"⅖\",\"frac34;\":\"¾\",frac34:\"¾\",\"frac35;\":\"⅗\",\"frac38;\":\"⅜\",\"frac45;\":\"⅘\",\"frac56;\":\"⅚\",\"frac58;\":\"⅝\",\"frac78;\":\"⅞\",\"frasl;\":\"⁄\",\"frown;\":\"⌢\",\"fscr;\":\"𝒻\",\"Fscr;\":\"ℱ\",\"gacute;\":\"ǵ\",\"Gamma;\":\"Γ\",\"gamma;\":\"γ\",\"Gammad;\":\"Ϝ\",\"gammad;\":\"ϝ\",\"gap;\":\"⪆\",\"Gbreve;\":\"Ğ\",\"gbreve;\":\"ğ\",\"Gcedil;\":\"Ģ\",\"Gcirc;\":\"Ĝ\",\"gcirc;\":\"ĝ\",\"Gcy;\":\"Г\",\"gcy;\":\"г\",\"Gdot;\":\"Ġ\",\"gdot;\":\"ġ\",\"ge;\":\"≥\",\"gE;\":\"≧\",\"gEl;\":\"⪌\",\"gel;\":\"⋛\",\"geq;\":\"≥\",\"geqq;\":\"≧\",\"geqslant;\":\"⩾\",\"gescc;\":\"⪩\",\"ges;\":\"⩾\",\"gesdot;\":\"⪀\",\"gesdoto;\":\"⪂\",\"gesdotol;\":\"⪄\",\"gesl;\":\"⋛︀\",\"gesles;\":\"⪔\",\"Gfr;\":\"𝔊\",\"gfr;\":\"𝔤\",\"gg;\":\"≫\",\"Gg;\":\"⋙\",\"ggg;\":\"⋙\",\"gimel;\":\"ℷ\",\"GJcy;\":\"Ѓ\",\"gjcy;\":\"ѓ\",\"gla;\":\"⪥\",\"gl;\":\"≷\",\"glE;\":\"⪒\",\"glj;\":\"⪤\",\"gnap;\":\"⪊\",\"gnapprox;\":\"⪊\",\"gne;\":\"⪈\",\"gnE;\":\"≩\",\"gneq;\":\"⪈\",\"gneqq;\":\"≩\",\"gnsim;\":\"⋧\",\"Gopf;\":\"𝔾\",\"gopf;\":\"𝕘\",\"grave;\":\"`\",\"GreaterEqual;\":\"≥\",\"GreaterEqualLess;\":\"⋛\",\"GreaterFullEqual;\":\"≧\",\"GreaterGreater;\":\"⪢\",\"GreaterLess;\":\"≷\",\"GreaterSlantEqual;\":\"⩾\",\"GreaterTilde;\":\"≳\",\"Gscr;\":\"𝒢\",\"gscr;\":\"ℊ\",\"gsim;\":\"≳\",\"gsime;\":\"⪎\",\"gsiml;\":\"⪐\",\"gtcc;\":\"⪧\",\"gtcir;\":\"⩺\",\"gt;\":\">\",gt:\">\",\"GT;\":\">\",GT:\">\",\"Gt;\":\"≫\",\"gtdot;\":\"⋗\",\"gtlPar;\":\"⦕\",\"gtquest;\":\"⩼\",\"gtrapprox;\":\"⪆\",\"gtrarr;\":\"⥸\",\"gtrdot;\":\"⋗\",\"gtreqless;\":\"⋛\",\"gtreqqless;\":\"⪌\",\"gtrless;\":\"≷\",\"gtrsim;\":\"≳\",\"gvertneqq;\":\"≩︀\",\"gvnE;\":\"≩︀\",\"Hacek;\":\"ˇ\",\"hairsp;\":\" \",\"half;\":\"½\",\"hamilt;\":\"ℋ\",\"HARDcy;\":\"Ъ\",\"hardcy;\":\"ъ\",\"harrcir;\":\"⥈\",\"harr;\":\"↔\",\"hArr;\":\"⇔\",\"harrw;\":\"↭\",\"Hat;\":\"^\",\"hbar;\":\"ℏ\",\"Hcirc;\":\"Ĥ\",\"hcirc;\":\"ĥ\",\"hearts;\":\"♥\",\"heartsuit;\":\"♥\",\"hellip;\":\"…\",\"hercon;\":\"⊹\",\"hfr;\":\"𝔥\",\"Hfr;\":\"ℌ\",\"HilbertSpace;\":\"ℋ\",\"hksearow;\":\"⤥\",\"hkswarow;\":\"⤦\",\"hoarr;\":\"⇿\",\"homtht;\":\"∻\",\"hookleftarrow;\":\"↩\",\"hookrightarrow;\":\"↪\",\"hopf;\":\"𝕙\",\"Hopf;\":\"ℍ\",\"horbar;\":\"―\",\"HorizontalLine;\":\"─\",\"hscr;\":\"𝒽\",\"Hscr;\":\"ℋ\",\"hslash;\":\"ℏ\",\"Hstrok;\":\"Ħ\",\"hstrok;\":\"ħ\",\"HumpDownHump;\":\"≎\",\"HumpEqual;\":\"≏\",\"hybull;\":\"⁃\",\"hyphen;\":\"‐\",\"Iacute;\":\"Í\",Iacute:\"Í\",\"iacute;\":\"í\",iacute:\"í\",\"ic;\":\"⁣\",\"Icirc;\":\"Î\",Icirc:\"Î\",\"icirc;\":\"î\",icirc:\"î\",\"Icy;\":\"И\",\"icy;\":\"и\",\"Idot;\":\"İ\",\"IEcy;\":\"Е\",\"iecy;\":\"е\",\"iexcl;\":\"¡\",iexcl:\"¡\",\"iff;\":\"⇔\",\"ifr;\":\"𝔦\",\"Ifr;\":\"ℑ\",\"Igrave;\":\"Ì\",Igrave:\"Ì\",\"igrave;\":\"ì\",igrave:\"ì\",\"ii;\":\"ⅈ\",\"iiiint;\":\"⨌\",\"iiint;\":\"∭\",\"iinfin;\":\"⧜\",\"iiota;\":\"℩\",\"IJlig;\":\"Ĳ\",\"ijlig;\":\"ĳ\",\"Imacr;\":\"Ī\",\"imacr;\":\"ī\",\"image;\":\"ℑ\",\"ImaginaryI;\":\"ⅈ\",\"imagline;\":\"ℐ\",\"imagpart;\":\"ℑ\",\"imath;\":\"ı\",\"Im;\":\"ℑ\",\"imof;\":\"⊷\",\"imped;\":\"Ƶ\",\"Implies;\":\"⇒\",\"incare;\":\"℅\",\"in;\":\"∈\",\"infin;\":\"∞\",\"infintie;\":\"⧝\",\"inodot;\":\"ı\",\"intcal;\":\"⊺\",\"int;\":\"∫\",\"Int;\":\"∬\",\"integers;\":\"ℤ\",\"Integral;\":\"∫\",\"intercal;\":\"⊺\",\"Intersection;\":\"⋂\",\"intlarhk;\":\"⨗\",\"intprod;\":\"⨼\",\"InvisibleComma;\":\"⁣\",\"InvisibleTimes;\":\"⁢\",\"IOcy;\":\"Ё\",\"iocy;\":\"ё\",\"Iogon;\":\"Į\",\"iogon;\":\"į\",\"Iopf;\":\"𝕀\",\"iopf;\":\"𝕚\",\"Iota;\":\"Ι\",\"iota;\":\"ι\",\"iprod;\":\"⨼\",\"iquest;\":\"¿\",iquest:\"¿\",\"iscr;\":\"𝒾\",\"Iscr;\":\"ℐ\",\"isin;\":\"∈\",\"isindot;\":\"⋵\",\"isinE;\":\"⋹\",\"isins;\":\"⋴\",\"isinsv;\":\"⋳\",\"isinv;\":\"∈\",\"it;\":\"⁢\",\"Itilde;\":\"Ĩ\",\"itilde;\":\"ĩ\",\"Iukcy;\":\"І\",\"iukcy;\":\"і\",\"Iuml;\":\"Ï\",Iuml:\"Ï\",\"iuml;\":\"ï\",iuml:\"ï\",\"Jcirc;\":\"Ĵ\",\"jcirc;\":\"ĵ\",\"Jcy;\":\"Й\",\"jcy;\":\"й\",\"Jfr;\":\"𝔍\",\"jfr;\":\"𝔧\",\"jmath;\":\"ȷ\",\"Jopf;\":\"𝕁\",\"jopf;\":\"𝕛\",\"Jscr;\":\"𝒥\",\"jscr;\":\"𝒿\",\"Jsercy;\":\"Ј\",\"jsercy;\":\"ј\",\"Jukcy;\":\"Є\",\"jukcy;\":\"є\",\"Kappa;\":\"Κ\",\"kappa;\":\"κ\",\"kappav;\":\"ϰ\",\"Kcedil;\":\"Ķ\",\"kcedil;\":\"ķ\",\"Kcy;\":\"К\",\"kcy;\":\"к\",\"Kfr;\":\"𝔎\",\"kfr;\":\"𝔨\",\"kgreen;\":\"ĸ\",\"KHcy;\":\"Х\",\"khcy;\":\"х\",\"KJcy;\":\"Ќ\",\"kjcy;\":\"ќ\",\"Kopf;\":\"𝕂\",\"kopf;\":\"𝕜\",\"Kscr;\":\"𝒦\",\"kscr;\":\"𝓀\",\"lAarr;\":\"⇚\",\"Lacute;\":\"Ĺ\",\"lacute;\":\"ĺ\",\"laemptyv;\":\"⦴\",\"lagran;\":\"ℒ\",\"Lambda;\":\"Λ\",\"lambda;\":\"λ\",\"lang;\":\"⟨\",\"Lang;\":\"⟪\",\"langd;\":\"⦑\",\"langle;\":\"⟨\",\"lap;\":\"⪅\",\"Laplacetrf;\":\"ℒ\",\"laquo;\":\"«\",laquo:\"«\",\"larrb;\":\"⇤\",\"larrbfs;\":\"⤟\",\"larr;\":\"←\",\"Larr;\":\"↞\",\"lArr;\":\"⇐\",\"larrfs;\":\"⤝\",\"larrhk;\":\"↩\",\"larrlp;\":\"↫\",\"larrpl;\":\"⤹\",\"larrsim;\":\"⥳\",\"larrtl;\":\"↢\",\"latail;\":\"⤙\",\"lAtail;\":\"⤛\",\"lat;\":\"⪫\",\"late;\":\"⪭\",\"lates;\":\"⪭︀\",\"lbarr;\":\"⤌\",\"lBarr;\":\"⤎\",\"lbbrk;\":\"❲\",\"lbrace;\":\"{\",\"lbrack;\":\"[\",\"lbrke;\":\"⦋\",\"lbrksld;\":\"⦏\",\"lbrkslu;\":\"⦍\",\"Lcaron;\":\"Ľ\",\"lcaron;\":\"ľ\",\"Lcedil;\":\"Ļ\",\"lcedil;\":\"ļ\",\"lceil;\":\"⌈\",\"lcub;\":\"{\",\"Lcy;\":\"Л\",\"lcy;\":\"л\",\"ldca;\":\"⤶\",\"ldquo;\":\"“\",\"ldquor;\":\"„\",\"ldrdhar;\":\"⥧\",\"ldrushar;\":\"⥋\",\"ldsh;\":\"↲\",\"le;\":\"≤\",\"lE;\":\"≦\",\"LeftAngleBracket;\":\"⟨\",\"LeftArrowBar;\":\"⇤\",\"leftarrow;\":\"←\",\"LeftArrow;\":\"←\",\"Leftarrow;\":\"⇐\",\"LeftArrowRightArrow;\":\"⇆\",\"leftarrowtail;\":\"↢\",\"LeftCeiling;\":\"⌈\",\"LeftDoubleBracket;\":\"⟦\",\"LeftDownTeeVector;\":\"⥡\",\"LeftDownVectorBar;\":\"⥙\",\"LeftDownVector;\":\"⇃\",\"LeftFloor;\":\"⌊\",\"leftharpoondown;\":\"↽\",\"leftharpoonup;\":\"↼\",\"leftleftarrows;\":\"⇇\",\"leftrightarrow;\":\"↔\",\"LeftRightArrow;\":\"↔\",\"Leftrightarrow;\":\"⇔\",\"leftrightarrows;\":\"⇆\",\"leftrightharpoons;\":\"⇋\",\"leftrightsquigarrow;\":\"↭\",\"LeftRightVector;\":\"⥎\",\"LeftTeeArrow;\":\"↤\",\"LeftTee;\":\"⊣\",\"LeftTeeVector;\":\"⥚\",\"leftthreetimes;\":\"⋋\",\"LeftTriangleBar;\":\"⧏\",\"LeftTriangle;\":\"⊲\",\"LeftTriangleEqual;\":\"⊴\",\"LeftUpDownVector;\":\"⥑\",\"LeftUpTeeVector;\":\"⥠\",\"LeftUpVectorBar;\":\"⥘\",\"LeftUpVector;\":\"↿\",\"LeftVectorBar;\":\"⥒\",\"LeftVector;\":\"↼\",\"lEg;\":\"⪋\",\"leg;\":\"⋚\",\"leq;\":\"≤\",\"leqq;\":\"≦\",\"leqslant;\":\"⩽\",\"lescc;\":\"⪨\",\"les;\":\"⩽\",\"lesdot;\":\"⩿\",\"lesdoto;\":\"⪁\",\"lesdotor;\":\"⪃\",\"lesg;\":\"⋚︀\",\"lesges;\":\"⪓\",\"lessapprox;\":\"⪅\",\"lessdot;\":\"⋖\",\"lesseqgtr;\":\"⋚\",\"lesseqqgtr;\":\"⪋\",\"LessEqualGreater;\":\"⋚\",\"LessFullEqual;\":\"≦\",\"LessGreater;\":\"≶\",\"lessgtr;\":\"≶\",\"LessLess;\":\"⪡\",\"lesssim;\":\"≲\",\"LessSlantEqual;\":\"⩽\",\"LessTilde;\":\"≲\",\"lfisht;\":\"⥼\",\"lfloor;\":\"⌊\",\"Lfr;\":\"𝔏\",\"lfr;\":\"𝔩\",\"lg;\":\"≶\",\"lgE;\":\"⪑\",\"lHar;\":\"⥢\",\"lhard;\":\"↽\",\"lharu;\":\"↼\",\"lharul;\":\"⥪\",\"lhblk;\":\"▄\",\"LJcy;\":\"Љ\",\"ljcy;\":\"љ\",\"llarr;\":\"⇇\",\"ll;\":\"≪\",\"Ll;\":\"⋘\",\"llcorner;\":\"⌞\",\"Lleftarrow;\":\"⇚\",\"llhard;\":\"⥫\",\"lltri;\":\"◺\",\"Lmidot;\":\"Ŀ\",\"lmidot;\":\"ŀ\",\"lmoustache;\":\"⎰\",\"lmoust;\":\"⎰\",\"lnap;\":\"⪉\",\"lnapprox;\":\"⪉\",\"lne;\":\"⪇\",\"lnE;\":\"≨\",\"lneq;\":\"⪇\",\"lneqq;\":\"≨\",\"lnsim;\":\"⋦\",\"loang;\":\"⟬\",\"loarr;\":\"⇽\",\"lobrk;\":\"⟦\",\"longleftarrow;\":\"⟵\",\"LongLeftArrow;\":\"⟵\",\"Longleftarrow;\":\"⟸\",\"longleftrightarrow;\":\"⟷\",\"LongLeftRightArrow;\":\"⟷\",\"Longleftrightarrow;\":\"⟺\",\"longmapsto;\":\"⟼\",\"longrightarrow;\":\"⟶\",\"LongRightArrow;\":\"⟶\",\"Longrightarrow;\":\"⟹\",\"looparrowleft;\":\"↫\",\"looparrowright;\":\"↬\",\"lopar;\":\"⦅\",\"Lopf;\":\"𝕃\",\"lopf;\":\"𝕝\",\"loplus;\":\"⨭\",\"lotimes;\":\"⨴\",\"lowast;\":\"∗\",\"lowbar;\":\"_\",\"LowerLeftArrow;\":\"↙\",\"LowerRightArrow;\":\"↘\",\"loz;\":\"◊\",\"lozenge;\":\"◊\",\"lozf;\":\"⧫\",\"lpar;\":\"(\",\"lparlt;\":\"⦓\",\"lrarr;\":\"⇆\",\"lrcorner;\":\"⌟\",\"lrhar;\":\"⇋\",\"lrhard;\":\"⥭\",\"lrm;\":\"‎\",\"lrtri;\":\"⊿\",\"lsaquo;\":\"‹\",\"lscr;\":\"𝓁\",\"Lscr;\":\"ℒ\",\"lsh;\":\"↰\",\"Lsh;\":\"↰\",\"lsim;\":\"≲\",\"lsime;\":\"⪍\",\"lsimg;\":\"⪏\",\"lsqb;\":\"[\",\"lsquo;\":\"‘\",\"lsquor;\":\"‚\",\"Lstrok;\":\"Ł\",\"lstrok;\":\"ł\",\"ltcc;\":\"⪦\",\"ltcir;\":\"⩹\",\"lt;\":\"<\",lt:\"<\",\"LT;\":\"<\",LT:\"<\",\"Lt;\":\"≪\",\"ltdot;\":\"⋖\",\"lthree;\":\"⋋\",\"ltimes;\":\"⋉\",\"ltlarr;\":\"⥶\",\"ltquest;\":\"⩻\",\"ltri;\":\"◃\",\"ltrie;\":\"⊴\",\"ltrif;\":\"◂\",\"ltrPar;\":\"⦖\",\"lurdshar;\":\"⥊\",\"luruhar;\":\"⥦\",\"lvertneqq;\":\"≨︀\",\"lvnE;\":\"≨︀\",\"macr;\":\"¯\",macr:\"¯\",\"male;\":\"♂\",\"malt;\":\"✠\",\"maltese;\":\"✠\",\"Map;\":\"⤅\",\"map;\":\"↦\",\"mapsto;\":\"↦\",\"mapstodown;\":\"↧\",\"mapstoleft;\":\"↤\",\"mapstoup;\":\"↥\",\"marker;\":\"▮\",\"mcomma;\":\"⨩\",\"Mcy;\":\"М\",\"mcy;\":\"м\",\"mdash;\":\"—\",\"mDDot;\":\"∺\",\"measuredangle;\":\"∡\",\"MediumSpace;\":\" \",\"Mellintrf;\":\"ℳ\",\"Mfr;\":\"𝔐\",\"mfr;\":\"𝔪\",\"mho;\":\"℧\",\"micro;\":\"µ\",micro:\"µ\",\"midast;\":\"*\",\"midcir;\":\"⫰\",\"mid;\":\"∣\",\"middot;\":\"·\",middot:\"·\",\"minusb;\":\"⊟\",\"minus;\":\"−\",\"minusd;\":\"∸\",\"minusdu;\":\"⨪\",\"MinusPlus;\":\"∓\",\"mlcp;\":\"⫛\",\"mldr;\":\"…\",\"mnplus;\":\"∓\",\"models;\":\"⊧\",\"Mopf;\":\"𝕄\",\"mopf;\":\"𝕞\",\"mp;\":\"∓\",\"mscr;\":\"𝓂\",\"Mscr;\":\"ℳ\",\"mstpos;\":\"∾\",\"Mu;\":\"Μ\",\"mu;\":\"μ\",\"multimap;\":\"⊸\",\"mumap;\":\"⊸\",\"nabla;\":\"∇\",\"Nacute;\":\"Ń\",\"nacute;\":\"ń\",\"nang;\":\"∠⃒\",\"nap;\":\"≉\",\"napE;\":\"⩰̸\",\"napid;\":\"≋̸\",\"napos;\":\"ŉ\",\"napprox;\":\"≉\",\"natural;\":\"♮\",\"naturals;\":\"ℕ\",\"natur;\":\"♮\",\"nbsp;\":\" \",nbsp:\" \",\"nbump;\":\"≎̸\",\"nbumpe;\":\"≏̸\",\"ncap;\":\"⩃\",\"Ncaron;\":\"Ň\",\"ncaron;\":\"ň\",\"Ncedil;\":\"Ņ\",\"ncedil;\":\"ņ\",\"ncong;\":\"≇\",\"ncongdot;\":\"⩭̸\",\"ncup;\":\"⩂\",\"Ncy;\":\"Н\",\"ncy;\":\"н\",\"ndash;\":\"–\",\"nearhk;\":\"⤤\",\"nearr;\":\"↗\",\"neArr;\":\"⇗\",\"nearrow;\":\"↗\",\"ne;\":\"≠\",\"nedot;\":\"≐̸\",\"NegativeMediumSpace;\":\"​\",\"NegativeThickSpace;\":\"​\",\"NegativeThinSpace;\":\"​\",\"NegativeVeryThinSpace;\":\"​\",\"nequiv;\":\"≢\",\"nesear;\":\"⤨\",\"nesim;\":\"≂̸\",\"NestedGreaterGreater;\":\"≫\",\"NestedLessLess;\":\"≪\",\"NewLine;\":\"\\n\",\"nexist;\":\"∄\",\"nexists;\":\"∄\",\"Nfr;\":\"𝔑\",\"nfr;\":\"𝔫\",\"ngE;\":\"≧̸\",\"nge;\":\"≱\",\"ngeq;\":\"≱\",\"ngeqq;\":\"≧̸\",\"ngeqslant;\":\"⩾̸\",\"nges;\":\"⩾̸\",\"nGg;\":\"⋙̸\",\"ngsim;\":\"≵\",\"nGt;\":\"≫⃒\",\"ngt;\":\"≯\",\"ngtr;\":\"≯\",\"nGtv;\":\"≫̸\",\"nharr;\":\"↮\",\"nhArr;\":\"⇎\",\"nhpar;\":\"⫲\",\"ni;\":\"∋\",\"nis;\":\"⋼\",\"nisd;\":\"⋺\",\"niv;\":\"∋\",\"NJcy;\":\"Њ\",\"njcy;\":\"њ\",\"nlarr;\":\"↚\",\"nlArr;\":\"⇍\",\"nldr;\":\"‥\",\"nlE;\":\"≦̸\",\"nle;\":\"≰\",\"nleftarrow;\":\"↚\",\"nLeftarrow;\":\"⇍\",\"nleftrightarrow;\":\"↮\",\"nLeftrightarrow;\":\"⇎\",\"nleq;\":\"≰\",\"nleqq;\":\"≦̸\",\"nleqslant;\":\"⩽̸\",\"nles;\":\"⩽̸\",\"nless;\":\"≮\",\"nLl;\":\"⋘̸\",\"nlsim;\":\"≴\",\"nLt;\":\"≪⃒\",\"nlt;\":\"≮\",\"nltri;\":\"⋪\",\"nltrie;\":\"⋬\",\"nLtv;\":\"≪̸\",\"nmid;\":\"∤\",\"NoBreak;\":\"⁠\",\"NonBreakingSpace;\":\" \",\"nopf;\":\"𝕟\",\"Nopf;\":\"ℕ\",\"Not;\":\"⫬\",\"not;\":\"¬\",not:\"¬\",\"NotCongruent;\":\"≢\",\"NotCupCap;\":\"≭\",\"NotDoubleVerticalBar;\":\"∦\",\"NotElement;\":\"∉\",\"NotEqual;\":\"≠\",\"NotEqualTilde;\":\"≂̸\",\"NotExists;\":\"∄\",\"NotGreater;\":\"≯\",\"NotGreaterEqual;\":\"≱\",\"NotGreaterFullEqual;\":\"≧̸\",\"NotGreaterGreater;\":\"≫̸\",\"NotGreaterLess;\":\"≹\",\"NotGreaterSlantEqual;\":\"⩾̸\",\"NotGreaterTilde;\":\"≵\",\"NotHumpDownHump;\":\"≎̸\",\"NotHumpEqual;\":\"≏̸\",\"notin;\":\"∉\",\"notindot;\":\"⋵̸\",\"notinE;\":\"⋹̸\",\"notinva;\":\"∉\",\"notinvb;\":\"⋷\",\"notinvc;\":\"⋶\",\"NotLeftTriangleBar;\":\"⧏̸\",\"NotLeftTriangle;\":\"⋪\",\"NotLeftTriangleEqual;\":\"⋬\",\"NotLess;\":\"≮\",\"NotLessEqual;\":\"≰\",\"NotLessGreater;\":\"≸\",\"NotLessLess;\":\"≪̸\",\"NotLessSlantEqual;\":\"⩽̸\",\"NotLessTilde;\":\"≴\",\"NotNestedGreaterGreater;\":\"⪢̸\",\"NotNestedLessLess;\":\"⪡̸\",\"notni;\":\"∌\",\"notniva;\":\"∌\",\"notnivb;\":\"⋾\",\"notnivc;\":\"⋽\",\"NotPrecedes;\":\"⊀\",\"NotPrecedesEqual;\":\"⪯̸\",\"NotPrecedesSlantEqual;\":\"⋠\",\"NotReverseElement;\":\"∌\",\"NotRightTriangleBar;\":\"⧐̸\",\"NotRightTriangle;\":\"⋫\",\"NotRightTriangleEqual;\":\"⋭\",\"NotSquareSubset;\":\"⊏̸\",\"NotSquareSubsetEqual;\":\"⋢\",\"NotSquareSuperset;\":\"⊐̸\",\"NotSquareSupersetEqual;\":\"⋣\",\"NotSubset;\":\"⊂⃒\",\"NotSubsetEqual;\":\"⊈\",\"NotSucceeds;\":\"⊁\",\"NotSucceedsEqual;\":\"⪰̸\",\"NotSucceedsSlantEqual;\":\"⋡\",\"NotSucceedsTilde;\":\"≿̸\",\"NotSuperset;\":\"⊃⃒\",\"NotSupersetEqual;\":\"⊉\",\"NotTilde;\":\"≁\",\"NotTildeEqual;\":\"≄\",\"NotTildeFullEqual;\":\"≇\",\"NotTildeTilde;\":\"≉\",\"NotVerticalBar;\":\"∤\",\"nparallel;\":\"∦\",\"npar;\":\"∦\",\"nparsl;\":\"⫽⃥\",\"npart;\":\"∂̸\",\"npolint;\":\"⨔\",\"npr;\":\"⊀\",\"nprcue;\":\"⋠\",\"nprec;\":\"⊀\",\"npreceq;\":\"⪯̸\",\"npre;\":\"⪯̸\",\"nrarrc;\":\"⤳̸\",\"nrarr;\":\"↛\",\"nrArr;\":\"⇏\",\"nrarrw;\":\"↝̸\",\"nrightarrow;\":\"↛\",\"nRightarrow;\":\"⇏\",\"nrtri;\":\"⋫\",\"nrtrie;\":\"⋭\",\"nsc;\":\"⊁\",\"nsccue;\":\"⋡\",\"nsce;\":\"⪰̸\",\"Nscr;\":\"𝒩\",\"nscr;\":\"𝓃\",\"nshortmid;\":\"∤\",\"nshortparallel;\":\"∦\",\"nsim;\":\"≁\",\"nsime;\":\"≄\",\"nsimeq;\":\"≄\",\"nsmid;\":\"∤\",\"nspar;\":\"∦\",\"nsqsube;\":\"⋢\",\"nsqsupe;\":\"⋣\",\"nsub;\":\"⊄\",\"nsubE;\":\"⫅̸\",\"nsube;\":\"⊈\",\"nsubset;\":\"⊂⃒\",\"nsubseteq;\":\"⊈\",\"nsubseteqq;\":\"⫅̸\",\"nsucc;\":\"⊁\",\"nsucceq;\":\"⪰̸\",\"nsup;\":\"⊅\",\"nsupE;\":\"⫆̸\",\"nsupe;\":\"⊉\",\"nsupset;\":\"⊃⃒\",\"nsupseteq;\":\"⊉\",\"nsupseteqq;\":\"⫆̸\",\"ntgl;\":\"≹\",\"Ntilde;\":\"Ñ\",Ntilde:\"Ñ\",\"ntilde;\":\"ñ\",ntilde:\"ñ\",\"ntlg;\":\"≸\",\"ntriangleleft;\":\"⋪\",\"ntrianglelefteq;\":\"⋬\",\"ntriangleright;\":\"⋫\",\"ntrianglerighteq;\":\"⋭\",\"Nu;\":\"Ν\",\"nu;\":\"ν\",\"num;\":\"#\",\"numero;\":\"№\",\"numsp;\":\" \",\"nvap;\":\"≍⃒\",\"nvdash;\":\"⊬\",\"nvDash;\":\"⊭\",\"nVdash;\":\"⊮\",\"nVDash;\":\"⊯\",\"nvge;\":\"≥⃒\",\"nvgt;\":\">⃒\",\"nvHarr;\":\"⤄\",\"nvinfin;\":\"⧞\",\"nvlArr;\":\"⤂\",\"nvle;\":\"≤⃒\",\"nvlt;\":\"<⃒\",\"nvltrie;\":\"⊴⃒\",\"nvrArr;\":\"⤃\",\"nvrtrie;\":\"⊵⃒\",\"nvsim;\":\"∼⃒\",\"nwarhk;\":\"⤣\",\"nwarr;\":\"↖\",\"nwArr;\":\"⇖\",\"nwarrow;\":\"↖\",\"nwnear;\":\"⤧\",\"Oacute;\":\"Ó\",Oacute:\"Ó\",\"oacute;\":\"ó\",oacute:\"ó\",\"oast;\":\"⊛\",\"Ocirc;\":\"Ô\",Ocirc:\"Ô\",\"ocirc;\":\"ô\",ocirc:\"ô\",\"ocir;\":\"⊚\",\"Ocy;\":\"О\",\"ocy;\":\"о\",\"odash;\":\"⊝\",\"Odblac;\":\"Ő\",\"odblac;\":\"ő\",\"odiv;\":\"⨸\",\"odot;\":\"⊙\",\"odsold;\":\"⦼\",\"OElig;\":\"Œ\",\"oelig;\":\"œ\",\"ofcir;\":\"⦿\",\"Ofr;\":\"𝔒\",\"ofr;\":\"𝔬\",\"ogon;\":\"˛\",\"Ograve;\":\"Ò\",Ograve:\"Ò\",\"ograve;\":\"ò\",ograve:\"ò\",\"ogt;\":\"⧁\",\"ohbar;\":\"⦵\",\"ohm;\":\"Ω\",\"oint;\":\"∮\",\"olarr;\":\"↺\",\"olcir;\":\"⦾\",\"olcross;\":\"⦻\",\"oline;\":\"‾\",\"olt;\":\"⧀\",\"Omacr;\":\"Ō\",\"omacr;\":\"ō\",\"Omega;\":\"Ω\",\"omega;\":\"ω\",\"Omicron;\":\"Ο\",\"omicron;\":\"ο\",\"omid;\":\"⦶\",\"ominus;\":\"⊖\",\"Oopf;\":\"𝕆\",\"oopf;\":\"𝕠\",\"opar;\":\"⦷\",\"OpenCurlyDoubleQuote;\":\"“\",\"OpenCurlyQuote;\":\"‘\",\"operp;\":\"⦹\",\"oplus;\":\"⊕\",\"orarr;\":\"↻\",\"Or;\":\"⩔\",\"or;\":\"∨\",\"ord;\":\"⩝\",\"order;\":\"ℴ\",\"orderof;\":\"ℴ\",\"ordf;\":\"ª\",ordf:\"ª\",\"ordm;\":\"º\",ordm:\"º\",\"origof;\":\"⊶\",\"oror;\":\"⩖\",\"orslope;\":\"⩗\",\"orv;\":\"⩛\",\"oS;\":\"Ⓢ\",\"Oscr;\":\"𝒪\",\"oscr;\":\"ℴ\",\"Oslash;\":\"Ø\",Oslash:\"Ø\",\"oslash;\":\"ø\",oslash:\"ø\",\"osol;\":\"⊘\",\"Otilde;\":\"Õ\",Otilde:\"Õ\",\"otilde;\":\"õ\",otilde:\"õ\",\"otimesas;\":\"⨶\",\"Otimes;\":\"⨷\",\"otimes;\":\"⊗\",\"Ouml;\":\"Ö\",Ouml:\"Ö\",\"ouml;\":\"ö\",ouml:\"ö\",\"ovbar;\":\"⌽\",\"OverBar;\":\"‾\",\"OverBrace;\":\"⏞\",\"OverBracket;\":\"⎴\",\"OverParenthesis;\":\"⏜\",\"para;\":\"¶\",para:\"¶\",\"parallel;\":\"∥\",\"par;\":\"∥\",\"parsim;\":\"⫳\",\"parsl;\":\"⫽\",\"part;\":\"∂\",\"PartialD;\":\"∂\",\"Pcy;\":\"П\",\"pcy;\":\"п\",\"percnt;\":\"%\",\"period;\":\".\",\"permil;\":\"‰\",\"perp;\":\"⊥\",\"pertenk;\":\"‱\",\"Pfr;\":\"𝔓\",\"pfr;\":\"𝔭\",\"Phi;\":\"Φ\",\"phi;\":\"φ\",\"phiv;\":\"ϕ\",\"phmmat;\":\"ℳ\",\"phone;\":\"☎\",\"Pi;\":\"Π\",\"pi;\":\"π\",\"pitchfork;\":\"⋔\",\"piv;\":\"ϖ\",\"planck;\":\"ℏ\",\"planckh;\":\"ℎ\",\"plankv;\":\"ℏ\",\"plusacir;\":\"⨣\",\"plusb;\":\"⊞\",\"pluscir;\":\"⨢\",\"plus;\":\"+\",\"plusdo;\":\"∔\",\"plusdu;\":\"⨥\",\"pluse;\":\"⩲\",\"PlusMinus;\":\"±\",\"plusmn;\":\"±\",plusmn:\"±\",\"plussim;\":\"⨦\",\"plustwo;\":\"⨧\",\"pm;\":\"±\",\"Poincareplane;\":\"ℌ\",\"pointint;\":\"⨕\",\"popf;\":\"𝕡\",\"Popf;\":\"ℙ\",\"pound;\":\"£\",pound:\"£\",\"prap;\":\"⪷\",\"Pr;\":\"⪻\",\"pr;\":\"≺\",\"prcue;\":\"≼\",\"precapprox;\":\"⪷\",\"prec;\":\"≺\",\"preccurlyeq;\":\"≼\",\"Precedes;\":\"≺\",\"PrecedesEqual;\":\"⪯\",\"PrecedesSlantEqual;\":\"≼\",\"PrecedesTilde;\":\"≾\",\"preceq;\":\"⪯\",\"precnapprox;\":\"⪹\",\"precneqq;\":\"⪵\",\"precnsim;\":\"⋨\",\"pre;\":\"⪯\",\"prE;\":\"⪳\",\"precsim;\":\"≾\",\"prime;\":\"′\",\"Prime;\":\"″\",\"primes;\":\"ℙ\",\"prnap;\":\"⪹\",\"prnE;\":\"⪵\",\"prnsim;\":\"⋨\",\"prod;\":\"∏\",\"Product;\":\"∏\",\"profalar;\":\"⌮\",\"profline;\":\"⌒\",\"profsurf;\":\"⌓\",\"prop;\":\"∝\",\"Proportional;\":\"∝\",\"Proportion;\":\"∷\",\"propto;\":\"∝\",\"prsim;\":\"≾\",\"prurel;\":\"⊰\",\"Pscr;\":\"𝒫\",\"pscr;\":\"𝓅\",\"Psi;\":\"Ψ\",\"psi;\":\"ψ\",\"puncsp;\":\" \",\"Qfr;\":\"𝔔\",\"qfr;\":\"𝔮\",\"qint;\":\"⨌\",\"qopf;\":\"𝕢\",\"Qopf;\":\"ℚ\",\"qprime;\":\"⁗\",\"Qscr;\":\"𝒬\",\"qscr;\":\"𝓆\",\"quaternions;\":\"ℍ\",\"quatint;\":\"⨖\",\"quest;\":\"?\",\"questeq;\":\"≟\",\"quot;\":'\"',quot:'\"',\"QUOT;\":'\"',QUOT:'\"',\"rAarr;\":\"⇛\",\"race;\":\"∽̱\",\"Racute;\":\"Ŕ\",\"racute;\":\"ŕ\",\"radic;\":\"√\",\"raemptyv;\":\"⦳\",\"rang;\":\"⟩\",\"Rang;\":\"⟫\",\"rangd;\":\"⦒\",\"range;\":\"⦥\",\"rangle;\":\"⟩\",\"raquo;\":\"»\",raquo:\"»\",\"rarrap;\":\"⥵\",\"rarrb;\":\"⇥\",\"rarrbfs;\":\"⤠\",\"rarrc;\":\"⤳\",\"rarr;\":\"→\",\"Rarr;\":\"↠\",\"rArr;\":\"⇒\",\"rarrfs;\":\"⤞\",\"rarrhk;\":\"↪\",\"rarrlp;\":\"↬\",\"rarrpl;\":\"⥅\",\"rarrsim;\":\"⥴\",\"Rarrtl;\":\"⤖\",\"rarrtl;\":\"↣\",\"rarrw;\":\"↝\",\"ratail;\":\"⤚\",\"rAtail;\":\"⤜\",\"ratio;\":\"∶\",\"rationals;\":\"ℚ\",\"rbarr;\":\"⤍\",\"rBarr;\":\"⤏\",\"RBarr;\":\"⤐\",\"rbbrk;\":\"❳\",\"rbrace;\":\"}\",\"rbrack;\":\"]\",\"rbrke;\":\"⦌\",\"rbrksld;\":\"⦎\",\"rbrkslu;\":\"⦐\",\"Rcaron;\":\"Ř\",\"rcaron;\":\"ř\",\"Rcedil;\":\"Ŗ\",\"rcedil;\":\"ŗ\",\"rceil;\":\"⌉\",\"rcub;\":\"}\",\"Rcy;\":\"Р\",\"rcy;\":\"р\",\"rdca;\":\"⤷\",\"rdldhar;\":\"⥩\",\"rdquo;\":\"”\",\"rdquor;\":\"”\",\"rdsh;\":\"↳\",\"real;\":\"ℜ\",\"realine;\":\"ℛ\",\"realpart;\":\"ℜ\",\"reals;\":\"ℝ\",\"Re;\":\"ℜ\",\"rect;\":\"▭\",\"reg;\":\"®\",reg:\"®\",\"REG;\":\"®\",REG:\"®\",\"ReverseElement;\":\"∋\",\"ReverseEquilibrium;\":\"⇋\",\"ReverseUpEquilibrium;\":\"⥯\",\"rfisht;\":\"⥽\",\"rfloor;\":\"⌋\",\"rfr;\":\"𝔯\",\"Rfr;\":\"ℜ\",\"rHar;\":\"⥤\",\"rhard;\":\"⇁\",\"rharu;\":\"⇀\",\"rharul;\":\"⥬\",\"Rho;\":\"Ρ\",\"rho;\":\"ρ\",\"rhov;\":\"ϱ\",\"RightAngleBracket;\":\"⟩\",\"RightArrowBar;\":\"⇥\",\"rightarrow;\":\"→\",\"RightArrow;\":\"→\",\"Rightarrow;\":\"⇒\",\"RightArrowLeftArrow;\":\"⇄\",\"rightarrowtail;\":\"↣\",\"RightCeiling;\":\"⌉\",\"RightDoubleBracket;\":\"⟧\",\"RightDownTeeVector;\":\"⥝\",\"RightDownVectorBar;\":\"⥕\",\"RightDownVector;\":\"⇂\",\"RightFloor;\":\"⌋\",\"rightharpoondown;\":\"⇁\",\"rightharpoonup;\":\"⇀\",\"rightleftarrows;\":\"⇄\",\"rightleftharpoons;\":\"⇌\",\"rightrightarrows;\":\"⇉\",\"rightsquigarrow;\":\"↝\",\"RightTeeArrow;\":\"↦\",\"RightTee;\":\"⊢\",\"RightTeeVector;\":\"⥛\",\"rightthreetimes;\":\"⋌\",\"RightTriangleBar;\":\"⧐\",\"RightTriangle;\":\"⊳\",\"RightTriangleEqual;\":\"⊵\",\"RightUpDownVector;\":\"⥏\",\"RightUpTeeVector;\":\"⥜\",\"RightUpVectorBar;\":\"⥔\",\"RightUpVector;\":\"↾\",\"RightVectorBar;\":\"⥓\",\"RightVector;\":\"⇀\",\"ring;\":\"˚\",\"risingdotseq;\":\"≓\",\"rlarr;\":\"⇄\",\"rlhar;\":\"⇌\",\"rlm;\":\"‏\",\"rmoustache;\":\"⎱\",\"rmoust;\":\"⎱\",\"rnmid;\":\"⫮\",\"roang;\":\"⟭\",\"roarr;\":\"⇾\",\"robrk;\":\"⟧\",\"ropar;\":\"⦆\",\"ropf;\":\"𝕣\",\"Ropf;\":\"ℝ\",\"roplus;\":\"⨮\",\"rotimes;\":\"⨵\",\"RoundImplies;\":\"⥰\",\"rpar;\":\")\",\"rpargt;\":\"⦔\",\"rppolint;\":\"⨒\",\"rrarr;\":\"⇉\",\"Rrightarrow;\":\"⇛\",\"rsaquo;\":\"›\",\"rscr;\":\"𝓇\",\"Rscr;\":\"ℛ\",\"rsh;\":\"↱\",\"Rsh;\":\"↱\",\"rsqb;\":\"]\",\"rsquo;\":\"’\",\"rsquor;\":\"’\",\"rthree;\":\"⋌\",\"rtimes;\":\"⋊\",\"rtri;\":\"▹\",\"rtrie;\":\"⊵\",\"rtrif;\":\"▸\",\"rtriltri;\":\"⧎\",\"RuleDelayed;\":\"⧴\",\"ruluhar;\":\"⥨\",\"rx;\":\"℞\",\"Sacute;\":\"Ś\",\"sacute;\":\"ś\",\"sbquo;\":\"‚\",\"scap;\":\"⪸\",\"Scaron;\":\"Š\",\"scaron;\":\"š\",\"Sc;\":\"⪼\",\"sc;\":\"≻\",\"sccue;\":\"≽\",\"sce;\":\"⪰\",\"scE;\":\"⪴\",\"Scedil;\":\"Ş\",\"scedil;\":\"ş\",\"Scirc;\":\"Ŝ\",\"scirc;\":\"ŝ\",\"scnap;\":\"⪺\",\"scnE;\":\"⪶\",\"scnsim;\":\"⋩\",\"scpolint;\":\"⨓\",\"scsim;\":\"≿\",\"Scy;\":\"С\",\"scy;\":\"с\",\"sdotb;\":\"⊡\",\"sdot;\":\"⋅\",\"sdote;\":\"⩦\",\"searhk;\":\"⤥\",\"searr;\":\"↘\",\"seArr;\":\"⇘\",\"searrow;\":\"↘\",\"sect;\":\"§\",sect:\"§\",\"semi;\":\";\",\"seswar;\":\"⤩\",\"setminus;\":\"∖\",\"setmn;\":\"∖\",\"sext;\":\"✶\",\"Sfr;\":\"𝔖\",\"sfr;\":\"𝔰\",\"sfrown;\":\"⌢\",\"sharp;\":\"♯\",\"SHCHcy;\":\"Щ\",\"shchcy;\":\"щ\",\"SHcy;\":\"Ш\",\"shcy;\":\"ш\",\"ShortDownArrow;\":\"↓\",\"ShortLeftArrow;\":\"←\",\"shortmid;\":\"∣\",\"shortparallel;\":\"∥\",\"ShortRightArrow;\":\"→\",\"ShortUpArrow;\":\"↑\",\"shy;\":\"­\",shy:\"­\",\"Sigma;\":\"Σ\",\"sigma;\":\"σ\",\"sigmaf;\":\"ς\",\"sigmav;\":\"ς\",\"sim;\":\"∼\",\"simdot;\":\"⩪\",\"sime;\":\"≃\",\"simeq;\":\"≃\",\"simg;\":\"⪞\",\"simgE;\":\"⪠\",\"siml;\":\"⪝\",\"simlE;\":\"⪟\",\"simne;\":\"≆\",\"simplus;\":\"⨤\",\"simrarr;\":\"⥲\",\"slarr;\":\"←\",\"SmallCircle;\":\"∘\",\"smallsetminus;\":\"∖\",\"smashp;\":\"⨳\",\"smeparsl;\":\"⧤\",\"smid;\":\"∣\",\"smile;\":\"⌣\",\"smt;\":\"⪪\",\"smte;\":\"⪬\",\"smtes;\":\"⪬︀\",\"SOFTcy;\":\"Ь\",\"softcy;\":\"ь\",\"solbar;\":\"⌿\",\"solb;\":\"⧄\",\"sol;\":\"/\",\"Sopf;\":\"𝕊\",\"sopf;\":\"𝕤\",\"spades;\":\"♠\",\"spadesuit;\":\"♠\",\"spar;\":\"∥\",\"sqcap;\":\"⊓\",\"sqcaps;\":\"⊓︀\",\"sqcup;\":\"⊔\",\"sqcups;\":\"⊔︀\",\"Sqrt;\":\"√\",\"sqsub;\":\"⊏\",\"sqsube;\":\"⊑\",\"sqsubset;\":\"⊏\",\"sqsubseteq;\":\"⊑\",\"sqsup;\":\"⊐\",\"sqsupe;\":\"⊒\",\"sqsupset;\":\"⊐\",\"sqsupseteq;\":\"⊒\",\"square;\":\"□\",\"Square;\":\"□\",\"SquareIntersection;\":\"⊓\",\"SquareSubset;\":\"⊏\",\"SquareSubsetEqual;\":\"⊑\",\"SquareSuperset;\":\"⊐\",\"SquareSupersetEqual;\":\"⊒\",\"SquareUnion;\":\"⊔\",\"squarf;\":\"▪\",\"squ;\":\"□\",\"squf;\":\"▪\",\"srarr;\":\"→\",\"Sscr;\":\"𝒮\",\"sscr;\":\"𝓈\",\"ssetmn;\":\"∖\",\"ssmile;\":\"⌣\",\"sstarf;\":\"⋆\",\"Star;\":\"⋆\",\"star;\":\"☆\",\"starf;\":\"★\",\"straightepsilon;\":\"ϵ\",\"straightphi;\":\"ϕ\",\"strns;\":\"¯\",\"sub;\":\"⊂\",\"Sub;\":\"⋐\",\"subdot;\":\"⪽\",\"subE;\":\"⫅\",\"sube;\":\"⊆\",\"subedot;\":\"⫃\",\"submult;\":\"⫁\",\"subnE;\":\"⫋\",\"subne;\":\"⊊\",\"subplus;\":\"⪿\",\"subrarr;\":\"⥹\",\"subset;\":\"⊂\",\"Subset;\":\"⋐\",\"subseteq;\":\"⊆\",\"subseteqq;\":\"⫅\",\"SubsetEqual;\":\"⊆\",\"subsetneq;\":\"⊊\",\"subsetneqq;\":\"⫋\",\"subsim;\":\"⫇\",\"subsub;\":\"⫕\",\"subsup;\":\"⫓\",\"succapprox;\":\"⪸\",\"succ;\":\"≻\",\"succcurlyeq;\":\"≽\",\"Succeeds;\":\"≻\",\"SucceedsEqual;\":\"⪰\",\"SucceedsSlantEqual;\":\"≽\",\"SucceedsTilde;\":\"≿\",\"succeq;\":\"⪰\",\"succnapprox;\":\"⪺\",\"succneqq;\":\"⪶\",\"succnsim;\":\"⋩\",\"succsim;\":\"≿\",\"SuchThat;\":\"∋\",\"sum;\":\"∑\",\"Sum;\":\"∑\",\"sung;\":\"♪\",\"sup1;\":\"¹\",sup1:\"¹\",\"sup2;\":\"²\",sup2:\"²\",\"sup3;\":\"³\",sup3:\"³\",\"sup;\":\"⊃\",\"Sup;\":\"⋑\",\"supdot;\":\"⪾\",\"supdsub;\":\"⫘\",\"supE;\":\"⫆\",\"supe;\":\"⊇\",\"supedot;\":\"⫄\",\"Superset;\":\"⊃\",\"SupersetEqual;\":\"⊇\",\"suphsol;\":\"⟉\",\"suphsub;\":\"⫗\",\"suplarr;\":\"⥻\",\"supmult;\":\"⫂\",\"supnE;\":\"⫌\",\"supne;\":\"⊋\",\"supplus;\":\"⫀\",\"supset;\":\"⊃\",\"Supset;\":\"⋑\",\"supseteq;\":\"⊇\",\"supseteqq;\":\"⫆\",\"supsetneq;\":\"⊋\",\"supsetneqq;\":\"⫌\",\"supsim;\":\"⫈\",\"supsub;\":\"⫔\",\"supsup;\":\"⫖\",\"swarhk;\":\"⤦\",\"swarr;\":\"↙\",\"swArr;\":\"⇙\",\"swarrow;\":\"↙\",\"swnwar;\":\"⤪\",\"szlig;\":\"ß\",szlig:\"ß\",\"Tab;\":\"\t\",\"target;\":\"⌖\",\"Tau;\":\"Τ\",\"tau;\":\"τ\",\"tbrk;\":\"⎴\",\"Tcaron;\":\"Ť\",\"tcaron;\":\"ť\",\"Tcedil;\":\"Ţ\",\"tcedil;\":\"ţ\",\"Tcy;\":\"Т\",\"tcy;\":\"т\",\"tdot;\":\"⃛\",\"telrec;\":\"⌕\",\"Tfr;\":\"𝔗\",\"tfr;\":\"𝔱\",\"there4;\":\"∴\",\"therefore;\":\"∴\",\"Therefore;\":\"∴\",\"Theta;\":\"Θ\",\"theta;\":\"θ\",\"thetasym;\":\"ϑ\",\"thetav;\":\"ϑ\",\"thickapprox;\":\"≈\",\"thicksim;\":\"∼\",\"ThickSpace;\":\"  \",\"ThinSpace;\":\" \",\"thinsp;\":\" \",\"thkap;\":\"≈\",\"thksim;\":\"∼\",\"THORN;\":\"Þ\",THORN:\"Þ\",\"thorn;\":\"þ\",thorn:\"þ\",\"tilde;\":\"˜\",\"Tilde;\":\"∼\",\"TildeEqual;\":\"≃\",\"TildeFullEqual;\":\"≅\",\"TildeTilde;\":\"≈\",\"timesbar;\":\"⨱\",\"timesb;\":\"⊠\",\"times;\":\"×\",times:\"×\",\"timesd;\":\"⨰\",\"tint;\":\"∭\",\"toea;\":\"⤨\",\"topbot;\":\"⌶\",\"topcir;\":\"⫱\",\"top;\":\"⊤\",\"Topf;\":\"𝕋\",\"topf;\":\"𝕥\",\"topfork;\":\"⫚\",\"tosa;\":\"⤩\",\"tprime;\":\"‴\",\"trade;\":\"™\",\"TRADE;\":\"™\",\"triangle;\":\"▵\",\"triangledown;\":\"▿\",\"triangleleft;\":\"◃\",\"trianglelefteq;\":\"⊴\",\"triangleq;\":\"≜\",\"triangleright;\":\"▹\",\"trianglerighteq;\":\"⊵\",\"tridot;\":\"◬\",\"trie;\":\"≜\",\"triminus;\":\"⨺\",\"TripleDot;\":\"⃛\",\"triplus;\":\"⨹\",\"trisb;\":\"⧍\",\"tritime;\":\"⨻\",\"trpezium;\":\"⏢\",\"Tscr;\":\"𝒯\",\"tscr;\":\"𝓉\",\"TScy;\":\"Ц\",\"tscy;\":\"ц\",\"TSHcy;\":\"Ћ\",\"tshcy;\":\"ћ\",\"Tstrok;\":\"Ŧ\",\"tstrok;\":\"ŧ\",\"twixt;\":\"≬\",\"twoheadleftarrow;\":\"↞\",\"twoheadrightarrow;\":\"↠\",\"Uacute;\":\"Ú\",Uacute:\"Ú\",\"uacute;\":\"ú\",uacute:\"ú\",\"uarr;\":\"↑\",\"Uarr;\":\"↟\",\"uArr;\":\"⇑\",\"Uarrocir;\":\"⥉\",\"Ubrcy;\":\"Ў\",\"ubrcy;\":\"ў\",\"Ubreve;\":\"Ŭ\",\"ubreve;\":\"ŭ\",\"Ucirc;\":\"Û\",Ucirc:\"Û\",\"ucirc;\":\"û\",ucirc:\"û\",\"Ucy;\":\"У\",\"ucy;\":\"у\",\"udarr;\":\"⇅\",\"Udblac;\":\"Ű\",\"udblac;\":\"ű\",\"udhar;\":\"⥮\",\"ufisht;\":\"⥾\",\"Ufr;\":\"𝔘\",\"ufr;\":\"𝔲\",\"Ugrave;\":\"Ù\",Ugrave:\"Ù\",\"ugrave;\":\"ù\",ugrave:\"ù\",\"uHar;\":\"⥣\",\"uharl;\":\"↿\",\"uharr;\":\"↾\",\"uhblk;\":\"▀\",\"ulcorn;\":\"⌜\",\"ulcorner;\":\"⌜\",\"ulcrop;\":\"⌏\",\"ultri;\":\"◸\",\"Umacr;\":\"Ū\",\"umacr;\":\"ū\",\"uml;\":\"¨\",uml:\"¨\",\"UnderBar;\":\"_\",\"UnderBrace;\":\"⏟\",\"UnderBracket;\":\"⎵\",\"UnderParenthesis;\":\"⏝\",\"Union;\":\"⋃\",\"UnionPlus;\":\"⊎\",\"Uogon;\":\"Ų\",\"uogon;\":\"ų\",\"Uopf;\":\"𝕌\",\"uopf;\":\"𝕦\",\"UpArrowBar;\":\"⤒\",\"uparrow;\":\"↑\",\"UpArrow;\":\"↑\",\"Uparrow;\":\"⇑\",\"UpArrowDownArrow;\":\"⇅\",\"updownarrow;\":\"↕\",\"UpDownArrow;\":\"↕\",\"Updownarrow;\":\"⇕\",\"UpEquilibrium;\":\"⥮\",\"upharpoonleft;\":\"↿\",\"upharpoonright;\":\"↾\",\"uplus;\":\"⊎\",\"UpperLeftArrow;\":\"↖\",\"UpperRightArrow;\":\"↗\",\"upsi;\":\"υ\",\"Upsi;\":\"ϒ\",\"upsih;\":\"ϒ\",\"Upsilon;\":\"Υ\",\"upsilon;\":\"υ\",\"UpTeeArrow;\":\"↥\",\"UpTee;\":\"⊥\",\"upuparrows;\":\"⇈\",\"urcorn;\":\"⌝\",\"urcorner;\":\"⌝\",\"urcrop;\":\"⌎\",\"Uring;\":\"Ů\",\"uring;\":\"ů\",\"urtri;\":\"◹\",\"Uscr;\":\"𝒰\",\"uscr;\":\"𝓊\",\"utdot;\":\"⋰\",\"Utilde;\":\"Ũ\",\"utilde;\":\"ũ\",\"utri;\":\"▵\",\"utrif;\":\"▴\",\"uuarr;\":\"⇈\",\"Uuml;\":\"Ü\",Uuml:\"Ü\",\"uuml;\":\"ü\",uuml:\"ü\",\"uwangle;\":\"⦧\",\"vangrt;\":\"⦜\",\"varepsilon;\":\"ϵ\",\"varkappa;\":\"ϰ\",\"varnothing;\":\"∅\",\"varphi;\":\"ϕ\",\"varpi;\":\"ϖ\",\"varpropto;\":\"∝\",\"varr;\":\"↕\",\"vArr;\":\"⇕\",\"varrho;\":\"ϱ\",\"varsigma;\":\"ς\",\"varsubsetneq;\":\"⊊︀\",\"varsubsetneqq;\":\"⫋︀\",\"varsupsetneq;\":\"⊋︀\",\"varsupsetneqq;\":\"⫌︀\",\"vartheta;\":\"ϑ\",\"vartriangleleft;\":\"⊲\",\"vartriangleright;\":\"⊳\",\"vBar;\":\"⫨\",\"Vbar;\":\"⫫\",\"vBarv;\":\"⫩\",\"Vcy;\":\"В\",\"vcy;\":\"в\",\"vdash;\":\"⊢\",\"vDash;\":\"⊨\",\"Vdash;\":\"⊩\",\"VDash;\":\"⊫\",\"Vdashl;\":\"⫦\",\"veebar;\":\"⊻\",\"vee;\":\"∨\",\"Vee;\":\"⋁\",\"veeeq;\":\"≚\",\"vellip;\":\"⋮\",\"verbar;\":\"|\",\"Verbar;\":\"‖\",\"vert;\":\"|\",\"Vert;\":\"‖\",\"VerticalBar;\":\"∣\",\"VerticalLine;\":\"|\",\"VerticalSeparator;\":\"❘\",\"VerticalTilde;\":\"≀\",\"VeryThinSpace;\":\" \",\"Vfr;\":\"𝔙\",\"vfr;\":\"𝔳\",\"vltri;\":\"⊲\",\"vnsub;\":\"⊂⃒\",\"vnsup;\":\"⊃⃒\",\"Vopf;\":\"𝕍\",\"vopf;\":\"𝕧\",\"vprop;\":\"∝\",\"vrtri;\":\"⊳\",\"Vscr;\":\"𝒱\",\"vscr;\":\"𝓋\",\"vsubnE;\":\"⫋︀\",\"vsubne;\":\"⊊︀\",\"vsupnE;\":\"⫌︀\",\"vsupne;\":\"⊋︀\",\"Vvdash;\":\"⊪\",\"vzigzag;\":\"⦚\",\"Wcirc;\":\"Ŵ\",\"wcirc;\":\"ŵ\",\"wedbar;\":\"⩟\",\"wedge;\":\"∧\",\"Wedge;\":\"⋀\",\"wedgeq;\":\"≙\",\"weierp;\":\"℘\",\"Wfr;\":\"𝔚\",\"wfr;\":\"𝔴\",\"Wopf;\":\"𝕎\",\"wopf;\":\"𝕨\",\"wp;\":\"℘\",\"wr;\":\"≀\",\"wreath;\":\"≀\",\"Wscr;\":\"𝒲\",\"wscr;\":\"𝓌\",\"xcap;\":\"⋂\",\"xcirc;\":\"◯\",\"xcup;\":\"⋃\",\"xdtri;\":\"▽\",\"Xfr;\":\"𝔛\",\"xfr;\":\"𝔵\",\"xharr;\":\"⟷\",\"xhArr;\":\"⟺\",\"Xi;\":\"Ξ\",\"xi;\":\"ξ\",\"xlarr;\":\"⟵\",\"xlArr;\":\"⟸\",\"xmap;\":\"⟼\",\"xnis;\":\"⋻\",\"xodot;\":\"⨀\",\"Xopf;\":\"𝕏\",\"xopf;\":\"𝕩\",\"xoplus;\":\"⨁\",\"xotime;\":\"⨂\",\"xrarr;\":\"⟶\",\"xrArr;\":\"⟹\",\"Xscr;\":\"𝒳\",\"xscr;\":\"𝓍\",\"xsqcup;\":\"⨆\",\"xuplus;\":\"⨄\",\"xutri;\":\"△\",\"xvee;\":\"⋁\",\"xwedge;\":\"⋀\",\"Yacute;\":\"Ý\",Yacute:\"Ý\",\"yacute;\":\"ý\",yacute:\"ý\",\"YAcy;\":\"Я\",\"yacy;\":\"я\",\"Ycirc;\":\"Ŷ\",\"ycirc;\":\"ŷ\",\"Ycy;\":\"Ы\",\"ycy;\":\"ы\",\"yen;\":\"¥\",yen:\"¥\",\"Yfr;\":\"𝔜\",\"yfr;\":\"𝔶\",\"YIcy;\":\"Ї\",\"yicy;\":\"ї\",\"Yopf;\":\"𝕐\",\"yopf;\":\"𝕪\",\"Yscr;\":\"𝒴\",\"yscr;\":\"𝓎\",\"YUcy;\":\"Ю\",\"yucy;\":\"ю\",\"yuml;\":\"ÿ\",yuml:\"ÿ\",\"Yuml;\":\"Ÿ\",\"Zacute;\":\"Ź\",\"zacute;\":\"ź\",\"Zcaron;\":\"Ž\",\"zcaron;\":\"ž\",\"Zcy;\":\"З\",\"zcy;\":\"з\",\"Zdot;\":\"Ż\",\"zdot;\":\"ż\",\"zeetrf;\":\"ℨ\",\"ZeroWidthSpace;\":\"​\",\"Zeta;\":\"Ζ\",\"zeta;\":\"ζ\",\"zfr;\":\"𝔷\",\"Zfr;\":\"ℨ\",\"ZHcy;\":\"Ж\",\"zhcy;\":\"ж\",\"zigrarr;\":\"⇝\",\"zopf;\":\"𝕫\",\"Zopf;\":\"ℤ\",\"Zscr;\":\"𝒵\",\"zscr;\":\"𝓏\",\"zwj;\":\"‍\",\"zwnj;\":\"‌\"}\n},{}],13:[function(_dereq_,module){function replacer(key,value){return util.isUndefined(value)?\"\"+value:!util.isNumber(value)||!isNaN(value)&&isFinite(value)?util.isFunction(value)||util.isRegExp(value)?\"\"+value:value:\"\"+value}function truncate(s,n){return util.isString(s)?n>s.length?s:s.slice(0,n):s}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+\" \"+self.operator+\" \"+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,\"==\",assert.ok)}function _deepEqual(actual,expected){if(actual===expected)return!0;if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return!1;for(var i=0;actual.length>i;i++)if(actual[i]!==expected[i])return!1;return!0}return util.isDate(actual)&&util.isDate(expected)?actual.getTime()===expected.getTime():util.isRegExp(actual)&&util.isRegExp(expected)?actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase:util.isObject(actual)||util.isObject(expected)?objEquiv(actual,expected):actual==expected}function isArguments(object){return\"[object Arguments]\"==Object.prototype.toString.call(object)}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return isArguments(b)?(a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b)):!1;try{var key,i,ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key]))return!1;return!0}function expectedException(actual,expected){return actual&&expected?\"[object RegExp]\"==Object.prototype.toString.call(expected)?expected.test(actual):actual instanceof expected?!0:expected.call({},actual)===!0?!0:!1:!1}function _throws(shouldThrow,block,expected,message){var actual;util.isString(expected)&&(message=expected,expected=null);try{block()}catch(e){actual=e}if(message=(expected&&expected.name?\" (\"+expected.name+\").\":\".\")+(message?\" \"+message:\".\"),shouldThrow&&!actual&&fail(actual,expected,\"Missing expected exception\"+message),!shouldThrow&&expectedException(actual,expected)&&fail(actual,expected,\"Got unwanted exception\"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=_dereq_(\"util/\"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(options){this.name=\"AssertionError\",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=Error();if(err.stack){var out=err.stack,fn_name=stackStartFunction.name,idx=out.indexOf(\"\\n\"+fn_name);if(idx>=0){var next_line=out.indexOf(\"\\n\",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,\"==\",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,\"!=\",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected)||fail(actual,expected,message,\"deepEqual\",assert.deepEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected)&&fail(actual,expected,message,\"notDeepEqual\",assert.notDeepEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,\"===\",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,\"!==\",assert.notStrictEqual)},assert.throws=function(){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}},{\"util/\":15}],14:[function(_dereq_,module){module.exports=function(arg){return arg&&\"object\"==typeof arg&&\"function\"==typeof arg.copy&&\"function\"==typeof arg.fill&&\"function\"==typeof arg.readUInt8}},{}],15:[function(_dereq_,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?\"\u001b[\"+inspect.colors[style][0]+\"m\"+str+\"\u001b[\"+inspect.colors[style][1]+\"m\":str}function stylizeNoColor(str){return str}function arrayToHash(array){var hash={};return array.forEach(function(val){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf(\"message\")>=0||keys.indexOf(\"description\")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?\": \"+value.name:\"\";return ctx.stylize(\"[Function\"+name+\"]\",\"special\")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),\"regexp\");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),\"date\");if(isError(value))return formatError(value)}var base=\"\",array=!1,braces=[\"{\",\"}\"];if(isArray(value)&&(array=!0,braces=[\"[\",\"]\"]),isFunction(value)){var n=value.name?\": \"+value.name:\"\";base=\" [Function\"+n+\"]\"}if(isRegExp(value)&&(base=\" \"+RegExp.prototype.toString.call(value)),isDate(value)&&(base=\" \"+Date.prototype.toUTCString.call(value)),isError(value)&&(base=\" \"+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),\"regexp\"):ctx.stylize(\"[Object]\",\"special\");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize(\"undefined\",\"undefined\");if(isString(value)){var simple=\"'\"+JSON.stringify(value).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return ctx.stylize(simple,\"string\")}return isNumber(value)?ctx.stylize(\"\"+value,\"number\"):isBoolean(value)?ctx.stylize(\"\"+value,\"boolean\"):isNull(value)?ctx.stylize(\"null\",\"null\"):void 0}function formatError(value){return\"[\"+Error.prototype.toString.call(value)+\"]\"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,i+\"\")?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,i+\"\",!0)):output.push(\"\");return keys.forEach(function(key){key.match(/^\\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize(\"[Getter/Setter]\",\"special\"):ctx.stylize(\"[Getter]\",\"special\"):desc.set&&(str=ctx.stylize(\"[Setter]\",\"special\")),hasOwnProperty(visibleKeys,key)||(name=\"[\"+key+\"]\"),str||(0>ctx.seen.indexOf(desc.value)?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf(\"\\n\")>-1&&(str=array?str.split(\"\\n\").map(function(line){return\"  \"+line}).join(\"\\n\").substr(2):\"\\n\"+str.split(\"\\n\").map(function(line){return\"   \"+line}).join(\"\\n\"))):str=ctx.stylize(\"[Circular]\",\"special\")),isUndefined(name)){if(array&&key.match(/^\\d+$/))return str;name=JSON.stringify(\"\"+key),name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,\"name\")):(name=name.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),name=ctx.stylize(name,\"string\"))}return name+\": \"+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf(\"\\n\")>=0&&numLinesEst++,prev+cur.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0);return length>60?braces[0]+(\"\"===base?\"\":base+\"\\n \")+\" \"+output.join(\",\\n  \")+\" \"+braces[1]:braces[0]+base+\" \"+output.join(\", \")+\" \"+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return\"boolean\"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return\"number\"==typeof arg}function isString(arg){return\"string\"==typeof arg}function isSymbol(arg){return\"symbol\"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&\"[object RegExp]\"===objectToString(re)}function isObject(arg){return\"object\"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&\"[object Date]\"===objectToString(d)}function isError(e){return isObject(e)&&(\"[object Error]\"===objectToString(e)||e instanceof Error)}function isFunction(arg){return\"function\"==typeof arg}function isPrimitive(arg){return null===arg||\"boolean\"==typeof arg||\"number\"==typeof arg||\"string\"==typeof arg||\"symbol\"==typeof arg||arg===void 0}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?\"0\"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(\":\");return[d.getDate(),months[d.getMonth()],time].join(\" \")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;arguments.length>i;i++)objects.push(inspect(arguments[i]));return objects.join(\" \")}for(var i=1,args=arguments,len=args.length,str=(f+\"\").replace(formatRegExp,function(x){if(\"%%\"===x)return\"%\";if(i>=len)return x;switch(x){case\"%s\":return args[i++]+\"\";case\"%d\":return Number(args[i++]);case\"%j\":try{return JSON.stringify(args[i++])}catch(_){return\"[Circular]\"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?\" \"+x:\" \"+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||\"\"),set=set.toUpperCase(),!debugs[set])if(RegExp(\"\\\\b\"+set+\"\\\\b\",\"i\").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error(\"%s %d: %s\",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:\"cyan\",number:\"yellow\",\"boolean\":\"yellow\",undefined:\"grey\",\"null\":\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=_dereq_(\"./support/isBuffer\");var months=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];exports.log=function(){console.log(\"%s - %s\",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=_dereq_(\"inherits\"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,_dereq_(\"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./support/isBuffer\":14,\"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js\":18,inherits:17}],16:[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return\"function\"==typeof arg}function isNumber(arg){return\"number\"==typeof arg}function isObject(arg){return\"object\"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError(\"n must be a positive number\");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),\"error\"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length))throw er=arguments[1],er instanceof Error?er:TypeError('Uncaught, unspecified \"error\" event.');if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[type].length),console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit(\"removeListener\",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit(\"removeListener\",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)\"removeListener\"!==key&&this.removeAllListeners(key);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],17:[function(_dereq_,module){module.exports=\"function\"==typeof Object.create?function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],18:[function(_dereq_,module){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate=\"undefined\"!=typeof window&&window.setImmediate,canPost=\"undefined\"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener(\"message\",function(ev){var source=ev.source;if((source===window||null===source)&&\"process-tick\"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage(\"process-tick\",\"*\")}}return function(fn){setTimeout(fn,0)}}(),process.title=\"browser\",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.once=noop,process.off=noop,process.emit=noop,process.binding=function(){throw Error(\"process.binding is not supported\")},process.cwd=function(){return\"/\"},process.chdir=function(){throw Error(\"process.chdir is not supported\")}},{}],19:[function(_dereq_,module){module.exports=_dereq_(14)},{}],20:[function(_dereq_,module){module.exports=_dereq_(15)},{\"./support/isBuffer\":19,\"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js\":18,inherits:17}]},{},[9])(9)}),ace.define(\"ace/mode/html_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/worker/mirror\",\"ace/mode/html/saxparser\"],function(acequire,exports){\"use strict\";var oop=acequire(\"../lib/oop\");acequire(\"../lib/lang\");var Mirror=acequire(\"../worker/mirror\").Mirror,SAXParser=acequire(\"./html/saxparser\").SAXParser,errorTypes={\"expected-doctype-but-got-start-tag\":\"info\",\"expected-doctype-but-got-chars\":\"info\",\"non-html-root\":\"info\"},Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.context=null};oop.inherits(Worker,Mirror),function(){this.setOptions=function(options){this.context=options.context},this.onUpdate=function(){var value=this.doc.getValue();if(value){var parser=new SAXParser,errors=[],noop=function(){};parser.contentHandler={startDocument:noop,endDocument:noop,startElement:noop,endElement:noop,characters:noop},parser.errorHandler={error:function(message,location,code){errors.push({row:location.line,column:location.column,text:message,type:errorTypes[code]||\"error\"})}},this.context?parser.parseFragment(value,this.context):parser.parse(value),this.sender.emit(\"error\",errors)}}}.call(Worker.prototype)}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object\n});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\u000b\\f\\r   ᠎             　\\u2028\\u2029﻿\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}});";
}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/brace/worker/html.js","/../node_modules/brace/worker")
},{"buffer":8,"pBGvAp":10}],7:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
module.exports.id = 'ace/mode/javascript_worker';
module.exports.src = "\"no use strict\";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail=\"\";testPath;){var alias=paths[testPath];if(\"string\"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,\"/\")+(tail||alias.main||alias.name);if(alias===!1)return\"\";var i=testPath.lastIndexOf(\"/\");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:\"error\",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return window.normalizeModule(parentId,chunks[0])+\"!\"+window.normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=(base?base+\"/\":\"\")+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,\"\").replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log(\"unable to load \"+id);var path=resolveModuleId(id,window.acequire.tlns);return\".js\"!=path.slice(-3)&&(path+=\".js\"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),\"function\"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=[\"require\",\"exports\",\"module\"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case\"require\":return req;case\"exports\":return module.exports;case\"module\":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire(\"ace/lib/event_emitter\").EventEmitter,oop=window.acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error(\"Unknown command:\"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||\"\";switch(delta.action){case\"insert\":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case\"remove\":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert=\"insert\"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),applyDelta=acequire(\"./apply_delta\").applyDelta,EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(textOrLines){this.$lines=[\"\"],0===textOrLines.length?this.$lines=[\"\"]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0===\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\",this._signal(\"changeNewLineMode\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},this.$autoNewLine=\"\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal(\"changeNewLineMode\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(position,[\"\",\"\"])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:\"insert\",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([\"\"]),column=0):(lines=[\"\"].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:\"insert\",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:\"remove\",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:\"remove\",lines:[\"\",\"\"]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert=\"insert\"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal(\"change\",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(\"\"),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:\"insert\"==delta.action?\"remove\":\"insert\",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if(\"object\"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){\"use strict\";acequire(\"../range\").Range;var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:\"insert\",start:data[i],lines:data[i+1]};else var d={action:\"remove\",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define(\"ace/mode/javascript/jshint\",[\"require\",\"exports\",\"module\"],function(acequire,exports,module){module.exports=function outer(modules,cache,entry){function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire=\"function\"==typeof acequire&&acequire;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);var err=Error(\"Cannot find module '\"+name+\"'\");throw err.code=\"MODULE_NOT_FOUND\",err}var m=cache[name]={exports:{}};modules[name][0].call(m.exports,function(x){var id=modules[name][1][x];return newRequire(id?id:x)},m,m.exports,outer,modules,cache,entry)}return cache[name].exports}for(var previousRequire=\"function\"==typeof acequire&&acequire,i=0;entry.length>i;i++)newRequire(entry[i]);return newRequire(entry[0])}({\"/node_modules/browserify/node_modules/events/events.js\":[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return\"function\"==typeof arg}function isNumber(arg){return\"number\"==typeof arg}function isObject(arg){return\"object\"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError(\"n must be a positive number\");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),\"error\"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified \"error\" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[type].length),\"function\"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit(\"removeListener\",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit(\"removeListener\",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)\"removeListener\"!==key&&this.removeAllListeners(key);return this.removeAllListeners(\"removeListener\"),this._events={},this\n}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],\"/node_modules/jshint/data/ascii-identifier-data.js\":[function(_dereq_,module){for(var identifierStartTable=[],i=0;128>i;i++)identifierStartTable[i]=36===i||i>=65&&90>=i||95===i||i>=97&&122>=i;for(var identifierPartTable=[],i=0;128>i;i++)identifierPartTable[i]=identifierStartTable[i]||i>=48&&57>=i;module.exports={asciiIdentifierStartTable:identifierStartTable,asciiIdentifierPartTable:identifierPartTable}},{}],\"/node_modules/jshint/lodash.js\":[function(_dereq_,module,exports){(function(global){(function(){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:length>++index;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;length>++index;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return\"function\"==typeof value||!1}function baseToString(value){return\"string\"==typeof value?value:null==value?\"\":value+\"\"}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:length>++index;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&\"object\"==typeof value}function lodash(){}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));length>++index;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;length>++index&&iteratee(array[index],index,array)!==!1;);return array}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];length>++index;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);length>++index;)result[index]=iteratee(array[index],index,array);return result}function arrayMax(array){for(var index=-1,length=array.length,result=NEGATIVE_INFINITY;length>++index;){var value=array[index];value>result&&(result=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array.length;length>++index;)if(predicate(array[index],index,array))return!0;return!1}function assignWith(object,source,customizer){var props=keys(source);push.apply(props,getSymbols(source));for(var index=-1,length=props.length;length>++index;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;length>++index;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return\"function\"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:\"object\"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=-1,length=path.length;null!=object&&length>++index;)var result=object=object[path[index]];return result}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return 0!==value||1/value==1/other;var valType=typeof value,othType=typeof other;return\"function\"!=valType&&\"object\"!=valType&&\"function\"!=othType&&\"object\"!=othType||null==value||null==other?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var valWrapped=objIsObj&&hasOwnProperty.call(object,\"__wrapped__\"),othWrapped=othIsObj&&hasOwnProperty.call(other,\"__wrapped__\");if(valWrapped||othWrapped)return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,props,values,strictCompareFlags,customizer){for(var index=-1,length=props.length,noCustomizer=!customizer;length>++index;)if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!(props[index]in object))return!1;for(index=-1;length>++index;){var key=props[index],objValue=object[key],srcValue=values[index];if(noCustomizer&&strictCompareFlags[index])var result=objValue!==undefined||key in object;else result=customizer?customizer(objValue,srcValue,key):undefined,result===undefined&&(result=baseIsEqual(srcValue,objValue,customizer,!0));if(!result)return!1}return!0}function baseMatches(source){var props=keys(source),length=props.length;if(!length)return constant(!0);if(1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=source[props[length]],values[length]=value,strictCompareFlags[length]=isStrictComparable(value);return function(object){return null!=object&&baseIsMatch(toObject(object),props,values,strictCompareFlags)}}function baseMatchesProperty(path,value){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(value),pathKey=path+\"\";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),!(!isArr&&isCommon||key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===value?value!==undefined||key in object:baseIsEqual(value,object[key],null,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isLength(source.length)&&(isArray(source)||isTypedArray(source));if(!isSrcArr){var props=keys(source);push.apply(props,getSymbols(source))}return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),!isSrcArr&&result===undefined||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return object[key]=stackB[length],undefined;var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isLength(srcValue.length)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:getLength(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+\"\";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);length>++index;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);length>++index;)result[index]=object[props[index]];return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if(\"number\"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsUndef=value===undefined;high>low;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsUndef?isReflexive&&(retHighest||computed!==undefined):retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if(\"function\"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2&&sources[length-2],guard=length>2&&sources[2],thisArg=length>1&&sources[length-1];for(\"function\"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer=\"function\"==typeof thisArg?thisArg:null,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?null:customizer,length=1);length>++index;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:length>++index)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:length>++index;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return\"function\"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=!0;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;result&&arrLength>++index;){var arrValue=array[index],othValue=other[index];if(result=undefined,customizer&&(result=isLoose?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)),result===undefined)if(isLoose)for(var othIndex=othLength;othIndex--&&(othValue=other[othIndex],!(result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))););else result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}return!!result}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:0==object?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+\"\"}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var skipCtor=isLoose,index=-1;objLength>++index;){var key=objProps[index],result=isLoose?key in other:hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined,customizer&&(result=isLoose?customizer(othValue,objValue,key):customizer(objValue,othValue,key)),result===undefined&&(result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB))}if(!result)return!1;skipCtor||(skipCtor=\"constructor\"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&\"constructor\"in object&&\"constructor\"in other&&!(\"function\"==typeof objCtor&&objCtor instanceof objCtor&&\"function\"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&\"string\"==typeof array[0]&&hasOwnProperty.call(array,\"index\")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return\"function\"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function isIndex(value,length){return value=+value,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&0==value%1&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if(\"number\"==type)var length=getLength(object),prereq=isLength(length)&&isIndex(index,length);else prereq=\"string\"==type&&index in object;if(prereq){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if(\"string\"==type&&reIsPlainProp.test(value)||\"number\"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLength(value){return\"number\"==typeof value&&value>-1&&0==value%1&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&(0===value?1/value>0:!isObject(value))}function shimIsPlainObject(value){var Ctor;if(lodash.support,!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,\"constructor\")&&(Ctor=value.constructor,\"function\"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,support=lodash.support,allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object)),index=-1,result=[];propsLength>++index;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,\"$1\"):number||match)}),result}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if(\"number\"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function slice(array,start,end){var length=array?array.length:0;return length?(end&&\"number\"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function unzip(array){for(var index=-1,length=(array&&array.length&&arrayMax(arrayMap(array,getLength)))>>>0,result=Array(length);length>++index;)result[index]=arrayMap(array,baseProperty(index));return result}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),length?(fromIndex=\"number\"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,\"string\"==typeof collection||!isArray(collection)&&isString(collection)?length>fromIndex&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1):!1}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),(\"function\"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function restParam(func,start){if(\"function\"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);length>++index;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;start>++index;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function clone(value,isDeep,customizer,thisArg){return isDeep&&\"boolean\"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:\"function\"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),customizer=\"function\"==typeof customizer&&bindCallback(customizer,thisArg,1),baseClone(value,isDeep,customizer)}function isArguments(value){var length=isObjectLike(value)?value.length:undefined;return isLength(length)&&objToString.call(value)==argsTag}function isEmpty(value){if(null==value)return!0;var length=getLength(value);return isLength(length)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!length:!keys(value).length}function isObject(value){var type=typeof value;return\"function\"==type||!!value&&\"object\"==type}function isNative(value){return null==value?!1:objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNumber(value){return\"number\"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isString(value){return\"string\"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function toPlainObject(value){return baseCopy(value,keysIn(value))}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);return result||isKey(path)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path),result=null!=object&&hasOwnProperty.call(object,path)),result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto=\"function\"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;length>++index;)result[index]=index+\"\";for(var key in object)skipIndexes&&isIndex(key,length)||\"constructor\"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function values(object){return baseValues(object,keys(object))}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,\"\\\\$&\"):string}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}var undefined,VERSION=\"3.7.0\",FUNC_ERROR_TEXT=\"Expected a function\",argsTag=\"[object Arguments]\",arrayTag=\"[object Array]\",boolTag=\"[object Boolean]\",dateTag=\"[object Date]\",errorTag=\"[object Error]\",funcTag=\"[object Function]\",mapTag=\"[object Map]\",numberTag=\"[object Number]\",objectTag=\"[object Object]\",regexpTag=\"[object RegExp]\",setTag=\"[object Set]\",stringTag=\"[object String]\",weakMapTag=\"[object WeakMap]\",arrayBufferTag=\"[object ArrayBuffer]\",float32Tag=\"[object Float32Array]\",float64Tag=\"[object Float64Array]\",int8Tag=\"[object Int8Array]\",int16Tag=\"[object Int16Array]\",int32Tag=\"[object Int32Array]\",uint8Tag=\"[object Uint8Array]\",uint8ClampedTag=\"[object Uint8ClampedArray]\",uint16Tag=\"[object Uint16Array]\",uint32Tag=\"[object Uint32Array]\",reIsDeepProp=/\\.|\\[(?:[^[\\]]+|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?)\\1\\]/,reIsPlainProp=/^\\w*$/,rePropName=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,reRegExpChars=/[.*+?^${}()|[\\]\\/\\\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reEscapeChar=/\\\\(\\\\)?/g,reFlags=/\\w*$/,reIsHostCtor=/^\\[object .+?Constructor\\]$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var objectTypes={\"function\":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&\"object\"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,arrayProto=Array.prototype,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp(\"^\"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),ArrayBuffer=isNative(ArrayBuffer=root.ArrayBuffer)&&ArrayBuffer,bufferSlice=isNative(bufferSlice=ArrayBuffer&&new ArrayBuffer(0).slice)&&bufferSlice,floor=Math.floor,getOwnPropertySymbols=isNative(getOwnPropertySymbols=Object.getOwnPropertySymbols)&&getOwnPropertySymbols,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,push=arrayProto.push,preventExtensions=isNative(Object.preventExtensions=Object.preventExtensions)&&preventExtensions,propertyIsEnumerable=objectProto.propertyIsEnumerable,Uint8Array=isNative(Uint8Array=root.Uint8Array)&&Uint8Array,Float64Array=function(){try{var func=isNative(func=root.Float64Array)&&func,result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result}(),nativeAssign=function(){var object={1:0},func=preventExtensions&&isNative(func=Object.assign)&&func;try{func(preventExtensions(object),\"xo\")}catch(e){}return!object[1]&&func}(),nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=Math.pow(2,53)-1,support=lodash.support={};(function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.funcDecomp=/\\bthis\\b/.test(function(){return this}),support.funcNames=\"string\"==typeof Function.name;try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=!0}})(1,0);var baseAssign=nativeAssign||function(object,source){return null==source?object:baseCopy(source,getSymbols(source),baseCopy(source,keys(source),object))},baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor();bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var getLength=baseProperty(\"length\"),getSymbols=getOwnPropertySymbols?function(object){return getOwnPropertySymbols(toObject(object))}:constant([]),findLastIndex=createFindIndex(!0),zip=restParam(unzip),forEach=createForEach(arrayEach,baseEach),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),keys=nativeKeys?function(object){if(object)var Ctor=object.constructor,length=object.length;return\"function\"==typeof Ctor&&Ctor.prototype===object||\"function\"!=typeof object&&isLength(length)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,merge=createAssigner(baseMerge);lodash.assign=assign,lodash.callback=callback,lodash.constant=constant,lodash.forEach=forEach,lodash.keys=keys,lodash.keysIn=keysIn,lodash.merge=merge,lodash.property=property,lodash.reject=reject,lodash.restParam=restParam,lodash.slice=slice,lodash.toPlainObject=toPlainObject,lodash.unzip=unzip,lodash.values=values,lodash.zip=zip,lodash.each=forEach,lodash.extend=assign,lodash.iteratee=callback,lodash.clone=clone,lodash.escapeRegExp=escapeRegExp,lodash.findLastIndex=findLastIndex,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isEmpty=isEmpty,lodash.isFunction=isFunction,lodash.isNative=isNative,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.last=last,lodash.some=some,lodash.any=some,lodash.contains=includes,lodash.include=includes,lodash.VERSION=VERSION,freeExports&&freeModule?moduleExports?(freeModule.exports=lodash)._=lodash:freeExports._=lodash:root._=lodash\n}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],\"/node_modules/jshint/src/jshint.js\":[function(_dereq_,module,exports){var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),vars=_dereq_(\"./vars.js\"),messages=_dereq_(\"./messages.js\"),Lexer=_dereq_(\"./lex.js\").Lexer,reg=_dereq_(\"./reg.js\"),state=_dereq_(\"./state.js\").state,style=_dereq_(\"./style.js\"),options=_dereq_(\"./options.js\"),scopeManager=_dereq_(\"./scope-manager.js\"),JSHINT=function(){\"use strict\";function checkOption(name,t){return name=name.trim(),/^[+-]W\\d{3}$/g.test(name)?!0:-1!==options.validNames.indexOf(name)||\"jslint\"===t.type||_.has(options.removed,name)?!0:(error(\"E001\",t,name),!1)}function isString(obj){return\"[object String]\"===Object.prototype.toString.call(obj)}function isIdentifier(tkn,value){return tkn?tkn.identifier&&tkn.value===value?!0:!1:!1}function isReserved(token){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(token.isProperty)return!1}return!0}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return\"string\"==typeof r||\"number\"==typeof r?r:a})}function combine(dest,src){Object.keys(src).forEach(function(name){_.has(JSHINT.blacklist,name)||(dest[name]=src[name])})}function processenforceall(){if(state.option.enforceall){for(var enforceopt in options.bool.enforcing)void 0!==state.option[enforceopt]||options.noenforceall[enforceopt]||(state.option[enforceopt]=!0);for(var relaxopt in options.bool.relaxing)void 0===state.option[relaxopt]&&(state.option[relaxopt]=!1)}}function assume(){processenforceall(),state.option.esversion||state.option.moz||(state.option.esversion=state.option.es3?3:state.option.esnext?6:5),state.inES5()&&combine(predefined,vars.ecmaIdentifiers[5]),state.inES6()&&combine(predefined,vars.ecmaIdentifiers[6]),state.option.module&&(state.option.strict===!0&&(state.option.strict=\"global\"),state.inES6()||warning(\"W134\",state.tokens.next,\"module\",6)),state.option.couch&&combine(predefined,vars.couch),state.option.qunit&&combine(predefined,vars.qunit),state.option.rhino&&combine(predefined,vars.rhino),state.option.shelljs&&(combine(predefined,vars.shelljs),combine(predefined,vars.node)),state.option.typed&&combine(predefined,vars.typed),state.option.phantom&&(combine(predefined,vars.phantom),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.prototypejs&&combine(predefined,vars.prototypejs),state.option.node&&(combine(predefined,vars.node),combine(predefined,vars.typed),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.devel&&combine(predefined,vars.devel),state.option.dojo&&combine(predefined,vars.dojo),state.option.browser&&(combine(predefined,vars.browser),combine(predefined,vars.typed)),state.option.browserify&&(combine(predefined,vars.browser),combine(predefined,vars.typed),combine(predefined,vars.browserify),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.nonstandard&&combine(predefined,vars.nonstandard),state.option.jasmine&&combine(predefined,vars.jasmine),state.option.jquery&&combine(predefined,vars.jquery),state.option.mootools&&combine(predefined,vars.mootools),state.option.worker&&combine(predefined,vars.worker),state.option.wsh&&combine(predefined,vars.wsh),state.option.globalstrict&&state.option.strict!==!1&&(state.option.strict=\"global\"),state.option.yui&&combine(predefined,vars.yui),state.option.mocha&&combine(predefined,vars.mocha)}function quit(code,line,chr){var percentage=Math.floor(100*(line/state.lines.length)),message=messages.errors[code].desc;throw{name:\"JSHintError\",line:line,character:chr,message:message+\" (\"+percentage+\"% scanned).\",raw:message,code:code}}function removeIgnoredMessages(){var ignored=state.ignoredLines;_.isEmpty(ignored)||(JSHINT.errors=_.reject(JSHINT.errors,function(err){return ignored[err.line]}))}function warning(code,t,a,b,c,d){var ch,l,w,msg;if(/^W\\d{3}$/.test(code)){if(state.ignored[code])return;msg=messages.warnings[code]}else/E\\d{3}/.test(code)?msg=messages.errors[code]:/I\\d{3}/.test(code)&&(msg=messages.info[code]);return t=t||state.tokens.next||{},\"(end)\"===t.id&&(t=state.tokens.curr),l=t.line||0,ch=t.from||0,w={id:\"(error)\",raw:msg.desc,code:msg.code,evidence:state.lines[l-1]||\"\",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(msg.desc,w),JSHINT.errors.push(w),removeIgnoredMessages(),JSHINT.errors.length>=state.option.maxerr&&quit(\"E043\",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:\"(internal)\",elem:elem,value:src},JSHINT.internals.push(i),i}function doOption(){var nt=state.tokens.next,body=nt.body.match(/(-\\s+)?[^\\s,:]+(?:\\s*:\\s*(-\\s+)?[^\\s,]+)?/g)||[],predef={};if(\"globals\"===nt.type){body.forEach(function(g,idx){g=g.split(\":\");var key=(g[0]||\"\").trim(),val=(g[1]||\"\").trim();if(\"-\"===key||!key.length){if(idx>0&&idx===body.length-1)return;return error(\"E002\",nt),void 0}\"-\"===key.charAt(0)?(key=key.slice(1),val=!1,JSHINT.blacklist[key]=key,delete predefined[key]):predef[key]=\"true\"===val}),combine(predefined,predef);for(var key in predef)_.has(predef,key)&&(declared[key]=nt)}\"exported\"===nt.type&&body.forEach(function(e,idx){if(!e.length){if(idx>0&&idx===body.length-1)return;return error(\"E002\",nt),void 0}state.funct[\"(scope)\"].addExported(e)}),\"members\"===nt.type&&(membersOnly=membersOnly||{},body.forEach(function(m){var ch1=m.charAt(0),ch2=m.charAt(m.length-1);ch1!==ch2||'\"'!==ch1&&\"'\"!==ch1||(m=m.substr(1,m.length-2).replace('\\\\\"','\"')),membersOnly[m]=!1}));var numvals=[\"maxstatements\",\"maxparams\",\"maxdepth\",\"maxcomplexity\",\"maxerr\",\"maxlen\",\"indent\"];(\"jshint\"===nt.type||\"jslint\"===nt.type)&&(body.forEach(function(g){g=g.split(\":\");var key=(g[0]||\"\").trim(),val=(g[1]||\"\").trim();if(checkOption(key,nt))if(numvals.indexOf(key)>=0)if(\"false\"!==val){if(val=+val,\"number\"!=typeof val||!isFinite(val)||0>=val||Math.floor(val)!==val)return error(\"E032\",nt,g[1].trim()),void 0;state.option[key]=val}else state.option[key]=\"indent\"===key?4:!1;else{if(\"validthis\"===key)return state.funct[\"(global)\"]?void error(\"E009\"):\"true\"!==val&&\"false\"!==val?void error(\"E002\",nt):(state.option.validthis=\"true\"===val,void 0);if(\"quotmark\"!==key)if(\"shadow\"!==key)if(\"unused\"!==key)if(\"latedef\"!==key)if(\"ignore\"!==key)if(\"strict\"!==key){\"module\"===key&&(hasParsedCode(state.funct)||error(\"E055\",state.tokens.next,\"module\"));var esversions={es3:3,es5:5,esnext:6};if(!_.has(esversions,key)){if(\"esversion\"===key){switch(val){case\"5\":state.inES5(!0)&&warning(\"I003\");case\"3\":case\"6\":state.option.moz=!1,state.option.esversion=+val;break;case\"2015\":state.option.moz=!1,state.option.esversion=6;break;default:error(\"E002\",nt)}return hasParsedCode(state.funct)||error(\"E055\",state.tokens.next,\"esversion\"),void 0}var match=/^([+-])(W\\d{3})$/g.exec(key);if(match)return state.ignored[match[2]]=\"-\"===match[1],void 0;var tn;return\"true\"===val||\"false\"===val?(\"jslint\"===nt.type?(tn=options.renamed[key]||key,state.option[tn]=\"true\"===val,void 0!==options.inverted[tn]&&(state.option[tn]=!state.option[tn])):state.option[key]=\"true\"===val,\"newcap\"===key&&(state.option[\"(explicitNewcap)\"]=!0),void 0):(error(\"E002\",nt),void 0)}switch(val){case\"true\":state.option.moz=!1,state.option.esversion=esversions[key];break;case\"false\":state.option.moz||(state.option.esversion=5);break;default:error(\"E002\",nt)}}else switch(val){case\"true\":state.option.strict=!0;break;case\"false\":state.option.strict=!1;break;case\"func\":case\"global\":case\"implied\":state.option.strict=val;break;default:error(\"E002\",nt)}else switch(val){case\"line\":state.ignoredLines[nt.line]=!0,removeIgnoredMessages();break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.latedef=!0;break;case\"false\":state.option.latedef=!1;break;case\"nofunc\":state.option.latedef=\"nofunc\";break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.unused=!0;break;case\"false\":state.option.unused=!1;break;case\"vars\":case\"strict\":state.option.unused=val;break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.shadow=!0;break;case\"outer\":state.option.shadow=\"outer\";break;case\"false\":case\"inner\":state.option.shadow=\"inner\";break;default:error(\"E002\",nt)}else switch(val){case\"true\":case\"false\":state.option.quotmark=\"true\"===val;break;case\"double\":case\"single\":state.option.quotmark=val;break;default:error(\"E002\",nt)}}}),assume())}function peek(p){var t,i=p||0,j=lookahead.length;if(j>i)return lookahead[i];for(;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t||\"(end)\"!==state.tokens.next.id?t:state.tokens.next}function peekIgnoreEOL(){var t,i=0;do t=peek(i++);while(\"(endline)\"===t.id);return t}function advance(id,t){switch(state.tokens.curr.id){case\"(number)\":\".\"===state.tokens.next.id&&warning(\"W005\",state.tokens.curr);break;case\"-\":(\"-\"===state.tokens.next.id||\"--\"===state.tokens.next.id)&&warning(\"W006\");break;case\"+\":(\"+\"===state.tokens.next.id||\"++\"===state.tokens.next.id)&&warning(\"W007\")}for(id&&state.tokens.next.id!==id&&(t?\"(end)\"===state.tokens.next.id?error(\"E019\",t,t.id):error(\"E020\",state.tokens.next,id,t.id,t.line,state.tokens.next.value):(\"(identifier)\"!==state.tokens.next.type||state.tokens.next.value!==id)&&warning(\"W116\",state.tokens.next,id,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=lookahead.shift()||lex.token(),state.tokens.next||quit(\"E041\",state.tokens.curr.line),\"(end)\"===state.tokens.next.id||\"(error)\"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)\"falls through\"===state.tokens.next.type?state.tokens.curr.caseFallsThrough=!0:doOption();else if(\"(endline)\"!==state.tokens.next.id)break}}function isInfix(token){return token.infix||!token.identifier&&!token.template&&!!token.led}function isEndOfExpr(){var curr=state.tokens.curr,next=state.tokens.next;return\";\"===next.id||\"}\"===next.id||\":\"===next.id?!0:isInfix(next)===isInfix(curr)||\"yield\"===curr.id&&state.inMoz()?curr.line!==startLine(next):!1}function isBeginOfExpr(prev){return!prev.left&&\"unary\"!==prev.arity}function expression(rbp,initial){var left,isArray=!1,isObject=!1,isLetExpr=!1;state.nameStack.push(),initial||\"let\"!==state.tokens.next.value||\"(\"!==peek(0).value||(state.inMoz()||warning(\"W118\",state.tokens.next,\"let expressions\"),isLetExpr=!0,state.funct[\"(scope)\"].stack(),advance(\"let\"),advance(\"(\"),state.tokens.prev.fud(),advance(\")\")),\"(end)\"===state.tokens.next.id&&error(\"E006\",state.tokens.curr);var isDangerous=state.option.asi&&state.tokens.prev.line!==startLine(state.tokens.curr)&&_.contains([\"]\",\")\"],state.tokens.prev.id)&&_.contains([\"[\",\"(\"],state.tokens.curr.id);if(isDangerous&&warning(\"W014\",state.tokens.curr,state.tokens.curr.id),advance(),initial&&(state.funct[\"(verb)\"]=state.tokens.curr.value,state.tokens.curr.beginsStmt=!0),initial===!0&&state.tokens.curr.fud)left=state.tokens.curr.fud();else for(state.tokens.curr.nud?left=state.tokens.curr.nud():error(\"E030\",state.tokens.curr,state.tokens.curr.id);(state.tokens.next.lbp>rbp||\"(template)\"===state.tokens.next.type)&&!isEndOfExpr();)isArray=\"Array\"===state.tokens.curr.value,isObject=\"Object\"===state.tokens.curr.value,left&&(left.value||left.first&&left.first.value)&&(\"new\"!==left.value||left.first&&left.first.value&&\".\"===left.first.value)&&(isArray=!1,left.value!==state.tokens.curr.value&&(isObject=!1)),advance(),isArray&&\"(\"===state.tokens.curr.id&&\")\"===state.tokens.next.id&&warning(\"W009\",state.tokens.curr),isObject&&\"(\"===state.tokens.curr.id&&\")\"===state.tokens.next.id&&warning(\"W010\",state.tokens.curr),left&&state.tokens.curr.led?left=state.tokens.curr.led(left):error(\"E033\",state.tokens.curr,state.tokens.curr.id);return isLetExpr&&state.funct[\"(scope)\"].unstack(),state.nameStack.pop(),left}function startLine(token){return token.startLine||token.line}function nobreaknonadjacent(left,right){left=left||state.tokens.curr,right=right||state.tokens.next,state.option.laxbreak||left.line===startLine(right)||warning(\"W014\",right,right.value)}function nolinebreak(t){t=t||state.tokens.curr,t.line!==startLine(state.tokens.next)&&warning(\"E022\",t,t.value)}function nobreakcomma(left,right){left.line!==startLine(right)&&(state.option.laxcomma||(comma.first&&(warning(\"I001\"),comma.first=!1),warning(\"W014\",left,right.value)))}function comma(opts){if(opts=opts||{},opts.peek?nobreakcomma(state.tokens.prev,state.tokens.curr):(nobreakcomma(state.tokens.curr,state.tokens.next),advance(\",\")),state.tokens.next.identifier&&(!opts.property||!state.inES5()))switch(state.tokens.next.value){case\"break\":case\"case\":case\"catch\":case\"continue\":case\"default\":case\"do\":case\"else\":case\"finally\":case\"for\":case\"if\":case\"in\":case\"instanceof\":case\"return\":case\"switch\":case\"throw\":case\"try\":case\"var\":case\"let\":case\"while\":case\"with\":return error(\"E024\",state.tokens.next,state.tokens.next.value),!1}if(\"(punctuator)\"===state.tokens.next.type)switch(state.tokens.next.value){case\"}\":case\"]\":case\",\":if(opts.allowTrailing)return!0;case\")\":return error(\"E024\",state.tokens.next,state.tokens.next.value),!1}return!0}function symbol(s,p){var x=state.syntax[s];return x&&\"object\"==typeof x||(state.syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){var x=symbol(s,0);return x.delim=!0,x}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>=\"a\"&&\"z\">=c||c>=\"A\"&&\"Z\">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud=\"function\"==typeof f?f:function(){return this.arity=\"unary\",this.right=expression(150),(\"++\"===this.id||\"--\"===this.id)&&(state.option.plusplus?warning(\"W016\",this,this.id):!this.right||this.right.identifier&&!isReserved(this.right)||\".\"===this.right.id||\"[\"===this.right.id||warning(\"W017\",this),this.right&&this.right.isMetaProperty?error(\"E031\",this):this.right&&this.right.identifier&&state.funct[\"(scope)\"].block.modify(this.right.value,this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(name,func){var x=type(name,func);return x.identifier=!0,x.reserved=!0,x}function FutureReservedWord(name,meta){var x=type(name,meta&&meta.nud||function(){return this});return meta=meta||{},meta.isFutureReservedWord=!0,x.value=name,x.identifier=!0,x.reserved=!0,x.meta=meta,x}function reservevar(s,v){return reserve(s,function(){return\"function\"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.infix=!0,x.led=function(left){return w||nobreaknonadjacent(state.tokens.prev,state.tokens.curr),\"in\"!==s&&\"instanceof\"!==s||\"!\"!==left.id||warning(\"W018\",left,\"!\"),\"function\"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function application(s){var x=symbol(s,42);return x.led=function(left){return nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left,this.right=doFunction({type:\"arrow\",loneArg:left}),this},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left;var right=this.right=expression(100);return isIdentifier(left,\"NaN\")||isIdentifier(right,\"NaN\")?warning(\"W019\",this):f&&f.apply(this,[left,right]),left&&right||quit(\"E041\",state.tokens.curr.line),\"!\"===left.id&&warning(\"W018\",left,\"!\"),\"!\"===right.id&&warning(\"W018\",right,\"!\"),this},x}function isPoorRelation(node){return node&&(\"(number)\"===node.type&&0===+node.value||\"(string)\"===node.type&&\"\"===node.value||\"null\"===node.type&&!state.option.eqnull||\"true\"===node.type||\"false\"===node.type||\"undefined\"===node.type)}function isTypoTypeof(left,right,state){var values;return state.option.notypeof?!1:left&&right?(values=state.inES6()?typeofValues.es6:typeofValues.es3,\"(identifier)\"===right.type&&\"typeof\"===right.value&&\"(string)\"===left.type?!_.contains(values,left.value):!1):!1}function isGlobalEval(left,state){var isGlobal=!1;return\"this\"===left.type&&null===state.funct[\"(context)\"]?isGlobal=!0:\"(identifier)\"===left.type&&(state.option.node&&\"global\"===left.value?isGlobal=!0:!state.option.browser||\"window\"!==left.value&&\"document\"!==left.value||(isGlobal=!0)),isGlobal}function findNativePrototype(left){function walkPrototype(obj){return\"object\"==typeof obj?\"prototype\"===obj.right?obj:walkPrototype(obj.left):void 0}function walkNative(obj){for(;!obj.identifier&&\"object\"==typeof obj.left;)obj=obj.left;return obj.identifier&&natives.indexOf(obj.value)>=0?obj.value:void 0}var natives=[\"Array\",\"ArrayBuffer\",\"Boolean\",\"Collator\",\"DataView\",\"Date\",\"DateTimeFormat\",\"Error\",\"EvalError\",\"Float32Array\",\"Float64Array\",\"Function\",\"Infinity\",\"Intl\",\"Int16Array\",\"Int32Array\",\"Int8Array\",\"Iterator\",\"Number\",\"NumberFormat\",\"Object\",\"RangeError\",\"ReferenceError\",\"RegExp\",\"StopIteration\",\"String\",\"SyntaxError\",\"TypeError\",\"Uint16Array\",\"Uint32Array\",\"Uint8Array\",\"Uint8ClampedArray\",\"URIError\"],prototype=walkPrototype(left);return prototype?walkNative(prototype):void 0}function checkLeftSideAssign(left,assignToken,options){var allowDestructuring=options&&options.allowDestructuring;if(assignToken=assignToken||left,state.option.freeze){var nativeObject=findNativePrototype(left);nativeObject&&warning(\"W121\",left,nativeObject)}return left.identifier&&!left.isMetaProperty&&state.funct[\"(scope)\"].block.reassign(left.value,left),\".\"===left.id?((!left.left||\"arguments\"===left.left.value&&!state.isStrict())&&warning(\"E031\",assignToken),state.nameStack.set(state.tokens.prev),!0):\"{\"===left.id||\"[\"===left.id?(allowDestructuring&&state.tokens.curr.left.destructAssign?state.tokens.curr.left.destructAssign.forEach(function(t){t.id&&state.funct[\"(scope)\"].block.modify(t.id,t.token)}):\"{\"!==left.id&&left.left?\"arguments\"!==left.left.value||state.isStrict()||warning(\"E031\",assignToken):warning(\"E031\",assignToken),\"[\"===left.id&&state.nameStack.set(left.right),!0):left.isMetaProperty?(error(\"E031\",assignToken),!0):left.identifier&&!isReserved(left)?(\"exception\"===state.funct[\"(scope)\"].labeltype(left.value)&&warning(\"W022\",left),state.nameStack.set(left),!0):(left===state.syntax[\"function\"]&&warning(\"W023\",state.tokens.curr),!1)}function assignop(s,f,p){var x=infix(s,\"function\"==typeof f?f:function(left,that){return that.left=left,left&&checkLeftSideAssign(left,that,{allowDestructuring:!0})?(that.right=expression(10),that):(error(\"E031\",that),void 0)},p);return x.exps=!0,x.assign=!0,x}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led=\"function\"==typeof f?f:function(left){return state.option.bitwise&&warning(\"W016\",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return assignop(s,function(left,that){return state.option.bitwise&&warning(\"W016\",that,that.id),left&&checkLeftSideAssign(left,that)?(that.right=expression(10),that):(error(\"E031\",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return state.option.plusplus?warning(\"W016\",this,this.id):left.identifier&&!isReserved(left)||\".\"===left.id||\"[\"===left.id||warning(\"W017\",this),left.isMetaProperty?error(\"E031\",this):left&&left.identifier&&state.funct[\"(scope)\"].block.modify(left.value,left),this.left=left,this},x}function optionalidentifier(fnparam,prop,preserve){if(state.tokens.next.identifier){preserve||advance();var curr=state.tokens.curr,val=state.tokens.curr.value;return isReserved(curr)?prop&&state.inES5()?val:fnparam&&\"undefined\"===val?val:(warning(\"W024\",state.tokens.curr,state.tokens.curr.id),val):val}}function identifier(fnparam,prop){var i=optionalidentifier(fnparam,prop,!1);if(i)return i;if(\"...\"===state.tokens.next.value){if(state.inES6(!0)||warning(\"W119\",state.tokens.next,\"spread/rest operator\",\"6\"),advance(),checkPunctuator(state.tokens.next,\"...\"))for(warning(\"E024\",state.tokens.next,\"...\");checkPunctuator(state.tokens.next,\"...\");)advance();return state.tokens.next.identifier?identifier(fnparam,prop):(warning(\"E024\",state.tokens.curr,\"...\"),void 0)}error(\"E030\",state.tokens.next,state.tokens.next.value),\";\"!==state.tokens.next.id&&advance()}function reachable(controlToken){var t,i=0;if(\";\"===state.tokens.next.id&&!controlToken.inBracelessBlock)for(;;){do t=peek(i),i+=1;while(\"(end)\"!==t.id&&\"(comment)\"===t.id);if(t.reach)return;if(\"(endline)\"!==t.id){if(\"function\"===t.id){state.option.latedef===!0&&warning(\"W026\",t);break}warning(\"W027\",t,t.value,controlToken.value);break}}}function parseFinalSemicolon(){if(\";\"!==state.tokens.next.id){if(state.tokens.next.isUnclosed)return advance();var sameLine=startLine(state.tokens.next)===state.tokens.curr.line&&\"(end)\"!==state.tokens.next.id,blockEnd=checkPunctuator(state.tokens.next,\"}\");sameLine&&!blockEnd?errorAt(\"E058\",state.tokens.curr.line,state.tokens.curr.character):state.option.asi||(blockEnd&&!state.option.lastsemic||!sameLine)&&warningAt(\"W033\",state.tokens.curr.line,state.tokens.curr.character)}else advance(\";\")}function statement(){var r,i=indent,t=state.tokens.next,hasOwnScope=!1;if(\";\"===t.id)return advance(\";\"),void 0;var res=isReserved(t);if(res&&t.meta&&t.meta.isFutureReservedWord&&\":\"===peek().id&&(warning(\"W024\",t,t.id),res=!1),t.identifier&&!res&&\":\"===peek().id&&(advance(),advance(\":\"),hasOwnScope=!0,state.funct[\"(scope)\"].stack(),state.funct[\"(scope)\"].block.addBreakLabel(t.value,{token:state.tokens.curr}),state.tokens.next.labelled||\"{\"===state.tokens.next.value||warning(\"W028\",state.tokens.next,t.value,state.tokens.next.value),state.tokens.next.label=t.value,t=state.tokens.next),\"{\"===t.id){var iscase=\"case\"===state.funct[\"(verb)\"]&&\":\"===state.tokens.curr.value;return block(!0,!0,!1,!1,iscase),void 0}return r=expression(0,!0),!r||r.identifier&&\"function\"===r.value||\"(punctuator)\"===r.type&&r.left&&r.left.identifier&&\"function\"===r.left.value||state.isStrict()||\"global\"!==state.option.strict||warning(\"E007\"),t.block||(state.option.expr||r&&r.exps?state.option.nonew&&r&&r.left&&\"(\"===r.id&&\"new\"===r.left.id&&warning(\"W031\",t):warning(\"W030\",state.tokens.curr),parseFinalSemicolon()),indent=i,hasOwnScope&&state.funct[\"(scope)\"].unstack(),r}function statements(){for(var p,a=[];!state.tokens.next.reach&&\"(end)\"!==state.tokens.next.id;)\";\"===state.tokens.next.id?(p=peek(),(!p||\"(\"!==p.id&&\"[\"!==p.id)&&warning(\"W032\"),advance(\";\")):a.push(statement());return a}function directives(){for(var i,p,pn;\"(string)\"===state.tokens.next.id;){if(p=peek(0),\"(endline)\"===p.id){i=1;do pn=peek(i++);while(\"(endline)\"===pn.id);if(\";\"===pn.id)p=pn;else{if(\"[\"===pn.value||\".\"===pn.value)break;state.option.asi&&\"(\"!==pn.value||warning(\"W033\",state.tokens.next)}}else{if(\".\"===p.id||\"[\"===p.id)break;\";\"!==p.id&&warning(\"W033\",p)}advance();var directive=state.tokens.curr.value;(state.directive[directive]||\"use strict\"===directive&&\"implied\"===state.option.strict)&&warning(\"W034\",state.tokens.curr,directive),state.directive[directive]=!0,\";\"===p.id&&advance(\";\")}state.isStrict()&&(state.option[\"(explicitNewcap)\"]||(state.option.newcap=!0),state.option.undef=!0)}function block(ordinary,stmt,isfunc,isfatarrow,iscase){var a,m,t,line,d,b=inblock,old_indent=indent;inblock=ordinary,t=state.tokens.next;var metrics=state.funct[\"(metrics)\"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),\"{\"===state.tokens.next.id){if(advance(\"{\"),state.funct[\"(scope)\"].stack(),line=state.tokens.curr.line,\"}\"!==state.tokens.next.id){for(indent+=state.option.indent;!ordinary&&state.tokens.next.from>indent;)indent+=state.option.indent;if(isfunc){m={};for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);directives(),state.option.strict&&state.funct[\"(context)\"][\"(global)\"]&&(m[\"use strict\"]||state.isStrict()||warning(\"E007\"))}a=statements(),metrics.statementCount+=a.length,indent-=state.option.indent}advance(\"}\",t),isfunc&&(state.funct[\"(scope)\"].validateParams(),m&&(state.directive=m)),state.funct[\"(scope)\"].unstack(),indent=old_indent}else if(ordinary)state.funct[\"(noblockscopedvar)\"]=\"for\"!==state.tokens.next.id,state.funct[\"(scope)\"].stack(),(!stmt||state.option.curly)&&warning(\"W116\",state.tokens.next,\"{\",state.tokens.next.value),state.tokens.next.inBracelessBlock=!0,indent+=state.option.indent,a=[statement()],indent-=state.option.indent,state.funct[\"(scope)\"].unstack(),delete state.funct[\"(noblockscopedvar)\"];else if(isfunc){if(state.funct[\"(scope)\"].stack(),m={},!stmt||isfatarrow||state.inMoz()||error(\"W118\",state.tokens.curr,\"function closure expressions\"),!stmt)for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);expression(10),state.option.strict&&state.funct[\"(context)\"][\"(global)\"]&&(m[\"use strict\"]||state.isStrict()||warning(\"E007\")),state.funct[\"(scope)\"].unstack()}else error(\"E021\",state.tokens.next,\"{\",state.tokens.next.value);switch(state.funct[\"(verb)\"]){case\"break\":case\"continue\":case\"return\":case\"throw\":if(iscase)break;default:state.funct[\"(verb)\"]=null}return inblock=b,!ordinary||!state.option.noempty||a&&0!==a.length||warning(\"W035\",state.tokens.prev),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&\"boolean\"!=typeof membersOnly[m]&&warning(\"W036\",state.tokens.curr,m),\"number\"==typeof member[m]?member[m]+=1:member[m]=1}function comprehensiveArrayExpression(){var res={};res.exps=!0,state.funct[\"(comparray)\"].stack();var reversed=!1;return\"for\"!==state.tokens.next.value&&(reversed=!0,state.inMoz()||warning(\"W116\",state.tokens.next,\"for\",state.tokens.next.value),state.funct[\"(comparray)\"].setState(\"use\"),res.right=expression(10)),advance(\"for\"),\"each\"===state.tokens.next.value&&(advance(\"each\"),state.inMoz()||warning(\"W118\",state.tokens.curr,\"for each\")),advance(\"(\"),state.funct[\"(comparray)\"].setState(\"define\"),res.left=expression(130),_.contains([\"in\",\"of\"],state.tokens.next.value)?advance():error(\"E045\",state.tokens.curr),state.funct[\"(comparray)\"].setState(\"generate\"),expression(10),advance(\")\"),\"if\"===state.tokens.next.value&&(advance(\"if\"),advance(\"(\"),state.funct[\"(comparray)\"].setState(\"filter\"),res.filter=expression(10),advance(\")\")),reversed||(state.funct[\"(comparray)\"].setState(\"use\"),res.right=expression(10)),advance(\"]\"),state.funct[\"(comparray)\"].unstack(),res}function isMethod(){return state.funct[\"(statement)\"]&&\"class\"===state.funct[\"(statement)\"].type||state.funct[\"(context)\"]&&\"class\"===state.funct[\"(context)\"][\"(verb)\"]}function isPropertyName(token){return token.identifier||\"(string)\"===token.id||\"(number)\"===token.id}function propertyName(preserveOrToken){var id,preserve=!0;return\"object\"==typeof preserveOrToken?id=preserveOrToken:(preserve=preserveOrToken,id=optionalidentifier(!1,!0,preserve)),id?\"object\"==typeof id&&(\"(string)\"===id.id||\"(identifier)\"===id.id?id=id.value:\"(number)\"===id.id&&(id=\"\"+id.value)):\"(string)\"===state.tokens.next.id?(id=state.tokens.next.value,preserve||advance()):\"(number)\"===state.tokens.next.id&&(id=\"\"+state.tokens.next.value,preserve||advance()),\"hasOwnProperty\"===id&&warning(\"W001\"),id}function functionparams(options){function addParam(addParamArgs){state.funct[\"(scope)\"].addParam.apply(state.funct[\"(scope)\"],addParamArgs)}var next,ident,t,paramsIds=[],tokens=[],pastDefault=!1,pastRest=!1,arity=0,loneArg=options&&options.loneArg;if(loneArg&&loneArg.identifier===!0)return state.funct[\"(scope)\"].addParam(loneArg.value,loneArg),{arity:1,params:[loneArg.value]};if(next=state.tokens.next,options&&options.parsedOpening||advance(\"(\"),\")\"===state.tokens.next.id)return advance(\")\"),void 0;for(;;){arity++;var currentParams=[];if(_.contains([\"{\",\"[\"],state.tokens.next.id)){tokens=destructuringPattern();for(t in tokens)t=tokens[t],t.id&&(paramsIds.push(t.id),currentParams.push([t.id,t.token]))}else if(checkPunctuator(state.tokens.next,\"...\")&&(pastRest=!0),ident=identifier(!0))paramsIds.push(ident),currentParams.push([ident,state.tokens.curr]);else for(;!checkPunctuators(state.tokens.next,[\",\",\")\"]);)advance();if(pastDefault&&\"=\"!==state.tokens.next.id&&error(\"W138\",state.tokens.current),\"=\"===state.tokens.next.id&&(state.inES6()||warning(\"W119\",state.tokens.next,\"default parameters\",\"6\"),advance(\"=\"),pastDefault=!0,expression(10)),currentParams.forEach(addParam),\",\"!==state.tokens.next.id)return advance(\")\",next),{arity:arity,params:paramsIds};pastRest&&warning(\"W131\",state.tokens.next),comma()}}function functor(name,token,overwrites){var funct={\"(name)\":name,\"(breakage)\":0,\"(loopage)\":0,\"(tokens)\":{},\"(properties)\":{},\"(catch)\":!1,\"(global)\":!1,\"(line)\":null,\"(character)\":null,\"(metrics)\":null,\"(statement)\":null,\"(context)\":null,\"(scope)\":null,\"(comparray)\":null,\"(generator)\":null,\"(arrow)\":null,\"(params)\":null};return token&&_.extend(funct,{\"(line)\":token.line,\"(character)\":token.character,\"(metrics)\":createMetrics(token)}),_.extend(funct,overwrites),funct[\"(context)\"]&&(funct[\"(scope)\"]=funct[\"(context)\"][\"(scope)\"],funct[\"(comparray)\"]=funct[\"(context)\"][\"(comparray)\"]),funct}function isFunctor(token){return\"(scope)\"in token}function hasParsedCode(funct){return funct[\"(global)\"]&&!funct[\"(verb)\"]}function doTemplateLiteral(left){function end(){if(state.tokens.curr.template&&state.tokens.curr.tail&&state.tokens.curr.context===ctx)return!0;var complete=state.tokens.next.template&&state.tokens.next.tail&&state.tokens.next.context===ctx;return complete&&advance(),complete||state.tokens.next.isUnclosed}var ctx=this.context,noSubst=this.noSubst,depth=this.depth;if(!noSubst)for(;!end();)!state.tokens.next.template||state.tokens.next.depth>depth?expression(0):advance();return{id:\"(template)\",type:\"(template)\",tag:left}}function doFunction(options){var f,token,name,statement,classExprBinding,isGenerator,isArrow,ignoreLoopFunc,oldOption=state.option,oldIgnored=state.ignored;options&&(name=options.name,statement=options.statement,classExprBinding=options.classExprBinding,isGenerator=\"generator\"===options.type,isArrow=\"arrow\"===options.type,ignoreLoopFunc=options.ignoreLoopFunc),state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),state.funct=functor(name||state.nameStack.infer(),state.tokens.next,{\"(statement)\":statement,\"(context)\":state.funct,\"(arrow)\":isArrow,\"(generator)\":isGenerator}),f=state.funct,token=state.tokens.curr,token.funct=state.funct,functions.push(state.funct),state.funct[\"(scope)\"].stack(\"functionouter\");var internallyAccessibleName=name||classExprBinding;internallyAccessibleName&&state.funct[\"(scope)\"].block.add(internallyAccessibleName,classExprBinding?\"class\":\"function\",state.tokens.curr,!1),state.funct[\"(scope)\"].stack(\"functionparams\");var paramsInfo=functionparams(options);return paramsInfo?(state.funct[\"(params)\"]=paramsInfo.params,state.funct[\"(metrics)\"].arity=paramsInfo.arity,state.funct[\"(metrics)\"].verifyMaxParametersPerFunction()):state.funct[\"(metrics)\"].arity=0,isArrow&&(state.inES6(!0)||warning(\"W119\",state.tokens.curr,\"arrow function syntax (=>)\",\"6\"),options.loneArg||advance(\"=>\")),block(!1,!0,!0,isArrow),!state.option.noyield&&isGenerator&&\"yielded\"!==state.funct[\"(generator)\"]&&warning(\"W124\",state.tokens.curr),state.funct[\"(metrics)\"].verifyMaxStatementsPerFunction(),state.funct[\"(metrics)\"].verifyMaxComplexityPerFunction(),state.funct[\"(unusedOption)\"]=state.option.unused,state.option=oldOption,state.ignored=oldIgnored,state.funct[\"(last)\"]=state.tokens.curr.line,state.funct[\"(lastcharacter)\"]=state.tokens.curr.character,state.funct[\"(scope)\"].unstack(),state.funct[\"(scope)\"].unstack(),state.funct=state.funct[\"(context)\"],ignoreLoopFunc||state.option.loopfunc||!state.funct[\"(loopage)\"]||f[\"(isCapturing)\"]&&warning(\"W083\",token),f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,arity:0,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&warning(\"W071\",functionStartToken,this.statementCount)\n},verifyMaxParametersPerFunction:function(){_.isNumber(state.option.maxparams)&&this.arity>state.option.maxparams&&warning(\"W072\",functionStartToken,this.arity)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&warning(\"W073\",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var max=state.option.maxcomplexity,cc=this.ComplexityCount;max&&cc>max&&warning(\"W074\",functionStartToken,cc)}}}function increaseComplexityCount(){state.funct[\"(metrics)\"].ComplexityCount+=1}function checkCondAssignment(expr){var id,paren;switch(expr&&(id=expr.id,paren=expr.paren,\",\"===id&&(expr=expr.exprs[expr.exprs.length-1])&&(id=expr.id,paren=paren||expr.paren)),id){case\"=\":case\"+=\":case\"-=\":case\"*=\":case\"%=\":case\"&=\":case\"|=\":case\"^=\":case\"/=\":paren||state.option.boss||warning(\"W084\")}}function checkProperties(props){if(state.inES5())for(var name in props)props[name]&&props[name].setterToken&&!props[name].getterToken&&warning(\"W078\",props[name].setterToken)}function metaProperty(name,c){if(checkPunctuator(state.tokens.next,\".\")){var left=state.tokens.curr.id;advance(\".\");var id=identifier();return state.tokens.curr.isMetaProperty=!0,name!==id?error(\"E057\",state.tokens.prev,left,id):c(),state.tokens.curr}}function destructuringPattern(options){var isAssignment=options&&options.assignment;return state.inES6()||warning(\"W104\",state.tokens.curr,isAssignment?\"destructuring assignment\":\"destructuring binding\",\"6\"),destructuringPatternRecursive(options)}function destructuringPatternRecursive(options){var ids,identifiers=[],openingParsed=options&&options.openingParsed,isAssignment=options&&options.assignment,recursiveOptions=isAssignment?{assignment:isAssignment}:null,firstToken=openingParsed?state.tokens.curr:state.tokens.next,nextInnerDE=function(){var ident;if(checkPunctuators(state.tokens.next,[\"[\",\"{\"])){ids=destructuringPatternRecursive(recursiveOptions);for(var id in ids)id=ids[id],identifiers.push({id:id.id,token:id.token})}else if(checkPunctuator(state.tokens.next,\",\"))identifiers.push({id:null,token:state.tokens.curr});else{if(!checkPunctuator(state.tokens.next,\"(\")){var is_rest=checkPunctuator(state.tokens.next,\"...\");if(isAssignment){var identifierToken=is_rest?peek(0):state.tokens.next;identifierToken.identifier||warning(\"E030\",identifierToken,identifierToken.value);var assignTarget=expression(155);assignTarget&&(checkLeftSideAssign(assignTarget),assignTarget.identifier&&(ident=assignTarget.value))}else ident=identifier();return ident&&identifiers.push({id:ident,token:state.tokens.curr}),is_rest}advance(\"(\"),nextInnerDE(),advance(\")\")}return!1},assignmentProperty=function(){var id;checkPunctuator(state.tokens.next,\"[\")?(advance(\"[\"),expression(10),advance(\"]\"),advance(\":\"),nextInnerDE()):\"(string)\"===state.tokens.next.id||\"(number)\"===state.tokens.next.id?(advance(),advance(\":\"),nextInnerDE()):(id=identifier(),checkPunctuator(state.tokens.next,\":\")?(advance(\":\"),nextInnerDE()):id&&(isAssignment&&checkLeftSideAssign(state.tokens.curr),identifiers.push({id:id,token:state.tokens.curr})))};if(checkPunctuator(firstToken,\"[\")){openingParsed||advance(\"[\"),checkPunctuator(state.tokens.next,\"]\")&&warning(\"W137\",state.tokens.curr);for(var element_after_rest=!1;!checkPunctuator(state.tokens.next,\"]\");)nextInnerDE()&&!element_after_rest&&checkPunctuator(state.tokens.next,\",\")&&(warning(\"W130\",state.tokens.next),element_after_rest=!0),checkPunctuator(state.tokens.next,\"=\")&&(checkPunctuator(state.tokens.prev,\"...\")?advance(\"]\"):advance(\"=\"),\"undefined\"===state.tokens.next.id&&warning(\"W080\",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,\"]\")||advance(\",\");advance(\"]\")}else if(checkPunctuator(firstToken,\"{\")){for(openingParsed||advance(\"{\"),checkPunctuator(state.tokens.next,\"}\")&&warning(\"W137\",state.tokens.curr);!checkPunctuator(state.tokens.next,\"}\")&&(assignmentProperty(),checkPunctuator(state.tokens.next,\"=\")&&(advance(\"=\"),\"undefined\"===state.tokens.next.id&&warning(\"W080\",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,\"}\")||(advance(\",\"),!checkPunctuator(state.tokens.next,\"}\"))););advance(\"}\")}return identifiers}function destructuringPatternMatch(tokens,value){var first=value.first;first&&_.zip(tokens,Array.isArray(first)?first:[first]).forEach(function(val){var token=val[0],value=val[1];token&&value?token.first=value:token&&token.first&&!value&&warning(\"W080\",token.first,token.first.value)})}function blockVariableStatement(type,statement,context){var tokens,lone,value,letblock,prefix=context&&context.prefix,inexport=context&&context.inexport,isLet=\"let\"===type,isConst=\"const\"===type;for(state.inES6()||warning(\"W104\",state.tokens.curr,type,\"6\"),isLet&&\"(\"===state.tokens.next.value?(state.inMoz()||warning(\"W118\",state.tokens.next,\"let block\"),advance(\"(\"),state.funct[\"(scope)\"].stack(),letblock=!0):state.funct[\"(noblockscopedvar)\"]&&error(\"E048\",state.tokens.curr,isConst?\"Const\":\"Let\"),statement.first=[];;){var names=[];_.contains([\"{\",\"[\"],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),!prefix&&isConst&&\"=\"!==state.tokens.next.id&&warning(\"E012\",state.tokens.curr,state.tokens.curr.value);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.funct[\"(scope)\"].block.isGlobal()&&predefined[t.id]===!1&&warning(\"W079\",t.token,t.id),t.id&&!state.funct[\"(noblockscopedvar)\"]&&(state.funct[\"(scope)\"].addlabel(t.id,{type:type,token:t.token}),names.push(t.token),lone&&inexport&&state.funct[\"(scope)\"].setExported(t.token.value,t.token)));if(\"=\"===state.tokens.next.id&&(advance(\"=\"),prefix||\"undefined\"!==state.tokens.next.id||warning(\"W080\",state.tokens.prev,state.tokens.prev.value),!prefix&&\"=\"===peek(0).id&&state.tokens.next.identifier&&warning(\"W120\",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),statement.first=statement.first.concat(names),\",\"!==state.tokens.next.id)break;comma()}return letblock&&(advance(\")\"),block(!0,!0),statement.block=!0,state.funct[\"(scope)\"].unstack()),statement}function classdef(isStatement){return state.inES6()||warning(\"W104\",state.tokens.curr,\"class\",\"6\"),isStatement?(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"class\",token:state.tokens.curr})):state.tokens.next.identifier&&\"extends\"!==state.tokens.next.value?(this.name=identifier(),this.namedExpr=!0):this.name=state.nameStack.infer(),classtail(this),this}function classtail(c){var wasInClassBody=state.inClassBody;\"extends\"===state.tokens.next.value&&(advance(\"extends\"),c.heritage=expression(10)),state.inClassBody=!0,advance(\"{\"),c.body=classbody(c),advance(\"}\"),state.inClassBody=wasInClassBody}function classbody(c){for(var name,isStatic,isGenerator,getset,computed,props=Object.create(null),staticProps=Object.create(null),i=0;\"}\"!==state.tokens.next.id;++i)if(name=state.tokens.next,isStatic=!1,isGenerator=!1,getset=null,\";\"!==name.id){if(\"*\"===name.id&&(isGenerator=!0,advance(\"*\"),name=state.tokens.next),\"[\"===name.id)name=computedPropertyName(),computed=!0;else{if(!isPropertyName(name)){warning(\"W052\",state.tokens.next,state.tokens.next.value||state.tokens.next.type),advance();continue}advance(),computed=!1,name.identifier&&\"static\"===name.value&&(checkPunctuator(state.tokens.next,\"*\")&&(isGenerator=!0,advance(\"*\")),(isPropertyName(state.tokens.next)||\"[\"===state.tokens.next.id)&&(computed=\"[\"===state.tokens.next.id,isStatic=!0,name=state.tokens.next,\"[\"===state.tokens.next.id?name=computedPropertyName():advance())),!name.identifier||\"get\"!==name.value&&\"set\"!==name.value||(isPropertyName(state.tokens.next)||\"[\"===state.tokens.next.id)&&(computed=\"[\"===state.tokens.next.id,getset=name,name=state.tokens.next,\"[\"===state.tokens.next.id?name=computedPropertyName():advance())}if(!checkPunctuator(state.tokens.next,\"(\")){for(error(\"E054\",state.tokens.next,state.tokens.next.value);\"}\"!==state.tokens.next.id&&!checkPunctuator(state.tokens.next,\"(\");)advance();\"(\"!==state.tokens.next.value&&doFunction({statement:c})}if(computed||(getset?saveAccessor(getset.value,isStatic?staticProps:props,name.value,name,!0,isStatic):(\"constructor\"===name.value?state.nameStack.set(c):state.nameStack.set(name),saveProperty(isStatic?staticProps:props,name.value,name,!0,isStatic))),getset&&\"constructor\"===name.value){var propDesc=\"get\"===getset.value?\"class getter method\":\"class setter method\";error(\"E049\",name,propDesc,\"constructor\")}else\"prototype\"===name.value&&error(\"E049\",name,\"class method\",\"prototype\");propertyName(name),doFunction({statement:c,type:isGenerator?\"generator\":null,classExprBinding:c.namedExpr?c.name:null})}else warning(\"W032\"),advance(\";\");checkProperties(props)}function saveProperty(props,name,tkn,isClass,isStatic){var msg=[\"key\",\"class method\",\"static class method\"];msg=msg[(isClass||!1)+(isStatic||!1)],tkn.identifier&&(name=tkn.value),props[name]&&\"__proto__\"!==name?warning(\"W075\",state.tokens.next,msg,name):props[name]=Object.create(null),props[name].basic=!0,props[name].basictkn=tkn}function saveAccessor(accessorType,props,name,tkn,isClass,isStatic){var flagName=\"get\"===accessorType?\"getterToken\":\"setterToken\",msg=\"\";isClass?(isStatic&&(msg+=\"static \"),msg+=accessorType+\"ter method\"):msg=\"key\",state.tokens.curr.accessorType=accessorType,state.nameStack.set(tkn),props[name]?(props[name].basic||props[name][flagName])&&\"__proto__\"!==name&&warning(\"W075\",state.tokens.next,msg,name):props[name]=Object.create(null),props[name][flagName]=tkn}function computedPropertyName(){advance(\"[\"),state.inES6()||warning(\"W119\",state.tokens.curr,\"computed property names\",\"6\");var value=expression(10);return advance(\"]\"),value}function checkPunctuators(token,values){return\"(punctuator)\"===token.type?_.contains(values,token.value):!1}function checkPunctuator(token,value){return\"(punctuator)\"===token.type&&token.value===value}function destructuringAssignOrJsonValue(){var block=lookupBlockType();block.notJson?(!state.inES6()&&block.isDestAssign&&warning(\"W104\",state.tokens.curr,\"destructuring assignment\",\"6\"),statements()):(state.option.laxbreak=!0,state.jsonMode=!0,jsonValue())}function jsonValue(){function jsonObject(){var o={},t=state.tokens.next;if(advance(\"{\"),\"}\"!==state.tokens.next.id)for(;;){if(\"(end)\"===state.tokens.next.id)error(\"E026\",state.tokens.next,t.line);else{if(\"}\"===state.tokens.next.id){warning(\"W094\",state.tokens.curr);break}\",\"===state.tokens.next.id?error(\"E028\",state.tokens.next):\"(string)\"!==state.tokens.next.id&&warning(\"W095\",state.tokens.next,state.tokens.next.value)}if(o[state.tokens.next.value]===!0?warning(\"W075\",state.tokens.next,\"key\",state.tokens.next.value):\"__proto__\"===state.tokens.next.value&&!state.option.proto||\"__iterator__\"===state.tokens.next.value&&!state.option.iterator?warning(\"W096\",state.tokens.next,state.tokens.next.value):o[state.tokens.next.value]=!0,advance(),advance(\":\"),jsonValue(),\",\"!==state.tokens.next.id)break;advance(\",\")}advance(\"}\")}function jsonArray(){var t=state.tokens.next;if(advance(\"[\"),\"]\"!==state.tokens.next.id)for(;;){if(\"(end)\"===state.tokens.next.id)error(\"E027\",state.tokens.next,t.line);else{if(\"]\"===state.tokens.next.id){warning(\"W094\",state.tokens.curr);break}\",\"===state.tokens.next.id&&error(\"E028\",state.tokens.next)}if(jsonValue(),\",\"!==state.tokens.next.id)break;advance(\",\")}advance(\"]\")}switch(state.tokens.next.id){case\"{\":jsonObject();break;case\"[\":jsonArray();break;case\"true\":case\"false\":case\"null\":case\"(number)\":case\"(string)\":advance();break;case\"-\":advance(\"-\"),advance(\"(number)\");break;default:error(\"E003\",state.tokens.next)}}var api,declared,functions,inblock,indent,lookahead,lex,member,membersOnly,predefined,stack,urls,bang={\"<\":!0,\"<=\":!0,\"==\":!0,\"===\":!0,\"!==\":!0,\"!=\":!0,\">\":!0,\">=\":!0,\"+\":!0,\"-\":!0,\"*\":!0,\"/\":!0,\"%\":!0},functionicity=[\"closure\",\"exception\",\"global\",\"label\",\"outer\",\"unused\",\"var\"],extraModules=[],emitter=new events.EventEmitter,typeofValues={};typeofValues.legacy=[\"xml\",\"unknown\"],typeofValues.es3=[\"undefined\",\"boolean\",\"number\",\"string\",\"function\",\"object\"],typeofValues.es3=typeofValues.es3.concat(typeofValues.legacy),typeofValues.es6=typeofValues.es3.concat(\"symbol\"),type(\"(number)\",function(){return this}),type(\"(string)\",function(){return this}),state.syntax[\"(identifier)\"]={type:\"(identifier)\",lbp:0,identifier:!0,nud:function(){var v=this.value;return\"=>\"===state.tokens.next.id?this:(state.funct[\"(comparray)\"].check(v)||state.funct[\"(scope)\"].block.use(v,state.tokens.curr),this)},led:function(){error(\"E033\",state.tokens.next,state.tokens.next.value)}};var baseTemplateSyntax={lbp:0,identifier:!1,template:!0};state.syntax[\"(template)\"]=_.extend({type:\"(template)\",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!1},baseTemplateSyntax),state.syntax[\"(template middle)\"]=_.extend({type:\"(template middle)\",middle:!0,noSubst:!1},baseTemplateSyntax),state.syntax[\"(template tail)\"]=_.extend({type:\"(template tail)\",tail:!0,noSubst:!1},baseTemplateSyntax),state.syntax[\"(no subst template)\"]=_.extend({type:\"(template)\",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!0,tail:!0},baseTemplateSyntax),type(\"(regexp)\",function(){return this}),delim(\"(endline)\"),delim(\"(begin)\"),delim(\"(end)\").reach=!0,delim(\"(error)\").reach=!0,delim(\"}\").reach=!0,delim(\")\"),delim(\"]\"),delim('\"').reach=!0,delim(\"'\").reach=!0,delim(\";\"),delim(\":\").reach=!0,delim(\"#\"),reserve(\"else\"),reserve(\"case\").reach=!0,reserve(\"catch\"),reserve(\"default\").reach=!0,reserve(\"finally\"),reservevar(\"arguments\",function(x){state.isStrict()&&state.funct[\"(global)\"]&&warning(\"E008\",x)}),reservevar(\"eval\"),reservevar(\"false\"),reservevar(\"Infinity\"),reservevar(\"null\"),reservevar(\"this\",function(x){state.isStrict()&&!isMethod()&&!state.option.validthis&&(state.funct[\"(statement)\"]&&state.funct[\"(name)\"].charAt(0)>\"Z\"||state.funct[\"(global)\"])&&warning(\"W040\",x)}),reservevar(\"true\"),reservevar(\"undefined\"),assignop(\"=\",\"assign\",20),assignop(\"+=\",\"assignadd\",20),assignop(\"-=\",\"assignsub\",20),assignop(\"*=\",\"assignmult\",20),assignop(\"/=\",\"assigndiv\",20).nud=function(){error(\"E014\")},assignop(\"%=\",\"assignmod\",20),bitwiseassignop(\"&=\"),bitwiseassignop(\"|=\"),bitwiseassignop(\"^=\"),bitwiseassignop(\"<<=\"),bitwiseassignop(\">>=\"),bitwiseassignop(\">>>=\"),infix(\",\",function(left,that){var expr;if(that.exprs=[left],state.option.nocomma&&warning(\"W127\"),!comma({peek:!0}))return that;for(;;){if(!(expr=expression(10)))break;if(that.exprs.push(expr),\",\"!==state.tokens.next.value||!comma())break}return that},10,!0),infix(\"?\",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(10),advance(\":\"),that[\"else\"]=expression(10),that},30);var orPrecendence=40;infix(\"||\",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(orPrecendence),that},orPrecendence),infix(\"&&\",\"and\",50),bitwise(\"|\",\"bitor\",70),bitwise(\"^\",\"bitxor\",80),bitwise(\"&\",\"bitand\",90),relation(\"==\",function(left,right){var eqnull=state.option.eqnull&&(\"null\"===(left&&left.value)||\"null\"===(right&&right.value));switch(!0){case!eqnull&&state.option.eqeqeq:this.from=this.character,warning(\"W116\",this,\"===\",\"==\");break;case isPoorRelation(left):warning(\"W041\",this,\"===\",left.value);break;case isPoorRelation(right):warning(\"W041\",this,\"===\",right.value);break;case isTypoTypeof(right,left,state):warning(\"W122\",this,right.value);break;case isTypoTypeof(left,right,state):warning(\"W122\",this,left.value)}return this}),relation(\"===\",function(left,right){return isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"!=\",function(left,right){var eqnull=state.option.eqnull&&(\"null\"===(left&&left.value)||\"null\"===(right&&right.value));return!eqnull&&state.option.eqeqeq?(this.from=this.character,warning(\"W116\",this,\"!==\",\"!=\")):isPoorRelation(left)?warning(\"W041\",this,\"!==\",left.value):isPoorRelation(right)?warning(\"W041\",this,\"!==\",right.value):isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"!==\",function(left,right){return isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"<\"),relation(\">\"),relation(\"<=\"),relation(\">=\"),bitwise(\"<<\",\"shiftleft\",120),bitwise(\">>\",\"shiftright\",120),bitwise(\">>>\",\"shiftrightunsigned\",120),infix(\"in\",\"in\",120),infix(\"instanceof\",\"instanceof\",120),infix(\"+\",function(left,that){var right;return that.left=left,that.right=right=expression(130),left&&right&&\"(string)\"===left.id&&\"(string)\"===right.id?(left.value+=right.value,left.character=right.character,!state.option.scripturl&&reg.javascriptURL.test(left.value)&&warning(\"W050\",left),left):that},130),prefix(\"+\",\"num\"),prefix(\"+++\",function(){return warning(\"W007\"),this.arity=\"unary\",this.right=expression(150),this}),infix(\"+++\",function(left){return warning(\"W007\"),this.left=left,this.right=expression(130),this},130),infix(\"-\",\"sub\",130),prefix(\"-\",\"neg\"),prefix(\"---\",function(){return warning(\"W006\"),this.arity=\"unary\",this.right=expression(150),this}),infix(\"---\",function(left){return warning(\"W006\"),this.left=left,this.right=expression(130),this},130),infix(\"*\",\"mult\",140),infix(\"/\",\"div\",140),infix(\"%\",\"mod\",140),suffix(\"++\"),prefix(\"++\",\"preinc\"),state.syntax[\"++\"].exps=!0,suffix(\"--\"),prefix(\"--\",\"predec\"),state.syntax[\"--\"].exps=!0,prefix(\"delete\",function(){var p=expression(10);return p?(\".\"!==p.id&&\"[\"!==p.id&&warning(\"W051\"),this.first=p,p.identifier&&!state.isStrict()&&(p.forgiveUndef=!0),this):this}).exps=!0,prefix(\"~\",function(){return state.option.bitwise&&warning(\"W016\",this,\"~\"),this.arity=\"unary\",this.right=expression(150),this}),prefix(\"...\",function(){return state.inES6(!0)||warning(\"W119\",this,\"spread/rest operator\",\"6\"),state.tokens.next.identifier||\"(string)\"===state.tokens.next.type||checkPunctuators(state.tokens.next,[\"[\",\"(\"])||error(\"E030\",state.tokens.next,state.tokens.next.value),expression(150),this}),prefix(\"!\",function(){return this.arity=\"unary\",this.right=expression(150),this.right||quit(\"E041\",this.line||0),bang[this.right.id]===!0&&warning(\"W018\",this,\"!\"),this}),prefix(\"typeof\",function(){var p=expression(150);return this.first=this.right=p,p||quit(\"E041\",this.line||0,this.character||0),p.identifier&&(p.forgiveUndef=!0),this}),prefix(\"new\",function(){var mp=metaProperty(\"target\",function(){state.inES6(!0)||warning(\"W119\",state.tokens.prev,\"new.target\",\"6\");for(var inFunction,c=state.funct;c&&(inFunction=!c[\"(global)\"],c[\"(arrow)\"]);)c=c[\"(context)\"];inFunction||warning(\"W136\",state.tokens.prev,\"new.target\")});if(mp)return mp;var i,c=expression(155);if(c&&\"function\"!==c.id)if(c.identifier)switch(c[\"new\"]=!0,c.value){case\"Number\":case\"String\":case\"Boolean\":case\"Math\":case\"JSON\":warning(\"W053\",state.tokens.prev,c.value);break;case\"Symbol\":state.inES6()&&warning(\"W053\",state.tokens.prev,c.value);break;case\"Function\":state.option.evil||warning(\"W054\");break;case\"Date\":case\"RegExp\":case\"this\":break;default:\"function\"!==c.id&&(i=c.value.substr(0,1),state.option.newcap&&(\"A\">i||i>\"Z\")&&!state.funct[\"(scope)\"].isPredefined(c.value)&&warning(\"W055\",state.tokens.curr))}else\".\"!==c.id&&\"[\"!==c.id&&\"(\"!==c.id&&warning(\"W056\",state.tokens.curr);else state.option.supernew||warning(\"W057\",this);return\"(\"===state.tokens.next.id||state.option.supernew||warning(\"W058\",state.tokens.curr,state.tokens.curr.value),this.first=this.right=c,this}),state.syntax[\"new\"].exps=!0,prefix(\"void\").exps=!0,infix(\".\",function(left,that){var m=identifier(!1,!0);return\"string\"==typeof m&&countMember(m),that.left=left,that.right=m,m&&\"hasOwnProperty\"===m&&\"=\"===state.tokens.next.value&&warning(\"W001\"),!left||\"arguments\"!==left.value||\"callee\"!==m&&\"caller\"!==m?state.option.evil||!left||\"document\"!==left.value||\"write\"!==m&&\"writeln\"!==m||warning(\"W060\",left):state.option.noarg?warning(\"W059\",left,m):state.isStrict()&&error(\"E008\"),state.option.evil||\"eval\"!==m&&\"execScript\"!==m||isGlobalEval(left,state)&&warning(\"W061\"),that},160,!0),infix(\"(\",function(left,that){state.option.immed&&left&&!left.immed&&\"function\"===left.id&&warning(\"W062\");var n=0,p=[];if(left&&\"(identifier)\"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1===\"Array Number String Boolean Date Object Error Symbol\".indexOf(left.value)&&(\"Math\"===left.value?warning(\"W063\",left):state.option.newcap&&warning(\"W064\",left)),\")\"!==state.tokens.next.id)for(;p[p.length]=expression(10),n+=1,\",\"===state.tokens.next.id;)comma();return advance(\")\"),\"object\"==typeof left&&(state.inES5()||\"parseInt\"!==left.value||1!==n||warning(\"W065\",state.tokens.curr),state.option.evil||(\"eval\"===left.value||\"Function\"===left.value||\"execScript\"===left.value?(warning(\"W061\",left),p[0]&&\"(string)\"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||\"(string)\"!==p[0].id||\"setTimeout\"!==left.value&&\"setInterval\"!==left.value?!p[0]||\"(string)\"!==p[0].id||\".\"!==left.value||\"window\"!==left.left.value||\"setTimeout\"!==left.right&&\"setInterval\"!==left.right||(warning(\"W066\",left),addInternalSrc(left,p[0].value)):(warning(\"W066\",left),addInternalSrc(left,p[0].value))),left.identifier||\".\"===left.id||\"[\"===left.id||\"=>\"===left.id||\"(\"===left.id||\"&&\"===left.id||\"||\"===left.id||\"?\"===left.id||state.inES6()&&left[\"(name)\"]||warning(\"W067\",that)),that.left=left,that},155,!0).exps=!0,prefix(\"(\",function(){var pn1,ret,triggerFnExpr,first,last,pn=state.tokens.next,i=-1,parens=1,opening=state.tokens.curr,preceeding=state.tokens.prev,isNecessary=!state.option.singleGroups;do\"(\"===pn.value?parens+=1:\")\"===pn.value&&(parens-=1),i+=1,pn1=pn,pn=peek(i);while((0!==parens||\")\"!==pn1.value)&&\";\"!==pn.value&&\"(end)\"!==pn.type);if(\"function\"===state.tokens.next.id&&(triggerFnExpr=state.tokens.next.immed=!0),\"=>\"===pn.value)return doFunction({type:\"arrow\",parsedOpening:!0});var exprs=[];if(\")\"!==state.tokens.next.id)for(;exprs.push(expression(10)),\",\"===state.tokens.next.id;)state.option.nocomma&&warning(\"W127\"),comma();return advance(\")\",this),state.option.immed&&exprs[0]&&\"function\"===exprs[0].id&&\"(\"!==state.tokens.next.id&&\".\"!==state.tokens.next.id&&\"[\"!==state.tokens.next.id&&warning(\"W068\",this),exprs.length?(exprs.length>1?(ret=Object.create(state.syntax[\",\"]),ret.exprs=exprs,first=exprs[0],last=exprs[exprs.length-1],isNecessary||(isNecessary=preceeding.assign||preceeding.delim)):(ret=first=last=exprs[0],isNecessary||(isNecessary=opening.beginsStmt&&(\"{\"===ret.id||triggerFnExpr||isFunctor(ret))||triggerFnExpr&&(!isEndOfExpr()||\"}\"!==state.tokens.prev.id)||isFunctor(ret)&&!isEndOfExpr()||\"{\"===ret.id&&\"=>\"===preceeding.id||\"(number)\"===ret.type&&checkPunctuator(pn,\".\")&&/^\\d+$/.test(ret.value))),ret&&(!isNecessary&&(first.left||first.right||ret.exprs)&&(isNecessary=!isBeginOfExpr(preceeding)&&first.lbp<=preceeding.lbp||!isEndOfExpr()&&last.lbp<state.tokens.next.lbp),isNecessary||warning(\"W126\",opening),ret.paren=!0),ret):void 0}),application(\"=>\"),infix(\"[\",function(left,that){var s,e=expression(10);return e&&\"(string)\"===e.type&&(state.option.evil||\"eval\"!==e.value&&\"execScript\"!==e.value||isGlobalEval(left,state)&&warning(\"W061\"),countMember(e.value),!state.option.sub&&reg.identifier.test(e.value)&&(s=state.syntax[e.value],s&&isReserved(s)||warning(\"W069\",state.tokens.prev,e.value))),advance(\"]\",that),e&&\"hasOwnProperty\"===e.value&&\"=\"===state.tokens.next.value&&warning(\"W001\"),that.left=left,that.right=e,that},160,!0),prefix(\"[\",function(){var blocktype=lookupBlockType();if(blocktype.isCompArray)return state.option.esnext||state.inMoz()||warning(\"W118\",state.tokens.curr,\"array comprehension\"),comprehensiveArrayExpression();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;var b=state.tokens.curr.line!==startLine(state.tokens.next);for(this.first=[],b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));\"(end)\"!==state.tokens.next.id;){for(;\",\"===state.tokens.next.id;){if(!state.option.elision){if(state.inES5()){warning(\"W128\");do advance(\",\");while(\",\"===state.tokens.next.id);continue}warning(\"W070\")}advance(\",\")}if(\"]\"===state.tokens.next.id)break;if(this.first.push(expression(10)),\",\"!==state.tokens.next.id)break;if(comma({allowTrailing:!0}),\"]\"===state.tokens.next.id&&!state.inES5()){warning(\"W070\",state.tokens.curr);break}}return b&&(indent-=state.option.indent),advance(\"]\",this),this}),function(x){x.nud=function(){var b,f,i,p,t,nextVal,isGeneratorMethod=!1,props=Object.create(null);b=state.tokens.curr.line!==startLine(state.tokens.next),b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));var blocktype=lookupBlockType();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;for(;\"}\"!==state.tokens.next.id;){if(nextVal=state.tokens.next.value,!state.tokens.next.identifier||\",\"!==peekIgnoreEOL().id&&\"}\"!==peekIgnoreEOL().id)if(\":\"===peek().id||\"get\"!==nextVal&&\"set\"!==nextVal){if(\"*\"===state.tokens.next.value&&\"(punctuator)\"===state.tokens.next.type?(state.inES6()||warning(\"W104\",state.tokens.next,\"generator functions\",\"6\"),advance(\"*\"),isGeneratorMethod=!0):isGeneratorMethod=!1,\"[\"===state.tokens.next.id)i=computedPropertyName(),state.nameStack.set(i);else if(state.nameStack.set(state.tokens.next),i=propertyName(),saveProperty(props,i,state.tokens.next),\"string\"!=typeof i)break;\"(\"===state.tokens.next.value?(state.inES6()||warning(\"W104\",state.tokens.curr,\"concise methods\",\"6\"),doFunction({type:isGeneratorMethod?\"generator\":null})):(advance(\":\"),expression(10))}else advance(nextVal),state.inES5()||error(\"E034\"),i=propertyName(),i||state.inES6()||error(\"E035\"),i&&saveAccessor(nextVal,props,i,state.tokens.curr),t=state.tokens.next,f=doFunction(),p=f[\"(params)\"],\"get\"===nextVal&&i&&p?warning(\"W076\",t,p[0],i):\"set\"!==nextVal||!i||p&&1===p.length||warning(\"W077\",t,i);else state.inES6()||warning(\"W104\",state.tokens.next,\"object short notation\",\"6\"),i=propertyName(!0),saveProperty(props,i,state.tokens.next),expression(10);if(countMember(i),\",\"!==state.tokens.next.id)break;comma({allowTrailing:!0,property:!0}),\",\"===state.tokens.next.id?warning(\"W070\",state.tokens.curr):\"}\"!==state.tokens.next.id||state.inES5()||warning(\"W070\",state.tokens.curr)}return b&&(indent-=state.option.indent),advance(\"}\",this),checkProperties(props),this},x.fud=function(){error(\"E036\",state.tokens.curr)}}(delim(\"{\"));var conststatement=stmt(\"const\",function(context){return blockVariableStatement(\"const\",this,context)});conststatement.exps=!0;var letstatement=stmt(\"let\",function(context){return blockVariableStatement(\"let\",this,context)});letstatement.exps=!0;var varstatement=stmt(\"var\",function(context){var tokens,lone,value,prefix=context&&context.prefix,inexport=context&&context.inexport,implied=context&&context.implied,report=!(context&&context.ignore);for(this.first=[];;){var names=[];_.contains([\"{\",\"[\"],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),prefix&&implied||!report||!state.option.varstmt||warning(\"W132\",this),this.first=this.first.concat(names);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],!implied&&state.funct[\"(global)\"]&&(predefined[t.id]===!1?warning(\"W079\",t.token,t.id):state.option.futurehostile===!1&&(!state.inES5()&&vars.ecmaIdentifiers[5][t.id]===!1||!state.inES6()&&vars.ecmaIdentifiers[6][t.id]===!1)&&warning(\"W129\",t.token,t.id)),t.id&&(\"for\"===implied?(state.funct[\"(scope)\"].has(t.id)||report&&warning(\"W088\",t.token,t.id),state.funct[\"(scope)\"].block.use(t.id,t.token)):(state.funct[\"(scope)\"].addlabel(t.id,{type:\"var\",token:t.token}),lone&&inexport&&state.funct[\"(scope)\"].setExported(t.id,t.token)),names.push(t.token)));if(\"=\"===state.tokens.next.id&&(state.nameStack.set(state.tokens.curr),advance(\"=\"),prefix||!report||state.funct[\"(loopage)\"]||\"undefined\"!==state.tokens.next.id||warning(\"W080\",state.tokens.prev,state.tokens.prev.value),\"=\"===peek(0).id&&state.tokens.next.identifier&&(!prefix&&report&&!state.funct[\"(params)\"]||-1===state.funct[\"(params)\"].indexOf(state.tokens.next.value))&&warning(\"W120\",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),\",\"!==state.tokens.next.id)break;comma()}return this});varstatement.exps=!0,blockstmt(\"class\",function(){return classdef.call(this,!0)}),blockstmt(\"function\",function(context){var inexport=context&&context.inexport,generator=!1;\"*\"===state.tokens.next.value&&(advance(\"*\"),state.inES6({strict:!0})?generator=!0:warning(\"W119\",state.tokens.curr,\"function*\",\"6\")),inblock&&warning(\"W082\",state.tokens.curr);var i=optionalidentifier();return state.funct[\"(scope)\"].addlabel(i,{type:\"function\",token:state.tokens.curr}),void 0===i?warning(\"W025\"):inexport&&state.funct[\"(scope)\"].setExported(i,state.tokens.prev),doFunction({name:i,statement:this,type:generator?\"generator\":null,ignoreLoopFunc:inblock}),\"(\"===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&error(\"E039\"),this}),prefix(\"function\",function(){var generator=!1;\"*\"===state.tokens.next.value&&(state.inES6()||warning(\"W119\",state.tokens.curr,\"function*\",\"6\"),advance(\"*\"),generator=!0);var i=optionalidentifier();return doFunction({name:i,type:generator?\"generator\":null}),this}),blockstmt(\"if\",function(){var t=state.tokens.next;increaseComplexityCount(),state.condition=!0,advance(\"(\");var expr=expression(0);checkCondAssignment(expr);var forinifcheck=null;state.option.forin&&state.forinifcheckneeded&&(state.forinifcheckneeded=!1,forinifcheck=state.forinifchecks[state.forinifchecks.length-1],forinifcheck.type=\"(punctuator)\"===expr.type&&\"!\"===expr.value?\"(negative)\":\"(positive)\"),advance(\")\",t),state.condition=!1;var s=block(!0,!0);return forinifcheck&&\"(negative)\"===forinifcheck.type&&s&&s[0]&&\"(identifier)\"===s[0].type&&\"continue\"===s[0].value&&(forinifcheck.type=\"(negative-with-continue)\"),\"else\"===state.tokens.next.id&&(advance(\"else\"),\"if\"===state.tokens.next.id||\"switch\"===state.tokens.next.id?statement():block(!0,!0)),this}),blockstmt(\"try\",function(){function doCatch(){if(advance(\"catch\"),advance(\"(\"),state.funct[\"(scope)\"].stack(\"catchparams\"),checkPunctuators(state.tokens.next,[\"[\",\"{\"])){var tokens=destructuringPattern();_.each(tokens,function(token){token.id&&state.funct[\"(scope)\"].addParam(token.id,token,\"exception\")})}else\"(identifier)\"!==state.tokens.next.type?warning(\"E030\",state.tokens.next,state.tokens.next.value):state.funct[\"(scope)\"].addParam(identifier(),state.tokens.curr,\"exception\");\"if\"===state.tokens.next.value&&(state.inMoz()||warning(\"W118\",state.tokens.curr,\"catch filter\"),advance(\"if\"),expression(0)),advance(\")\"),block(!1),state.funct[\"(scope)\"].unstack()}var b;for(block(!0);\"catch\"===state.tokens.next.id;)increaseComplexityCount(),b&&!state.inMoz()&&warning(\"W118\",state.tokens.next,\"multiple catch blocks\"),doCatch(),b=!0;return\"finally\"===state.tokens.next.id?(advance(\"finally\"),block(!0),void 0):(b||error(\"E021\",state.tokens.next,\"catch\",state.tokens.next.value),this)}),blockstmt(\"while\",function(){var t=state.tokens.next;return state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,increaseComplexityCount(),advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),block(!0,!0),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1,this}).labelled=!0,blockstmt(\"with\",function(){var t=state.tokens.next;return state.isStrict()?error(\"E010\",state.tokens.curr):state.option.withstmt||warning(\"W085\",state.tokens.curr),advance(\"(\"),expression(0),advance(\")\",t),block(!0,!0),this}),blockstmt(\"switch\",function(){var t=state.tokens.next,g=!1,noindent=!1;\nfor(state.funct[\"(breakage)\"]+=1,advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),t=state.tokens.next,advance(\"{\"),state.tokens.next.from===indent&&(noindent=!0),noindent||(indent+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case\"case\":switch(state.funct[\"(verb)\"]){case\"yield\":case\"break\":case\"case\":case\"continue\":case\"return\":case\"switch\":case\"throw\":break;default:state.tokens.curr.caseFallsThrough||warning(\"W086\",state.tokens.curr,\"case\")}advance(\"case\"),this.cases.push(expression(0)),increaseComplexityCount(),g=!0,advance(\":\"),state.funct[\"(verb)\"]=\"case\";break;case\"default\":switch(state.funct[\"(verb)\"]){case\"yield\":case\"break\":case\"continue\":case\"return\":case\"throw\":break;default:this.cases.length&&(state.tokens.curr.caseFallsThrough||warning(\"W086\",state.tokens.curr,\"default\"))}advance(\"default\"),g=!0,advance(\":\");break;case\"}\":return noindent||(indent-=state.option.indent),advance(\"}\",t),state.funct[\"(breakage)\"]-=1,state.funct[\"(verb)\"]=void 0,void 0;case\"(end)\":return error(\"E023\",state.tokens.next,\"}\"),void 0;default:if(indent+=state.option.indent,g)switch(state.tokens.curr.id){case\",\":return error(\"E040\"),void 0;case\":\":g=!1,statements();break;default:return error(\"E025\",state.tokens.curr),void 0}else{if(\":\"!==state.tokens.curr.id)return error(\"E021\",state.tokens.next,\"case\",state.tokens.next.value),void 0;advance(\":\"),error(\"E024\",state.tokens.curr,\":\"),statements()}indent-=state.option.indent}return this}).labelled=!0,stmt(\"debugger\",function(){return state.option.debug||warning(\"W087\",this),this}).exps=!0,function(){var x=stmt(\"do\",function(){state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,increaseComplexityCount(),this.first=block(!0,!0),advance(\"while\");var t=state.tokens.next;return advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt(\"for\",function(){var s,t=state.tokens.next,letscope=!1,foreachtok=null;\"each\"===t.value&&(foreachtok=t,advance(\"each\"),state.inMoz()||warning(\"W118\",state.tokens.curr,\"for each\")),increaseComplexityCount(),advance(\"(\");var nextop,comma,initializer,i=0,inof=[\"in\",\"of\"],level=0;checkPunctuators(state.tokens.next,[\"{\",\"[\"])&&++level;do{if(nextop=peek(i),++i,checkPunctuators(nextop,[\"{\",\"[\"])?++level:checkPunctuators(nextop,[\"}\",\"]\"])&&--level,0>level)break;0===level&&(!comma&&checkPunctuator(nextop,\",\")?comma=nextop:!initializer&&checkPunctuator(nextop,\"=\")&&(initializer=nextop))}while(level>0||!_.contains(inof,nextop.value)&&\";\"!==nextop.value&&\"(end)\"!==nextop.type);if(_.contains(inof,nextop.value)){state.inES6()||\"of\"!==nextop.value||warning(\"W104\",nextop,\"for of\",\"6\");var ok=!(initializer||comma);if(initializer&&error(\"W133\",comma,nextop.value,\"initializer is forbidden\"),comma&&error(\"W133\",comma,nextop.value,\"more than one ForBinding\"),\"var\"===state.tokens.next.id?(advance(\"var\"),state.tokens.curr.fud({prefix:!0})):\"let\"===state.tokens.next.id||\"const\"===state.tokens.next.id?(advance(state.tokens.next.id),letscope=!0,state.funct[\"(scope)\"].stack(),state.tokens.curr.fud({prefix:!0})):Object.create(varstatement).fud({prefix:!0,implied:\"for\",ignore:!ok}),advance(nextop.value),expression(20),advance(\")\",t),\"in\"===nextop.value&&state.option.forin&&(state.forinifcheckneeded=!0,void 0===state.forinifchecks&&(state.forinifchecks=[]),state.forinifchecks.push({type:\"(none)\"})),state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,s=block(!0,!0),\"in\"===nextop.value&&state.option.forin){if(state.forinifchecks&&state.forinifchecks.length>0){var check=state.forinifchecks.pop();(s&&s.length>0&&(\"object\"!=typeof s[0]||\"if\"!==s[0].value)||\"(positive)\"===check.type&&s.length>1||\"(negative)\"===check.type)&&warning(\"W089\",this)}state.forinifcheckneeded=!1}state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1}else{if(foreachtok&&error(\"E045\",foreachtok),\";\"!==state.tokens.next.id)if(\"var\"===state.tokens.next.id)advance(\"var\"),state.tokens.curr.fud();else if(\"let\"===state.tokens.next.id)advance(\"let\"),letscope=!0,state.funct[\"(scope)\"].stack(),state.tokens.curr.fud();else for(;expression(0,\"for\"),\",\"===state.tokens.next.id;)comma();if(nolinebreak(state.tokens.curr),advance(\";\"),state.funct[\"(loopage)\"]+=1,\";\"!==state.tokens.next.id&&checkCondAssignment(expression(0)),nolinebreak(state.tokens.curr),advance(\";\"),\";\"===state.tokens.next.id&&error(\"E021\",state.tokens.next,\")\",\";\"),\")\"!==state.tokens.next.id)for(;expression(0,\"for\"),\",\"===state.tokens.next.id;)comma();advance(\")\",t),state.funct[\"(breakage)\"]+=1,block(!0,!0),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1}return letscope&&state.funct[\"(scope)\"].unstack(),this}).labelled=!0,stmt(\"break\",function(){var v=state.tokens.next.value;return state.option.asi||nolinebreak(this),\";\"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line!==startLine(state.tokens.next)?0===state.funct[\"(breakage)\"]&&warning(\"W052\",state.tokens.next,this.value):(state.funct[\"(scope)\"].funct.hasBreakLabel(v)||warning(\"W090\",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt(\"continue\",function(){var v=state.tokens.next.value;return 0===state.funct[\"(breakage)\"]&&warning(\"W052\",state.tokens.next,this.value),state.funct[\"(loopage)\"]||warning(\"W052\",state.tokens.next,this.value),state.option.asi||nolinebreak(this),\";\"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===startLine(state.tokens.next)&&(state.funct[\"(scope)\"].funct.hasBreakLabel(v)||warning(\"W090\",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt(\"return\",function(){return this.line===startLine(state.tokens.next)?\";\"===state.tokens.next.id||state.tokens.next.reach||(this.first=expression(0),!this.first||\"(punctuator)\"!==this.first.type||\"=\"!==this.first.value||this.first.paren||state.option.boss||warningAt(\"W093\",this.first.line,this.first.character)):\"(punctuator)\"===state.tokens.next.type&&[\"[\",\"{\",\"+\",\"-\"].indexOf(state.tokens.next.value)>-1&&nolinebreak(this),reachable(this),this}).exps=!0,function(x){x.exps=!0,x.lbp=25}(prefix(\"yield\",function(){var prev=state.tokens.prev;state.inES6(!0)&&!state.funct[\"(generator)\"]?\"(catch)\"===state.funct[\"(name)\"]&&state.funct[\"(context)\"][\"(generator)\"]||error(\"E046\",state.tokens.curr,\"yield\"):state.inES6()||warning(\"W104\",state.tokens.curr,\"yield\",\"6\"),state.funct[\"(generator)\"]=\"yielded\";var delegatingYield=!1;return\"*\"===state.tokens.next.value&&(delegatingYield=!0,advance(\"*\")),this.line!==startLine(state.tokens.next)&&state.inMoz()?state.option.asi||nolinebreak(this):((delegatingYield||\";\"!==state.tokens.next.id&&!state.option.asi&&!state.tokens.next.reach&&state.tokens.next.nud)&&(nobreaknonadjacent(state.tokens.curr,state.tokens.next),this.first=expression(10),\"(punctuator)\"!==this.first.type||\"=\"!==this.first.value||this.first.paren||state.option.boss||warningAt(\"W093\",this.first.line,this.first.character)),state.inMoz()&&\")\"!==state.tokens.next.id&&(prev.lbp>30||!prev.assign&&!isEndOfExpr()||\"yield\"===prev.id)&&error(\"E050\",this)),this})),stmt(\"throw\",function(){return nolinebreak(this),this.first=expression(20),reachable(this),this}).exps=!0,stmt(\"import\",function(){if(state.inES6()||warning(\"W119\",state.tokens.curr,\"import\",\"6\"),\"(string)\"===state.tokens.next.type)return advance(\"(string)\"),this;if(state.tokens.next.identifier){if(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"const\",token:state.tokens.curr}),\",\"!==state.tokens.next.value)return advance(\"from\"),advance(\"(string)\"),this;advance(\",\")}if(\"*\"===state.tokens.next.id)advance(\"*\"),advance(\"as\"),state.tokens.next.identifier&&(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"const\",token:state.tokens.curr}));else for(advance(\"{\");;){if(\"}\"===state.tokens.next.value){advance(\"}\");break}var importName;if(\"default\"===state.tokens.next.type?(importName=\"default\",advance(\"default\")):importName=identifier(),\"as\"===state.tokens.next.value&&(advance(\"as\"),importName=identifier()),state.funct[\"(scope)\"].addlabel(importName,{type:\"const\",token:state.tokens.curr}),\",\"!==state.tokens.next.value){if(\"}\"===state.tokens.next.value){advance(\"}\");break}error(\"E024\",state.tokens.next,state.tokens.next.value);break}advance(\",\")}return advance(\"from\"),advance(\"(string)\"),this}).exps=!0,stmt(\"export\",function(){var token,identifier,ok=!0;if(state.inES6()||(warning(\"W119\",state.tokens.curr,\"export\",\"6\"),ok=!1),state.funct[\"(scope)\"].block.isGlobal()||(error(\"E053\",state.tokens.curr),ok=!1),\"*\"===state.tokens.next.value)return advance(\"*\"),advance(\"from\"),advance(\"(string)\"),this;if(\"default\"===state.tokens.next.type){state.nameStack.set(state.tokens.next),advance(\"default\");var exportType=state.tokens.next.id;return(\"function\"===exportType||\"class\"===exportType)&&(this.block=!0),token=peek(),expression(10),identifier=token.value,this.block&&(state.funct[\"(scope)\"].addlabel(identifier,{type:exportType,token:token}),state.funct[\"(scope)\"].setExported(identifier,token)),this}if(\"{\"===state.tokens.next.value){advance(\"{\");for(var exportedTokens=[];;){if(state.tokens.next.identifier||error(\"E030\",state.tokens.next,state.tokens.next.value),advance(),exportedTokens.push(state.tokens.curr),\"as\"===state.tokens.next.value&&(advance(\"as\"),state.tokens.next.identifier||error(\"E030\",state.tokens.next,state.tokens.next.value),advance()),\",\"!==state.tokens.next.value){if(\"}\"===state.tokens.next.value){advance(\"}\");break}error(\"E024\",state.tokens.next,state.tokens.next.value);break}advance(\",\")}return\"from\"===state.tokens.next.value?(advance(\"from\"),advance(\"(string)\")):ok&&exportedTokens.forEach(function(token){state.funct[\"(scope)\"].setExported(token.value,token)}),this}if(\"var\"===state.tokens.next.id)advance(\"var\"),state.tokens.curr.fud({inexport:!0});else if(\"let\"===state.tokens.next.id)advance(\"let\"),state.tokens.curr.fud({inexport:!0});else if(\"const\"===state.tokens.next.id)advance(\"const\"),state.tokens.curr.fud({inexport:!0});else if(\"function\"===state.tokens.next.id)this.block=!0,advance(\"function\"),state.syntax[\"function\"].fud({inexport:!0});else if(\"class\"===state.tokens.next.id){this.block=!0,advance(\"class\");var classNameToken=state.tokens.next;state.syntax[\"class\"].fud(),state.funct[\"(scope)\"].setExported(classNameToken.value,classNameToken)}else error(\"E024\",state.tokens.next,state.tokens.next.value);return this}).exps=!0,FutureReservedWord(\"abstract\"),FutureReservedWord(\"boolean\"),FutureReservedWord(\"byte\"),FutureReservedWord(\"char\"),FutureReservedWord(\"class\",{es5:!0,nud:classdef}),FutureReservedWord(\"double\"),FutureReservedWord(\"enum\",{es5:!0}),FutureReservedWord(\"export\",{es5:!0}),FutureReservedWord(\"extends\",{es5:!0}),FutureReservedWord(\"final\"),FutureReservedWord(\"float\"),FutureReservedWord(\"goto\"),FutureReservedWord(\"implements\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"import\",{es5:!0}),FutureReservedWord(\"int\"),FutureReservedWord(\"interface\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"long\"),FutureReservedWord(\"native\"),FutureReservedWord(\"package\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"private\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"protected\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"public\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"short\"),FutureReservedWord(\"static\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"super\",{es5:!0}),FutureReservedWord(\"synchronized\"),FutureReservedWord(\"transient\"),FutureReservedWord(\"volatile\");var lookupBlockType=function(){var pn,pn1,prev,i=-1,bracketStack=0,ret={};checkPunctuators(state.tokens.curr,[\"[\",\"{\"])&&(bracketStack+=1);do{if(prev=-1===i?state.tokens.curr:pn,pn=-1===i?state.tokens.next:peek(i),pn1=peek(i+1),i+=1,checkPunctuators(pn,[\"[\",\"{\"])?bracketStack+=1:checkPunctuators(pn,[\"]\",\"}\"])&&(bracketStack-=1),1===bracketStack&&pn.identifier&&\"for\"===pn.value&&!checkPunctuator(prev,\".\")){ret.isCompArray=!0,ret.notJson=!0;break}if(0===bracketStack&&checkPunctuators(pn,[\"}\",\"]\"])){if(\"=\"===pn1.value){ret.isDestAssign=!0,ret.notJson=!0;break}if(\".\"===pn1.value){ret.notJson=!0;break}}checkPunctuator(pn,\";\")&&(ret.isBlock=!0,ret.notJson=!0)}while(bracketStack>0&&\"(end)\"!==pn.id);return ret},arrayComprehension=function(){function declare(v){var l=_current.variables.filter(function(elt){return elt.value===v?(elt.undef=!1,v):void 0}).length;return 0!==l}function use(v){var l=_current.variables.filter(function(elt){return elt.value!==v||elt.undef?void 0:(elt.unused===!0&&(elt.unused=!1),v)}).length;return 0===l}var _current,CompArray=function(){this.mode=\"use\",this.variables=[]},_carrays=[];return{stack:function(){_current=new CompArray,_carrays.push(_current)},unstack:function(){_current.variables.filter(function(v){v.unused&&warning(\"W098\",v.token,v.raw_text||v.value),v.undef&&state.funct[\"(scope)\"].block.use(v.value,v.token)}),_carrays.splice(-1,1),_current=_carrays[_carrays.length-1]},setState:function(s){_.contains([\"use\",\"define\",\"generate\",\"filter\"],s)&&(_current.mode=s)},check:function(v){return _current?_current&&\"use\"===_current.mode?(use(v)&&_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!0,unused:!1}),!0):_current&&\"define\"===_current.mode?(declare(v)||_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!1,unused:!0}),!0):_current&&\"generate\"===_current.mode?(state.funct[\"(scope)\"].block.use(v,state.tokens.curr),!0):_current&&\"filter\"===_current.mode?(use(v)&&state.funct[\"(scope)\"].block.use(v,state.tokens.curr),!0):!1:void 0}}},escapeRegex=function(str){return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")},itself=function(s,o,g){function each(obj,cb){obj&&(Array.isArray(obj)||\"object\"!=typeof obj||(obj=Object.keys(obj)),obj.forEach(cb))}var i,k,x,reIgnoreStr,reIgnore,optionKeys,newOptionObj={},newIgnoredObj={};o=_.clone(o),state.reset(),o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope=\"(main)\"),predefined=Object.create(null),combine(predefined,vars.ecmaIdentifiers[3]),combine(predefined,vars.reservedVars),combine(predefined,g||{}),declared=Object.create(null);var exported=Object.create(null);if(o)for(each(o.predef||null,function(item){var slice,prop;\"-\"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice,delete predefined[slice]):(prop=Object.getOwnPropertyDescriptor(o.predef,item),predefined[item]=prop?prop.value:!1)}),each(o.exported||null,function(item){exported[item]=!0}),delete o.predef,delete o.exported,optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)if(/^-W\\d{3}$/g.test(optionKeys[x]))newIgnoredObj[optionKeys[x].slice(1)]=!0;else{var optionKey=optionKeys[x];newOptionObj[optionKey]=o[optionKey],(\"esversion\"===optionKey&&5===o[optionKey]||\"es5\"===optionKey&&o[optionKey])&&warning(\"I003\"),\"newcap\"===optionKeys[x]&&o[optionKey]===!1&&(newOptionObj[\"(explicitNewcap)\"]=!0)}state.option=newOptionObj,state.ignored=newIgnoredObj,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,indent=1;var scopeManagerInst=scopeManager(state,predefined,exported,declared);if(scopeManagerInst.on(\"warning\",function(ev){warning.apply(null,[ev.code,ev.token].concat(ev.data))}),scopeManagerInst.on(\"error\",function(ev){error.apply(null,[ev.code,ev.token].concat(ev.data))}),state.funct=functor(\"(global)\",null,{\"(global)\":!0,\"(scope)\":scopeManagerInst,\"(comparray)\":arrayComprehension(),\"(metrics)\":createMetrics(state.tokens.next)}),functions=[state.funct],urls=[],stack=null,member={},membersOnly=null,inblock=!1,lookahead=[],!isString(s)&&!Array.isArray(s))return errorAt(\"E004\",0),!1;api={get isJSON(){return state.jsonMode},getOption:function(name){return state.option[name]||null},getCache:function(name){return state.cache[name]},setCache:function(name,value){state.cache[name]=value},warn:function(code,data){warningAt.apply(null,[code,data.line,data.char].concat(data.data))},on:function(names,listener){names.split(\" \").forEach(function(name){emitter.on(name,listener)}.bind(this))}},emitter.removeAllListeners(),(extraModules||[]).forEach(function(func){func(api)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax[\"(begin)\"],o&&o.ignoreDelimiters&&(Array.isArray(o.ignoreDelimiters)||(o.ignoreDelimiters=[o.ignoreDelimiters]),o.ignoreDelimiters.forEach(function(delimiterPair){delimiterPair.start&&delimiterPair.end&&(reIgnoreStr=escapeRegex(delimiterPair.start)+\"[\\\\s\\\\S]*?\"+escapeRegex(delimiterPair.end),reIgnore=RegExp(reIgnoreStr,\"ig\"),s=s.replace(reIgnore,function(match){return match.replace(/./g,\" \")}))})),lex=new Lexer(s),lex.on(\"warning\",function(ev){warningAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on(\"error\",function(ev){errorAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on(\"fatal\",function(ev){quit(\"E041\",ev.line,ev.from)}),lex.on(\"Identifier\",function(ev){emitter.emit(\"Identifier\",ev)}),lex.on(\"String\",function(ev){emitter.emit(\"String\",ev)}),lex.on(\"Number\",function(ev){emitter.emit(\"Number\",ev)}),lex.start();for(var name in o)_.has(o,name)&&checkOption(name,state.tokens.curr);assume(),combine(predefined,g||{}),comma.first=!0;try{switch(advance(),state.tokens.next.id){case\"{\":case\"[\":destructuringAssignOrJsonValue();break;default:directives(),state.directive[\"use strict\"]&&\"global\"!==state.option.strict&&warning(\"W097\",state.tokens.prev),statements()}\"(end)\"!==state.tokens.next.id&&quit(\"E041\",state.tokens.curr.line),state.funct[\"(scope)\"].unstack()}catch(err){if(!err||\"JSHintError\"!==err.name)throw err;var nt=state.tokens.next||{};JSHINT.errors.push({scope:\"(main)\",raw:err.raw,code:err.code,reason:err.message,line:err.line||nt.line,character:err.character||nt.from},null)}if(\"(main)\"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.addModule=function(func){extraModules.push(func)},itself.addModule(style.register),itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:state.option};itself.errors.length&&(data.errors=itself.errors),state.jsonMode&&(data.json=!0);var impliedGlobals=state.funct[\"(scope)\"].getImpliedGlobals();for(impliedGlobals.length>0&&(data.implieds=impliedGlobals),urls.length>0&&(data.urls=urls),globals=state.funct[\"(scope)\"].getUsedOrDefinedGlobals(),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f[\"(name)\"],fu.param=f[\"(params)\"],fu.line=f[\"(line)\"],fu.character=f[\"(character)\"],fu.last=f[\"(last)\"],fu.lastcharacter=f[\"(lastcharacter)\"],fu.metrics={complexity:f[\"(metrics)\"].ComplexityCount,parameters:f[\"(metrics)\"].arity,statements:f[\"(metrics)\"].statementCount},data.functions.push(fu)}var unuseds=state.funct[\"(scope)\"].getUnuseds();unuseds.length>0&&(data.unused=unuseds);for(n in member)if(\"number\"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();\"object\"==typeof exports&&exports&&(exports.JSHINT=JSHINT)},{\"../lodash\":\"/node_modules/jshint/lodash.js\",\"./lex.js\":\"/node_modules/jshint/src/lex.js\",\"./messages.js\":\"/node_modules/jshint/src/messages.js\",\"./options.js\":\"/node_modules/jshint/src/options.js\",\"./reg.js\":\"/node_modules/jshint/src/reg.js\",\"./scope-manager.js\":\"/node_modules/jshint/src/scope-manager.js\",\"./state.js\":\"/node_modules/jshint/src/state.js\",\"./style.js\":\"/node_modules/jshint/src/style.js\",\"./vars.js\":\"/node_modules/jshint/src/vars.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/lex.js\":[function(_dereq_,module,exports){\"use strict\";function asyncTrigger(){var _checks=[];return{push:function(fn){_checks.push(fn)},check:function(){for(var check=0;_checks.length>check;++check)_checks[check]();_checks.splice(0,_checks.length)}}}function Lexer(source){var lines=source;\"string\"==typeof lines&&(lines=lines.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\").split(\"\\n\")),lines[0]&&\"#!\"===lines[0].substr(0,2)&&(-1!==lines[0].indexOf(\"node\")&&(state.option.node=!0),lines[0]=\"\"),this.emitter=new events.EventEmitter,this.source=source,this.setLines(lines),this.prereg=!0,this.line=0,this.char=1,this.from=1,this.input=\"\",this.inComment=!1,this.context=[],this.templateStarts=[];for(var i=0;state.option.indent>i;i+=1)state.tab+=\" \";this.ignoreLinterErrors=!1}var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),reg=_dereq_(\"./reg.js\"),state=_dereq_(\"./state.js\").state,unicodeData=_dereq_(\"../data/ascii-identifier-data.js\"),asciiIdentifierStartTable=unicodeData.asciiIdentifierStartTable,asciiIdentifierPartTable=unicodeData.asciiIdentifierPartTable,Token={Identifier:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,Comment:5,Keyword:6,NullLiteral:7,BooleanLiteral:8,RegExp:9,TemplateHead:10,TemplateMiddle:11,TemplateTail:12,NoSubstTemplate:13},Context={Block:1,Template:2};Lexer.prototype={_lines:[],inContext:function(ctxType){return this.context.length>0&&this.context[this.context.length-1].type===ctxType},pushContext:function(ctxType){this.context.push({type:ctxType})},popContext:function(){return this.context.pop()},isContext:function(context){return this.context.length>0&&this.context[this.context.length-1]===context},currentContext:function(){return this.context.length>0&&this.context[this.context.length-1]},getLines:function(){return this._lines=state.lines,this._lines},setLines:function(val){this._lines=val,state.lines=this._lines},peek:function(i){return this.input.charAt(i||0)},skip:function(i){i=i||1,this.char+=i,this.input=this.input.slice(i)},on:function(names,listener){names.split(\" \").forEach(function(name){this.emitter.on(name,listener)}.bind(this))},trigger:function(){this.emitter.emit.apply(this.emitter,Array.prototype.slice.call(arguments))},triggerAsync:function(type,args,checks,fn){checks.push(function(){fn()&&this.trigger(type,args)}.bind(this))},scanPunctuator:function(){var ch2,ch3,ch4,ch1=this.peek();switch(ch1){case\".\":if(/^[0-9]$/.test(this.peek(1)))return null;if(\".\"===this.peek(1)&&\".\"===this.peek(2))return{type:Token.Punctuator,value:\"...\"};case\"(\":case\")\":case\";\":case\",\":case\"[\":case\"]\":case\":\":case\"~\":case\"?\":return{type:Token.Punctuator,value:ch1};case\"{\":return this.pushContext(Context.Block),{type:Token.Punctuator,value:ch1};case\"}\":return this.inContext(Context.Block)&&this.popContext(),{type:Token.Punctuator,value:ch1};case\"#\":return{type:Token.Punctuator,value:ch1};case\"\":return null}return ch2=this.peek(1),ch3=this.peek(2),ch4=this.peek(3),\">\"===ch1&&\">\"===ch2&&\">\"===ch3&&\"=\"===ch4?{type:Token.Punctuator,value:\">>>=\"}:\"=\"===ch1&&\"=\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"===\"}:\"!\"===ch1&&\"=\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"!==\"}:\">\"===ch1&&\">\"===ch2&&\">\"===ch3?{type:Token.Punctuator,value:\">>>\"}:\"<\"===ch1&&\"<\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"<<=\"}:\">\"===ch1&&\">\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\">>=\"}:\"=\"===ch1&&\">\"===ch2?{type:Token.Punctuator,value:ch1+ch2}:ch1===ch2&&\"+-<>&|\".indexOf(ch1)>=0?{type:Token.Punctuator,value:ch1+ch2}:\"<>=!+-*%&|^\".indexOf(ch1)>=0?\"=\"===ch2?{type:Token.Punctuator,value:ch1+ch2}:{type:Token.Punctuator,value:ch1}:\"/\"===ch1?\"=\"===ch2?{type:Token.Punctuator,value:\"/=\"}:{type:Token.Punctuator,value:\"/\"}:null},scanComments:function(){function commentToken(label,body,opt){var special=[\"jshint\",\"jslint\",\"members\",\"member\",\"globals\",\"global\",\"exported\"],isSpecial=!1,value=label+body,commentType=\"plain\";return opt=opt||{},opt.isMultiline&&(value+=\"*/\"),body=body.replace(/\\n/g,\" \"),\"/*\"===label&&reg.fallsThrough.test(body)&&(isSpecial=!0,commentType=\"falls through\"),special.forEach(function(str){if(!isSpecial&&(\"//\"!==label||\"jshint\"===str)&&(\" \"===body.charAt(str.length)&&body.substr(0,str.length)===str&&(isSpecial=!0,label+=str,body=body.substr(str.length)),isSpecial||\" \"!==body.charAt(0)||\" \"!==body.charAt(str.length+1)||body.substr(1,str.length)!==str||(isSpecial=!0,label=label+\" \"+str,body=body.substr(str.length+1)),isSpecial))switch(str){case\"member\":commentType=\"members\";break;case\"global\":commentType=\"globals\";break;default:var options=body.split(\":\").map(function(v){return v.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")});if(2===options.length)switch(options[0]){case\"ignore\":switch(options[1]){case\"start\":self.ignoringLinterErrors=!0,isSpecial=!1;break;case\"end\":self.ignoringLinterErrors=!1,isSpecial=!1}}commentType=str}}),{type:Token.Comment,commentType:commentType,value:value,body:body,isSpecial:isSpecial,isMultiline:opt.isMultiline||!1,isMalformed:opt.isMalformed||!1}}var ch1=this.peek(),ch2=this.peek(1),rest=this.input.substr(2),startLine=this.line,startChar=this.char,self=this;if(\"*\"===ch1&&\"/\"===ch2)return this.trigger(\"error\",{code:\"E018\",line:startLine,character:startChar}),this.skip(2),null;if(\"/\"!==ch1||\"*\"!==ch2&&\"/\"!==ch2)return null;if(\"/\"===ch2)return this.skip(this.input.length),commentToken(\"//\",rest);var body=\"\";if(\"*\"===ch2){for(this.inComment=!0,this.skip(2);\"*\"!==this.peek()||\"/\"!==this.peek(1);)if(\"\"===this.peek()){if(body+=\"\\n\",!this.nextLine())return this.trigger(\"error\",{code:\"E017\",line:startLine,character:startChar}),this.inComment=!1,commentToken(\"/*\",body,{isMultiline:!0,isMalformed:!0})}else body+=this.peek(),this.skip();return this.skip(2),this.inComment=!1,commentToken(\"/*\",body,{isMultiline:!0})}},scanKeyword:function(){var result=/^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input),keywords=[\"if\",\"in\",\"do\",\"var\",\"for\",\"new\",\"try\",\"let\",\"this\",\"else\",\"case\",\"void\",\"with\",\"enum\",\"while\",\"break\",\"catch\",\"throw\",\"const\",\"yield\",\"class\",\"super\",\"return\",\"typeof\",\"delete\",\"switch\",\"export\",\"import\",\"default\",\"finally\",\"extends\",\"function\",\"continue\",\"debugger\",\"instanceof\"];return result&&keywords.indexOf(result[0])>=0?{type:Token.Keyword,value:result[0]}:null},scanIdentifier:function(){function isNonAsciiIdentifierStart(code){return code>256}function isNonAsciiIdentifierPart(code){return code>256}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function removeEscapeSequences(id){return id.replace(/\\\\u([0-9a-fA-F]{4})/g,function(m0,codepoint){return String.fromCharCode(parseInt(codepoint,16))})}var type,char,id=\"\",index=0,readUnicodeEscapeSequence=function(){if(index+=1,\"u\"!==this.peek(index))return null;var code,ch1=this.peek(index+1),ch2=this.peek(index+2),ch3=this.peek(index+3),ch4=this.peek(index+4);return isHexDigit(ch1)&&isHexDigit(ch2)&&isHexDigit(ch3)&&isHexDigit(ch4)?(code=parseInt(ch1+ch2+ch3+ch4,16),asciiIdentifierPartTable[code]||isNonAsciiIdentifierPart(code)?(index+=5,\"\\\\u\"+ch1+ch2+ch3+ch4):null):null}.bind(this),getIdentifierStart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierStartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierStart(code)?(index+=1,chr):null}.bind(this),getIdentifierPart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierPartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierPart(code)?(index+=1,chr):null}.bind(this);if(char=getIdentifierStart(),null===char)return null;for(id=char;char=getIdentifierPart(),null!==char;)id+=char;switch(id){case\"true\":case\"false\":type=Token.BooleanLiteral;break;case\"null\":type=Token.NullLiteral;break;default:type=Token.Identifier}return{type:type,value:removeEscapeSequences(id),text:id,tokenLength:id.length}},scanNumericLiteral:function(){function isDecimalDigit(str){return/^[0-9]$/.test(str)}function isOctalDigit(str){return/^[0-7]$/.test(str)}function isBinaryDigit(str){return/^[01]$/.test(str)}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function isIdentifierStart(ch){return\"$\"===ch||\"_\"===ch||\"\\\\\"===ch||ch>=\"a\"&&\"z\">=ch||ch>=\"A\"&&\"Z\">=ch}var bad,index=0,value=\"\",length=this.input.length,char=this.peek(index),isAllowedDigit=isDecimalDigit,base=10,isLegacy=!1;if(\".\"!==char&&!isDecimalDigit(char))return null;if(\".\"!==char){for(value=this.peek(index),index+=1,char=this.peek(index),\"0\"===value&&((\"x\"===char||\"X\"===char)&&(isAllowedDigit=isHexDigit,base=16,index+=1,value+=char),(\"o\"===char||\"O\"===char)&&(isAllowedDigit=isOctalDigit,base=8,state.inES6(!0)||this.trigger(\"warning\",{code:\"W119\",line:this.line,character:this.char,data:[\"Octal integer literal\",\"6\"]}),index+=1,value+=char),(\"b\"===char||\"B\"===char)&&(isAllowedDigit=isBinaryDigit,base=2,state.inES6(!0)||this.trigger(\"warning\",{code:\"W119\",line:this.line,character:this.char,data:[\"Binary integer literal\",\"6\"]}),index+=1,value+=char),isOctalDigit(char)&&(isAllowedDigit=isOctalDigit,base=8,isLegacy=!0,bad=!1,index+=1,value+=char),!isOctalDigit(char)&&isDecimalDigit(char)&&(index+=1,value+=char));length>index;){if(char=this.peek(index),isLegacy&&isDecimalDigit(char))bad=!0;else if(!isAllowedDigit(char))break;value+=char,index+=1}if(isAllowedDigit!==isDecimalDigit)return!isLegacy&&2>=value.length?{type:Token.NumericLiteral,value:value,isMalformed:!0}:length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isLegacy:isLegacy,isMalformed:!1}}if(\".\"===char)for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1;if(\"e\"===char||\"E\"===char){if(value+=char,index+=1,char=this.peek(index),(\"+\"===char||\"-\"===char)&&(value+=this.peek(index),index+=1),char=this.peek(index),!isDecimalDigit(char))return null;for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isMalformed:!isFinite(value)}},scanEscapeSequence:function(checks){var allowNewLine=!1,jump=1;this.skip();var char=this.peek();switch(char){case\"'\":this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\'\"]},checks,function(){return state.jsonMode});break;case\"b\":char=\"\\\\b\";break;case\"f\":char=\"\\\\f\";break;case\"n\":char=\"\\\\n\";break;case\"r\":char=\"\\\\r\";break;case\"t\":char=\"\\\\t\";break;case\"0\":char=\"\\\\0\";var n=parseInt(this.peek(1),10);this.triggerAsync(\"warning\",{code:\"W115\",line:this.line,character:this.char},checks,function(){return n>=0&&7>=n&&state.isStrict()});break;case\"u\":var hexCode=this.input.substr(1,4),code=parseInt(hexCode,16);isNaN(code)&&this.trigger(\"warning\",{code:\"W052\",line:this.line,character:this.char,data:[\"u\"+hexCode]}),char=String.fromCharCode(code),jump=5;break;case\"v\":this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\v\"]},checks,function(){return state.jsonMode}),char=\"\u000b\";break;case\"x\":var x=parseInt(this.input.substr(1,2),16);this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\x-\"]},checks,function(){return state.jsonMode}),char=String.fromCharCode(x),jump=3;break;case\"\\\\\":char=\"\\\\\\\\\";break;case'\"':char='\\\\\"';break;case\"/\":break;case\"\":allowNewLine=!0,char=\"\"}return{\"char\":char,jump:jump,allowNewLine:allowNewLine}},scanTemplateLiteral:function(checks){var tokenType,ch,value=\"\",startLine=this.line,startChar=this.char,depth=this.templateStarts.length;if(!state.inES6(!0))return null;if(\"`\"===this.peek())tokenType=Token.TemplateHead,this.templateStarts.push({line:this.line,\"char\":this.char}),depth=this.templateStarts.length,this.skip(1),this.pushContext(Context.Template);else{if(!this.inContext(Context.Template)||\"}\"!==this.peek())return null;tokenType=Token.TemplateMiddle}for(;\"`\"!==this.peek();){for(;\"\"===(ch=this.peek());)if(value+=\"\\n\",!this.nextLine()){var startPos=this.templateStarts.pop();return this.trigger(\"error\",{code:\"E052\",line:startPos.line,character:startPos.char}),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,depth:depth,context:this.popContext()}}if(\"$\"===ch&&\"{\"===this.peek(1))return value+=\"${\",this.skip(2),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.currentContext()};\nif(\"\\\\\"===ch){var escape=this.scanEscapeSequence(checks);value+=escape.char,this.skip(escape.jump)}else\"`\"!==ch&&(value+=ch,this.skip(1))}return tokenType=tokenType===Token.TemplateHead?Token.NoSubstTemplate:Token.TemplateTail,this.skip(1),this.templateStarts.pop(),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.popContext()}},scanStringLiteral:function(checks){var quote=this.peek();if('\"'!==quote&&\"'\"!==quote)return null;this.triggerAsync(\"warning\",{code:\"W108\",line:this.line,character:this.char},checks,function(){return state.jsonMode&&'\"'!==quote});var value=\"\",startLine=this.line,startChar=this.char,allowNewLine=!1;for(this.skip();this.peek()!==quote;)if(\"\"===this.peek()){if(allowNewLine?(allowNewLine=!1,this.triggerAsync(\"warning\",{code:\"W043\",line:this.line,character:this.char},checks,function(){return!state.option.multistr}),this.triggerAsync(\"warning\",{code:\"W042\",line:this.line,character:this.char},checks,function(){return state.jsonMode&&state.option.multistr})):this.trigger(\"warning\",{code:\"W112\",line:this.line,character:this.char}),!this.nextLine())return this.trigger(\"error\",{code:\"E029\",line:startLine,character:startChar}),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,quote:quote}}else{allowNewLine=!1;var char=this.peek(),jump=1;if(\" \">char&&this.trigger(\"warning\",{code:\"W113\",line:this.line,character:this.char,data:[\"<non-printable>\"]}),\"\\\\\"===char){var parsed=this.scanEscapeSequence(checks);char=parsed.char,jump=parsed.jump,allowNewLine=parsed.allowNewLine}value+=char,this.skip(jump)}return this.skip(),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,quote:quote}},scanRegExp:function(){var terminated,index=0,length=this.input.length,char=this.peek(),value=char,body=\"\",flags=[],malformed=!1,isCharSet=!1,scanUnexpectedChars=function(){\" \">char&&(malformed=!0,this.trigger(\"warning\",{code:\"W048\",line:this.line,character:this.char})),\"<\"===char&&(malformed=!0,this.trigger(\"warning\",{code:\"W049\",line:this.line,character:this.char,data:[char]}))}.bind(this);if(!this.prereg||\"/\"!==char)return null;for(index+=1,terminated=!1;length>index;)if(char=this.peek(index),value+=char,body+=char,isCharSet)\"]\"===char&&(\"\\\\\"!==this.peek(index-1)||\"\\\\\"===this.peek(index-2))&&(isCharSet=!1),\"\\\\\"===char&&(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars()),index+=1;else{if(\"\\\\\"===char){if(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars(),\"/\"===char){index+=1;continue}if(\"[\"===char){index+=1;continue}}if(\"[\"!==char){if(\"/\"===char){body=body.substr(0,body.length-1),terminated=!0,index+=1;break}index+=1}else isCharSet=!0,index+=1}if(!terminated)return this.trigger(\"error\",{code:\"E015\",line:this.line,character:this.from}),void this.trigger(\"fatal\",{line:this.line,from:this.from});for(;length>index&&(char=this.peek(index),/[gim]/.test(char));)flags.push(char),value+=char,index+=1;try{RegExp(body,flags.join(\"\"))}catch(err){malformed=!0,this.trigger(\"error\",{code:\"E016\",line:this.line,character:this.char,data:[err.message]})}return{type:Token.RegExp,value:value,flags:flags,isMalformed:malformed}},scanNonBreakingSpaces:function(){return state.option.nonbsp?this.input.search(/(\\u00A0)/):-1},scanUnsafeChars:function(){return this.input.search(reg.unsafeChars)},next:function(checks){this.from=this.char;var start;if(/\\s/.test(this.peek()))for(start=this.char;/\\s/.test(this.peek());)this.from+=1,this.skip();var match=this.scanComments()||this.scanStringLiteral(checks)||this.scanTemplateLiteral(checks);return match?match:(match=this.scanRegExp()||this.scanPunctuator()||this.scanKeyword()||this.scanIdentifier()||this.scanNumericLiteral(),match?(this.skip(match.tokenLength||match.value.length),match):null)},nextLine:function(){var char;if(this.line>=this.getLines().length)return!1;this.input=this.getLines()[this.line],this.line+=1,this.char=1,this.from=1;var inputTrimmed=this.input.trim(),startsWith=function(){return _.some(arguments,function(prefix){return 0===inputTrimmed.indexOf(prefix)})},endsWith=function(){return _.some(arguments,function(suffix){return-1!==inputTrimmed.indexOf(suffix,inputTrimmed.length-suffix.length)})};if(this.ignoringLinterErrors===!0&&(startsWith(\"/*\",\"//\")||this.inComment&&endsWith(\"*/\")||(this.input=\"\")),char=this.scanNonBreakingSpaces(),char>=0&&this.trigger(\"warning\",{code:\"W125\",line:this.line,character:char+1}),this.input=this.input.replace(/\\t/g,state.tab),char=this.scanUnsafeChars(),char>=0&&this.trigger(\"warning\",{code:\"W100\",line:this.line,character:char}),!this.ignoringLinterErrors&&state.option.maxlen&&state.option.maxlen<this.input.length){var inComment=this.inComment||startsWith.call(inputTrimmed,\"//\")||startsWith.call(inputTrimmed,\"/*\"),shouldTriggerError=!inComment||!reg.maxlenException.test(inputTrimmed);shouldTriggerError&&this.trigger(\"warning\",{code:\"W101\",line:this.line,character:this.input.length})}return!0},start:function(){this.nextLine()},token:function(){function isReserved(token,isProperty){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(isProperty)return!1}return!0}for(var token,checks=asyncTrigger(),create=function(type,value,isProperty,token){var obj;if(\"(endline)\"!==type&&\"(end)\"!==type&&(this.prereg=!1),\"(punctuator)\"===type){switch(value){case\".\":case\")\":case\"~\":case\"#\":case\"]\":case\"++\":case\"--\":this.prereg=!1;break;default:this.prereg=!0}obj=Object.create(state.syntax[value]||state.syntax[\"(error)\"])}return\"(identifier)\"===type&&((\"return\"===value||\"case\"===value||\"typeof\"===value)&&(this.prereg=!0),_.has(state.syntax,value)&&(obj=Object.create(state.syntax[value]||state.syntax[\"(error)\"]),isReserved(obj,isProperty&&\"(identifier)\"===type)||(obj=null))),obj||(obj=Object.create(state.syntax[type])),obj.identifier=\"(identifier)\"===type,obj.type=obj.type||type,obj.value=value,obj.line=this.line,obj.character=this.char,obj.from=this.from,obj.identifier&&token&&(obj.raw_text=token.text||token.value),token&&token.startLine&&token.startLine!==this.line&&(obj.startLine=token.startLine),token&&token.context&&(obj.context=token.context),token&&token.depth&&(obj.depth=token.depth),token&&token.isUnclosed&&(obj.isUnclosed=token.isUnclosed),isProperty&&obj.identifier&&(obj.isProperty=isProperty),obj.check=checks.check,obj}.bind(this);;){if(!this.input.length)return this.nextLine()?create(\"(endline)\",\"\"):this.exhausted?null:(this.exhausted=!0,create(\"(end)\",\"\"));if(token=this.next(checks))switch(token.type){case Token.StringLiteral:return this.triggerAsync(\"String\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value,quote:token.quote},checks,function(){return!0}),create(\"(string)\",token.value,null,token);case Token.TemplateHead:return this.trigger(\"TemplateHead\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template)\",token.value,null,token);case Token.TemplateMiddle:return this.trigger(\"TemplateMiddle\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template middle)\",token.value,null,token);case Token.TemplateTail:return this.trigger(\"TemplateTail\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template tail)\",token.value,null,token);case Token.NoSubstTemplate:return this.trigger(\"NoSubstTemplate\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(no subst template)\",token.value,null,token);case Token.Identifier:this.triggerAsync(\"Identifier\",{line:this.line,\"char\":this.char,from:this.form,name:token.value,raw_name:token.text,isProperty:\".\"===state.tokens.curr.id},checks,function(){return!0});case Token.Keyword:case Token.NullLiteral:case Token.BooleanLiteral:return create(\"(identifier)\",token.value,\".\"===state.tokens.curr.id,token);case Token.NumericLiteral:return token.isMalformed&&this.trigger(\"warning\",{code:\"W045\",line:this.line,character:this.char,data:[token.value]}),this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"0x-\"]},checks,function(){return 16===token.base&&state.jsonMode}),this.triggerAsync(\"warning\",{code:\"W115\",line:this.line,character:this.char},checks,function(){return state.isStrict()&&8===token.base&&token.isLegacy}),this.trigger(\"Number\",{line:this.line,\"char\":this.char,from:this.from,value:token.value,base:token.base,isMalformed:token.malformed}),create(\"(number)\",token.value);case Token.RegExp:return create(\"(regexp)\",token.value);case Token.Comment:if(state.tokens.curr.comment=!0,token.isSpecial)return{id:\"(comment)\",value:token.value,body:token.body,type:token.commentType,isSpecial:token.isSpecial,line:this.line,character:this.char,from:this.from};break;case\"\":break;default:return create(\"(punctuator)\",token.value)}else this.input.length&&(this.trigger(\"error\",{code:\"E024\",line:this.line,character:this.char,data:[this.peek()]}),this.input=\"\")}}},exports.Lexer=Lexer,exports.Context=Context},{\"../data/ascii-identifier-data.js\":\"/node_modules/jshint/data/ascii-identifier-data.js\",\"../lodash\":\"/node_modules/jshint/lodash.js\",\"./reg.js\":\"/node_modules/jshint/src/reg.js\",\"./state.js\":\"/node_modules/jshint/src/state.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/messages.js\":[function(_dereq_,module,exports){\"use strict\";var _=_dereq_(\"../lodash\"),errors={E001:\"Bad option: '{a}'.\",E002:\"Bad option value.\",E003:\"Expected a JSON value.\",E004:\"Input is neither a string nor an array of strings.\",E005:\"Input is empty.\",E006:\"Unexpected early end of program.\",E007:'Missing \"use strict\" statement.',E008:\"Strict violation.\",E009:\"Option 'validthis' can't be used in a global scope.\",E010:\"'with' is not allowed in strict mode.\",E011:\"'{a}' has already been declared.\",E012:\"const '{a}' is initialized to 'undefined'.\",E013:\"Attempting to override '{a}' which is a constant.\",E014:\"A regular expression literal can be confused with '/='.\",E015:\"Unclosed regular expression.\",E016:\"Invalid regular expression.\",E017:\"Unclosed comment.\",E018:\"Unbegun comment.\",E019:\"Unmatched '{a}'.\",E020:\"Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.\",E021:\"Expected '{a}' and instead saw '{b}'.\",E022:\"Line breaking error '{a}'.\",E023:\"Missing '{a}'.\",E024:\"Unexpected '{a}'.\",E025:\"Missing ':' on a case clause.\",E026:\"Missing '}' to match '{' from line {a}.\",E027:\"Missing ']' to match '[' from line {a}.\",E028:\"Illegal comma.\",E029:\"Unclosed string.\",E030:\"Expected an identifier and instead saw '{a}'.\",E031:\"Bad assignment.\",E032:\"Expected a small integer or 'false' and instead saw '{a}'.\",E033:\"Expected an operator and instead saw '{a}'.\",E034:\"get/set are ES5 features.\",E035:\"Missing property name.\",E036:\"Expected to see a statement and instead saw a block.\",E037:null,E038:null,E039:\"Function declarations are not invocable. Wrap the whole function invocation in parens.\",E040:\"Each value should have its own case label.\",E041:\"Unrecoverable syntax error.\",E042:\"Stopping.\",E043:\"Too many errors.\",E044:null,E045:\"Invalid for each loop.\",E046:\"A yield statement shall be within a generator function (with syntax: `function*`)\",E047:null,E048:\"{a} declaration not directly within block.\",E049:\"A {a} cannot be named '{b}'.\",E050:\"Mozilla acequires the yield expression to be parenthesized here.\",E051:null,E052:\"Unclosed template literal.\",E053:\"Export declaration must be in global scope.\",E054:\"Class properties must be methods. Expected '(' but instead saw '{a}'.\",E055:\"The '{a}' option cannot be set after any executable code.\",E056:\"'{a}' was used before it was declared, which is illegal for '{b}' variables.\",E057:\"Invalid meta property: '{a}.{b}'.\",E058:\"Missing semicolon.\"},warnings={W001:\"'hasOwnProperty' is a really bad name.\",W002:\"Value of '{a}' may be overwritten in IE 8 and earlier.\",W003:\"'{a}' was used before it was defined.\",W004:\"'{a}' is already defined.\",W005:\"A dot following a number can be confused with a decimal point.\",W006:\"Confusing minuses.\",W007:\"Confusing plusses.\",W008:\"A leading decimal point can be confused with a dot: '{a}'.\",W009:\"The array literal notation [] is preferable.\",W010:\"The object literal notation {} is preferable.\",W011:null,W012:null,W013:null,W014:\"Bad line breaking before '{a}'.\",W015:null,W016:\"Unexpected use of '{a}'.\",W017:\"Bad operand.\",W018:\"Confusing use of '{a}'.\",W019:\"Use the isNaN function to compare with NaN.\",W020:\"Read only.\",W021:\"Reassignment of '{a}', which is is a {b}. Use 'var' or 'let' to declare bindings that may change.\",W022:\"Do not assign to the exception parameter.\",W023:\"Expected an identifier in an assignment and instead saw a function invocation.\",W024:\"Expected an identifier and instead saw '{a}' (a reserved word).\",W025:\"Missing name in function declaration.\",W026:\"Inner functions should be listed at the top of the outer function.\",W027:\"Unreachable '{a}' after '{b}'.\",W028:\"Label '{a}' on {b} statement.\",W030:\"Expected an assignment or function call and instead saw an expression.\",W031:\"Do not use 'new' for side effects.\",W032:\"Unnecessary semicolon.\",W033:\"Missing semicolon.\",W034:'Unnecessary directive \"{a}\".',W035:\"Empty block.\",W036:\"Unexpected /*member '{a}'.\",W037:\"'{a}' is a statement label.\",W038:\"'{a}' used out of scope.\",W039:\"'{a}' is not allowed.\",W040:\"Possible strict violation.\",W041:\"Use '{a}' to compare with '{b}'.\",W042:\"Avoid EOL escaping.\",W043:\"Bad escaping of EOL. Use option multistr if needed.\",W044:\"Bad or unnecessary escaping.\",W045:\"Bad number '{a}'.\",W046:\"Don't use extra leading zeros '{a}'.\",W047:\"A trailing decimal point can be confused with a dot: '{a}'.\",W048:\"Unexpected control character in regular expression.\",W049:\"Unexpected escaped character '{a}' in regular expression.\",W050:\"JavaScript URL.\",W051:\"Variables should not be deleted.\",W052:\"Unexpected '{a}'.\",W053:\"Do not use {a} as a constructor.\",W054:\"The Function constructor is a form of eval.\",W055:\"A constructor name should start with an uppercase letter.\",W056:\"Bad constructor.\",W057:\"Weird construction. Is 'new' necessary?\",W058:\"Missing '()' invoking a constructor.\",W059:\"Avoid arguments.{a}.\",W060:\"document.write can be a form of eval.\",W061:\"eval can be harmful.\",W062:\"Wrap an immediate function invocation in parens to assist the reader in understanding that the expression is the result of a function, and not the function itself.\",W063:\"Math is not a function.\",W064:\"Missing 'new' prefix when invoking a constructor.\",W065:\"Missing radix parameter.\",W066:\"Implied eval. Consider passing a function instead of a string.\",W067:\"Bad invocation.\",W068:\"Wrapping non-IIFE function literals in parens is unnecessary.\",W069:\"['{a}'] is better written in dot notation.\",W070:\"Extra comma. (it breaks older versions of IE)\",W071:\"This function has too many statements. ({a})\",W072:\"This function has too many parameters. ({a})\",W073:\"Blocks are nested too deeply. ({a})\",W074:\"This function's cyclomatic complexity is too high. ({a})\",W075:\"Duplicate {a} '{b}'.\",W076:\"Unexpected parameter '{a}' in get {b} function.\",W077:\"Expected a single parameter in set {a} function.\",W078:\"Setter is defined without getter.\",W079:\"Redefinition of '{a}'.\",W080:\"It's not necessary to initialize '{a}' to 'undefined'.\",W081:null,W082:\"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.\",W083:\"Don't make functions within a loop.\",W084:\"Assignment in conditional expression\",W085:\"Don't use 'with'.\",W086:\"Expected a 'break' statement before '{a}'.\",W087:\"Forgotten 'debugger' statement?\",W088:\"Creating global 'for' variable. Should be 'for (var {a} ...'.\",W089:\"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.\",W090:\"'{a}' is not a statement label.\",W091:null,W093:\"Did you mean to return a conditional instead of an assignment?\",W094:\"Unexpected comma.\",W095:\"Expected a string and instead saw {a}.\",W096:\"The '{a}' key may produce unexpected results.\",W097:'Use the function form of \"use strict\".',W098:\"'{a}' is defined but never used.\",W099:null,W100:\"This character may get silently deleted by one or more browsers.\",W101:\"Line is too long.\",W102:null,W103:\"The '{a}' property is deprecated.\",W104:\"'{a}' is available in ES{b} (use 'esversion: {b}') or Mozilla JS extensions (use moz).\",W105:\"Unexpected {a} in '{b}'.\",W106:\"Identifier '{a}' is not in camel case.\",W107:\"Script URL.\",W108:\"Strings must use doublequote.\",W109:\"Strings must use singlequote.\",W110:\"Mixed double and single quotes.\",W112:\"Unclosed string.\",W113:\"Control character in string: {a}.\",W114:\"Avoid {a}.\",W115:\"Octal literals are not allowed in strict mode.\",W116:\"Expected '{a}' and instead saw '{b}'.\",W117:\"'{a}' is not defined.\",W118:\"'{a}' is only available in Mozilla JavaScript extensions (use moz option).\",W119:\"'{a}' is only available in ES{b} (use 'esversion: {b}').\",W120:\"You might be leaking a variable ({a}) here.\",W121:\"Extending prototype of native object: '{a}'.\",W122:\"Invalid typeof value '{a}'\",W123:\"'{a}' is already defined in outer scope.\",W124:\"A generator function shall contain a yield statement.\",W125:\"This line contains non-breaking spaces: http://jshint.com/doc/options/#nonbsp\",W126:\"Unnecessary grouping operator.\",W127:\"Unexpected use of a comma operator.\",W128:\"Empty array elements acequire elision=true.\",W129:\"'{a}' is defined in a future version of JavaScript. Use a different variable name to avoid migration issues.\",W130:\"Invalid element after rest element.\",W131:\"Invalid parameter after rest parameter.\",W132:\"`var` declarations are forbidden. Use `let` or `const` instead.\",W133:\"Invalid for-{a} loop left-hand-side: {b}.\",W134:\"The '{a}' option is only available when linting ECMAScript {b} code.\",W135:\"{a} may not be supported by non-browser environments.\",W136:\"'{a}' must be in function scope.\",W137:\"Empty destructuring.\",W138:\"Regular parameters should not come after default parameters.\"},info={I001:\"Comma warnings can be turned off with 'laxcomma'.\",I002:null,I003:\"ES5 option is now set per default\"};exports.errors={},exports.warnings={},exports.info={},_.each(errors,function(desc,code){exports.errors[code]={code:code,desc:desc}}),_.each(warnings,function(desc,code){exports.warnings[code]={code:code,desc:desc}}),_.each(info,function(desc,code){exports.info[code]={code:code,desc:desc}})},{\"../lodash\":\"/node_modules/jshint/lodash.js\"}],\"/node_modules/jshint/src/name-stack.js\":[function(_dereq_,module){\"use strict\";function NameStack(){this._stack=[]}Object.defineProperty(NameStack.prototype,\"length\",{get:function(){return this._stack.length}}),NameStack.prototype.push=function(){this._stack.push(null)},NameStack.prototype.pop=function(){this._stack.pop()},NameStack.prototype.set=function(token){this._stack[this.length-1]=token},NameStack.prototype.infer=function(){var type,nameToken=this._stack[this.length-1],prefix=\"\";return nameToken&&\"class\"!==nameToken.type||(nameToken=this._stack[this.length-2]),nameToken?(type=nameToken.type,\"(string)\"!==type&&\"(number)\"!==type&&\"(identifier)\"!==type&&\"default\"!==type?\"(expression)\":(nameToken.accessorType&&(prefix=nameToken.accessorType+\" \"),prefix+nameToken.value)):\"(empty)\"},module.exports=NameStack},{}],\"/node_modules/jshint/src/options.js\":[function(_dereq_,module,exports){\"use strict\";exports.bool={enforcing:{bitwise:!0,freeze:!0,camelcase:!0,curly:!0,eqeqeq:!0,futurehostile:!0,notypeof:!0,es3:!0,es5:!0,forin:!0,funcscope:!0,immed:!0,iterator:!0,newcap:!0,noarg:!0,nocomma:!0,noempty:!0,nonbsp:!0,nonew:!0,undef:!0,singleGroups:!1,varstmt:!1,enforceall:!1},relaxing:{asi:!0,multistr:!0,debug:!0,boss:!0,evil:!0,globalstrict:!0,plusplus:!0,proto:!0,scripturl:!0,sub:!0,supernew:!0,laxbreak:!0,laxcomma:!0,validthis:!0,withstmt:!0,moz:!0,noyield:!0,eqnull:!0,lastsemic:!0,loopfunc:!0,expr:!0,esnext:!0,elision:!0},environments:{mootools:!0,couch:!0,jasmine:!0,jquery:!0,node:!0,qunit:!0,rhino:!0,shelljs:!0,prototypejs:!0,yui:!0,mocha:!0,module:!0,wsh:!0,worker:!0,nonstandard:!0,browser:!0,browserify:!0,devel:!0,dojo:!0,typed:!0,phantom:!0},obsolete:{onecase:!0,regexp:!0,regexdash:!0}},exports.val={maxlen:!1,indent:!1,maxerr:!1,predef:!1,globals:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1,shadow:!1,strict:!0,unused:!0,latedef:!1,ignore:!1,ignoreDelimiters:!1,esversion:5},exports.inverted={bitwise:!0,forin:!0,newcap:!0,plusplus:!0,regexp:!0,undef:!0,eqeqeq:!0,strict:!0},exports.validNames=Object.keys(exports.val).concat(Object.keys(exports.bool.relaxing)).concat(Object.keys(exports.bool.enforcing)).concat(Object.keys(exports.bool.obsolete)).concat(Object.keys(exports.bool.environments)),exports.renamed={eqeq:\"eqeqeq\",windows:\"wsh\",sloppy:\"strict\"},exports.removed={nomen:!0,onevar:!0,passfail:!0,white:!0,gcl:!0,smarttabs:!0,trailing:!0},exports.noenforceall={varstmt:!0,strict:!0}},{}],\"/node_modules/jshint/src/reg.js\":[function(_dereq_,module,exports){\"use strict\";exports.unsafeString=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,exports.unsafeChars=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEsc=/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEscGlobal=/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,exports.starSlash=/\\*\\//,exports.identifier=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,exports.javascriptURL=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i,exports.fallsThrough=/^\\s*falls?\\sthrough\\s*$/,exports.maxlenException=/^(?:(?:\\/\\/|\\/\\*|\\*) ?)?[^ ]+$/},{}],\"/node_modules/jshint/src/scope-manager.js\":[function(_dereq_,module){\"use strict\";var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),marker={},scopeManager=function(state,predefined,exported,declared){function _newScope(type){_current={\"(labels)\":Object.create(null),\"(usages)\":Object.create(null),\"(breakLabels)\":Object.create(null),\"(parent)\":_current,\"(type)\":type,\"(params)\":\"functionparams\"===type||\"catchparams\"===type?[]:null},_scopeStack.push(_current)}function warning(code,token){emitter.emit(\"warning\",{code:code,token:token,data:_.slice(arguments,2)})}function error(code,token){emitter.emit(\"warning\",{code:code,token:token,data:_.slice(arguments,2)})}function _setupUsages(labelName){_current[\"(usages)\"][labelName]||(_current[\"(usages)\"][labelName]={\"(modified)\":[],\"(reassigned)\":[],\"(tokens)\":[]})}function _checkForUnused(){if(\"functionparams\"===_current[\"(type)\"])return _checkParams(),void 0;var curentLabels=_current[\"(labels)\"];for(var labelName in curentLabels)curentLabels[labelName]&&\"exception\"!==curentLabels[labelName][\"(type)\"]&&curentLabels[labelName][\"(unused)\"]&&_warnUnused(labelName,curentLabels[labelName][\"(token)\"],\"var\")}function _checkParams(){var params=_current[\"(params)\"];if(params)for(var unused_opt,param=params.pop();param;){var label=_current[\"(labels)\"][param];if(unused_opt=_getUnusedOption(state.funct[\"(unusedOption)\"]),\"undefined\"===param)return;if(label[\"(unused)\"])_warnUnused(param,label[\"(token)\"],\"param\",state.funct[\"(unusedOption)\"]);else if(\"last-param\"===unused_opt)return;param=params.pop()}}function _getLabel(labelName){for(var i=_scopeStack.length-1;i>=0;--i){var scopeLabels=_scopeStack[i][\"(labels)\"];if(scopeLabels[labelName])return scopeLabels}}function usedSoFarInCurrentFunction(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current[\"(usages)\"][labelName])return current[\"(usages)\"][labelName];if(current===_currentFunctBody)break}return!1}function _checkOuterShadow(labelName,token){if(\"outer\"===state.option.shadow)for(var isGlobal=\"global\"===_currentFunctBody[\"(type)\"],isNewFunction=\"functionparams\"===_current[\"(type)\"],outsideCurrentFunction=!isGlobal,i=0;_scopeStack.length>i;i++){var stackItem=_scopeStack[i];isNewFunction||_scopeStack[i+1]!==_currentFunctBody||(outsideCurrentFunction=!1),outsideCurrentFunction&&stackItem[\"(labels)\"][labelName]&&warning(\"W123\",token,labelName),stackItem[\"(breakLabels)\"][labelName]&&warning(\"W123\",token,labelName)}}function _latedefWarning(type,labelName,token){state.option.latedef&&(state.option.latedef===!0&&\"function\"===type||\"function\"!==type)&&warning(\"W003\",token,labelName)}var _current,_scopeStack=[];_newScope(\"global\"),_current[\"(predefined)\"]=predefined;var _currentFunctBody=_current,usedPredefinedAndGlobals=Object.create(null),impliedGlobals=Object.create(null),unuseds=[],emitter=new events.EventEmitter,_getUnusedOption=function(unused_opt){return void 0===unused_opt&&(unused_opt=state.option.unused),unused_opt===!0&&(unused_opt=\"last-param\"),unused_opt},_warnUnused=function(name,tkn,type,unused_opt){var line=tkn.line,chr=tkn.from,raw_name=tkn.raw_text||name;unused_opt=_getUnusedOption(unused_opt);var warnable_types={vars:[\"var\"],\"last-param\":[\"var\",\"param\"],strict:[\"var\",\"param\",\"last-param\"]};unused_opt&&warnable_types[unused_opt]&&-1!==warnable_types[unused_opt].indexOf(type)&&warning(\"W098\",{line:line,from:chr},raw_name),(unused_opt||\"var\"===type)&&unuseds.push({name:name,line:line,character:chr})},scopeManagerInst={on:function(names,listener){names.split(\" \").forEach(function(name){emitter.on(name,listener)})},isPredefined:function(labelName){return!this.has(labelName)&&_.has(_scopeStack[0][\"(predefined)\"],labelName)},stack:function(type){var previousScope=_current;_newScope(type),type||\"functionparams\"!==previousScope[\"(type)\"]||(_current[\"(isFuncBody)\"]=!0,_current[\"(context)\"]=_currentFunctBody,_currentFunctBody=_current)},unstack:function(){var i,j,subScope=_scopeStack.length>1?_scopeStack[_scopeStack.length-2]:null,isUnstackingFunctionBody=_current===_currentFunctBody,isUnstackingFunctionParams=\"functionparams\"===_current[\"(type)\"],isUnstackingFunctionOuter=\"functionouter\"===_current[\"(type)\"],currentUsages=_current[\"(usages)\"],currentLabels=_current[\"(labels)\"],usedLabelNameList=Object.keys(currentUsages);for(currentUsages.__proto__&&-1===usedLabelNameList.indexOf(\"__proto__\")&&usedLabelNameList.push(\"__proto__\"),i=0;usedLabelNameList.length>i;i++){var usedLabelName=usedLabelNameList[i],usage=currentUsages[usedLabelName],usedLabel=currentLabels[usedLabelName];if(usedLabel){var usedLabelType=usedLabel[\"(type)\"];if(usedLabel[\"(useOutsideOfScope)\"]&&!state.option.funcscope){var usedTokens=usage[\"(tokens)\"];if(usedTokens)for(j=0;usedTokens.length>j;j++)usedLabel[\"(function)\"]===usedTokens[j][\"(function)\"]&&error(\"W038\",usedTokens[j],usedLabelName)}if(_current[\"(labels)\"][usedLabelName][\"(unused)\"]=!1,\"const\"===usedLabelType&&usage[\"(modified)\"])for(j=0;usage[\"(modified)\"].length>j;j++)error(\"E013\",usage[\"(modified)\"][j],usedLabelName);if((\"function\"===usedLabelType||\"class\"===usedLabelType)&&usage[\"(reassigned)\"])for(j=0;usage[\"(reassigned)\"].length>j;j++)error(\"W021\",usage[\"(reassigned)\"][j],usedLabelName,usedLabelType)}else if(isUnstackingFunctionOuter&&(state.funct[\"(isCapturing)\"]=!0),subScope)if(subScope[\"(usages)\"][usedLabelName]){var subScopeUsage=subScope[\"(usages)\"][usedLabelName];subScopeUsage[\"(modified)\"]=subScopeUsage[\"(modified)\"].concat(usage[\"(modified)\"]),subScopeUsage[\"(tokens)\"]=subScopeUsage[\"(tokens)\"].concat(usage[\"(tokens)\"]),subScopeUsage[\"(reassigned)\"]=subScopeUsage[\"(reassigned)\"].concat(usage[\"(reassigned)\"]),subScopeUsage[\"(onlyUsedSubFunction)\"]=!1}else subScope[\"(usages)\"][usedLabelName]=usage,isUnstackingFunctionBody&&(subScope[\"(usages)\"][usedLabelName][\"(onlyUsedSubFunction)\"]=!0);else if(\"boolean\"==typeof _current[\"(predefined)\"][usedLabelName]){if(delete declared[usedLabelName],usedPredefinedAndGlobals[usedLabelName]=marker,_current[\"(predefined)\"][usedLabelName]===!1&&usage[\"(reassigned)\"])for(j=0;usage[\"(reassigned)\"].length>j;j++)warning(\"W020\",usage[\"(reassigned)\"][j])}else if(usage[\"(tokens)\"])for(j=0;usage[\"(tokens)\"].length>j;j++){var undefinedToken=usage[\"(tokens)\"][j];undefinedToken.forgiveUndef||(state.option.undef&&!undefinedToken.ignoreUndef&&warning(\"W117\",undefinedToken,usedLabelName),impliedGlobals[usedLabelName]?impliedGlobals[usedLabelName].line.push(undefinedToken.line):impliedGlobals[usedLabelName]={name:usedLabelName,line:[undefinedToken.line]})}}if(subScope||Object.keys(declared).forEach(function(labelNotUsed){_warnUnused(labelNotUsed,declared[labelNotUsed],\"var\")}),subScope&&!isUnstackingFunctionBody&&!isUnstackingFunctionParams&&!isUnstackingFunctionOuter){var labelNames=Object.keys(currentLabels);for(i=0;labelNames.length>i;i++){var defLabelName=labelNames[i];currentLabels[defLabelName][\"(blockscoped)\"]||\"exception\"===currentLabels[defLabelName][\"(type)\"]||this.funct.has(defLabelName,{excludeCurrent:!0})||(subScope[\"(labels)\"][defLabelName]=currentLabels[defLabelName],\"global\"!==_currentFunctBody[\"(type)\"]&&(subScope[\"(labels)\"][defLabelName][\"(useOutsideOfScope)\"]=!0),delete currentLabels[defLabelName])}}_checkForUnused(),_scopeStack.pop(),isUnstackingFunctionBody&&(_currentFunctBody=_scopeStack[_.findLastIndex(_scopeStack,function(scope){return scope[\"(isFuncBody)\"]||\"global\"===scope[\"(type)\"]})]),_current=subScope},addParam:function(labelName,token,type){if(type=type||\"param\",\"exception\"===type){var previouslyDefinedLabelType=this.funct.labeltype(labelName);previouslyDefinedLabelType&&\"exception\"!==previouslyDefinedLabelType&&(state.option.node||warning(\"W002\",state.tokens.next,labelName))}if(_.has(_current[\"(labels)\"],labelName)?_current[\"(labels)\"][labelName].duplicated=!0:(_checkOuterShadow(labelName,token,type),_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":token,\"(unused)\":!0},_current[\"(params)\"].push(labelName)),_.has(_current[\"(usages)\"],labelName)){var usage=_current[\"(usages)\"][labelName];usage[\"(onlyUsedSubFunction)\"]?_latedefWarning(type,labelName,token):warning(\"E056\",token,labelName,type)}},validateParams:function(){if(\"global\"!==_currentFunctBody[\"(type)\"]){var isStrict=state.isStrict(),currentFunctParamScope=_currentFunctBody[\"(parent)\"];currentFunctParamScope[\"(params)\"]&&currentFunctParamScope[\"(params)\"].forEach(function(labelName){var label=currentFunctParamScope[\"(labels)\"][labelName];label&&label.duplicated&&(isStrict?warning(\"E011\",label[\"(token)\"],labelName):state.option.shadow!==!0&&warning(\"W004\",label[\"(token)\"],labelName))})}},getUsedOrDefinedGlobals:function(){var list=Object.keys(usedPredefinedAndGlobals);return usedPredefinedAndGlobals.__proto__===marker&&-1===list.indexOf(\"__proto__\")&&list.push(\"__proto__\"),list},getImpliedGlobals:function(){var values=_.values(impliedGlobals),hasProto=!1;return impliedGlobals.__proto__&&(hasProto=values.some(function(value){return\"__proto__\"===value.name}),hasProto||values.push(impliedGlobals.__proto__)),values},getUnuseds:function(){return unuseds},has:function(labelName){return Boolean(_getLabel(labelName))},labeltype:function(labelName){var scopeLabels=_getLabel(labelName);return scopeLabels?scopeLabels[labelName][\"(type)\"]:null},addExported:function(labelName){var globalLabels=_scopeStack[0][\"(labels)\"];if(_.has(declared,labelName))delete declared[labelName];else if(_.has(globalLabels,labelName))globalLabels[labelName][\"(unused)\"]=!1;else{for(var i=1;_scopeStack.length>i;i++){var scope=_scopeStack[i];if(scope[\"(type)\"])break;if(_.has(scope[\"(labels)\"],labelName)&&!scope[\"(labels)\"][labelName][\"(blockscoped)\"])return scope[\"(labels)\"][labelName][\"(unused)\"]=!1,void 0}exported[labelName]=!0}},setExported:function(labelName,token){this.block.use(labelName,token)\n},addlabel:function(labelName,opts){var type=opts.type,token=opts.token,isblockscoped=\"let\"===type||\"const\"===type||\"class\"===type,isexported=\"global\"===(isblockscoped?_current:_currentFunctBody)[\"(type)\"]&&_.has(exported,labelName);if(_checkOuterShadow(labelName,token,type),isblockscoped){var declaredInCurrentScope=_current[\"(labels)\"][labelName];if(declaredInCurrentScope||_current!==_currentFunctBody||\"global\"===_current[\"(type)\"]||(declaredInCurrentScope=!!_currentFunctBody[\"(parent)\"][\"(labels)\"][labelName]),!declaredInCurrentScope&&_current[\"(usages)\"][labelName]){var usage=_current[\"(usages)\"][labelName];usage[\"(onlyUsedSubFunction)\"]?_latedefWarning(type,labelName,token):warning(\"E056\",token,labelName,type)}declaredInCurrentScope?warning(\"E011\",token,labelName):\"outer\"===state.option.shadow&&scopeManagerInst.funct.has(labelName)&&warning(\"W004\",token,labelName),scopeManagerInst.block.add(labelName,type,token,!isexported)}else{var declaredInCurrentFunctionScope=scopeManagerInst.funct.has(labelName);!declaredInCurrentFunctionScope&&usedSoFarInCurrentFunction(labelName)&&_latedefWarning(type,labelName,token),scopeManagerInst.funct.has(labelName,{onlyBlockscoped:!0})?warning(\"E011\",token,labelName):state.option.shadow!==!0&&declaredInCurrentFunctionScope&&\"__proto__\"!==labelName&&\"global\"!==_currentFunctBody[\"(type)\"]&&warning(\"W004\",token,labelName),scopeManagerInst.funct.add(labelName,type,token,!isexported),\"global\"===_currentFunctBody[\"(type)\"]&&(usedPredefinedAndGlobals[labelName]=marker)}},funct:{labeltype:function(labelName,options){for(var onlyBlockscoped=options&&options.onlyBlockscoped,excludeParams=options&&options.excludeParams,currentScopeIndex=_scopeStack.length-(options&&options.excludeCurrent?2:1),i=currentScopeIndex;i>=0;i--){var current=_scopeStack[i];if(current[\"(labels)\"][labelName]&&(!onlyBlockscoped||current[\"(labels)\"][labelName][\"(blockscoped)\"]))return current[\"(labels)\"][labelName][\"(type)\"];var scopeCheck=excludeParams?_scopeStack[i-1]:current;if(scopeCheck&&\"functionparams\"===scopeCheck[\"(type)\"])return null}return null},hasBreakLabel:function(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current[\"(breakLabels)\"][labelName])return!0;if(\"functionparams\"===current[\"(type)\"])return!1}return!1},has:function(labelName,options){return Boolean(this.labeltype(labelName,options))},add:function(labelName,type,tok,unused){_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":tok,\"(blockscoped)\":!1,\"(function)\":_currentFunctBody,\"(unused)\":unused}}},block:{isGlobal:function(){return\"global\"===_current[\"(type)\"]},use:function(labelName,token){var paramScope=_currentFunctBody[\"(parent)\"];paramScope&&paramScope[\"(labels)\"][labelName]&&\"param\"===paramScope[\"(labels)\"][labelName][\"(type)\"]&&(scopeManagerInst.funct.has(labelName,{excludeParams:!0,onlyBlockscoped:!0})||(paramScope[\"(labels)\"][labelName][\"(unused)\"]=!1)),token&&(state.ignored.W117||state.option.undef===!1)&&(token.ignoreUndef=!0),_setupUsages(labelName),token&&(token[\"(function)\"]=_currentFunctBody,_current[\"(usages)\"][labelName][\"(tokens)\"].push(token))},reassign:function(labelName,token){this.modify(labelName,token),_current[\"(usages)\"][labelName][\"(reassigned)\"].push(token)},modify:function(labelName,token){_setupUsages(labelName),_current[\"(usages)\"][labelName][\"(modified)\"].push(token)},add:function(labelName,type,tok,unused){_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":tok,\"(blockscoped)\":!0,\"(unused)\":unused}},addBreakLabel:function(labelName,opts){var token=opts.token;scopeManagerInst.funct.hasBreakLabel(labelName)?warning(\"E011\",token,labelName):\"outer\"===state.option.shadow&&(scopeManagerInst.funct.has(labelName)?warning(\"W004\",token,labelName):_checkOuterShadow(labelName,token)),_current[\"(breakLabels)\"][labelName]=token}}};return scopeManagerInst};module.exports=scopeManager},{\"../lodash\":\"/node_modules/jshint/lodash.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/state.js\":[function(_dereq_,module,exports){\"use strict\";var NameStack=_dereq_(\"./name-stack.js\"),state={syntax:{},isStrict:function(){return this.directive[\"use strict\"]||this.inClassBody||this.option.module||\"implied\"===this.option.strict},inMoz:function(){return this.option.moz},inES6:function(){return this.option.moz||this.option.esversion>=6},inES5:function(strict){return strict?!(this.option.esversion&&5!==this.option.esversion||this.option.moz):!this.option.esversion||this.option.esversion>=5||this.option.moz},reset:function(){this.tokens={prev:null,next:null,curr:null},this.option={},this.funct=null,this.ignored={},this.directive={},this.jsonMode=!1,this.jsonWarnings=[],this.lines=[],this.tab=\"\",this.cache={},this.ignoredLines={},this.forinifcheckneeded=!1,this.nameStack=new NameStack,this.inClassBody=!1}};exports.state=state},{\"./name-stack.js\":\"/node_modules/jshint/src/name-stack.js\"}],\"/node_modules/jshint/src/style.js\":[function(_dereq_,module,exports){\"use strict\";exports.register=function(linter){linter.on(\"Identifier\",function(data){linter.getOption(\"proto\")||\"__proto__\"===data.name&&linter.warn(\"W103\",{line:data.line,\"char\":data.char,data:[data.name,\"6\"]})}),linter.on(\"Identifier\",function(data){linter.getOption(\"iterator\")||\"__iterator__\"===data.name&&linter.warn(\"W103\",{line:data.line,\"char\":data.char,data:[data.name]})}),linter.on(\"Identifier\",function(data){linter.getOption(\"camelcase\")&&data.name.replace(/^_+|_+$/g,\"\").indexOf(\"_\")>-1&&!data.name.match(/^[A-Z0-9_]*$/)&&linter.warn(\"W106\",{line:data.line,\"char\":data.from,data:[data.name]})}),linter.on(\"String\",function(data){var code,quotmark=linter.getOption(\"quotmark\");quotmark&&(\"single\"===quotmark&&\"'\"!==data.quote&&(code=\"W109\"),\"double\"===quotmark&&'\"'!==data.quote&&(code=\"W108\"),quotmark===!0&&(linter.getCache(\"quotmark\")||linter.setCache(\"quotmark\",data.quote),linter.getCache(\"quotmark\")!==data.quote&&(code=\"W110\")),code&&linter.warn(code,{line:data.line,\"char\":data.char}))}),linter.on(\"Number\",function(data){\".\"===data.value.charAt(0)&&linter.warn(\"W008\",{line:data.line,\"char\":data.char,data:[data.value]}),\".\"===data.value.substr(data.value.length-1)&&linter.warn(\"W047\",{line:data.line,\"char\":data.char,data:[data.value]}),/^00+/.test(data.value)&&linter.warn(\"W046\",{line:data.line,\"char\":data.char,data:[data.value]})}),linter.on(\"String\",function(data){var re=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i;linter.getOption(\"scripturl\")||re.test(data.value)&&linter.warn(\"W107\",{line:data.line,\"char\":data.char})})}},{}],\"/node_modules/jshint/src/vars.js\":[function(_dereq_,module,exports){\"use strict\";exports.reservedVars={arguments:!1,NaN:!1},exports.ecmaIdentifiers={3:{Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},5:{JSON:!1},6:{Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,WeakMap:!1,WeakSet:!1}},exports.browser={Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,cancelAnimationFrame:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,CSS:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,Comment:!1,CustomEvent:!1,DOMParser:!1,defaultStatus:!1,Document:!1,document:!1,DocumentFragment:!1,Element:!1,ElementTimeControl:!1,Event:!1,event:!1,fetch:!1,FileReader:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLCollection:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTemplateElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Image:!1,Intl:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,NodeList:!1,Notification:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,performance:!1,print:!1,Range:!1,requestAnimationFrame:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimationElement:!1,SVGCSSRule:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLineElement:!1,SVGLinearGradientElement:!1,SVGLocatable:!1,SVGMPathElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGSVGElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTransformable:!1,SVGURIReference:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGVKernElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGZoomAndPan:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TimeEvent:!1,top:!1,URL:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLTexture:!1,WebGLUniformLocation:!1,WebSocket:!1,window:!1,Window:!1,Worker:!1,XDomainRequest:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},exports.devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},exports.worker={importScripts:!0,postMessage:!0,self:!0,FileReaderSync:!0},exports.nonstandard={escape:!1,unescape:!1},exports.couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},exports.node={__filename:!1,__dirname:!1,GLOBAL:!1,global:!1,module:!1,acequire:!1,Buffer:!0,console:!0,exports:!0,process:!0,setTimeout:!0,clearTimeout:!0,setInterval:!0,clearInterval:!0,setImmediate:!0,clearImmediate:!0},exports.browserify={__filename:!1,__dirname:!1,global:!1,module:!1,acequire:!1,Buffer:!0,exports:!0,process:!0},exports.phantom={phantom:!0,acequire:!0,WebPage:!0,console:!0,exports:!0},exports.qunit={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,\"throws\":!1},exports.rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},exports.shelljs={target:!1,echo:!1,exit:!1,cd:!1,pwd:!1,ls:!1,find:!1,cp:!1,rm:!1,mv:!1,mkdir:!1,test:!1,cat:!1,sed:!1,grep:!1,which:!1,dirs:!1,pushd:!1,popd:!1,env:!1,exec:!1,chmod:!1,config:!1,error:!1,tempdir:!1},exports.typed={ArrayBuffer:!1,ArrayBufferView:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1},exports.wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},exports.dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},exports.jquery={$:!1,jQuery:!1},exports.mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,IFrame:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},exports.prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},exports.yui={YUI:!1,Y:!1,YUI_config:!1},exports.mocha={mocha:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,context:!1,xcontext:!1,before:!1,after:!1,beforeEach:!1,afterEach:!1,suite:!1,test:!1,setup:!1,teardown:!1,suiteSetup:!1,suiteTeardown:!1},exports.jasmine={jasmine:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,beforeEach:!1,afterEach:!1,setFixtures:!1,loadFixtures:!1,spyOn:!1,expect:!1,runs:!1,waitsFor:!1,waits:!1,beforeAll:!1,afterAll:!1,fail:!1,fdescribe:!1,fit:!1,pending:!1}},{}]},{},[\"/node_modules/jshint/src/jshint.js\"])}),ace.define(\"ace/mode/javascript_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/worker/mirror\",\"ace/mode/javascript/jshint\"],function(acequire,exports,module){\"use strict\";function startRegex(arr){return RegExp(\"^(\"+arr.join(\"|\")+\")\")}var oop=acequire(\"../lib/oop\"),Mirror=acequire(\"../worker/mirror\").Mirror,lint=acequire(\"./javascript/jshint\").JSHINT,disabledWarningsRe=startRegex([\"Bad for in variable '(.+)'.\",'Missing \"use strict\"']),errorsRe=startRegex([\"Unexpected\",\"Expected \",\"Confusing (plus|minus)\",\"\\\\{a\\\\} unterminated regular expression\",\"Unclosed \",\"Unmatched \",\"Unbegun comment\",\"Bad invocation\",\"Missing space after\",\"Missing operator at\"]),infoRe=startRegex([\"Expected an assignment\",\"Bad escapement of EOL\",\"Unexpected comma\",\"Unexpected space\",\"Missing radix parameter.\",\"A leading decimal point can\",\"\\\\['{a}'\\\\] is better written in dot notation.\",\"'{a}' used out of scope\"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{esnext:!0,moz:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval(\"throw 0;\"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,\"\\n\"),!value)return this.sender.emit(\"annotate\",[]);var errors=[],maxErrorLevel=this.isValidJS(value)?\"warning\":\"error\";lint(value,this.options);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type=\"warning\";if(\"Missing semicolon.\"==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),\"error\"==maxErrorLevel&&str&&/[\\w\\d{(['\"]/.test(str)?(error.reason='Missing \";\" before statement',type=\"error\"):type=\"info\"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type=\"info\":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):\"'{a}' is not defined.\"==raw?type=\"warning\":\"'{a}' is defined but never used.\"==raw&&(type=\"info\")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit(\"annotate\",errors)}}.call(JavaScriptWorker.prototype)}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\u000b\\f\\r   ᠎             　\\u2028\\u2029﻿\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}});";
}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/brace/worker/javascript.js","/../node_modules/brace/worker")
},{"buffer":8,"pBGvAp":10}],8:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */

var base64 = require('base64-js')
var ieee754 = require('ieee754')

exports.Buffer = Buffer
exports.SlowBuffer = Buffer
exports.INSPECT_MAX_BYTES = 50
Buffer.poolSize = 8192

/**
 * If `Buffer._useTypedArrays`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (compatible down to IE6)
 */
Buffer._useTypedArrays = (function () {
  // Detect if browser supports Typed Arrays. Supported browsers are IE 10+, Firefox 4+,
  // Chrome 7+, Safari 5.1+, Opera 11.6+, iOS 4.2+. If the browser does not support adding
  // properties to `Uint8Array` instances, then that's the same as no `Uint8Array` support
  // because we need to be able to add all the node Buffer API methods. This is an issue
  // in Firefox 4-29. Now fixed: https://bugzilla.mozilla.org/show_bug.cgi?id=695438
  try {
    var buf = new ArrayBuffer(0)
    var arr = new Uint8Array(buf)
    arr.foo = function () { return 42 }
    return 42 === arr.foo() &&
        typeof arr.subarray === 'function' // Chrome 9-10 lack `subarray`
  } catch (e) {
    return false
  }
})()

/**
 * Class: Buffer
 * =============
 *
 * The Buffer constructor returns instances of `Uint8Array` that are augmented
 * with function properties for all the node `Buffer` API functions. We use
 * `Uint8Array` so that square bracket notation works as expected -- it returns
 * a single octet.
 *
 * By augmenting the instances, we can avoid modifying the `Uint8Array`
 * prototype.
 */
function Buffer (subject, encoding, noZero) {
  if (!(this instanceof Buffer))
    return new Buffer(subject, encoding, noZero)

  var type = typeof subject

  // Workaround: node's base64 implementation allows for non-padded strings
  // while base64-js does not.
  if (encoding === 'base64' && type === 'string') {
    subject = stringtrim(subject)
    while (subject.length % 4 !== 0) {
      subject = subject + '='
    }
  }

  // Find the length
  var length
  if (type === 'number')
    length = coerce(subject)
  else if (type === 'string')
    length = Buffer.byteLength(subject, encoding)
  else if (type === 'object')
    length = coerce(subject.length) // assume that object is array-like
  else
    throw new Error('First argument needs to be a number, array or string.')

  var buf
  if (Buffer._useTypedArrays) {
    // Preferred: Return an augmented `Uint8Array` instance for best performance
    buf = Buffer._augment(new Uint8Array(length))
  } else {
    // Fallback: Return THIS instance of Buffer (created by `new`)
    buf = this
    buf.length = length
    buf._isBuffer = true
  }

  var i
  if (Buffer._useTypedArrays && typeof subject.byteLength === 'number') {
    // Speed optimization -- use set if we're copying from a typed array
    buf._set(subject)
  } else if (isArrayish(subject)) {
    // Treat array-ish objects as a byte array
    for (i = 0; i < length; i++) {
      if (Buffer.isBuffer(subject))
        buf[i] = subject.readUInt8(i)
      else
        buf[i] = subject[i]
    }
  } else if (type === 'string') {
    buf.write(subject, 0, encoding)
  } else if (type === 'number' && !Buffer._useTypedArrays && !noZero) {
    for (i = 0; i < length; i++) {
      buf[i] = 0
    }
  }

  return buf
}

// STATIC METHODS
// ==============

Buffer.isEncoding = function (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'binary':
    case 'base64':
    case 'raw':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.isBuffer = function (b) {
  return !!(b !== null && b !== undefined && b._isBuffer)
}

Buffer.byteLength = function (str, encoding) {
  var ret
  str = str + ''
  switch (encoding || 'utf8') {
    case 'hex':
      ret = str.length / 2
      break
    case 'utf8':
    case 'utf-8':
      ret = utf8ToBytes(str).length
      break
    case 'ascii':
    case 'binary':
    case 'raw':
      ret = str.length
      break
    case 'base64':
      ret = base64ToBytes(str).length
      break
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      ret = str.length * 2
      break
    default:
      throw new Error('Unknown encoding')
  }
  return ret
}

Buffer.concat = function (list, totalLength) {
  assert(isArray(list), 'Usage: Buffer.concat(list, [totalLength])\n' +
      'list should be an Array.')

  if (list.length === 0) {
    return new Buffer(0)
  } else if (list.length === 1) {
    return list[0]
  }

  var i
  if (typeof totalLength !== 'number') {
    totalLength = 0
    for (i = 0; i < list.length; i++) {
      totalLength += list[i].length
    }
  }

  var buf = new Buffer(totalLength)
  var pos = 0
  for (i = 0; i < list.length; i++) {
    var item = list[i]
    item.copy(buf, pos)
    pos += item.length
  }
  return buf
}

// BUFFER INSTANCE METHODS
// =======================

function _hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  assert(strLen % 2 === 0, 'Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; i++) {
    var byte = parseInt(string.substr(i * 2, 2), 16)
    assert(!isNaN(byte), 'Invalid hex string')
    buf[offset + i] = byte
  }
  Buffer._charsWritten = i * 2
  return i
}

function _utf8Write (buf, string, offset, length) {
  var charsWritten = Buffer._charsWritten =
    blitBuffer(utf8ToBytes(string), buf, offset, length)
  return charsWritten
}

function _asciiWrite (buf, string, offset, length) {
  var charsWritten = Buffer._charsWritten =
    blitBuffer(asciiToBytes(string), buf, offset, length)
  return charsWritten
}

function _binaryWrite (buf, string, offset, length) {
  return _asciiWrite(buf, string, offset, length)
}

function _base64Write (buf, string, offset, length) {
  var charsWritten = Buffer._charsWritten =
    blitBuffer(base64ToBytes(string), buf, offset, length)
  return charsWritten
}

function _utf16leWrite (buf, string, offset, length) {
  var charsWritten = Buffer._charsWritten =
    blitBuffer(utf16leToBytes(string), buf, offset, length)
  return charsWritten
}

Buffer.prototype.write = function (string, offset, length, encoding) {
  // Support both (string, offset, length, encoding)
  // and the legacy (string, encoding, offset, length)
  if (isFinite(offset)) {
    if (!isFinite(length)) {
      encoding = length
      length = undefined
    }
  } else {  // legacy
    var swap = encoding
    encoding = offset
    offset = length
    length = swap
  }

  offset = Number(offset) || 0
  var remaining = this.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }
  encoding = String(encoding || 'utf8').toLowerCase()

  var ret
  switch (encoding) {
    case 'hex':
      ret = _hexWrite(this, string, offset, length)
      break
    case 'utf8':
    case 'utf-8':
      ret = _utf8Write(this, string, offset, length)
      break
    case 'ascii':
      ret = _asciiWrite(this, string, offset, length)
      break
    case 'binary':
      ret = _binaryWrite(this, string, offset, length)
      break
    case 'base64':
      ret = _base64Write(this, string, offset, length)
      break
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      ret = _utf16leWrite(this, string, offset, length)
      break
    default:
      throw new Error('Unknown encoding')
  }
  return ret
}

Buffer.prototype.toString = function (encoding, start, end) {
  var self = this

  encoding = String(encoding || 'utf8').toLowerCase()
  start = Number(start) || 0
  end = (end !== undefined)
    ? Number(end)
    : end = self.length

  // Fastpath empty strings
  if (end === start)
    return ''

  var ret
  switch (encoding) {
    case 'hex':
      ret = _hexSlice(self, start, end)
      break
    case 'utf8':
    case 'utf-8':
      ret = _utf8Slice(self, start, end)
      break
    case 'ascii':
      ret = _asciiSlice(self, start, end)
      break
    case 'binary':
      ret = _binarySlice(self, start, end)
      break
    case 'base64':
      ret = _base64Slice(self, start, end)
      break
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      ret = _utf16leSlice(self, start, end)
      break
    default:
      throw new Error('Unknown encoding')
  }
  return ret
}

Buffer.prototype.toJSON = function () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function (target, target_start, start, end) {
  var source = this

  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (!target_start) target_start = 0

  // Copy 0 bytes; we're done
  if (end === start) return
  if (target.length === 0 || source.length === 0) return

  // Fatal error conditions
  assert(end >= start, 'sourceEnd < sourceStart')
  assert(target_start >= 0 && target_start < target.length,
      'targetStart out of bounds')
  assert(start >= 0 && start < source.length, 'sourceStart out of bounds')
  assert(end >= 0 && end <= source.length, 'sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length)
    end = this.length
  if (target.length - target_start < end - start)
    end = target.length - target_start + start

  var len = end - start

  if (len < 100 || !Buffer._useTypedArrays) {
    for (var i = 0; i < len; i++)
      target[i + target_start] = this[i + start]
  } else {
    target._set(this.subarray(start, start + len), target_start)
  }
}

function _base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function _utf8Slice (buf, start, end) {
  var res = ''
  var tmp = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; i++) {
    if (buf[i] <= 0x7F) {
      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])
      tmp = ''
    } else {
      tmp += '%' + buf[i].toString(16)
    }
  }

  return res + decodeUtf8Char(tmp)
}

function _asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; i++)
    ret += String.fromCharCode(buf[i])
  return ret
}

function _binarySlice (buf, start, end) {
  return _asciiSlice(buf, start, end)
}

function _hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; i++) {
    out += toHex(buf[i])
  }
  return out
}

function _utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i+1] * 256)
  }
  return res
}

Buffer.prototype.slice = function (start, end) {
  var len = this.length
  start = clamp(start, len, 0)
  end = clamp(end, len, len)

  if (Buffer._useTypedArrays) {
    return Buffer._augment(this.subarray(start, end))
  } else {
    var sliceLen = end - start
    var newBuf = new Buffer(sliceLen, undefined, true)
    for (var i = 0; i < sliceLen; i++) {
      newBuf[i] = this[i + start]
    }
    return newBuf
  }
}

// `get` will be removed in Node 0.13+
Buffer.prototype.get = function (offset) {
  console.log('.get() is deprecated. Access using array indexes instead.')
  return this.readUInt8(offset)
}

// `set` will be removed in Node 0.13+
Buffer.prototype.set = function (v, offset) {
  console.log('.set() is deprecated. Access using array indexes instead.')
  return this.writeUInt8(v, offset)
}

Buffer.prototype.readUInt8 = function (offset, noAssert) {
  if (!noAssert) {
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset < this.length, 'Trying to read beyond buffer length')
  }

  if (offset >= this.length)
    return

  return this[offset]
}

function _readUInt16 (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 1 < buf.length, 'Trying to read beyond buffer length')
  }

  var len = buf.length
  if (offset >= len)
    return

  var val
  if (littleEndian) {
    val = buf[offset]
    if (offset + 1 < len)
      val |= buf[offset + 1] << 8
  } else {
    val = buf[offset] << 8
    if (offset + 1 < len)
      val |= buf[offset + 1]
  }
  return val
}

Buffer.prototype.readUInt16LE = function (offset, noAssert) {
  return _readUInt16(this, offset, true, noAssert)
}

Buffer.prototype.readUInt16BE = function (offset, noAssert) {
  return _readUInt16(this, offset, false, noAssert)
}

function _readUInt32 (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')
  }

  var len = buf.length
  if (offset >= len)
    return

  var val
  if (littleEndian) {
    if (offset + 2 < len)
      val = buf[offset + 2] << 16
    if (offset + 1 < len)
      val |= buf[offset + 1] << 8
    val |= buf[offset]
    if (offset + 3 < len)
      val = val + (buf[offset + 3] << 24 >>> 0)
  } else {
    if (offset + 1 < len)
      val = buf[offset + 1] << 16
    if (offset + 2 < len)
      val |= buf[offset + 2] << 8
    if (offset + 3 < len)
      val |= buf[offset + 3]
    val = val + (buf[offset] << 24 >>> 0)
  }
  return val
}

Buffer.prototype.readUInt32LE = function (offset, noAssert) {
  return _readUInt32(this, offset, true, noAssert)
}

Buffer.prototype.readUInt32BE = function (offset, noAssert) {
  return _readUInt32(this, offset, false, noAssert)
}

Buffer.prototype.readInt8 = function (offset, noAssert) {
  if (!noAssert) {
    assert(offset !== undefined && offset !== null,
        'missing offset')
    assert(offset < this.length, 'Trying to read beyond buffer length')
  }

  if (offset >= this.length)
    return

  var neg = this[offset] & 0x80
  if (neg)
    return (0xff - this[offset] + 1) * -1
  else
    return this[offset]
}

function _readInt16 (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 1 < buf.length, 'Trying to read beyond buffer length')
  }

  var len = buf.length
  if (offset >= len)
    return

  var val = _readUInt16(buf, offset, littleEndian, true)
  var neg = val & 0x8000
  if (neg)
    return (0xffff - val + 1) * -1
  else
    return val
}

Buffer.prototype.readInt16LE = function (offset, noAssert) {
  return _readInt16(this, offset, true, noAssert)
}

Buffer.prototype.readInt16BE = function (offset, noAssert) {
  return _readInt16(this, offset, false, noAssert)
}

function _readInt32 (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')
  }

  var len = buf.length
  if (offset >= len)
    return

  var val = _readUInt32(buf, offset, littleEndian, true)
  var neg = val & 0x80000000
  if (neg)
    return (0xffffffff - val + 1) * -1
  else
    return val
}

Buffer.prototype.readInt32LE = function (offset, noAssert) {
  return _readInt32(this, offset, true, noAssert)
}

Buffer.prototype.readInt32BE = function (offset, noAssert) {
  return _readInt32(this, offset, false, noAssert)
}

function _readFloat (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')
  }

  return ieee754.read(buf, offset, littleEndian, 23, 4)
}

Buffer.prototype.readFloatLE = function (offset, noAssert) {
  return _readFloat(this, offset, true, noAssert)
}

Buffer.prototype.readFloatBE = function (offset, noAssert) {
  return _readFloat(this, offset, false, noAssert)
}

function _readDouble (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset + 7 < buf.length, 'Trying to read beyond buffer length')
  }

  return ieee754.read(buf, offset, littleEndian, 52, 8)
}

Buffer.prototype.readDoubleLE = function (offset, noAssert) {
  return _readDouble(this, offset, true, noAssert)
}

Buffer.prototype.readDoubleBE = function (offset, noAssert) {
  return _readDouble(this, offset, false, noAssert)
}

Buffer.prototype.writeUInt8 = function (value, offset, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset < this.length, 'trying to write beyond buffer length')
    verifuint(value, 0xff)
  }

  if (offset >= this.length) return

  this[offset] = value
}

function _writeUInt16 (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 1 < buf.length, 'trying to write beyond buffer length')
    verifuint(value, 0xffff)
  }

  var len = buf.length
  if (offset >= len)
    return

  for (var i = 0, j = Math.min(len - offset, 2); i < j; i++) {
    buf[offset + i] =
        (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
            (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function (value, offset, noAssert) {
  _writeUInt16(this, value, offset, true, noAssert)
}

Buffer.prototype.writeUInt16BE = function (value, offset, noAssert) {
  _writeUInt16(this, value, offset, false, noAssert)
}

function _writeUInt32 (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 3 < buf.length, 'trying to write beyond buffer length')
    verifuint(value, 0xffffffff)
  }

  var len = buf.length
  if (offset >= len)
    return

  for (var i = 0, j = Math.min(len - offset, 4); i < j; i++) {
    buf[offset + i] =
        (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function (value, offset, noAssert) {
  _writeUInt32(this, value, offset, true, noAssert)
}

Buffer.prototype.writeUInt32BE = function (value, offset, noAssert) {
  _writeUInt32(this, value, offset, false, noAssert)
}

Buffer.prototype.writeInt8 = function (value, offset, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset < this.length, 'Trying to write beyond buffer length')
    verifsint(value, 0x7f, -0x80)
  }

  if (offset >= this.length)
    return

  if (value >= 0)
    this.writeUInt8(value, offset, noAssert)
  else
    this.writeUInt8(0xff + value + 1, offset, noAssert)
}

function _writeInt16 (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 1 < buf.length, 'Trying to write beyond buffer length')
    verifsint(value, 0x7fff, -0x8000)
  }

  var len = buf.length
  if (offset >= len)
    return

  if (value >= 0)
    _writeUInt16(buf, value, offset, littleEndian, noAssert)
  else
    _writeUInt16(buf, 0xffff + value + 1, offset, littleEndian, noAssert)
}

Buffer.prototype.writeInt16LE = function (value, offset, noAssert) {
  _writeInt16(this, value, offset, true, noAssert)
}

Buffer.prototype.writeInt16BE = function (value, offset, noAssert) {
  _writeInt16(this, value, offset, false, noAssert)
}

function _writeInt32 (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 3 < buf.length, 'Trying to write beyond buffer length')
    verifsint(value, 0x7fffffff, -0x80000000)
  }

  var len = buf.length
  if (offset >= len)
    return

  if (value >= 0)
    _writeUInt32(buf, value, offset, littleEndian, noAssert)
  else
    _writeUInt32(buf, 0xffffffff + value + 1, offset, littleEndian, noAssert)
}

Buffer.prototype.writeInt32LE = function (value, offset, noAssert) {
  _writeInt32(this, value, offset, true, noAssert)
}

Buffer.prototype.writeInt32BE = function (value, offset, noAssert) {
  _writeInt32(this, value, offset, false, noAssert)
}

function _writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 3 < buf.length, 'Trying to write beyond buffer length')
    verifIEEE754(value, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }

  var len = buf.length
  if (offset >= len)
    return

  ieee754.write(buf, value, offset, littleEndian, 23, 4)
}

Buffer.prototype.writeFloatLE = function (value, offset, noAssert) {
  _writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function (value, offset, noAssert) {
  _writeFloat(this, value, offset, false, noAssert)
}

function _writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 7 < buf.length,
        'Trying to write beyond buffer length')
    verifIEEE754(value, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }

  var len = buf.length
  if (offset >= len)
    return

  ieee754.write(buf, value, offset, littleEndian, 52, 8)
}

Buffer.prototype.writeDoubleLE = function (value, offset, noAssert) {
  _writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function (value, offset, noAssert) {
  _writeDouble(this, value, offset, false, noAssert)
}

// fill(value, start=0, end=buffer.length)
Buffer.prototype.fill = function (value, start, end) {
  if (!value) value = 0
  if (!start) start = 0
  if (!end) end = this.length

  if (typeof value === 'string') {
    value = value.charCodeAt(0)
  }

  assert(typeof value === 'number' && !isNaN(value), 'value is not a number')
  assert(end >= start, 'end < start')

  // Fill 0 bytes; we're done
  if (end === start) return
  if (this.length === 0) return

  assert(start >= 0 && start < this.length, 'start out of bounds')
  assert(end >= 0 && end <= this.length, 'end out of bounds')

  for (var i = start; i < end; i++) {
    this[i] = value
  }
}

Buffer.prototype.inspect = function () {
  var out = []
  var len = this.length
  for (var i = 0; i < len; i++) {
    out[i] = toHex(this[i])
    if (i === exports.INSPECT_MAX_BYTES) {
      out[i + 1] = '...'
      break
    }
  }
  return '<Buffer ' + out.join(' ') + '>'
}

/**
 * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.
 * Added in Node 0.12. Only available in browsers that support ArrayBuffer.
 */
Buffer.prototype.toArrayBuffer = function () {
  if (typeof Uint8Array !== 'undefined') {
    if (Buffer._useTypedArrays) {
      return (new Buffer(this)).buffer
    } else {
      var buf = new Uint8Array(this.length)
      for (var i = 0, len = buf.length; i < len; i += 1)
        buf[i] = this[i]
      return buf.buffer
    }
  } else {
    throw new Error('Buffer.toArrayBuffer not supported in this browser')
  }
}

// HELPER FUNCTIONS
// ================

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

var BP = Buffer.prototype

/**
 * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods
 */
Buffer._augment = function (arr) {
  arr._isBuffer = true

  // save reference to original Uint8Array get/set methods before overwriting
  arr._get = arr.get
  arr._set = arr.set

  // deprecated, will be removed in node 0.13+
  arr.get = BP.get
  arr.set = BP.set

  arr.write = BP.write
  arr.toString = BP.toString
  arr.toLocaleString = BP.toString
  arr.toJSON = BP.toJSON
  arr.copy = BP.copy
  arr.slice = BP.slice
  arr.readUInt8 = BP.readUInt8
  arr.readUInt16LE = BP.readUInt16LE
  arr.readUInt16BE = BP.readUInt16BE
  arr.readUInt32LE = BP.readUInt32LE
  arr.readUInt32BE = BP.readUInt32BE
  arr.readInt8 = BP.readInt8
  arr.readInt16LE = BP.readInt16LE
  arr.readInt16BE = BP.readInt16BE
  arr.readInt32LE = BP.readInt32LE
  arr.readInt32BE = BP.readInt32BE
  arr.readFloatLE = BP.readFloatLE
  arr.readFloatBE = BP.readFloatBE
  arr.readDoubleLE = BP.readDoubleLE
  arr.readDoubleBE = BP.readDoubleBE
  arr.writeUInt8 = BP.writeUInt8
  arr.writeUInt16LE = BP.writeUInt16LE
  arr.writeUInt16BE = BP.writeUInt16BE
  arr.writeUInt32LE = BP.writeUInt32LE
  arr.writeUInt32BE = BP.writeUInt32BE
  arr.writeInt8 = BP.writeInt8
  arr.writeInt16LE = BP.writeInt16LE
  arr.writeInt16BE = BP.writeInt16BE
  arr.writeInt32LE = BP.writeInt32LE
  arr.writeInt32BE = BP.writeInt32BE
  arr.writeFloatLE = BP.writeFloatLE
  arr.writeFloatBE = BP.writeFloatBE
  arr.writeDoubleLE = BP.writeDoubleLE
  arr.writeDoubleBE = BP.writeDoubleBE
  arr.fill = BP.fill
  arr.inspect = BP.inspect
  arr.toArrayBuffer = BP.toArrayBuffer

  return arr
}

// slice(start, end)
function clamp (index, len, defaultValue) {
  if (typeof index !== 'number') return defaultValue
  index = ~~index;  // Coerce to integer.
  if (index >= len) return len
  if (index >= 0) return index
  index += len
  if (index >= 0) return index
  return 0
}

function coerce (length) {
  // Coerce length to a number (possibly NaN), round up
  // in case it's fractional (e.g. 123.456) then do a
  // double negate to coerce a NaN to 0. Easy, right?
  length = ~~Math.ceil(+length)
  return length < 0 ? 0 : length
}

function isArray (subject) {
  return (Array.isArray || function (subject) {
    return Object.prototype.toString.call(subject) === '[object Array]'
  })(subject)
}

function isArrayish (subject) {
  return isArray(subject) || Buffer.isBuffer(subject) ||
      subject && typeof subject === 'object' &&
      typeof subject.length === 'number'
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    var b = str.charCodeAt(i)
    if (b <= 0x7F)
      byteArray.push(str.charCodeAt(i))
    else {
      var start = i
      if (b >= 0xD800 && b <= 0xDFFF) i++
      var h = encodeURIComponent(str.slice(start, i+1)).substr(1).split('%')
      for (var j = 0; j < h.length; j++)
        byteArray.push(parseInt(h[j], 16))
    }
  }
  return byteArray
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(str)
}

function blitBuffer (src, dst, offset, length) {
  var pos
  for (var i = 0; i < length; i++) {
    if ((i + offset >= dst.length) || (i >= src.length))
      break
    dst[i + offset] = src[i]
  }
  return i
}

function decodeUtf8Char (str) {
  try {
    return decodeURIComponent(str)
  } catch (err) {
    return String.fromCharCode(0xFFFD) // UTF 8 invalid char
  }
}

/*
 * We have to make sure that the value is a valid integer. This means that it
 * is non-negative. It has no fractional component and that it does not
 * exceed the maximum allowed value.
 */
function verifuint (value, max) {
  assert(typeof value === 'number', 'cannot write a non-number as a number')
  assert(value >= 0, 'specified a negative value for writing an unsigned value')
  assert(value <= max, 'value is larger than maximum value for type')
  assert(Math.floor(value) === value, 'value has a fractional component')
}

function verifsint (value, max, min) {
  assert(typeof value === 'number', 'cannot write a non-number as a number')
  assert(value <= max, 'value larger than maximum allowed value')
  assert(value >= min, 'value smaller than minimum allowed value')
  assert(Math.floor(value) === value, 'value has a fractional component')
}

function verifIEEE754 (value, max, min) {
  assert(typeof value === 'number', 'cannot write a non-number as a number')
  assert(value <= max, 'value larger than maximum allowed value')
  assert(value >= min, 'value smaller than minimum allowed value')
}

function assert (test, message) {
  if (!test) throw new Error(message || 'Failed assertion')
}

}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/buffer/index.js","/../node_modules/buffer")
},{"base64-js":1,"buffer":8,"ieee754":9,"pBGvAp":10}],9:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}

}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/ieee754/index.js","/../node_modules/ieee754")
},{"buffer":8,"pBGvAp":10}],10:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/process/browser.js","/../node_modules/process")
},{"buffer":8,"pBGvAp":10}],11:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
module.exports = get_blob()

function get_blob() {
  if(global.Blob) {
    try {
      new Blob(['asdf'], {type: 'text/plain'})
      return Blob
    } catch(err) {}
  }

  var Builder = global.WebKitBlobBuilder ||
                global.MozBlobBuilder ||
                global.MSBlobBuilder

  return function(parts, bag) {
    var builder = new Builder
      , endings = bag.endings
      , type = bag.type

    if(endings) for(var i = 0, len = parts.length; i < len; ++i) {
      builder.append(parts[i], endings)
    } else for(var i = 0, len = parts.length; i < len; ++i) {
      builder.append(parts[i])
    }

    return type ? builder.getBlob(type) : builder.getBlob()
  }
}

}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/w3c-blob/browser.js","/../node_modules/w3c-blob")
},{"buffer":8,"pBGvAp":10}],12:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
'use strict';

const ChainColor = {
	blue: 'rgb(86, 156, 214)',
	lightblue: 'rgb(156, 220, 254)',
	clear: 'rgba(0, 0, 0, 0)',
	gray: 'rgb(37, 37, 38)',
	lightgray: 'rgb(51, 51, 51)',
	white: 'rgb(212, 212, 212)',
	purple: 'rgb(197, 134, 192)',
	green: 'rgb(78, 201, 176)',
	red: 'rgb(252, 70, 66)',
	yellow: 'rgb(220, 220, 170)'
};

class ChainChild {
	/**
	 * @param {Chain} chain
	 */
	constructor(chain) {
		this.chain = chain;
		this.context = this.chain.context;
		this.fillStyle = ChainColor.clear;
		this.strokeStyle = ChainColor.clear;
		this.lineWidth = 1;
		this.font = "12px 'Menlo'";
		this.textBaseline = 'top';
		this.textAlign = 'left';
	}

	draw() {
		this.context.fillStyle = this.fillStyle;
		this.context.strokeStyle = this.strokeStyle;
		this.context.lineWidth = this.lineWidth;
		this.context.font = this.font;
		this.context.textAlign = this.textAlign;
		this.context.textBaseline = this.textBaseline;
	}
}

class ChainChildWithPosition extends ChainChild {
	/**
	 * @param {Chain} chain
	 * @param {Number} x
	 * @param {Number} y
	 */
	constructor(chain, x = 0, y = 0) {
		super(chain);
		this.x = x;
		this.y = y;
	}

	/**
	 * @param {Number} x
	 * @param {Number} y
	 */
	position(x, y) {
		this.x = x;
		this.y = y;
	}
}

class ChainText extends ChainChildWithPosition {
	/**
	 * @param {Chain} chain
	 * @param {String} text
	 * @param {Number} x
	 * @param {Number} y
	 */
	constructor(chain, text = '', x = 0, y = 0) {
		super(chain, x, y);
		this.fillStyle = ChainColor.white;
		this.text = text;
	}

	draw() {
		super.draw();
		this.context.fillText(this.text, this.x, this.y);
	}

	/**
	 * @param {String} horizontal
	 * @param {String} vertical
	 */
	align(horizontal = 'left', vertical = 'top') {
		this.textAlign = horizontal;
		this.textBaseline = vertical;
	}
}

class ChainCircle extends ChainChildWithPosition {
	/**
	 * @param {Chain} chain
	 * @param {Number} x
	 * @param {Number} y
	 * @param {Number} radius
	 */
	constructor(chain, x = 0, y = 0, radius = 0) {
		super(chain, x, y);
		this.radius = radius;
	}

	draw() {
		super.draw();
		this.context.beginPath();
		this.context.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
		this.context.closePath();
		this.context.stroke();
		this.context.fill();
	}

	/**
	 * @param {Number} x
	 * @param {Number} y
	 * @returns {Boolean}
	 */
	contains(x, y) {
		const dx = this.x - x;
		const dy = this.y - y;
		return dx * dx + dy * dy < this.radius * this.radius;
	}

	/**
	 * @param {Number} radius
	 */
	size(radius) {
		this.radius = radius;
	}
}

class ChainOutlineCircle extends ChainCircle {
	/**
	 * @param {Chain} chain
	 * @param {Number} x
	 * @param {Number} y
	 * @param {Number} radius
	 */
	constructor(chain, x = 0, y = 0, radius = 0) {
		super(chain, x, y, radius);
		this.lineWidth = 1;
		this.center = new ChainCircle(chain);
		this.outline = true;
		this.color = ChainColor.white;
		this.adjustCenter();
	}

	draw() {
		if (this.outline) {
			super.draw();
		}
		this.center.draw();
	}

	/**
	 * @param {Number} x
	 * @param {Number} y
	 */
	position(x, y) {
		super.position(x, y);
		this.adjustCenter();
	}

	/**
	 * @param {Number} radius
	 */
	size(radius) {
		super.size(radius);
		this.adjustCenter();
	}

	/**
	 * adjust position and radius of center circle
	 */
	adjustCenter() {
		this.center.position(this.x, this.y);
		this.center.size(this.radius / 1.7);
	}

	set color(color) {
		this.strokeStyle = color;
		this.center.fillStyle = color;
	}
}

class ChainCosLine extends ChainChild {
	/**
	 * @param {Chain} chain
	 */
	constructor(chain, ax = 0, ay = 0, bx = 0, by = 0) {
		super(chain);
		this.ax = ax;
		this.ay = ay;
		this.bx = bx;
		this.by = by;
		this.points = [];
		this.update();
	}

	draw() {
		super.draw();
		this.context.beginPath();
		this.points.forEach((point, i) => {
			this.context[(i === 0) ? 'moveTo' : 'lineTo'](point[0], point[1]);
		});
		this.context.stroke();
	}

	/**
	 * @param {Number} x
	 * @param {Number} y
	 */
	begin(x, y) {
		this.ax = x;
		this.ay = y;
		this.update();
	}

	/**
	 * @param {Number} x
	 * @param {Number} y
	 */
	end(x, y) {
		this.bx = x;
		this.by = y;
		this.update();
	}

	/**
	 * update points
	 */
	update() {
		this.points = [[this.ax, this.ay]];
		const w = this.bx - this.ax;
		const h = this.by - this.ay;
		const d = Math.sqrt(w * w + h * h);
		for (let i = 1; i < d + 1; i++) {
			const rate = i / d;
			const x = this.ax + w * rate;
			const y = this.ay + h * (1 + Math.cos(Math.PI - Math.PI * rate)) / 2;
			this.points.push([x, y]);
		}
	}
}

class ChainRope extends ChainCosLine {
	/**
	 * @param {Chain} chain
	 */
	constructor(chain) {
		super(chain);
		this.lineWidth = 3;
		this.color = ChainColor.green;
	}

	/**
	 * update points
	 */
	update() {
		this.points = [[]];
		const w = this.bx - this.ax;
		const h = this.by - this.ay;
		const d = Math.sqrt(w * w + h * h);
		const dt = (ChainPin.RADIUS + 2) * (ChainPin.RADIUS + 2);
		for (let i = 0; i < d + 1; i++) {
			const rate = i / d;
			const x = this.ax + w * rate;
			const y = this.ay + h * (1 + Math.cos(Math.PI - Math.PI * rate)) / 2;
			const da = (this.ax - x) * (this.ax - x) + (this.ay - y) * (this.ay - y);
			const db = (this.bx - x) * (this.bx - x) + (this.by - y) * (this.by - y);
			if (da < dt || db < dt) {
				continue;
			}
			this.points.push([x, y]);
		}
	}

	/**
	 * @param {String} color
	 */
	set color(color) {
		this.strokeStyle = color;
	}
}

class ChainBox extends ChainChildWithPosition {
	/**
	 * @param {Chain} chain
	 * @param {Number} x
	 * @param {Number} y
	 * @param {Number} width
	 * @param {Number} height
	 */
	constructor(chain, x = 0, y = 0, width = 0, height = 0) {
		super(chain, x, y);
		this.width = width;
		this.height = height;
	}

	draw() {
		super.draw();
		this.context.beginPath();
		this.context.rect(this.x, this.y, this.width, this.height);
		this.context.closePath();
		this.context.stroke();
		this.context.fill();
	}

	/**
	 * @param {Number} x
	 * @param {Number} y
	 * @returns {Boolean}
	 */
	contains(x, y) {
		return this.x < x && x < this.x + this.width && this.y < y && y < this.y + this.height;
	}

	/**
	 * @param {Number} width
	 * @param {Number} height
	 */
	size(width, height) {
		this.width = width;
		this.height = height;
	}
}

class ChainButton extends ChainBox {
	/**
	 * @param {Chain} chain
	 * @param {String} text
	 * @param {Function} clicker
	 */
	constructor(chain, text = '', click = () => { }) {
		super(chain);
		this.fillStyle = ChainColor.lightgray;
		this.text = new ChainText(this.chain, text);
		this.text.align('center', 'middle');
		this.size(this.context.measureText(text).width + Chain.PAD * 2, Chain.PAD * 2);
		this.click = click;
		this.adjustText();
	}

	draw() {
		super.draw();
		this.text.draw();
	}

	/**
	 * @param {Number} x
	 * @param {Number} y
	 */
	position(x, y) {
		super.position(x, y);
		this.adjustText();
	}

	/**
	 * @param {Number} width
	 * @param {Number} height
	 */
	size(width, height) {
		super.size(width, height);
		this.adjustText();
	}

	adjustText() {
		this.text.position(this.x + this.width / 2, this.y + this.height / 2);
	}
}

class ChainBlock extends ChainBox {
	/**
	 * @param {Chain} chain
	 * @param {String} id
	 * @param {Number} x
	 * @param {Number} y
	 * @param {Number} width
	 * @param {Number} height
	 */
	constructor(chain, id = '', x = 0, y = 0) {
		super(chain, x, y);
		this.strokeStyle = ChainColor.lightgray;
		this.fillStyle = ChainColor.gray;
		this.id = new ChainText(this.chain, id);
		this.id.align('left', 'middle');
		this.topPins = [];
		this.rightPins = [];
		this.bottomPins = [];
		this.leftPins = [];
		const close = new ChainButton(this.chain, '×', () => {
			this.chain.displayedBlocks = this.chain.displayedBlocks.filter((a) => a !== this);
			this.allPins.forEach((a) => this.chain.deleteLink(a));
		});
		close.fillStyle = ChainColor.red;
		this.buttons = [close];
		this.adjustWidth(100);
	}

	draw() {
		super.draw();
		this.id.draw();
		this.allPins.forEach((a) => a.draw());
		this.buttons.forEach((a) => a.draw());
	}

	/**
	 * @param {Number} x
	 * @param {Number} y
	 */
	position(x, y) {
		super.position(x, y);
		this.adjustChildren();
	}

	/**
	 * @param {Number} width
	 * @param {Number} height
	 */
	size(width, height) {
		super.size(width, height);
		this.adjustChildren();
	}

	/**
	 * @param {Number} x
	 * @param {Number} y
	 * @returns {ChainOutlineCircle}
	 */
	getPinContains(x, y) {
		const pin = this.allPins.filter((a) => a.contains(x, y))[0];
		return pin;
	}

	/**
	 * @param {Number} x
	 * @param {Number} y
	 * @returns {ChainButton}
	 */
	getButtonContains(x, y) {
		const button = this.buttons.filter((a) => a.contains(x, y))[0];
		return button;
	}

	/**
	 * @param {Number} minWidth
	 */
	adjustWidth(minWidth) {
		this.width = Math.max(minWidth, this.context.measureText(this.id.text).width + Chain.PAD * 2);
	}

	/**
	 * @param {Number} rate
	 */
	adjustHeightByRate(rate) {
		this.height = ChainPin.RADIUS * 2 + (ChainPin.RADIUS * 2.5) * (rate - 1);
	}

	adjustChildren() {
		const r = ChainPin.RADIUS;
		this.adjustHeightByRate(Math.max(2, this.leftPins.length, this.rightPins.length));
		this.id.position(this.x + Chain.PAD, this.y + Chain.PAD * 2 + (this.height - Chain.PAD * 2) / 2);
		this.buttons.forEach((a, i) => a.position(this.x + (a.width + 1) * i, this.y));
		this.topPins.forEach((a, i) => a.position(r + (r * 2.5) * i, -r * 2));
		this.rightPins.forEach((a, i) => a.position(this.width + r * 2, r + (r * 2.5) * i));
		this.bottomPins.forEach((a, i) => a.position(r + (r * 2.5) * i, this.height + r * 2));
		this.leftPins.forEach((a, i) => a.position(-r * 2, r + (r * 2.5) * i));
	}

	set value(value) {
		this.id.text = value;
	}

	get value() {
		return this.id.text;
	}

	get allPins() {
		return [].concat(this.topPins, this.rightPins, this.bottomPins, this.leftPins);
	}
}

class ChainLink extends ChainRope {
	/**
	 * @param {Chain} chain
	 * @param {ChainPin} beginPin
	 * @param {ChainPin} endPin
	 */
	constructor(chain, beginPin, endPin) {
		super(chain);
		beginPin.linked = true;
		endPin.linked = true;
		this.linkedPins = [];
		this.begin(beginPin);
		this.end(endPin);
	}

	draw() {
		this.begin(this.linkedPins[0]);
		this.end(this.linkedPins[1]);
		super.draw();
	}

	/**
	 * @param {ChainPin} pin
	 */
	begin(pin) {
		this.linkedPins[0] = pin;
		super.begin(this.linkedPins[0].x, this.linkedPins[0].y);
	}

	/**
	 * @param {ChainPin} pin
	 */
	end(pin) {
		this.linkedPins[1] = pin;
		super.end(this.linkedPins[1].x, this.linkedPins[1].y);
	}
}

class ChainPin extends ChainOutlineCircle {
	/**
	 * @param {Chain} chain
	 * @param {ChainBlock} parent
	 * @param {Number} type
	 * @param {Function} sender
	 */
	constructor(chain, parent, type, sender) {
		super(chain, 0, 0, ChainPin.RADIUS);
		this.parent = parent;
		this.type = type;
		this.sender = sender;
		this.value = null;
		this.toPins = [];
		this.linked = false;
		this.color = ChainColor.white;
	}

	draw() {
		this.outline = this.contains(this.chain.mousex, this.chain.mousey) || this.linked;
		super.draw();
	}

	/**
	 * relative position by parent
	 * @param {Number} x
	 * @param {Number} y
	 */
	position(x, y) {
		super.position(this.parent.x + x, this.parent.y + y);
	}

	/**
	 * @param {ChainPin} targetPin
	 */
	addLink(targetPin) {
		this.toPins.push(targetPin);
	}

	/**
	 * @param {ChainPin} targetPin
	 */
	deleteLink(targetPin) {
		this.toPins = this.toPins.filter((a) => a !== targetPin);
		if (this.toPins.length === 0) {
			this.linked = false;
		}
	}

	send() {
		this.toPins.forEach((pin) => {
			pin.value = this.sender();
		});
	}

	set color(color) {
		this.strokeStyle = color;
		switch (this.type) {
			case ChainPin.INPUT:
				this.center.fillStyle = ChainColor.clear;
				this.center.strokeStyle = color;
				break;
			case ChainPin.OUTPUT_RESULT:
			case ChainPin.OUTPUT_SELF:
				this.center.fillStyle = color;
				this.center.strokeStyle = ChainColor.clear;
				break;
			default:
				break;
		}
	}

	static get OUTPUT_RESULT() {
		return 0;
	}

	static get OUTPUT_SELF() {
		return 1;
	}

	static get INPUT() {
		return 2;
	}

	static get RADIUS() {
		return 7;
	}
}

class ChainFunctionBlock extends ChainBlock {
	/**
	 * @param {Chain} chain
	 * @param {String} id
	 * @param {Number} x
	 * @param {Number} y
	 */
	constructor(chain, id, x = 0, y = 0) {
		super(chain, id, x, y);
		this.strokeStyle = ChainColor.blue;
		this.result = new ChainPin(this.chain, this, ChainPin.OUTPUT_RESULT, () => {
			return this.expression;
		});
		this.result.color = ChainColor.purple;
		this.rightPins.push(this.result);
		this.self = new ChainPin(this.chain, this, ChainPin.INPUT);
		this.self.color = ChainColor.blue;
		this.params = [];
		this.addParam();
		this.buttons = this.buttons.concat([
			new ChainButton(this.chain, '+', () => {
				this.addParam();
			}),
			new ChainButton(this.chain, '-', () => {
				this.deleteParam();
			})
		]);
		this.adjustChildren();
	}

	addParam() {
		const param = new ChainPin(this.chain, this, ChainPin.INPUT);
		param.color = ChainColor.lightblue;
		this.params.push(param);
		this.leftPins = [].concat(this.self, this.params);
		this.adjustChildren();
	}

	deleteParam() {
		const param = this.params.pop();
		this.chain.deleteLink(param);
		this.leftPins = [].concat(this.self, this.params);
		this.adjustChildren();
	}

	get expression() {
		const self = this.self.value;
		const params = this.params.map((param) => (param.value) ? param.value : 'null').join(',');
		return (self) ? `${self}['${this.value}'](${params})` : `${this.value}(${params})`;
	}
}

class ChainValueBlock extends ChainBlock {
	/**
	 * @param {Chain} chain
	 * @param {String} id
	 * @param {Number} x
	 * @param {Number} y
	 */
	constructor(chain, id, x = 0, y = 0) {
		super(chain, id, x, y);
		this.strokeStyle = ChainColor.white;
		this.result = new ChainPin(this.chain, this, ChainPin.OUTPUT_RESULT, () => {
			return this.expression;
		});
		this.result.color = ChainColor.purple;
		this.rightPins.push(this.result);
		this.adjustChildren();
	}

	get expression() {
		return this.value;
	}
}

class ChainPropertyBlock extends ChainBlock {
	/**
	 * @param {Chain} chain
	 * @param {String} id
	 * @param {Number} x
	 * @param {Number} y
	 */
	constructor(chain, id, x = 0, y = 0) {
		super(chain, id, x, y);
		this.strokeStyle = ChainColor.white;
		this.self = new ChainPin(this.chain, this, ChainPin.INPUT);
		this.self.color = ChainColor.blue;
		this.leftPins.push(this.self);
		this.result = new ChainPin(this.chain, this, ChainPin.OUTPUT_RESULT, () => {
			return this.expression;
		});
		this.result.color = ChainColor.purple;
		this.rightPins.push(this.result);
		this.adjustChildren();
	}

	get expression() {
		const self = this.self.value;
		return `${self}['${this.value}']`;
	}
}

class ChainOperatorBlock extends ChainBlock {
	/**
	 * @param {Chain} chain
	 * @param {String} id
	 * @param {Number} x
	 * @param {Number} y
	 */
	constructor(chain, id, x = 0, y = 0) {
		super(chain, id, x, y);
		this.strokeStyle = ChainColor.white;
		this.width = 180;
		this.result = new ChainPin(this.chain, this, ChainPin.OUTPUT_RESULT, () => {
			return this.expression;
		});
		this.rightPins.push(this.result);
		this.result.color = ChainColor.purple;
		this.params = Array(2).fill().map(() => new ChainPin(this.chain, this, ChainPin.INPUT));
		this.leftPins = this.params;
		this.adjustWidth(50);
		this.adjustChildren();
	}

	get expression() {
		const params = this.params.map((param) => param.value);
		return params.join(this.value);
	}
}

class ChainViewBlock extends ChainBlock {
	/**
	 * @param {Chain} chain
	 * @param {Number} x
	 * @param {Number} y
	 */
	constructor(chain, x = 0, y = 0) {
		super(chain, '', x, y);
		this.index = -1;
		this.strokeStyle = ChainColor.white;
		this.view = new ChainPin(this.chain, this, ChainPin.INPUT);
		this.leftPins.push(this.view);
		this.adjustChildren();
	}

	set value(value) {
		this.id.text = value;
		this.adjustWidth(100);
		this.adjustChildren();
	}
}

class ChainIfBlock extends ChainBlock {
	/**
	 * @param {Chain} chain
	 * @param {Number} x
	 * @param {Number} y
	 */
	constructor(chain, x = 0, y = 0) {
		super(chain, 'if', x, y);
		this.strokeStyle = ChainColor.purple;
		this.params = Array(3).fill().map((param) => new ChainPin(this.chain, this, ChainPin.INPUT));
		this.leftPins = this.params;
		this.result = new ChainPin(this.chain, this, ChainPin.OUTPUT_RESULT, () => {
			return this.expression;
		});
		this.result.color = ChainColor.purple;
		this.rightPins.push(this.result);
		this.adjustChildren();
	}

	get expression() {
		return `${this.params[0].value} ? ${this.params[1].value} : ${this.params[2].value}`;
	}
}

class ChainRepeatBlock extends ChainBlock {
	/**
	 * @param {Chain} chain
	 * @param {Number} x
	 * @param {Number} y
	 */
	constructor(chain, x = 0, y = 0) {
		super(chain, 'repeat', x, y);
		this.strokeStyle = ChainColor.purple;
		this.repeatCounterIndex = new Date().getTime();
		this.params = Array(2).fill().map((param) => new ChainPin(this.chain, this, ChainPin.INPUT));
		this.index = new ChainPin(this.chain, this, ChainPin.OUTPUT_SELF, () => {
			return `_${this.repeatCounterIndex}`;
		});
		this.leftPins = this.params.concat(this.index);
		this.result = new ChainPin(this.chain, this, ChainPin.OUTPUT_RESULT, () => {
			return this.expression;
		});
		this.result.color = ChainColor.purple;
		this.rightPins = [this.result];
		this.adjustChildren();
	}

	get expression() {
		return `for (let _${this.repeatCounterIndex} = 0; _${this.repeatCounterIndex} < ${this.params[0].value}; _${this.repeatCounterIndex} += 1) ${this.params[1].value}`;
	}
}

// In current Chain, Functionize Block is not implemented.
class ChainFunctionizeBlock extends ChainBlock {
	/**
	 * @param {Chain} chain
	 * @param {Number} x
	 * @param {Number} y
	 */
	constructor(chain, x = 0, y = 0) {
		super(chain, 'Functionize', x, y);
		this.strokeStyle = ChainColor.blue;
		this.params = [new ChainPin(this.chain, this, ChainPin.INPUT)];
		this.leftPins = this.params;
		this.result = new ChainPin(this.chain, this, ChainPin.OUTPUT_RESULT, () => {
			return this.expression;
		});
		this.result.color = ChainColor.purple;
		this.rightPins.push(this.result);
		this.adjustChildren();
	}

	draw() {
		super.draw();
	}

	get expression() {
		return `(() => { ${this.param.value} })`;
	}
}

class Chain {
	/**
	 * @param {undefined} editor
	 * @param {HTMLIFrameElement} iframe
	 */
	constructor(editor, iframe) {
		// setup add-block
		const blockMenu = document.querySelector('.chain .block-menu');
		const blockMenuText = blockMenu.querySelector('input');
		blockMenuText.addEventListener('keydown', this.addBlockByKey.bind(this));
		const blockMenuSelect = blockMenu.querySelector('select');
		blockMenuSelect.addEventListener('change', this.hideMenuText.bind(this));
		blockMenu.querySelector('button').addEventListener('click', this.addBlockByClick.bind(this));
		this.blockMenu = blockMenu;
		this.blockMenuText = blockMenuText;
		this.blockMenuSelect = blockMenuSelect;

		// setup rename
		const renameArea = document.querySelector('.chain .rename-area');
		const renameText = renameArea.querySelector('input');
		renameText.addEventListener('keydown', this.renameBlock.bind(this));
		this.renameArea = renameArea;
		this.renameText = renameText;

		// create canvas
		const canvas = document.querySelector('#chain-canvas');
		canvas.addEventListener('mousemove', this.mousemove.bind(this));
		canvas.addEventListener('mousedown', this.mousedown.bind(this));
		canvas.addEventListener('mouseup', this.mouseup.bind(this));
		canvas.addEventListener('contextmenu', () => event.preventDefault());

		// set infomation of block
		this.constantIDBlockValues = ['view', 'if', 'repeat', 'functionize'];
		this.tableValueToConstructor = {
			function: ChainFunctionBlock,
			value: ChainValueBlock,
			property: ChainPropertyBlock,
			operator: ChainOperatorBlock,
			view: ChainViewBlock,
			if: ChainIfBlock,
			repeat: ChainRepeatBlock,
			functionize: ChainFunctionizeBlock
		};
		this.constantIDBlockConstructors = this.constantIDBlockValues.map((a) => this.tableValueToConstructor[a]);

		// set properties
		this.editor = editor;
		this.iframe = iframe;
		this.canvas = canvas;
		this.context = canvas.getContext('2d');
		this.status = Chain.DEFAULT;
		this.plugin = '';
		this.mainTarget = null;
		this.renameTarget = null;
		this.pmousex = 0;
		this.pmousey = 0;
		this.mousex = 0;
		this.mousey = 0;
		this.mousedowing = false;
		this.mouse = new ChainCircle(this, 0, 0, 10);
		this.mouse.fillStyle = 'rgba(255, 255, 255, 0.2)';
		this.expressions = [];

		// set blocks, links
		this.rope = new ChainRope(this);
		this.displayedBlocks = [];
		this.linkedBlocks = [];
		this.links = [];

		// When window is resized, canvas fits parent element.
		this.fit();
		window.addEventListener('resize', this.fit.bind(this));

		// Receiving message, set message to View Blocks
		window.addEventListener('message', this.updateViewBlocks.bind(this));

		// contextmenu don't be shown
		window.addEventListener('contextmenu', () => event.preventDefault());

		// draw is main loop
		this.draw();
	}

	draw() {
		this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
		this.displayedBlocks.forEach((a) => a.draw());
		this.links.forEach((a) => a.draw());
		this.mouse.draw();
		if (this.status === Chain.LINK) {
			this.rope.draw();
		}
		requestAnimationFrame(this.draw.bind(this));
	}

	fit() {
		const rect = this.canvas.parentElement.getBoundingClientRect();
		this.canvas.width = rect.width;
		this.canvas.height = rect.height;
	}

	hideMenuText() {
		this.blockMenuText.style.display = (!this.constantIDBlockValues.includes(event.target.value)) ? '' : 'none';
		this.blockMenuText.focus();
	}

	/**
	 * @param {String} type
	 * @param {Number} x
	 * @param {Number} y
	 * @param {String} value
	 * @returns {ChainBlock}
	 */
	createBlock(type, value, x, y) {
		const Block = this.tableValueToConstructor[type];
		const block = this.constantIDBlockValues.includes(type) ? new Block(this, x, y) : new Block(this, value, x, y);
		return block;
	}

	addBlockByKey() {
		const value = this.blockMenuText.value.trim();
		const select = this.blockMenuSelect.value;
		if (event.keyCode !== 13 || value === '') {
			return;
		}
		const x = parseInt(this.blockMenu.style.left, 10);
		const y = parseInt(this.blockMenu.style.top, 10);
		this.displayedBlocks.push(this.createBlock(select, value, x, y));
		this.blockMenu.style.display = 'none';
	}

	addBlockByClick() {
		const value = this.blockMenuText.value.trim();
		const select = this.blockMenuSelect.value;
		if (value === '' && (!this.constantIDBlockValues.includes(select))) {
			return;
		}
		const x = parseInt(this.blockMenu.style.left, 10);
		const y = parseInt(this.blockMenu.style.top, 10);
		this.displayedBlocks.push(this.createBlock(select, value, x, y));
		this.blockMenu.style.display = 'none';
	}

	mousemove() {
		const rect = this.canvas.getBoundingClientRect();
		const x = event.clientX - rect.left;
		const y = event.clientY - rect.top;
		const dx = this.mousex - this.pmousex;
		const dy = this.mousey - this.pmousey;
		this.pmousex = this.mousex;
		this.pmousey = this.mousey;
		this.mousex = x;
		this.mousey = y;
		this.mouse.x = this.mousex;
		this.mouse.y = this.mousey;

		if (this.mousedowing) {
			switch (this.status) {
				case Chain.MOVE_BLOCK:
					// if there is selected function, move it
					this.mainTarget.position(this.mainTarget.x + dx, this.mainTarget.y + dy);
					break;
				case Chain.LINK:
					this.rope.end(this.mousex, this.mousey);
					break;
				default:
					if (this.mainTarget && this.mainTarget.constructor === ChainButton && !this.mainTarget.contains(this.mousex, this.mousey)) {
						this.mainTarget = null;
					}
					break;
			}
		}
	}

	mousedown() {
		this.mousedowing = true;
		this.blockMenu.style.display = 'none';
		this.renameArea.style.display = 'none';

		// select one of pin or block
		this.displayedBlocks.reverse().every((block) => {
			const pin = block.getPinContains(this.mousex, this.mousey);
			const button = block.getButtonContains(this.mousex, this.mousey);
			switch (true) {
				case pin && event.button === 0:
					// Input pin has only one link. So, if already has link, delete its link.
					if (pin.type === ChainPin.INPUT) {
						this.deleteLink(pin);
					}

					this.status = Chain.LINK
					this.mainTarget = pin;
					pin.linked = true;
					this.rope.begin(this.mainTarget.x, this.mainTarget.y);
					this.rope.end(this.mainTarget.x, this.mainTarget.y);

					this.sortBlocks(block);
					return false;
				case button && event.button === 0:
					this.mainTarget = button;
					return false;
				case block.contains(this.mousex, this.mousey) && event.button === 0:
					// select box
					this.mainTarget = block;
					this.status = Chain.MOVE_BLOCK

					this.sortBlocks(block);
					return false;
				default:
					return true;
			}
		});
	}

	mouseup() {
		const block = this.displayedBlocks.reverse().filter((a) => a.contains(this.mousex, this.mousey))[0];
		switch (true) {
			case this.status === Chain.LINK:
				if (this.mainTarget.type === ChainPin.INPUT || ([ChainPin.OUTPUT_RESULT, ChainPin.OUTPUT_SELF].includes(this.mainTarget.type) && this.mainTarget.toPins.length === 0)) {
					this.mainTarget.linked = false;
				}
				this.displayedBlocks.every((block) => {
					const pin = block.getPinContains(this.mousex, this.mousey);
					if (!pin) {
						return true;
					}
					const pins = [this.mainTarget, pin].sort((a, b) => a.type - b.type);

					// if two pins isn't output and input, don't link.
					if (!['02', '12'].includes(pins.map((a) => a.type).join(''))) {
						return false;
					}

					// delete link that has input.
					this.deleteLink(pins[1]);
					this.links.push(this.createLink(pins[0], pins[1]));
					return false;
				});
				break;
			case this.status === Chain.MOVE_BLOCK:
				break;
			case this.status === Chain.DEFAULT && event.button === 0:
				if (this.mainTarget && this.mainTarget.constructor === ChainButton) {
					this.mainTarget.click();
				}
				break;
			case block && this.status === Chain.DEFAULT && event.button === 2 && !this.constantIDBlockConstructors.includes(block.constructor):
				this.renameTarget = block;
				this.renameArea.style.display = '';
				this.renameText.value = this.renameTarget.value;
				this.renameText.focus();
				this.renameArea.style.left = `${this.mousex}px`;
				this.renameArea.style.top = `${this.mousey}px`;
				break;
			case !block && this.status === Chain.DEFAULT && event.button === 2:
				this.blockMenu.style.display = '';
				this.blockMenuSelect.focus();
				this.blockMenuText.value = '';
				this.blockMenu.style.left = this.mousex + 'px';
				this.blockMenu.style.top = this.mousey + 'px';
				break;
			default:
				break;
		}

		this.updateFrame();

		// reset properties
		this.mousedowing = false;
		this.mainTarget = null;
		this.status = Chain.DEFAULT;
	}

	renameBlock() {
		const value = this.renameText.value.trim();
		if (event.keyCode !== 13 || value === '') {
			return;
		}
		this.renameTarget.value = value;
		this.renameArea.style.display = 'none';
		this.updateFrame();
	}

	/**
	 * if a link contains targetPin, delete its link
	 * @param {ChainPin} targetPin
	 */
	deleteLink(targetPin) {
		this.links = this.links.filter((link) => {
			if (link.linkedPins.includes(targetPin)) {
				const outputPin = link.linkedPins[0];
				const inputPin = link.linkedPins[1];
				outputPin.deleteLink(inputPin);
				inputPin.value = null;
				inputPin.linked = false;

				// if parent doesn't have any link, delete it from linkedBlocks.
				[outputPin.parent, inputPin.parent].forEach((parent) => {
					if (parent.allPins.filter((pin) => pin.linked).length > 0) {
						return;
					}
					this.linkedBlocks = this.linkedBlocks.filter((a) => a !== parent);
				});
				return false;
			}
			return true;
		});
	}

	/**
	 * @param {ChainPin} outputPin
	 * @param {ChainPin} inputPin
	 * @returns {ChainLink}
	 */
	createLink(outputPin, inputPin) {
		const link = new ChainLink(this, outputPin, inputPin);
		outputPin.addLink(inputPin);
		if (!this.linkedBlocks.includes(inputPin.parent)) {
			this.linkedBlocks.push(inputPin.parent);
		}
		const outputIndex = this.linkedBlocks.indexOf(inputPin.parent) - 1;
		// if linkedBlocks has parent of outputPin, delete it.
		this.linkedBlocks = this.linkedBlocks.filter((a) => a !== outputPin.parent);
		outputIndex > -1 ? this.linkedBlocks.splice(outputIndex, 0, outputPin.parent) : this.linkedBlocks.unshift(outputPin.parent);
		return link;
	}

	/**
	 * if a link contains targetPin, return its link
	 * @param {ChainPin} targetPin
	 */
	getLink(targetPin) {
		const link = this.links.filter((link) => link.linkedPins.includes(targetPin))[0];
		return link;
	}

	/**
	 * Sorting Blocks that targetBlock is at the head
	 * @param {ChainBlock} targetBlock
	 */
	sortBlocks(targetBlock) {
		this.displayedBlocks = this.displayedBlocks.sort((a, b) => (a === targetBlock) ? 1 : 0);
	}

	/**
	 * set new code to iframe
	 */
	updateFrame() {
		// reset index of view
		this.displayedBlocks.forEach((a) => {
			if (a.constructor === ChainViewBlock) {
				a.index = -1;
				a.value = '';
			}
		});

		// send all
		this.expressions = [];
		let viewIndex = 0;
		// set expressions to iframe
		this.linkedBlocks.forEach((block) => {
			block.allPins.forEach((pin) => {
				if (pin.type === ChainPin.INPUT) {
					return;
				}
				const isExecutableBlock = [ChainFunctionBlock, ChainOperatorBlock, ChainIfBlock, ChainRepeatBlock].includes(block.constructor);
				const viewBlocks = pin.toPins.map(((a) => a.parent)).filter((a) => a.constructor === ChainViewBlock);
				switch (true) {
					case pin.linked && viewBlocks.length === 0:
						pin.send();
						break;
					case pin.linked && viewBlocks.length > 0:
						// set index of view
						viewBlocks.forEach((a) => a.index = viewIndex);
					case !pin.linked && isExecutableBlock && pin.type === ChainPin.OUTPUT_RESULT:
						this.expressions.push(block.expression);
						viewIndex += 1;
						break;
					default:
						break;
				}
			});
		});

		const d = new DOMParser().parseFromString(this.editor.getValue(), 'text/html');
		const s = document.createElement('script');
		s.innerText = `window.parent.postMessage(${JSON.stringify(this.expressions)}.map((a) =>  { try { return String((0, eval)(a)); } catch (e) { return String(e); } }), '*')`;
		d.body.appendChild(s);
		this.iframe.src = `data:text/html, ${[d.doctype ? new XMLSerializer().serializeToString(d.doctype) : '', d.documentElement.outerHTML].join('')}`;
	}

	/**
	 * set a return value to View Block
	 */
	updateViewBlocks() {
		const data = event.data;
		this.linkedBlocks.forEach((block) => {
			if (block.constructor !== ChainViewBlock) {
				return;
			}
			const index = block.index;
			block.value = data[index];
		});
	}

	static get DEFAULT() {
		return 0;
	}

	static get MOVE_BLOCK() {
		return 1;
	}

	static get LINK() {
		return 2;
	}

	static get PAD() {
		return 7;
	}
}

module.exports = Chain;
}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/chain.js","/")
},{"buffer":8,"pBGvAp":10}],13:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
'use strict';

const Chain = require('./chain.js');
const ace = require('brace');
require('brace/mode/html');
require('brace/theme/clouds_midnight');

const modes = ['#chain-canvas', '#chain-html', '#chain-window'];
const elements = modes.map((a) => document.querySelector(a));
const editor = ace.edit('chain-html');
const chain = new Chain(editor, elements[2]);

//set default value of editor
editor.getSession().setValue([
	'<!doctype html>',
	'<html>',
	'<head>',
	'',
	'</head>',
	'<body>',
	'	<h1>Hello, World!</h1>',
	'</body>',
	'</html>'
].join('\n'));
editor.getSession().setMode('ace/mode/html');
editor.setTheme('ace/theme/clouds_midnight');

const changeMode = () => {
	const hash = location.hash;
	elements.forEach((a) => a.style.display = 'none');
	const index = Math.max(modes.indexOf(hash), 0);
	elements[index].style.display = '';
	chain.updateFrame();
};

setTimeout(changeMode, 0);
window.addEventListener('hashchange', changeMode);
}).call(this,require("pBGvAp"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_d3bf5599.js","/")
},{"./chain.js":12,"brace":2,"brace/mode/html":3,"brace/theme/clouds_midnight":4,"buffer":8,"pBGvAp":10}]},{},[13])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ocmt5L0dvb2dsZSDjg4jjgpnjg6njgqTjg5XjgpkvcHJvZ3JhbW1pbmcvbm9kZWpzL2NoYWluL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvaHJreS9Hb29nbGUg44OI44KZ44Op44Kk44OV44KZL3Byb2dyYW1taW5nL25vZGVqcy9jaGFpbi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2xpYi9iNjQuanMiLCIvVXNlcnMvaHJreS9Hb29nbGUg44OI44KZ44Op44Kk44OV44KZL3Byb2dyYW1taW5nL25vZGVqcy9jaGFpbi9ub2RlX21vZHVsZXMvYnJhY2UvaW5kZXguanMiLCIvVXNlcnMvaHJreS9Hb29nbGUg44OI44KZ44Op44Kk44OV44KZL3Byb2dyYW1taW5nL25vZGVqcy9jaGFpbi9ub2RlX21vZHVsZXMvYnJhY2UvbW9kZS9odG1sLmpzIiwiL1VzZXJzL2hya3kvR29vZ2xlIOODiOOCmeODqeOCpOODleOCmS9wcm9ncmFtbWluZy9ub2RlanMvY2hhaW4vbm9kZV9tb2R1bGVzL2JyYWNlL3RoZW1lL2Nsb3Vkc19taWRuaWdodC5qcyIsIi9Vc2Vycy9ocmt5L0dvb2dsZSDjg4jjgpnjg6njgqTjg5XjgpkvcHJvZ3JhbW1pbmcvbm9kZWpzL2NoYWluL25vZGVfbW9kdWxlcy9icmFjZS93b3JrZXIvY3NzLmpzIiwiL1VzZXJzL2hya3kvR29vZ2xlIOODiOOCmeODqeOCpOODleOCmS9wcm9ncmFtbWluZy9ub2RlanMvY2hhaW4vbm9kZV9tb2R1bGVzL2JyYWNlL3dvcmtlci9odG1sLmpzIiwiL1VzZXJzL2hya3kvR29vZ2xlIOODiOOCmeODqeOCpOODleOCmS9wcm9ncmFtbWluZy9ub2RlanMvY2hhaW4vbm9kZV9tb2R1bGVzL2JyYWNlL3dvcmtlci9qYXZhc2NyaXB0LmpzIiwiL1VzZXJzL2hya3kvR29vZ2xlIOODiOOCmeODqeOCpOODleOCmS9wcm9ncmFtbWluZy9ub2RlanMvY2hhaW4vbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qcyIsIi9Vc2Vycy9ocmt5L0dvb2dsZSDjg4jjgpnjg6njgqTjg5XjgpkvcHJvZ3JhbW1pbmcvbm9kZWpzL2NoYWluL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwiL1VzZXJzL2hya3kvR29vZ2xlIOODiOOCmeODqeOCpOODleOCmS9wcm9ncmFtbWluZy9ub2RlanMvY2hhaW4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIi9Vc2Vycy9ocmt5L0dvb2dsZSDjg4jjgpnjg6njgqTjg5XjgpkvcHJvZ3JhbW1pbmcvbm9kZWpzL2NoYWluL25vZGVfbW9kdWxlcy93M2MtYmxvYi9icm93c2VyLmpzIiwiL1VzZXJzL2hya3kvR29vZ2xlIOODiOOCmeODqeOCpOODleOCmS9wcm9ncmFtbWluZy9ub2RlanMvY2hhaW4vc3JjL2NoYWluLmpzIiwiL1VzZXJzL2hya3kvR29vZ2xlIOODiOOCmeODqeOCpOODleOCmS9wcm9ncmFtbWluZy9ub2RlanMvY2hhaW4vc3JjL2Zha2VfZDNiZjU1OTkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDenZrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5dEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsR0E7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2bENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNodkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsLEJ1ZmZlcixfX2FyZ3VtZW50MCxfX2FyZ3VtZW50MSxfX2FyZ3VtZW50MixfX2FyZ3VtZW50MyxfX2ZpbGVuYW1lLF9fZGlybmFtZSl7XG52YXIgbG9va3VwID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXG47KGZ1bmN0aW9uIChleHBvcnRzKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuICB2YXIgQXJyID0gKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJylcbiAgICA/IFVpbnQ4QXJyYXlcbiAgICA6IEFycmF5XG5cblx0dmFyIFBMVVMgICA9ICcrJy5jaGFyQ29kZUF0KDApXG5cdHZhciBTTEFTSCAgPSAnLycuY2hhckNvZGVBdCgwKVxuXHR2YXIgTlVNQkVSID0gJzAnLmNoYXJDb2RlQXQoMClcblx0dmFyIExPV0VSICA9ICdhJy5jaGFyQ29kZUF0KDApXG5cdHZhciBVUFBFUiAgPSAnQScuY2hhckNvZGVBdCgwKVxuXHR2YXIgUExVU19VUkxfU0FGRSA9ICctJy5jaGFyQ29kZUF0KDApXG5cdHZhciBTTEFTSF9VUkxfU0FGRSA9ICdfJy5jaGFyQ29kZUF0KDApXG5cblx0ZnVuY3Rpb24gZGVjb2RlIChlbHQpIHtcblx0XHR2YXIgY29kZSA9IGVsdC5jaGFyQ29kZUF0KDApXG5cdFx0aWYgKGNvZGUgPT09IFBMVVMgfHxcblx0XHQgICAgY29kZSA9PT0gUExVU19VUkxfU0FGRSlcblx0XHRcdHJldHVybiA2MiAvLyAnKydcblx0XHRpZiAoY29kZSA9PT0gU0xBU0ggfHxcblx0XHQgICAgY29kZSA9PT0gU0xBU0hfVVJMX1NBRkUpXG5cdFx0XHRyZXR1cm4gNjMgLy8gJy8nXG5cdFx0aWYgKGNvZGUgPCBOVU1CRVIpXG5cdFx0XHRyZXR1cm4gLTEgLy9ubyBtYXRjaFxuXHRcdGlmIChjb2RlIDwgTlVNQkVSICsgMTApXG5cdFx0XHRyZXR1cm4gY29kZSAtIE5VTUJFUiArIDI2ICsgMjZcblx0XHRpZiAoY29kZSA8IFVQUEVSICsgMjYpXG5cdFx0XHRyZXR1cm4gY29kZSAtIFVQUEVSXG5cdFx0aWYgKGNvZGUgPCBMT1dFUiArIDI2KVxuXHRcdFx0cmV0dXJuIGNvZGUgLSBMT1dFUiArIDI2XG5cdH1cblxuXHRmdW5jdGlvbiBiNjRUb0J5dGVBcnJheSAoYjY0KSB7XG5cdFx0dmFyIGksIGosIGwsIHRtcCwgcGxhY2VIb2xkZXJzLCBhcnJcblxuXHRcdGlmIChiNjQubGVuZ3RoICUgNCA+IDApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG5cdFx0fVxuXG5cdFx0Ly8gdGhlIG51bWJlciBvZiBlcXVhbCBzaWducyAocGxhY2UgaG9sZGVycylcblx0XHQvLyBpZiB0aGVyZSBhcmUgdHdvIHBsYWNlaG9sZGVycywgdGhhbiB0aGUgdHdvIGNoYXJhY3RlcnMgYmVmb3JlIGl0XG5cdFx0Ly8gcmVwcmVzZW50IG9uZSBieXRlXG5cdFx0Ly8gaWYgdGhlcmUgaXMgb25seSBvbmUsIHRoZW4gdGhlIHRocmVlIGNoYXJhY3RlcnMgYmVmb3JlIGl0IHJlcHJlc2VudCAyIGJ5dGVzXG5cdFx0Ly8gdGhpcyBpcyBqdXN0IGEgY2hlYXAgaGFjayB0byBub3QgZG8gaW5kZXhPZiB0d2ljZVxuXHRcdHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cdFx0cGxhY2VIb2xkZXJzID0gJz0nID09PSBiNjQuY2hhckF0KGxlbiAtIDIpID8gMiA6ICc9JyA9PT0gYjY0LmNoYXJBdChsZW4gLSAxKSA/IDEgOiAwXG5cblx0XHQvLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcblx0XHRhcnIgPSBuZXcgQXJyKGI2NC5sZW5ndGggKiAzIC8gNCAtIHBsYWNlSG9sZGVycylcblxuXHRcdC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcblx0XHRsID0gcGxhY2VIb2xkZXJzID4gMCA/IGI2NC5sZW5ndGggLSA0IDogYjY0Lmxlbmd0aFxuXG5cdFx0dmFyIEwgPSAwXG5cblx0XHRmdW5jdGlvbiBwdXNoICh2KSB7XG5cdFx0XHRhcnJbTCsrXSA9IHZcblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwLCBqID0gMDsgaSA8IGw7IGkgKz0gNCwgaiArPSAzKSB7XG5cdFx0XHR0bXAgPSAoZGVjb2RlKGI2NC5jaGFyQXQoaSkpIDw8IDE4KSB8IChkZWNvZGUoYjY0LmNoYXJBdChpICsgMSkpIDw8IDEyKSB8IChkZWNvZGUoYjY0LmNoYXJBdChpICsgMikpIDw8IDYpIHwgZGVjb2RlKGI2NC5jaGFyQXQoaSArIDMpKVxuXHRcdFx0cHVzaCgodG1wICYgMHhGRjAwMDApID4+IDE2KVxuXHRcdFx0cHVzaCgodG1wICYgMHhGRjAwKSA+PiA4KVxuXHRcdFx0cHVzaCh0bXAgJiAweEZGKVxuXHRcdH1cblxuXHRcdGlmIChwbGFjZUhvbGRlcnMgPT09IDIpIHtcblx0XHRcdHRtcCA9IChkZWNvZGUoYjY0LmNoYXJBdChpKSkgPDwgMikgfCAoZGVjb2RlKGI2NC5jaGFyQXQoaSArIDEpKSA+PiA0KVxuXHRcdFx0cHVzaCh0bXAgJiAweEZGKVxuXHRcdH0gZWxzZSBpZiAocGxhY2VIb2xkZXJzID09PSAxKSB7XG5cdFx0XHR0bXAgPSAoZGVjb2RlKGI2NC5jaGFyQXQoaSkpIDw8IDEwKSB8IChkZWNvZGUoYjY0LmNoYXJBdChpICsgMSkpIDw8IDQpIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAyKSkgPj4gMilcblx0XHRcdHB1c2goKHRtcCA+PiA4KSAmIDB4RkYpXG5cdFx0XHRwdXNoKHRtcCAmIDB4RkYpXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFyclxuXHR9XG5cblx0ZnVuY3Rpb24gdWludDhUb0Jhc2U2NCAodWludDgpIHtcblx0XHR2YXIgaSxcblx0XHRcdGV4dHJhQnl0ZXMgPSB1aW50OC5sZW5ndGggJSAzLCAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuXHRcdFx0b3V0cHV0ID0gXCJcIixcblx0XHRcdHRlbXAsIGxlbmd0aFxuXG5cdFx0ZnVuY3Rpb24gZW5jb2RlIChudW0pIHtcblx0XHRcdHJldHVybiBsb29rdXAuY2hhckF0KG51bSlcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuXHRcdFx0cmV0dXJuIGVuY29kZShudW0gPj4gMTggJiAweDNGKSArIGVuY29kZShudW0gPj4gMTIgJiAweDNGKSArIGVuY29kZShudW0gPj4gNiAmIDB4M0YpICsgZW5jb2RlKG51bSAmIDB4M0YpXG5cdFx0fVxuXG5cdFx0Ly8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuXHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IHVpbnQ4Lmxlbmd0aCAtIGV4dHJhQnl0ZXM7IGkgPCBsZW5ndGg7IGkgKz0gMykge1xuXHRcdFx0dGVtcCA9ICh1aW50OFtpXSA8PCAxNikgKyAodWludDhbaSArIDFdIDw8IDgpICsgKHVpbnQ4W2kgKyAyXSlcblx0XHRcdG91dHB1dCArPSB0cmlwbGV0VG9CYXNlNjQodGVtcClcblx0XHR9XG5cblx0XHQvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG5cdFx0c3dpdGNoIChleHRyYUJ5dGVzKSB7XG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdHRlbXAgPSB1aW50OFt1aW50OC5sZW5ndGggLSAxXVxuXHRcdFx0XHRvdXRwdXQgKz0gZW5jb2RlKHRlbXAgPj4gMilcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSgodGVtcCA8PCA0KSAmIDB4M0YpXG5cdFx0XHRcdG91dHB1dCArPSAnPT0nXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHRlbXAgPSAodWludDhbdWludDgubGVuZ3RoIC0gMl0gPDwgOCkgKyAodWludDhbdWludDgubGVuZ3RoIC0gMV0pXG5cdFx0XHRcdG91dHB1dCArPSBlbmNvZGUodGVtcCA+PiAxMClcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSgodGVtcCA+PiA0KSAmIDB4M0YpXG5cdFx0XHRcdG91dHB1dCArPSBlbmNvZGUoKHRlbXAgPDwgMikgJiAweDNGKVxuXHRcdFx0XHRvdXRwdXQgKz0gJz0nXG5cdFx0XHRcdGJyZWFrXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG91dHB1dFxuXHR9XG5cblx0ZXhwb3J0cy50b0J5dGVBcnJheSA9IGI2NFRvQnl0ZUFycmF5XG5cdGV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IHVpbnQ4VG9CYXNlNjRcbn0odHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnID8gKHRoaXMuYmFzZTY0anMgPSB7fSkgOiBleHBvcnRzKSlcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJwQkd2QXBcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi8uLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2xpYi9iNjQuanNcIixcIi8uLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2xpYlwiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbi8qICoqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKipcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAsIEFqYXgub3JnIEIuVi5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICAgICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgQWpheC5vcmcgQi5WLiBub3IgdGhlXG4gKiAgICAgICBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0c1xuICogICAgICAgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgQUpBWC5PUkcgQi5WLiBCRSBMSUFCTEUgRk9SIEFOWVxuICogRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbiAqIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbiAqIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICogT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqXG4gKiAqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKiAqL1xuXG4vKipcbiAqIERlZmluZSBhIG1vZHVsZSBhbG9uZyB3aXRoIGEgcGF5bG9hZFxuICogQHBhcmFtIG1vZHVsZSBhIG5hbWUgZm9yIHRoZSBwYXlsb2FkXG4gKiBAcGFyYW0gcGF5bG9hZCBhIGZ1bmN0aW9uIHRvIGNhbGwgd2l0aCAoYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgcGFyYW1zXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuXG52YXIgQUNFX05BTUVTUEFDRSA9IFwiYWNlXCI7XG5cbnZhciBnbG9iYWwgPSAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSgpO1xuaWYgKCFnbG9iYWwgJiYgdHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiKSBnbG9iYWwgPSB3aW5kb3c7IC8vIHN0cmljdCBtb2RlXG5cblxuaWYgKCFBQ0VfTkFNRVNQQUNFICYmIHR5cGVvZiBhY2VxdWlyZWpzICE9PSBcInVuZGVmaW5lZFwiKVxuICAgIHJldHVybjtcblxuXG52YXIgZGVmaW5lID0gZnVuY3Rpb24obW9kdWxlLCBkZXBzLCBwYXlsb2FkKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKGRlZmluZS5vcmlnaW5hbClcbiAgICAgICAgICAgIGRlZmluZS5vcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJkcm9wcGluZyBtb2R1bGUgYmVjYXVzZSBkZWZpbmUgd2FzblxcJ3QgYSBzdHJpbmcuXCIpO1xuICAgICAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMilcbiAgICAgICAgcGF5bG9hZCA9IGRlcHM7XG4gICAgaWYgKCFkZWZpbmUubW9kdWxlc1ttb2R1bGVdKSB7XG4gICAgICAgIGRlZmluZS5wYXlsb2Fkc1ttb2R1bGVdID0gcGF5bG9hZDtcbiAgICAgICAgZGVmaW5lLm1vZHVsZXNbbW9kdWxlXSA9IG51bGw7XG4gICAgfVxufTtcblxuZGVmaW5lLm1vZHVsZXMgPSB7fTtcbmRlZmluZS5wYXlsb2FkcyA9IHt9O1xuXG4vKipcbiAqIEdldCBhdCBmdW5jdGlvbmFsaXR5IGRlZmluZSgpZWQgdXNpbmcgdGhlIGZ1bmN0aW9uIGFib3ZlXG4gKi9cbnZhciBfYWNlcXVpcmUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHZhciBwYXlsb2FkID0gbG9va3VwKHBhcmVudElkLCBtb2R1bGUpO1xuICAgICAgICBpZiAocGF5bG9hZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG1vZHVsZSkgPT09IFwiW29iamVjdCBBcnJheV1cIikge1xuICAgICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbW9kdWxlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgdmFyIGRlcCA9IGxvb2t1cChwYXJlbnRJZCwgbW9kdWxlW2ldKTtcbiAgICAgICAgICAgIGlmIChkZXAgPT0gdW5kZWZpbmVkICYmIGFjZXF1aXJlLm9yaWdpbmFsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGRlcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrICYmIGNhbGxiYWNrLmFwcGx5KG51bGwsIHBhcmFtcykgfHwgdHJ1ZTtcbiAgICB9XG59O1xuXG52YXIgYWNlcXVpcmUgPSBmdW5jdGlvbihtb2R1bGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHBhY2thZ2VkTW9kdWxlID0gX2FjZXF1aXJlKFwiXCIsIG1vZHVsZSwgY2FsbGJhY2spO1xuICAgIGlmIChwYWNrYWdlZE1vZHVsZSA9PSB1bmRlZmluZWQgJiYgYWNlcXVpcmUub3JpZ2luYWwpXG4gICAgICAgIHJldHVybiBhY2VxdWlyZS5vcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiBwYWNrYWdlZE1vZHVsZTtcbn07XG5cbnZhciBub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkge1xuICAgIC8vIG5vcm1hbGl6ZSBwbHVnaW4gYWNlcXVpcmVzXG4gICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZihcIiFcIikgIT09IC0xKSB7XG4gICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KFwiIVwiKTtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgY2h1bmtzWzBdKSArIFwiIVwiICsgbm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pO1xuICAgIH1cbiAgICAvLyBub3JtYWxpemUgcmVsYXRpdmUgYWNlcXVpcmVzXG4gICAgaWYgKG1vZHVsZU5hbWUuY2hhckF0KDApID09IFwiLlwiKSB7XG4gICAgICAgIHZhciBiYXNlID0gcGFyZW50SWQuc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbiAgICAgICAgbW9kdWxlTmFtZSA9IGJhc2UgKyBcIi9cIiArIG1vZHVsZU5hbWU7XG5cbiAgICAgICAgd2hpbGUobW9kdWxlTmFtZS5pbmRleE9mKFwiLlwiKSAhPT0gLTEgJiYgcHJldmlvdXMgIT0gbW9kdWxlTmFtZSkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gbW9kdWxlTmFtZTtcbiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL1xcL1xcLlxcLy8sIFwiL1wiKS5yZXBsYWNlKC9bXlxcL10rXFwvXFwuXFwuXFwvLywgXCJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1vZHVsZU5hbWU7XG59O1xuXG4vKipcbiAqIEludGVybmFsIGZ1bmN0aW9uIHRvIGxvb2t1cCBtb2R1bGVOYW1lcyBhbmQgcmVzb2x2ZSB0aGVtIGJ5IGNhbGxpbmcgdGhlXG4gKiBkZWZpbml0aW9uIGZ1bmN0aW9uIGlmIG5lZWRlZC5cbiAqL1xudmFyIGxvb2t1cCA9IGZ1bmN0aW9uKHBhcmVudElkLCBtb2R1bGVOYW1lKSB7XG4gICAgbW9kdWxlTmFtZSA9IG5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgbW9kdWxlTmFtZSk7XG5cbiAgICB2YXIgbW9kdWxlID0gZGVmaW5lLm1vZHVsZXNbbW9kdWxlTmFtZV07XG4gICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgbW9kdWxlID0gZGVmaW5lLnBheWxvYWRzW21vZHVsZU5hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIGV4cG9ydHMgPSB7fTtcbiAgICAgICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1vZHVsZU5hbWUsXG4gICAgICAgICAgICAgICAgdXJpOiAnJyxcbiAgICAgICAgICAgICAgICBleHBvcnRzOiBleHBvcnRzLFxuICAgICAgICAgICAgICAgIHBhY2thZ2VkOiB0cnVlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgcmVxID0gZnVuY3Rpb24obW9kdWxlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfYWNlcXVpcmUobW9kdWxlTmFtZSwgbW9kdWxlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBtb2R1bGUocmVxLCBleHBvcnRzLCBtb2QpO1xuICAgICAgICAgICAgZXhwb3J0cyA9IHJldHVyblZhbHVlIHx8IG1vZC5leHBvcnRzO1xuICAgICAgICAgICAgZGVmaW5lLm1vZHVsZXNbbW9kdWxlTmFtZV0gPSBleHBvcnRzO1xuICAgICAgICAgICAgZGVsZXRlIGRlZmluZS5wYXlsb2Fkc1ttb2R1bGVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBtb2R1bGUgPSBkZWZpbmUubW9kdWxlc1ttb2R1bGVOYW1lXSA9IGV4cG9ydHMgfHwgbW9kdWxlO1xuICAgIH1cbiAgICByZXR1cm4gbW9kdWxlO1xufTtcblxuZnVuY3Rpb24gZXhwb3J0QWNlKG5zKSB7XG4gICAgdmFyIHJvb3QgPSBnbG9iYWw7XG4gICAgaWYgKG5zKSB7XG4gICAgICAgIGlmICghZ2xvYmFsW25zXSlcbiAgICAgICAgICAgIGdsb2JhbFtuc10gPSB7fTtcbiAgICAgICAgcm9vdCA9IGdsb2JhbFtuc107XG4gICAgfVxuXG4gICAgaWYgKCFyb290LmRlZmluZSB8fCAhcm9vdC5kZWZpbmUucGFja2FnZWQpIHtcbiAgICAgICAgZGVmaW5lLm9yaWdpbmFsID0gcm9vdC5kZWZpbmU7XG4gICAgICAgIHJvb3QuZGVmaW5lID0gZGVmaW5lO1xuICAgICAgICByb290LmRlZmluZS5wYWNrYWdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCFyb290LmFjZXF1aXJlIHx8ICFyb290LmFjZXF1aXJlLnBhY2thZ2VkKSB7XG4gICAgICAgIGFjZXF1aXJlLm9yaWdpbmFsID0gcm9vdC5hY2VxdWlyZTtcbiAgICAgICAgcm9vdC5hY2VxdWlyZSA9IGFjZXF1aXJlO1xuICAgICAgICByb290LmFjZXF1aXJlLnBhY2thZ2VkID0gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydEFjZShBQ0VfTkFNRVNQQUNFKTtcblxufSkoKTtcblxuYWNlLmRlZmluZShcImFjZS9saWIvcmVnZXhwXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciByZWFsID0ge1xuICAgICAgICAgICAgZXhlYzogUmVnRXhwLnByb3RvdHlwZS5leGVjLFxuICAgICAgICAgICAgdGVzdDogUmVnRXhwLnByb3RvdHlwZS50ZXN0LFxuICAgICAgICAgICAgbWF0Y2g6IFN0cmluZy5wcm90b3R5cGUubWF0Y2gsXG4gICAgICAgICAgICByZXBsYWNlOiBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UsXG4gICAgICAgICAgICBzcGxpdDogU3RyaW5nLnByb3RvdHlwZS5zcGxpdFxuICAgICAgICB9LFxuICAgICAgICBjb21wbGlhbnRFeGVjTnBjZyA9IHJlYWwuZXhlYy5jYWxsKC8oKT8/LywgXCJcIilbMV0gPT09IHVuZGVmaW5lZCwgLy8gY2hlY2sgYGV4ZWNgIGhhbmRsaW5nIG9mIG5vbnBhcnRpY2lwYXRpbmcgY2FwdHVyaW5nIGdyb3Vwc1xuICAgICAgICBjb21wbGlhbnRMYXN0SW5kZXhJbmNyZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgeCA9IC9eL2c7XG4gICAgICAgICAgICByZWFsLnRlc3QuY2FsbCh4LCBcIlwiKTtcbiAgICAgICAgICAgIHJldHVybiAheC5sYXN0SW5kZXg7XG4gICAgICAgIH0oKTtcblxuICAgIGlmIChjb21wbGlhbnRMYXN0SW5kZXhJbmNyZW1lbnQgJiYgY29tcGxpYW50RXhlY05wY2cpXG4gICAgICAgIHJldHVybjtcbiAgICBSZWdFeHAucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHJlYWwuZXhlYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuICAgICAgICAgICAgbmFtZSwgcjI7XG4gICAgICAgIGlmICggdHlwZW9mKHN0cikgPT0gJ3N0cmluZycgJiYgbWF0Y2gpIHtcbiAgICAgICAgICAgIGlmICghY29tcGxpYW50RXhlY05wY2cgJiYgbWF0Y2gubGVuZ3RoID4gMSAmJiBpbmRleE9mKG1hdGNoLCBcIlwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgcjIgPSBSZWdFeHAodGhpcy5zb3VyY2UsIHJlYWwucmVwbGFjZS5jYWxsKGdldE5hdGl2ZUZsYWdzKHRoaXMpLCBcImdcIiwgXCJcIikpO1xuICAgICAgICAgICAgICAgIHJlYWwucmVwbGFjZS5jYWxsKHN0ci5zbGljZShtYXRjaC5pbmRleCksIHIyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aCAtIDI7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1tpXSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5feHJlZ2V4cCAmJiB0aGlzLl94cmVnZXhwLmNhcHR1cmVOYW1lcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbWF0Y2gubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IHRoaXMuX3hyZWdleHAuY2FwdHVyZU5hbWVzW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgIG1hdGNoW25hbWVdID0gbWF0Y2hbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjb21wbGlhbnRMYXN0SW5kZXhJbmNyZW1lbnQgJiYgdGhpcy5nbG9iYWwgJiYgIW1hdGNoWzBdLmxlbmd0aCAmJiAodGhpcy5sYXN0SW5kZXggPiBtYXRjaC5pbmRleCkpXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0SW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfTtcbiAgICBpZiAoIWNvbXBsaWFudExhc3RJbmRleEluY3JlbWVudCkge1xuICAgICAgICBSZWdFeHAucHJvdG90eXBlLnRlc3QgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSByZWFsLmV4ZWMuY2FsbCh0aGlzLCBzdHIpO1xuICAgICAgICAgICAgaWYgKG1hdGNoICYmIHRoaXMuZ2xvYmFsICYmICFtYXRjaFswXS5sZW5ndGggJiYgKHRoaXMubGFzdEluZGV4ID4gbWF0Y2guaW5kZXgpKVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEluZGV4LS07XG4gICAgICAgICAgICByZXR1cm4gISFtYXRjaDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXROYXRpdmVGbGFncyAocmVnZXgpIHtcbiAgICAgICAgcmV0dXJuIChyZWdleC5nbG9iYWwgICAgID8gXCJnXCIgOiBcIlwiKSArXG4gICAgICAgICAgICAgICAocmVnZXguaWdub3JlQ2FzZSA/IFwiaVwiIDogXCJcIikgK1xuICAgICAgICAgICAgICAgKHJlZ2V4Lm11bHRpbGluZSAgPyBcIm1cIiA6IFwiXCIpICtcbiAgICAgICAgICAgICAgIChyZWdleC5leHRlbmRlZCAgID8gXCJ4XCIgOiBcIlwiKSArIC8vIFByb3Bvc2VkIGZvciBFUzQ7IGluY2x1ZGVkIGluIEFTM1xuICAgICAgICAgICAgICAgKHJlZ2V4LnN0aWNreSAgICAgPyBcInlcIiA6IFwiXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluZGV4T2YgKGFycmF5LCBpdGVtLCBmcm9tKSB7XG4gICAgICAgIGlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZikgLy8gVXNlIHRoZSBuYXRpdmUgYXJyYXkgbWV0aG9kIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSwgZnJvbSk7XG4gICAgICAgIGZvciAodmFyIGkgPSBmcm9tIHx8IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFycmF5W2ldID09PSBpdGVtKVxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xpYi9lczUtc2hpbVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5mdW5jdGlvbiBFbXB0eSgpIHt9XG5cbmlmICghRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpIHtcbiAgICBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQodGhhdCkgeyAvLyAubGVuZ3RoIGlzIDFcbiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgXCIgKyB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOyAvLyBmb3Igbm9ybWFsIGNhbGxcbiAgICAgICAgdmFyIGJvdW5kID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIGJvdW5kKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGFyZ2V0LmFwcGx5KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0LmFwcGx5KFxuICAgICAgICAgICAgICAgICAgICB0aGF0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG4gICAgICAgIGlmKHRhcmdldC5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IHRhcmdldC5wcm90b3R5cGU7XG4gICAgICAgICAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTtcbiAgICAgICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvdW5kO1xuICAgIH07XG59XG52YXIgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsO1xudmFyIHByb3RvdHlwZU9mQXJyYXkgPSBBcnJheS5wcm90b3R5cGU7XG52YXIgcHJvdG90eXBlT2ZPYmplY3QgPSBPYmplY3QucHJvdG90eXBlO1xudmFyIHNsaWNlID0gcHJvdG90eXBlT2ZBcnJheS5zbGljZTtcbnZhciBfdG9TdHJpbmcgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QudG9TdHJpbmcpO1xudmFyIG93bnMgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuaGFzT3duUHJvcGVydHkpO1xudmFyIGRlZmluZUdldHRlcjtcbnZhciBkZWZpbmVTZXR0ZXI7XG52YXIgbG9va3VwR2V0dGVyO1xudmFyIGxvb2t1cFNldHRlcjtcbnZhciBzdXBwb3J0c0FjY2Vzc29ycztcbmlmICgoc3VwcG9ydHNBY2Nlc3NvcnMgPSBvd25zKHByb3RvdHlwZU9mT2JqZWN0LCBcIl9fZGVmaW5lR2V0dGVyX19cIikpKSB7XG4gICAgZGVmaW5lR2V0dGVyID0gY2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18pO1xuICAgIGRlZmluZVNldHRlciA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZVNldHRlcl9fKTtcbiAgICBsb29rdXBHZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBHZXR0ZXJfXyk7XG4gICAgbG9va3VwU2V0dGVyID0gY2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fbG9va3VwU2V0dGVyX18pO1xufVxuaWYgKFsxLDJdLnNwbGljZSgwKS5sZW5ndGggIT0gMikge1xuICAgIGlmKGZ1bmN0aW9uKCkgeyAvLyB0ZXN0IElFIDwgOSB0byBzcGxpY2UgYnVnIC0gc2VlIGlzc3VlICMxMzhcbiAgICAgICAgZnVuY3Rpb24gbWFrZUFycmF5KGwpIHtcbiAgICAgICAgICAgIHZhciBhID0gbmV3IEFycmF5KGwrMik7XG4gICAgICAgICAgICBhWzBdID0gYVsxXSA9IDA7XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJyYXkgPSBbXSwgbGVuZ3RoQmVmb3JlO1xuICAgICAgICBcbiAgICAgICAgYXJyYXkuc3BsaWNlLmFwcGx5KGFycmF5LCBtYWtlQXJyYXkoMjApKTtcbiAgICAgICAgYXJyYXkuc3BsaWNlLmFwcGx5KGFycmF5LCBtYWtlQXJyYXkoMjYpKTtcblxuICAgICAgICBsZW5ndGhCZWZvcmUgPSBhcnJheS5sZW5ndGg7IC8vNDZcbiAgICAgICAgYXJyYXkuc3BsaWNlKDUsIDAsIFwiWFhYXCIpOyAvLyBhZGQgb25lIGVsZW1lbnRcblxuICAgICAgICBsZW5ndGhCZWZvcmUgKyAxID09IGFycmF5Lmxlbmd0aFxuXG4gICAgICAgIGlmIChsZW5ndGhCZWZvcmUgKyAxID09IGFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7Ly8gaGFzIHJpZ2h0IHNwbGljZSBpbXBsZW1lbnRhdGlvbiB3aXRob3V0IGJ1Z3NcbiAgICAgICAgfVxuICAgIH0oKSkgey8vSUUgNi83XG4gICAgICAgIHZhciBhcnJheV9zcGxpY2UgPSBBcnJheS5wcm90b3R5cGUuc3BsaWNlO1xuICAgICAgICBBcnJheS5wcm90b3R5cGUuc3BsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGRlbGV0ZUNvdW50KSB7XG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheV9zcGxpY2UuYXBwbHkodGhpcywgW1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA9PT0gdm9pZCAwID8gMCA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBkZWxldGVDb3VudCA9PT0gdm9pZCAwID8gKHRoaXMubGVuZ3RoIC0gc3RhcnQpIDogZGVsZXRlQ291bnRcbiAgICAgICAgICAgICAgICBdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywgMikpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7Ly9JRThcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnNwbGljZSA9IGZ1bmN0aW9uKHBvcywgcmVtb3ZlQ291bnQpe1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHBvcyA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zID4gbGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBwb3MgPSBsZW5ndGg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvcyA9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBwb3MgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwb3MgPCAwKSB7XG4gICAgICAgICAgICAgICAgcG9zID0gTWF0aC5tYXgobGVuZ3RoICsgcG9zLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEocG9zK3JlbW92ZUNvdW50IDwgbGVuZ3RoKSlcbiAgICAgICAgICAgICAgICByZW1vdmVDb3VudCA9IGxlbmd0aCAtIHBvcztcblxuICAgICAgICAgICAgdmFyIHJlbW92ZWQgPSB0aGlzLnNsaWNlKHBvcywgcG9zK3JlbW92ZUNvdW50KTtcbiAgICAgICAgICAgIHZhciBpbnNlcnQgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgICAgICAgICB2YXIgYWRkID0gaW5zZXJ0Lmxlbmd0aDsgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChwb3MgPT09IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoLmFwcGx5KHRoaXMsIGluc2VydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlID0gTWF0aC5taW4ocmVtb3ZlQ291bnQsIGxlbmd0aCAtIHBvcyk7XG4gICAgICAgICAgICAgICAgdmFyIHRhaWxPbGRQb3MgPSBwb3MgKyByZW1vdmU7XG4gICAgICAgICAgICAgICAgdmFyIHRhaWxOZXdQb3MgPSB0YWlsT2xkUG9zICsgYWRkIC0gcmVtb3ZlO1xuICAgICAgICAgICAgICAgIHZhciB0YWlsQ291bnQgPSBsZW5ndGggLSB0YWlsT2xkUG9zO1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGhBZnRlclJlbW92ZSA9IGxlbmd0aCAtIHJlbW92ZTtcblxuICAgICAgICAgICAgICAgIGlmICh0YWlsTmV3UG9zIDwgdGFpbE9sZFBvcykgeyAvLyBjYXNlIEFcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWlsQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1t0YWlsTmV3UG9zK2ldID0gdGhpc1t0YWlsT2xkUG9zK2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWlsTmV3UG9zID4gdGFpbE9sZFBvcykgeyAvLyBjYXNlIEJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gdGFpbENvdW50OyBpLS07ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1t0YWlsTmV3UG9zK2ldID0gdGhpc1t0YWlsT2xkUG9zK2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAvLyBlbHNlLCBhZGQgPT0gcmVtb3ZlIChub3RoaW5nIHRvIGRvKVxuXG4gICAgICAgICAgICAgICAgaWYgKGFkZCAmJiBwb3MgPT09IGxlbmd0aEFmdGVyUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoQWZ0ZXJSZW1vdmU7IC8vIHRydW5jYXRlIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaC5hcHBseSh0aGlzLCBpbnNlcnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoQWZ0ZXJSZW1vdmUgKyBhZGQ7IC8vIHJlc2VydmVzIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhZGQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1twb3MraV0gPSBpbnNlcnRbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfTtcbiAgICB9XG59XG5pZiAoIUFycmF5LmlzQXJyYXkpIHtcbiAgICBBcnJheS5pc0FycmF5ID0gZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgICAgICAgcmV0dXJuIF90b1N0cmluZyhvYmopID09IFwiW29iamVjdCBBcnJheV1cIjtcbiAgICB9O1xufVxudmFyIGJveGVkU3RyaW5nID0gT2JqZWN0KFwiYVwiKSxcbiAgICBzcGxpdFN0cmluZyA9IGJveGVkU3RyaW5nWzBdICE9IFwiYVwiIHx8ICEoMCBpbiBib3hlZFN0cmluZyk7XG5cbmlmICghQXJyYXkucHJvdG90eXBlLmZvckVhY2gpIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZnVuIC8qLCB0aGlzcCovKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSxcbiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gXCJbb2JqZWN0IFN0cmluZ11cIiA/XG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpdChcIlwiKSA6XG4gICAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICBpID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMDtcbiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9IFwiW29iamVjdCBGdW5jdGlvbl1cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyAvLyBUT0RPIG1lc3NhZ2VcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICgrK2kgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChpIGluIHNlbGYpIHtcbiAgICAgICAgICAgICAgICBmdW4uY2FsbCh0aGlzcCwgc2VsZltpXSwgaSwgb2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5pZiAoIUFycmF5LnByb3RvdHlwZS5tYXApIHtcbiAgICBBcnJheS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwKGZ1biAvKiwgdGhpc3AqLykge1xuICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksXG4gICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09IFwiW29iamVjdCBTdHJpbmddXCIgP1xuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoXCJcIikgOlxuICAgICAgICAgICAgICAgIG9iamVjdCxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwLFxuICAgICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIHRoaXNwID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBpZiAoX3RvU3RyaW5nKGZ1bikgIT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGZ1biArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgaW4gc2VsZilcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBmdW4uY2FsbCh0aGlzcCwgc2VsZltpXSwgaSwgb2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5pZiAoIUFycmF5LnByb3RvdHlwZS5maWx0ZXIpIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gZmlsdGVyKGZ1biAvKiwgdGhpc3AgKi8pIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLFxuICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSBcIltvYmplY3QgU3RyaW5nXVwiID9cbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KFwiXCIpIDpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDAsXG4gICAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSBcIltvYmplY3QgRnVuY3Rpb25dXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiBzZWxmKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBzZWxmW2ldO1xuICAgICAgICAgICAgICAgIGlmIChmdW4uY2FsbCh0aGlzcCwgdmFsdWUsIGksIG9iamVjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5pZiAoIUFycmF5LnByb3RvdHlwZS5ldmVyeSkge1xuICAgIEFycmF5LnByb3RvdHlwZS5ldmVyeSA9IGZ1bmN0aW9uIGV2ZXJ5KGZ1biAvKiwgdGhpc3AgKi8pIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLFxuICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSBcIltvYmplY3QgU3RyaW5nXVwiID9cbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KFwiXCIpIDpcbiAgICAgICAgICAgICAgICBvYmplY3QsXG4gICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMCxcbiAgICAgICAgICAgIHRoaXNwID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBpZiAoX3RvU3RyaW5nKGZ1bikgIT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGZ1biArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgaW4gc2VsZiAmJiAhZnVuLmNhbGwodGhpc3AsIHNlbGZbaV0sIGksIG9iamVjdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbmlmICghQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICBBcnJheS5wcm90b3R5cGUuc29tZSA9IGZ1bmN0aW9uIHNvbWUoZnVuIC8qLCB0aGlzcCAqLykge1xuICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksXG4gICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09IFwiW29iamVjdCBTdHJpbmddXCIgP1xuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoXCJcIikgOlxuICAgICAgICAgICAgICAgIG9iamVjdCxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwLFxuICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSBcIltvYmplY3QgRnVuY3Rpb25dXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiBzZWxmICYmIGZ1bi5jYWxsKHRoaXNwLCBzZWxmW2ldLCBpLCBvYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59XG5pZiAoIUFycmF5LnByb3RvdHlwZS5yZWR1Y2UpIHtcbiAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gcmVkdWNlKGZ1biAvKiwgaW5pdGlhbCovKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSxcbiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gXCJbb2JqZWN0IFN0cmluZ11cIiA/XG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpdChcIlwiKSA6XG4gICAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7XG4gICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSBcIltvYmplY3QgRnVuY3Rpb25dXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsZW5ndGggJiYgYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChpIGluIHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc2VsZltpKytdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCsraSA+PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiBzZWxmKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuLmNhbGwodm9pZCAwLCByZXN1bHQsIHNlbGZbaV0sIGksIG9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5pZiAoIUFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCkge1xuICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCA9IGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGZ1biAvKiwgaW5pdGlhbCovKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSxcbiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gXCJbb2JqZWN0IFN0cmluZ11cIiA/XG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpdChcIlwiKSA6XG4gICAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7XG4gICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSBcIltvYmplY3QgRnVuY3Rpb25dXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsZW5ndGggJiYgYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdCwgaSA9IGxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoaSBpbiBzZWxmKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNlbGZbaS0tXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgtLWkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoaSBpbiB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuLmNhbGwodm9pZCAwLCByZXN1bHQsIHNlbGZbaV0sIGksIG9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGktLSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuaWYgKCFBcnJheS5wcm90b3R5cGUuaW5kZXhPZiB8fCAoWzAsIDFdLmluZGV4T2YoMSwgMikgIT0gLTEpKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mKHNvdWdodCAvKiwgZnJvbUluZGV4ICovICkge1xuICAgICAgICB2YXIgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSBcIltvYmplY3QgU3RyaW5nXVwiID9cbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KFwiXCIpIDpcbiAgICAgICAgICAgICAgICB0b09iamVjdCh0aGlzKSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwO1xuXG4gICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaSA9IHRvSW50ZWdlcihhcmd1bWVudHNbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGkgPSBpID49IDAgPyBpIDogTWF0aC5tYXgoMCwgbGVuZ3RoICsgaSk7XG4gICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIGluIHNlbGYgJiYgc2VsZltpXSA9PT0gc291Z2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG59XG5pZiAoIUFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiB8fCAoWzAsIDFdLmxhc3RJbmRleE9mKDAsIC0zKSAhPSAtMSkpIHtcbiAgICBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZihzb3VnaHQgLyosIGZyb21JbmRleCAqLykge1xuICAgICAgICB2YXIgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSBcIltvYmplY3QgU3RyaW5nXVwiID9cbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KFwiXCIpIDpcbiAgICAgICAgICAgICAgICB0b09iamVjdCh0aGlzKSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwO1xuXG4gICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGkgPSBsZW5ndGggLSAxO1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGkgPSBNYXRoLm1pbihpLCB0b0ludGVnZXIoYXJndW1lbnRzWzFdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaSA9IGkgPj0gMCA/IGkgOiBsZW5ndGggLSBNYXRoLmFicyhpKTtcbiAgICAgICAgZm9yICg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiBzZWxmICYmIHNvdWdodCA9PT0gc2VsZltpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xufVxuaWYgKCFPYmplY3QuZ2V0UHJvdG90eXBlT2YpIHtcbiAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPSBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdC5fX3Byb3RvX18gfHwgKFxuICAgICAgICAgICAgb2JqZWN0LmNvbnN0cnVjdG9yID9cbiAgICAgICAgICAgIG9iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgOlxuICAgICAgICAgICAgcHJvdG90eXBlT2ZPYmplY3RcbiAgICAgICAgKTtcbiAgICB9O1xufVxuaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gICAgdmFyIEVSUl9OT05fT0JKRUNUID0gXCJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGNhbGxlZCBvbiBhIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICBcIm5vbi1vYmplY3Q6IFwiO1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgICAgICBpZiAoKHR5cGVvZiBvYmplY3QgIT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqZWN0ICE9IFwiZnVuY3Rpb25cIikgfHwgb2JqZWN0ID09PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVCArIG9iamVjdCk7XG4gICAgICAgIGlmICghb3ducyhvYmplY3QsIHByb3BlcnR5KSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgZGVzY3JpcHRvciwgZ2V0dGVyLCBzZXR0ZXI7XG4gICAgICAgIGRlc2NyaXB0b3IgPSAgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfTtcbiAgICAgICAgaWYgKHN1cHBvcnRzQWNjZXNzb3JzKSB7XG4gICAgICAgICAgICB2YXIgcHJvdG90eXBlID0gb2JqZWN0Ll9fcHJvdG9fXztcbiAgICAgICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGVPZk9iamVjdDtcblxuICAgICAgICAgICAgdmFyIGdldHRlciA9IGxvb2t1cEdldHRlcihvYmplY3QsIHByb3BlcnR5KTtcbiAgICAgICAgICAgIHZhciBzZXR0ZXIgPSBsb29rdXBTZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuXG4gICAgICAgICAgICBpZiAoZ2V0dGVyIHx8IHNldHRlcikge1xuICAgICAgICAgICAgICAgIGlmIChnZXR0ZXIpIGRlc2NyaXB0b3IuZ2V0ID0gZ2V0dGVyO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0ZXIpIGRlc2NyaXB0b3Iuc2V0ID0gc2V0dGVyO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBvYmplY3RbcHJvcGVydHldO1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICB9O1xufVxuaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcykge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCk7XG4gICAgfTtcbn1cbmlmICghT2JqZWN0LmNyZWF0ZSkge1xuICAgIHZhciBjcmVhdGVFbXB0eTtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5fX3Byb3RvX18gPT09IG51bGwpIHtcbiAgICAgICAgY3JlYXRlRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geyBcIl9fcHJvdG9fX1wiOiBudWxsIH07XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY3JlYXRlRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZW1wdHkgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZW1wdHkpXG4gICAgICAgICAgICAgICAgZW1wdHlbaV0gPSBudWxsO1xuICAgICAgICAgICAgZW1wdHkuY29uc3RydWN0b3IgPVxuICAgICAgICAgICAgZW1wdHkuaGFzT3duUHJvcGVydHkgPVxuICAgICAgICAgICAgZW1wdHkucHJvcGVydHlJc0VudW1lcmFibGUgPVxuICAgICAgICAgICAgZW1wdHkuaXNQcm90b3R5cGVPZiA9XG4gICAgICAgICAgICBlbXB0eS50b0xvY2FsZVN0cmluZyA9XG4gICAgICAgICAgICBlbXB0eS50b1N0cmluZyA9XG4gICAgICAgICAgICBlbXB0eS52YWx1ZU9mID1cbiAgICAgICAgICAgIGVtcHR5Ll9fcHJvdG9fXyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgICB2YXIgb2JqZWN0O1xuICAgICAgICBpZiAocHJvdG90eXBlID09PSBudWxsKSB7XG4gICAgICAgICAgICBvYmplY3QgPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm90b3R5cGUgIT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwidHlwZW9mIHByb3RvdHlwZVtcIisodHlwZW9mIHByb3RvdHlwZSkrXCJdICE9ICdvYmplY3QnXCIpO1xuICAgICAgICAgICAgdmFyIFR5cGUgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgIFR5cGUucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICAgICAgICAgICAgb2JqZWN0ID0gbmV3IFR5cGUoKTtcbiAgICAgICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BlcnRpZXMgIT09IHZvaWQgMClcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCwgcHJvcGVydGllcyk7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZG9lc0RlZmluZVByb3BlcnR5V29yayhvYmplY3QpIHtcbiAgICB0cnkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBcInNlbnRpbmVsXCIsIHt9KTtcbiAgICAgICAgcmV0dXJuIFwic2VudGluZWxcIiBpbiBvYmplY3Q7XG4gICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgfVxufVxuaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgIHZhciBkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3QgPSBkb2VzRGVmaW5lUHJvcGVydHlXb3JrKHt9KTtcbiAgICB2YXIgZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tID0gdHlwZW9mIGRvY3VtZW50ID09IFwidW5kZWZpbmVkXCIgfHxcbiAgICAgICAgZG9lc0RlZmluZVByb3BlcnR5V29yayhkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICBpZiAoIWRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdCB8fCAhZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tKSB7XG4gICAgICAgIHZhciBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuICAgIH1cbn1cblxuaWYgKCFPYmplY3QuZGVmaW5lUHJvcGVydHkgfHwgZGVmaW5lUHJvcGVydHlGYWxsYmFjaykge1xuICAgIHZhciBFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SID0gXCJQcm9wZXJ0eSBkZXNjcmlwdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogXCI7XG4gICAgdmFyIEVSUl9OT05fT0JKRUNUX1RBUkdFVCA9IFwiT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxlZCBvbiBub24tb2JqZWN0OiBcIlxuICAgIHZhciBFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQgPSBcImdldHRlcnMgJiBzZXR0ZXJzIGNhbiBub3QgYmUgZGVmaW5lZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib24gdGhpcyBqYXZhc2NyaXB0IGVuZ2luZVwiO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xuICAgICAgICBpZiAoKHR5cGVvZiBvYmplY3QgIT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqZWN0ICE9IFwiZnVuY3Rpb25cIikgfHwgb2JqZWN0ID09PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9UQVJHRVQgKyBvYmplY3QpO1xuICAgICAgICBpZiAoKHR5cGVvZiBkZXNjcmlwdG9yICE9IFwib2JqZWN0XCIgJiYgdHlwZW9mIGRlc2NyaXB0b3IgIT0gXCJmdW5jdGlvblwiKSB8fCBkZXNjcmlwdG9yID09PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SICsgZGVzY3JpcHRvcik7XG4gICAgICAgIGlmIChkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrLmNhbGwoT2JqZWN0LCBvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvd25zKGRlc2NyaXB0b3IsIFwidmFsdWVcIikpIHtcblxuICAgICAgICAgICAgaWYgKHN1cHBvcnRzQWNjZXNzb3JzICYmIChsb29rdXBHZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9va3VwU2V0dGVyKG9iamVjdCwgcHJvcGVydHkpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvdG90eXBlID0gb2JqZWN0Ll9fcHJvdG9fXztcbiAgICAgICAgICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlT2ZPYmplY3Q7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgICAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXN1cHBvcnRzQWNjZXNzb3JzKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEKTtcbiAgICAgICAgICAgIGlmIChvd25zKGRlc2NyaXB0b3IsIFwiZ2V0XCIpKVxuICAgICAgICAgICAgICAgIGRlZmluZUdldHRlcihvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yLmdldCk7XG4gICAgICAgICAgICBpZiAob3ducyhkZXNjcmlwdG9yLCBcInNldFwiKSlcbiAgICAgICAgICAgICAgICBkZWZpbmVTZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvci5zZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9O1xufVxuaWYgKCFPYmplY3QuZGVmaW5lUHJvcGVydGllcykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhvYmplY3QsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKG93bnMocHJvcGVydGllcywgcHJvcGVydHkpKVxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBwcm9wZXJ0aWVzW3Byb3BlcnR5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9O1xufVxuaWYgKCFPYmplY3Quc2VhbCkge1xuICAgIE9iamVjdC5zZWFsID0gZnVuY3Rpb24gc2VhbChvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9O1xufVxuaWYgKCFPYmplY3QuZnJlZXplKSB7XG4gICAgT2JqZWN0LmZyZWV6ZSA9IGZ1bmN0aW9uIGZyZWV6ZShvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9O1xufVxudHJ5IHtcbiAgICBPYmplY3QuZnJlZXplKGZ1bmN0aW9uICgpIHt9KTtcbn0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgIE9iamVjdC5mcmVlemUgPSAoZnVuY3Rpb24gZnJlZXplKGZyZWV6ZU9iamVjdCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZnJlZXplKG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyZWV6ZU9iamVjdChvYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKE9iamVjdC5mcmVlemUpO1xufVxuaWYgKCFPYmplY3QucHJldmVudEV4dGVuc2lvbnMpIHtcbiAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnMgPSBmdW5jdGlvbiBwcmV2ZW50RXh0ZW5zaW9ucyhvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9O1xufVxuaWYgKCFPYmplY3QuaXNTZWFsZWQpIHtcbiAgICBPYmplY3QuaXNTZWFsZWQgPSBmdW5jdGlvbiBpc1NlYWxlZChvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59XG5pZiAoIU9iamVjdC5pc0Zyb3plbikge1xuICAgIE9iamVjdC5pc0Zyb3plbiA9IGZ1bmN0aW9uIGlzRnJvemVuKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cbmlmICghT2JqZWN0LmlzRXh0ZW5zaWJsZSkge1xuICAgIE9iamVjdC5pc0V4dGVuc2libGUgPSBmdW5jdGlvbiBpc0V4dGVuc2libGUob2JqZWN0KSB7XG4gICAgICAgIGlmIChPYmplY3Qob2JqZWN0KSA9PT0gb2JqZWN0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7IC8vIFRPRE8gbWVzc2FnZVxuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lID0gJyc7XG4gICAgICAgIHdoaWxlIChvd25zKG9iamVjdCwgbmFtZSkpIHtcbiAgICAgICAgICAgIG5hbWUgKz0gJz8nO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdFtuYW1lXSA9IHRydWU7XG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IG93bnMob2JqZWN0LCBuYW1lKTtcbiAgICAgICAgZGVsZXRlIG9iamVjdFtuYW1lXTtcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH07XG59XG5pZiAoIU9iamVjdC5rZXlzKSB7XG4gICAgdmFyIGhhc0RvbnRFbnVtQnVnID0gdHJ1ZSxcbiAgICAgICAgZG9udEVudW1zID0gW1xuICAgICAgICAgICAgXCJ0b1N0cmluZ1wiLFxuICAgICAgICAgICAgXCJ0b0xvY2FsZVN0cmluZ1wiLFxuICAgICAgICAgICAgXCJ2YWx1ZU9mXCIsXG4gICAgICAgICAgICBcImhhc093blByb3BlcnR5XCIsXG4gICAgICAgICAgICBcImlzUHJvdG90eXBlT2ZcIixcbiAgICAgICAgICAgIFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcbiAgICAgICAgICAgIFwiY29uc3RydWN0b3JcIlxuICAgICAgICBdLFxuICAgICAgICBkb250RW51bXNMZW5ndGggPSBkb250RW51bXMubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHtcInRvU3RyaW5nXCI6IG51bGx9KSB7XG4gICAgICAgIGhhc0RvbnRFbnVtQnVnID0gZmFsc2U7XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMgPSBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICh0eXBlb2Ygb2JqZWN0ICE9IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iamVjdCAhPSBcImZ1bmN0aW9uXCIpIHx8XG4gICAgICAgICAgICBvYmplY3QgPT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAob3ducyhvYmplY3QsIG5hbWUpKSB7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc0RvbnRFbnVtQnVnKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkb250RW51bXNMZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbnRFbnVtID0gZG9udEVudW1zW2ldO1xuICAgICAgICAgICAgICAgIGlmIChvd25zKG9iamVjdCwgZG9udEVudW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChkb250RW51bSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH07XG5cbn1cbmlmICghRGF0ZS5ub3cpIHtcbiAgICBEYXRlLm5vdyA9IGZ1bmN0aW9uIG5vdygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH07XG59XG52YXIgd3MgPSBcIlxceDA5XFx4MEFcXHgwQlxceDBDXFx4MERcXHgyMFxceEEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXCIgK1xuICAgIFwiXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjhcIiArXG4gICAgXCJcXHUyMDI5XFx1RkVGRlwiO1xuaWYgKCFTdHJpbmcucHJvdG90eXBlLnRyaW0gfHwgd3MudHJpbSgpKSB7XG4gICAgd3MgPSBcIltcIiArIHdzICsgXCJdXCI7XG4gICAgdmFyIHRyaW1CZWdpblJlZ2V4cCA9IG5ldyBSZWdFeHAoXCJeXCIgKyB3cyArIHdzICsgXCIqXCIpLFxuICAgICAgICB0cmltRW5kUmVnZXhwID0gbmV3IFJlZ0V4cCh3cyArIHdzICsgXCIqJFwiKTtcbiAgICBTdHJpbmcucHJvdG90eXBlLnRyaW0gPSBmdW5jdGlvbiB0cmltKCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHRoaXMpLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCBcIlwiKS5yZXBsYWNlKHRyaW1FbmRSZWdleHAsIFwiXCIpO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIHRvSW50ZWdlcihuKSB7XG4gICAgbiA9ICtuO1xuICAgIGlmIChuICE9PSBuKSB7IC8vIGlzTmFOXG4gICAgICAgIG4gPSAwO1xuICAgIH0gZWxzZSBpZiAobiAhPT0gMCAmJiBuICE9PSAoMS8wKSAmJiBuICE9PSAtKDEvMCkpIHtcbiAgICAgICAgbiA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKTtcbiAgICB9XG4gICAgcmV0dXJuIG47XG59XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGlucHV0KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5wdXQ7XG4gICAgcmV0dXJuIChcbiAgICAgICAgaW5wdXQgPT09IG51bGwgfHxcbiAgICAgICAgdHlwZSA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICB0eXBlID09PSBcImJvb2xlYW5cIiB8fFxuICAgICAgICB0eXBlID09PSBcIm51bWJlclwiIHx8XG4gICAgICAgIHR5cGUgPT09IFwic3RyaW5nXCJcbiAgICApO1xufVxuXG5mdW5jdGlvbiB0b1ByaW1pdGl2ZShpbnB1dCkge1xuICAgIHZhciB2YWwsIHZhbHVlT2YsIHRvU3RyaW5nO1xuICAgIGlmIChpc1ByaW1pdGl2ZShpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbiAgICB2YWx1ZU9mID0gaW5wdXQudmFsdWVPZjtcbiAgICBpZiAodHlwZW9mIHZhbHVlT2YgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB2YWwgPSB2YWx1ZU9mLmNhbGwoaW5wdXQpO1xuICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZyA9IGlucHV0LnRvU3RyaW5nO1xuICAgIGlmICh0eXBlb2YgdG9TdHJpbmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB2YWwgPSB0b1N0cmluZy5jYWxsKGlucHV0KTtcbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xufVxudmFyIHRvT2JqZWN0ID0gZnVuY3Rpb24gKG8pIHtcbiAgICBpZiAobyA9PSBudWxsKSB7IC8vIHRoaXMgbWF0Y2hlcyBib3RoIG51bGwgYW5kIHVuZGVmaW5lZFxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FuJ3QgY29udmVydCBcIitvK1wiIHRvIG9iamVjdFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdChvKTtcbn07XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xpYi9maXhvbGRicm93c2Vyc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9yZWdleHBcIixcImFjZS9saWIvZXM1LXNoaW1cIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG5hY2VxdWlyZShcIi4vcmVnZXhwXCIpO1xuYWNlcXVpcmUoXCIuL2VzNS1zaGltXCIpO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9saWIvZG9tXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFhIVE1MX05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI7XG5cbmV4cG9ydHMuZ2V0RG9jdW1lbnRIZWFkID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgaWYgKCFkb2MpXG4gICAgICAgIGRvYyA9IGRvY3VtZW50O1xuICAgIHJldHVybiBkb2MuaGVhZCB8fCBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdIHx8IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG59O1xuXG5leHBvcnRzLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0YWcsIG5zKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyA/XG4gICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucyB8fCBYSFRNTF9OUywgdGFnKSA6XG4gICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbn07XG5cbmV4cG9ydHMuaGFzQ3NzQ2xhc3MgPSBmdW5jdGlvbihlbCwgbmFtZSkge1xuICAgIHZhciBjbGFzc2VzID0gKGVsLmNsYXNzTmFtZSB8fCBcIlwiKS5zcGxpdCgvXFxzKy9nKTtcbiAgICByZXR1cm4gY2xhc3Nlcy5pbmRleE9mKG5hbWUpICE9PSAtMTtcbn07XG5leHBvcnRzLmFkZENzc0NsYXNzID0gZnVuY3Rpb24oZWwsIG5hbWUpIHtcbiAgICBpZiAoIWV4cG9ydHMuaGFzQ3NzQ2xhc3MoZWwsIG5hbWUpKSB7XG4gICAgICAgIGVsLmNsYXNzTmFtZSArPSBcIiBcIiArIG5hbWU7XG4gICAgfVxufTtcbmV4cG9ydHMucmVtb3ZlQ3NzQ2xhc3MgPSBmdW5jdGlvbihlbCwgbmFtZSkge1xuICAgIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KC9cXHMrL2cpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGNsYXNzZXMuaW5kZXhPZihuYW1lKTtcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjbGFzc2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIGVsLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbihcIiBcIik7XG59O1xuXG5leHBvcnRzLnRvZ2dsZUNzc0NsYXNzID0gZnVuY3Rpb24oZWwsIG5hbWUpIHtcbiAgICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgvXFxzKy9nKSwgYWRkID0gdHJ1ZTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgaW5kZXggPSBjbGFzc2VzLmluZGV4T2YobmFtZSk7XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYWRkID0gZmFsc2U7XG4gICAgICAgIGNsYXNzZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgaWYgKGFkZClcbiAgICAgICAgY2xhc3Nlcy5wdXNoKG5hbWUpO1xuXG4gICAgZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKFwiIFwiKTtcbiAgICByZXR1cm4gYWRkO1xufTtcbmV4cG9ydHMuc2V0Q3NzQ2xhc3MgPSBmdW5jdGlvbihub2RlLCBjbGFzc05hbWUsIGluY2x1ZGUpIHtcbiAgICBpZiAoaW5jbHVkZSkge1xuICAgICAgICBleHBvcnRzLmFkZENzc0NsYXNzKG5vZGUsIGNsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZXhwb3J0cy5yZW1vdmVDc3NDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuaGFzQ3NzU3RyaW5nID0gZnVuY3Rpb24oaWQsIGRvYykge1xuICAgIHZhciBpbmRleCA9IDAsIHNoZWV0cztcbiAgICBkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG5cbiAgICBpZiAoZG9jLmNyZWF0ZVN0eWxlU2hlZXQgJiYgKHNoZWV0cyA9IGRvYy5zdHlsZVNoZWV0cykpIHtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgc2hlZXRzLmxlbmd0aClcbiAgICAgICAgICAgIGlmIChzaGVldHNbaW5kZXgrK10ub3duaW5nRWxlbWVudC5pZCA9PT0gaWQpIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoKHNoZWV0cyA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInN0eWxlXCIpKSkge1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBzaGVldHMubGVuZ3RoKVxuICAgICAgICAgICAgaWYgKHNoZWV0c1tpbmRleCsrXS5pZCA9PT0gaWQpIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydHMuaW1wb3J0Q3NzU3RyaW5nID0gZnVuY3Rpb24gaW1wb3J0Q3NzU3RyaW5nKGNzc1RleHQsIGlkLCBkb2MpIHtcbiAgICBkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG4gICAgaWYgKGlkICYmIGV4cG9ydHMuaGFzQ3NzU3RyaW5nKGlkLCBkb2MpKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBcbiAgICB2YXIgc3R5bGU7XG4gICAgXG4gICAgaWYgKGlkKVxuICAgICAgICBjc3NUZXh0ICs9IFwiXFxuLyojIHNvdXJjZVVSTD1hY2UvY3NzL1wiICsgaWQgKyBcIiAqL1wiO1xuICAgIFxuICAgIGlmIChkb2MuY3JlYXRlU3R5bGVTaGVldCkge1xuICAgICAgICBzdHlsZSA9IGRvYy5jcmVhdGVTdHlsZVNoZWV0KCk7XG4gICAgICAgIHN0eWxlLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgICAgICBpZiAoaWQpXG4gICAgICAgICAgICBzdHlsZS5vd25pbmdFbGVtZW50LmlkID0gaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUgPSBleHBvcnRzLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKGNzc1RleHQpKTtcbiAgICAgICAgaWYgKGlkKVxuICAgICAgICAgICAgc3R5bGUuaWQgPSBpZDtcblxuICAgICAgICBleHBvcnRzLmdldERvY3VtZW50SGVhZChkb2MpLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmltcG9ydENzc1N0eWxzaGVldCA9IGZ1bmN0aW9uKHVyaSwgZG9jKSB7XG4gICAgaWYgKGRvYy5jcmVhdGVTdHlsZVNoZWV0KSB7XG4gICAgICAgIGRvYy5jcmVhdGVTdHlsZVNoZWV0KHVyaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGxpbmsgPSBleHBvcnRzLmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgICAgIGxpbmsuaHJlZiA9IHVyaTtcblxuICAgICAgICBleHBvcnRzLmdldERvY3VtZW50SGVhZChkb2MpLmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuZ2V0SW5uZXJXaWR0aCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBwYXJzZUludChleHBvcnRzLmNvbXB1dGVkU3R5bGUoZWxlbWVudCwgXCJwYWRkaW5nTGVmdFwiKSwgMTApICtcbiAgICAgICAgcGFyc2VJbnQoZXhwb3J0cy5jb21wdXRlZFN0eWxlKGVsZW1lbnQsIFwicGFkZGluZ1JpZ2h0XCIpLCAxMCkgKyBcbiAgICAgICAgZWxlbWVudC5jbGllbnRXaWR0aFxuICAgICk7XG59O1xuXG5leHBvcnRzLmdldElubmVySGVpZ2h0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHBhcnNlSW50KGV4cG9ydHMuY29tcHV0ZWRTdHlsZShlbGVtZW50LCBcInBhZGRpbmdUb3BcIiksIDEwKSArXG4gICAgICAgIHBhcnNlSW50KGV4cG9ydHMuY29tcHV0ZWRTdHlsZShlbGVtZW50LCBcInBhZGRpbmdCb3R0b21cIiksIDEwKSArXG4gICAgICAgIGVsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgKTtcbn07XG5cbmV4cG9ydHMuc2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbihkb2N1bWVudCkge1xuICAgIHZhciBpbm5lciA9IGV4cG9ydHMuY3JlYXRlRWxlbWVudChcImFjZV9pbm5lclwiKTtcbiAgICBpbm5lci5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgIGlubmVyLnN0eWxlLm1pbldpZHRoID0gXCIwcHhcIjtcbiAgICBpbm5lci5zdHlsZS5oZWlnaHQgPSBcIjIwMHB4XCI7XG4gICAgaW5uZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgIHZhciBvdXRlciA9IGV4cG9ydHMuY3JlYXRlRWxlbWVudChcImFjZV9vdXRlclwiKTtcbiAgICB2YXIgc3R5bGUgPSBvdXRlci5zdHlsZTtcblxuICAgIHN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHN0eWxlLmxlZnQgPSBcIi0xMDAwMHB4XCI7XG4gICAgc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIHN0eWxlLndpZHRoID0gXCIyMDBweFwiO1xuICAgIHN0eWxlLm1pbldpZHRoID0gXCIwcHhcIjtcbiAgICBzdHlsZS5oZWlnaHQgPSBcIjE1MHB4XCI7XG4gICAgc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKTtcblxuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuXG4gICAgdmFyIG5vU2Nyb2xsYmFyID0gaW5uZXIub2Zmc2V0V2lkdGg7XG5cbiAgICBzdHlsZS5vdmVyZmxvdyA9IFwic2Nyb2xsXCI7XG4gICAgdmFyIHdpdGhTY3JvbGxiYXIgPSBpbm5lci5vZmZzZXRXaWR0aDtcblxuICAgIGlmIChub1Njcm9sbGJhciA9PSB3aXRoU2Nyb2xsYmFyKSB7XG4gICAgICAgIHdpdGhTY3JvbGxiYXIgPSBvdXRlci5jbGllbnRXaWR0aDtcbiAgICB9XG5cbiAgICBib2R5LnJlbW92ZUNoaWxkKG91dGVyKTtcblxuICAgIHJldHVybiBub1Njcm9sbGJhci13aXRoU2Nyb2xsYmFyO1xufTtcblxuaWYgKHR5cGVvZiBkb2N1bWVudCA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZXhwb3J0cy5pbXBvcnRDc3NTdHJpbmcgPSBmdW5jdGlvbigpIHt9O1xuICAgIHJldHVybjtcbn1cblxuaWYgKHdpbmRvdy5wYWdlWU9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZXhwb3J0cy5nZXRQYWdlU2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgfTtcblxuICAgIGV4cG9ydHMuZ2V0UGFnZVNjcm9sbExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5wYWdlWE9mZnNldDtcbiAgICB9O1xufVxuZWxzZSB7XG4gICAgZXhwb3J0cy5nZXRQYWdlU2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5nZXRQYWdlU2Nyb2xsTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0O1xuICAgIH07XG59XG5cbmlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSlcbiAgICBleHBvcnRzLmNvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbihlbGVtZW50LCBzdHlsZSkge1xuICAgICAgICBpZiAoc3R5bGUpXG4gICAgICAgICAgICByZXR1cm4gKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIFwiXCIpIHx8IHt9KVtzdHlsZV0gfHwgXCJcIjtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIFwiXCIpIHx8IHt9O1xuICAgIH07XG5lbHNlXG4gICAgZXhwb3J0cy5jb21wdXRlZFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgc3R5bGUpIHtcbiAgICAgICAgaWYgKHN0eWxlKVxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY3VycmVudFN0eWxlW3N0eWxlXTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuY3VycmVudFN0eWxlO1xuICAgIH07XG5leHBvcnRzLnNldElubmVySHRtbCA9IGZ1bmN0aW9uKGVsLCBpbm5lckh0bWwpIHtcbiAgICB2YXIgZWxlbWVudCA9IGVsLmNsb25lTm9kZShmYWxzZSk7Ly9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gaW5uZXJIdG1sO1xuICAgIGVsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsZW1lbnQsIGVsKTtcbiAgICByZXR1cm4gZWxlbWVudDtcbn07XG5cbmlmIChcInRleHRDb250ZW50XCIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgZXhwb3J0cy5zZXRJbm5lclRleHQgPSBmdW5jdGlvbihlbCwgaW5uZXJUZXh0KSB7XG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gaW5uZXJUZXh0O1xuICAgIH07XG5cbiAgICBleHBvcnRzLmdldElubmVyVGV4dCA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHJldHVybiBlbC50ZXh0Q29udGVudDtcbiAgICB9O1xufVxuZWxzZSB7XG4gICAgZXhwb3J0cy5zZXRJbm5lclRleHQgPSBmdW5jdGlvbihlbCwgaW5uZXJUZXh0KSB7XG4gICAgICAgIGVsLmlubmVyVGV4dCA9IGlubmVyVGV4dDtcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5nZXRJbm5lclRleHQgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICByZXR1cm4gZWwuaW5uZXJUZXh0O1xuICAgIH07XG59XG5cbmV4cG9ydHMuZ2V0UGFyZW50V2luZG93ID0gZnVuY3Rpb24oZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgZG9jdW1lbnQucGFyZW50V2luZG93O1xufTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGliL29vcFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbihjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjtcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbihvYmosIG1peGluKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7XG4gICAgICAgIG9ialtrZXldID0gbWl4aW5ba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydHMuaW1wbGVtZW50ID0gZnVuY3Rpb24ocHJvdG8sIG1peGluKSB7XG4gICAgZXhwb3J0cy5taXhpbihwcm90bywgbWl4aW4pO1xufTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGliL2tleXNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZml4b2xkYnJvd3NlcnNcIixcImFjZS9saWIvb29wXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuYWNlcXVpcmUoXCIuL2ZpeG9sZGJyb3dzZXJzXCIpO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuL29vcFwiKTtcbnZhciBLZXlzID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXQgPSB7XG4gICAgICAgIE1PRElGSUVSX0tFWVM6IHtcbiAgICAgICAgICAgIDE2OiAnU2hpZnQnLCAxNzogJ0N0cmwnLCAxODogJ0FsdCcsIDIyNDogJ01ldGEnXG4gICAgICAgIH0sXG5cbiAgICAgICAgS0VZX01PRFM6IHtcbiAgICAgICAgICAgIFwiY3RybFwiOiAxLCBcImFsdFwiOiAyLCBcIm9wdGlvblwiIDogMiwgXCJzaGlmdFwiOiA0LFxuICAgICAgICAgICAgXCJzdXBlclwiOiA4LCBcIm1ldGFcIjogOCwgXCJjb21tYW5kXCI6IDgsIFwiY21kXCI6IDhcbiAgICAgICAgfSxcblxuICAgICAgICBGVU5DVElPTl9LRVlTIDoge1xuICAgICAgICAgICAgOCAgOiBcIkJhY2tzcGFjZVwiLFxuICAgICAgICAgICAgOSAgOiBcIlRhYlwiLFxuICAgICAgICAgICAgMTMgOiBcIlJldHVyblwiLFxuICAgICAgICAgICAgMTkgOiBcIlBhdXNlXCIsXG4gICAgICAgICAgICAyNyA6IFwiRXNjXCIsXG4gICAgICAgICAgICAzMiA6IFwiU3BhY2VcIixcbiAgICAgICAgICAgIDMzIDogXCJQYWdlVXBcIixcbiAgICAgICAgICAgIDM0IDogXCJQYWdlRG93blwiLFxuICAgICAgICAgICAgMzUgOiBcIkVuZFwiLFxuICAgICAgICAgICAgMzYgOiBcIkhvbWVcIixcbiAgICAgICAgICAgIDM3IDogXCJMZWZ0XCIsXG4gICAgICAgICAgICAzOCA6IFwiVXBcIixcbiAgICAgICAgICAgIDM5IDogXCJSaWdodFwiLFxuICAgICAgICAgICAgNDAgOiBcIkRvd25cIixcbiAgICAgICAgICAgIDQ0IDogXCJQcmludFwiLFxuICAgICAgICAgICAgNDUgOiBcIkluc2VydFwiLFxuICAgICAgICAgICAgNDYgOiBcIkRlbGV0ZVwiLFxuICAgICAgICAgICAgOTYgOiBcIk51bXBhZDBcIixcbiAgICAgICAgICAgIDk3IDogXCJOdW1wYWQxXCIsXG4gICAgICAgICAgICA5OCA6IFwiTnVtcGFkMlwiLFxuICAgICAgICAgICAgOTkgOiBcIk51bXBhZDNcIixcbiAgICAgICAgICAgIDEwMDogXCJOdW1wYWQ0XCIsXG4gICAgICAgICAgICAxMDE6IFwiTnVtcGFkNVwiLFxuICAgICAgICAgICAgMTAyOiBcIk51bXBhZDZcIixcbiAgICAgICAgICAgIDEwMzogXCJOdW1wYWQ3XCIsXG4gICAgICAgICAgICAxMDQ6IFwiTnVtcGFkOFwiLFxuICAgICAgICAgICAgMTA1OiBcIk51bXBhZDlcIixcbiAgICAgICAgICAgICctMTMnOiBcIk51bXBhZEVudGVyXCIsXG4gICAgICAgICAgICAxMTI6IFwiRjFcIixcbiAgICAgICAgICAgIDExMzogXCJGMlwiLFxuICAgICAgICAgICAgMTE0OiBcIkYzXCIsXG4gICAgICAgICAgICAxMTU6IFwiRjRcIixcbiAgICAgICAgICAgIDExNjogXCJGNVwiLFxuICAgICAgICAgICAgMTE3OiBcIkY2XCIsXG4gICAgICAgICAgICAxMTg6IFwiRjdcIixcbiAgICAgICAgICAgIDExOTogXCJGOFwiLFxuICAgICAgICAgICAgMTIwOiBcIkY5XCIsXG4gICAgICAgICAgICAxMjE6IFwiRjEwXCIsXG4gICAgICAgICAgICAxMjI6IFwiRjExXCIsXG4gICAgICAgICAgICAxMjM6IFwiRjEyXCIsXG4gICAgICAgICAgICAxNDQ6IFwiTnVtbG9ja1wiLFxuICAgICAgICAgICAgMTQ1OiBcIlNjcm9sbGxvY2tcIlxuICAgICAgICB9LFxuXG4gICAgICAgIFBSSU5UQUJMRV9LRVlTOiB7XG4gICAgICAgICAgIDMyOiAnICcsICA0ODogJzAnLCAgNDk6ICcxJywgIDUwOiAnMicsICA1MTogJzMnLCAgNTI6ICc0JywgNTM6ICAnNScsXG4gICAgICAgICAgIDU0OiAnNicsICA1NTogJzcnLCAgNTY6ICc4JywgIDU3OiAnOScsICA1OTogJzsnLCAgNjE6ICc9JywgNjU6ICAnYScsXG4gICAgICAgICAgIDY2OiAnYicsICA2NzogJ2MnLCAgNjg6ICdkJywgIDY5OiAnZScsICA3MDogJ2YnLCAgNzE6ICdnJywgNzI6ICAnaCcsXG4gICAgICAgICAgIDczOiAnaScsICA3NDogJ2onLCAgNzU6ICdrJywgIDc2OiAnbCcsICA3NzogJ20nLCAgNzg6ICduJywgNzk6ICAnbycsXG4gICAgICAgICAgIDgwOiAncCcsICA4MTogJ3EnLCAgODI6ICdyJywgIDgzOiAncycsICA4NDogJ3QnLCAgODU6ICd1JywgODY6ICAndicsXG4gICAgICAgICAgIDg3OiAndycsICA4ODogJ3gnLCAgODk6ICd5JywgIDkwOiAneicsIDEwNzogJysnLCAxMDk6ICctJywgMTEwOiAnLicsXG4gICAgICAgICAgMTg2OiAnOycsIDE4NzogJz0nLCAxODg6ICcsJywgMTg5OiAnLScsIDE5MDogJy4nLCAxOTE6ICcvJywgMTkyOiAnYCcsXG4gICAgICAgICAgMjE5OiAnWycsIDIyMDogJ1xcXFwnLDIyMTogJ10nLCAyMjI6IFwiJ1wiLCAxMTE6ICcvJywgMTA2OiAnKidcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG5hbWUsIGk7XG4gICAgZm9yIChpIGluIHJldC5GVU5DVElPTl9LRVlTKSB7XG4gICAgICAgIG5hbWUgPSByZXQuRlVOQ1RJT05fS0VZU1tpXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXRbbmFtZV0gPSBwYXJzZUludChpLCAxMCk7XG4gICAgfVxuICAgIGZvciAoaSBpbiByZXQuUFJJTlRBQkxFX0tFWVMpIHtcbiAgICAgICAgbmFtZSA9IHJldC5QUklOVEFCTEVfS0VZU1tpXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXRbbmFtZV0gPSBwYXJzZUludChpLCAxMCk7XG4gICAgfVxuICAgIG9vcC5taXhpbihyZXQsIHJldC5NT0RJRklFUl9LRVlTKTtcbiAgICBvb3AubWl4aW4ocmV0LCByZXQuUFJJTlRBQkxFX0tFWVMpO1xuICAgIG9vcC5taXhpbihyZXQsIHJldC5GVU5DVElPTl9LRVlTKTtcbiAgICByZXQuZW50ZXIgPSByZXRbXCJyZXR1cm5cIl07XG4gICAgcmV0LmVzY2FwZSA9IHJldC5lc2M7XG4gICAgcmV0LmRlbCA9IHJldFtcImRlbGV0ZVwiXTtcbiAgICByZXRbMTczXSA9ICctJztcbiAgICBcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtb2RzID0gW1wiY21kXCIsIFwiY3RybFwiLCBcImFsdFwiLCBcInNoaWZ0XCJdO1xuICAgICAgICBmb3IgKHZhciBpID0gTWF0aC5wb3coMiwgbW9kcy5sZW5ndGgpOyBpLS07KSB7ICAgICAgICAgICAgXG4gICAgICAgICAgICByZXQuS0VZX01PRFNbaV0gPSBtb2RzLmZpbHRlcihmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgJiByZXQuS0VZX01PRFNbeF07XG4gICAgICAgICAgICB9KS5qb2luKFwiLVwiKSArIFwiLVwiO1xuICAgICAgICB9XG4gICAgfSkoKTtcblxuICAgIHJldC5LRVlfTU9EU1swXSA9IFwiXCI7XG4gICAgcmV0LktFWV9NT0RTWy0xXSA9IFwiaW5wdXQtXCI7XG5cbiAgICByZXR1cm4gcmV0O1xufSkoKTtcbm9vcC5taXhpbihleHBvcnRzLCBLZXlzKTtcblxuZXhwb3J0cy5rZXlDb2RlVG9TdHJpbmcgPSBmdW5jdGlvbihrZXlDb2RlKSB7XG4gICAgdmFyIGtleVN0cmluZyA9IEtleXNba2V5Q29kZV07XG4gICAgaWYgKHR5cGVvZiBrZXlTdHJpbmcgIT0gXCJzdHJpbmdcIilcbiAgICAgICAga2V5U3RyaW5nID0gU3RyaW5nLmZyb21DaGFyQ29kZShrZXlDb2RlKTtcbiAgICByZXR1cm4ga2V5U3RyaW5nLnRvTG93ZXJDYXNlKCk7XG59O1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9saWIvdXNlcmFnZW50XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbmV4cG9ydHMuT1MgPSB7XG4gICAgTElOVVg6IFwiTElOVVhcIixcbiAgICBNQUM6IFwiTUFDXCIsXG4gICAgV0lORE9XUzogXCJXSU5ET1dTXCJcbn07XG5leHBvcnRzLmdldE9TID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGV4cG9ydHMuaXNNYWMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuT1MuTUFDO1xuICAgIH0gZWxzZSBpZiAoZXhwb3J0cy5pc0xpbnV4KSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk9TLkxJTlVYO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk9TLldJTkRPV1M7XG4gICAgfVxufTtcbmlmICh0eXBlb2YgbmF2aWdhdG9yICE9IFwib2JqZWN0XCIpXG4gICAgcmV0dXJuO1xuXG52YXIgb3MgPSAobmF2aWdhdG9yLnBsYXRmb3JtLm1hdGNoKC9tYWN8d2lufGxpbnV4L2kpIHx8IFtcIm90aGVyXCJdKVswXS50b0xvd2VyQ2FzZSgpO1xudmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbmV4cG9ydHMuaXNXaW4gPSAob3MgPT0gXCJ3aW5cIik7XG5leHBvcnRzLmlzTWFjID0gKG9zID09IFwibWFjXCIpO1xuZXhwb3J0cy5pc0xpbnV4ID0gKG9zID09IFwibGludXhcIik7XG5leHBvcnRzLmlzSUUgPSBcbiAgICAobmF2aWdhdG9yLmFwcE5hbWUgPT0gXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIiB8fCBuYXZpZ2F0b3IuYXBwTmFtZS5pbmRleE9mKFwiTVNBcHBIb3N0XCIpID49IDApXG4gICAgPyBwYXJzZUZsb2F0KCh1YS5tYXRjaCgvKD86TVNJRSB8VHJpZGVudFxcL1swLTldK1tcXC4wLTldKzsuKnJ2OikoWzAtOV0rW1xcLjAtOV0rKS8pfHxbXSlbMV0pXG4gICAgOiBwYXJzZUZsb2F0KCh1YS5tYXRjaCgvKD86VHJpZGVudFxcL1swLTldK1tcXC4wLTldKzsuKnJ2OikoWzAtOV0rW1xcLjAtOV0rKS8pfHxbXSlbMV0pOyAvLyBmb3IgaWVcbiAgICBcbmV4cG9ydHMuaXNPbGRJRSA9IGV4cG9ydHMuaXNJRSAmJiBleHBvcnRzLmlzSUUgPCA5O1xuZXhwb3J0cy5pc0dlY2tvID0gZXhwb3J0cy5pc01vemlsbGEgPSAod2luZG93LkNvbnRyb2xsZXJzIHx8IHdpbmRvdy5jb250cm9sbGVycykgJiYgd2luZG93Lm5hdmlnYXRvci5wcm9kdWN0ID09PSBcIkdlY2tvXCI7XG5leHBvcnRzLmlzT2xkR2Vja28gPSBleHBvcnRzLmlzR2Vja28gJiYgcGFyc2VJbnQoKHVhLm1hdGNoKC9ydlxcOihcXGQrKS8pfHxbXSlbMV0sIDEwKSA8IDQ7XG5leHBvcnRzLmlzT3BlcmEgPSB3aW5kb3cub3BlcmEgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5vcGVyYSkgPT0gXCJbb2JqZWN0IE9wZXJhXVwiO1xuZXhwb3J0cy5pc1dlYktpdCA9IHBhcnNlRmxvYXQodWEuc3BsaXQoXCJXZWJLaXQvXCIpWzFdKSB8fCB1bmRlZmluZWQ7XG5cbmV4cG9ydHMuaXNDaHJvbWUgPSBwYXJzZUZsb2F0KHVhLnNwbGl0KFwiIENocm9tZS9cIilbMV0pIHx8IHVuZGVmaW5lZDtcblxuZXhwb3J0cy5pc0FJUiA9IHVhLmluZGV4T2YoXCJBZG9iZUFJUlwiKSA+PSAwO1xuXG5leHBvcnRzLmlzSVBhZCA9IHVhLmluZGV4T2YoXCJpUGFkXCIpID49IDA7XG5cbmV4cG9ydHMuaXNUb3VjaFBhZCA9IHVhLmluZGV4T2YoXCJUb3VjaFBhZFwiKSA+PSAwO1xuXG5leHBvcnRzLmlzQ2hyb21lT1MgPSB1YS5pbmRleE9mKFwiIENyT1MgXCIpID49IDA7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xpYi9ldmVudFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9rZXlzXCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBrZXlzID0gYWNlcXVpcmUoXCIuL2tleXNcIik7XG52YXIgdXNlcmFnZW50ID0gYWNlcXVpcmUoXCIuL3VzZXJhZ2VudFwiKTtcblxudmFyIHByZXNzZWRLZXlzID0gbnVsbDtcbnZhciB0cyA9IDA7XG5cbmV4cG9ydHMuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbihlbGVtLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIGlmIChlbGVtLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5hdHRhY2hFdmVudCkge1xuICAgICAgICB2YXIgd3JhcHBlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtLCB3aW5kb3cuZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBjYWxsYmFjay5fd3JhcHBlciA9IHdyYXBwZXI7XG4gICAgICAgIGVsZW0uYXR0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgd3JhcHBlcik7XG4gICAgfVxufTtcblxuZXhwb3J0cy5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGVsZW0sIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmIChlbGVtLmRldGFjaEV2ZW50KSB7XG4gICAgICAgIGVsZW0uZGV0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgY2FsbGJhY2suX3dyYXBwZXIgfHwgY2FsbGJhY2spO1xuICAgIH1cbn07XG5leHBvcnRzLnN0b3BFdmVudCA9IGZ1bmN0aW9uKGUpIHtcbiAgICBleHBvcnRzLnN0b3BQcm9wYWdhdGlvbihlKTtcbiAgICBleHBvcnRzLnByZXZlbnREZWZhdWx0KGUpO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydHMuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oZSkge1xuICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlbHNlXG4gICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbn07XG5cbmV4cG9ydHMucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUucHJldmVudERlZmF1bHQpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlbHNlXG4gICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbn07XG5leHBvcnRzLmdldEJ1dHRvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS50eXBlID09IFwiZGJsY2xpY2tcIilcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgaWYgKGUudHlwZSA9PSBcImNvbnRleHRtZW51XCIgfHwgKHVzZXJhZ2VudC5pc01hYyAmJiAoZS5jdHJsS2V5ICYmICFlLmFsdEtleSAmJiAhZS5zaGlmdEtleSkpKVxuICAgICAgICByZXR1cm4gMjtcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gZS5idXR0b247XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gezE6MCwgMjoyLCA0OjF9W2UuYnV0dG9uXTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmNhcHR1cmUgPSBmdW5jdGlvbihlbCwgZXZlbnRIYW5kbGVyLCByZWxlYXNlQ2FwdHVyZUhhbmRsZXIpIHtcbiAgICBmdW5jdGlvbiBvbk1vdXNlVXAoZSkge1xuICAgICAgICBldmVudEhhbmRsZXIgJiYgZXZlbnRIYW5kbGVyKGUpO1xuICAgICAgICByZWxlYXNlQ2FwdHVyZUhhbmRsZXIgJiYgcmVsZWFzZUNhcHR1cmVIYW5kbGVyKGUpO1xuXG4gICAgICAgIGV4cG9ydHMucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIFwibW91c2Vtb3ZlXCIsIGV2ZW50SGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgIGV4cG9ydHMucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIFwibW91c2V1cFwiLCBvbk1vdXNlVXAsIHRydWUpO1xuICAgICAgICBleHBvcnRzLnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCBcImRyYWdzdGFydFwiLCBvbk1vdXNlVXAsIHRydWUpO1xuICAgIH1cblxuICAgIGV4cG9ydHMuYWRkTGlzdGVuZXIoZG9jdW1lbnQsIFwibW91c2Vtb3ZlXCIsIGV2ZW50SGFuZGxlciwgdHJ1ZSk7XG4gICAgZXhwb3J0cy5hZGRMaXN0ZW5lcihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIG9uTW91c2VVcCwgdHJ1ZSk7XG4gICAgZXhwb3J0cy5hZGRMaXN0ZW5lcihkb2N1bWVudCwgXCJkcmFnc3RhcnRcIiwgb25Nb3VzZVVwLCB0cnVlKTtcbiAgICBcbiAgICByZXR1cm4gb25Nb3VzZVVwO1xufTtcblxuZXhwb3J0cy5hZGRUb3VjaE1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChlbCwgY2FsbGJhY2spIHtcbiAgICBpZiAoXCJvbnRvdWNobW92ZVwiIGluIGVsKSB7XG4gICAgICAgIHZhciBzdGFydHgsIHN0YXJ0eTtcbiAgICAgICAgZXhwb3J0cy5hZGRMaXN0ZW5lcihlbCwgXCJ0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgdG91Y2hPYmogPSBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgICAgICAgc3RhcnR4ID0gdG91Y2hPYmouY2xpZW50WDtcbiAgICAgICAgICAgIHN0YXJ0eSA9IHRvdWNoT2JqLmNsaWVudFk7XG4gICAgICAgIH0pO1xuICAgICAgICBleHBvcnRzLmFkZExpc3RlbmVyKGVsLCBcInRvdWNobW92ZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGZhY3RvciA9IDEsXG4gICAgICAgICAgICB0b3VjaE9iaiA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XG5cbiAgICAgICAgICAgIGUud2hlZWxYID0gLSh0b3VjaE9iai5jbGllbnRYIC0gc3RhcnR4KSAvIGZhY3RvcjtcbiAgICAgICAgICAgIGUud2hlZWxZID0gLSh0b3VjaE9iai5jbGllbnRZIC0gc3RhcnR5KSAvIGZhY3RvcjtcblxuICAgICAgICAgICAgc3RhcnR4ID0gdG91Y2hPYmouY2xpZW50WDtcbiAgICAgICAgICAgIHN0YXJ0eSA9IHRvdWNoT2JqLmNsaWVudFk7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKGUpO1xuICAgICAgICB9KTtcbiAgICB9IFxufTtcblxuZXhwb3J0cy5hZGRNb3VzZVdoZWVsTGlzdGVuZXIgPSBmdW5jdGlvbihlbCwgY2FsbGJhY2spIHtcbiAgICBpZiAoXCJvbm1vdXNld2hlZWxcIiBpbiBlbCkge1xuICAgICAgICBleHBvcnRzLmFkZExpc3RlbmVyKGVsLCBcIm1vdXNld2hlZWxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGZhY3RvciA9IDg7XG4gICAgICAgICAgICBpZiAoZS53aGVlbERlbHRhWCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZS53aGVlbFggPSAtZS53aGVlbERlbHRhWCAvIGZhY3RvcjtcbiAgICAgICAgICAgICAgICBlLndoZWVsWSA9IC1lLndoZWVsRGVsdGFZIC8gZmFjdG9yO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLndoZWVsWCA9IDA7XG4gICAgICAgICAgICAgICAgZS53aGVlbFkgPSAtZS53aGVlbERlbHRhIC8gZmFjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoXCJvbndoZWVsXCIgaW4gZWwpIHtcbiAgICAgICAgZXhwb3J0cy5hZGRMaXN0ZW5lcihlbCwgXCJ3aGVlbFwiLCAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGZhY3RvciA9IDAuMzU7XG4gICAgICAgICAgICBzd2l0Y2ggKGUuZGVsdGFNb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBlLkRPTV9ERUxUQV9QSVhFTDpcbiAgICAgICAgICAgICAgICAgICAgZS53aGVlbFggPSBlLmRlbHRhWCAqIGZhY3RvciB8fCAwO1xuICAgICAgICAgICAgICAgICAgICBlLndoZWVsWSA9IGUuZGVsdGFZICogZmFjdG9yIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZS5ET01fREVMVEFfTElORTpcbiAgICAgICAgICAgICAgICBjYXNlIGUuRE9NX0RFTFRBX1BBR0U6XG4gICAgICAgICAgICAgICAgICAgIGUud2hlZWxYID0gKGUuZGVsdGFYIHx8IDApICogNTtcbiAgICAgICAgICAgICAgICAgICAgZS53aGVlbFkgPSAoZS5kZWx0YVkgfHwgMCkgKiA1O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGV4cG9ydHMuYWRkTGlzdGVuZXIoZWwsIFwiRE9NTW91c2VTY3JvbGxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUuYXhpcyAmJiBlLmF4aXMgPT0gZS5IT1JJWk9OVEFMX0FYSVMpIHtcbiAgICAgICAgICAgICAgICBlLndoZWVsWCA9IChlLmRldGFpbCB8fCAwKSAqIDU7XG4gICAgICAgICAgICAgICAgZS53aGVlbFkgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLndoZWVsWCA9IDA7XG4gICAgICAgICAgICAgICAgZS53aGVlbFkgPSAoZS5kZXRhaWwgfHwgMCkgKiA1O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuYWRkTXVsdGlNb3VzZURvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGVsZW1lbnRzLCB0aW1lb3V0cywgZXZlbnRIYW5kbGVyLCBjYWxsYmFja05hbWUpIHtcbiAgICB2YXIgY2xpY2tzID0gMDtcbiAgICB2YXIgc3RhcnRYLCBzdGFydFksIHRpbWVyOyBcbiAgICB2YXIgZXZlbnROYW1lcyA9IHtcbiAgICAgICAgMjogXCJkYmxjbGlja1wiLFxuICAgICAgICAzOiBcInRyaXBsZWNsaWNrXCIsXG4gICAgICAgIDQ6IFwicXVhZGNsaWNrXCJcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25Nb3VzZWRvd24oZSkge1xuICAgICAgICBpZiAoZXhwb3J0cy5nZXRCdXR0b24oZSkgIT09IDApIHtcbiAgICAgICAgICAgIGNsaWNrcyA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5kZXRhaWwgPiAxKSB7XG4gICAgICAgICAgICBjbGlja3MrKztcbiAgICAgICAgICAgIGlmIChjbGlja3MgPiA0KVxuICAgICAgICAgICAgICAgIGNsaWNrcyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGlja3MgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VyYWdlbnQuaXNJRSkge1xuICAgICAgICAgICAgdmFyIGlzTmV3Q2xpY2sgPSBNYXRoLmFicyhlLmNsaWVudFggLSBzdGFydFgpID4gNSB8fCBNYXRoLmFicyhlLmNsaWVudFkgLSBzdGFydFkpID4gNTtcbiAgICAgICAgICAgIGlmICghdGltZXIgfHwgaXNOZXdDbGljaylcbiAgICAgICAgICAgICAgICBjbGlja3MgPSAxO1xuICAgICAgICAgICAgaWYgKHRpbWVyKVxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7dGltZXIgPSBudWxsfSwgdGltZW91dHNbY2xpY2tzIC0gMV0gfHwgNjAwKTtcblxuICAgICAgICAgICAgaWYgKGNsaWNrcyA9PSAxKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRYID0gZS5jbGllbnRYO1xuICAgICAgICAgICAgICAgIHN0YXJ0WSA9IGUuY2xpZW50WTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZS5fY2xpY2tzID0gY2xpY2tzO1xuXG4gICAgICAgIGV2ZW50SGFuZGxlcltjYWxsYmFja05hbWVdKFwibW91c2Vkb3duXCIsIGUpO1xuXG4gICAgICAgIGlmIChjbGlja3MgPiA0KVxuICAgICAgICAgICAgY2xpY2tzID0gMDtcbiAgICAgICAgZWxzZSBpZiAoY2xpY2tzID4gMSlcbiAgICAgICAgICAgIHJldHVybiBldmVudEhhbmRsZXJbY2FsbGJhY2tOYW1lXShldmVudE5hbWVzW2NsaWNrc10sIGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkRibGNsaWNrKGUpIHtcbiAgICAgICAgY2xpY2tzID0gMjtcbiAgICAgICAgaWYgKHRpbWVyKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge3RpbWVyID0gbnVsbH0sIHRpbWVvdXRzW2NsaWNrcyAtIDFdIHx8IDYwMCk7XG4gICAgICAgIGV2ZW50SGFuZGxlcltjYWxsYmFja05hbWVdKFwibW91c2Vkb3duXCIsIGUpO1xuICAgICAgICBldmVudEhhbmRsZXJbY2FsbGJhY2tOYW1lXShldmVudE5hbWVzW2NsaWNrc10sIGUpO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZWxlbWVudHMpKVxuICAgICAgICBlbGVtZW50cyA9IFtlbGVtZW50c107XG4gICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuICAgICAgICBleHBvcnRzLmFkZExpc3RlbmVyKGVsLCBcIm1vdXNlZG93blwiLCBvbk1vdXNlZG93bik7XG4gICAgICAgIGlmICh1c2VyYWdlbnQuaXNPbGRJRSlcbiAgICAgICAgICAgIGV4cG9ydHMuYWRkTGlzdGVuZXIoZWwsIFwiZGJsY2xpY2tcIiwgb25EYmxjbGljayk7XG4gICAgfSk7XG59O1xuXG52YXIgZ2V0TW9kaWZpZXJIYXNoID0gdXNlcmFnZW50LmlzTWFjICYmIHVzZXJhZ2VudC5pc09wZXJhICYmICEoXCJLZXlib2FyZEV2ZW50XCIgaW4gd2luZG93KVxuICAgID8gZnVuY3Rpb24oZSkge1xuICAgICAgICByZXR1cm4gMCB8IChlLm1ldGFLZXkgPyAxIDogMCkgfCAoZS5hbHRLZXkgPyAyIDogMCkgfCAoZS5zaGlmdEtleSA/IDQgOiAwKSB8IChlLmN0cmxLZXkgPyA4IDogMCk7XG4gICAgfVxuICAgIDogZnVuY3Rpb24oZSkge1xuICAgICAgICByZXR1cm4gMCB8IChlLmN0cmxLZXkgPyAxIDogMCkgfCAoZS5hbHRLZXkgPyAyIDogMCkgfCAoZS5zaGlmdEtleSA/IDQgOiAwKSB8IChlLm1ldGFLZXkgPyA4IDogMCk7XG4gICAgfTtcblxuZXhwb3J0cy5nZXRNb2RpZmllclN0cmluZyA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4ga2V5cy5LRVlfTU9EU1tnZXRNb2RpZmllckhhc2goZSldO1xufTtcblxuZnVuY3Rpb24gbm9ybWFsaXplQ29tbWFuZEtleXMoY2FsbGJhY2ssIGUsIGtleUNvZGUpIHtcbiAgICB2YXIgaGFzaElkID0gZ2V0TW9kaWZpZXJIYXNoKGUpO1xuXG4gICAgaWYgKCF1c2VyYWdlbnQuaXNNYWMgJiYgcHJlc3NlZEtleXMpIHtcbiAgICAgICAgaWYgKHByZXNzZWRLZXlzLk9TS2V5KVxuICAgICAgICAgICAgaGFzaElkIHw9IDg7XG4gICAgICAgIGlmIChwcmVzc2VkS2V5cy5hbHRHcikge1xuICAgICAgICAgICAgaWYgKCgzICYgaGFzaElkKSAhPSAzKVxuICAgICAgICAgICAgICAgIHByZXNzZWRLZXlzLmFsdEdyID0gMDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleUNvZGUgPT09IDE4IHx8IGtleUNvZGUgPT09IDE3KSB7XG4gICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBcImxvY2F0aW9uXCIgaW4gZSA/IGUubG9jYXRpb24gOiBlLmtleUxvY2F0aW9uO1xuICAgICAgICAgICAgaWYgKGtleUNvZGUgPT09IDE3ICYmIGxvY2F0aW9uID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXNzZWRLZXlzW2tleUNvZGVdID09IDEpXG4gICAgICAgICAgICAgICAgICAgIHRzID0gZS50aW1lU3RhbXA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IDE4ICYmIGhhc2hJZCA9PT0gMyAmJiBsb2NhdGlvbiA9PT0gMikge1xuICAgICAgICAgICAgICAgIHZhciBkdCA9IGUudGltZVN0YW1wIC0gdHM7XG4gICAgICAgICAgICAgICAgaWYgKGR0IDwgNTApXG4gICAgICAgICAgICAgICAgICAgIHByZXNzZWRLZXlzLmFsdEdyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoa2V5Q29kZSBpbiBrZXlzLk1PRElGSUVSX0tFWVMpIHtcbiAgICAgICAga2V5Q29kZSA9IC0xO1xuICAgIH1cbiAgICBpZiAoaGFzaElkICYgOCAmJiAoa2V5Q29kZSA+PSA5MSAmJiBrZXlDb2RlIDw9IDkzKSkge1xuICAgICAgICBrZXlDb2RlID0gLTE7XG4gICAgfVxuICAgIFxuICAgIGlmICghaGFzaElkICYmIGtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IFwibG9jYXRpb25cIiBpbiBlID8gZS5sb2NhdGlvbiA6IGUua2V5TG9jYXRpb247XG4gICAgICAgIGlmIChsb2NhdGlvbiA9PT0gMykge1xuICAgICAgICAgICAgY2FsbGJhY2soZSwgaGFzaElkLCAta2V5Q29kZSk7XG4gICAgICAgICAgICBpZiAoZS5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAodXNlcmFnZW50LmlzQ2hyb21lT1MgJiYgaGFzaElkICYgOCkge1xuICAgICAgICBjYWxsYmFjayhlLCBoYXNoSWQsIGtleUNvZGUpO1xuICAgICAgICBpZiAoZS5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBoYXNoSWQgJj0gfjg7XG4gICAgfVxuICAgIGlmICghaGFzaElkICYmICEoa2V5Q29kZSBpbiBrZXlzLkZVTkNUSU9OX0tFWVMpICYmICEoa2V5Q29kZSBpbiBrZXlzLlBSSU5UQUJMRV9LRVlTKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjYWxsYmFjayhlLCBoYXNoSWQsIGtleUNvZGUpO1xufVxuXG5cbmV4cG9ydHMuYWRkQ29tbWFuZEtleUxpc3RlbmVyID0gZnVuY3Rpb24oZWwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGFkZExpc3RlbmVyID0gZXhwb3J0cy5hZGRMaXN0ZW5lcjtcbiAgICBpZiAodXNlcmFnZW50LmlzT2xkR2Vja28gfHwgKHVzZXJhZ2VudC5pc09wZXJhICYmICEoXCJLZXlib2FyZEV2ZW50XCIgaW4gd2luZG93KSkpIHtcbiAgICAgICAgdmFyIGxhc3RLZXlEb3duS2V5Q29kZSA9IG51bGw7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsLCBcImtleWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgbGFzdEtleURvd25LZXlDb2RlID0gZS5rZXlDb2RlO1xuICAgICAgICB9KTtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWwsIFwia2V5cHJlc3NcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZUNvbW1hbmRLZXlzKGNhbGxiYWNrLCBlLCBsYXN0S2V5RG93bktleUNvZGUpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbGFzdERlZmF1bHRQcmV2ZW50ZWQgPSBudWxsO1xuXG4gICAgICAgIGFkZExpc3RlbmVyKGVsLCBcImtleWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7XG4gICAgICAgICAgICBwcmVzc2VkS2V5c1trZXlDb2RlXSA9IChwcmVzc2VkS2V5c1trZXlDb2RlXSB8fCAwKSArIDE7XG4gICAgICAgICAgICBpZiAoa2V5Q29kZSA9PSA5MSB8fCBrZXlDb2RlID09IDkyKSB7XG4gICAgICAgICAgICAgICAgcHJlc3NlZEtleXMuT1NLZXkgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcmVzc2VkS2V5cy5PU0tleSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRpbWVTdGFtcCAtIHByZXNzZWRLZXlzLmxhc3RUID4gMjAwICYmIHByZXNzZWRLZXlzLmNvdW50ID09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0UHJlc3NlZEtleXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmVzc2VkS2V5c1trZXlDb2RlXSA9PSAxKVxuICAgICAgICAgICAgICAgIHByZXNzZWRLZXlzLmNvdW50Kys7XG4gICAgICAgICAgICBwcmVzc2VkS2V5cy5sYXN0VCA9IGUudGltZVN0YW1wO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5vcm1hbGl6ZUNvbW1hbmRLZXlzKGNhbGxiYWNrLCBlLCBrZXlDb2RlKTtcbiAgICAgICAgICAgIGxhc3REZWZhdWx0UHJldmVudGVkID0gZS5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWRkTGlzdGVuZXIoZWwsIFwia2V5cHJlc3NcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGxhc3REZWZhdWx0UHJldmVudGVkICYmIChlLmN0cmxLZXkgfHwgZS5hbHRLZXkgfHwgZS5zaGlmdEtleSB8fCBlLm1ldGFLZXkpKSB7XG4gICAgICAgICAgICAgICAgZXhwb3J0cy5zdG9wRXZlbnQoZSk7XG4gICAgICAgICAgICAgICAgbGFzdERlZmF1bHRQcmV2ZW50ZWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBhZGRMaXN0ZW5lcihlbCwgXCJrZXl1cFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZTtcbiAgICAgICAgICAgIGlmICghcHJlc3NlZEtleXNba2V5Q29kZV0pIHtcbiAgICAgICAgICAgICAgICByZXNldFByZXNzZWRLZXlzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXNzZWRLZXlzLmNvdW50ID0gTWF0aC5tYXgocHJlc3NlZEtleXMuY291bnQgLSAxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXlDb2RlID09IDkxIHx8IGtleUNvZGUgPT0gOTIpIHtcbiAgICAgICAgICAgICAgICBwcmVzc2VkS2V5cy5PU0tleSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJlc3NlZEtleXNba2V5Q29kZV0gPSBudWxsO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXByZXNzZWRLZXlzKSB7XG4gICAgICAgICAgICByZXNldFByZXNzZWRLZXlzKCk7XG4gICAgICAgICAgICBhZGRMaXN0ZW5lcih3aW5kb3csIFwiZm9jdXNcIiwgcmVzZXRQcmVzc2VkS2V5cyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZnVuY3Rpb24gcmVzZXRQcmVzc2VkS2V5cygpIHtcbiAgICBwcmVzc2VkS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgcHJlc3NlZEtleXMuY291bnQgPSAwO1xuICAgIHByZXNzZWRLZXlzLmxhc3RUID0gMDtcbn1cblxuaWYgKHR5cGVvZiB3aW5kb3cgPT0gXCJvYmplY3RcIiAmJiB3aW5kb3cucG9zdE1lc3NhZ2UgJiYgIXVzZXJhZ2VudC5pc09sZElFKSB7XG4gICAgdmFyIHBvc3RNZXNzYWdlSWQgPSAxO1xuICAgIGV4cG9ydHMubmV4dFRpY2sgPSBmdW5jdGlvbihjYWxsYmFjaywgd2luKSB7XG4gICAgICAgIHdpbiA9IHdpbiB8fCB3aW5kb3c7XG4gICAgICAgIHZhciBtZXNzYWdlTmFtZSA9IFwiemVyby10aW1lb3V0LW1lc3NhZ2UtXCIgKyBwb3N0TWVzc2FnZUlkO1xuICAgICAgICBleHBvcnRzLmFkZExpc3RlbmVyKHdpbiwgXCJtZXNzYWdlXCIsIGZ1bmN0aW9uIGxpc3RlbmVyKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmRhdGEgPT0gbWVzc2FnZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBleHBvcnRzLnN0b3BQcm9wYWdhdGlvbihlKTtcbiAgICAgICAgICAgICAgICBleHBvcnRzLnJlbW92ZUxpc3RlbmVyKHdpbiwgXCJtZXNzYWdlXCIsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2luLnBvc3RNZXNzYWdlKG1lc3NhZ2VOYW1lLCBcIipcIik7XG4gICAgfTtcbn1cblxuXG5leHBvcnRzLm5leHRGcmFtZSA9IHR5cGVvZiB3aW5kb3cgPT0gXCJvYmplY3RcIiAmJiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgfHwgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xuXG5pZiAoZXhwb3J0cy5uZXh0RnJhbWUpXG4gICAgZXhwb3J0cy5uZXh0RnJhbWUgPSBleHBvcnRzLm5leHRGcmFtZS5iaW5kKHdpbmRvdyk7XG5lbHNlXG4gICAgZXhwb3J0cy5uZXh0RnJhbWUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxNyk7XG4gICAgfTtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xpYi9sYW5nXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5sYXN0ID0gZnVuY3Rpb24oYSkge1xuICAgIHJldHVybiBhW2EubGVuZ3RoIC0gMV07XG59O1xuXG5leHBvcnRzLnN0cmluZ1JldmVyc2UgPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpO1xufTtcblxuZXhwb3J0cy5zdHJpbmdSZXBlYXQgPSBmdW5jdGlvbiAoc3RyaW5nLCBjb3VudCkge1xuICAgIHZhciByZXN1bHQgPSAnJztcbiAgICB3aGlsZSAoY291bnQgPiAwKSB7XG4gICAgICAgIGlmIChjb3VudCAmIDEpXG4gICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuXG4gICAgICAgIGlmIChjb3VudCA+Pj0gMSlcbiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cXHNcXHMqLztcbnZhciB0cmltRW5kUmVnZXhwID0gL1xcc1xccyokLztcblxuZXhwb3J0cy5zdHJpbmdUcmltTGVmdCA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCAnJyk7XG59O1xuXG5leHBvcnRzLnN0cmluZ1RyaW1SaWdodCA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCwgJycpO1xufTtcblxuZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGNvcHkgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGNvcHlba2V5XSA9IG9ialtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gY29weTtcbn07XG5cbmV4cG9ydHMuY29weUFycmF5ID0gZnVuY3Rpb24oYXJyYXkpe1xuICAgIHZhciBjb3B5ID0gW107XG4gICAgZm9yICh2YXIgaT0wLCBsPWFycmF5Lmxlbmd0aDsgaTxsOyBpKyspIHtcbiAgICAgICAgaWYgKGFycmF5W2ldICYmIHR5cGVvZiBhcnJheVtpXSA9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgY29weVtpXSA9IHRoaXMuY29weU9iamVjdCggYXJyYXlbaV0gKTtcbiAgICAgICAgZWxzZSBcbiAgICAgICAgICAgIGNvcHlbaV0gPSBhcnJheVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvcHk7XG59O1xuXG5leHBvcnRzLmRlZXBDb3B5ID0gZnVuY3Rpb24gZGVlcENvcHkob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIgfHwgIW9iailcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB2YXIgY29weTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGNvcHkgPSBbXTtcbiAgICAgICAgZm9yICh2YXIga2V5ID0gMDsga2V5IDwgb2JqLmxlbmd0aDsga2V5KyspIHtcbiAgICAgICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG4gICAgdmFyIGNvbnMgPSBvYmouY29uc3RydWN0b3I7XG4gICAgaWYgKGNvbnMgPT09IFJlZ0V4cClcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICBcbiAgICBjb3B5ID0gY29ucygpO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgY29weVtrZXldID0gZGVlcENvcHkob2JqW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gY29weTtcbn07XG5cbmV4cG9ydHMuYXJyYXlUb01hcCA9IGZ1bmN0aW9uKGFycikge1xuICAgIHZhciBtYXAgPSB7fTtcbiAgICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hcFthcnJbaV1dID0gMTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcblxufTtcblxuZXhwb3J0cy5jcmVhdGVNYXAgPSBmdW5jdGlvbihwcm9wcykge1xuICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAodmFyIGkgaW4gcHJvcHMpIHtcbiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07XG4gICAgfVxuICAgIHJldHVybiBtYXA7XG59O1xuZXhwb3J0cy5hcnJheVJlbW92ZSA9IGZ1bmN0aW9uKGFycmF5LCB2YWx1ZSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8PSBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGlmICh2YWx1ZSA9PT0gYXJyYXlbaV0pIHtcbiAgICAgIGFycmF5LnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xcXVxcL1xcXFxdKS9nLCAnXFxcXCQxJyk7XG59O1xuXG5leHBvcnRzLmVzY2FwZUhUTUwgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYvZywgXCImIzM4O1wiKS5yZXBsYWNlKC9cIi9nLCBcIiYjMzQ7XCIpLnJlcGxhY2UoLycvZywgXCImIzM5O1wiKS5yZXBsYWNlKC88L2csIFwiJiM2MDtcIik7XG59O1xuXG5leHBvcnRzLmdldE1hdGNoT2Zmc2V0cyA9IGZ1bmN0aW9uKHN0cmluZywgcmVnRXhwKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBbXTtcblxuICAgIHN0cmluZy5yZXBsYWNlKHJlZ0V4cCwgZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIG1hdGNoZXMucHVzaCh7XG4gICAgICAgICAgICBvZmZzZXQ6IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTJdLFxuICAgICAgICAgICAgbGVuZ3RoOiBzdHIubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1hdGNoZXM7XG59O1xuZXhwb3J0cy5kZWZlcnJlZENhbGwgPSBmdW5jdGlvbihmY24pIHtcbiAgICB2YXIgdGltZXIgPSBudWxsO1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgIGZjbigpO1xuICAgIH07XG5cbiAgICB2YXIgZGVmZXJyZWQgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gICAgICAgIGRlZmVycmVkLmNhbmNlbCgpO1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9O1xuXG4gICAgZGVmZXJyZWQuc2NoZWR1bGUgPSBkZWZlcnJlZDtcblxuICAgIGRlZmVycmVkLmNhbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgZmNuKCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9O1xuXG4gICAgZGVmZXJyZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkO1xuICAgIH07XG4gICAgXG4gICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aW1lcjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlZmVycmVkO1xufTtcblxuXG5leHBvcnRzLmRlbGF5ZWRDYWxsID0gZnVuY3Rpb24oZmNuLCBkZWZhdWx0VGltZW91dCkge1xuICAgIHZhciB0aW1lciA9IG51bGw7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgZmNuKCk7XG4gICAgfTtcblxuICAgIHZhciBfc2VsZiA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgICAgICAgaWYgKHRpbWVyID09IG51bGwpXG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpO1xuICAgIH07XG5cbiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTtcbiAgICB9O1xuICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7XG5cbiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIGZjbigpO1xuICAgIH07XG5cbiAgICBfc2VsZi5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICBfc2VsZi5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVyO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3NlbGY7XG59O1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2Uva2V5Ym9hcmQvdGV4dGlucHV0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvbGFuZ1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xudmFyIHVzZXJhZ2VudCA9IGFjZXF1aXJlKFwiLi4vbGliL3VzZXJhZ2VudFwiKTtcbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG52YXIgQlJPS0VOX1NFVERBVEEgPSB1c2VyYWdlbnQuaXNDaHJvbWUgPCAxODtcbnZhciBVU0VfSUVfTUlNRV9UWVBFID0gIHVzZXJhZ2VudC5pc0lFO1xuXG52YXIgVGV4dElucHV0ID0gZnVuY3Rpb24ocGFyZW50Tm9kZSwgaG9zdCkge1xuICAgIHZhciB0ZXh0ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICB0ZXh0LmNsYXNzTmFtZSA9IFwiYWNlX3RleHQtaW5wdXRcIjtcblxuICAgIGlmICh1c2VyYWdlbnQuaXNUb3VjaFBhZClcbiAgICAgICAgdGV4dC5zZXRBdHRyaWJ1dGUoXCJ4LXBhbG0tZGlzYWJsZS1hdXRvLWNhcFwiLCB0cnVlKTtcblxuICAgIHRleHQuc2V0QXR0cmlidXRlKFwid3JhcFwiLCBcIm9mZlwiKTtcbiAgICB0ZXh0LnNldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIsIFwib2ZmXCIpO1xuICAgIHRleHQuc2V0QXR0cmlidXRlKFwiYXV0b2NhcGl0YWxpemVcIiwgXCJvZmZcIik7XG4gICAgdGV4dC5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsIGZhbHNlKTtcblxuICAgIHRleHQuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIGlmICh1c2VyYWdlbnQuaXNPbGRJRSkgdGV4dC5zdHlsZS50b3AgPSBcIi0xMDAwcHhcIjtcbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZSh0ZXh0LCBwYXJlbnROb2RlLmZpcnN0Q2hpbGQpO1xuXG4gICAgdmFyIFBMQUNFSE9MREVSID0gXCJcXHgwMVxceDAxXCI7XG5cbiAgICB2YXIgY29waWVkID0gZmFsc2U7XG4gICAgdmFyIHBhc3RlZCA9IGZhbHNlO1xuICAgIHZhciBpbkNvbXBvc2l0aW9uID0gZmFsc2U7XG4gICAgdmFyIHRlbXBTdHlsZSA9ICcnO1xuICAgIHZhciBpc1NlbGVjdGlvbkVtcHR5ID0gdHJ1ZTtcbiAgICB0cnkgeyB2YXIgaXNGb2N1c2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGV4dDsgfSBjYXRjaChlKSB7fVxuICAgIFxuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwiYmx1clwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGhvc3Qub25CbHVyKGUpO1xuICAgICAgICBpc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcImZvY3VzXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaXNGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgaG9zdC5vbkZvY3VzKGUpO1xuICAgICAgICByZXNldFNlbGVjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuZm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRlbXBTdHlsZSkgcmV0dXJuIHRleHQuZm9jdXMoKTtcbiAgICAgICAgdmFyIHRvcCA9IHRleHQuc3R5bGUudG9wO1xuICAgICAgICB0ZXh0LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICAgICAgICB0ZXh0LnN0eWxlLnRvcCA9IFwiMHB4XCI7XG4gICAgICAgIHRleHQuZm9jdXMoKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRleHQuc3R5bGUucG9zaXRpb24gPSBcIlwiO1xuICAgICAgICAgICAgaWYgKHRleHQuc3R5bGUudG9wID09IFwiMHB4XCIpXG4gICAgICAgICAgICAgICAgdGV4dC5zdHlsZS50b3AgPSB0b3A7XG4gICAgICAgIH0sIDApO1xuICAgIH07XG4gICAgdGhpcy5ibHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRleHQuYmx1cigpO1xuICAgIH07XG4gICAgdGhpcy5pc0ZvY3VzZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGlzRm9jdXNlZDtcbiAgICB9O1xuICAgIHZhciBzeW5jU2VsZWN0aW9uID0gbGFuZy5kZWxheWVkQ2FsbChmdW5jdGlvbigpIHtcbiAgICAgICAgaXNGb2N1c2VkICYmIHJlc2V0U2VsZWN0aW9uKGlzU2VsZWN0aW9uRW1wdHkpO1xuICAgIH0pO1xuICAgIHZhciBzeW5jVmFsdWUgPSBsYW5nLmRlbGF5ZWRDYWxsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgaWYgKCFpbkNvbXBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0ZXh0LnZhbHVlID0gUExBQ0VIT0xERVI7XG4gICAgICAgICAgICBpc0ZvY3VzZWQgJiYgcmVzZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHJlc2V0U2VsZWN0aW9uKGlzRW1wdHkpIHtcbiAgICAgICAgaWYgKGluQ29tcG9zaXRpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGluQ29tcG9zaXRpb24gPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgaWYgKGlucHV0SGFuZGxlcikge1xuICAgICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSAwO1xuICAgICAgICAgICAgc2VsZWN0aW9uRW5kID0gaXNFbXB0eSA/IDAgOiB0ZXh0LnZhbHVlLmxlbmd0aCAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSBpc0VtcHR5ID8gMiA6IDE7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uRW5kID0gMjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGV4dC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgfSBjYXRjaChlKXt9XG4gICAgICAgIFxuICAgICAgICBpbkNvbXBvc2l0aW9uID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKGluQ29tcG9zaXRpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRleHQudmFsdWUgPSBQTEFDRUhPTERFUjtcbiAgICAgICAgaWYgKHVzZXJhZ2VudC5pc1dlYktpdClcbiAgICAgICAgICAgIHN5bmNWYWx1ZS5zY2hlZHVsZSgpO1xuICAgIH1cblxuICAgIHVzZXJhZ2VudC5pc1dlYktpdCB8fCBob3N0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZVNlbGVjdGlvbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaG9zdC5zZWxlY3Rpb24uaXNFbXB0eSgpICE9IGlzU2VsZWN0aW9uRW1wdHkpIHtcbiAgICAgICAgICAgIGlzU2VsZWN0aW9uRW1wdHkgPSAhaXNTZWxlY3Rpb25FbXB0eTtcbiAgICAgICAgICAgIHN5bmNTZWxlY3Rpb24uc2NoZWR1bGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVzZXRWYWx1ZSgpO1xuICAgIGlmIChpc0ZvY3VzZWQpXG4gICAgICAgIGhvc3Qub25Gb2N1cygpO1xuXG5cbiAgICB2YXIgaXNBbGxTZWxlY3RlZCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHQuc2VsZWN0aW9uU3RhcnQgPT09IDAgJiYgdGV4dC5zZWxlY3Rpb25FbmQgPT09IHRleHQudmFsdWUubGVuZ3RoO1xuICAgIH07XG4gICAgaWYgKCF0ZXh0LnNldFNlbGVjdGlvblJhbmdlICYmIHRleHQuY3JlYXRlVGV4dFJhbmdlKSB7XG4gICAgICAgIHRleHQuc2V0U2VsZWN0aW9uUmFuZ2UgPSBmdW5jdGlvbihzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICByYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICAgIHJhbmdlLm1vdmVFbmQoJ2NoYXJhY3RlcicsIHNlbGVjdGlvbkVuZCk7XG4gICAgICAgICAgICByYW5nZS5zZWxlY3QoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaXNBbGxTZWxlY3RlZCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGV4dC5vd25lckRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgfWNhdGNoKGUpIHt9XG4gICAgICAgICAgICBpZiAoIXJhbmdlIHx8IHJhbmdlLnBhcmVudEVsZW1lbnQoKSAhPSB0ZXh0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlLnRleHQgPT0gdGV4dC52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodXNlcmFnZW50LmlzT2xkSUUpIHtcbiAgICAgICAgdmFyIGluUHJvcGVydHlDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgdmFyIG9uUHJvcGVydHlDaGFuZ2UgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGlmIChpblByb3BlcnR5Q2hhbmdlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGV4dC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChpbkNvbXBvc2l0aW9uIHx8ICFkYXRhIHx8IGRhdGEgPT0gUExBQ0VIT0xERVIpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGUgJiYgZGF0YSA9PSBQTEFDRUhPTERFUlswXSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc3luY1Byb3BlcnR5LnNjaGVkdWxlKCk7XG5cbiAgICAgICAgICAgIHNlbmRUZXh0KGRhdGEpO1xuICAgICAgICAgICAgaW5Qcm9wZXJ0eUNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICByZXNldFZhbHVlKCk7XG4gICAgICAgICAgICBpblByb3BlcnR5Q2hhbmdlID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzeW5jUHJvcGVydHkgPSBsYW5nLmRlbGF5ZWRDYWxsKG9uUHJvcGVydHlDaGFuZ2UpO1xuICAgICAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcInByb3BlcnR5Y2hhbmdlXCIsIG9uUHJvcGVydHlDaGFuZ2UpO1xuXG4gICAgICAgIHZhciBrZXl0YWJsZSA9IHsgMTM6MSwgMjc6MSB9O1xuICAgICAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcImtleXVwXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoaW5Db21wb3NpdGlvbiAmJiAoIXRleHQudmFsdWUgfHwga2V5dGFibGVbZS5rZXlDb2RlXSkpXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChvbkNvbXBvc2l0aW9uRW5kLCAwKTtcbiAgICAgICAgICAgIGlmICgodGV4dC52YWx1ZS5jaGFyQ29kZUF0KDApfHwwKSA8IDEyOSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUHJvcGVydHkuY2FsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5Db21wb3NpdGlvbiA/IG9uQ29tcG9zaXRpb25VcGRhdGUoKSA6IG9uQ29tcG9zaXRpb25TdGFydCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBzeW5jUHJvcGVydHkuc2NoZWR1bGUoNTApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgb25TZWxlY3QgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChjb3BpZWQpIHtcbiAgICAgICAgICAgIGNvcGllZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQWxsU2VsZWN0ZWQodGV4dCkpIHtcbiAgICAgICAgICAgIGhvc3Quc2VsZWN0QWxsKCk7XG4gICAgICAgICAgICByZXNldFNlbGVjdGlvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0SGFuZGxlcikge1xuICAgICAgICAgICAgcmVzZXRTZWxlY3Rpb24oaG9zdC5zZWxlY3Rpb24uaXNFbXB0eSgpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgaW5wdXRIYW5kbGVyID0gbnVsbDtcbiAgICB0aGlzLnNldElucHV0SGFuZGxlciA9IGZ1bmN0aW9uKGNiKSB7aW5wdXRIYW5kbGVyID0gY2J9O1xuICAgIHRoaXMuZ2V0SW5wdXRIYW5kbGVyID0gZnVuY3Rpb24oKSB7cmV0dXJuIGlucHV0SGFuZGxlcn07XG4gICAgdmFyIGFmdGVyQ29udGV4dE1lbnUgPSBmYWxzZTtcbiAgICBcbiAgICB2YXIgc2VuZFRleHQgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmIChpbnB1dEhhbmRsZXIpIHtcbiAgICAgICAgICAgIGRhdGEgPSBpbnB1dEhhbmRsZXIoZGF0YSk7XG4gICAgICAgICAgICBpbnB1dEhhbmRsZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXN0ZWQpIHtcbiAgICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoZGF0YSlcbiAgICAgICAgICAgICAgICBob3N0Lm9uUGFzdGUoZGF0YSk7XG4gICAgICAgICAgICBwYXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhID09IFBMQUNFSE9MREVSLmNoYXJBdCgwKSkge1xuICAgICAgICAgICAgaWYgKGFmdGVyQ29udGV4dE1lbnUpXG4gICAgICAgICAgICAgICAgaG9zdC5leGVjQ29tbWFuZChcImRlbFwiLCB7c291cmNlOiBcImFjZVwifSk7XG4gICAgICAgICAgICBlbHNlIC8vIHNvbWUgdmVyc2lvbnMgb2YgYW5kcm9pZCBkbyBub3QgZmlyZSBrZXlkb3duIHdoZW4gcHJlc3NpbmcgYmFja3NwYWNlXG4gICAgICAgICAgICAgICAgaG9zdC5leGVjQ29tbWFuZChcImJhY2tzcGFjZVwiLCB7c291cmNlOiBcImFjZVwifSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5zdWJzdHJpbmcoMCwgMikgPT0gUExBQ0VIT0xERVIpXG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEuc3Vic3RyKDIpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5jaGFyQXQoMCkgPT0gUExBQ0VIT0xERVIuY2hhckF0KDApKVxuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLnN1YnN0cigxKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuY2hhckF0KGRhdGEubGVuZ3RoIC0gMSkgPT0gUExBQ0VIT0xERVIuY2hhckF0KDApKVxuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmNoYXJBdChkYXRhLmxlbmd0aCAtIDEpID09IFBMQUNFSE9MREVSLmNoYXJBdCgwKSlcbiAgICAgICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChkYXRhKVxuICAgICAgICAgICAgICAgIGhvc3Qub25UZXh0SW5wdXQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFmdGVyQ29udGV4dE1lbnUpXG4gICAgICAgICAgICBhZnRlckNvbnRleHRNZW51ID0gZmFsc2U7XG4gICAgfTtcbiAgICB2YXIgb25JbnB1dCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGluQ29tcG9zaXRpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBkYXRhID0gdGV4dC52YWx1ZTtcbiAgICAgICAgc2VuZFRleHQoZGF0YSk7XG4gICAgICAgIHJlc2V0VmFsdWUoKTtcbiAgICB9O1xuICAgIFxuICAgIHZhciBoYW5kbGVDbGlwYm9hcmREYXRhID0gZnVuY3Rpb24oZSwgZGF0YSkge1xuICAgICAgICB2YXIgY2xpcGJvYXJkRGF0YSA9IGUuY2xpcGJvYXJkRGF0YSB8fCB3aW5kb3cuY2xpcGJvYXJkRGF0YTtcbiAgICAgICAgaWYgKCFjbGlwYm9hcmREYXRhIHx8IEJST0tFTl9TRVREQVRBKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgbWltZSA9IFVTRV9JRV9NSU1FX1RZUEUgPyBcIlRleHRcIiA6IFwidGV4dC9wbGFpblwiO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaXBib2FyZERhdGEuc2V0RGF0YShtaW1lLCBkYXRhKSAhPT0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpcGJvYXJkRGF0YS5nZXREYXRhKG1pbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBkb0NvcHkgPSBmdW5jdGlvbihlLCBpc0N1dCkge1xuICAgICAgICB2YXIgZGF0YSA9IGhvc3QuZ2V0Q29weVRleHQoKTtcbiAgICAgICAgaWYgKCFkYXRhKVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuXG4gICAgICAgIGlmIChoYW5kbGVDbGlwYm9hcmREYXRhKGUsIGRhdGEpKSB7XG4gICAgICAgICAgICBpc0N1dCA/IGhvc3Qub25DdXQoKSA6IGhvc3Qub25Db3B5KCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvcGllZCA9IHRydWU7XG4gICAgICAgICAgICB0ZXh0LnZhbHVlID0gZGF0YTtcbiAgICAgICAgICAgIHRleHQuc2VsZWN0KCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgY29waWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVzZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgaXNDdXQgPyBob3N0Lm9uQ3V0KCkgOiBob3N0Lm9uQ29weSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHZhciBvbkN1dCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZG9Db3B5KGUsIHRydWUpO1xuICAgIH07XG4gICAgXG4gICAgdmFyIG9uQ29weSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZG9Db3B5KGUsIGZhbHNlKTtcbiAgICB9O1xuICAgIFxuICAgIHZhciBvblBhc3RlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZGF0YSA9IGhhbmRsZUNsaXBib2FyZERhdGEoZSk7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAoZGF0YSlcbiAgICAgICAgICAgICAgICBob3N0Lm9uUGFzdGUoZGF0YSwgZSk7XG4gICAgICAgICAgICBpZiAodXNlcmFnZW50LmlzSUUpXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXNldFNlbGVjdGlvbik7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRleHQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgcGFzdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBldmVudC5hZGRDb21tYW5kS2V5TGlzdGVuZXIodGV4dCwgaG9zdC5vbkNvbW1hbmRLZXkuYmluZChob3N0KSk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcInNlbGVjdFwiLCBvblNlbGVjdCk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcImlucHV0XCIsIG9uSW5wdXQpO1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJjdXRcIiwgb25DdXQpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwiY29weVwiLCBvbkNvcHkpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwicGFzdGVcIiwgb25QYXN0ZSk7XG4gICAgaWYgKCEoJ29uY3V0JyBpbiB0ZXh0KSB8fCAhKCdvbmNvcHknIGluIHRleHQpIHx8ICEoJ29ucGFzdGUnIGluIHRleHQpKXtcbiAgICAgICAgZXZlbnQuYWRkTGlzdGVuZXIocGFyZW50Tm9kZSwgXCJrZXlkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICgodXNlcmFnZW50LmlzTWFjICYmICFlLm1ldGFLZXkpIHx8ICFlLmN0cmxLZXkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgNjc6XG4gICAgICAgICAgICAgICAgICAgIG9uQ29weShlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4NjpcbiAgICAgICAgICAgICAgICAgICAgb25QYXN0ZShlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4ODpcbiAgICAgICAgICAgICAgICAgICAgb25DdXQoZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIG9uQ29tcG9zaXRpb25TdGFydCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGluQ29tcG9zaXRpb24gfHwgIWhvc3Qub25Db21wb3NpdGlvblN0YXJ0IHx8IGhvc3QuJHJlYWRPbmx5KSBcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaW5Db21wb3NpdGlvbiA9IHt9O1xuICAgICAgICBob3N0Lm9uQ29tcG9zaXRpb25TdGFydCgpO1xuICAgICAgICBzZXRUaW1lb3V0KG9uQ29tcG9zaXRpb25VcGRhdGUsIDApO1xuICAgICAgICBob3N0Lm9uKFwibW91c2Vkb3duXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICBpZiAoIWhvc3Quc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgaG9zdC5pbnNlcnQoXCJcIik7XG4gICAgICAgICAgICBob3N0LnNlc3Npb24ubWFya1VuZG9Hcm91cCgpO1xuICAgICAgICAgICAgaG9zdC5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBob3N0LnNlc3Npb24ubWFya1VuZG9Hcm91cCgpO1xuICAgIH07XG5cbiAgICB2YXIgb25Db21wb3NpdGlvblVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIWluQ29tcG9zaXRpb24gfHwgIWhvc3Qub25Db21wb3NpdGlvblVwZGF0ZSB8fCBob3N0LiRyZWFkT25seSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHZhbCA9IHRleHQudmFsdWUucmVwbGFjZSgvXFx4MDEvZywgXCJcIik7XG4gICAgICAgIGlmIChpbkNvbXBvc2l0aW9uLmxhc3RWYWx1ZSA9PT0gdmFsKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBob3N0Lm9uQ29tcG9zaXRpb25VcGRhdGUodmFsKTtcbiAgICAgICAgaWYgKGluQ29tcG9zaXRpb24ubGFzdFZhbHVlKVxuICAgICAgICAgICAgaG9zdC51bmRvKCk7XG4gICAgICAgIGluQ29tcG9zaXRpb24ubGFzdFZhbHVlID0gdmFsO1xuICAgICAgICBpZiAoaW5Db21wb3NpdGlvbi5sYXN0VmFsdWUpIHtcbiAgICAgICAgICAgIHZhciByID0gaG9zdC5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgIGhvc3QuaW5zZXJ0KGluQ29tcG9zaXRpb24ubGFzdFZhbHVlKTtcbiAgICAgICAgICAgIGhvc3Quc2Vzc2lvbi5tYXJrVW5kb0dyb3VwKCk7XG4gICAgICAgICAgICBpbkNvbXBvc2l0aW9uLnJhbmdlID0gaG9zdC5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgIGhvc3Quc2VsZWN0aW9uLnNldFJhbmdlKHIpO1xuICAgICAgICAgICAgaG9zdC5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgb25Db21wb3NpdGlvbkVuZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCFob3N0Lm9uQ29tcG9zaXRpb25FbmQgfHwgaG9zdC4kcmVhZE9ubHkpIHJldHVybjtcbiAgICAgICAgdmFyIGMgPSBpbkNvbXBvc2l0aW9uO1xuICAgICAgICBpbkNvbXBvc2l0aW9uID0gZmFsc2U7XG4gICAgICAgIHZhciB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgICAgICB2YXIgc3RyID0gdGV4dC52YWx1ZS5yZXBsYWNlKC9cXHgwMS9nLCBcIlwiKTtcbiAgICAgICAgICAgIGlmIChpbkNvbXBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0ciA9PSBjLmxhc3RWYWx1ZSlcbiAgICAgICAgICAgICAgICByZXNldFZhbHVlKCk7XG4gICAgICAgICAgICBlbHNlIGlmICghYy5sYXN0VmFsdWUgJiYgc3RyKSB7XG4gICAgICAgICAgICAgICAgcmVzZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIHNlbmRUZXh0KHN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbnB1dEhhbmRsZXIgPSBmdW5jdGlvbiBjb21wb3NpdGlvbklucHV0SGFuZGxlcihzdHIpIHtcbiAgICAgICAgICAgIGlmICh0aW1lcilcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xceDAxL2csIFwiXCIpO1xuICAgICAgICAgICAgaWYgKHN0ciA9PSBjLmxhc3RWYWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIGlmIChjLmxhc3RWYWx1ZSAmJiB0aW1lcilcbiAgICAgICAgICAgICAgICBob3N0LnVuZG8oKTtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH07XG4gICAgICAgIGhvc3Qub25Db21wb3NpdGlvbkVuZCgpO1xuICAgICAgICBob3N0LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vkb3duXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICBpZiAoZS50eXBlID09IFwiY29tcG9zaXRpb25lbmRcIiAmJiBjLnJhbmdlKSB7XG4gICAgICAgICAgICBob3N0LnNlbGVjdGlvbi5zZXRSYW5nZShjLnJhbmdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgXG5cbiAgICB2YXIgc3luY0NvbXBvc2l0aW9uID0gbGFuZy5kZWxheWVkQ2FsbChvbkNvbXBvc2l0aW9uVXBkYXRlLCA1MCk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcImNvbXBvc2l0aW9uc3RhcnRcIiwgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICBpZiAodXNlcmFnZW50LmlzR2Vja28pIHtcbiAgICAgICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJ0ZXh0XCIsIGZ1bmN0aW9uKCl7c3luY0NvbXBvc2l0aW9uLnNjaGVkdWxlKCl9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcImtleXVwXCIsIGZ1bmN0aW9uKCl7c3luY0NvbXBvc2l0aW9uLnNjaGVkdWxlKCl9KTtcbiAgICAgICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJrZXlkb3duXCIsIGZ1bmN0aW9uKCl7c3luY0NvbXBvc2l0aW9uLnNjaGVkdWxlKCl9KTtcbiAgICB9XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJjb21wb3NpdGlvbmVuZFwiLCBvbkNvbXBvc2l0aW9uRW5kKTtcblxuICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRSZWFkT25seSA9IGZ1bmN0aW9uKHJlYWRPbmx5KSB7XG4gICAgICAgdGV4dC5yZWFkT25seSA9IHJlYWRPbmx5O1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ29udGV4dE1lbnUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGFmdGVyQ29udGV4dE1lbnUgPSB0cnVlO1xuICAgICAgICByZXNldFNlbGVjdGlvbihob3N0LnNlbGVjdGlvbi5pc0VtcHR5KCkpO1xuICAgICAgICBob3N0Ll9lbWl0KFwibmF0aXZlY29udGV4dG1lbnVcIiwge3RhcmdldDogaG9zdCwgZG9tRXZlbnQ6IGV9KTtcbiAgICAgICAgdGhpcy5tb3ZlVG9Nb3VzZShlLCB0cnVlKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMubW92ZVRvTW91c2UgPSBmdW5jdGlvbihlLCBicmluZ1RvRnJvbnQpIHtcbiAgICAgICAgaWYgKCFicmluZ1RvRnJvbnQgJiYgdXNlcmFnZW50LmlzT2xkSUUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghdGVtcFN0eWxlKVxuICAgICAgICAgICAgdGVtcFN0eWxlID0gdGV4dC5zdHlsZS5jc3NUZXh0O1xuICAgICAgICB0ZXh0LnN0eWxlLmNzc1RleHQgPSAoYnJpbmdUb0Zyb250ID8gXCJ6LWluZGV4OjEwMDAwMDtcIiA6IFwiXCIpXG4gICAgICAgICAgICArIFwiaGVpZ2h0OlwiICsgdGV4dC5zdHlsZS5oZWlnaHQgKyBcIjtcIlxuICAgICAgICAgICAgKyAodXNlcmFnZW50LmlzSUUgPyBcIm9wYWNpdHk6MC4xO1wiIDogXCJcIik7XG5cbiAgICAgICAgdmFyIHJlY3QgPSBob3N0LmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHN0eWxlID0gZG9tLmNvbXB1dGVkU3R5bGUoaG9zdC5jb250YWluZXIpO1xuICAgICAgICB2YXIgdG9wID0gcmVjdC50b3AgKyAocGFyc2VJbnQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpIHx8IDApO1xuICAgICAgICB2YXIgbGVmdCA9IHJlY3QubGVmdCArIChwYXJzZUludChyZWN0LmJvcmRlckxlZnRXaWR0aCkgfHwgMCk7XG4gICAgICAgIHZhciBtYXhUb3AgPSByZWN0LmJvdHRvbSAtIHRvcCAtIHRleHQuY2xpZW50SGVpZ2h0IC0yO1xuICAgICAgICB2YXIgbW92ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHRleHQuc3R5bGUubGVmdCA9IGUuY2xpZW50WCAtIGxlZnQgLSAyICsgXCJweFwiO1xuICAgICAgICAgICAgdGV4dC5zdHlsZS50b3AgPSBNYXRoLm1pbihlLmNsaWVudFkgLSB0b3AgLSAyLCBtYXhUb3ApICsgXCJweFwiO1xuICAgICAgICB9OyBcbiAgICAgICAgbW92ZShlKTtcblxuICAgICAgICBpZiAoZS50eXBlICE9IFwibW91c2Vkb3duXCIpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKGhvc3QucmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yKVxuICAgICAgICAgICAgaG9zdC5yZW5kZXJlci4ka2VlcFRleHRBcmVhQXRDdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIGNsZWFyVGltZW91dChjbG9zZVRpbWVvdXQpO1xuICAgICAgICBpZiAodXNlcmFnZW50LmlzV2luICYmICF1c2VyYWdlbnQuaXNPbGRJRSlcbiAgICAgICAgICAgIGV2ZW50LmNhcHR1cmUoaG9zdC5jb250YWluZXIsIG1vdmUsIG9uQ29udGV4dE1lbnVDbG9zZSk7XG4gICAgfTtcblxuICAgIHRoaXMub25Db250ZXh0TWVudUNsb3NlID0gb25Db250ZXh0TWVudUNsb3NlO1xuICAgIHZhciBjbG9zZVRpbWVvdXQ7XG4gICAgZnVuY3Rpb24gb25Db250ZXh0TWVudUNsb3NlKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoY2xvc2VUaW1lb3V0KTtcbiAgICAgICAgY2xvc2VUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGVtcFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGV4dC5zdHlsZS5jc3NUZXh0ID0gdGVtcFN0eWxlO1xuICAgICAgICAgICAgICAgIHRlbXBTdHlsZSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhvc3QucmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBob3N0LnJlbmRlcmVyLiRrZWVwVGV4dEFyZWFBdEN1cnNvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgaG9zdC5yZW5kZXJlci4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdXNlcmFnZW50LmlzT2xkSUUgPyAyMDAgOiAwKTtcbiAgICB9XG5cbiAgICB2YXIgb25Db250ZXh0TWVudSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaG9zdC50ZXh0SW5wdXQub25Db250ZXh0TWVudShlKTtcbiAgICAgICAgb25Db250ZXh0TWVudUNsb3NlKCk7XG4gICAgfTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcIm1vdXNldXBcIiwgb25Db250ZXh0TWVudSk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIG9uQ29udGV4dE1lbnVDbG9zZSgpO1xuICAgIH0pO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKGhvc3QucmVuZGVyZXIuc2Nyb2xsZXIsIFwiY29udGV4dG1lbnVcIiwgb25Db250ZXh0TWVudSk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJjb250ZXh0bWVudVwiLCBvbkNvbnRleHRNZW51KTtcbn07XG5cbmV4cG9ydHMuVGV4dElucHV0ID0gVGV4dElucHV0O1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW91c2UvZGVmYXVsdF9oYW5kbGVyc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9saWIvdXNlcmFnZW50XCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xudmFyIHVzZXJhZ2VudCA9IGFjZXF1aXJlKFwiLi4vbGliL3VzZXJhZ2VudFwiKTtcblxudmFyIERSQUdfT0ZGU0VUID0gMDsgLy8gcGl4ZWxzXG5cbmZ1bmN0aW9uIERlZmF1bHRIYW5kbGVycyhtb3VzZUhhbmRsZXIpIHtcbiAgICBtb3VzZUhhbmRsZXIuJGNsaWNrU2VsZWN0aW9uID0gbnVsbDtcblxuICAgIHZhciBlZGl0b3IgPSBtb3VzZUhhbmRsZXIuZWRpdG9yO1xuICAgIGVkaXRvci5zZXREZWZhdWx0SGFuZGxlcihcIm1vdXNlZG93blwiLCB0aGlzLm9uTW91c2VEb3duLmJpbmQobW91c2VIYW5kbGVyKSk7XG4gICAgZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKFwiZGJsY2xpY2tcIiwgdGhpcy5vbkRvdWJsZUNsaWNrLmJpbmQobW91c2VIYW5kbGVyKSk7XG4gICAgZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKFwidHJpcGxlY2xpY2tcIiwgdGhpcy5vblRyaXBsZUNsaWNrLmJpbmQobW91c2VIYW5kbGVyKSk7XG4gICAgZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKFwicXVhZGNsaWNrXCIsIHRoaXMub25RdWFkQ2xpY2suYmluZChtb3VzZUhhbmRsZXIpKTtcbiAgICBlZGl0b3Iuc2V0RGVmYXVsdEhhbmRsZXIoXCJtb3VzZXdoZWVsXCIsIHRoaXMub25Nb3VzZVdoZWVsLmJpbmQobW91c2VIYW5kbGVyKSk7XG4gICAgZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKFwidG91Y2htb3ZlXCIsIHRoaXMub25Ub3VjaE1vdmUuYmluZChtb3VzZUhhbmRsZXIpKTtcblxuICAgIHZhciBleHBvcnRzID0gW1wic2VsZWN0XCIsIFwic3RhcnRTZWxlY3RcIiwgXCJzZWxlY3RFbmRcIiwgXCJzZWxlY3RBbGxFbmRcIiwgXCJzZWxlY3RCeVdvcmRzRW5kXCIsXG4gICAgICAgIFwic2VsZWN0QnlMaW5lc0VuZFwiLCBcImRyYWdXYWl0XCIsIFwiZHJhZ1dhaXRFbmRcIiwgXCJmb2N1c1dhaXRcIl07XG5cbiAgICBleHBvcnRzLmZvckVhY2goZnVuY3Rpb24oeCkge1xuICAgICAgICBtb3VzZUhhbmRsZXJbeF0gPSB0aGlzW3hdO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgbW91c2VIYW5kbGVyLnNlbGVjdEJ5TGluZXMgPSB0aGlzLmV4dGVuZFNlbGVjdGlvbkJ5LmJpbmQobW91c2VIYW5kbGVyLCBcImdldExpbmVSYW5nZVwiKTtcbiAgICBtb3VzZUhhbmRsZXIuc2VsZWN0QnlXb3JkcyA9IHRoaXMuZXh0ZW5kU2VsZWN0aW9uQnkuYmluZChtb3VzZUhhbmRsZXIsIFwiZ2V0V29yZFJhbmdlXCIpO1xufVxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLm9uTW91c2VEb3duID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgdmFyIGluU2VsZWN0aW9uID0gZXYuaW5TZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIHBvcyA9IGV2LmdldERvY3VtZW50UG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5tb3VzZWRvd25FdmVudCA9IGV2O1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgdmFyIGJ1dHRvbiA9IGV2LmdldEJ1dHRvbigpO1xuICAgICAgICBpZiAoYnV0dG9uICE9PSAwKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uUmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25FbXB0eSA9IHNlbGVjdGlvblJhbmdlLmlzRW1wdHkoKTtcbiAgICAgICAgICAgIGVkaXRvci4kYmxvY2tTY3JvbGxpbmcrKztcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb25FbXB0eSB8fCBidXR0b24gPT0gMSlcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVUb1Bvc2l0aW9uKHBvcyk7XG4gICAgICAgICAgICBlZGl0b3IuJGJsb2NrU2Nyb2xsaW5nLS07XG4gICAgICAgICAgICBpZiAoYnV0dG9uID09IDIpXG4gICAgICAgICAgICAgICAgZWRpdG9yLnRleHRJbnB1dC5vbkNvbnRleHRNZW51KGV2LmRvbUV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybjsgLy8gc3RvcHBpbmcgZXZlbnQgaGVyZSBicmVha3MgY29udGV4dG1lbnUgb24gZmYgbWFjXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAoaW5TZWxlY3Rpb24gJiYgIWVkaXRvci5pc0ZvY3VzZWQoKSkge1xuICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kZm9jdXNUaW1vdXQgJiYgIXRoaXMuJGNsaWNrU2VsZWN0aW9uICYmICFlZGl0b3IuaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKFwiZm9jdXNXYWl0XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZU1vdXNlKGV2KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhcHR1cmVNb3VzZShldik7XG4gICAgICAgIHRoaXMuc3RhcnRTZWxlY3QocG9zLCBldi5kb21FdmVudC5fY2xpY2tzID4gMSk7XG4gICAgICAgIHJldHVybiBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICB0aGlzLnN0YXJ0U2VsZWN0ID0gZnVuY3Rpb24ocG9zLCB3YWl0Rm9yQ2xpY2tTZWxlY3Rpb24pIHtcbiAgICAgICAgcG9zID0gcG9zIHx8IHRoaXMuZWRpdG9yLnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICBlZGl0b3IuJGJsb2NrU2Nyb2xsaW5nKys7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlZG93bkV2ZW50LmdldFNoaWZ0S2V5KCkpXG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnNlbGVjdFRvUG9zaXRpb24ocG9zKTtcbiAgICAgICAgZWxzZSBpZiAoIXdhaXRGb3JDbGlja1NlbGVjdGlvbilcbiAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24ocG9zKTtcbiAgICAgICAgaWYgKCF3YWl0Rm9yQ2xpY2tTZWxlY3Rpb24pXG4gICAgICAgICAgICB0aGlzLnNlbGVjdCgpO1xuICAgICAgICBpZiAoZWRpdG9yLnJlbmRlcmVyLnNjcm9sbGVyLnNldENhcHR1cmUpIHtcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxlci5zZXRDYXB0dXJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWRpdG9yLnNldFN0eWxlKFwiYWNlX3NlbGVjdGluZ1wiKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcInNlbGVjdFwiKTtcbiAgICAgICAgZWRpdG9yLiRibG9ja1Njcm9sbGluZy0tO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYW5jaG9yLCBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLngsIHRoaXMueSk7XG4gICAgICAgIGVkaXRvci4kYmxvY2tTY3JvbGxpbmcrKztcbiAgICAgICAgaWYgKHRoaXMuJGNsaWNrU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgY21wID0gdGhpcy4kY2xpY2tTZWxlY3Rpb24uY29tcGFyZVBvaW50KGN1cnNvcik7XG5cbiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBhbmNob3IgPSB0aGlzLiRjbGlja1NlbGVjdGlvbi5lbmQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gdGhpcy4kY2xpY2tTZWxlY3Rpb24uc3RhcnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBvcmllbnRlZFJhbmdlID0gY2FsY1JhbmdlT3JpZW50YXRpb24odGhpcy4kY2xpY2tTZWxlY3Rpb24sIGN1cnNvcik7XG4gICAgICAgICAgICAgICAgY3Vyc29yID0gb3JpZW50ZWRSYW5nZS5jdXJzb3I7XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gb3JpZW50ZWRSYW5nZS5hbmNob3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnNldFNlbGVjdGlvbkFuY2hvcihhbmNob3Iucm93LCBhbmNob3IuY29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnNlbGVjdFRvUG9zaXRpb24oY3Vyc29yKTtcbiAgICAgICAgZWRpdG9yLiRibG9ja1Njcm9sbGluZy0tO1xuICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5leHRlbmRTZWxlY3Rpb25CeSA9IGZ1bmN0aW9uKHVuaXROYW1lKSB7XG4gICAgICAgIHZhciBhbmNob3IsIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLnNlbGVjdGlvblt1bml0TmFtZV0oY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgIGVkaXRvci4kYmxvY2tTY3JvbGxpbmcrKztcbiAgICAgICAgaWYgKHRoaXMuJGNsaWNrU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgY21wU3RhcnQgPSB0aGlzLiRjbGlja1NlbGVjdGlvbi5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgdmFyIGNtcEVuZCA9IHRoaXMuJGNsaWNrU2VsZWN0aW9uLmNvbXBhcmVQb2ludChyYW5nZS5lbmQpO1xuXG4gICAgICAgICAgICBpZiAoY21wU3RhcnQgPT0gLTEgJiYgY21wRW5kIDw9IDApIHtcbiAgICAgICAgICAgICAgICBhbmNob3IgPSB0aGlzLiRjbGlja1NlbGVjdGlvbi5lbmQ7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLmVuZC5yb3cgIT0gY3Vyc29yLnJvdyB8fCByYW5nZS5lbmQuY29sdW1uICE9IGN1cnNvci5jb2x1bW4pXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvciA9IHJhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXBFbmQgPT0gMSAmJiBjbXBTdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gdGhpcy4kY2xpY2tTZWxlY3Rpb24uc3RhcnQ7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyAhPSBjdXJzb3Iucm93IHx8IHJhbmdlLnN0YXJ0LmNvbHVtbiAhPSBjdXJzb3IuY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICBjdXJzb3IgPSByYW5nZS5lbmQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNtcFN0YXJ0ID09IC0xICYmIGNtcEVuZCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgY3Vyc29yID0gcmFuZ2UuZW5kO1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IHJhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZW50ZWRSYW5nZSA9IGNhbGNSYW5nZU9yaWVudGF0aW9uKHRoaXMuJGNsaWNrU2VsZWN0aW9uLCBjdXJzb3IpO1xuICAgICAgICAgICAgICAgIGN1cnNvciA9IG9yaWVudGVkUmFuZ2UuY3Vyc29yO1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IG9yaWVudGVkUmFuZ2UuYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25BbmNob3IoYW5jaG9yLnJvdywgYW5jaG9yLmNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKGN1cnNvcik7XG4gICAgICAgIGVkaXRvci4kYmxvY2tTY3JvbGxpbmctLTtcbiAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2VsZWN0RW5kID1cbiAgICB0aGlzLnNlbGVjdEFsbEVuZCA9XG4gICAgdGhpcy5zZWxlY3RCeVdvcmRzRW5kID1cbiAgICB0aGlzLnNlbGVjdEJ5TGluZXNFbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kY2xpY2tTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmVkaXRvci51bnNldFN0eWxlKFwiYWNlX3NlbGVjdGluZ1wiKTtcbiAgICAgICAgaWYgKHRoaXMuZWRpdG9yLnJlbmRlcmVyLnNjcm9sbGVyLnJlbGVhc2VDYXB0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5yZW5kZXJlci5zY3JvbGxlci5yZWxlYXNlQ2FwdHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZm9jdXNXYWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGNhbGNEaXN0YW5jZSh0aGlzLm1vdXNlZG93bkV2ZW50LngsIHRoaXMubW91c2Vkb3duRXZlbnQueSwgdGhpcy54LCB0aGlzLnkpO1xuICAgICAgICB2YXIgdGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgaWYgKGRpc3RhbmNlID4gRFJBR19PRkZTRVQgfHwgdGltZSAtIHRoaXMubW91c2Vkb3duRXZlbnQudGltZSA+IHRoaXMuJGZvY3VzVGltb3V0KVxuICAgICAgICAgICAgdGhpcy5zdGFydFNlbGVjdCh0aGlzLm1vdXNlZG93bkV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKSk7XG4gICAgfTtcblxuICAgIHRoaXMub25Eb3VibGVDbGljayA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIHZhciBwb3MgPSBldi5nZXREb2N1bWVudFBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIHNlc3Npb24gPSBlZGl0b3Iuc2Vzc2lvbjtcblxuICAgICAgICB2YXIgcmFuZ2UgPSBzZXNzaW9uLmdldEJyYWNrZXRSYW5nZShwb3MpO1xuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4tLTtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFwic2VsZWN0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFdvcmRSYW5nZShwb3Mucm93LCBwb3MuY29sdW1uKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoXCJzZWxlY3RCeVdvcmRzXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJGNsaWNrU2VsZWN0aW9uID0gcmFuZ2U7XG4gICAgICAgIHRoaXMuc2VsZWN0KCk7XG4gICAgfTtcblxuICAgIHRoaXMub25UcmlwbGVDbGljayA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIHZhciBwb3MgPSBldi5nZXREb2N1bWVudFBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKFwic2VsZWN0QnlMaW5lc1wiKTtcbiAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGlmIChyYW5nZS5pc011bHRpTGluZSgpICYmIHJhbmdlLmNvbnRhaW5zKHBvcy5yb3csIHBvcy5jb2x1bW4pKSB7XG4gICAgICAgICAgICB0aGlzLiRjbGlja1NlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0TGluZVJhbmdlKHJhbmdlLnN0YXJ0LnJvdyk7XG4gICAgICAgICAgICB0aGlzLiRjbGlja1NlbGVjdGlvbi5lbmQgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldExpbmVSYW5nZShyYW5nZS5lbmQucm93KS5lbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRjbGlja1NlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0TGluZVJhbmdlKHBvcy5yb3cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0KCk7XG4gICAgfTtcblxuICAgIHRoaXMub25RdWFkQ2xpY2sgPSBmdW5jdGlvbihldikge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgZWRpdG9yLnNlbGVjdEFsbCgpO1xuICAgICAgICB0aGlzLiRjbGlja1NlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKFwic2VsZWN0QWxsXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uTW91c2VXaGVlbCA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIGlmIChldi5nZXRBY2NlbEtleSgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZXYuZ2V0U2hpZnRLZXkoKSAmJiBldi53aGVlbFkgJiYgIWV2LndoZWVsWCkge1xuICAgICAgICAgICAgZXYud2hlZWxYID0gZXYud2hlZWxZO1xuICAgICAgICAgICAgZXYud2hlZWxZID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ID0gZXYuZG9tRXZlbnQudGltZVN0YW1wO1xuICAgICAgICB2YXIgZHQgPSB0IC0gKHRoaXMuJGxhc3RTY3JvbGxUaW1lfHwwKTtcbiAgICAgICAgXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIGlzU2Nyb2xhYmxlID0gZWRpdG9yLnJlbmRlcmVyLmlzU2Nyb2xsYWJsZUJ5KGV2LndoZWVsWCAqIGV2LnNwZWVkLCBldi53aGVlbFkgKiBldi5zcGVlZCk7XG4gICAgICAgIGlmIChpc1Njcm9sYWJsZSB8fCBkdCA8IDIwMCkge1xuICAgICAgICAgICAgdGhpcy4kbGFzdFNjcm9sbFRpbWUgPSB0O1xuICAgICAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEJ5KGV2LndoZWVsWCAqIGV2LnNwZWVkLCBldi53aGVlbFkgKiBldi5zcGVlZCk7XG4gICAgICAgICAgICByZXR1cm4gZXYuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLm9uVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIHZhciB0ID0gZXYuZG9tRXZlbnQudGltZVN0YW1wO1xuICAgICAgICB2YXIgZHQgPSB0IC0gKHRoaXMuJGxhc3RTY3JvbGxUaW1lIHx8IDApO1xuXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIGlzU2Nyb2xhYmxlID0gZWRpdG9yLnJlbmRlcmVyLmlzU2Nyb2xsYWJsZUJ5KGV2LndoZWVsWCAqIGV2LnNwZWVkLCBldi53aGVlbFkgKiBldi5zcGVlZCk7XG4gICAgICAgIGlmIChpc1Njcm9sYWJsZSB8fCBkdCA8IDIwMCkge1xuICAgICAgICAgICAgdGhpcy4kbGFzdFNjcm9sbFRpbWUgPSB0O1xuICAgICAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEJ5KGV2LndoZWVsWCAqIGV2LnNwZWVkLCBldi53aGVlbFkgKiBldi5zcGVlZCk7XG4gICAgICAgICAgICByZXR1cm4gZXYuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfTtcblxufSkuY2FsbChEZWZhdWx0SGFuZGxlcnMucHJvdG90eXBlKTtcblxuZXhwb3J0cy5EZWZhdWx0SGFuZGxlcnMgPSBEZWZhdWx0SGFuZGxlcnM7XG5cbmZ1bmN0aW9uIGNhbGNEaXN0YW5jZShheCwgYXksIGJ4LCBieSkge1xuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYnggLSBheCwgMikgKyBNYXRoLnBvdyhieSAtIGF5LCAyKSk7XG59XG5cbmZ1bmN0aW9uIGNhbGNSYW5nZU9yaWVudGF0aW9uKHJhbmdlLCBjdXJzb3IpIHtcbiAgICBpZiAocmFuZ2Uuc3RhcnQucm93ID09IHJhbmdlLmVuZC5yb3cpXG4gICAgICAgIHZhciBjbXAgPSAyICogY3Vyc29yLmNvbHVtbiAtIHJhbmdlLnN0YXJ0LmNvbHVtbiAtIHJhbmdlLmVuZC5jb2x1bW47XG4gICAgZWxzZSBpZiAocmFuZ2Uuc3RhcnQucm93ID09IHJhbmdlLmVuZC5yb3cgLSAxICYmICFyYW5nZS5zdGFydC5jb2x1bW4gJiYgIXJhbmdlLmVuZC5jb2x1bW4pXG4gICAgICAgIHZhciBjbXAgPSBjdXJzb3IuY29sdW1uIC0gNDtcbiAgICBlbHNlXG4gICAgICAgIHZhciBjbXAgPSAyICogY3Vyc29yLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdyAtIHJhbmdlLmVuZC5yb3c7XG5cbiAgICBpZiAoY21wIDwgMClcbiAgICAgICAgcmV0dXJuIHtjdXJzb3I6IHJhbmdlLnN0YXJ0LCBhbmNob3I6IHJhbmdlLmVuZH07XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4ge2N1cnNvcjogcmFuZ2UuZW5kLCBhbmNob3I6IHJhbmdlLnN0YXJ0fTtcbn1cblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvdG9vbHRpcFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZG9tXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi9saWIvZG9tXCIpO1xuZnVuY3Rpb24gVG9vbHRpcCAocGFyZW50Tm9kZSkge1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy4kZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy4kcGFyZW50Tm9kZSA9IHBhcmVudE5vZGU7XG59XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5jbGFzc05hbWUgPSBcImFjZV90b29sdGlwXCI7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB0aGlzLiRwYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuJGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudCB8fCB0aGlzLiRpbml0KCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIGRvbS5zZXRJbm5lclRleHQodGhpcy5nZXRFbGVtZW50KCksIHRleHQpO1xuICAgIH07XG4gICAgdGhpcy5zZXRIdG1sID0gZnVuY3Rpb24oaHRtbCkge1xuICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5pbm5lckhUTUwgPSBodG1sO1xuICAgIH07XG4gICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkuc3R5bGUubGVmdCA9IHggKyBcInB4XCI7XG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLnN0eWxlLnRvcCA9IHkgKyBcInB4XCI7XG4gICAgfTtcbiAgICB0aGlzLnNldENsYXNzTmFtZSA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy5nZXRFbGVtZW50KCksIGNsYXNzTmFtZSk7XG4gICAgfTtcbiAgICB0aGlzLnNob3cgPSBmdW5jdGlvbih0ZXh0LCB4LCB5KSB7XG4gICAgICAgIGlmICh0ZXh0ICE9IG51bGwpXG4gICAgICAgICAgICB0aGlzLnNldFRleHQodGV4dCk7XG4gICAgICAgIGlmICh4ICE9IG51bGwgJiYgeSAhPSBudWxsKVxuICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih4LCB5KTtcbiAgICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50KCkub2Zmc2V0SGVpZ2h0O1xuICAgIH07XG4gICAgdGhpcy5nZXRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50KCkub2Zmc2V0V2lkdGg7XG4gICAgfTtcblxufSkuY2FsbChUb29sdGlwLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuVG9vbHRpcCA9IFRvb2x0aXA7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb3VzZS9kZWZhdWx0X2d1dHRlcl9oYW5kbGVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZXZlbnRcIixcImFjZS90b29sdGlwXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIGV2ZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvZXZlbnRcIik7XG52YXIgVG9vbHRpcCA9IGFjZXF1aXJlKFwiLi4vdG9vbHRpcFwiKS5Ub29sdGlwO1xuXG5mdW5jdGlvbiBHdXR0ZXJIYW5kbGVyKG1vdXNlSGFuZGxlcikge1xuICAgIHZhciBlZGl0b3IgPSBtb3VzZUhhbmRsZXIuZWRpdG9yO1xuICAgIHZhciBndXR0ZXIgPSBlZGl0b3IucmVuZGVyZXIuJGd1dHRlckxheWVyO1xuICAgIHZhciB0b29sdGlwID0gbmV3IEd1dHRlclRvb2x0aXAoZWRpdG9yLmNvbnRhaW5lcik7XG5cbiAgICBtb3VzZUhhbmRsZXIuZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKFwiZ3V0dGVybW91c2Vkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCFlZGl0b3IuaXNGb2N1c2VkKCkgfHwgZS5nZXRCdXR0b24oKSAhPSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZ3V0dGVyUmVnaW9uID0gZ3V0dGVyLmdldFJlZ2lvbihlKTtcblxuICAgICAgICBpZiAoZ3V0dGVyUmVnaW9uID09IFwiZm9sZFdpZGdldHNcIilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgcm93ID0gZS5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93O1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlc3Npb24uc2VsZWN0aW9uO1xuXG4gICAgICAgIGlmIChlLmdldFNoaWZ0S2V5KCkpXG4gICAgICAgICAgICBzZWxlY3Rpb24uc2VsZWN0VG8ocm93LCAwKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZS5kb21FdmVudC5kZXRhaWwgPT0gMikge1xuICAgICAgICAgICAgICAgIGVkaXRvci5zZWxlY3RBbGwoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW91c2VIYW5kbGVyLiRjbGlja1NlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0TGluZVJhbmdlKHJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgbW91c2VIYW5kbGVyLnNldFN0YXRlKFwic2VsZWN0QnlMaW5lc1wiKTtcbiAgICAgICAgbW91c2VIYW5kbGVyLmNhcHR1cmVNb3VzZShlKTtcbiAgICAgICAgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuXG4gICAgdmFyIHRvb2x0aXBUaW1lb3V0LCBtb3VzZUV2ZW50LCB0b29sdGlwQW5ub3RhdGlvbjtcblxuICAgIGZ1bmN0aW9uIHNob3dUb29sdGlwKCkge1xuICAgICAgICB2YXIgcm93ID0gbW91c2VFdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93O1xuICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IGd1dHRlci4kYW5ub3RhdGlvbnNbcm93XTtcbiAgICAgICAgaWYgKCFhbm5vdGF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIGhpZGVUb29sdGlwKCk7XG5cbiAgICAgICAgdmFyIG1heFJvdyA9IGVkaXRvci5zZXNzaW9uLmdldExlbmd0aCgpO1xuICAgICAgICBpZiAocm93ID09IG1heFJvdykge1xuICAgICAgICAgICAgdmFyIHNjcmVlblJvdyA9IGVkaXRvci5yZW5kZXJlci5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMoMCwgbW91c2VFdmVudC55KS5yb3c7XG4gICAgICAgICAgICB2YXIgcG9zID0gbW91c2VFdmVudC4kcG9zO1xuICAgICAgICAgICAgaWYgKHNjcmVlblJvdyA+IGVkaXRvci5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Sb3cocG9zLnJvdywgcG9zLmNvbHVtbikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhpZGVUb29sdGlwKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9vbHRpcEFubm90YXRpb24gPT0gYW5ub3RhdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdG9vbHRpcEFubm90YXRpb24gPSBhbm5vdGF0aW9uLnRleHQuam9pbihcIjxici8+XCIpO1xuXG4gICAgICAgIHRvb2x0aXAuc2V0SHRtbCh0b29sdGlwQW5ub3RhdGlvbik7XG4gICAgICAgIHRvb2x0aXAuc2hvdygpO1xuICAgICAgICBlZGl0b3Iub24oXCJtb3VzZXdoZWVsXCIsIGhpZGVUb29sdGlwKTtcblxuICAgICAgICBpZiAobW91c2VIYW5kbGVyLiR0b29sdGlwRm9sbG93c01vdXNlKSB7XG4gICAgICAgICAgICBtb3ZlVG9vbHRpcChtb3VzZUV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBndXR0ZXJFbGVtZW50ID0gbW91c2VFdmVudC5kb21FdmVudC50YXJnZXQ7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IGd1dHRlckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0b29sdGlwLmdldEVsZW1lbnQoKS5zdHlsZTtcbiAgICAgICAgICAgIHN0eWxlLmxlZnQgPSByZWN0LnJpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgc3R5bGUudG9wID0gcmVjdC5ib3R0b20gKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlVG9vbHRpcCgpIHtcbiAgICAgICAgaWYgKHRvb2x0aXBUaW1lb3V0KVxuICAgICAgICAgICAgdG9vbHRpcFRpbWVvdXQgPSBjbGVhclRpbWVvdXQodG9vbHRpcFRpbWVvdXQpO1xuICAgICAgICBpZiAodG9vbHRpcEFubm90YXRpb24pIHtcbiAgICAgICAgICAgIHRvb2x0aXAuaGlkZSgpO1xuICAgICAgICAgICAgdG9vbHRpcEFubm90YXRpb24gPSBudWxsO1xuICAgICAgICAgICAgZWRpdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsIGhpZGVUb29sdGlwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdmVUb29sdGlwKGUpIHtcbiAgICAgICAgdG9vbHRpcC5zZXRQb3NpdGlvbihlLngsIGUueSk7XG4gICAgfVxuXG4gICAgbW91c2VIYW5kbGVyLmVkaXRvci5zZXREZWZhdWx0SGFuZGxlcihcImd1dHRlcm1vdXNlbW92ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBlLmRvbUV2ZW50LnRhcmdldCB8fCBlLmRvbUV2ZW50LnNyY0VsZW1lbnQ7XG4gICAgICAgIGlmIChkb20uaGFzQ3NzQ2xhc3ModGFyZ2V0LCBcImFjZV9mb2xkLXdpZGdldFwiKSlcbiAgICAgICAgICAgIHJldHVybiBoaWRlVG9vbHRpcCgpO1xuXG4gICAgICAgIGlmICh0b29sdGlwQW5ub3RhdGlvbiAmJiBtb3VzZUhhbmRsZXIuJHRvb2x0aXBGb2xsb3dzTW91c2UpXG4gICAgICAgICAgICBtb3ZlVG9vbHRpcChlKTtcblxuICAgICAgICBtb3VzZUV2ZW50ID0gZTtcbiAgICAgICAgaWYgKHRvb2x0aXBUaW1lb3V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0b29sdGlwVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0b29sdGlwVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAobW91c2VFdmVudCAmJiAhbW91c2VIYW5kbGVyLmlzTW91c2VQcmVzc2VkKVxuICAgICAgICAgICAgICAgIHNob3dUb29sdGlwKCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaGlkZVRvb2x0aXAoKTtcbiAgICAgICAgfSwgNTApO1xuICAgIH0pO1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZWRpdG9yLnJlbmRlcmVyLiRndXR0ZXIsIFwibW91c2VvdXRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBtb3VzZUV2ZW50ID0gbnVsbDtcbiAgICAgICAgaWYgKCF0b29sdGlwQW5ub3RhdGlvbiB8fCB0b29sdGlwVGltZW91dClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0b29sdGlwVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0b29sdGlwVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBoaWRlVG9vbHRpcCgpO1xuICAgICAgICB9LCA1MCk7XG4gICAgfSk7XG4gICAgXG4gICAgZWRpdG9yLm9uKFwiY2hhbmdlU2Vzc2lvblwiLCBoaWRlVG9vbHRpcCk7XG59XG5cbmZ1bmN0aW9uIEd1dHRlclRvb2x0aXAocGFyZW50Tm9kZSkge1xuICAgIFRvb2x0aXAuY2FsbCh0aGlzLCBwYXJlbnROb2RlKTtcbn1cblxub29wLmluaGVyaXRzKEd1dHRlclRvb2x0aXAsIFRvb2x0aXApO1xuXG4oZnVuY3Rpb24oKXtcbiAgICB0aGlzLnNldFBvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICB2YXIgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHQoKTtcbiAgICAgICAgeCArPSAxNTtcbiAgICAgICAgeSArPSAxNTtcbiAgICAgICAgaWYgKHggKyB3aWR0aCA+IHdpbmRvd1dpZHRoKSB7XG4gICAgICAgICAgICB4IC09ICh4ICsgd2lkdGgpIC0gd2luZG93V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgKyBoZWlnaHQgPiB3aW5kb3dIZWlnaHQpIHtcbiAgICAgICAgICAgIHkgLT0gMjAgKyBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgVG9vbHRpcC5wcm90b3R5cGUuc2V0UG9zaXRpb24uY2FsbCh0aGlzLCB4LCB5KTtcbiAgICB9O1xuXG59KS5jYWxsKEd1dHRlclRvb2x0aXAucHJvdG90eXBlKTtcblxuXG5cbmV4cG9ydHMuR3V0dGVySGFuZGxlciA9IEd1dHRlckhhbmRsZXI7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vdXNlL21vdXNlX2V2ZW50XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xudmFyIHVzZXJhZ2VudCA9IGFjZXF1aXJlKFwiLi4vbGliL3VzZXJhZ2VudFwiKTtcbnZhciBNb3VzZUV2ZW50ID0gZXhwb3J0cy5Nb3VzZUV2ZW50ID0gZnVuY3Rpb24oZG9tRXZlbnQsIGVkaXRvcikge1xuICAgIHRoaXMuZG9tRXZlbnQgPSBkb21FdmVudDtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICBcbiAgICB0aGlzLnggPSB0aGlzLmNsaWVudFggPSBkb21FdmVudC5jbGllbnRYO1xuICAgIHRoaXMueSA9IHRoaXMuY2xpZW50WSA9IGRvbUV2ZW50LmNsaWVudFk7XG5cbiAgICB0aGlzLiRwb3MgPSBudWxsO1xuICAgIHRoaXMuJGluU2VsZWN0aW9uID0gbnVsbDtcbiAgICBcbiAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xufTtcblxuKGZ1bmN0aW9uKCkgeyAgXG4gICAgXG4gICAgdGhpcy5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKHRoaXMuZG9tRXZlbnQpO1xuICAgICAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KHRoaXMuZG9tRXZlbnQpO1xuICAgICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0RG9jdW1lbnRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kcG9zKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHBvcztcbiAgICAgICAgXG4gICAgICAgIHRoaXMuJHBvcyA9IHRoaXMuZWRpdG9yLnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKHRoaXMuY2xpZW50WCwgdGhpcy5jbGllbnRZKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHBvcztcbiAgICB9O1xuICAgIHRoaXMuaW5TZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJGluU2VsZWN0aW9uICE9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGluU2VsZWN0aW9uO1xuICAgICAgICAgICAgXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgXG5cbiAgICAgICAgdmFyIHNlbGVjdGlvblJhbmdlID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGlmIChzZWxlY3Rpb25SYW5nZS5pc0VtcHR5KCkpXG4gICAgICAgICAgICB0aGlzLiRpblNlbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmdldERvY3VtZW50UG9zaXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuJGluU2VsZWN0aW9uID0gc2VsZWN0aW9uUmFuZ2UuY29udGFpbnMocG9zLnJvdywgcG9zLmNvbHVtbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4kaW5TZWxlY3Rpb247XG4gICAgfTtcbiAgICB0aGlzLmdldEJ1dHRvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZXZlbnQuZ2V0QnV0dG9uKHRoaXMuZG9tRXZlbnQpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTaGlmdEtleSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb21FdmVudC5zaGlmdEtleTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0QWNjZWxLZXkgPSB1c2VyYWdlbnQuaXNNYWNcbiAgICAgICAgPyBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuZG9tRXZlbnQubWV0YUtleTsgfVxuICAgICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5kb21FdmVudC5jdHJsS2V5OyB9O1xuICAgIFxufSkuY2FsbChNb3VzZUV2ZW50LnByb3RvdHlwZSk7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vdXNlL2RyYWdkcm9wX2hhbmRsZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG52YXIgZXZlbnQgPSBhY2VxdWlyZShcIi4uL2xpYi9ldmVudFwiKTtcbnZhciB1c2VyYWdlbnQgPSBhY2VxdWlyZShcIi4uL2xpYi91c2VyYWdlbnRcIik7XG5cbnZhciBBVVRPU0NST0xMX0RFTEFZID0gMjAwO1xudmFyIFNDUk9MTF9DVVJTT1JfREVMQVkgPSAyMDA7XG52YXIgU0NST0xMX0NVUlNPUl9IWVNURVJFU0lTID0gNTtcblxuZnVuY3Rpb24gRHJhZ2Ryb3BIYW5kbGVyKG1vdXNlSGFuZGxlcikge1xuXG4gICAgdmFyIGVkaXRvciA9IG1vdXNlSGFuZGxlci5lZGl0b3I7XG5cbiAgICB2YXIgYmxhbmtJbWFnZSA9IGRvbS5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGJsYW5rSW1hZ2Uuc3JjID0gXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PVwiO1xuICAgIGlmICh1c2VyYWdlbnQuaXNPcGVyYSlcbiAgICAgICAgYmxhbmtJbWFnZS5zdHlsZS5jc3NUZXh0ID0gXCJ3aWR0aDoxcHg7aGVpZ2h0OjFweDtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7ei1pbmRleDoyMTQ3NDgzNjQ3O29wYWNpdHk6MDtcIjtcblxuICAgIHZhciBleHBvcnRzID0gW1wiZHJhZ1dhaXRcIiwgXCJkcmFnV2FpdEVuZFwiLCBcInN0YXJ0RHJhZ1wiLCBcImRyYWdSZWFkeUVuZFwiLCBcIm9uTW91c2VEcmFnXCJdO1xuXG4gICAgIGV4cG9ydHMuZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICBtb3VzZUhhbmRsZXJbeF0gPSB0aGlzW3hdO1xuICAgIH0sIHRoaXMpO1xuICAgIGVkaXRvci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Nb3VzZURvd24uYmluZChtb3VzZUhhbmRsZXIpKTtcblxuXG4gICAgdmFyIG1vdXNlVGFyZ2V0ID0gZWRpdG9yLmNvbnRhaW5lcjtcbiAgICB2YXIgZHJhZ1NlbGVjdGlvbk1hcmtlciwgeCwgeTtcbiAgICB2YXIgdGltZXJJZCwgcmFuZ2U7XG4gICAgdmFyIGRyYWdDdXJzb3IsIGNvdW50ZXIgPSAwO1xuICAgIHZhciBkcmFnT3BlcmF0aW9uO1xuICAgIHZhciBpc0ludGVybmFsO1xuICAgIHZhciBhdXRvU2Nyb2xsU3RhcnRUaW1lO1xuICAgIHZhciBjdXJzb3JNb3ZlZFRpbWU7XG4gICAgdmFyIGN1cnNvclBvaW50T25DYXJldE1vdmVkO1xuXG4gICAgdGhpcy5vbkRyYWdTdGFydCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsRHJhZyB8fCAhbW91c2VUYXJnZXQuZHJhZ2dhYmxlKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGFydFNlbGVjdCgpO1xuICAgICAgICAgICAgICAgIHNlbGYuY2FwdHVyZU1vdXNlKGUpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJhbmdlID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG5cbiAgICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyO1xuICAgICAgICBkYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IGVkaXRvci5nZXRSZWFkT25seSgpID8gXCJjb3B5XCIgOiBcImNvcHlNb3ZlXCI7XG4gICAgICAgIGlmICh1c2VyYWdlbnQuaXNPcGVyYSkge1xuICAgICAgICAgICAgZWRpdG9yLmNvbnRhaW5lci5hcHBlbmRDaGlsZChibGFua0ltYWdlKTtcbiAgICAgICAgICAgIGJsYW5rSW1hZ2Uuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgfVxuICAgICAgICBkYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlICYmIGRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoYmxhbmtJbWFnZSwgMCwgMCk7XG4gICAgICAgIGlmICh1c2VyYWdlbnQuaXNPcGVyYSkge1xuICAgICAgICAgICAgZWRpdG9yLmNvbnRhaW5lci5yZW1vdmVDaGlsZChibGFua0ltYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhVHJhbnNmZXIuY2xlYXJEYXRhKCk7XG4gICAgICAgIGRhdGFUcmFuc2Zlci5zZXREYXRhKFwiVGV4dFwiLCBlZGl0b3Iuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UoKSk7XG5cbiAgICAgICAgaXNJbnRlcm5hbCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXCJkcmFnXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uRHJhZ0VuZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbW91c2VUYXJnZXQuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIGlzSW50ZXJuYWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShudWxsKTtcbiAgICAgICAgaWYgKCFlZGl0b3IuZ2V0UmVhZE9ubHkoKSkge1xuICAgICAgICAgICAgdmFyIGRyb3BFZmZlY3QgPSBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0O1xuICAgICAgICAgICAgaWYgKCFkcmFnT3BlcmF0aW9uICYmIGRyb3BFZmZlY3QgPT0gXCJtb3ZlXCIpXG4gICAgICAgICAgICAgICAgZWRpdG9yLnNlc3Npb24ucmVtb3ZlKGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpKTtcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci4kY3Vyc29yTGF5ZXIuc2V0QmxpbmtpbmcodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lZGl0b3IudW5zZXRTdHlsZShcImFjZV9kcmFnZ2luZ1wiKTtcbiAgICAgICAgdGhpcy5lZGl0b3IucmVuZGVyZXIuc2V0Q3Vyc29yU3R5bGUoXCJcIik7XG4gICAgfTtcblxuICAgIHRoaXMub25EcmFnRW50ZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlZGl0b3IuZ2V0UmVhZE9ubHkoKSB8fCAhY2FuQWNjZXB0KGUuZGF0YVRyYW5zZmVyKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgeCA9IGUuY2xpZW50WDtcbiAgICAgICAgeSA9IGUuY2xpZW50WTtcbiAgICAgICAgaWYgKCFkcmFnU2VsZWN0aW9uTWFya2VyKVxuICAgICAgICAgICAgYWRkRHJhZ01hcmtlcigpO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBkcmFnT3BlcmF0aW9uID0gZ2V0RHJvcEVmZmVjdChlKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uRHJhZ092ZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlZGl0b3IuZ2V0UmVhZE9ubHkoKSB8fCAhY2FuQWNjZXB0KGUuZGF0YVRyYW5zZmVyKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgeCA9IGUuY2xpZW50WDtcbiAgICAgICAgeSA9IGUuY2xpZW50WTtcbiAgICAgICAgaWYgKCFkcmFnU2VsZWN0aW9uTWFya2VyKSB7XG4gICAgICAgICAgICBhZGREcmFnTWFya2VyKCk7XG4gICAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uTW91c2VNb3ZlVGltZXIgIT09IG51bGwpXG4gICAgICAgICAgICBvbk1vdXNlTW92ZVRpbWVyID0gbnVsbDtcblxuICAgICAgICBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gZHJhZ09wZXJhdGlvbiA9IGdldERyb3BFZmZlY3QoZSk7XG4gICAgICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkRyYWdMZWF2ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgY291bnRlci0tO1xuICAgICAgICBpZiAoY291bnRlciA8PSAwICYmIGRyYWdTZWxlY3Rpb25NYXJrZXIpIHtcbiAgICAgICAgICAgIGNsZWFyRHJhZ01hcmtlcigpO1xuICAgICAgICAgICAgZHJhZ09wZXJhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5vbkRyb3AgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghZHJhZ0N1cnNvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyO1xuICAgICAgICBpZiAoaXNJbnRlcm5hbCkge1xuICAgICAgICAgICAgc3dpdGNoIChkcmFnT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1vdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLmNvbnRhaW5zKGRyYWdDdXJzb3Iucm93LCBkcmFnQ3Vyc29yLmNvbHVtbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBkcmFnQ3Vyc29yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZHJhZ0N1cnNvclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gZWRpdG9yLm1vdmVUZXh0KHJhbmdlLCBkcmFnQ3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29weVwiOlxuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IGVkaXRvci5tb3ZlVGV4dChyYW5nZSwgZHJhZ0N1cnNvciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRyb3BEYXRhID0gZGF0YVRyYW5zZmVyLmdldERhdGEoJ1RleHQnKTtcbiAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBkcmFnQ3Vyc29yLFxuICAgICAgICAgICAgICAgIGVuZDogZWRpdG9yLnNlc3Npb24uaW5zZXJ0KGRyYWdDdXJzb3IsIGRyb3BEYXRhKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICAgICAgZHJhZ09wZXJhdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJEcmFnTWFya2VyKCk7XG4gICAgICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICB9O1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIobW91c2VUYXJnZXQsIFwiZHJhZ3N0YXJ0XCIsIHRoaXMub25EcmFnU3RhcnQuYmluZChtb3VzZUhhbmRsZXIpKTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihtb3VzZVRhcmdldCwgXCJkcmFnZW5kXCIsIHRoaXMub25EcmFnRW5kLmJpbmQobW91c2VIYW5kbGVyKSk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIobW91c2VUYXJnZXQsIFwiZHJhZ2VudGVyXCIsIHRoaXMub25EcmFnRW50ZXIuYmluZChtb3VzZUhhbmRsZXIpKTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihtb3VzZVRhcmdldCwgXCJkcmFnb3ZlclwiLCB0aGlzLm9uRHJhZ092ZXIuYmluZChtb3VzZUhhbmRsZXIpKTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihtb3VzZVRhcmdldCwgXCJkcmFnbGVhdmVcIiwgdGhpcy5vbkRyYWdMZWF2ZS5iaW5kKG1vdXNlSGFuZGxlcikpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKG1vdXNlVGFyZ2V0LCBcImRyb3BcIiwgdGhpcy5vbkRyb3AuYmluZChtb3VzZUhhbmRsZXIpKTtcblxuICAgIGZ1bmN0aW9uIHNjcm9sbEN1cnNvckludG9WaWV3KGN1cnNvciwgcHJldkN1cnNvcikge1xuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIHZNb3ZlbWVudCA9ICFwcmV2Q3Vyc29yIHx8IGN1cnNvci5yb3cgIT0gcHJldkN1cnNvci5yb3c7XG4gICAgICAgIHZhciBoTW92ZW1lbnQgPSAhcHJldkN1cnNvciB8fCBjdXJzb3IuY29sdW1uICE9IHByZXZDdXJzb3IuY29sdW1uO1xuICAgICAgICBpZiAoIWN1cnNvck1vdmVkVGltZSB8fCB2TW92ZW1lbnQgfHwgaE1vdmVtZW50KSB7XG4gICAgICAgICAgICBlZGl0b3IuJGJsb2NrU2Nyb2xsaW5nICs9IDE7XG4gICAgICAgICAgICBlZGl0b3IubW92ZUN1cnNvclRvUG9zaXRpb24oY3Vyc29yKTtcbiAgICAgICAgICAgIGVkaXRvci4kYmxvY2tTY3JvbGxpbmcgLT0gMTtcbiAgICAgICAgICAgIGN1cnNvck1vdmVkVGltZSA9IG5vdztcbiAgICAgICAgICAgIGN1cnNvclBvaW50T25DYXJldE1vdmVkID0ge3g6IHgsIHk6IHl9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gY2FsY0Rpc3RhbmNlKGN1cnNvclBvaW50T25DYXJldE1vdmVkLngsIGN1cnNvclBvaW50T25DYXJldE1vdmVkLnksIHgsIHkpO1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlID4gU0NST0xMX0NVUlNPUl9IWVNURVJFU0lTKSB7XG4gICAgICAgICAgICAgICAgY3Vyc29yTW92ZWRUaW1lID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobm93IC0gY3Vyc29yTW92ZWRUaW1lID49IFNDUk9MTF9DVVJTT1JfREVMQVkpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKTtcbiAgICAgICAgICAgICAgICBjdXJzb3JNb3ZlZFRpbWUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXV0b1Njcm9sbChjdXJzb3IsIHByZXZDdXJzb3IpIHtcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gZWRpdG9yLnJlbmRlcmVyLmxheWVyQ29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBjaGFyYWN0ZXJXaWR0aCA9IGVkaXRvci5yZW5kZXJlci5sYXllckNvbmZpZy5jaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgdmFyIGVkaXRvclJlY3QgPSBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBvZmZzZXRzID0ge1xuICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICBsZWZ0OiB4IC0gZWRpdG9yUmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgcmlnaHQ6IGVkaXRvclJlY3QucmlnaHQgLSB4XG4gICAgICAgICAgIH0sXG4gICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgIHRvcDogeSAtIGVkaXRvclJlY3QudG9wLFxuICAgICAgICAgICAgICAgYm90dG9tOiBlZGl0b3JSZWN0LmJvdHRvbSAtIHlcbiAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgbmVhcmVzdFhPZmZzZXQgPSBNYXRoLm1pbihvZmZzZXRzLngubGVmdCwgb2Zmc2V0cy54LnJpZ2h0KTtcbiAgICAgICAgdmFyIG5lYXJlc3RZT2Zmc2V0ID0gTWF0aC5taW4ob2Zmc2V0cy55LnRvcCwgb2Zmc2V0cy55LmJvdHRvbSk7XG4gICAgICAgIHZhciBzY3JvbGxDdXJzb3IgPSB7cm93OiBjdXJzb3Iucm93LCBjb2x1bW46IGN1cnNvci5jb2x1bW59O1xuICAgICAgICBpZiAobmVhcmVzdFhPZmZzZXQgLyBjaGFyYWN0ZXJXaWR0aCA8PSAyKSB7XG4gICAgICAgICAgICBzY3JvbGxDdXJzb3IuY29sdW1uICs9IChvZmZzZXRzLngubGVmdCA8IG9mZnNldHMueC5yaWdodCA/IC0zIDogKzIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZWFyZXN0WU9mZnNldCAvIGxpbmVIZWlnaHQgPD0gMSkge1xuICAgICAgICAgICAgc2Nyb2xsQ3Vyc29yLnJvdyArPSAob2Zmc2V0cy55LnRvcCA8IG9mZnNldHMueS5ib3R0b20gPyAtMSA6ICsxKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdlNjcm9sbCA9IGN1cnNvci5yb3cgIT0gc2Nyb2xsQ3Vyc29yLnJvdztcbiAgICAgICAgdmFyIGhTY3JvbGwgPSBjdXJzb3IuY29sdW1uICE9IHNjcm9sbEN1cnNvci5jb2x1bW47XG4gICAgICAgIHZhciB2TW92ZW1lbnQgPSAhcHJldkN1cnNvciB8fCBjdXJzb3Iucm93ICE9IHByZXZDdXJzb3Iucm93O1xuICAgICAgICBpZiAodlNjcm9sbCB8fCAoaFNjcm9sbCAmJiAhdk1vdmVtZW50KSkge1xuICAgICAgICAgICAgaWYgKCFhdXRvU2Nyb2xsU3RhcnRUaW1lKVxuICAgICAgICAgICAgICAgIGF1dG9TY3JvbGxTdGFydFRpbWUgPSBub3c7XG4gICAgICAgICAgICBlbHNlIGlmIChub3cgLSBhdXRvU2Nyb2xsU3RhcnRUaW1lID49IEFVVE9TQ1JPTExfREVMQVkpXG4gICAgICAgICAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KHNjcm9sbEN1cnNvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdXRvU2Nyb2xsU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRHJhZ0ludGVydmFsKCkge1xuICAgICAgICB2YXIgcHJldkN1cnNvciA9IGRyYWdDdXJzb3I7XG4gICAgICAgIGRyYWdDdXJzb3IgPSBlZGl0b3IucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXMoeCwgeSk7XG4gICAgICAgIHNjcm9sbEN1cnNvckludG9WaWV3KGRyYWdDdXJzb3IsIHByZXZDdXJzb3IpO1xuICAgICAgICBhdXRvU2Nyb2xsKGRyYWdDdXJzb3IsIHByZXZDdXJzb3IpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZERyYWdNYXJrZXIoKSB7XG4gICAgICAgIHJhbmdlID0gZWRpdG9yLnNlbGVjdGlvbi50b09yaWVudGVkUmFuZ2UoKTtcbiAgICAgICAgZHJhZ1NlbGVjdGlvbk1hcmtlciA9IGVkaXRvci5zZXNzaW9uLmFkZE1hcmtlcihyYW5nZSwgXCJhY2Vfc2VsZWN0aW9uXCIsIGVkaXRvci5nZXRTZWxlY3Rpb25TdHlsZSgpKTtcbiAgICAgICAgZWRpdG9yLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIGlmIChlZGl0b3IuaXNGb2N1c2VkKCkpXG4gICAgICAgICAgICBlZGl0b3IucmVuZGVyZXIuJGN1cnNvckxheWVyLnNldEJsaW5raW5nKGZhbHNlKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcbiAgICAgICAgb25EcmFnSW50ZXJ2YWwoKTtcbiAgICAgICAgdGltZXJJZCA9IHNldEludGVydmFsKG9uRHJhZ0ludGVydmFsLCAyMCk7XG4gICAgICAgIGNvdW50ZXIgPSAwO1xuICAgICAgICBldmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwgXCJtb3VzZW1vdmVcIiwgb25Nb3VzZU1vdmUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFyRHJhZ01hcmtlcigpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcbiAgICAgICAgZWRpdG9yLnNlc3Npb24ucmVtb3ZlTWFya2VyKGRyYWdTZWxlY3Rpb25NYXJrZXIpO1xuICAgICAgICBkcmFnU2VsZWN0aW9uTWFya2VyID0gbnVsbDtcbiAgICAgICAgZWRpdG9yLiRibG9ja1Njcm9sbGluZyArPSAxO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLmZyb21PcmllbnRlZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgZWRpdG9yLiRibG9ja1Njcm9sbGluZyAtPSAxO1xuICAgICAgICBpZiAoZWRpdG9yLmlzRm9jdXNlZCgpICYmICFpc0ludGVybmFsKVxuICAgICAgICAgICAgZWRpdG9yLnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghZWRpdG9yLmdldFJlYWRPbmx5KCkpO1xuICAgICAgICByYW5nZSA9IG51bGw7XG4gICAgICAgIGRyYWdDdXJzb3IgPSBudWxsO1xuICAgICAgICBjb3VudGVyID0gMDtcbiAgICAgICAgYXV0b1Njcm9sbFN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIGN1cnNvck1vdmVkVGltZSA9IG51bGw7XG4gICAgICAgIGV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZSk7XG4gICAgfVxuICAgIHZhciBvbk1vdXNlTW92ZVRpbWVyID0gbnVsbDtcbiAgICBmdW5jdGlvbiBvbk1vdXNlTW92ZSgpIHtcbiAgICAgICAgaWYgKG9uTW91c2VNb3ZlVGltZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgb25Nb3VzZU1vdmVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uTW91c2VNb3ZlVGltZXIgIT0gbnVsbCAmJiBkcmFnU2VsZWN0aW9uTWFya2VyKVxuICAgICAgICAgICAgICAgICAgICBjbGVhckRyYWdNYXJrZXIoKTtcbiAgICAgICAgICAgIH0sIDIwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbkFjY2VwdChkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgdmFyIHR5cGVzID0gZGF0YVRyYW5zZmVyLnR5cGVzO1xuICAgICAgICByZXR1cm4gIXR5cGVzIHx8IEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwodHlwZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlID09ICd0ZXh0L3BsYWluJyB8fCB0eXBlID09ICdUZXh0JztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RHJvcEVmZmVjdChlKSB7XG4gICAgICAgIHZhciBjb3B5QWxsb3dlZCA9IFsnY29weScsICdjb3B5bW92ZScsICdhbGwnLCAndW5pbml0aWFsaXplZCddO1xuICAgICAgICB2YXIgbW92ZUFsbG93ZWQgPSBbJ21vdmUnLCAnY29weW1vdmUnLCAnbGlua21vdmUnLCAnYWxsJywgJ3VuaW5pdGlhbGl6ZWQnXTtcblxuICAgICAgICB2YXIgY29weU1vZGlmaWVyU3RhdGUgPSB1c2VyYWdlbnQuaXNNYWMgPyBlLmFsdEtleSA6IGUuY3RybEtleTtcbiAgICAgICAgdmFyIGVmZmVjdEFsbG93ZWQgPSBcInVuaW5pdGlhbGl6ZWRcIjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGVmZmVjdEFsbG93ZWQgPSBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHZhciBkcm9wRWZmZWN0ID0gXCJub25lXCI7XG5cbiAgICAgICAgaWYgKGNvcHlNb2RpZmllclN0YXRlICYmIGNvcHlBbGxvd2VkLmluZGV4T2YoZWZmZWN0QWxsb3dlZCkgPj0gMClcbiAgICAgICAgICAgIGRyb3BFZmZlY3QgPSBcImNvcHlcIjtcbiAgICAgICAgZWxzZSBpZiAobW92ZUFsbG93ZWQuaW5kZXhPZihlZmZlY3RBbGxvd2VkKSA+PSAwKVxuICAgICAgICAgICAgZHJvcEVmZmVjdCA9IFwibW92ZVwiO1xuICAgICAgICBlbHNlIGlmIChjb3B5QWxsb3dlZC5pbmRleE9mKGVmZmVjdEFsbG93ZWQpID49IDApXG4gICAgICAgICAgICBkcm9wRWZmZWN0ID0gXCJjb3B5XCI7XG5cbiAgICAgICAgcmV0dXJuIGRyb3BFZmZlY3Q7XG4gICAgfVxufVxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmRyYWdXYWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpbnRlcnZhbCA9IERhdGUubm93KCkgLSB0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWU7XG4gICAgICAgIGlmIChpbnRlcnZhbCA+IHRoaXMuZWRpdG9yLmdldERyYWdEZWxheSgpKVxuICAgICAgICAgICAgdGhpcy5zdGFydERyYWcoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kcmFnV2FpdEVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5lZGl0b3IuY29udGFpbmVyO1xuICAgICAgICB0YXJnZXQuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnRTZWxlY3QodGhpcy5tb3VzZWRvd25FdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkpO1xuICAgICAgICB0aGlzLnNlbGVjdEVuZCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmRyYWdSZWFkeUVuZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5lZGl0b3IucmVuZGVyZXIuJGN1cnNvckxheWVyLnNldEJsaW5raW5nKCF0aGlzLmVkaXRvci5nZXRSZWFkT25seSgpKTtcbiAgICAgICAgdGhpcy5lZGl0b3IudW5zZXRTdHlsZShcImFjZV9kcmFnZ2luZ1wiKTtcbiAgICAgICAgdGhpcy5lZGl0b3IucmVuZGVyZXIuc2V0Q3Vyc29yU3R5bGUoXCJcIik7XG4gICAgICAgIHRoaXMuZHJhZ1dhaXRFbmQoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdGFydERyYWcgPSBmdW5jdGlvbigpe1xuICAgICAgICB0aGlzLmNhbmNlbERyYWcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZWRpdG9yLmNvbnRhaW5lcjtcbiAgICAgICAgdGFyZ2V0LmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgIGVkaXRvci5yZW5kZXJlci4kY3Vyc29yTGF5ZXIuc2V0QmxpbmtpbmcoZmFsc2UpO1xuICAgICAgICBlZGl0b3Iuc2V0U3R5bGUoXCJhY2VfZHJhZ2dpbmdcIik7XG4gICAgICAgIHZhciBjdXJzb3JTdHlsZSA9IHVzZXJhZ2VudC5pc1dpbiA/IFwiZGVmYXVsdFwiIDogXCJtb3ZlXCI7XG4gICAgICAgIGVkaXRvci5yZW5kZXJlci5zZXRDdXJzb3JTdHlsZShjdXJzb3JTdHlsZSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXCJkcmFnUmVhZHlcIik7XG4gICAgfTtcblxuICAgIHRoaXMub25Nb3VzZURyYWcgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLmVkaXRvci5jb250YWluZXI7XG4gICAgICAgIGlmICh1c2VyYWdlbnQuaXNJRSAmJiB0aGlzLnN0YXRlID09IFwiZHJhZ1JlYWR5XCIpIHtcbiAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IGNhbGNEaXN0YW5jZSh0aGlzLm1vdXNlZG93bkV2ZW50LngsIHRoaXMubW91c2Vkb3duRXZlbnQueSwgdGhpcy54LCB0aGlzLnkpO1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlID4gMylcbiAgICAgICAgICAgICAgICB0YXJnZXQuZHJhZ0Ryb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gXCJkcmFnV2FpdFwiKSB7XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBjYWxjRGlzdGFuY2UodGhpcy5tb3VzZWRvd25FdmVudC54LCB0aGlzLm1vdXNlZG93bkV2ZW50LnksIHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFNlbGVjdCh0aGlzLm1vdXNlZG93bkV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlRG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRkcmFnRW5hYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5tb3VzZWRvd25FdmVudCA9IGU7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcblxuICAgICAgICB2YXIgaW5TZWxlY3Rpb24gPSBlLmluU2VsZWN0aW9uKCk7XG4gICAgICAgIHZhciBidXR0b24gPSBlLmdldEJ1dHRvbigpO1xuICAgICAgICB2YXIgY2xpY2tDb3VudCA9IGUuZG9tRXZlbnQuZGV0YWlsIHx8IDE7XG4gICAgICAgIGlmIChjbGlja0NvdW50ID09PSAxICYmIGJ1dHRvbiA9PT0gMCAmJiBpblNlbGVjdGlvbikge1xuICAgICAgICAgICAgaWYgKGUuZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlICYmIChlLmdldEFjY2VsS2V5KCkgfHwgZS5nZXRTaGlmdEtleSgpKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgdmFyIGV2ZW50VGFyZ2V0ID0gZS5kb21FdmVudC50YXJnZXQgfHwgZS5kb21FdmVudC5zcmNFbGVtZW50O1xuICAgICAgICAgICAgaWYgKFwidW5zZWxlY3RhYmxlXCIgaW4gZXZlbnRUYXJnZXQpXG4gICAgICAgICAgICAgICAgZXZlbnRUYXJnZXQudW5zZWxlY3RhYmxlID0gXCJvblwiO1xuICAgICAgICAgICAgaWYgKGVkaXRvci5nZXREcmFnRGVsYXkoKSkge1xuICAgICAgICAgICAgICAgIGlmICh1c2VyYWdlbnQuaXNXZWJLaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxEcmFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vdXNlVGFyZ2V0ID0gZWRpdG9yLmNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VUYXJnZXQuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShcImRyYWdXYWl0XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RHJhZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jYXB0dXJlTW91c2UoZSwgdGhpcy5vbk1vdXNlRHJhZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGUuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KS5jYWxsKERyYWdkcm9wSGFuZGxlci5wcm90b3R5cGUpO1xuXG5cbmZ1bmN0aW9uIGNhbGNEaXN0YW5jZShheCwgYXksIGJ4LCBieSkge1xuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYnggLSBheCwgMikgKyBNYXRoLnBvdyhieSAtIGF5LCAyKSk7XG59XG5cbmV4cG9ydHMuRHJhZ2Ryb3BIYW5kbGVyID0gRHJhZ2Ryb3BIYW5kbGVyO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9saWIvbmV0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZG9tID0gYWNlcXVpcmUoXCIuL2RvbVwiKTtcblxuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaykge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbignR0VUJywgdXJsLCB0cnVlKTtcbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB4aHIuc2VuZChudWxsKTtcbn07XG5cbmV4cG9ydHMubG9hZFNjcmlwdCA9IGZ1bmN0aW9uKHBhdGgsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGhlYWQgPSBkb20uZ2V0RG9jdW1lbnRIZWFkKCk7XG4gICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuICAgIHMuc3JjID0gcGF0aDtcbiAgICBoZWFkLmFwcGVuZENoaWxkKHMpO1xuXG4gICAgcy5vbmxvYWQgPSBzLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKF8sIGlzQWJvcnQpIHtcbiAgICAgICAgaWYgKGlzQWJvcnQgfHwgIXMucmVhZHlTdGF0ZSB8fCBzLnJlYWR5U3RhdGUgPT0gXCJsb2FkZWRcIiB8fCBzLnJlYWR5U3RhdGUgPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICBzID0gcy5vbmxvYWQgPSBzLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoIWlzQWJvcnQpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0cy5xdWFsaWZ5VVJMID0gZnVuY3Rpb24odXJsKSB7XG4gICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYS5ocmVmID0gdXJsO1xuICAgIHJldHVybiBhLmhyZWY7XG59XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIEV2ZW50RW1pdHRlciA9IHt9O1xudmFyIHN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkgeyB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7IH07XG52YXIgcHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHsgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTsgfTtcblxuRXZlbnRFbWl0dGVyLl9lbWl0ID1cbkV2ZW50RW1pdHRlci5fZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZSkge1xuICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7XG4gICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdIHx8IFtdO1xuICAgIHZhciBkZWZhdWx0SGFuZGxlciA9IHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdO1xuICAgIGlmICghbGlzdGVuZXJzLmxlbmd0aCAmJiAhZGVmYXVsdEhhbmRsZXIpXG4gICAgICAgIHJldHVybjtcblxuICAgIGlmICh0eXBlb2YgZSAhPSBcIm9iamVjdFwiIHx8ICFlKVxuICAgICAgICBlID0ge307XG5cbiAgICBpZiAoIWUudHlwZSlcbiAgICAgICAgZS50eXBlID0gZXZlbnROYW1lO1xuICAgIGlmICghZS5zdG9wUHJvcGFnYXRpb24pXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uID0gc3RvcFByb3BhZ2F0aW9uO1xuICAgIGlmICghZS5wcmV2ZW50RGVmYXVsdClcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCA9IHByZXZlbnREZWZhdWx0O1xuXG4gICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7XG4gICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBcbiAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpO1xufTtcblxuXG5FdmVudEVtaXR0ZXIuX3NpZ25hbCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZSkge1xuICAgIHZhciBsaXN0ZW5lcnMgPSAodGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fSlbZXZlbnROYW1lXTtcbiAgICBpZiAoIWxpc3RlbmVycylcbiAgICAgICAgcmV0dXJuO1xuICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgpO1xuICAgIGZvciAodmFyIGk9MDsgaTxsaXN0ZW5lcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5vbmNlID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgY2FsbGJhY2sgJiYgdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuY3Rpb24gbmV3Q2FsbGJhY2soKSB7XG4gICAgICAgIF9zZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7XG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfSk7XG59O1xuXG5cbkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNcbiAgICBpZiAoIWhhbmRsZXJzKVxuICAgICAgICBoYW5kbGVycyA9IHRoaXMuX2RlZmF1bHRIYW5kbGVycyA9IHtfZGlzYWJsZWRfOiB7fX07XG4gICAgXG4gICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgdmFyIG9sZCA9IGhhbmRsZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIHZhciBkaXNhYmxlZCA9IGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKCFkaXNhYmxlZClcbiAgICAgICAgICAgIGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXSA9IGRpc2FibGVkID0gW107XG4gICAgICAgIGRpc2FibGVkLnB1c2gob2xkKTtcbiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGkgIT0gLTEpIFxuICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgICBoYW5kbGVyc1tldmVudE5hbWVdID0gY2FsbGJhY2s7XG59O1xuRXZlbnRFbWl0dGVyLnJlbW92ZURlZmF1bHRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBoYW5kbGVycyA9IHRoaXMuX2RlZmF1bHRIYW5kbGVyc1xuICAgIGlmICghaGFuZGxlcnMpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07XG4gICAgXG4gICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0gPT0gY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG9sZCA9IGhhbmRsZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmIChkaXNhYmxlZClcbiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZXZlbnROYW1lLCBkaXNhYmxlZC5wb3AoKSk7XG4gICAgfSBlbHNlIGlmIChkaXNhYmxlZCkge1xuICAgICAgICB2YXIgaSA9IGRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICBpZiAoaSAhPSAtMSlcbiAgICAgICAgICAgIGRpc2FibGVkLnNwbGljZShpLCAxKTtcbiAgICB9XG59O1xuXG5FdmVudEVtaXR0ZXIub24gPVxuRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrLCBjYXB0dXJpbmcpIHtcbiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fTtcblxuICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07XG4gICAgaWYgKCFsaXN0ZW5lcnMpXG4gICAgICAgIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSA9IFtdO1xuXG4gICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSlcbiAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/IFwidW5zaGlmdFwiIDogXCJwdXNoXCJdKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG59O1xuXG5FdmVudEVtaXR0ZXIub2ZmID1cbkV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9XG5FdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fTtcblxuICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07XG4gICAgaWYgKCFsaXN0ZW5lcnMpXG4gICAgICAgIHJldHVybjtcblxuICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbn07XG5cbkV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkgdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107XG59O1xuXG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGliL2FwcF9jb25maWdcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwibm8gdXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuL29vcFwiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBvcHRpb25zUHJvdmlkZXIgPSB7XG4gICAgc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0TGlzdCkge1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRMaXN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdGhpcy5zZXRPcHRpb24oa2V5LCBvcHRMaXN0W2tleV0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9LFxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbk5hbWVzKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgaWYgKCFvcHRpb25OYW1lcykge1xuICAgICAgICAgICAgb3B0aW9uTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLiRvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShvcHRpb25OYW1lcykpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG9wdGlvbk5hbWVzO1xuICAgICAgICAgICAgb3B0aW9uTmFtZXMgPSBPYmplY3Qua2V5cyhyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbk5hbWVzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHRoaXMuZ2V0T3B0aW9uKGtleSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgc2V0T3B0aW9uOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpc1tcIiRcIiArIG5hbWVdID09PSB2YWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIG9wdCA9IHRoaXMuJG9wdGlvbnNbbmFtZV07XG4gICAgICAgIGlmICghb3B0KSB7XG4gICAgICAgICAgICByZXR1cm4gd2FybignbWlzc3BlbGxlZCBvcHRpb24gXCInICsgbmFtZSArICdcIicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHQuZm9yd2FyZFRvKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNbb3B0LmZvcndhcmRUb10gJiYgdGhpc1tvcHQuZm9yd2FyZFRvXS5zZXRPcHRpb24obmFtZSwgdmFsdWUpO1xuXG4gICAgICAgIGlmICghb3B0LmhhbmRsZXNTZXQpXG4gICAgICAgICAgICB0aGlzW1wiJFwiICsgbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKG9wdCAmJiBvcHQuc2V0KVxuICAgICAgICAgICAgb3B0LnNldC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9LFxuICAgIGdldE9wdGlvbjogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB2YXIgb3B0ID0gdGhpcy4kb3B0aW9uc1tuYW1lXTtcbiAgICAgICAgaWYgKCFvcHQpIHtcbiAgICAgICAgICAgIHJldHVybiB3YXJuKCdtaXNzcGVsbGVkIG9wdGlvbiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdC5mb3J3YXJkVG8pXG4gICAgICAgICAgICByZXR1cm4gdGhpc1tvcHQuZm9yd2FyZFRvXSAmJiB0aGlzW29wdC5mb3J3YXJkVG9dLmdldE9wdGlvbihuYW1lKTtcbiAgICAgICAgcmV0dXJuIG9wdCAmJiBvcHQuZ2V0ID8gb3B0LmdldC5jYWxsKHRoaXMpIDogdGhpc1tcIiRcIiArIG5hbWVdO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHdhcm4obWVzc2FnZSkge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPSBcInVuZGVmaW5lZFwiICYmIGNvbnNvbGUud2FybilcbiAgICAgICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIHJlcG9ydEVycm9yKG1zZywgZGF0YSkge1xuICAgIHZhciBlID0gbmV3IEVycm9yKG1zZyk7XG4gICAgZS5kYXRhID0gZGF0YTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT0gXCJvYmplY3RcIiAmJiBjb25zb2xlLmVycm9yKVxuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHRocm93IGU7IH0pO1xufVxuXG52YXIgQXBwQ29uZmlnID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZGVmYXVsdE9wdGlvbnMgPSB7fTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG4gICAgdGhpcy5kZWZpbmVPcHRpb25zID0gZnVuY3Rpb24ob2JqLCBwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghb2JqLiRvcHRpb25zKVxuICAgICAgICAgICAgdGhpcy4kZGVmYXVsdE9wdGlvbnNbcGF0aF0gPSBvYmouJG9wdGlvbnMgPSB7fTtcblxuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdmFyIG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgb3B0ID0ge2ZvcndhcmRUbzogb3B0fTtcblxuICAgICAgICAgICAgb3B0Lm5hbWUgfHwgKG9wdC5uYW1lID0ga2V5KTtcbiAgICAgICAgICAgIG9iai4kb3B0aW9uc1tvcHQubmFtZV0gPSBvcHQ7XG4gICAgICAgICAgICBpZiAoXCJpbml0aWFsVmFsdWVcIiBpbiBvcHQpXG4gICAgICAgICAgICAgICAgb2JqW1wiJFwiICsgb3B0Lm5hbWVdID0gb3B0LmluaXRpYWxWYWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIG9vcC5pbXBsZW1lbnQob2JqLCBvcHRpb25zUHJvdmlkZXIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICB0aGlzLnJlc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICBPYmplY3Qua2V5cyhvYmouJG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICB2YXIgb3B0ID0gb2JqLiRvcHRpb25zW2tleV07XG4gICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIG9wdClcbiAgICAgICAgICAgICAgICBvYmouc2V0T3B0aW9uKGtleSwgb3B0LnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0RGVmYXVsdFZhbHVlID0gZnVuY3Rpb24ocGF0aCwgbmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIG9wdHMgPSB0aGlzLiRkZWZhdWx0T3B0aW9uc1twYXRoXSB8fCAodGhpcy4kZGVmYXVsdE9wdGlvbnNbcGF0aF0gPSB7fSk7XG4gICAgICAgIGlmIChvcHRzW25hbWVdKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5mb3J3YXJkVG8pXG4gICAgICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0VmFsdWUob3B0cy5mb3J3YXJkVG8sIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBvcHRzW25hbWVdLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zZXREZWZhdWx0VmFsdWVzID0gZnVuY3Rpb24ocGF0aCwgb3B0aW9uSGFzaCkge1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25IYXNoKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0VmFsdWUocGF0aCwga2V5LCBvcHRpb25IYXNoW2tleV0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMud2FybiA9IHdhcm47XG4gICAgdGhpcy5yZXBvcnRFcnJvciA9IHJlcG9ydEVycm9yO1xuICAgIFxufSkuY2FsbChBcHBDb25maWcucHJvdG90eXBlKTtcblxuZXhwb3J0cy5BcHBDb25maWcgPSBBcHBDb25maWc7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2NvbmZpZ1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9uZXRcIixcImFjZS9saWIvYXBwX2NvbmZpZ1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJubyB1c2Ugc3RyaWN0XCI7XG5cbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIG5ldCA9IGFjZXF1aXJlKFwiLi9saWIvbmV0XCIpO1xudmFyIEFwcENvbmZpZyA9IGFjZXF1aXJlKFwiLi9saWIvYXBwX2NvbmZpZ1wiKS5BcHBDb25maWc7XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IG5ldyBBcHBDb25maWcoKTtcblxudmFyIGdsb2JhbCA9IChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcyB8fCB0eXBlb2Ygd2luZG93ICE9IFwidW5kZWZpbmVkXCIgJiYgd2luZG93O1xufSkoKTtcblxudmFyIG9wdGlvbnMgPSB7XG4gICAgcGFja2FnZWQ6IGZhbHNlLFxuICAgIHdvcmtlclBhdGg6IG51bGwsXG4gICAgbW9kZVBhdGg6IG51bGwsXG4gICAgdGhlbWVQYXRoOiBudWxsLFxuICAgIGJhc2VQYXRoOiBcIlwiLFxuICAgIHN1ZmZpeDogXCIuanNcIixcbiAgICAkbW9kdWxlVXJsczoge31cbn07XG5cbmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29uZmlnIGtleTogXCIgKyBrZXkpO1xuXG4gICAgcmV0dXJuIG9wdGlvbnNba2V5XTtcbn07XG5cbmV4cG9ydHMuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIGlmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbmZpZyBrZXk6IFwiICsga2V5KTtcblxuICAgIG9wdGlvbnNba2V5XSA9IHZhbHVlO1xufTtcblxuZXhwb3J0cy5hbGwgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbGFuZy5jb3B5T2JqZWN0KG9wdGlvbnMpO1xufTtcbmV4cG9ydHMubW9kdWxlVXJsID0gZnVuY3Rpb24obmFtZSwgY29tcG9uZW50KSB7XG4gICAgaWYgKG9wdGlvbnMuJG1vZHVsZVVybHNbbmFtZV0pXG4gICAgICAgIHJldHVybiBvcHRpb25zLiRtb2R1bGVVcmxzW25hbWVdO1xuXG4gICAgdmFyIHBhcnRzID0gbmFtZS5zcGxpdChcIi9cIik7XG4gICAgY29tcG9uZW50ID0gY29tcG9uZW50IHx8IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDJdIHx8IFwiXCI7XG4gICAgdmFyIHNlcCA9IGNvbXBvbmVudCA9PSBcInNuaXBwZXRzXCIgPyBcIi9cIiA6IFwiLVwiO1xuICAgIHZhciBiYXNlID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGNvbXBvbmVudCA9PSBcIndvcmtlclwiICYmIHNlcCA9PSBcIi1cIikge1xuICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKFwiXlwiICsgY29tcG9uZW50ICsgXCJbXFxcXC1fXXxbXFxcXC1fXVwiICsgY29tcG9uZW50ICsgXCIkXCIsIFwiZ1wiKTtcbiAgICAgICAgYmFzZSA9IGJhc2UucmVwbGFjZShyZSwgXCJcIik7XG4gICAgfVxuXG4gICAgaWYgKCghYmFzZSB8fCBiYXNlID09IGNvbXBvbmVudCkgJiYgcGFydHMubGVuZ3RoID4gMSlcbiAgICAgICAgYmFzZSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDJdO1xuICAgIHZhciBwYXRoID0gb3B0aW9uc1tjb21wb25lbnQgKyBcIlBhdGhcIl07XG4gICAgaWYgKHBhdGggPT0gbnVsbCkge1xuICAgICAgICBwYXRoID0gb3B0aW9ucy5iYXNlUGF0aDtcbiAgICB9IGVsc2UgaWYgKHNlcCA9PSBcIi9cIikge1xuICAgICAgICBjb21wb25lbnQgPSBzZXAgPSBcIlwiO1xuICAgIH1cbiAgICBpZiAocGF0aCAmJiBwYXRoLnNsaWNlKC0xKSAhPSBcIi9cIilcbiAgICAgICAgcGF0aCArPSBcIi9cIjtcbiAgICByZXR1cm4gcGF0aCArIGNvbXBvbmVudCArIHNlcCArIGJhc2UgKyB0aGlzLmdldChcInN1ZmZpeFwiKTtcbn07XG5cbmV4cG9ydHMuc2V0TW9kdWxlVXJsID0gZnVuY3Rpb24obmFtZSwgc3Vic3QpIHtcbiAgICByZXR1cm4gb3B0aW9ucy4kbW9kdWxlVXJsc1tuYW1lXSA9IHN1YnN0O1xufTtcblxuZXhwb3J0cy4kbG9hZGluZyA9IHt9O1xuZXhwb3J0cy5sb2FkTW9kdWxlID0gZnVuY3Rpb24obW9kdWxlTmFtZSwgb25Mb2FkKSB7XG4gICAgdmFyIG1vZHVsZSwgbW9kdWxlVHlwZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtb2R1bGVOYW1lKSkge1xuICAgICAgICBtb2R1bGVUeXBlID0gbW9kdWxlTmFtZVswXTtcbiAgICAgICAgbW9kdWxlTmFtZSA9IG1vZHVsZU5hbWVbMV07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgbW9kdWxlID0gYWNlcXVpcmUobW9kdWxlTmFtZSk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICBpZiAobW9kdWxlICYmICFleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdKVxuICAgICAgICByZXR1cm4gb25Mb2FkICYmIG9uTG9hZChtb2R1bGUpO1xuXG4gICAgaWYgKCFleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdKVxuICAgICAgICBleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdID0gW107XG5cbiAgICBleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdLnB1c2gob25Mb2FkKTtcblxuICAgIGlmIChleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdLmxlbmd0aCA+IDEpXG4gICAgICAgIHJldHVybjtcblxuICAgIHZhciBhZnRlckxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgYWNlcXVpcmUoW21vZHVsZU5hbWVdLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgIGV4cG9ydHMuX2VtaXQoXCJsb2FkLm1vZHVsZVwiLCB7bmFtZTogbW9kdWxlTmFtZSwgbW9kdWxlOiBtb2R1bGV9KTtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdO1xuICAgICAgICAgICAgZXhwb3J0cy4kbG9hZGluZ1ttb2R1bGVOYW1lXSA9IG51bGw7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihvbkxvYWQpIHtcbiAgICAgICAgICAgICAgICBvbkxvYWQgJiYgb25Mb2FkKG1vZHVsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmICghZXhwb3J0cy5nZXQoXCJwYWNrYWdlZFwiKSlcbiAgICAgICAgcmV0dXJuIGFmdGVyTG9hZCgpO1xuICAgIG5ldC5sb2FkU2NyaXB0KGV4cG9ydHMubW9kdWxlVXJsKG1vZHVsZU5hbWUsIG1vZHVsZVR5cGUpLCBhZnRlckxvYWQpO1xufTtcbmluaXQodHJ1ZSk7ZnVuY3Rpb24gaW5pdChwYWNrYWdlZCkge1xuXG4gICAgaWYgKCFnbG9iYWwgfHwgIWdsb2JhbC5kb2N1bWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgIFxuICAgIG9wdGlvbnMucGFja2FnZWQgPSBwYWNrYWdlZCB8fCBhY2VxdWlyZS5wYWNrYWdlZCB8fCBtb2R1bGUucGFja2FnZWQgfHwgKGdsb2JhbC5kZWZpbmUgJiYgZGVmaW5lLnBhY2thZ2VkKTtcblxuICAgIHZhciBzY3JpcHRPcHRpb25zID0ge307XG4gICAgdmFyIHNjcmlwdFVybCA9IFwiXCI7XG4gICAgdmFyIGN1cnJlbnRTY3JpcHQgPSAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCB8fCBkb2N1bWVudC5fY3VycmVudFNjcmlwdCApOyAvLyBuYXRpdmUgb3IgcG9seWZpbGxcbiAgICB2YXIgY3VycmVudERvY3VtZW50ID0gY3VycmVudFNjcmlwdCAmJiBjdXJyZW50U2NyaXB0Lm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgXG4gICAgdmFyIHNjcmlwdHMgPSBjdXJyZW50RG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG4gICAgZm9yICh2YXIgaT0wOyBpPHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNjcmlwdCA9IHNjcmlwdHNbaV07XG5cbiAgICAgICAgdmFyIHNyYyA9IHNjcmlwdC5zcmMgfHwgc2NyaXB0LmdldEF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICAgICAgaWYgKCFzcmMpXG4gICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHNjcmlwdC5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKHZhciBqPTAsIGw9YXR0cmlidXRlcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBhdHRyID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGlmIChhdHRyLm5hbWUuaW5kZXhPZihcImRhdGEtYWNlLVwiKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHNjcmlwdE9wdGlvbnNbZGVIeXBoZW5hdGUoYXR0ci5uYW1lLnJlcGxhY2UoL15kYXRhLWFjZS0vLCBcIlwiKSldID0gYXR0ci52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtID0gc3JjLm1hdGNoKC9eKC4qKVxcL2FjZShcXC1cXHcrKT9cXC5qcyhcXD98JCkvKTtcbiAgICAgICAgaWYgKG0pXG4gICAgICAgICAgICBzY3JpcHRVcmwgPSBtWzFdO1xuICAgIH1cblxuICAgIGlmIChzY3JpcHRVcmwpIHtcbiAgICAgICAgc2NyaXB0T3B0aW9ucy5iYXNlID0gc2NyaXB0T3B0aW9ucy5iYXNlIHx8IHNjcmlwdFVybDtcbiAgICAgICAgc2NyaXB0T3B0aW9ucy5wYWNrYWdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgc2NyaXB0T3B0aW9ucy5iYXNlUGF0aCA9IHNjcmlwdE9wdGlvbnMuYmFzZTtcbiAgICBzY3JpcHRPcHRpb25zLndvcmtlclBhdGggPSBzY3JpcHRPcHRpb25zLndvcmtlclBhdGggfHwgc2NyaXB0T3B0aW9ucy5iYXNlO1xuICAgIHNjcmlwdE9wdGlvbnMubW9kZVBhdGggPSBzY3JpcHRPcHRpb25zLm1vZGVQYXRoIHx8IHNjcmlwdE9wdGlvbnMuYmFzZTtcbiAgICBzY3JpcHRPcHRpb25zLnRoZW1lUGF0aCA9IHNjcmlwdE9wdGlvbnMudGhlbWVQYXRoIHx8IHNjcmlwdE9wdGlvbnMuYmFzZTtcbiAgICBkZWxldGUgc2NyaXB0T3B0aW9ucy5iYXNlO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNjcmlwdE9wdGlvbnMpXG4gICAgICAgIGlmICh0eXBlb2Ygc2NyaXB0T3B0aW9uc1trZXldICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgZXhwb3J0cy5zZXQoa2V5LCBzY3JpcHRPcHRpb25zW2tleV0pO1xufVxuXG5leHBvcnRzLmluaXQgPSBpbml0O1xuXG5mdW5jdGlvbiBkZUh5cGhlbmF0ZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLy0oLikvZywgZnVuY3Rpb24obSwgbTEpIHsgcmV0dXJuIG0xLnRvVXBwZXJDYXNlKCk7IH0pO1xufVxuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb3VzZS9tb3VzZV9oYW5kbGVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiLFwiYWNlL21vdXNlL2RlZmF1bHRfaGFuZGxlcnNcIixcImFjZS9tb3VzZS9kZWZhdWx0X2d1dHRlcl9oYW5kbGVyXCIsXCJhY2UvbW91c2UvbW91c2VfZXZlbnRcIixcImFjZS9tb3VzZS9kcmFnZHJvcF9oYW5kbGVyXCIsXCJhY2UvY29uZmlnXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGV2ZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvZXZlbnRcIik7XG52YXIgdXNlcmFnZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvdXNlcmFnZW50XCIpO1xudmFyIERlZmF1bHRIYW5kbGVycyA9IGFjZXF1aXJlKFwiLi9kZWZhdWx0X2hhbmRsZXJzXCIpLkRlZmF1bHRIYW5kbGVycztcbnZhciBEZWZhdWx0R3V0dGVySGFuZGxlciA9IGFjZXF1aXJlKFwiLi9kZWZhdWx0X2d1dHRlcl9oYW5kbGVyXCIpLkd1dHRlckhhbmRsZXI7XG52YXIgTW91c2VFdmVudCA9IGFjZXF1aXJlKFwiLi9tb3VzZV9ldmVudFwiKS5Nb3VzZUV2ZW50O1xudmFyIERyYWdkcm9wSGFuZGxlciA9IGFjZXF1aXJlKFwiLi9kcmFnZHJvcF9oYW5kbGVyXCIpLkRyYWdkcm9wSGFuZGxlcjtcbnZhciBjb25maWcgPSBhY2VxdWlyZShcIi4uL2NvbmZpZ1wiKTtcblxudmFyIE1vdXNlSGFuZGxlciA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG5cbiAgICBuZXcgRGVmYXVsdEhhbmRsZXJzKHRoaXMpO1xuICAgIG5ldyBEZWZhdWx0R3V0dGVySGFuZGxlcih0aGlzKTtcbiAgICBuZXcgRHJhZ2Ryb3BIYW5kbGVyKHRoaXMpO1xuXG4gICAgdmFyIGZvY3VzRWRpdG9yID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgd2luZG93Qmx1cnJlZCA9ICFkb2N1bWVudC5oYXNGb2N1cyB8fCAhZG9jdW1lbnQuaGFzRm9jdXMoKVxuICAgICAgICAgICAgfHwgIWVkaXRvci5pc0ZvY3VzZWQoKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09IChlZGl0b3IudGV4dElucHV0ICYmIGVkaXRvci50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpKVxuICAgICAgICBpZiAod2luZG93Qmx1cnJlZClcbiAgICAgICAgICAgIHdpbmRvdy5mb2N1cygpO1xuICAgICAgICBlZGl0b3IuZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgdmFyIG1vdXNlVGFyZ2V0ID0gZWRpdG9yLnJlbmRlcmVyLmdldE1vdXNlRXZlbnRUYXJnZXQoKTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihtb3VzZVRhcmdldCwgXCJjbGlja1wiLCB0aGlzLm9uTW91c2VFdmVudC5iaW5kKHRoaXMsIFwiY2xpY2tcIikpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKG1vdXNlVGFyZ2V0LCBcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcywgXCJtb3VzZW1vdmVcIikpO1xuICAgIGV2ZW50LmFkZE11bHRpTW91c2VEb3duTGlzdGVuZXIoW1xuICAgICAgICBtb3VzZVRhcmdldCxcbiAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEJhclYgJiYgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEJhclYuaW5uZXIsXG4gICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxCYXJIICYmIGVkaXRvci5yZW5kZXJlci5zY3JvbGxCYXJILmlubmVyLFxuICAgICAgICBlZGl0b3IudGV4dElucHV0ICYmIGVkaXRvci50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpXG4gICAgXS5maWx0ZXIoQm9vbGVhbiksIFs0MDAsIDMwMCwgMjUwXSwgdGhpcywgXCJvbk1vdXNlRXZlbnRcIik7XG4gICAgZXZlbnQuYWRkTW91c2VXaGVlbExpc3RlbmVyKGVkaXRvci5jb250YWluZXIsIHRoaXMub25Nb3VzZVdoZWVsLmJpbmQodGhpcywgXCJtb3VzZXdoZWVsXCIpKTtcbiAgICBldmVudC5hZGRUb3VjaE1vdmVMaXN0ZW5lcihlZGl0b3IuY29udGFpbmVyLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcywgXCJ0b3VjaG1vdmVcIikpO1xuXG4gICAgdmFyIGd1dHRlckVsID0gZWRpdG9yLnJlbmRlcmVyLiRndXR0ZXI7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZ3V0dGVyRWwsIFwibW91c2Vkb3duXCIsIHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcywgXCJndXR0ZXJtb3VzZWRvd25cIikpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKGd1dHRlckVsLCBcImNsaWNrXCIsIHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcywgXCJndXR0ZXJjbGlja1wiKSk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZ3V0dGVyRWwsIFwiZGJsY2xpY2tcIiwgdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCBcImd1dHRlcmRibGNsaWNrXCIpKTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihndXR0ZXJFbCwgXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCBcImd1dHRlcm1vdXNlbW92ZVwiKSk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcihtb3VzZVRhcmdldCwgXCJtb3VzZWRvd25cIiwgZm9jdXNFZGl0b3IpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKGd1dHRlckVsLCBcIm1vdXNlZG93blwiLCBmb2N1c0VkaXRvcik7XG4gICAgaWYgKHVzZXJhZ2VudC5pc0lFICYmIGVkaXRvci5yZW5kZXJlci5zY3JvbGxCYXJWKSB7XG4gICAgICAgIGV2ZW50LmFkZExpc3RlbmVyKGVkaXRvci5yZW5kZXJlci5zY3JvbGxCYXJWLmVsZW1lbnQsIFwibW91c2Vkb3duXCIsIGZvY3VzRWRpdG9yKTtcbiAgICAgICAgZXZlbnQuYWRkTGlzdGVuZXIoZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEJhckguZWxlbWVudCwgXCJtb3VzZWRvd25cIiwgZm9jdXNFZGl0b3IpO1xuICAgIH1cblxuICAgIGVkaXRvci5vbihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbihlKXtcbiAgICAgICAgaWYgKF9zZWxmLnN0YXRlIHx8IF9zZWxmLiRkcmFnRGVsYXkgfHwgIV9zZWxmLiRkcmFnRW5hYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgY2hhcmFjdGVyID0gZWRpdG9yLnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKGUueCwgZS55KTtcbiAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLnNlc3Npb24uc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgIHZhciByZW5kZXJlciA9IGVkaXRvci5yZW5kZXJlcjtcblxuICAgICAgICBpZiAoIXJhbmdlLmlzRW1wdHkoKSAmJiByYW5nZS5pbnNpZGVTdGFydChjaGFyYWN0ZXIucm93LCBjaGFyYWN0ZXIuY29sdW1uKSkge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0Q3Vyc29yU3R5bGUoXCJkZWZhdWx0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0Q3Vyc29yU3R5bGUoXCJcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uTW91c2VFdmVudCA9IGZ1bmN0aW9uKG5hbWUsIGUpIHtcbiAgICAgICAgdGhpcy5lZGl0b3IuX2VtaXQobmFtZSwgbmV3IE1vdXNlRXZlbnQoZSwgdGhpcy5lZGl0b3IpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKG5hbWUsIGUpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuZWRpdG9yLl9ldmVudFJlZ2lzdHJ5ICYmIHRoaXMuZWRpdG9yLl9ldmVudFJlZ2lzdHJ5Lm1vdXNlbW92ZTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5lZGl0b3IuX2VtaXQobmFtZSwgbmV3IE1vdXNlRXZlbnQoZSwgdGhpcy5lZGl0b3IpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlV2hlZWwgPSBmdW5jdGlvbihuYW1lLCBlKSB7XG4gICAgICAgIHZhciBtb3VzZUV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoZSwgdGhpcy5lZGl0b3IpO1xuICAgICAgICBtb3VzZUV2ZW50LnNwZWVkID0gdGhpcy4kc2Nyb2xsU3BlZWQgKiAyO1xuICAgICAgICBtb3VzZUV2ZW50LndoZWVsWCA9IGUud2hlZWxYO1xuICAgICAgICBtb3VzZUV2ZW50LndoZWVsWSA9IGUud2hlZWxZO1xuXG4gICAgICAgIHRoaXMuZWRpdG9yLl9lbWl0KG5hbWUsIG1vdXNlRXZlbnQpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5vblRvdWNoTW92ZSA9IGZ1bmN0aW9uIChuYW1lLCBlKSB7XG4gICAgICAgIHZhciBtb3VzZUV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoZSwgdGhpcy5lZGl0b3IpO1xuICAgICAgICBtb3VzZUV2ZW50LnNwZWVkID0gMTsvL3RoaXMuJHNjcm9sbFNwZWVkICogMjtcbiAgICAgICAgbW91c2VFdmVudC53aGVlbFggPSBlLndoZWVsWDtcbiAgICAgICAgbW91c2VFdmVudC53aGVlbFkgPSBlLndoZWVsWTtcbiAgICAgICAgdGhpcy5lZGl0b3IuX2VtaXQobmFtZSwgbW91c2VFdmVudCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0U3RhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfTtcblxuICAgIHRoaXMuY2FwdHVyZU1vdXNlID0gZnVuY3Rpb24oZXYsIG1vdXNlTW92ZUhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy54ID0gZXYueDtcbiAgICAgICAgdGhpcy55ID0gZXYueTtcblxuICAgICAgICB0aGlzLmlzTW91c2VQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5lZGl0b3IucmVuZGVyZXI7XG4gICAgICAgIGlmIChyZW5kZXJlci4ka2VlcFRleHRBcmVhQXRDdXJzb3IpXG4gICAgICAgICAgICByZW5kZXJlci4ka2VlcFRleHRBcmVhQXRDdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIG9uTW91c2VNb3ZlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKCFlKSByZXR1cm47XG4gICAgICAgICAgICBpZiAodXNlcmFnZW50LmlzV2ViS2l0ICYmICFlLndoaWNoICYmIHNlbGYucmVsZWFzZU1vdXNlKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnJlbGVhc2VNb3VzZSgpO1xuXG4gICAgICAgICAgICBzZWxmLnggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICBzZWxmLnkgPSBlLmNsaWVudFk7XG4gICAgICAgICAgICBtb3VzZU1vdmVIYW5kbGVyICYmIG1vdXNlTW92ZUhhbmRsZXIoZSk7XG4gICAgICAgICAgICBzZWxmLm1vdXNlRXZlbnQgPSBuZXcgTW91c2VFdmVudChlLCBzZWxmLmVkaXRvcik7XG4gICAgICAgICAgICBzZWxmLiRtb3VzZU1vdmVkID0gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb25DYXB0dXJlRW5kID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcbiAgICAgICAgICAgIG9uQ2FwdHVyZUludGVydmFsKCk7XG4gICAgICAgICAgICBzZWxmW3NlbGYuc3RhdGUgKyBcIkVuZFwiXSAmJiBzZWxmW3NlbGYuc3RhdGUgKyBcIkVuZFwiXShlKTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKHJlbmRlcmVyLiRrZWVwVGV4dEFyZWFBdEN1cnNvciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZW5kZXJlci4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuaXNNb3VzZVByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuJG9uQ2FwdHVyZU1vdXNlTW92ZSA9IHNlbGYucmVsZWFzZU1vdXNlID0gbnVsbDtcbiAgICAgICAgICAgIGUgJiYgc2VsZi5vbk1vdXNlRXZlbnQoXCJtb3VzZXVwXCIsIGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBvbkNhcHR1cmVJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZltzZWxmLnN0YXRlXSAmJiBzZWxmW3NlbGYuc3RhdGVdKCk7XG4gICAgICAgICAgICBzZWxmLiRtb3VzZU1vdmVkID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHVzZXJhZ2VudC5pc09sZElFICYmIGV2LmRvbUV2ZW50LnR5cGUgPT0gXCJkYmxjbGlja1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtvbkNhcHR1cmVFbmQoZXYpO30pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi4kb25DYXB0dXJlTW91c2VNb3ZlID0gb25Nb3VzZU1vdmU7XG4gICAgICAgIHNlbGYucmVsZWFzZU1vdXNlID0gZXZlbnQuY2FwdHVyZSh0aGlzLmVkaXRvci5jb250YWluZXIsIG9uTW91c2VNb3ZlLCBvbkNhcHR1cmVFbmQpO1xuICAgICAgICB2YXIgdGltZXJJZCA9IHNldEludGVydmFsKG9uQ2FwdHVyZUludGVydmFsLCAyMCk7XG4gICAgfTtcbiAgICB0aGlzLnJlbGVhc2VNb3VzZSA9IG51bGw7XG4gICAgdGhpcy5jYW5jZWxDb250ZXh0TWVudSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RvcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlICYmIGUuZG9tRXZlbnQgJiYgZS5kb21FdmVudC50eXBlICE9IFwiY29udGV4dG1lbnVcIilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5vZmYoXCJuYXRpdmVjb250ZXh0bWVudVwiLCBzdG9wKTtcbiAgICAgICAgICAgIGlmIChlICYmIGUuZG9tRXZlbnQpXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcEV2ZW50KGUuZG9tRXZlbnQpO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgICAgIHNldFRpbWVvdXQoc3RvcCwgMTApO1xuICAgICAgICB0aGlzLmVkaXRvci5vbihcIm5hdGl2ZWNvbnRleHRtZW51XCIsIHN0b3ApO1xuICAgIH07XG59KS5jYWxsKE1vdXNlSGFuZGxlci5wcm90b3R5cGUpO1xuXG5jb25maWcuZGVmaW5lT3B0aW9ucyhNb3VzZUhhbmRsZXIucHJvdG90eXBlLCBcIm1vdXNlSGFuZGxlclwiLCB7XG4gICAgc2Nyb2xsU3BlZWQ6IHtpbml0aWFsVmFsdWU6IDJ9LFxuICAgIGRyYWdEZWxheToge2luaXRpYWxWYWx1ZTogKHVzZXJhZ2VudC5pc01hYyA/IDE1MCA6IDApfSxcbiAgICBkcmFnRW5hYmxlZDoge2luaXRpYWxWYWx1ZTogdHJ1ZX0sXG4gICAgZm9jdXNUaW1vdXQ6IHtpbml0aWFsVmFsdWU6IDB9LFxuICAgIHRvb2x0aXBGb2xsb3dzTW91c2U6IHtpbml0aWFsVmFsdWU6IHRydWV9XG59KTtcblxuXG5leHBvcnRzLk1vdXNlSGFuZGxlciA9IE1vdXNlSGFuZGxlcjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vdXNlL2ZvbGRfaGFuZGxlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIEZvbGRIYW5kbGVyKGVkaXRvcikge1xuXG4gICAgZWRpdG9yLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBlLmdldERvY3VtZW50UG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHNlc3Npb24gPSBlZGl0b3Iuc2Vzc2lvbjtcbiAgICAgICAgdmFyIGZvbGQgPSBzZXNzaW9uLmdldEZvbGRBdChwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbiwgMSk7XG4gICAgICAgIGlmIChmb2xkKSB7XG4gICAgICAgICAgICBpZiAoZS5nZXRBY2NlbEtleSgpKVxuICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlRm9sZChmb2xkKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBzZXNzaW9uLmV4cGFuZEZvbGQoZm9sZCk7XG5cbiAgICAgICAgICAgIGUuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBlZGl0b3Iub24oXCJndXR0ZXJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBndXR0ZXJSZWdpb24gPSBlZGl0b3IucmVuZGVyZXIuJGd1dHRlckxheWVyLmdldFJlZ2lvbihlKTtcblxuICAgICAgICBpZiAoZ3V0dGVyUmVnaW9uID09IFwiZm9sZFdpZGdldHNcIikge1xuICAgICAgICAgICAgdmFyIHJvdyA9IGUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnJvdztcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gZWRpdG9yLnNlc3Npb247XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5mb2xkV2lkZ2V0cyAmJiBzZXNzaW9uLmZvbGRXaWRnZXRzW3Jvd10pXG4gICAgICAgICAgICAgICAgZWRpdG9yLnNlc3Npb24ub25Gb2xkV2lkZ2V0Q2xpY2socm93LCBlKTtcbiAgICAgICAgICAgIGlmICghZWRpdG9yLmlzRm9jdXNlZCgpKVxuICAgICAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICAgICAgZS5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGVkaXRvci5vbihcImd1dHRlcmRibGNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGd1dHRlclJlZ2lvbiA9IGVkaXRvci5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuZ2V0UmVnaW9uKGUpO1xuXG4gICAgICAgIGlmIChndXR0ZXJSZWdpb24gPT0gXCJmb2xkV2lkZ2V0c1wiKSB7XG4gICAgICAgICAgICB2YXIgcm93ID0gZS5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93O1xuICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBlZGl0b3Iuc2Vzc2lvbjtcbiAgICAgICAgICAgIHZhciBkYXRhID0gc2Vzc2lvbi5nZXRQYXJlbnRGb2xkUmFuZ2VEYXRhKHJvdywgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBkYXRhLnJhbmdlIHx8IGRhdGEuZmlyc3RSYW5nZTtcblxuICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcm93ID0gcmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICAgICAgICAgIHZhciBmb2xkID0gc2Vzc2lvbi5nZXRGb2xkQXQocm93LCBzZXNzaW9uLmdldExpbmUocm93KS5sZW5ndGgsIDEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmVGb2xkKGZvbGQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24uYWRkRm9sZChcIi4uLlwiLCByYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyh7cm93OiByYW5nZS5zdGFydC5yb3csIGNvbHVtbjogMH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydHMuRm9sZEhhbmRsZXIgPSBGb2xkSGFuZGxlcjtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2Uva2V5Ym9hcmQva2V5YmluZGluZ1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9rZXlzXCIsXCJhY2UvbGliL2V2ZW50XCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGtleVV0aWwgID0gYWNlcXVpcmUoXCIuLi9saWIva2V5c1wiKTtcbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xuXG52YXIgS2V5QmluZGluZyA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIHRoaXMuJGVkaXRvciA9IGVkaXRvcjtcbiAgICB0aGlzLiRkYXRhID0ge2VkaXRvcjogZWRpdG9yfTtcbiAgICB0aGlzLiRoYW5kbGVycyA9IFtdO1xuICAgIHRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZWRpdG9yLmNvbW1hbmRzKTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldERlZmF1bHRIYW5kbGVyID0gZnVuY3Rpb24oa2IpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVLZXlib2FyZEhhbmRsZXIodGhpcy4kZGVmYXVsdEhhbmRsZXIpO1xuICAgICAgICB0aGlzLiRkZWZhdWx0SGFuZGxlciA9IGtiO1xuICAgICAgICB0aGlzLmFkZEtleWJvYXJkSGFuZGxlcihrYiwgMCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0S2V5Ym9hcmRIYW5kbGVyID0gZnVuY3Rpb24oa2IpIHtcbiAgICAgICAgdmFyIGggPSB0aGlzLiRoYW5kbGVycztcbiAgICAgICAgaWYgKGhbaC5sZW5ndGggLSAxXSA9PSBrYilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB3aGlsZSAoaFtoLmxlbmd0aCAtIDFdICYmIGhbaC5sZW5ndGggLSAxXSAhPSB0aGlzLiRkZWZhdWx0SGFuZGxlcilcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlS2V5Ym9hcmRIYW5kbGVyKGhbaC5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgdGhpcy5hZGRLZXlib2FyZEhhbmRsZXIoa2IsIDEpO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZEtleWJvYXJkSGFuZGxlciA9IGZ1bmN0aW9uKGtiLCBwb3MpIHtcbiAgICAgICAgaWYgKCFrYilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBrYiA9PSBcImZ1bmN0aW9uXCIgJiYgIWtiLmhhbmRsZUtleWJvYXJkKVxuICAgICAgICAgICAga2IuaGFuZGxlS2V5Ym9hcmQgPSBrYjtcbiAgICAgICAgdmFyIGkgPSB0aGlzLiRoYW5kbGVycy5pbmRleE9mKGtiKTtcbiAgICAgICAgaWYgKGkgIT0gLTEpXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgICAgaWYgKHBvcyA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVycy5wdXNoKGtiKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcnMuc3BsaWNlKHBvcywgMCwga2IpO1xuXG4gICAgICAgIGlmIChpID09IC0xICYmIGtiLmF0dGFjaClcbiAgICAgICAgICAgIGtiLmF0dGFjaCh0aGlzLiRlZGl0b3IpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUtleWJvYXJkSGFuZGxlciA9IGZ1bmN0aW9uKGtiKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy4kaGFuZGxlcnMuaW5kZXhPZihrYik7XG4gICAgICAgIGlmIChpID09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLiRoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGtiLmRldGFjaCAmJiBrYi5kZXRhY2godGhpcy4kZWRpdG9yKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0S2V5Ym9hcmRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRoYW5kbGVyc1t0aGlzLiRoYW5kbGVycy5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0U3RhdHVzVGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuJGRhdGE7XG4gICAgICAgIHZhciBlZGl0b3IgPSBkYXRhLmVkaXRvcjtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGhhbmRsZXJzLm1hcChmdW5jdGlvbihoKSB7XG4gICAgICAgICAgICByZXR1cm4gaC5nZXRTdGF0dXNUZXh0ICYmIGguZ2V0U3RhdHVzVGV4dChlZGl0b3IsIGRhdGEpIHx8IFwiXCI7XG4gICAgICAgIH0pLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kY2FsbEtleWJvYXJkSGFuZGxlcnMgPSBmdW5jdGlvbihoYXNoSWQsIGtleVN0cmluZywga2V5Q29kZSwgZSkge1xuICAgICAgICB2YXIgdG9FeGVjdXRlO1xuICAgICAgICB2YXIgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICB2YXIgY29tbWFuZHMgPSB0aGlzLiRlZGl0b3IuY29tbWFuZHM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuJGhhbmRsZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgdG9FeGVjdXRlID0gdGhpcy4kaGFuZGxlcnNbaV0uaGFuZGxlS2V5Ym9hcmQoXG4gICAgICAgICAgICAgICAgdGhpcy4kZGF0YSwgaGFzaElkLCBrZXlTdHJpbmcsIGtleUNvZGUsIGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoIXRvRXhlY3V0ZSB8fCAhdG9FeGVjdXRlLmNvbW1hbmQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAodG9FeGVjdXRlLmNvbW1hbmQgPT0gXCJudWxsXCIpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGNvbW1hbmRzLmV4ZWModG9FeGVjdXRlLmNvbW1hbmQsIHRoaXMuJGVkaXRvciwgdG9FeGVjdXRlLmFyZ3MsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgJiYgZSAmJiBoYXNoSWQgIT0gLTEgJiYgXG4gICAgICAgICAgICAgICAgdG9FeGVjdXRlLnBhc3NFdmVudCAhPSB0cnVlICYmIHRvRXhlY3V0ZS5jb21tYW5kLnBhc3NFdmVudCAhPSB0cnVlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wRXZlbnQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3VjY2VzcylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCFzdWNjZXNzICYmIGhhc2hJZCA9PSAtMSkge1xuICAgICAgICAgICAgdG9FeGVjdXRlID0ge2NvbW1hbmQ6IFwiaW5zZXJ0c3RyaW5nXCJ9O1xuICAgICAgICAgICAgc3VjY2VzcyA9IGNvbW1hbmRzLmV4ZWMoXCJpbnNlcnRzdHJpbmdcIiwgdGhpcy4kZWRpdG9yLCBrZXlTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc3VjY2VzcylcbiAgICAgICAgICAgIHRoaXMuJGVkaXRvci5fc2lnbmFsKFwia2V5Ym9hcmRBY3Rpdml0eVwiLCB0b0V4ZWN1dGUpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfTtcblxuICAgIHRoaXMub25Db21tYW5kS2V5ID0gZnVuY3Rpb24oZSwgaGFzaElkLCBrZXlDb2RlKSB7XG4gICAgICAgIHZhciBrZXlTdHJpbmcgPSBrZXlVdGlsLmtleUNvZGVUb1N0cmluZyhrZXlDb2RlKTtcbiAgICAgICAgdGhpcy4kY2FsbEtleWJvYXJkSGFuZGxlcnMoaGFzaElkLCBrZXlTdHJpbmcsIGtleUNvZGUsIGUpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uVGV4dElucHV0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB0aGlzLiRjYWxsS2V5Ym9hcmRIYW5kbGVycygtMSwgdGV4dCk7XG4gICAgfTtcblxufSkuY2FsbChLZXlCaW5kaW5nLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuS2V5QmluZGluZyA9IEtleUJpbmRpbmc7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9yYW5nZVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikge1xuICAgIHJldHVybiBwMS5yb3cgLSBwMi5yb3cgfHwgcDEuY29sdW1uIC0gcDIuY29sdW1uO1xufTtcbnZhciBSYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pIHtcbiAgICB0aGlzLnN0YXJ0ID0ge1xuICAgICAgICByb3c6IHN0YXJ0Um93LFxuICAgICAgICBjb2x1bW46IHN0YXJ0Q29sdW1uXG4gICAgfTtcblxuICAgIHRoaXMuZW5kID0ge1xuICAgICAgICByb3c6IGVuZFJvdyxcbiAgICAgICAgY29sdW1uOiBlbmRDb2x1bW5cbiAgICB9O1xufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXNFcXVhbCA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0LnJvdyA9PT0gcmFuZ2Uuc3RhcnQucm93ICYmXG4gICAgICAgICAgICB0aGlzLmVuZC5yb3cgPT09IHJhbmdlLmVuZC5yb3cgJiZcbiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiZcbiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9PT0gcmFuZ2UuZW5kLmNvbHVtbjtcbiAgICB9O1xuICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcIlJhbmdlOiBbXCIgKyB0aGlzLnN0YXJ0LnJvdyArIFwiL1wiICsgdGhpcy5zdGFydC5jb2x1bW4gK1xuICAgICAgICAgICAgXCJdIC0+IFtcIiArIHRoaXMuZW5kLnJvdyArIFwiL1wiICsgdGhpcy5lbmQuY29sdW1uICsgXCJdXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMDtcbiAgICB9O1xuICAgIHRoaXMuY29tcGFyZVJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIGNtcCxcbiAgICAgICAgICAgIGVuZCA9IHJhbmdlLmVuZCxcbiAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7XG5cbiAgICAgICAgY21wID0gdGhpcy5jb21wYXJlKGVuZC5yb3csIGVuZC5jb2x1bW4pO1xuICAgICAgICBpZiAoY21wID09IDEpIHtcbiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICBpZiAoY21wID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY21wID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gLTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gNDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbXBhcmVQb2ludCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdywgcC5jb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5jb250YWluc1JhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSA9PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCkgPT0gMDtcbiAgICB9O1xuICAgIHRoaXMuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7XG4gICAgICAgIHJldHVybiAoY21wID09IC0xIHx8IGNtcCA9PSAwIHx8IGNtcCA9PSAxKTtcbiAgICB9O1xuICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uO1xuICAgIH07XG4gICAgdGhpcy5pc1N0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW47XG4gICAgfTtcbiAgICB0aGlzLnNldFN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiByb3cgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPSByb3cuY29sdW1uO1xuICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSByb3cucm93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSByb3c7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZXRFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uO1xuICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93LnJvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IHJvdztcbiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5pbnNpZGUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5pbnNpZGVTdGFydCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5pbnNpZGVFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5jb21wYXJlID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8IHRoaXMuc3RhcnQuY29sdW1uID8gLTEgOiAoY29sdW1uID4gdGhpcy5lbmQuY29sdW1uID8gMSA6IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvdyA8IHRoaXMuc3RhcnQucm93KVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuXG4gICAgICAgIGlmIChyb3cgPiB0aGlzLmVuZC5yb3cpXG4gICAgICAgICAgICByZXR1cm4gMTtcblxuICAgICAgICBpZiAodGhpcy5zdGFydC5yb3cgPT09IHJvdylcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7XG5cbiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PT0gcm93KVxuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8PSB0aGlzLmVuZC5jb2x1bW4gPyAwIDogMTtcblxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbXBhcmVFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbXBhcmVJbnNpZGUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KVxuICAgICAgICAgICAgdmFyIGVuZCA9IHtyb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDB9O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdylcbiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiBmaXJzdFJvdywgY29sdW1uOiAwfTtcblxuICAgICAgICBpZiAodGhpcy5zdGFydC5yb3cgPiBsYXN0Um93KVxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3JvdzogbGFzdFJvdyArIDEsIGNvbHVtbjogMH07XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhcnQucm93IDwgZmlyc3RSb3cpXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiBmaXJzdFJvdywgY29sdW1uOiAwfTtcblxuICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydCB8fCB0aGlzLnN0YXJ0LCBlbmQgfHwgdGhpcy5lbmQpO1xuICAgIH07XG4gICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTtcblxuICAgICAgICBpZiAoY21wID09IDApXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKVxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTtcblxuICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydCB8fCB0aGlzLnN0YXJ0LCBlbmQgfHwgdGhpcy5lbmQpO1xuICAgIH07XG5cbiAgICB0aGlzLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXJ0LnJvdyA9PT0gdGhpcy5lbmQucm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09PSB0aGlzLmVuZC5jb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5pc011bHRpTGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQucm93ICE9PSB0aGlzLmVuZC5yb3cpO1xuICAgIH07XG4gICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7XG4gICAgfTtcbiAgICB0aGlzLmNvbGxhcHNlUm93cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5lbmQuY29sdW1uID09IDApXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93LTEpLCAwKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCB0aGlzLmVuZC5yb3csIDApXG4gICAgfTtcbiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpO1xuICAgICAgICB2YXIgc2NyZWVuUG9zRW5kID0gc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5lbmQpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UoXG4gICAgICAgICAgICBzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbixcbiAgICAgICAgICAgIHNjcmVlblBvc0VuZC5yb3csIHNjcmVlblBvc0VuZC5jb2x1bW5cbiAgICAgICAgKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUJ5ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdGhpcy5zdGFydC5yb3cgKz0gcm93O1xuICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiArPSBjb2x1bW47XG4gICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7XG4gICAgICAgIHRoaXMuZW5kLmNvbHVtbiArPSBjb2x1bW47XG4gICAgfTtcblxufSkuY2FsbChSYW5nZS5wcm90b3R5cGUpO1xuUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTtcbn07XG5SYW5nZS5jb21wYXJlUG9pbnRzID0gY29tcGFyZVBvaW50cztcblxuUmFuZ2UuY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikge1xuICAgIHJldHVybiBwMS5yb3cgLSBwMi5yb3cgfHwgcDEuY29sdW1uIC0gcDIuY29sdW1uO1xufTtcblxuXG5leHBvcnRzLlJhbmdlID0gUmFuZ2U7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9zZWxlY3Rpb25cIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4vbGliL2xhbmdcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gYWNlcXVpcmUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBTZWxlY3Rpb24gPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICB0aGlzLmRvYyA9IHNlc3Npb24uZ2V0RG9jdW1lbnQoKTtcblxuICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB0aGlzLmxlYWQgPSB0aGlzLnNlbGVjdGlvbkxlYWQgPSB0aGlzLmRvYy5jcmVhdGVBbmNob3IoMCwgMCk7XG4gICAgdGhpcy5hbmNob3IgPSB0aGlzLnNlbGVjdGlvbkFuY2hvciA9IHRoaXMuZG9jLmNyZWF0ZUFuY2hvcigwLCAwKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLmxlYWQub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBzZWxmLl9lbWl0KFwiY2hhbmdlQ3Vyc29yXCIpO1xuICAgICAgICBpZiAoIXNlbGYuJGlzRW1wdHkpXG4gICAgICAgICAgICBzZWxmLl9lbWl0KFwiY2hhbmdlU2VsZWN0aW9uXCIpO1xuICAgICAgICBpZiAoIXNlbGYuJGtlZXBEZXNpcmVkQ29sdW1uT25DaGFuZ2UgJiYgZS5vbGQuY29sdW1uICE9IGUudmFsdWUuY29sdW1uKVxuICAgICAgICAgICAgc2VsZi4kZGVzaXJlZENvbHVtbiA9IG51bGw7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNlbGVjdGlvbkFuY2hvci5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFzZWxmLiRpc0VtcHR5KVxuICAgICAgICAgICAgc2VsZi5fZW1pdChcImNoYW5nZVNlbGVjdGlvblwiKTtcbiAgICB9KTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcbiAgICB0aGlzLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLiRpc0VtcHR5IHx8IChcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yLnJvdyA9PSB0aGlzLmxlYWQucm93ICYmXG4gICAgICAgICAgICB0aGlzLmFuY2hvci5jb2x1bW4gPT0gdGhpcy5sZWFkLmNvbHVtblxuICAgICAgICApKTtcbiAgICB9O1xuICAgIHRoaXMuaXNNdWx0aUxpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSYW5nZSgpLmlzTXVsdGlMaW5lKCk7XG4gICAgfTtcbiAgICB0aGlzLmdldEN1cnNvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZWFkLmdldFBvc2l0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFNlbGVjdGlvbkFuY2hvciA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHRoaXMuYW5jaG9yLnNldFBvc2l0aW9uKHJvdywgY29sdW1uKTtcblxuICAgICAgICBpZiAodGhpcy4kaXNFbXB0eSkge1xuICAgICAgICAgICAgdGhpcy4kaXNFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZVNlbGVjdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRTZWxlY3Rpb25BbmNob3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJGlzRW1wdHkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb25MZWFkKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFuY2hvci5nZXRQb3NpdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTZWxlY3Rpb25MZWFkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlYWQuZ2V0UG9zaXRpb24oKTtcbiAgICB9O1xuICAgIHRoaXMuc2hpZnRTZWxlY3Rpb24gPSBmdW5jdGlvbihjb2x1bW5zKSB7XG4gICAgICAgIGlmICh0aGlzLiRpc0VtcHR5KSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyh0aGlzLmxlYWQucm93LCB0aGlzLmxlYWQuY29sdW1uICsgY29sdW1ucyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5nZXRTZWxlY3Rpb25BbmNob3IoKTtcbiAgICAgICAgdmFyIGxlYWQgPSB0aGlzLmdldFNlbGVjdGlvbkxlYWQoKTtcblxuICAgICAgICB2YXIgaXNCYWNrd2FyZHMgPSB0aGlzLmlzQmFja3dhcmRzKCk7XG5cbiAgICAgICAgaWYgKCFpc0JhY2t3YXJkcyB8fCBhbmNob3IuY29sdW1uICE9PSAwKVxuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25BbmNob3IoYW5jaG9yLnJvdywgYW5jaG9yLmNvbHVtbiArIGNvbHVtbnMpO1xuXG4gICAgICAgIGlmIChpc0JhY2t3YXJkcyB8fCBsZWFkLmNvbHVtbiAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhsZWFkLnJvdywgbGVhZC5jb2x1bW4gKyBjb2x1bW5zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmlzQmFja3dhcmRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgdmFyIGxlYWQgPSB0aGlzLmxlYWQ7XG4gICAgICAgIHJldHVybiAoYW5jaG9yLnJvdyA+IGxlYWQucm93IHx8IChhbmNob3Iucm93ID09IGxlYWQucm93ICYmIGFuY2hvci5jb2x1bW4gPiBsZWFkLmNvbHVtbikpO1xuICAgIH07XG4gICAgdGhpcy5nZXRSYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgIHZhciBsZWFkID0gdGhpcy5sZWFkO1xuXG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKGxlYWQsIGxlYWQpO1xuXG4gICAgICAgIGlmICh0aGlzLmlzQmFja3dhcmRzKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKGxlYWQsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhhbmNob3IsIGxlYWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNsZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy4kaXNFbXB0eSkge1xuICAgICAgICAgICAgdGhpcy4kaXNFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlU2VsZWN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdEFsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGFzdFJvdyA9IHRoaXMuZG9jLmdldExlbmd0aCgpIC0gMTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25BbmNob3IoMCwgMCk7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGxhc3RSb3csIHRoaXMuZG9jLmdldExpbmUobGFzdFJvdykubGVuZ3RoKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0UmFuZ2UgPVxuICAgIHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSwgcmV2ZXJzZSkge1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25BbmNob3IocmFuZ2UuZW5kLnJvdywgcmFuZ2UuZW5kLmNvbHVtbik7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdFRvKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uQW5jaG9yKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0VG8ocmFuZ2UuZW5kLnJvdywgcmFuZ2UuZW5kLmNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0UmFuZ2UoKS5pc0VtcHR5KCkpXG4gICAgICAgICAgICB0aGlzLiRpc0VtcHR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy4kZGVzaXJlZENvbHVtbiA9IG51bGw7XG4gICAgfTtcblxuICAgIHRoaXMuJG1vdmVTZWxlY3Rpb24gPSBmdW5jdGlvbihtb3Zlcikge1xuICAgICAgICB2YXIgbGVhZCA9IHRoaXMubGVhZDtcbiAgICAgICAgaWYgKHRoaXMuJGlzRW1wdHkpXG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGlvbkFuY2hvcihsZWFkLnJvdywgbGVhZC5jb2x1bW4pO1xuXG4gICAgICAgIG1vdmVyLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdFRvID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKHJvdywgY29sdW1uKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdFRvUG9zaXRpb24gPSBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvUG9zaXRpb24ocG9zKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVUbyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlVG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvUG9zaXRpb24ocG9zKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0VXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JVcCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdERvd24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JEb3duKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0UmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JSaWdodCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JMZWZ0KTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0TGluZVN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yTGluZVN0YXJ0KTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0TGluZUVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckxpbmVFbmQpO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RGaWxlRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yRmlsZUVuZCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdEZpbGVTdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckZpbGVTdGFydCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdFdvcmRSaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvcldvcmRSaWdodCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdFdvcmRMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yV29yZExlZnQpO1xuICAgIH07XG4gICAgdGhpcy5nZXRXb3JkUmFuZ2UgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gcm93IHx8IHRoaXMubGVhZDtcbiAgICAgICAgICAgIHJvdyA9IGN1cnNvci5yb3c7XG4gICAgICAgICAgICBjb2x1bW4gPSBjdXJzb3IuY29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uZ2V0V29yZFJhbmdlKHJvdywgY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0V29yZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldFNlbGVjdGlvblJhbmdlKHRoaXMuZ2V0V29yZFJhbmdlKCkpO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RBV29yZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3IoKTtcbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZXNzaW9uLmdldEFXb3JkUmFuZ2UoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UocmFuZ2UpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldExpbmVSYW5nZSA9IGZ1bmN0aW9uKHJvdywgZXhjbHVkZUxhc3RDaGFyKSB7XG4gICAgICAgIHZhciByb3dTdGFydCA9IHR5cGVvZiByb3cgPT0gXCJudW1iZXJcIiA/IHJvdyA6IHRoaXMubGVhZC5yb3c7XG4gICAgICAgIHZhciByb3dFbmQ7XG5cbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldEZvbGRMaW5lKHJvd1N0YXJ0KTtcbiAgICAgICAgaWYgKGZvbGRMaW5lKSB7XG4gICAgICAgICAgICByb3dTdGFydCA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHJvd0VuZCA9IGZvbGRMaW5lLmVuZC5yb3c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb3dFbmQgPSByb3dTdGFydDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhjbHVkZUxhc3RDaGFyID09PSB0cnVlKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShyb3dTdGFydCwgMCwgcm93RW5kLCB0aGlzLnNlc3Npb24uZ2V0TGluZShyb3dFbmQpLmxlbmd0aCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2Uocm93U3RhcnQsIDAsIHJvd0VuZCArIDEsIDApO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5nZXRMaW5lUmFuZ2UoKSk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JVcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3JCeSgtMSwgMCk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JEb3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvckJ5KDEsIDApO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5sZWFkLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICBmb2xkO1xuXG4gICAgICAgIGlmIChmb2xkID0gdGhpcy5zZXNzaW9uLmdldEZvbGRBdChjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uLCAtMSkpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGZvbGQuc3RhcnQucm93LCBmb2xkLnN0YXJ0LmNvbHVtbik7XG4gICAgICAgIH0gZWxzZSBpZiAoY3Vyc29yLmNvbHVtbiA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGN1cnNvci5yb3cgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oY3Vyc29yLnJvdyAtIDEsIHRoaXMuZG9jLmdldExpbmUoY3Vyc29yLnJvdyAtIDEpLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFiU2l6ZSA9IHRoaXMuc2Vzc2lvbi5nZXRUYWJTaXplKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uLmlzVGFiU3RvcChjdXJzb3IpICYmIHRoaXMuZG9jLmdldExpbmUoY3Vyc29yLnJvdykuc2xpY2UoY3Vyc29yLmNvbHVtbi10YWJTaXplLCBjdXJzb3IuY29sdW1uKS5zcGxpdChcIiBcIikubGVuZ3RoLTEgPT0gdGFiU2l6ZSlcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JCeSgwLCAtdGFiU2l6ZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yQnkoMCwgLTEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JSaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5sZWFkLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICBmb2xkO1xuICAgICAgICBpZiAoZm9sZCA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbiwgMSkpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGZvbGQuZW5kLnJvdywgZm9sZC5lbmQuY29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmxlYWQuY29sdW1uID09IHRoaXMuZG9jLmdldExpbmUodGhpcy5sZWFkLnJvdykubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sZWFkLnJvdyA8IHRoaXMuZG9jLmdldExlbmd0aCgpIC0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKHRoaXMubGVhZC5yb3cgKyAxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YWJTaXplID0gdGhpcy5zZXNzaW9uLmdldFRhYlNpemUoKTtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmxlYWQ7XG4gICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uLmlzVGFiU3RvcChjdXJzb3IpICYmIHRoaXMuZG9jLmdldExpbmUoY3Vyc29yLnJvdykuc2xpY2UoY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbit0YWJTaXplKS5zcGxpdChcIiBcIikubGVuZ3RoLTEgPT0gdGFiU2l6ZSlcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JCeSgwLCB0YWJTaXplKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JCeSgwLCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yTGluZVN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLmxlYWQucm93O1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5sZWFkLmNvbHVtbjtcbiAgICAgICAgdmFyIHNjcmVlblJvdyA9IHRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUm93KHJvdywgY29sdW1uKTtcbiAgICAgICAgdmFyIGZpcnN0Q29sdW1uUG9zaXRpb24gPSB0aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHNjcmVlblJvdywgMCk7XG4gICAgICAgIHZhciBiZWZvcmVDdXJzb3IgPSB0aGlzLnNlc3Npb24uZ2V0RGlzcGxheUxpbmUoXG4gICAgICAgICAgICByb3csIG51bGwsIGZpcnN0Q29sdW1uUG9zaXRpb24ucm93LFxuICAgICAgICAgICAgZmlyc3RDb2x1bW5Qb3NpdGlvbi5jb2x1bW5cbiAgICAgICAgKTtcblxuICAgICAgICB2YXIgbGVhZGluZ1NwYWNlID0gYmVmb3JlQ3Vyc29yLm1hdGNoKC9eXFxzKi8pO1xuICAgICAgICBpZiAobGVhZGluZ1NwYWNlWzBdLmxlbmd0aCAhPSBjb2x1bW4gJiYgIXRoaXMuc2Vzc2lvbi4kdXNlRW1hY3NTdHlsZUxpbmVTdGFydClcbiAgICAgICAgICAgIGZpcnN0Q29sdW1uUG9zaXRpb24uY29sdW1uICs9IGxlYWRpbmdTcGFjZVswXS5sZW5ndGg7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvUG9zaXRpb24oZmlyc3RDb2x1bW5Qb3NpdGlvbik7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JMaW5lRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsZWFkID0gdGhpcy5sZWFkO1xuICAgICAgICB2YXIgbGluZUVuZCA9IHRoaXMuc2Vzc2lvbi5nZXREb2N1bWVudExhc3RSb3dDb2x1bW5Qb3NpdGlvbihsZWFkLnJvdywgbGVhZC5jb2x1bW4pO1xuICAgICAgICBpZiAodGhpcy5sZWFkLmNvbHVtbiA9PSBsaW5lRW5kLmNvbHVtbikge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TGluZShsaW5lRW5kLnJvdyk7XG4gICAgICAgICAgICBpZiAobGluZUVuZC5jb2x1bW4gPT0gbGluZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dEVuZCA9IGxpbmUuc2VhcmNoKC9cXHMrJC8pO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0RW5kID4gMClcbiAgICAgICAgICAgICAgICAgICAgbGluZUVuZC5jb2x1bW4gPSB0ZXh0RW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8obGluZUVuZC5yb3csIGxpbmVFbmQuY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvckZpbGVFbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMuZG9jLmdldExlbmd0aCgpIC0gMTtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMuZG9jLmdldExpbmUocm93KS5sZW5ndGg7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvKHJvdywgY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvckZpbGVTdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbygwLCAwKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvckxvbmdXb3JkUmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMubGVhZC5yb3c7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmxlYWQuY29sdW1uO1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMuZG9jLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIHJpZ2h0T2ZDdXJzb3IgPSBsaW5lLnN1YnN0cmluZyhjb2x1bW4pO1xuXG4gICAgICAgIHZhciBtYXRjaDtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIGZvbGQgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KHJvdywgY29sdW1uLCAxKTtcbiAgICAgICAgaWYgKGZvbGQpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGZvbGQuZW5kLnJvdywgZm9sZC5lbmQuY29sdW1uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2ggPSB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5leGVjKHJpZ2h0T2ZDdXJzb3IpKSB7XG4gICAgICAgICAgICBjb2x1bW4gKz0gdGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIHJpZ2h0T2ZDdXJzb3IgPSBsaW5lLnN1YnN0cmluZyhjb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2x1bW4gPj0gbGluZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKHJvdywgbGluZS5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yUmlnaHQoKTtcbiAgICAgICAgICAgIGlmIChyb3cgPCB0aGlzLmRvYy5nZXRMZW5ndGgoKSAtIDEpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yV29yZFJpZ2h0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoID0gdGhpcy5zZXNzaW9uLnRva2VuUmUuZXhlYyhyaWdodE9mQ3Vyc29yKSkge1xuICAgICAgICAgICAgY29sdW1uICs9IHRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleDtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhyb3csIGNvbHVtbik7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JMb25nV29yZExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMubGVhZC5yb3c7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmxlYWQuY29sdW1uO1xuICAgICAgICB2YXIgZm9sZDtcbiAgICAgICAgaWYgKGZvbGQgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KHJvdywgY29sdW1uLCAtMSkpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGZvbGQuc3RhcnQucm93LCBmb2xkLnN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RyID0gdGhpcy5zZXNzaW9uLmdldEZvbGRTdHJpbmdBdChyb3csIGNvbHVtbiwgLTEpO1xuICAgICAgICBpZiAoc3RyID09IG51bGwpIHtcbiAgICAgICAgICAgIHN0ciA9IHRoaXMuZG9jLmdldExpbmUocm93KS5zdWJzdHJpbmcoMCwgY29sdW1uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZWZ0T2ZDdXJzb3IgPSBsYW5nLnN0cmluZ1JldmVyc2Uoc3RyKTtcbiAgICAgICAgdmFyIG1hdGNoO1xuICAgICAgICB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICB0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpZiAobWF0Y2ggPSB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5leGVjKGxlZnRPZkN1cnNvcikpIHtcbiAgICAgICAgICAgIGNvbHVtbiAtPSB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg7XG4gICAgICAgICAgICBsZWZ0T2ZDdXJzb3IgPSBsZWZ0T2ZDdXJzb3Iuc2xpY2UodGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbHVtbiA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhyb3csIDApO1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yTGVmdCgpO1xuICAgICAgICAgICAgaWYgKHJvdyA+IDApXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yV29yZExlZnQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2ggPSB0aGlzLnNlc3Npb24udG9rZW5SZS5leGVjKGxlZnRPZkN1cnNvcikpIHtcbiAgICAgICAgICAgIGNvbHVtbiAtPSB0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXg7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4pO1xuICAgIH07XG5cbiAgICB0aGlzLiRzaG9ydFdvcmRFbmRJbmRleCA9IGZ1bmN0aW9uKHJpZ2h0T2ZDdXJzb3IpIHtcbiAgICAgICAgdmFyIG1hdGNoLCBpbmRleCA9IDAsIGNoO1xuICAgICAgICB2YXIgd2hpdGVzcGFjZVJlID0gL1xccy87XG4gICAgICAgIHZhciB0b2tlblJlID0gdGhpcy5zZXNzaW9uLnRva2VuUmU7XG5cbiAgICAgICAgdG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpZiAobWF0Y2ggPSB0aGlzLnNlc3Npb24udG9rZW5SZS5leGVjKHJpZ2h0T2ZDdXJzb3IpKSB7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdoaWxlICgoY2ggPSByaWdodE9mQ3Vyc29yW2luZGV4XSkgJiYgd2hpdGVzcGFjZVJlLnRlc3QoY2gpKVxuICAgICAgICAgICAgICAgIGluZGV4ICsrO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPCAxKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICB3aGlsZSAoKGNoID0gcmlnaHRPZkN1cnNvcltpbmRleF0pICYmICF0b2tlblJlLnRlc3QoY2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggKys7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aGl0ZXNwYWNlUmUudGVzdChjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGNoID0gcmlnaHRPZkN1cnNvcltpbmRleF0pICYmIHdoaXRlc3BhY2VSZS50ZXN0KGNoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuXG4gICAgdGhpcy5tb3ZlQ3Vyc29yU2hvcnRXb3JkUmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMubGVhZC5yb3c7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmxlYWQuY29sdW1uO1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMuZG9jLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIHJpZ2h0T2ZDdXJzb3IgPSBsaW5lLnN1YnN0cmluZyhjb2x1bW4pO1xuXG4gICAgICAgIHZhciBmb2xkID0gdGhpcy5zZXNzaW9uLmdldEZvbGRBdChyb3csIGNvbHVtbiwgMSk7XG4gICAgICAgIGlmIChmb2xkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW92ZUN1cnNvclRvKGZvbGQuZW5kLnJvdywgZm9sZC5lbmQuY29sdW1uKTtcblxuICAgICAgICBpZiAoY29sdW1uID09IGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbCA9IHRoaXMuZG9jLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHJvdysrO1xuICAgICAgICAgICAgICAgIHJpZ2h0T2ZDdXJzb3IgPSB0aGlzLmRvYy5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICB9IHdoaWxlIChyb3cgPCBsICYmIC9eXFxzKiQvLnRlc3QocmlnaHRPZkN1cnNvcikpO1xuXG4gICAgICAgICAgICBpZiAoIS9eXFxzKy8udGVzdChyaWdodE9mQ3Vyc29yKSlcbiAgICAgICAgICAgICAgICByaWdodE9mQ3Vyc29yID0gXCJcIjtcbiAgICAgICAgICAgIGNvbHVtbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLiRzaG9ydFdvcmRFbmRJbmRleChyaWdodE9mQ3Vyc29yKTtcblxuICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhyb3csIGNvbHVtbiArIGluZGV4KTtcbiAgICB9O1xuXG4gICAgdGhpcy5tb3ZlQ3Vyc29yU2hvcnRXb3JkTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5sZWFkLnJvdztcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMubGVhZC5jb2x1bW47XG5cbiAgICAgICAgdmFyIGZvbGQ7XG4gICAgICAgIGlmIChmb2xkID0gdGhpcy5zZXNzaW9uLmdldEZvbGRBdChyb3csIGNvbHVtbiwgLTEpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW92ZUN1cnNvclRvKGZvbGQuc3RhcnQucm93LCBmb2xkLnN0YXJ0LmNvbHVtbik7XG5cbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TGluZShyb3cpLnN1YnN0cmluZygwLCBjb2x1bW4pO1xuICAgICAgICBpZiAoY29sdW1uID09PSAwKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgcm93LS07XG4gICAgICAgICAgICAgICAgbGluZSA9IHRoaXMuZG9jLmdldExpbmUocm93KTtcbiAgICAgICAgICAgIH0gd2hpbGUgKHJvdyA+IDAgJiYgL15cXHMqJC8udGVzdChsaW5lKSk7XG5cbiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCEvXFxzKyQvLnRlc3QobGluZSkpXG4gICAgICAgICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVmdE9mQ3Vyc29yID0gbGFuZy5zdHJpbmdSZXZlcnNlKGxpbmUpO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLiRzaG9ydFdvcmRFbmRJbmRleChsZWZ0T2ZDdXJzb3IpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLm1vdmVDdXJzb3JUbyhyb3csIGNvbHVtbiAtIGluZGV4KTtcbiAgICB9O1xuXG4gICAgdGhpcy5tb3ZlQ3Vyc29yV29yZFJpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24uJHNlbGVjdExvbmdXb3JkcylcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvckxvbmdXb3JkUmlnaHQoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yU2hvcnRXb3JkUmlnaHQoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5tb3ZlQ3Vyc29yV29yZExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi4kc2VsZWN0TG9uZ1dvcmRzKVxuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yTG9uZ1dvcmRMZWZ0KCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclNob3J0V29yZExlZnQoKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvckJ5ID0gZnVuY3Rpb24ocm93cywgY2hhcnMpIHtcbiAgICAgICAgdmFyIHNjcmVlblBvcyA9IHRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24oXG4gICAgICAgICAgICB0aGlzLmxlYWQucm93LFxuICAgICAgICAgICAgdGhpcy5sZWFkLmNvbHVtblxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChjaGFycyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJGRlc2lyZWRDb2x1bW4pXG4gICAgICAgICAgICAgICAgc2NyZWVuUG9zLmNvbHVtbiA9IHRoaXMuJGRlc2lyZWRDb2x1bW47XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy4kZGVzaXJlZENvbHVtbiA9IHNjcmVlblBvcy5jb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZG9jUG9zID0gdGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihzY3JlZW5Qb3Mucm93ICsgcm93cywgc2NyZWVuUG9zLmNvbHVtbik7XG4gICAgICAgIFxuICAgICAgICBpZiAocm93cyAhPT0gMCAmJiBjaGFycyA9PT0gMCAmJiBkb2NQb3Mucm93ID09PSB0aGlzLmxlYWQucm93ICYmIGRvY1Bvcy5jb2x1bW4gPT09IHRoaXMubGVhZC5jb2x1bW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb24ubGluZVdpZGdldHMgJiYgdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzW2RvY1Bvcy5yb3ddKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY1Bvcy5yb3cgPiAwIHx8IHJvd3MgPiAwKVxuICAgICAgICAgICAgICAgICAgICBkb2NQb3Mucm93Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oZG9jUG9zLnJvdywgZG9jUG9zLmNvbHVtbiArIGNoYXJzLCBjaGFycyA9PT0gMCk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yVG8gPSBmdW5jdGlvbihyb3csIGNvbHVtbiwga2VlcERlc2lyZWRDb2x1bW4pIHtcbiAgICAgICAgdmFyIGZvbGQgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KHJvdywgY29sdW1uLCAxKTtcbiAgICAgICAgaWYgKGZvbGQpIHtcbiAgICAgICAgICAgIHJvdyA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICAgICAgY29sdW1uID0gZm9sZC5zdGFydC5jb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRrZWVwRGVzaXJlZENvbHVtbk9uQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sZWFkLnNldFBvc2l0aW9uKHJvdywgY29sdW1uKTtcbiAgICAgICAgdGhpcy4ka2VlcERlc2lyZWRDb2x1bW5PbkNoYW5nZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICgha2VlcERlc2lyZWRDb2x1bW4pXG4gICAgICAgICAgICB0aGlzLiRkZXNpcmVkQ29sdW1uID0gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvclRvU2NyZWVuID0gZnVuY3Rpb24ocm93LCBjb2x1bW4sIGtlZXBEZXNpcmVkQ29sdW1uKSB7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHJvdywgY29sdW1uKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocG9zLnJvdywgcG9zLmNvbHVtbiwga2VlcERlc2lyZWRDb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5sZWFkLmRldGFjaCgpO1xuICAgICAgICB0aGlzLmFuY2hvci5kZXRhY2goKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gdGhpcy5kb2MgPSBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLmZyb21PcmllbnRlZFJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShyYW5nZSwgcmFuZ2UuY3Vyc29yID09IHJhbmdlLnN0YXJ0KTtcbiAgICAgICAgdGhpcy4kZGVzaXJlZENvbHVtbiA9IHJhbmdlLmRlc2lyZWRDb2x1bW4gfHwgdGhpcy4kZGVzaXJlZENvbHVtbjtcbiAgICB9O1xuXG4gICAgdGhpcy50b09yaWVudGVkUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgciA9IHRoaXMuZ2V0UmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4gPSByLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0LnJvdyA9IHIuc3RhcnQucm93O1xuICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IHIuZW5kLmNvbHVtbjtcbiAgICAgICAgICAgIHJhbmdlLmVuZC5yb3cgPSByLmVuZC5yb3c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYW5nZSA9IHI7XG4gICAgICAgIH1cblxuICAgICAgICByYW5nZS5jdXJzb3IgPSB0aGlzLmlzQmFja3dhcmRzKCkgPyByYW5nZS5zdGFydCA6IHJhbmdlLmVuZDtcbiAgICAgICAgcmFuZ2UuZGVzaXJlZENvbHVtbiA9IHRoaXMuJGRlc2lyZWRDb2x1bW47XG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0UmFuZ2VPZk1vdmVtZW50cyA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5nZXRDdXJzb3IoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZ1bmModGhpcyk7XG4gICAgICAgICAgICB2YXIgZW5kID0gdGhpcy5nZXRDdXJzb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0LGVuZCk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQsc3RhcnQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihzdGFydCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VDb3VudCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnJhbmdlcy5tYXAoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgIHZhciByMSA9IHIuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICByMS5pc0JhY2t3YXJkcyA9IHIuY3Vyc29yID09IHIuc3RhcnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIxO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgIGRhdGEuaXNCYWNrd2FyZHMgPSB0aGlzLmlzQmFja3dhcmRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIHRoaXMuZnJvbUpTT04gPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLnN0YXJ0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VMaXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b1NpbmdsZVJhbmdlKGRhdGFbMF0pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBkYXRhLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBSYW5nZS5mcm9tUG9pbnRzKGRhdGFbaV0uc3RhcnQsIGRhdGFbaV0uZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaV0uaXNCYWNrd2FyZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICByLmN1cnNvciA9IHIuc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUmFuZ2UociwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJhbmdlTGlzdClcbiAgICAgICAgICAgIHRoaXMudG9TaW5nbGVSYW5nZShkYXRhKTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShkYXRhLCBkYXRhLmlzQmFja3dhcmRzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBpZiAoKGRhdGEubGVuZ3RoIHx8IHRoaXMucmFuZ2VDb3VudCkgJiYgZGF0YS5sZW5ndGggIT0gdGhpcy5yYW5nZUNvdW50KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWRhdGEubGVuZ3RoIHx8ICF0aGlzLnJhbmdlcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFJhbmdlKCkuaXNFcXVhbChkYXRhKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5yYW5nZXMubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJhbmdlc1tpXS5pc0VxdWFsKGRhdGFbaV0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG59KS5jYWxsKFNlbGVjdGlvbi5wcm90b3R5cGUpO1xuXG5leHBvcnRzLlNlbGVjdGlvbiA9IFNlbGVjdGlvbjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3Rva2VuaXplclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2NvbmZpZ1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBjb25maWcgPSBhY2VxdWlyZShcIi4vY29uZmlnXCIpO1xudmFyIE1BWF9UT0tFTl9DT1VOVCA9IDIwMDA7XG52YXIgVG9rZW5pemVyID0gZnVuY3Rpb24ocnVsZXMpIHtcbiAgICB0aGlzLnN0YXRlcyA9IHJ1bGVzO1xuXG4gICAgdGhpcy5yZWdFeHBzID0ge307XG4gICAgdGhpcy5tYXRjaE1hcHBpbmdzID0ge307XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuc3RhdGVzKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVzW2tleV07XG4gICAgICAgIHZhciBydWxlUmVnRXhwcyA9IFtdO1xuICAgICAgICB2YXIgbWF0Y2hUb3RhbCA9IDA7XG4gICAgICAgIHZhciBtYXBwaW5nID0gdGhpcy5tYXRjaE1hcHBpbmdzW2tleV0gPSB7ZGVmYXVsdFRva2VuOiBcInRleHRcIn07XG4gICAgICAgIHZhciBmbGFnID0gXCJnXCI7XG5cbiAgICAgICAgdmFyIHNwbGl0dGVyUnVybGVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBydWxlID0gc3RhdGVbaV07XG4gICAgICAgICAgICBpZiAocnVsZS5kZWZhdWx0VG9rZW4pXG4gICAgICAgICAgICAgICAgbWFwcGluZy5kZWZhdWx0VG9rZW4gPSBydWxlLmRlZmF1bHRUb2tlbjtcbiAgICAgICAgICAgIGlmIChydWxlLmNhc2VJbnNlbnNpdGl2ZSlcbiAgICAgICAgICAgICAgICBmbGFnID0gXCJnaVwiO1xuICAgICAgICAgICAgaWYgKHJ1bGUucmVnZXggPT0gbnVsbClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKHJ1bGUucmVnZXggaW5zdGFuY2VvZiBSZWdFeHApXG4gICAgICAgICAgICAgICAgcnVsZS5yZWdleCA9IHJ1bGUucmVnZXgudG9TdHJpbmcoKS5zbGljZSgxLCAtMSk7XG4gICAgICAgICAgICB2YXIgYWRqdXN0ZWRyZWdleCA9IHJ1bGUucmVnZXg7XG4gICAgICAgICAgICB2YXIgbWF0Y2hjb3VudCA9IG5ldyBSZWdFeHAoXCIoPzooXCIgKyBhZGp1c3RlZHJlZ2V4ICsgXCIpfCguKSlcIikuZXhlYyhcImFcIikubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJ1bGUudG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUudG9rZW4ubGVuZ3RoID09IDEgfHwgbWF0Y2hjb3VudCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUudG9rZW4gPSBydWxlLnRva2VuWzBdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hjb3VudCAtIDEgIT0gcnVsZS50b2tlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRFcnJvcihcIm51bWJlciBvZiBjbGFzc2VzIGFuZCByZWdleHAgZ3JvdXBzIGRvZXNuJ3QgbWF0Y2hcIiwgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cENvdW50OiBtYXRjaGNvdW50IC0gMVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50b2tlbiA9IHJ1bGUudG9rZW5bMF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50b2tlbkFycmF5ID0gcnVsZS50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50b2tlbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUub25NYXRjaCA9IHRoaXMuJGFycmF5VG9rZW5zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJ1bGUudG9rZW4gPT0gXCJmdW5jdGlvblwiICYmICFydWxlLm9uTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hjb3VudCA+IDEpXG4gICAgICAgICAgICAgICAgICAgIHJ1bGUub25NYXRjaCA9IHRoaXMuJGFwcGx5VG9rZW47XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBydWxlLm9uTWF0Y2ggPSBydWxlLnRva2VuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWF0Y2hjb3VudCA+IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoL1xcXFxcXGQvLnRlc3QocnVsZS5yZWdleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRqdXN0ZWRyZWdleCA9IHJ1bGUucmVnZXgucmVwbGFjZSgvXFxcXChbMC05XSspL2csIGZ1bmN0aW9uKG1hdGNoLCBkaWdpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXFxcXFwiICsgKHBhcnNlSW50KGRpZ2l0LCAxMCkgKyBtYXRjaFRvdGFsICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoY291bnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBhZGp1c3RlZHJlZ2V4ID0gdGhpcy5yZW1vdmVDYXB0dXJpbmdHcm91cHMocnVsZS5yZWdleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcnVsZS5zcGxpdFJlZ2V4ICYmIHR5cGVvZiBydWxlLnRva2VuICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgIHNwbGl0dGVyUnVybGVzLnB1c2gocnVsZSk7IC8vIGZsYWcgd2lsbCBiZSBrbm93biBvbmx5IGF0IHRoZSB2ZXJ5IGVuZFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXBwaW5nW21hdGNoVG90YWxdID0gaTtcbiAgICAgICAgICAgIG1hdGNoVG90YWwgKz0gbWF0Y2hjb3VudDtcblxuICAgICAgICAgICAgcnVsZVJlZ0V4cHMucHVzaChhZGp1c3RlZHJlZ2V4KTtcbiAgICAgICAgICAgIGlmICghcnVsZS5vbk1hdGNoKVxuICAgICAgICAgICAgICAgIHJ1bGUub25NYXRjaCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICghcnVsZVJlZ0V4cHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXBwaW5nWzBdID0gMDtcbiAgICAgICAgICAgIHJ1bGVSZWdFeHBzLnB1c2goXCIkXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzcGxpdHRlclJ1cmxlcy5mb3JFYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgIHJ1bGUuc3BsaXRSZWdleCA9IHRoaXMuY3JlYXRlU3BsaXR0ZXJSZWdleHAocnVsZS5yZWdleCwgZmxhZyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMucmVnRXhwc1trZXldID0gbmV3IFJlZ0V4cChcIihcIiArIHJ1bGVSZWdFeHBzLmpvaW4oXCIpfChcIikgKyBcIil8KCQpXCIsIGZsYWcpO1xuICAgIH1cbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRzZXRNYXhUb2tlbkNvdW50ID0gZnVuY3Rpb24obSkge1xuICAgICAgICBNQVhfVE9LRU5fQ09VTlQgPSBtIHwgMDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJGFwcGx5VG9rZW4gPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuc3BsaXRSZWdleC5leGVjKHN0cikuc2xpY2UoMSk7XG4gICAgICAgIHZhciB0eXBlcyA9IHRoaXMudG9rZW4uYXBwbHkodGhpcywgdmFsdWVzKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlcyA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBbe3R5cGU6IHR5cGVzLCB2YWx1ZTogc3RyfV07XG5cbiAgICAgICAgdmFyIHRva2VucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHR5cGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1tpXSlcbiAgICAgICAgICAgICAgICB0b2tlbnNbdG9rZW5zLmxlbmd0aF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVzW2ldLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzW2ldXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG5cbiAgICB0aGlzLiRhcnJheVRva2VucyA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICBpZiAoIXN0cilcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuc3BsaXRSZWdleC5leGVjKHN0cik7XG4gICAgICAgIGlmICghdmFsdWVzKVxuICAgICAgICAgICAgcmV0dXJuIFwidGV4dFwiO1xuICAgICAgICB2YXIgdG9rZW5zID0gW107XG4gICAgICAgIHZhciB0eXBlcyA9IHRoaXMudG9rZW5BcnJheTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0eXBlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbaSArIDFdKVxuICAgICAgICAgICAgICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaSArIDFdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUNhcHR1cmluZ0dyb3VwcyA9IGZ1bmN0aW9uKHNyYykge1xuICAgICAgICB2YXIgciA9IHNyYy5yZXBsYWNlKFxuICAgICAgICAgICAgL1xcWyg/OlxcXFwufFteXFxdXSkqP1xcXXxcXFxcLnxcXChcXD9bOj0hXXwoXFwoKS9nLFxuICAgICAgICAgICAgZnVuY3Rpb24oeCwgeSkge3JldHVybiB5ID8gXCIoPzpcIiA6IHg7fVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGVTcGxpdHRlclJlZ2V4cCA9IGZ1bmN0aW9uKHNyYywgZmxhZykge1xuICAgICAgICBpZiAoc3JjLmluZGV4T2YoXCIoPz1cIikgIT0gLTEpIHtcbiAgICAgICAgICAgIHZhciBzdGFjayA9IDA7XG4gICAgICAgICAgICB2YXIgaW5DaENsYXNzID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbGFzdENhcHR1cmUgPSB7fTtcbiAgICAgICAgICAgIHNyYy5yZXBsYWNlKC8oXFxcXC4pfChcXCgoPzpcXD9bPSFdKT8pfChcXCkpfChbXFxbXFxdXSkvZywgZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgbSwgZXNjLCBwYXJlbk9wZW4sIHBhcmVuQ2xvc2UsIHNxdWFyZSwgaW5kZXhcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlmIChpbkNoQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5DaENsYXNzID0gc3F1YXJlICE9IFwiXVwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluQ2hDbGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJlbkNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFjayA9PSBsYXN0Q2FwdHVyZS5zdGFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENhcHR1cmUuZW5kID0gaW5kZXgrMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDYXB0dXJlLnN0YWNrID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhY2stLTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmVuT3Blbikge1xuICAgICAgICAgICAgICAgICAgICBzdGFjaysrO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW5PcGVuLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2FwdHVyZS5zdGFjayA9IHN0YWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2FwdHVyZS5zdGFydCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChsYXN0Q2FwdHVyZS5lbmQgIT0gbnVsbCAmJiAvXlxcKSokLy50ZXN0KHNyYy5zdWJzdHIobGFzdENhcHR1cmUuZW5kKSkpXG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZygwLCBsYXN0Q2FwdHVyZS5zdGFydCkgKyBzcmMuc3Vic3RyKGxhc3RDYXB0dXJlLmVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYy5jaGFyQXQoMCkgIT0gXCJeXCIpIHNyYyA9IFwiXlwiICsgc3JjO1xuICAgICAgICBpZiAoc3JjLmNoYXJBdChzcmMubGVuZ3RoIC0gMSkgIT0gXCIkXCIpIHNyYyArPSBcIiRcIjtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHNyYywgKGZsYWd8fFwiXCIpLnJlcGxhY2UoXCJnXCIsIFwiXCIpKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGluZVRva2VucyA9IGZ1bmN0aW9uKGxpbmUsIHN0YXJ0U3RhdGUpIHtcbiAgICAgICAgaWYgKHN0YXJ0U3RhdGUgJiYgdHlwZW9mIHN0YXJ0U3RhdGUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gc3RhcnRTdGF0ZS5zbGljZSgwKTtcbiAgICAgICAgICAgIHN0YXJ0U3RhdGUgPSBzdGFja1swXTtcbiAgICAgICAgICAgIGlmIChzdGFydFN0YXRlID09PSBcIiN0bXBcIikge1xuICAgICAgICAgICAgICAgIHN0YWNrLnNoaWZ0KClcbiAgICAgICAgICAgICAgICBzdGFydFN0YXRlID0gc3RhY2suc2hpZnQoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIHZhciBzdGFjayA9IFtdO1xuXG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBzdGFydFN0YXRlIHx8IFwic3RhcnRcIjtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZXNbY3VycmVudFN0YXRlXTtcbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gXCJzdGFydFwiO1xuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlc1tjdXJyZW50U3RhdGVdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXBwaW5nID0gdGhpcy5tYXRjaE1hcHBpbmdzW2N1cnJlbnRTdGF0ZV07XG4gICAgICAgIHZhciByZSA9IHRoaXMucmVnRXhwc1tjdXJyZW50U3RhdGVdO1xuICAgICAgICByZS5sYXN0SW5kZXggPSAwO1xuXG4gICAgICAgIHZhciBtYXRjaCwgdG9rZW5zID0gW107XG4gICAgICAgIHZhciBsYXN0SW5kZXggPSAwO1xuICAgICAgICB2YXIgbWF0Y2hBdHRlbXB0cyA9IDA7XG5cbiAgICAgICAgdmFyIHRva2VuID0ge3R5cGU6IG51bGwsIHZhbHVlOiBcIlwifTtcblxuICAgICAgICB3aGlsZSAobWF0Y2ggPSByZS5leGVjKGxpbmUpKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG1hcHBpbmcuZGVmYXVsdFRva2VuO1xuICAgICAgICAgICAgdmFyIHJ1bGUgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSByZS5sYXN0SW5kZXg7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCAtIHZhbHVlLmxlbmd0aCA+IGxhc3RJbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBza2lwcGVkID0gbGluZS5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCAtIHZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSArPSBza2lwcGVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHt0eXBlOiB0eXBlLCB2YWx1ZTogc2tpcHBlZH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoLmxlbmd0aC0yOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbaSArIDFdID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgcnVsZSA9IHN0YXRlW21hcHBpbmdbaV1dO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUub25NYXRjaClcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHJ1bGUub25NYXRjaCh2YWx1ZSwgY3VycmVudFN0YXRlLCBzdGFjayk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gcnVsZS50b2tlbjtcblxuICAgICAgICAgICAgICAgIGlmIChydWxlLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBydWxlLm5leHQgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gcnVsZS5uZXh0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gcnVsZS5uZXh0KGN1cnJlbnRTdGF0ZSwgc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhdGVzW2N1cnJlbnRTdGF0ZV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0RXJyb3IoXCJzdGF0ZSBkb2Vzbid0IGV4aXN0XCIsIGN1cnJlbnRTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBcInN0YXJ0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhdGVzW2N1cnJlbnRTdGF0ZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWFwcGluZyA9IHRoaXMubWF0Y2hNYXBwaW5nc1tjdXJyZW50U3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICBsYXN0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgcmUgPSB0aGlzLnJlZ0V4cHNbY3VycmVudFN0YXRlXTtcbiAgICAgICAgICAgICAgICAgICAgcmUubGFzdEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCghcnVsZSB8fCBydWxlLm1lcmdlICE9PSBmYWxzZSkgJiYgdG9rZW4udHlwZSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHt0eXBlOiB0eXBlLCB2YWx1ZTogdmFsdWV9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHt0eXBlOiBudWxsLCB2YWx1ZTogXCJcIn07XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHR5cGVbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxhc3RJbmRleCA9PSBsaW5lLmxlbmd0aClcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgbGFzdEluZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaEF0dGVtcHRzKysgPiBNQVhfVE9LRU5fQ09VTlQpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hBdHRlbXB0cyA+IDIgKiBsaW5lLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydEVycm9yKFwiaW5maW5pdGUgbG9vcCB3aXRoIGluIGFjZSB0b2tlbml6ZXJcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRTdGF0ZTogc3RhcnRTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdoaWxlIChsYXN0SW5kZXggPCBsaW5lLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbGluZS5zdWJzdHJpbmcobGFzdEluZGV4LCBsYXN0SW5kZXggKz0gMjAwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm92ZXJmbG93XCJcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gXCJzdGFydFwiO1xuICAgICAgICAgICAgICAgIHN0YWNrID0gW107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9rZW4udHlwZSlcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBpZiAoc3RhY2tbMF0gIT09IGN1cnJlbnRTdGF0ZSlcbiAgICAgICAgICAgICAgICBzdGFjay51bnNoaWZ0KFwiI3RtcFwiLCBjdXJyZW50U3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbnMgOiB0b2tlbnMsXG4gICAgICAgICAgICBzdGF0ZSA6IHN0YWNrLmxlbmd0aCA/IHN0YWNrIDogY3VycmVudFN0YXRlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnJlcG9ydEVycm9yID0gY29uZmlnLnJlcG9ydEVycm9yO1xuICAgIFxufSkuY2FsbChUb2tlbml6ZXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5Ub2tlbml6ZXIgPSBUb2tlbml6ZXI7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2xhbmdcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG5cbnZhciBUZXh0SGlnaGxpZ2h0UnVsZXMgPSBmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuJHJ1bGVzID0ge1xuICAgICAgICBcInN0YXJ0XCIgOiBbe1xuICAgICAgICAgICAgdG9rZW4gOiBcImVtcHR5X2xpbmVcIixcbiAgICAgICAgICAgIHJlZ2V4IDogJ14kJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0VG9rZW4gOiBcInRleHRcIlxuICAgICAgICB9XVxuICAgIH07XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmFkZFJ1bGVzID0gZnVuY3Rpb24ocnVsZXMsIHByZWZpeCkge1xuICAgICAgICBpZiAoIXByZWZpeCkge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHJ1bGVzKVxuICAgICAgICAgICAgICAgIHRoaXMuJHJ1bGVzW2tleV0gPSBydWxlc1trZXldO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBydWxlcykge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gcnVsZXNba2V5XTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcnVsZSA9IHN0YXRlW2ldO1xuICAgICAgICAgICAgICAgIGlmIChydWxlLm5leHQgfHwgcnVsZS5vbk1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcnVsZS5uZXh0ID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlLm5leHQuaW5kZXhPZihwcmVmaXgpICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUubmV4dCA9IHByZWZpeCArIHJ1bGUubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZS5uZXh0U3RhdGUgJiYgcnVsZS5uZXh0U3RhdGUuaW5kZXhPZihwcmVmaXgpICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS5uZXh0U3RhdGUgPSBwcmVmaXggKyBydWxlLm5leHRTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiRydWxlc1twcmVmaXggKyBrZXldID0gc3RhdGU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5nZXRSdWxlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kcnVsZXM7XG4gICAgfTtcblxuICAgIHRoaXMuZW1iZWRSdWxlcyA9IGZ1bmN0aW9uIChIaWdobGlnaHRSdWxlcywgcHJlZml4LCBlc2NhcGVSdWxlcywgc3RhdGVzLCBhcHBlbmQpIHtcbiAgICAgICAgdmFyIGVtYmVkUnVsZXMgPSB0eXBlb2YgSGlnaGxpZ2h0UnVsZXMgPT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICA/IG5ldyBIaWdobGlnaHRSdWxlcygpLmdldFJ1bGVzKClcbiAgICAgICAgICAgIDogSGlnaGxpZ2h0UnVsZXM7XG4gICAgICAgIGlmIChzdGF0ZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIHN0YXRlc1tpXSA9IHByZWZpeCArIHN0YXRlc1tpXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGVtYmVkUnVsZXMpXG4gICAgICAgICAgICAgICAgc3RhdGVzLnB1c2gocHJlZml4ICsga2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkUnVsZXMoZW1iZWRSdWxlcywgcHJlZml4KTtcblxuICAgICAgICBpZiAoZXNjYXBlUnVsZXMpIHtcbiAgICAgICAgICAgIHZhciBhZGRSdWxlcyA9IEFycmF5LnByb3RvdHlwZVthcHBlbmQgPyBcInB1c2hcIiA6IFwidW5zaGlmdFwiXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGFkZFJ1bGVzLmFwcGx5KHRoaXMuJHJ1bGVzW3N0YXRlc1tpXV0sIGxhbmcuZGVlcENvcHkoZXNjYXBlUnVsZXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy4kZW1iZWRzKVxuICAgICAgICAgICAgdGhpcy4kZW1iZWRzID0gW107XG4gICAgICAgIHRoaXMuJGVtYmVkcy5wdXNoKHByZWZpeCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RW1iZWRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRlbWJlZHM7XG4gICAgfTtcblxuICAgIHZhciBwdXNoU3RhdGUgPSBmdW5jdGlvbihjdXJyZW50U3RhdGUsIHN0YWNrKSB7XG4gICAgICAgIGlmIChjdXJyZW50U3RhdGUgIT0gXCJzdGFydFwiIHx8IHN0YWNrLmxlbmd0aClcbiAgICAgICAgICAgIHN0YWNrLnVuc2hpZnQodGhpcy5uZXh0U3RhdGUsIGN1cnJlbnRTdGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRTdGF0ZTtcbiAgICB9O1xuICAgIHZhciBwb3BTdGF0ZSA9IGZ1bmN0aW9uKGN1cnJlbnRTdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgc3RhY2suc2hpZnQoKTtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnNoaWZ0KCkgfHwgXCJzdGFydFwiO1xuICAgIH07XG5cbiAgICB0aGlzLm5vcm1hbGl6ZVJ1bGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpZCA9IDA7XG4gICAgICAgIHZhciBydWxlcyA9IHRoaXMuJHJ1bGVzO1xuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzU3RhdGUoa2V5KSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBydWxlc1trZXldO1xuICAgICAgICAgICAgc3RhdGUucHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcnVsZSA9IHN0YXRlW2ldO1xuICAgICAgICAgICAgICAgIGlmICghcnVsZS5yZWdleCAmJiBydWxlLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUucmVnZXggPSBydWxlLnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGUubmV4dClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUubmV4dCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBydWxlLm5leHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46IHJ1bGUudG9rZW5cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHJ1bGUudG9rZW4gKyBcIi5lbmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4OiBydWxlLmVuZCB8fCBydWxlLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogXCJwb3BcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50b2tlbiA9IHJ1bGUudG9rZW4gKyBcIi5zdGFydFwiO1xuICAgICAgICAgICAgICAgICAgICBydWxlLnB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IHJ1bGUubmV4dCB8fCBydWxlLnB1c2g7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgQXJyYXkuaXNBcnJheShuZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVOYW1lID0gcnVsZS5zdGF0ZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGVOYW1lKSAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVOYW1lID0gcnVsZS50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVOYW1lICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVOYW1lID0gc3RhdGVOYW1lWzBdIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXNbc3RhdGVOYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWUgKz0gaWQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBydWxlc1tzdGF0ZU5hbWVdID0gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS5uZXh0ID0gc3RhdGVOYW1lO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RhdGUoc3RhdGVOYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5leHQgPT0gXCJwb3BcIikge1xuICAgICAgICAgICAgICAgICAgICBydWxlLm5leHQgPSBwb3BTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocnVsZS5wdXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUubmV4dFN0YXRlID0gcnVsZS5uZXh0IHx8IHJ1bGUucHVzaDtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS5uZXh0ID0gcHVzaFN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcnVsZS5wdXNoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChydWxlLnJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHIgaW4gcnVsZS5ydWxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVzW3JdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVzW3JdLnB1c2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzW3JdLnB1c2guYXBwbHkocnVsZXNbcl0sIHJ1bGUucnVsZXNbcl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlc1tyXSA9IHJ1bGUucnVsZXNbcl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUuaW5jbHVkZSB8fCB0eXBlb2YgcnVsZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmNsdWRlTmFtZSA9IHJ1bGUuaW5jbHVkZSB8fCBydWxlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9JbnNlcnQgPSBydWxlc1tpbmNsdWRlTmFtZV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJ1bGUpKVxuICAgICAgICAgICAgICAgICAgICB0b0luc2VydCA9IHJ1bGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodG9JbnNlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbaSwgMV0uY29uY2F0KHRvSW5zZXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUubm9Fc2NhcGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJncy5maWx0ZXIoZnVuY3Rpb24oeCkge3JldHVybiAheC5uZXh0O30pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zcGxpY2UuYXBwbHkoc3RhdGUsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgIHRvSW5zZXJ0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUua2V5d29yZE1hcCkge1xuICAgICAgICAgICAgICAgICAgICBydWxlLnRva2VuID0gdGhpcy5jcmVhdGVLZXl3b3JkTWFwcGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS5rZXl3b3JkTWFwLCBydWxlLmRlZmF1bHRUb2tlbiB8fCBcInRleHRcIiwgcnVsZS5jYXNlSW5zZW5zaXRpdmVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJ1bGUuZGVmYXVsdFRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBPYmplY3Qua2V5cyhydWxlcykuZm9yRWFjaChwcm9jZXNzU3RhdGUsIHRoaXMpO1xuICAgIH07XG5cbiAgICB0aGlzLmNyZWF0ZUtleXdvcmRNYXBwZXIgPSBmdW5jdGlvbihtYXAsIGRlZmF1bHRUb2tlbiwgaWdub3JlQ2FzZSwgc3BsaXRDaGFyKSB7XG4gICAgICAgIHZhciBrZXl3b3JkcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIE9iamVjdC5rZXlzKG1hcCkuZm9yRWFjaChmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBhID0gbWFwW2NsYXNzTmFtZV07XG4gICAgICAgICAgICBpZiAoaWdub3JlQ2FzZSlcbiAgICAgICAgICAgICAgICBhID0gYS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdmFyIGxpc3QgPSBhLnNwbGl0KHNwbGl0Q2hhciB8fCBcInxcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbGlzdC5sZW5ndGg7IGktLTsgKVxuICAgICAgICAgICAgICAgIGtleXdvcmRzW2xpc3RbaV1dID0gY2xhc3NOYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihrZXl3b3JkcykpIHtcbiAgICAgICAgICAgIGtleXdvcmRzLl9fcHJvdG9fXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4ka2V5d29yZExpc3QgPSBPYmplY3Qua2V5cyhrZXl3b3Jkcyk7XG4gICAgICAgIG1hcCA9IG51bGw7XG4gICAgICAgIHJldHVybiBpZ25vcmVDYXNlXG4gICAgICAgICAgICA/IGZ1bmN0aW9uKHZhbHVlKSB7cmV0dXJuIGtleXdvcmRzW3ZhbHVlLnRvTG93ZXJDYXNlKCldIHx8IGRlZmF1bHRUb2tlbiB9XG4gICAgICAgICAgICA6IGZ1bmN0aW9uKHZhbHVlKSB7cmV0dXJuIGtleXdvcmRzW3ZhbHVlXSB8fCBkZWZhdWx0VG9rZW4gfTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRLZXl3b3JkcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4ka2V5d29yZHM7XG4gICAgfTtcblxufSkuY2FsbChUZXh0SGlnaGxpZ2h0UnVsZXMucHJvdG90eXBlKTtcblxuZXhwb3J0cy5UZXh0SGlnaGxpZ2h0UnVsZXMgPSBUZXh0SGlnaGxpZ2h0UnVsZXM7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb2RlL2JlaGF2aW91clwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBCZWhhdmlvdXIgPSBmdW5jdGlvbigpIHtcbiAgIHRoaXMuJGJlaGF2aW91cnMgPSB7fTtcbn07XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmFkZCA9IGZ1bmN0aW9uIChuYW1lLCBhY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgICAgIHN3aXRjaCAodW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2FzZSB0aGlzLiRiZWhhdmlvdXJzOlxuICAgICAgICAgICAgICB0aGlzLiRiZWhhdmlvdXJzID0ge307XG4gICAgICAgICAgY2FzZSB0aGlzLiRiZWhhdmlvdXJzW25hbWVdOlxuICAgICAgICAgICAgICB0aGlzLiRiZWhhdmlvdXJzW25hbWVdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kYmVoYXZpb3Vyc1tuYW1lXVthY3Rpb25dID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuYWRkQmVoYXZpb3VycyA9IGZ1bmN0aW9uIChiZWhhdmlvdXJzKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBiZWhhdmlvdXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBhY3Rpb24gaW4gYmVoYXZpb3Vyc1trZXldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoa2V5LCBhY3Rpb24sIGJlaGF2aW91cnNba2V5XVthY3Rpb25dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLiRiZWhhdmlvdXJzICYmIHRoaXMuJGJlaGF2aW91cnNbbmFtZV0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRiZWhhdmlvdXJzW25hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuaW5oZXJpdCA9IGZ1bmN0aW9uIChtb2RlLCBmaWx0ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtb2RlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHZhciBiZWhhdmlvdXJzID0gbmV3IG1vZGUoKS5nZXRCZWhhdmlvdXJzKGZpbHRlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYmVoYXZpb3VycyA9IG1vZGUuZ2V0QmVoYXZpb3VycyhmaWx0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkQmVoYXZpb3VycyhiZWhhdmlvdXJzKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5nZXRCZWhhdmlvdXJzID0gZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICBpZiAoIWZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGJlaGF2aW91cnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmV0ID0ge31cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGJlaGF2aW91cnNbZmlsdGVyW2ldXSkge1xuICAgICAgICAgICAgICAgICAgICByZXRbZmlsdGVyW2ldXSA9IHRoaXMuJGJlaGF2aW91cnNbZmlsdGVyW2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgfVxuXG59KS5jYWxsKEJlaGF2aW91ci5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkJlaGF2aW91ciA9IEJlaGF2aW91cjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3VuaWNvZGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5wYWNrYWdlcyA9IHt9O1xuXG5hZGRVbmljb2RlUGFja2FnZSh7XG4gICAgTDogIFwiMDA0MS0wMDVBMDA2MS0wMDdBMDBBQTAwQjUwMEJBMDBDMC0wMEQ2MDBEOC0wMEY2MDBGOC0wMkMxMDJDNi0wMkQxMDJFMC0wMkU0MDJFQzAyRUUwMzcwLTAzNzQwMzc2MDM3NzAzN0EtMDM3RDAzODYwMzg4LTAzOEEwMzhDMDM4RS0wM0ExMDNBMy0wM0Y1MDNGNy0wNDgxMDQ4QS0wNTI1MDUzMS0wNTU2MDU1OTA1NjEtMDU4NzA1RDAtMDVFQTA1RjAtMDVGMjA2MjEtMDY0QTA2NkUwNjZGMDY3MS0wNkQzMDZENTA2RTUwNkU2MDZFRTA2RUYwNkZBLTA2RkMwNkZGMDcxMDA3MTItMDcyRjA3NEQtMDdBNTA3QjEwN0NBLTA3RUEwN0Y0MDdGNTA3RkEwODAwLTA4MTUwODFBMDgyNDA4MjgwOTA0LTA5MzkwOTNEMDk1MDA5NTgtMDk2MTA5NzEwOTcyMDk3OS0wOTdGMDk4NS0wOThDMDk4RjA5OTAwOTkzLTA5QTgwOUFBLTA5QjAwOUIyMDlCNi0wOUI5MDlCRDA5Q0UwOURDMDlERDA5REYtMDlFMTA5RjAwOUYxMEEwNS0wQTBBMEEwRjBBMTAwQTEzLTBBMjgwQTJBLTBBMzAwQTMyMEEzMzBBMzUwQTM2MEEzODBBMzkwQTU5LTBBNUMwQTVFMEE3Mi0wQTc0MEE4NS0wQThEMEE4Ri0wQTkxMEE5My0wQUE4MEFBQS0wQUIwMEFCMjBBQjMwQUI1LTBBQjkwQUJEMEFEMDBBRTAwQUUxMEIwNS0wQjBDMEIwRjBCMTAwQjEzLTBCMjgwQjJBLTBCMzAwQjMyMEIzMzBCMzUtMEIzOTBCM0QwQjVDMEI1RDBCNUYtMEI2MTBCNzEwQjgzMEI4NS0wQjhBMEI4RS0wQjkwMEI5Mi0wQjk1MEI5OTBCOUEwQjlDMEI5RTBCOUYwQkEzMEJBNDBCQTgtMEJBQTBCQUUtMEJCOTBCRDAwQzA1LTBDMEMwQzBFLTBDMTAwQzEyLTBDMjgwQzJBLTBDMzMwQzM1LTBDMzkwQzNEMEM1ODBDNTkwQzYwMEM2MTBDODUtMEM4QzBDOEUtMEM5MDBDOTItMENBODBDQUEtMENCMzBDQjUtMENCOTBDQkQwQ0RFMENFMDBDRTEwRDA1LTBEMEMwRDBFLTBEMTAwRDEyLTBEMjgwRDJBLTBEMzkwRDNEMEQ2MDBENjEwRDdBLTBEN0YwRDg1LTBEOTYwRDlBLTBEQjEwREIzLTBEQkIwREJEMERDMC0wREM2MEUwMS0wRTMwMEUzMjBFMzMwRTQwLTBFNDYwRTgxMEU4MjBFODQwRTg3MEU4ODBFOEEwRThEMEU5NC0wRTk3MEU5OS0wRTlGMEVBMS0wRUEzMEVBNTBFQTcwRUFBMEVBQjBFQUQtMEVCMDBFQjIwRUIzMEVCRDBFQzAtMEVDNDBFQzYwRURDMEVERDBGMDAwRjQwLTBGNDcwRjQ5LTBGNkMwRjg4LTBGOEIxMDAwLTEwMkExMDNGMTA1MC0xMDU1MTA1QS0xMDVEMTA2MTEwNjUxMDY2MTA2RS0xMDcwMTA3NS0xMDgxMTA4RTEwQTAtMTBDNTEwRDAtMTBGQTEwRkMxMTAwLTEyNDgxMjRBLTEyNEQxMjUwLTEyNTYxMjU4MTI1QS0xMjVEMTI2MC0xMjg4MTI4QS0xMjhEMTI5MC0xMkIwMTJCMi0xMkI1MTJCOC0xMkJFMTJDMDEyQzItMTJDNTEyQzgtMTJENjEyRDgtMTMxMDEzMTItMTMxNTEzMTgtMTM1QTEzODAtMTM4RjEzQTAtMTNGNDE0MDEtMTY2QzE2NkYtMTY3RjE2ODEtMTY5QTE2QTAtMTZFQTE3MDAtMTcwQzE3MEUtMTcxMTE3MjAtMTczMTE3NDAtMTc1MTE3NjAtMTc2QzE3NkUtMTc3MDE3ODAtMTdCMzE3RDcxN0RDMTgyMC0xODc3MTg4MC0xOEE4MThBQTE4QjAtMThGNTE5MDAtMTkxQzE5NTAtMTk2RDE5NzAtMTk3NDE5ODAtMTlBQjE5QzEtMTlDNzFBMDAtMUExNjFBMjAtMUE1NDFBQTcxQjA1LTFCMzMxQjQ1LTFCNEIxQjgzLTFCQTAxQkFFMUJBRjFDMDAtMUMyMzFDNEQtMUM0RjFDNUEtMUM3RDFDRTktMUNFQzFDRUUtMUNGMTFEMDAtMURCRjFFMDAtMUYxNTFGMTgtMUYxRDFGMjAtMUY0NTFGNDgtMUY0RDFGNTAtMUY1NzFGNTkxRjVCMUY1RDFGNUYtMUY3RDFGODAtMUZCNDFGQjYtMUZCQzFGQkUxRkMyLTFGQzQxRkM2LTFGQ0MxRkQwLTFGRDMxRkQ2LTFGREIxRkUwLTFGRUMxRkYyLTFGRjQxRkY2LTFGRkMyMDcxMjA3RjIwOTAtMjA5NDIxMDIyMTA3MjEwQS0yMTEzMjExNTIxMTktMjExRDIxMjQyMTI2MjEyODIxMkEtMjEyRDIxMkYtMjEzOTIxM0MtMjEzRjIxNDUtMjE0OTIxNEUyMTgzMjE4NDJDMDAtMkMyRTJDMzAtMkM1RTJDNjAtMkNFNDJDRUItMkNFRTJEMDAtMkQyNTJEMzAtMkQ2NTJENkYyRDgwLTJEOTYyREEwLTJEQTYyREE4LTJEQUUyREIwLTJEQjYyREI4LTJEQkUyREMwLTJEQzYyREM4LTJEQ0UyREQwLTJERDYyREQ4LTJEREUyRTJGMzAwNTMwMDYzMDMxLTMwMzUzMDNCMzAzQzMwNDEtMzA5NjMwOUQtMzA5RjMwQTEtMzBGQTMwRkMtMzBGRjMxMDUtMzEyRDMxMzEtMzE4RTMxQTAtMzFCNzMxRjAtMzFGRjM0MDAtNERCNTRFMDAtOUZDQkEwMDAtQTQ4Q0E0RDAtQTRGREE1MDAtQTYwQ0E2MTAtQTYxRkE2MkFBNjJCQTY0MC1BNjVGQTY2Mi1BNjZFQTY3Ri1BNjk3QTZBMC1BNkU1QTcxNy1BNzFGQTcyMi1BNzg4QTc4QkE3OENBN0ZCLUE4MDFBODAzLUE4MDVBODA3LUE4MEFBODBDLUE4MjJBODQwLUE4NzNBODgyLUE4QjNBOEYyLUE4RjdBOEZCQTkwQS1BOTI1QTkzMC1BOTQ2QTk2MC1BOTdDQTk4NC1BOUIyQTlDRkFBMDAtQUEyOEFBNDAtQUE0MkFBNDQtQUE0QkFBNjAtQUE3NkFBN0FBQTgwLUFBQUZBQUIxQUFCNUFBQjZBQUI5LUFBQkRBQUMwQUFDMkFBREItQUFEREFCQzAtQUJFMkFDMDAtRDdBM0Q3QjAtRDdDNkQ3Q0ItRDdGQkY5MDAtRkEyREZBMzAtRkE2REZBNzAtRkFEOUZCMDAtRkIwNkZCMTMtRkIxN0ZCMURGQjFGLUZCMjhGQjJBLUZCMzZGQjM4LUZCM0NGQjNFRkI0MEZCNDFGQjQzRkI0NEZCNDYtRkJCMUZCRDMtRkQzREZENTAtRkQ4RkZEOTItRkRDN0ZERjAtRkRGQkZFNzAtRkU3NEZFNzYtRkVGQ0ZGMjEtRkYzQUZGNDEtRkY1QUZGNjYtRkZCRUZGQzItRkZDN0ZGQ0EtRkZDRkZGRDItRkZEN0ZGREEtRkZEQ1wiLFxuICAgIExsOiBcIjAwNjEtMDA3QTAwQUEwMEI1MDBCQTAwREYtMDBGNjAwRjgtMDBGRjAxMDEwMTAzMDEwNTAxMDcwMTA5MDEwQjAxMEQwMTBGMDExMTAxMTMwMTE1MDExNzAxMTkwMTFCMDExRDAxMUYwMTIxMDEyMzAxMjUwMTI3MDEyOTAxMkIwMTJEMDEyRjAxMzEwMTMzMDEzNTAxMzcwMTM4MDEzQTAxM0MwMTNFMDE0MDAxNDIwMTQ0MDE0NjAxNDgwMTQ5MDE0QjAxNEQwMTRGMDE1MTAxNTMwMTU1MDE1NzAxNTkwMTVCMDE1RDAxNUYwMTYxMDE2MzAxNjUwMTY3MDE2OTAxNkIwMTZEMDE2RjAxNzEwMTczMDE3NTAxNzcwMTdBMDE3QzAxN0UtMDE4MDAxODMwMTg1MDE4ODAxOEMwMThEMDE5MjAxOTUwMTk5LTAxOUIwMTlFMDFBMTAxQTMwMUE1MDFBODAxQUEwMUFCMDFBRDAxQjAwMUI0MDFCNjAxQjkwMUJBMDFCRC0wMUJGMDFDNjAxQzkwMUNDMDFDRTAxRDAwMUQyMDFENDAxRDYwMUQ4MDFEQTAxREMwMUREMDFERjAxRTEwMUUzMDFFNTAxRTcwMUU5MDFFQjAxRUQwMUVGMDFGMDAxRjMwMUY1MDFGOTAxRkIwMUZEMDFGRjAyMDEwMjAzMDIwNTAyMDcwMjA5MDIwQjAyMEQwMjBGMDIxMTAyMTMwMjE1MDIxNzAyMTkwMjFCMDIxRDAyMUYwMjIxMDIyMzAyMjUwMjI3MDIyOTAyMkIwMjJEMDIyRjAyMzEwMjMzLTAyMzkwMjNDMDIzRjAyNDAwMjQyMDI0NzAyNDkwMjRCMDI0RDAyNEYtMDI5MzAyOTUtMDJBRjAzNzEwMzczMDM3NzAzN0ItMDM3RDAzOTAwM0FDLTAzQ0UwM0QwMDNEMTAzRDUtMDNENzAzRDkwM0RCMDNERDAzREYwM0UxMDNFMzAzRTUwM0U3MDNFOTAzRUIwM0VEMDNFRi0wM0YzMDNGNTAzRjgwM0ZCMDNGQzA0MzAtMDQ1RjA0NjEwNDYzMDQ2NTA0NjcwNDY5MDQ2QjA0NkQwNDZGMDQ3MTA0NzMwNDc1MDQ3NzA0NzkwNDdCMDQ3RDA0N0YwNDgxMDQ4QjA0OEQwNDhGMDQ5MTA0OTMwNDk1MDQ5NzA0OTkwNDlCMDQ5RDA0OUYwNEExMDRBMzA0QTUwNEE3MDRBOTA0QUIwNEFEMDRBRjA0QjEwNEIzMDRCNTA0QjcwNEI5MDRCQjA0QkQwNEJGMDRDMjA0QzQwNEM2MDRDODA0Q0EwNENDMDRDRTA0Q0YwNEQxMDREMzA0RDUwNEQ3MDREOTA0REIwNEREMDRERjA0RTEwNEUzMDRFNTA0RTcwNEU5MDRFQjA0RUQwNEVGMDRGMTA0RjMwNEY1MDRGNzA0RjkwNEZCMDRGRDA0RkYwNTAxMDUwMzA1MDUwNTA3MDUwOTA1MEIwNTBEMDUwRjA1MTEwNTEzMDUxNTA1MTcwNTE5MDUxQjA1MUQwNTFGMDUyMTA1MjMwNTI1MDU2MS0wNTg3MUQwMC0xRDJCMUQ2Mi0xRDc3MUQ3OS0xRDlBMUUwMTFFMDMxRTA1MUUwNzFFMDkxRTBCMUUwRDFFMEYxRTExMUUxMzFFMTUxRTE3MUUxOTFFMUIxRTFEMUUxRjFFMjExRTIzMUUyNTFFMjcxRTI5MUUyQjFFMkQxRTJGMUUzMTFFMzMxRTM1MUUzNzFFMzkxRTNCMUUzRDFFM0YxRTQxMUU0MzFFNDUxRTQ3MUU0OTFFNEIxRTREMUU0RjFFNTExRTUzMUU1NTFFNTcxRTU5MUU1QjFFNUQxRTVGMUU2MTFFNjMxRTY1MUU2NzFFNjkxRTZCMUU2RDFFNkYxRTcxMUU3MzFFNzUxRTc3MUU3OTFFN0IxRTdEMUU3RjFFODExRTgzMUU4NTFFODcxRTg5MUU4QjFFOEQxRThGMUU5MTFFOTMxRTk1LTFFOUQxRTlGMUVBMTFFQTMxRUE1MUVBNzFFQTkxRUFCMUVBRDFFQUYxRUIxMUVCMzFFQjUxRUI3MUVCOTFFQkIxRUJEMUVCRjFFQzExRUMzMUVDNTFFQzcxRUM5MUVDQjFFQ0QxRUNGMUVEMTFFRDMxRUQ1MUVENzFFRDkxRURCMUVERDFFREYxRUUxMUVFMzFFRTUxRUU3MUVFOTFFRUIxRUVEMUVFRjFFRjExRUYzMUVGNTFFRjcxRUY5MUVGQjFFRkQxRUZGLTFGMDcxRjEwLTFGMTUxRjIwLTFGMjcxRjMwLTFGMzcxRjQwLTFGNDUxRjUwLTFGNTcxRjYwLTFGNjcxRjcwLTFGN0QxRjgwLTFGODcxRjkwLTFGOTcxRkEwLTFGQTcxRkIwLTFGQjQxRkI2MUZCNzFGQkUxRkMyLTFGQzQxRkM2MUZDNzFGRDAtMUZEMzFGRDYxRkQ3MUZFMC0xRkU3MUZGMi0xRkY0MUZGNjFGRjcyMTBBMjEwRTIxMEYyMTEzMjEyRjIxMzQyMTM5MjEzQzIxM0QyMTQ2LTIxNDkyMTRFMjE4NDJDMzAtMkM1RTJDNjEyQzY1MkM2NjJDNjgyQzZBMkM2QzJDNzEyQzczMkM3NDJDNzYtMkM3QzJDODEyQzgzMkM4NTJDODcyQzg5MkM4QjJDOEQyQzhGMkM5MTJDOTMyQzk1MkM5NzJDOTkyQzlCMkM5RDJDOUYyQ0ExMkNBMzJDQTUyQ0E3MkNBOTJDQUIyQ0FEMkNBRjJDQjEyQ0IzMkNCNTJDQjcyQ0I5MkNCQjJDQkQyQ0JGMkNDMTJDQzMyQ0M1MkNDNzJDQzkyQ0NCMkNDRDJDQ0YyQ0QxMkNEMzJDRDUyQ0Q3MkNEOTJDREIyQ0REMkNERjJDRTEyQ0UzMkNFNDJDRUMyQ0VFMkQwMC0yRDI1QTY0MUE2NDNBNjQ1QTY0N0E2NDlBNjRCQTY0REE2NEZBNjUxQTY1M0E2NTVBNjU3QTY1OUE2NUJBNjVEQTY1RkE2NjNBNjY1QTY2N0E2NjlBNjZCQTY2REE2ODFBNjgzQTY4NUE2ODdBNjg5QTY4QkE2OERBNjhGQTY5MUE2OTNBNjk1QTY5N0E3MjNBNzI1QTcyN0E3MjlBNzJCQTcyREE3MkYtQTczMUE3MzNBNzM1QTczN0E3MzlBNzNCQTczREE3M0ZBNzQxQTc0M0E3NDVBNzQ3QTc0OUE3NEJBNzREQTc0RkE3NTFBNzUzQTc1NUE3NTdBNzU5QTc1QkE3NURBNzVGQTc2MUE3NjNBNzY1QTc2N0E3NjlBNzZCQTc2REE3NkZBNzcxLUE3NzhBNzdBQTc3Q0E3N0ZBNzgxQTc4M0E3ODVBNzg3QTc4Q0ZCMDAtRkIwNkZCMTMtRkIxN0ZGNDEtRkY1QVwiLFxuICAgIEx1OiBcIjAwNDEtMDA1QTAwQzAtMDBENjAwRDgtMDBERTAxMDAwMTAyMDEwNDAxMDYwMTA4MDEwQTAxMEMwMTBFMDExMDAxMTIwMTE0MDExNjAxMTgwMTFBMDExQzAxMUUwMTIwMDEyMjAxMjQwMTI2MDEyODAxMkEwMTJDMDEyRTAxMzAwMTMyMDEzNDAxMzYwMTM5MDEzQjAxM0QwMTNGMDE0MTAxNDMwMTQ1MDE0NzAxNEEwMTRDMDE0RTAxNTAwMTUyMDE1NDAxNTYwMTU4MDE1QTAxNUMwMTVFMDE2MDAxNjIwMTY0MDE2NjAxNjgwMTZBMDE2QzAxNkUwMTcwMDE3MjAxNzQwMTc2MDE3ODAxNzkwMTdCMDE3RDAxODEwMTgyMDE4NDAxODYwMTg3MDE4OS0wMThCMDE4RS0wMTkxMDE5MzAxOTQwMTk2LTAxOTgwMTlDMDE5RDAxOUYwMUEwMDFBMjAxQTQwMUE2MDFBNzAxQTkwMUFDMDFBRTAxQUYwMUIxLTAxQjMwMUI1MDFCNzAxQjgwMUJDMDFDNDAxQzcwMUNBMDFDRDAxQ0YwMUQxMDFEMzAxRDUwMUQ3MDFEOTAxREIwMURFMDFFMDAxRTIwMUU0MDFFNjAxRTgwMUVBMDFFQzAxRUUwMUYxMDFGNDAxRjYtMDFGODAxRkEwMUZDMDFGRTAyMDAwMjAyMDIwNDAyMDYwMjA4MDIwQTAyMEMwMjBFMDIxMDAyMTIwMjE0MDIxNjAyMTgwMjFBMDIxQzAyMUUwMjIwMDIyMjAyMjQwMjI2MDIyODAyMkEwMjJDMDIyRTAyMzAwMjMyMDIzQTAyM0IwMjNEMDIzRTAyNDEwMjQzLTAyNDYwMjQ4MDI0QTAyNEMwMjRFMDM3MDAzNzIwMzc2MDM4NjAzODgtMDM4QTAzOEMwMzhFMDM4RjAzOTEtMDNBMTAzQTMtMDNBQjAzQ0YwM0QyLTAzRDQwM0Q4MDNEQTAzREMwM0RFMDNFMDAzRTIwM0U0MDNFNjAzRTgwM0VBMDNFQzAzRUUwM0Y0MDNGNzAzRjkwM0ZBMDNGRC0wNDJGMDQ2MDA0NjIwNDY0MDQ2NjA0NjgwNDZBMDQ2QzA0NkUwNDcwMDQ3MjA0NzQwNDc2MDQ3ODA0N0EwNDdDMDQ3RTA0ODAwNDhBMDQ4QzA0OEUwNDkwMDQ5MjA0OTQwNDk2MDQ5ODA0OUEwNDlDMDQ5RTA0QTAwNEEyMDRBNDA0QTYwNEE4MDRBQTA0QUMwNEFFMDRCMDA0QjIwNEI0MDRCNjA0QjgwNEJBMDRCQzA0QkUwNEMwMDRDMTA0QzMwNEM1MDRDNzA0QzkwNENCMDRDRDA0RDAwNEQyMDRENDA0RDYwNEQ4MDREQTA0REMwNERFMDRFMDA0RTIwNEU0MDRFNjA0RTgwNEVBMDRFQzA0RUUwNEYwMDRGMjA0RjQwNEY2MDRGODA0RkEwNEZDMDRGRTA1MDAwNTAyMDUwNDA1MDYwNTA4MDUwQTA1MEMwNTBFMDUxMDA1MTIwNTE0MDUxNjA1MTgwNTFBMDUxQzA1MUUwNTIwMDUyMjA1MjQwNTMxLTA1NTYxMEEwLTEwQzUxRTAwMUUwMjFFMDQxRTA2MUUwODFFMEExRTBDMUUwRTFFMTAxRTEyMUUxNDFFMTYxRTE4MUUxQTFFMUMxRTFFMUUyMDFFMjIxRTI0MUUyNjFFMjgxRTJBMUUyQzFFMkUxRTMwMUUzMjFFMzQxRTM2MUUzODFFM0ExRTNDMUUzRTFFNDAxRTQyMUU0NDFFNDYxRTQ4MUU0QTFFNEMxRTRFMUU1MDFFNTIxRTU0MUU1NjFFNTgxRTVBMUU1QzFFNUUxRTYwMUU2MjFFNjQxRTY2MUU2ODFFNkExRTZDMUU2RTFFNzAxRTcyMUU3NDFFNzYxRTc4MUU3QTFFN0MxRTdFMUU4MDFFODIxRTg0MUU4NjFFODgxRThBMUU4QzFFOEUxRTkwMUU5MjFFOTQxRTlFMUVBMDFFQTIxRUE0MUVBNjFFQTgxRUFBMUVBQzFFQUUxRUIwMUVCMjFFQjQxRUI2MUVCODFFQkExRUJDMUVCRTFFQzAxRUMyMUVDNDFFQzYxRUM4MUVDQTFFQ0MxRUNFMUVEMDFFRDIxRUQ0MUVENjFFRDgxRURBMUVEQzFFREUxRUUwMUVFMjFFRTQxRUU2MUVFODFFRUExRUVDMUVFRTFFRjAxRUYyMUVGNDFFRjYxRUY4MUVGQTFFRkMxRUZFMUYwOC0xRjBGMUYxOC0xRjFEMUYyOC0xRjJGMUYzOC0xRjNGMUY0OC0xRjREMUY1OTFGNUIxRjVEMUY1RjFGNjgtMUY2RjFGQjgtMUZCQjFGQzgtMUZDQjFGRDgtMUZEQjFGRTgtMUZFQzFGRjgtMUZGQjIxMDIyMTA3MjEwQi0yMTBEMjExMC0yMTEyMjExNTIxMTktMjExRDIxMjQyMTI2MjEyODIxMkEtMjEyRDIxMzAtMjEzMzIxM0UyMTNGMjE0NTIxODMyQzAwLTJDMkUyQzYwMkM2Mi0yQzY0MkM2NzJDNjkyQzZCMkM2RC0yQzcwMkM3MjJDNzUyQzdFLTJDODAyQzgyMkM4NDJDODYyQzg4MkM4QTJDOEMyQzhFMkM5MDJDOTIyQzk0MkM5NjJDOTgyQzlBMkM5QzJDOUUyQ0EwMkNBMjJDQTQyQ0E2MkNBODJDQUEyQ0FDMkNBRTJDQjAyQ0IyMkNCNDJDQjYyQ0I4MkNCQTJDQkMyQ0JFMkNDMDJDQzIyQ0M0MkNDNjJDQzgyQ0NBMkNDQzJDQ0UyQ0QwMkNEMjJDRDQyQ0Q2MkNEODJDREEyQ0RDMkNERTJDRTAyQ0UyMkNFQjJDRURBNjQwQTY0MkE2NDRBNjQ2QTY0OEE2NEFBNjRDQTY0RUE2NTBBNjUyQTY1NEE2NTZBNjU4QTY1QUE2NUNBNjVFQTY2MkE2NjRBNjY2QTY2OEE2NkFBNjZDQTY4MEE2ODJBNjg0QTY4NkE2ODhBNjhBQTY4Q0E2OEVBNjkwQTY5MkE2OTRBNjk2QTcyMkE3MjRBNzI2QTcyOEE3MkFBNzJDQTcyRUE3MzJBNzM0QTczNkE3MzhBNzNBQTczQ0E3M0VBNzQwQTc0MkE3NDRBNzQ2QTc0OEE3NEFBNzRDQTc0RUE3NTBBNzUyQTc1NEE3NTZBNzU4QTc1QUE3NUNBNzVFQTc2MEE3NjJBNzY0QTc2NkE3NjhBNzZBQTc2Q0E3NkVBNzc5QTc3QkE3N0RBNzdFQTc4MEE3ODJBNzg0QTc4NkE3OEJGRjIxLUZGM0FcIixcbiAgICBMdDogXCIwMUM1MDFDODAxQ0IwMUYyMUY4OC0xRjhGMUY5OC0xRjlGMUZBOC0xRkFGMUZCQzFGQ0MxRkZDXCIsXG4gICAgTG06IFwiMDJCMC0wMkMxMDJDNi0wMkQxMDJFMC0wMkU0MDJFQzAyRUUwMzc0MDM3QTA1NTkwNjQwMDZFNTA2RTYwN0Y0MDdGNTA3RkEwODFBMDgyNDA4MjgwOTcxMEU0NjBFQzYxMEZDMTdENzE4NDMxQUE3MUM3OC0xQzdEMUQyQy0xRDYxMUQ3ODFEOUItMURCRjIwNzEyMDdGMjA5MC0yMDk0MkM3RDJENkYyRTJGMzAwNTMwMzEtMzAzNTMwM0IzMDlEMzA5RTMwRkMtMzBGRUEwMTVBNEY4LUE0RkRBNjBDQTY3RkE3MTctQTcxRkE3NzBBNzg4QTlDRkFBNzBBQURERkY3MEZGOUVGRjlGXCIsXG4gICAgTG86IFwiMDFCQjAxQzAtMDFDMzAyOTQwNUQwLTA1RUEwNUYwLTA1RjIwNjIxLTA2M0YwNjQxLTA2NEEwNjZFMDY2RjA2NzEtMDZEMzA2RDUwNkVFMDZFRjA2RkEtMDZGQzA2RkYwNzEwMDcxMi0wNzJGMDc0RC0wN0E1MDdCMTA3Q0EtMDdFQTA4MDAtMDgxNTA5MDQtMDkzOTA5M0QwOTUwMDk1OC0wOTYxMDk3MjA5NzktMDk3RjA5ODUtMDk4QzA5OEYwOTkwMDk5My0wOUE4MDlBQS0wOUIwMDlCMjA5QjYtMDlCOTA5QkQwOUNFMDlEQzA5REQwOURGLTA5RTEwOUYwMDlGMTBBMDUtMEEwQTBBMEYwQTEwMEExMy0wQTI4MEEyQS0wQTMwMEEzMjBBMzMwQTM1MEEzNjBBMzgwQTM5MEE1OS0wQTVDMEE1RTBBNzItMEE3NDBBODUtMEE4RDBBOEYtMEE5MTBBOTMtMEFBODBBQUEtMEFCMDBBQjIwQUIzMEFCNS0wQUI5MEFCRDBBRDAwQUUwMEFFMTBCMDUtMEIwQzBCMEYwQjEwMEIxMy0wQjI4MEIyQS0wQjMwMEIzMjBCMzMwQjM1LTBCMzkwQjNEMEI1QzBCNUQwQjVGLTBCNjEwQjcxMEI4MzBCODUtMEI4QTBCOEUtMEI5MDBCOTItMEI5NTBCOTkwQjlBMEI5QzBCOUUwQjlGMEJBMzBCQTQwQkE4LTBCQUEwQkFFLTBCQjkwQkQwMEMwNS0wQzBDMEMwRS0wQzEwMEMxMi0wQzI4MEMyQS0wQzMzMEMzNS0wQzM5MEMzRDBDNTgwQzU5MEM2MDBDNjEwQzg1LTBDOEMwQzhFLTBDOTAwQzkyLTBDQTgwQ0FBLTBDQjMwQ0I1LTBDQjkwQ0JEMENERTBDRTAwQ0UxMEQwNS0wRDBDMEQwRS0wRDEwMEQxMi0wRDI4MEQyQS0wRDM5MEQzRDBENjAwRDYxMEQ3QS0wRDdGMEQ4NS0wRDk2MEQ5QS0wREIxMERCMy0wREJCMERCRDBEQzAtMERDNjBFMDEtMEUzMDBFMzIwRTMzMEU0MC0wRTQ1MEU4MTBFODIwRTg0MEU4NzBFODgwRThBMEU4RDBFOTQtMEU5NzBFOTktMEU5RjBFQTEtMEVBMzBFQTUwRUE3MEVBQTBFQUIwRUFELTBFQjAwRUIyMEVCMzBFQkQwRUMwLTBFQzQwRURDMEVERDBGMDAwRjQwLTBGNDcwRjQ5LTBGNkMwRjg4LTBGOEIxMDAwLTEwMkExMDNGMTA1MC0xMDU1MTA1QS0xMDVEMTA2MTEwNjUxMDY2MTA2RS0xMDcwMTA3NS0xMDgxMTA4RTEwRDAtMTBGQTExMDAtMTI0ODEyNEEtMTI0RDEyNTAtMTI1NjEyNTgxMjVBLTEyNUQxMjYwLTEyODgxMjhBLTEyOEQxMjkwLTEyQjAxMkIyLTEyQjUxMkI4LTEyQkUxMkMwMTJDMi0xMkM1MTJDOC0xMkQ2MTJEOC0xMzEwMTMxMi0xMzE1MTMxOC0xMzVBMTM4MC0xMzhGMTNBMC0xM0Y0MTQwMS0xNjZDMTY2Ri0xNjdGMTY4MS0xNjlBMTZBMC0xNkVBMTcwMC0xNzBDMTcwRS0xNzExMTcyMC0xNzMxMTc0MC0xNzUxMTc2MC0xNzZDMTc2RS0xNzcwMTc4MC0xN0IzMTdEQzE4MjAtMTg0MjE4NDQtMTg3NzE4ODAtMThBODE4QUExOEIwLTE4RjUxOTAwLTE5MUMxOTUwLTE5NkQxOTcwLTE5NzQxOTgwLTE5QUIxOUMxLTE5QzcxQTAwLTFBMTYxQTIwLTFBNTQxQjA1LTFCMzMxQjQ1LTFCNEIxQjgzLTFCQTAxQkFFMUJBRjFDMDAtMUMyMzFDNEQtMUM0RjFDNUEtMUM3NzFDRTktMUNFQzFDRUUtMUNGMTIxMzUtMjEzODJEMzAtMkQ2NTJEODAtMkQ5NjJEQTAtMkRBNjJEQTgtMkRBRTJEQjAtMkRCNjJEQjgtMkRCRTJEQzAtMkRDNjJEQzgtMkRDRTJERDAtMkRENjJERDgtMkRERTMwMDYzMDNDMzA0MS0zMDk2MzA5RjMwQTEtMzBGQTMwRkYzMTA1LTMxMkQzMTMxLTMxOEUzMUEwLTMxQjczMUYwLTMxRkYzNDAwLTREQjU0RTAwLTlGQ0JBMDAwLUEwMTRBMDE2LUE0OENBNEQwLUE0RjdBNTAwLUE2MEJBNjEwLUE2MUZBNjJBQTYyQkE2NkVBNkEwLUE2RTVBN0ZCLUE4MDFBODAzLUE4MDVBODA3LUE4MEFBODBDLUE4MjJBODQwLUE4NzNBODgyLUE4QjNBOEYyLUE4RjdBOEZCQTkwQS1BOTI1QTkzMC1BOTQ2QTk2MC1BOTdDQTk4NC1BOUIyQUEwMC1BQTI4QUE0MC1BQTQyQUE0NC1BQTRCQUE2MC1BQTZGQUE3MS1BQTc2QUE3QUFBODAtQUFBRkFBQjFBQUI1QUFCNkFBQjktQUFCREFBQzBBQUMyQUFEQkFBRENBQkMwLUFCRTJBQzAwLUQ3QTNEN0IwLUQ3QzZEN0NCLUQ3RkJGOTAwLUZBMkRGQTMwLUZBNkRGQTcwLUZBRDlGQjFERkIxRi1GQjI4RkIyQS1GQjM2RkIzOC1GQjNDRkIzRUZCNDBGQjQxRkI0M0ZCNDRGQjQ2LUZCQjFGQkQzLUZEM0RGRDUwLUZEOEZGRDkyLUZEQzdGREYwLUZERkJGRTcwLUZFNzRGRTc2LUZFRkNGRjY2LUZGNkZGRjcxLUZGOURGRkEwLUZGQkVGRkMyLUZGQzdGRkNBLUZGQ0ZGRkQyLUZGRDdGRkRBLUZGRENcIixcbiAgICBNOiAgXCIwMzAwLTAzNkYwNDgzLTA0ODkwNTkxLTA1QkQwNUJGMDVDMTA1QzIwNUM0MDVDNTA1QzcwNjEwLTA2MUEwNjRCLTA2NUUwNjcwMDZENi0wNkRDMDZERS0wNkU0MDZFNzA2RTgwNkVBLTA2RUQwNzExMDczMC0wNzRBMDdBNi0wN0IwMDdFQi0wN0YzMDgxNi0wODE5MDgxQi0wODIzMDgyNS0wODI3MDgyOS0wODJEMDkwMC0wOTAzMDkzQzA5M0UtMDk0RTA5NTEtMDk1NTA5NjIwOTYzMDk4MS0wOTgzMDlCQzA5QkUtMDlDNDA5QzcwOUM4MDlDQi0wOUNEMDlENzA5RTIwOUUzMEEwMS0wQTAzMEEzQzBBM0UtMEE0MjBBNDcwQTQ4MEE0Qi0wQTREMEE1MTBBNzAwQTcxMEE3NTBBODEtMEE4MzBBQkMwQUJFLTBBQzUwQUM3LTBBQzkwQUNCLTBBQ0QwQUUyMEFFMzBCMDEtMEIwMzBCM0MwQjNFLTBCNDQwQjQ3MEI0ODBCNEItMEI0RDBCNTYwQjU3MEI2MjBCNjMwQjgyMEJCRS0wQkMyMEJDNi0wQkM4MEJDQS0wQkNEMEJENzBDMDEtMEMwMzBDM0UtMEM0NDBDNDYtMEM0ODBDNEEtMEM0RDBDNTUwQzU2MEM2MjBDNjMwQzgyMEM4MzBDQkMwQ0JFLTBDQzQwQ0M2LTBDQzgwQ0NBLTBDQ0QwQ0Q1MENENjBDRTIwQ0UzMEQwMjBEMDMwRDNFLTBENDQwRDQ2LTBENDgwRDRBLTBENEQwRDU3MEQ2MjBENjMwRDgyMEQ4MzBEQ0EwRENGLTBERDQwREQ2MEREOC0wRERGMERGMjBERjMwRTMxMEUzNC0wRTNBMEU0Ny0wRTRFMEVCMTBFQjQtMEVCOTBFQkIwRUJDMEVDOC0wRUNEMEYxODBGMTkwRjM1MEYzNzBGMzkwRjNFMEYzRjBGNzEtMEY4NDBGODYwRjg3MEY5MC0wRjk3MEY5OS0wRkJDMEZDNjEwMkItMTAzRTEwNTYtMTA1OTEwNUUtMTA2MDEwNjItMTA2NDEwNjctMTA2RDEwNzEtMTA3NDEwODItMTA4RDEwOEYxMDlBLTEwOUQxMzVGMTcxMi0xNzE0MTczMi0xNzM0MTc1MjE3NTMxNzcyMTc3MzE3QjYtMTdEMzE3REQxODBCLTE4MEQxOEE5MTkyMC0xOTJCMTkzMC0xOTNCMTlCMC0xOUMwMTlDODE5QzkxQTE3LTFBMUIxQTU1LTFBNUUxQTYwLTFBN0MxQTdGMUIwMC0xQjA0MUIzNC0xQjQ0MUI2Qi0xQjczMUI4MC0xQjgyMUJBMS0xQkFBMUMyNC0xQzM3MUNEMC0xQ0QyMUNENC0xQ0U4MUNFRDFDRjIxREMwLTFERTYxREZELTFERkYyMEQwLTIwRjAyQ0VGLTJDRjEyREUwLTJERkYzMDJBLTMwMkYzMDk5MzA5QUE2NkYtQTY3MkE2N0NBNjdEQTZGMEE2RjFBODAyQTgwNkE4MEJBODIzLUE4MjdBODgwQTg4MUE4QjQtQThDNEE4RTAtQThGMUE5MjYtQTkyREE5NDctQTk1M0E5ODAtQTk4M0E5QjMtQTlDMEFBMjktQUEzNkFBNDNBQTRDQUE0REFBN0JBQUIwQUFCMi1BQUI0QUFCN0FBQjhBQUJFQUFCRkFBQzFBQkUzLUFCRUFBQkVDQUJFREZCMUVGRTAwLUZFMEZGRTIwLUZFMjZcIixcbiAgICBNbjogXCIwMzAwLTAzNkYwNDgzLTA0ODcwNTkxLTA1QkQwNUJGMDVDMTA1QzIwNUM0MDVDNTA1QzcwNjEwLTA2MUEwNjRCLTA2NUUwNjcwMDZENi0wNkRDMDZERi0wNkU0MDZFNzA2RTgwNkVBLTA2RUQwNzExMDczMC0wNzRBMDdBNi0wN0IwMDdFQi0wN0YzMDgxNi0wODE5MDgxQi0wODIzMDgyNS0wODI3MDgyOS0wODJEMDkwMC0wOTAyMDkzQzA5NDEtMDk0ODA5NEQwOTUxLTA5NTUwOTYyMDk2MzA5ODEwOUJDMDlDMS0wOUM0MDlDRDA5RTIwOUUzMEEwMTBBMDIwQTNDMEE0MTBBNDIwQTQ3MEE0ODBBNEItMEE0RDBBNTEwQTcwMEE3MTBBNzUwQTgxMEE4MjBBQkMwQUMxLTBBQzUwQUM3MEFDODBBQ0QwQUUyMEFFMzBCMDEwQjNDMEIzRjBCNDEtMEI0NDBCNEQwQjU2MEI2MjBCNjMwQjgyMEJDMDBCQ0QwQzNFLTBDNDAwQzQ2LTBDNDgwQzRBLTBDNEQwQzU1MEM1NjBDNjIwQzYzMENCQzBDQkYwQ0M2MENDQzBDQ0QwQ0UyMENFMzBENDEtMEQ0NDBENEQwRDYyMEQ2MzBEQ0EwREQyLTBERDQwREQ2MEUzMTBFMzQtMEUzQTBFNDctMEU0RTBFQjEwRUI0LTBFQjkwRUJCMEVCQzBFQzgtMEVDRDBGMTgwRjE5MEYzNTBGMzcwRjM5MEY3MS0wRjdFMEY4MC0wRjg0MEY4NjBGODcwRjkwLTBGOTcwRjk5LTBGQkMwRkM2MTAyRC0xMDMwMTAzMi0xMDM3MTAzOTEwM0ExMDNEMTAzRTEwNTgxMDU5MTA1RS0xMDYwMTA3MS0xMDc0MTA4MjEwODUxMDg2MTA4RDEwOUQxMzVGMTcxMi0xNzE0MTczMi0xNzM0MTc1MjE3NTMxNzcyMTc3MzE3QjctMTdCRDE3QzYxN0M5LTE3RDMxN0REMTgwQi0xODBEMThBOTE5MjAtMTkyMjE5MjcxOTI4MTkzMjE5MzktMTkzQjFBMTcxQTE4MUE1NjFBNTgtMUE1RTFBNjAxQTYyMUE2NS0xQTZDMUE3My0xQTdDMUE3RjFCMDAtMUIwMzFCMzQxQjM2LTFCM0ExQjNDMUI0MjFCNkItMUI3MzFCODAxQjgxMUJBMi0xQkE1MUJBODFCQTkxQzJDLTFDMzMxQzM2MUMzNzFDRDAtMUNEMjFDRDQtMUNFMDFDRTItMUNFODFDRUQxREMwLTFERTYxREZELTFERkYyMEQwLTIwREMyMEUxMjBFNS0yMEYwMkNFRi0yQ0YxMkRFMC0yREZGMzAyQS0zMDJGMzA5OTMwOUFBNjZGQTY3Q0E2N0RBNkYwQTZGMUE4MDJBODA2QTgwQkE4MjVBODI2QThDNEE4RTAtQThGMUE5MjYtQTkyREE5NDctQTk1MUE5ODAtQTk4MkE5QjNBOUI2LUE5QjlBOUJDQUEyOS1BQTJFQUEzMUFBMzJBQTM1QUEzNkFBNDNBQTRDQUFCMEFBQjItQUFCNEFBQjdBQUI4QUFCRUFBQkZBQUMxQUJFNUFCRThBQkVERkIxRUZFMDAtRkUwRkZFMjAtRkUyNlwiLFxuICAgIE1jOiBcIjA5MDMwOTNFLTA5NDAwOTQ5LTA5NEMwOTRFMDk4MjA5ODMwOUJFLTA5QzAwOUM3MDlDODA5Q0IwOUNDMDlENzBBMDMwQTNFLTBBNDAwQTgzMEFCRS0wQUMwMEFDOTBBQ0IwQUNDMEIwMjBCMDMwQjNFMEI0MDBCNDcwQjQ4MEI0QjBCNEMwQjU3MEJCRTBCQkYwQkMxMEJDMjBCQzYtMEJDODBCQ0EtMEJDQzBCRDcwQzAxLTBDMDMwQzQxLTBDNDQwQzgyMEM4MzBDQkUwQ0MwLTBDQzQwQ0M3MENDODBDQ0EwQ0NCMENENTBDRDYwRDAyMEQwMzBEM0UtMEQ0MDBENDYtMEQ0ODBENEEtMEQ0QzBENTcwRDgyMEQ4MzBEQ0YtMEREMTBERDgtMERERjBERjIwREYzMEYzRTBGM0YwRjdGMTAyQjEwMkMxMDMxMTAzODEwM0IxMDNDMTA1NjEwNTcxMDYyLTEwNjQxMDY3LTEwNkQxMDgzMTA4NDEwODctMTA4QzEwOEYxMDlBLTEwOUMxN0I2MTdCRS0xN0M1MTdDNzE3QzgxOTIzLTE5MjYxOTI5LTE5MkIxOTMwMTkzMTE5MzMtMTkzODE5QjAtMTlDMDE5QzgxOUM5MUExOS0xQTFCMUE1NTFBNTcxQTYxMUE2MzFBNjQxQTZELTFBNzIxQjA0MUIzNTFCM0IxQjNELTFCNDExQjQzMUI0NDFCODIxQkExMUJBNjFCQTcxQkFBMUMyNC0xQzJCMUMzNDFDMzUxQ0UxMUNGMkE4MjNBODI0QTgyN0E4ODBBODgxQThCNC1BOEMzQTk1MkE5NTNBOTgzQTlCNEE5QjVBOUJBQTlCQkE5QkQtQTlDMEFBMkZBQTMwQUEzM0FBMzRBQTREQUE3QkFCRTNBQkU0QUJFNkFCRTdBQkU5QUJFQUFCRUNcIixcbiAgICBNZTogXCIwNDg4MDQ4OTA2REUyMERELTIwRTAyMEUyLTIwRTRBNjcwLUE2NzJcIixcbiAgICBOOiAgXCIwMDMwLTAwMzkwMEIyMDBCMzAwQjkwMEJDLTAwQkUwNjYwLTA2NjkwNkYwLTA2RjkwN0MwLTA3QzkwOTY2LTA5NkYwOUU2LTA5RUYwOUY0LTA5RjkwQTY2LTBBNkYwQUU2LTBBRUYwQjY2LTBCNkYwQkU2LTBCRjIwQzY2LTBDNkYwQzc4LTBDN0UwQ0U2LTBDRUYwRDY2LTBENzUwRTUwLTBFNTkwRUQwLTBFRDkwRjIwLTBGMzMxMDQwLTEwNDkxMDkwLTEwOTkxMzY5LTEzN0MxNkVFLTE2RjAxN0UwLTE3RTkxN0YwLTE3RjkxODEwLTE4MTkxOTQ2LTE5NEYxOUQwLTE5REExQTgwLTFBODkxQTkwLTFBOTkxQjUwLTFCNTkxQkIwLTFCQjkxQzQwLTFDNDkxQzUwLTFDNTkyMDcwMjA3NC0yMDc5MjA4MC0yMDg5MjE1MC0yMTgyMjE4NS0yMTg5MjQ2MC0yNDlCMjRFQS0yNEZGMjc3Ni0yNzkzMkNGRDMwMDczMDIxLTMwMjkzMDM4LTMwM0EzMTkyLTMxOTUzMjIwLTMyMjkzMjUxLTMyNUYzMjgwLTMyODkzMkIxLTMyQkZBNjIwLUE2MjlBNkU2LUE2RUZBODMwLUE4MzVBOEQwLUE4RDlBOTAwLUE5MDlBOUQwLUE5RDlBQTUwLUFBNTlBQkYwLUFCRjlGRjEwLUZGMTlcIixcbiAgICBOZDogXCIwMDMwLTAwMzkwNjYwLTA2NjkwNkYwLTA2RjkwN0MwLTA3QzkwOTY2LTA5NkYwOUU2LTA5RUYwQTY2LTBBNkYwQUU2LTBBRUYwQjY2LTBCNkYwQkU2LTBCRUYwQzY2LTBDNkYwQ0U2LTBDRUYwRDY2LTBENkYwRTUwLTBFNTkwRUQwLTBFRDkwRjIwLTBGMjkxMDQwLTEwNDkxMDkwLTEwOTkxN0UwLTE3RTkxODEwLTE4MTkxOTQ2LTE5NEYxOUQwLTE5REExQTgwLTFBODkxQTkwLTFBOTkxQjUwLTFCNTkxQkIwLTFCQjkxQzQwLTFDNDkxQzUwLTFDNTlBNjIwLUE2MjlBOEQwLUE4RDlBOTAwLUE5MDlBOUQwLUE5RDlBQTUwLUFBNTlBQkYwLUFCRjlGRjEwLUZGMTlcIixcbiAgICBObDogXCIxNkVFLTE2RjAyMTYwLTIxODIyMTg1LTIxODgzMDA3MzAyMS0zMDI5MzAzOC0zMDNBQTZFNi1BNkVGXCIsXG4gICAgTm86IFwiMDBCMjAwQjMwMEI5MDBCQy0wMEJFMDlGNC0wOUY5MEJGMC0wQkYyMEM3OC0wQzdFMEQ3MC0wRDc1MEYyQS0wRjMzMTM2OS0xMzdDMTdGMC0xN0Y5MjA3MDIwNzQtMjA3OTIwODAtMjA4OTIxNTAtMjE1RjIxODkyNDYwLTI0OUIyNEVBLTI0RkYyNzc2LTI3OTMyQ0ZEMzE5Mi0zMTk1MzIyMC0zMjI5MzI1MS0zMjVGMzI4MC0zMjg5MzJCMS0zMkJGQTgzMC1BODM1XCIsXG4gICAgUDogIFwiMDAyMS0wMDIzMDAyNS0wMDJBMDAyQy0wMDJGMDAzQTAwM0IwMDNGMDA0MDAwNUItMDA1RDAwNUYwMDdCMDA3RDAwQTEwMEFCMDBCNzAwQkIwMEJGMDM3RTAzODcwNTVBLTA1NUYwNTg5MDU4QTA1QkUwNUMwMDVDMzA1QzYwNUYzMDVGNDA2MDkwNjBBMDYwQzA2MEQwNjFCMDYxRTA2MUYwNjZBLTA2NkQwNkQ0MDcwMC0wNzBEMDdGNy0wN0Y5MDgzMC0wODNFMDk2NDA5NjUwOTcwMERGNDBFNEYwRTVBMEU1QjBGMDQtMEYxMjBGM0EtMEYzRDBGODUwRkQwLTBGRDQxMDRBLTEwNEYxMEZCMTM2MS0xMzY4MTQwMDE2NkQxNjZFMTY5QjE2OUMxNkVCLTE2RUQxNzM1MTczNjE3RDQtMTdENjE3RDgtMTdEQTE4MDAtMTgwQTE5NDQxOTQ1MTlERTE5REYxQTFFMUExRjFBQTAtMUFBNjFBQTgtMUFBRDFCNUEtMUI2MDFDM0ItMUMzRjFDN0UxQzdGMUNEMzIwMTAtMjAyNzIwMzAtMjA0MzIwNDUtMjA1MTIwNTMtMjA1RTIwN0QyMDdFMjA4RDIwOEUyMzI5MjMyQTI3NjgtMjc3NTI3QzUyN0M2MjdFNi0yN0VGMjk4My0yOTk4MjlEOC0yOURCMjlGQzI5RkQyQ0Y5LTJDRkMyQ0ZFMkNGRjJFMDAtMkUyRTJFMzAyRTMxMzAwMS0zMDAzMzAwOC0zMDExMzAxNC0zMDFGMzAzMDMwM0QzMEEwMzBGQkE0RkVBNEZGQTYwRC1BNjBGQTY3M0E2N0VBNkYyLUE2RjdBODc0LUE4NzdBOENFQThDRkE4RjgtQThGQUE5MkVBOTJGQTk1RkE5QzEtQTlDREE5REVBOURGQUE1Qy1BQTVGQUFERUFBREZBQkVCRkQzRUZEM0ZGRTEwLUZFMTlGRTMwLUZFNTJGRTU0LUZFNjFGRTYzRkU2OEZFNkFGRTZCRkYwMS1GRjAzRkYwNS1GRjBBRkYwQy1GRjBGRkYxQUZGMUJGRjFGRkYyMEZGM0ItRkYzREZGM0ZGRjVCRkY1REZGNUYtRkY2NVwiLFxuICAgIFBkOiBcIjAwMkQwNThBMDVCRTE0MDAxODA2MjAxMC0yMDE1MkUxNzJFMUEzMDFDMzAzMDMwQTBGRTMxRkUzMkZFNThGRTYzRkYwRFwiLFxuICAgIFBzOiBcIjAwMjgwMDVCMDA3QjBGM0EwRjNDMTY5QjIwMUEyMDFFMjA0NTIwN0QyMDhEMjMyOTI3NjgyNzZBMjc2QzI3NkUyNzcwMjc3MjI3NzQyN0M1MjdFNjI3RTgyN0VBMjdFQzI3RUUyOTgzMjk4NTI5ODcyOTg5Mjk4QjI5OEQyOThGMjk5MTI5OTMyOTk1Mjk5NzI5RDgyOURBMjlGQzJFMjIyRTI0MkUyNjJFMjgzMDA4MzAwQTMwMEMzMDBFMzAxMDMwMTQzMDE2MzAxODMwMUEzMDFERkQzRUZFMTdGRTM1RkUzN0ZFMzlGRTNCRkUzREZFM0ZGRTQxRkU0M0ZFNDdGRTU5RkU1QkZFNURGRjA4RkYzQkZGNUJGRjVGRkY2MlwiLFxuICAgIFBlOiBcIjAwMjkwMDVEMDA3RDBGM0IwRjNEMTY5QzIwNDYyMDdFMjA4RTIzMkEyNzY5Mjc2QjI3NkQyNzZGMjc3MTI3NzMyNzc1MjdDNjI3RTcyN0U5MjdFQjI3RUQyN0VGMjk4NDI5ODYyOTg4Mjk4QTI5OEMyOThFMjk5MDI5OTIyOTk0Mjk5NjI5OTgyOUQ5MjlEQjI5RkQyRTIzMkUyNTJFMjcyRTI5MzAwOTMwMEIzMDBEMzAwRjMwMTEzMDE1MzAxNzMwMTkzMDFCMzAxRTMwMUZGRDNGRkUxOEZFMzZGRTM4RkUzQUZFM0NGRTNFRkU0MEZFNDJGRTQ0RkU0OEZFNUFGRTVDRkU1RUZGMDlGRjNERkY1REZGNjBGRjYzXCIsXG4gICAgUGk6IFwiMDBBQjIwMTgyMDFCMjAxQzIwMUYyMDM5MkUwMjJFMDQyRTA5MkUwQzJFMUMyRTIwXCIsXG4gICAgUGY6IFwiMDBCQjIwMTkyMDFEMjAzQTJFMDMyRTA1MkUwQTJFMEQyRTFEMkUyMVwiLFxuICAgIFBjOiBcIjAwNUYyMDNGMjA0MDIwNTRGRTMzRkUzNEZFNEQtRkU0RkZGM0ZcIixcbiAgICBQbzogXCIwMDIxLTAwMjMwMDI1LTAwMjcwMDJBMDAyQzAwMkUwMDJGMDAzQTAwM0IwMDNGMDA0MDAwNUMwMEExMDBCNzAwQkYwMzdFMDM4NzA1NUEtMDU1RjA1ODkwNUMwMDVDMzA1QzYwNUYzMDVGNDA2MDkwNjBBMDYwQzA2MEQwNjFCMDYxRTA2MUYwNjZBLTA2NkQwNkQ0MDcwMC0wNzBEMDdGNy0wN0Y5MDgzMC0wODNFMDk2NDA5NjUwOTcwMERGNDBFNEYwRTVBMEU1QjBGMDQtMEYxMjBGODUwRkQwLTBGRDQxMDRBLTEwNEYxMEZCMTM2MS0xMzY4MTY2RDE2NkUxNkVCLTE2RUQxNzM1MTczNjE3RDQtMTdENjE3RDgtMTdEQTE4MDAtMTgwNTE4MDctMTgwQTE5NDQxOTQ1MTlERTE5REYxQTFFMUExRjFBQTAtMUFBNjFBQTgtMUFBRDFCNUEtMUI2MDFDM0ItMUMzRjFDN0UxQzdGMUNEMzIwMTYyMDE3MjAyMC0yMDI3MjAzMC0yMDM4MjAzQi0yMDNFMjA0MS0yMDQzMjA0Ny0yMDUxMjA1MzIwNTUtMjA1RTJDRjktMkNGQzJDRkUyQ0ZGMkUwMDJFMDEyRTA2LTJFMDgyRTBCMkUwRS0yRTE2MkUxODJFMTkyRTFCMkUxRTJFMUYyRTJBLTJFMkUyRTMwMkUzMTMwMDEtMzAwMzMwM0QzMEZCQTRGRUE0RkZBNjBELUE2MEZBNjczQTY3RUE2RjItQTZGN0E4NzQtQTg3N0E4Q0VBOENGQThGOC1BOEZBQTkyRUE5MkZBOTVGQTlDMS1BOUNEQTlERUE5REZBQTVDLUFBNUZBQURFQUFERkFCRUJGRTEwLUZFMTZGRTE5RkUzMEZFNDVGRTQ2RkU0OS1GRTRDRkU1MC1GRTUyRkU1NC1GRTU3RkU1Ri1GRTYxRkU2OEZFNkFGRTZCRkYwMS1GRjAzRkYwNS1GRjA3RkYwQUZGMENGRjBFRkYwRkZGMUFGRjFCRkYxRkZGMjBGRjNDRkY2MUZGNjRGRjY1XCIsXG4gICAgUzogIFwiMDAyNDAwMkIwMDNDLTAwM0UwMDVFMDA2MDAwN0MwMDdFMDBBMi0wMEE5MDBBQzAwQUUtMDBCMTAwQjQwMEI2MDBCODAwRDcwMEY3MDJDMi0wMkM1MDJEMi0wMkRGMDJFNS0wMkVCMDJFRDAyRUYtMDJGRjAzNzUwMzg0MDM4NTAzRjYwNDgyMDYwNi0wNjA4MDYwQjA2MEUwNjBGMDZFOTA2RkQwNkZFMDdGNjA5RjIwOUYzMDlGQTA5RkIwQUYxMEI3MDBCRjMtMEJGQTBDN0YwQ0YxMENGMjBENzkwRTNGMEYwMS0wRjAzMEYxMy0wRjE3MEYxQS0wRjFGMEYzNDBGMzYwRjM4MEZCRS0wRkM1MEZDNy0wRkNDMEZDRTBGQ0YwRkQ1LTBGRDgxMDlFMTA5RjEzNjAxMzkwLTEzOTkxN0RCMTk0MDE5RTAtMTlGRjFCNjEtMUI2QTFCNzQtMUI3QzFGQkQxRkJGLTFGQzExRkNELTFGQ0YxRkRELTFGREYxRkVELTFGRUYxRkZEMUZGRTIwNDQyMDUyMjA3QS0yMDdDMjA4QS0yMDhDMjBBMC0yMEI4MjEwMDIxMDEyMTAzLTIxMDYyMTA4MjEwOTIxMTQyMTE2LTIxMTgyMTFFLTIxMjMyMTI1MjEyNzIxMjkyMTJFMjEzQTIxM0IyMTQwLTIxNDQyMTRBLTIxNEQyMTRGMjE5MC0yMzI4MjMyQi0yM0U4MjQwMC0yNDI2MjQ0MC0yNDRBMjQ5Qy0yNEU5MjUwMC0yNkNEMjZDRi0yNkUxMjZFMzI2RTgtMjZGRjI3MDEtMjcwNDI3MDYtMjcwOTI3MEMtMjcyNzI3MjktMjc0QjI3NEQyNzRGLTI3NTIyNzU2LTI3NUUyNzYxLTI3NjcyNzk0Mjc5OC0yN0FGMjdCMS0yN0JFMjdDMC0yN0M0MjdDNy0yN0NBMjdDQzI3RDAtMjdFNTI3RjAtMjk4MjI5OTktMjlENzI5REMtMjlGQjI5RkUtMkI0QzJCNTAtMkI1OTJDRTUtMkNFQTJFODAtMkU5OTJFOUItMkVGMzJGMDAtMkZENTJGRjAtMkZGQjMwMDQzMDEyMzAxMzMwMjAzMDM2MzAzNzMwM0UzMDNGMzA5QjMwOUMzMTkwMzE5MTMxOTYtMzE5RjMxQzAtMzFFMzMyMDAtMzIxRTMyMkEtMzI1MDMyNjAtMzI3RjMyOEEtMzJCMDMyQzAtMzJGRTMzMDAtMzNGRjREQzAtNERGRkE0OTAtQTRDNkE3MDAtQTcxNkE3MjBBNzIxQTc4OUE3OEFBODI4LUE4MkJBODM2LUE4MzlBQTc3LUFBNzlGQjI5RkRGQ0ZERkRGRTYyRkU2NC1GRTY2RkU2OUZGMDRGRjBCRkYxQy1GRjFFRkYzRUZGNDBGRjVDRkY1RUZGRTAtRkZFNkZGRTgtRkZFRUZGRkNGRkZEXCIsXG4gICAgU206IFwiMDAyQjAwM0MtMDAzRTAwN0MwMDdFMDBBQzAwQjEwMEQ3MDBGNzAzRjYwNjA2LTA2MDgyMDQ0MjA1MjIwN0EtMjA3QzIwOEEtMjA4QzIxNDAtMjE0NDIxNEIyMTkwLTIxOTQyMTlBMjE5QjIxQTAyMUEzMjFBNjIxQUUyMUNFMjFDRjIxRDIyMUQ0MjFGNC0yMkZGMjMwOC0yMzBCMjMyMDIzMjEyMzdDMjM5Qi0yM0IzMjNEQy0yM0UxMjVCNzI1QzEyNUY4LTI1RkYyNjZGMjdDMC0yN0M0MjdDNy0yN0NBMjdDQzI3RDAtMjdFNTI3RjAtMjdGRjI5MDAtMjk4MjI5OTktMjlENzI5REMtMjlGQjI5RkUtMkFGRjJCMzAtMkI0NDJCNDctMkI0Q0ZCMjlGRTYyRkU2NC1GRTY2RkYwQkZGMUMtRkYxRUZGNUNGRjVFRkZFMkZGRTktRkZFQ1wiLFxuICAgIFNjOiBcIjAwMjQwMEEyLTAwQTUwNjBCMDlGMjA5RjMwOUZCMEFGMTBCRjkwRTNGMTdEQjIwQTAtMjBCOEE4MzhGREZDRkU2OUZGMDRGRkUwRkZFMUZGRTVGRkU2XCIsXG4gICAgU2s6IFwiMDA1RTAwNjAwMEE4MDBBRjAwQjQwMEI4MDJDMi0wMkM1MDJEMi0wMkRGMDJFNS0wMkVCMDJFRDAyRUYtMDJGRjAzNzUwMzg0MDM4NTFGQkQxRkJGLTFGQzExRkNELTFGQ0YxRkRELTFGREYxRkVELTFGRUYxRkZEMUZGRTMwOUIzMDlDQTcwMC1BNzE2QTcyMEE3MjFBNzg5QTc4QUZGM0VGRjQwRkZFM1wiLFxuICAgIFNvOiBcIjAwQTYwMEE3MDBBOTAwQUUwMEIwMDBCNjA0ODIwNjBFMDYwRjA2RTkwNkZEMDZGRTA3RjYwOUZBMEI3MDBCRjMtMEJGODBCRkEwQzdGMENGMTBDRjIwRDc5MEYwMS0wRjAzMEYxMy0wRjE3MEYxQS0wRjFGMEYzNDBGMzYwRjM4MEZCRS0wRkM1MEZDNy0wRkNDMEZDRTBGQ0YwRkQ1LTBGRDgxMDlFMTA5RjEzNjAxMzkwLTEzOTkxOTQwMTlFMC0xOUZGMUI2MS0xQjZBMUI3NC0xQjdDMjEwMDIxMDEyMTAzLTIxMDYyMTA4MjEwOTIxMTQyMTE2LTIxMTgyMTFFLTIxMjMyMTI1MjEyNzIxMjkyMTJFMjEzQTIxM0IyMTRBMjE0QzIxNEQyMTRGMjE5NS0yMTk5MjE5Qy0yMTlGMjFBMTIxQTIyMUE0MjFBNTIxQTctMjFBRDIxQUYtMjFDRDIxRDAyMUQxMjFEMzIxRDUtMjFGMzIzMDAtMjMwNzIzMEMtMjMxRjIzMjItMjMyODIzMkItMjM3QjIzN0QtMjM5QTIzQjQtMjNEQjIzRTItMjNFODI0MDAtMjQyNjI0NDAtMjQ0QTI0OUMtMjRFOTI1MDAtMjVCNjI1QjgtMjVDMDI1QzItMjVGNzI2MDAtMjY2RTI2NzAtMjZDRDI2Q0YtMjZFMTI2RTMyNkU4LTI2RkYyNzAxLTI3MDQyNzA2LTI3MDkyNzBDLTI3MjcyNzI5LTI3NEIyNzREMjc0Ri0yNzUyMjc1Ni0yNzVFMjc2MS0yNzY3Mjc5NDI3OTgtMjdBRjI3QjEtMjdCRTI4MDAtMjhGRjJCMDAtMkIyRjJCNDUyQjQ2MkI1MC0yQjU5MkNFNS0yQ0VBMkU4MC0yRTk5MkU5Qi0yRUYzMkYwMC0yRkQ1MkZGMC0yRkZCMzAwNDMwMTIzMDEzMzAyMDMwMzYzMDM3MzAzRTMwM0YzMTkwMzE5MTMxOTYtMzE5RjMxQzAtMzFFMzMyMDAtMzIxRTMyMkEtMzI1MDMyNjAtMzI3RjMyOEEtMzJCMDMyQzAtMzJGRTMzMDAtMzNGRjREQzAtNERGRkE0OTAtQTRDNkE4MjgtQTgyQkE4MzZBODM3QTgzOUFBNzctQUE3OUZERkRGRkU0RkZFOEZGRURGRkVFRkZGQ0ZGRkRcIixcbiAgICBaOiAgXCIwMDIwMDBBMDE2ODAxODBFMjAwMC0yMDBBMjAyODIwMjkyMDJGMjA1RjMwMDBcIixcbiAgICBaczogXCIwMDIwMDBBMDE2ODAxODBFMjAwMC0yMDBBMjAyRjIwNUYzMDAwXCIsXG4gICAgWmw6IFwiMjAyOFwiLFxuICAgIFpwOiBcIjIwMjlcIixcbiAgICBDOiAgXCIwMDAwLTAwMUYwMDdGLTAwOUYwMEFEMDM3ODAzNzkwMzdGLTAzODMwMzhCMDM4RDAzQTIwNTI2LTA1MzAwNTU3MDU1ODA1NjAwNTg4MDU4Qi0wNTkwMDVDOC0wNUNGMDVFQi0wNUVGMDVGNS0wNjA1MDYxQzA2MUQwNjIwMDY1RjA2REQwNzBFMDcwRjA3NEIwNzRDMDdCMi0wN0JGMDdGQi0wN0ZGMDgyRTA4MkYwODNGLTA4RkYwOTNBMDkzQjA5NEYwOTU2MDk1NzA5NzMtMDk3ODA5ODAwOTg0MDk4RDA5OEUwOTkxMDk5MjA5QTkwOUIxMDlCMy0wOUI1MDlCQTA5QkIwOUM1MDlDNjA5QzkwOUNBMDlDRi0wOUQ2MDlEOC0wOURCMDlERTA5RTQwOUU1MDlGQy0wQTAwMEEwNDBBMEItMEEwRTBBMTEwQTEyMEEyOTBBMzEwQTM0MEEzNzBBM0EwQTNCMEEzRDBBNDMtMEE0NjBBNDkwQTRBMEE0RS0wQTUwMEE1Mi0wQTU4MEE1RDBBNUYtMEE2NTBBNzYtMEE4MDBBODQwQThFMEE5MjBBQTkwQUIxMEFCNDBBQkEwQUJCMEFDNjBBQ0EwQUNFMEFDRjBBRDEtMEFERjBBRTQwQUU1MEFGMDBBRjItMEIwMDBCMDQwQjBEMEIwRTBCMTEwQjEyMEIyOTBCMzEwQjM0MEIzQTBCM0IwQjQ1MEI0NjBCNDkwQjRBMEI0RS0wQjU1MEI1OC0wQjVCMEI1RTBCNjQwQjY1MEI3Mi0wQjgxMEI4NDBCOEItMEI4RDBCOTEwQjk2LTBCOTgwQjlCMEI5RDBCQTAtMEJBMjBCQTUtMEJBNzBCQUItMEJBRDBCQkEtMEJCRDBCQzMtMEJDNTBCQzkwQkNFMEJDRjBCRDEtMEJENjBCRDgtMEJFNTBCRkItMEMwMDBDMDQwQzBEMEMxMTBDMjkwQzM0MEMzQS0wQzNDMEM0NTBDNDkwQzRFLTBDNTQwQzU3MEM1QS0wQzVGMEM2NDBDNjUwQzcwLTBDNzcwQzgwMEM4MTBDODQwQzhEMEM5MTBDQTkwQ0I0MENCQTBDQkIwQ0M1MENDOTBDQ0UtMENENDBDRDctMENERDBDREYwQ0U0MENFNTBDRjAwQ0YzLTBEMDEwRDA0MEQwRDBEMTEwRDI5MEQzQS0wRDNDMEQ0NTBENDkwRDRFLTBENTYwRDU4LTBENUYwRDY0MEQ2NTBENzYtMEQ3ODBEODAwRDgxMEQ4NDBEOTctMEQ5OTBEQjIwREJDMERCRTBEQkYwREM3LTBEQzkwRENCLTBEQ0UwREQ1MERENzBERTAtMERGMTBERjUtMEUwMDBFM0ItMEUzRTBFNUMtMEU4MDBFODMwRTg1MEU4NjBFODkwRThCMEU4QzBFOEUtMEU5MzBFOTgwRUEwMEVBNDBFQTYwRUE4MEVBOTBFQUMwRUJBMEVCRTBFQkYwRUM1MEVDNzBFQ0UwRUNGMEVEQTBFREIwRURFLTBFRkYwRjQ4MEY2RC0wRjcwMEY4Qy0wRjhGMEY5ODBGQkQwRkNEMEZEOS0wRkZGMTBDNi0xMENGMTBGRC0xMEZGMTI0OTEyNEUxMjRGMTI1NzEyNTkxMjVFMTI1RjEyODkxMjhFMTI4RjEyQjExMkI2MTJCNzEyQkYxMkMxMTJDNjEyQzcxMkQ3MTMxMTEzMTYxMzE3MTM1Qi0xMzVFMTM3RC0xMzdGMTM5QS0xMzlGMTNGNS0xM0ZGMTY5RC0xNjlGMTZGMS0xNkZGMTcwRDE3MTUtMTcxRjE3MzctMTczRjE3NTQtMTc1RjE3NkQxNzcxMTc3NC0xNzdGMTdCNDE3QjUxN0RFMTdERjE3RUEtMTdFRjE3RkEtMTdGRjE4MEYxODFBLTE4MUYxODc4LTE4N0YxOEFCLTE4QUYxOEY2LTE4RkYxOTFELTE5MUYxOTJDLTE5MkYxOTNDLTE5M0YxOTQxLTE5NDMxOTZFMTk2RjE5NzUtMTk3RjE5QUMtMTlBRjE5Q0EtMTlDRjE5REItMTlERDFBMUMxQTFEMUE1RjFBN0QxQTdFMUE4QS0xQThGMUE5QS0xQTlGMUFBRS0xQUZGMUI0Qy0xQjRGMUI3RC0xQjdGMUJBQi0xQkFEMUJCQS0xQkZGMUMzOC0xQzNBMUM0QS0xQzRDMUM4MC0xQ0NGMUNGMy0xQ0ZGMURFNy0xREZDMUYxNjFGMTcxRjFFMUYxRjFGNDYxRjQ3MUY0RTFGNEYxRjU4MUY1QTFGNUMxRjVFMUY3RTFGN0YxRkI1MUZDNTFGRDQxRkQ1MUZEQzFGRjAxRkYxMUZGNTFGRkYyMDBCLTIwMEYyMDJBLTIwMkUyMDYwLTIwNkYyMDcyMjA3MzIwOEYyMDk1LTIwOUYyMEI5LTIwQ0YyMEYxLTIwRkYyMThBLTIxOEYyM0U5LTIzRkYyNDI3LTI0M0YyNDRCLTI0NUYyNkNFMjZFMjI2RTQtMjZFNzI3MDAyNzA1MjcwQTI3MEIyNzI4Mjc0QzI3NEUyNzUzLTI3NTUyNzVGMjc2MDI3OTUtMjc5NzI3QjAyN0JGMjdDQjI3Q0QtMjdDRjJCNEQtMkI0RjJCNUEtMkJGRjJDMkYyQzVGMkNGMi0yQ0Y4MkQyNi0yRDJGMkQ2Ni0yRDZFMkQ3MC0yRDdGMkQ5Ny0yRDlGMkRBNzJEQUYyREI3MkRCRjJEQzcyRENGMkRENzJEREYyRTMyLTJFN0YyRTlBMkVGNC0yRUZGMkZENi0yRkVGMkZGQy0yRkZGMzA0MDMwOTczMDk4MzEwMC0zMTA0MzEyRS0zMTMwMzE4RjMxQjgtMzFCRjMxRTQtMzFFRjMyMUYzMkZGNERCNi00REJGOUZDQy05RkZGQTQ4RC1BNDhGQTRDNy1BNENGQTYyQy1BNjNGQTY2MEE2NjFBNjc0LUE2N0JBNjk4LUE2OUZBNkY4LUE2RkZBNzhELUE3RkFBODJDLUE4MkZBODNBLUE4M0ZBODc4LUE4N0ZBOEM1LUE4Q0RBOERBLUE4REZBOEZDLUE4RkZBOTU0LUE5NUVBOTdELUE5N0ZBOUNFQTlEQS1BOUREQTlFMC1BOUZGQUEzNy1BQTNGQUE0RUFBNEZBQTVBQUE1QkFBN0MtQUE3RkFBQzMtQUFEQUFBRTAtQUJCRkFCRUVBQkVGQUJGQS1BQkZGRDdBNC1EN0FGRDdDNy1EN0NBRDdGQy1GOEZGRkEyRUZBMkZGQTZFRkE2RkZBREEtRkFGRkZCMDctRkIxMkZCMTgtRkIxQ0ZCMzdGQjNERkIzRkZCNDJGQjQ1RkJCMi1GQkQyRkQ0MC1GRDRGRkQ5MEZEOTFGREM4LUZERUZGREZFRkRGRkZFMUEtRkUxRkZFMjctRkUyRkZFNTNGRTY3RkU2Qy1GRTZGRkU3NUZFRkQtRkYwMEZGQkYtRkZDMUZGQzhGRkM5RkZEMEZGRDFGRkQ4RkZEOUZGREQtRkZERkZGRTdGRkVGLUZGRkJGRkZFRkZGRlwiLFxuICAgIENjOiBcIjAwMDAtMDAxRjAwN0YtMDA5RlwiLFxuICAgIENmOiBcIjAwQUQwNjAwLTA2MDMwNkREMDcwRjE3QjQxN0I1MjAwQi0yMDBGMjAyQS0yMDJFMjA2MC0yMDY0MjA2QS0yMDZGRkVGRkZGRjktRkZGQlwiLFxuICAgIENvOiBcIkUwMDAtRjhGRlwiLFxuICAgIENzOiBcIkQ4MDAtREZGRlwiLFxuICAgIENuOiBcIjAzNzgwMzc5MDM3Ri0wMzgzMDM4QjAzOEQwM0EyMDUyNi0wNTMwMDU1NzA1NTgwNTYwMDU4ODA1OEItMDU5MDA1QzgtMDVDRjA1RUItMDVFRjA1RjUtMDVGRjA2MDQwNjA1MDYxQzA2MUQwNjIwMDY1RjA3MEUwNzRCMDc0QzA3QjItMDdCRjA3RkItMDdGRjA4MkUwODJGMDgzRi0wOEZGMDkzQTA5M0IwOTRGMDk1NjA5NTcwOTczLTA5NzgwOTgwMDk4NDA5OEQwOThFMDk5MTA5OTIwOUE5MDlCMTA5QjMtMDlCNTA5QkEwOUJCMDlDNTA5QzYwOUM5MDlDQTA5Q0YtMDlENjA5RDgtMDlEQjA5REUwOUU0MDlFNTA5RkMtMEEwMDBBMDQwQTBCLTBBMEUwQTExMEExMjBBMjkwQTMxMEEzNDBBMzcwQTNBMEEzQjBBM0QwQTQzLTBBNDYwQTQ5MEE0QTBBNEUtMEE1MDBBNTItMEE1ODBBNUQwQTVGLTBBNjUwQTc2LTBBODAwQTg0MEE4RTBBOTIwQUE5MEFCMTBBQjQwQUJBMEFCQjBBQzYwQUNBMEFDRTBBQ0YwQUQxLTBBREYwQUU0MEFFNTBBRjAwQUYyLTBCMDAwQjA0MEIwRDBCMEUwQjExMEIxMjBCMjkwQjMxMEIzNDBCM0EwQjNCMEI0NTBCNDYwQjQ5MEI0QTBCNEUtMEI1NTBCNTgtMEI1QjBCNUUwQjY0MEI2NTBCNzItMEI4MTBCODQwQjhCLTBCOEQwQjkxMEI5Ni0wQjk4MEI5QjBCOUQwQkEwLTBCQTIwQkE1LTBCQTcwQkFCLTBCQUQwQkJBLTBCQkQwQkMzLTBCQzUwQkM5MEJDRTBCQ0YwQkQxLTBCRDYwQkQ4LTBCRTUwQkZCLTBDMDAwQzA0MEMwRDBDMTEwQzI5MEMzNDBDM0EtMEMzQzBDNDUwQzQ5MEM0RS0wQzU0MEM1NzBDNUEtMEM1RjBDNjQwQzY1MEM3MC0wQzc3MEM4MDBDODEwQzg0MEM4RDBDOTEwQ0E5MENCNDBDQkEwQ0JCMENDNTBDQzkwQ0NFLTBDRDQwQ0Q3LTBDREQwQ0RGMENFNDBDRTUwQ0YwMENGMy0wRDAxMEQwNDBEMEQwRDExMEQyOTBEM0EtMEQzQzBENDUwRDQ5MEQ0RS0wRDU2MEQ1OC0wRDVGMEQ2NDBENjUwRDc2LTBENzgwRDgwMEQ4MTBEODQwRDk3LTBEOTkwREIyMERCQzBEQkUwREJGMERDNy0wREM5MERDQi0wRENFMERENTBERDcwREUwLTBERjEwREY1LTBFMDAwRTNCLTBFM0UwRTVDLTBFODAwRTgzMEU4NTBFODYwRTg5MEU4QjBFOEMwRThFLTBFOTMwRTk4MEVBMDBFQTQwRUE2MEVBODBFQTkwRUFDMEVCQTBFQkUwRUJGMEVDNTBFQzcwRUNFMEVDRjBFREEwRURCMEVERS0wRUZGMEY0ODBGNkQtMEY3MDBGOEMtMEY4RjBGOTgwRkJEMEZDRDBGRDktMEZGRjEwQzYtMTBDRjEwRkQtMTBGRjEyNDkxMjRFMTI0RjEyNTcxMjU5MTI1RTEyNUYxMjg5MTI4RTEyOEYxMkIxMTJCNjEyQjcxMkJGMTJDMTEyQzYxMkM3MTJENzEzMTExMzE2MTMxNzEzNUItMTM1RTEzN0QtMTM3RjEzOUEtMTM5RjEzRjUtMTNGRjE2OUQtMTY5RjE2RjEtMTZGRjE3MEQxNzE1LTE3MUYxNzM3LTE3M0YxNzU0LTE3NUYxNzZEMTc3MTE3NzQtMTc3RjE3REUxN0RGMTdFQS0xN0VGMTdGQS0xN0ZGMTgwRjE4MUEtMTgxRjE4NzgtMTg3RjE4QUItMThBRjE4RjYtMThGRjE5MUQtMTkxRjE5MkMtMTkyRjE5M0MtMTkzRjE5NDEtMTk0MzE5NkUxOTZGMTk3NS0xOTdGMTlBQy0xOUFGMTlDQS0xOUNGMTlEQi0xOUREMUExQzFBMUQxQTVGMUE3RDFBN0UxQThBLTFBOEYxQTlBLTFBOUYxQUFFLTFBRkYxQjRDLTFCNEYxQjdELTFCN0YxQkFCLTFCQUQxQkJBLTFCRkYxQzM4LTFDM0ExQzRBLTFDNEMxQzgwLTFDQ0YxQ0YzLTFDRkYxREU3LTFERkMxRjE2MUYxNzFGMUUxRjFGMUY0NjFGNDcxRjRFMUY0RjFGNTgxRjVBMUY1QzFGNUUxRjdFMUY3RjFGQjUxRkM1MUZENDFGRDUxRkRDMUZGMDFGRjExRkY1MUZGRjIwNjUtMjA2OTIwNzIyMDczMjA4RjIwOTUtMjA5RjIwQjktMjBDRjIwRjEtMjBGRjIxOEEtMjE4RjIzRTktMjNGRjI0MjctMjQzRjI0NEItMjQ1RjI2Q0UyNkUyMjZFNC0yNkU3MjcwMDI3MDUyNzBBMjcwQjI3MjgyNzRDMjc0RTI3NTMtMjc1NTI3NUYyNzYwMjc5NS0yNzk3MjdCMDI3QkYyN0NCMjdDRC0yN0NGMkI0RC0yQjRGMkI1QS0yQkZGMkMyRjJDNUYyQ0YyLTJDRjgyRDI2LTJEMkYyRDY2LTJENkUyRDcwLTJEN0YyRDk3LTJEOUYyREE3MkRBRjJEQjcyREJGMkRDNzJEQ0YyREQ3MkRERjJFMzItMkU3RjJFOUEyRUY0LTJFRkYyRkQ2LTJGRUYyRkZDLTJGRkYzMDQwMzA5NzMwOTgzMTAwLTMxMDQzMTJFLTMxMzAzMThGMzFCOC0zMUJGMzFFNC0zMUVGMzIxRjMyRkY0REI2LTREQkY5RkNDLTlGRkZBNDhELUE0OEZBNEM3LUE0Q0ZBNjJDLUE2M0ZBNjYwQTY2MUE2NzQtQTY3QkE2OTgtQTY5RkE2RjgtQTZGRkE3OEQtQTdGQUE4MkMtQTgyRkE4M0EtQTgzRkE4NzgtQTg3RkE4QzUtQThDREE4REEtQThERkE4RkMtQThGRkE5NTQtQTk1RUE5N0QtQTk3RkE5Q0VBOURBLUE5RERBOUUwLUE5RkZBQTM3LUFBM0ZBQTRFQUE0RkFBNUFBQTVCQUE3Qy1BQTdGQUFDMy1BQURBQUFFMC1BQkJGQUJFRUFCRUZBQkZBLUFCRkZEN0E0LUQ3QUZEN0M3LUQ3Q0FEN0ZDLUQ3RkZGQTJFRkEyRkZBNkVGQTZGRkFEQS1GQUZGRkIwNy1GQjEyRkIxOC1GQjFDRkIzN0ZCM0RGQjNGRkI0MkZCNDVGQkIyLUZCRDJGRDQwLUZENEZGRDkwRkQ5MUZEQzgtRkRFRkZERkVGREZGRkUxQS1GRTFGRkUyNy1GRTJGRkU1M0ZFNjdGRTZDLUZFNkZGRTc1RkVGREZFRkVGRjAwRkZCRi1GRkMxRkZDOEZGQzlGRkQwRkZEMUZGRDhGRkQ5RkZERC1GRkRGRkZFN0ZGRUYtRkZGOEZGRkVGRkZGXCJcbn0pO1xuXG5mdW5jdGlvbiBhZGRVbmljb2RlUGFja2FnZSAocGFjaykge1xuICAgIHZhciBjb2RlUG9pbnQgPSAvXFx3ezR9L2c7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBwYWNrKVxuICAgICAgICBleHBvcnRzLnBhY2thZ2VzW25hbWVdID0gcGFja1tuYW1lXS5yZXBsYWNlKGNvZGVQb2ludCwgXCJcXFxcdSQmXCIpO1xufVxuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS90b2tlbl9pdGVyYXRvclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgVG9rZW5JdGVyYXRvciA9IGZ1bmN0aW9uKHNlc3Npb24sIGluaXRpYWxSb3csIGluaXRpYWxDb2x1bW4pIHtcbiAgICB0aGlzLiRzZXNzaW9uID0gc2Vzc2lvbjtcbiAgICB0aGlzLiRyb3cgPSBpbml0aWFsUm93O1xuICAgIHRoaXMuJHJvd1Rva2VucyA9IHNlc3Npb24uZ2V0VG9rZW5zKGluaXRpYWxSb3cpO1xuXG4gICAgdmFyIHRva2VuID0gc2Vzc2lvbi5nZXRUb2tlbkF0KGluaXRpYWxSb3csIGluaXRpYWxDb2x1bW4pO1xuICAgIHRoaXMuJHRva2VuSW5kZXggPSB0b2tlbiA/IHRva2VuLmluZGV4IDogLTE7XG59O1xuXG4oZnVuY3Rpb24oKSB7IFxuICAgIHRoaXMuc3RlcEJhY2t3YXJkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJHRva2VuSW5kZXggLT0gMTtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlICh0aGlzLiR0b2tlbkluZGV4IDwgMCkge1xuICAgICAgICAgICAgdGhpcy4kcm93IC09IDE7XG4gICAgICAgICAgICBpZiAodGhpcy4kcm93IDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHJvdyA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLiRyb3dUb2tlbnMgPSB0aGlzLiRzZXNzaW9uLmdldFRva2Vucyh0aGlzLiRyb3cpO1xuICAgICAgICAgICAgdGhpcy4kdG9rZW5JbmRleCA9IHRoaXMuJHJvd1Rva2Vucy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMuJHJvd1Rva2Vuc1t0aGlzLiR0b2tlbkluZGV4XTtcbiAgICB9OyAgIFxuICAgIHRoaXMuc3RlcEZvcndhcmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kdG9rZW5JbmRleCArPSAxO1xuICAgICAgICB2YXIgcm93Q291bnQ7XG4gICAgICAgIHdoaWxlICh0aGlzLiR0b2tlbkluZGV4ID49IHRoaXMuJHJvd1Rva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuJHJvdyArPSAxO1xuICAgICAgICAgICAgaWYgKCFyb3dDb3VudClcbiAgICAgICAgICAgICAgICByb3dDb3VudCA9IHRoaXMuJHNlc3Npb24uZ2V0TGVuZ3RoKCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kcm93ID49IHJvd0NvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kcm93ID0gcm93Q291bnQgLSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRyb3dUb2tlbnMgPSB0aGlzLiRzZXNzaW9uLmdldFRva2Vucyh0aGlzLiRyb3cpO1xuICAgICAgICAgICAgdGhpcy4kdG9rZW5JbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy4kcm93VG9rZW5zW3RoaXMuJHRva2VuSW5kZXhdO1xuICAgIH07ICAgICAgXG4gICAgdGhpcy5nZXRDdXJyZW50VG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRyb3dUb2tlbnNbdGhpcy4kdG9rZW5JbmRleF07XG4gICAgfTsgICAgICBcbiAgICB0aGlzLmdldEN1cnJlbnRUb2tlblJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHJvdztcbiAgICB9OyAgICAgXG4gICAgdGhpcy5nZXRDdXJyZW50VG9rZW5Db2x1bW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvd1Rva2VucyA9IHRoaXMuJHJvd1Rva2VucztcbiAgICAgICAgdmFyIHRva2VuSW5kZXggPSB0aGlzLiR0b2tlbkluZGV4O1xuICAgICAgICB2YXIgY29sdW1uID0gcm93VG9rZW5zW3Rva2VuSW5kZXhdLnN0YXJ0O1xuICAgICAgICBpZiAoY29sdW1uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gY29sdW1uO1xuICAgICAgICAgICAgXG4gICAgICAgIGNvbHVtbiA9IDA7XG4gICAgICAgIHdoaWxlICh0b2tlbkluZGV4ID4gMCkge1xuICAgICAgICAgICAgdG9rZW5JbmRleCAtPSAxO1xuICAgICAgICAgICAgY29sdW1uICs9IHJvd1Rva2Vuc1t0b2tlbkluZGV4XS52YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb2x1bW47ICBcbiAgICB9O1xuICAgIHRoaXMuZ2V0Q3VycmVudFRva2VuUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtyb3c6IHRoaXMuJHJvdywgY29sdW1uOiB0aGlzLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpfTtcbiAgICB9O1xuICAgICAgICAgICAgXG59KS5jYWxsKFRva2VuSXRlcmF0b3IucHJvdG90eXBlKTtcblxuZXhwb3J0cy5Ub2tlbkl0ZXJhdG9yID0gVG9rZW5JdGVyYXRvcjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvdGV4dFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3Rva2VuaXplclwiLFwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL2JlaGF2aW91clwiLFwiYWNlL3VuaWNvZGVcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL3Rva2VuX2l0ZXJhdG9yXCIsXCJhY2UvcmFuZ2VcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgVG9rZW5pemVyID0gYWNlcXVpcmUoXCIuLi90b2tlbml6ZXJcIikuVG9rZW5pemVyO1xudmFyIFRleHRIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiKS5UZXh0SGlnaGxpZ2h0UnVsZXM7XG52YXIgQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuL2JlaGF2aW91clwiKS5CZWhhdmlvdXI7XG52YXIgdW5pY29kZSA9IGFjZXF1aXJlKFwiLi4vdW5pY29kZVwiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcbnZhciBUb2tlbkl0ZXJhdG9yID0gYWNlcXVpcmUoXCIuLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcblxudmFyIE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLkhpZ2hsaWdodFJ1bGVzID0gVGV4dEhpZ2hsaWdodFJ1bGVzO1xuICAgIHRoaXMuJGJlaGF2aW91ciA9IG5ldyBCZWhhdmlvdXIoKTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMudG9rZW5SZSA9IG5ldyBSZWdFeHAoXCJeW1wiXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5MXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5NbiArIHVuaWNvZGUucGFja2FnZXMuTWNcbiAgICAgICAgKyB1bmljb2RlLnBhY2thZ2VzLk5kXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5QYyArIFwiXFxcXCRfXStcIiwgXCJnXCJcbiAgICApO1xuXG4gICAgdGhpcy5ub25Ub2tlblJlID0gbmV3IFJlZ0V4cChcIl4oPzpbXlwiXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5MXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5NbiArIHVuaWNvZGUucGFja2FnZXMuTWNcbiAgICAgICAgKyB1bmljb2RlLnBhY2thZ2VzLk5kXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5QYyArIFwiXFxcXCRfXXxcXFxcc10pK1wiLCBcImdcIlxuICAgICk7XG5cbiAgICB0aGlzLmdldFRva2VuaXplciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuJHRva2VuaXplcikge1xuICAgICAgICAgICAgdGhpcy4kaGlnaGxpZ2h0UnVsZXMgPSB0aGlzLiRoaWdobGlnaHRSdWxlcyB8fCBuZXcgdGhpcy5IaWdobGlnaHRSdWxlcygpO1xuICAgICAgICAgICAgdGhpcy4kdG9rZW5pemVyID0gbmV3IFRva2VuaXplcih0aGlzLiRoaWdobGlnaHRSdWxlcy5nZXRSdWxlcygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy4kdG9rZW5pemVyO1xuICAgIH07XG5cbiAgICB0aGlzLmxpbmVDb21tZW50U3RhcnQgPSBcIlwiO1xuICAgIHRoaXMuYmxvY2tDb21tZW50ID0gXCJcIjtcblxuICAgIHRoaXMudG9nZ2xlQ29tbWVudExpbmVzID0gZnVuY3Rpb24oc3RhdGUsIHNlc3Npb24sIHN0YXJ0Um93LCBlbmRSb3cpIHtcbiAgICAgICAgdmFyIGRvYyA9IHNlc3Npb24uZG9jO1xuXG4gICAgICAgIHZhciBpZ25vcmVCbGFua0xpbmVzID0gdHJ1ZTtcbiAgICAgICAgdmFyIHNob3VsZFJlbW92ZSA9IHRydWU7XG4gICAgICAgIHZhciBtaW5JbmRlbnQgPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIHRhYlNpemUgPSBzZXNzaW9uLmdldFRhYlNpemUoKTtcbiAgICAgICAgdmFyIGluc2VydEF0VGFiU3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghdGhpcy5saW5lQ29tbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmxvY2tDb21tZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHZhciBsaW5lQ29tbWVudFN0YXJ0ID0gdGhpcy5ibG9ja0NvbW1lbnQuc3RhcnQ7XG4gICAgICAgICAgICB2YXIgbGluZUNvbW1lbnRFbmQgPSB0aGlzLmJsb2NrQ29tbWVudC5lbmQ7XG4gICAgICAgICAgICB2YXIgcmVnZXhwU3RhcnQgPSBuZXcgUmVnRXhwKFwiXihcXFxccyopKD86XCIgKyBsYW5nLmVzY2FwZVJlZ0V4cChsaW5lQ29tbWVudFN0YXJ0KSArIFwiKVwiKTtcbiAgICAgICAgICAgIHZhciByZWdleHBFbmQgPSBuZXcgUmVnRXhwKFwiKD86XCIgKyBsYW5nLmVzY2FwZVJlZ0V4cChsaW5lQ29tbWVudEVuZCkgKyBcIilcXFxccyokXCIpO1xuXG4gICAgICAgICAgICB2YXIgY29tbWVudCA9IGZ1bmN0aW9uKGxpbmUsIGkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGVzdFJlbW92ZShsaW5lLCBpKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICghaWdub3JlQmxhbmtMaW5lcyB8fCAvXFxTLy50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvYy5pbnNlcnRJbkxpbmUoe3JvdzogaSwgY29sdW1uOiBsaW5lLmxlbmd0aH0sIGxpbmVDb21tZW50RW5kKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jLmluc2VydEluTGluZSh7cm93OiBpLCBjb2x1bW46IG1pbkluZGVudH0sIGxpbmVDb21tZW50U3RhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB1bmNvbW1lbnQgPSBmdW5jdGlvbihsaW5lLCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG07XG4gICAgICAgICAgICAgICAgaWYgKG0gPSBsaW5lLm1hdGNoKHJlZ2V4cEVuZCkpXG4gICAgICAgICAgICAgICAgICAgIGRvYy5yZW1vdmVJbkxpbmUoaSwgbGluZS5sZW5ndGggLSBtWzBdLmxlbmd0aCwgbGluZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChtID0gbGluZS5tYXRjaChyZWdleHBTdGFydCkpXG4gICAgICAgICAgICAgICAgICAgIGRvYy5yZW1vdmVJbkxpbmUoaSwgbVsxXS5sZW5ndGgsIG1bMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB0ZXN0UmVtb3ZlID0gZnVuY3Rpb24obGluZSwgcm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ2V4cFN0YXJ0LnRlc3QobGluZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciB0b2tlbnMgPSBzZXNzaW9uLmdldFRva2Vucyhyb3cpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0udHlwZSA9PT0gXCJjb21tZW50XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5saW5lQ29tbWVudFN0YXJ0KSkge1xuICAgICAgICAgICAgICAgIHZhciByZWdleHBTdGFydCA9IHRoaXMubGluZUNvbW1lbnRTdGFydC5tYXAobGFuZy5lc2NhcGVSZWdFeHApLmpvaW4oXCJ8XCIpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lQ29tbWVudFN0YXJ0ID0gdGhpcy5saW5lQ29tbWVudFN0YXJ0WzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVnZXhwU3RhcnQgPSBsYW5nLmVzY2FwZVJlZ0V4cCh0aGlzLmxpbmVDb21tZW50U3RhcnQpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lQ29tbWVudFN0YXJ0ID0gdGhpcy5saW5lQ29tbWVudFN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVnZXhwU3RhcnQgPSBuZXcgUmVnRXhwKFwiXihcXFxccyopKD86XCIgKyByZWdleHBTdGFydCArIFwiKSA/XCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpbnNlcnRBdFRhYlN0b3AgPSBzZXNzaW9uLmdldFVzZVNvZnRUYWJzKCk7XG5cbiAgICAgICAgICAgIHZhciB1bmNvbW1lbnQgPSBmdW5jdGlvbihsaW5lLCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG0gPSBsaW5lLm1hdGNoKHJlZ2V4cFN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoIW0pIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBtWzFdLmxlbmd0aCwgZW5kID0gbVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKCFzaG91bGRJbnNlcnRTcGFjZShsaW5lLCBzdGFydCwgZW5kKSAmJiBtWzBdW2VuZCAtIDFdID09IFwiIFwiKVxuICAgICAgICAgICAgICAgICAgICBlbmQtLTtcbiAgICAgICAgICAgICAgICBkb2MucmVtb3ZlSW5MaW5lKGksIHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjb21tZW50V2l0aFNwYWNlID0gbGluZUNvbW1lbnRTdGFydCArIFwiIFwiO1xuICAgICAgICAgICAgdmFyIGNvbW1lbnQgPSBmdW5jdGlvbihsaW5lLCBpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpZ25vcmVCbGFua0xpbmVzIHx8IC9cXFMvLnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3VsZEluc2VydFNwYWNlKGxpbmUsIG1pbkluZGVudCwgbWluSW5kZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5pbnNlcnRJbkxpbmUoe3JvdzogaSwgY29sdW1uOiBtaW5JbmRlbnR9LCBjb21tZW50V2l0aFNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmluc2VydEluTGluZSh7cm93OiBpLCBjb2x1bW46IG1pbkluZGVudH0sIGxpbmVDb21tZW50U3RhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgdGVzdFJlbW92ZSA9IGZ1bmN0aW9uKGxpbmUsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnZXhwU3RhcnQudGVzdChsaW5lKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBzaG91bGRJbnNlcnRTcGFjZSA9IGZ1bmN0aW9uKGxpbmUsIGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3BhY2VzID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoYmVmb3JlLS0gJiYgbGluZS5jaGFyQXQoYmVmb3JlKSA9PSBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VzKys7XG4gICAgICAgICAgICAgICAgaWYgKHNwYWNlcyAlIHRhYlNpemUgIT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZXMgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChsaW5lLmNoYXJBdChhZnRlcisrKSA9PSBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VzKys7XG4gICAgICAgICAgICAgICAgaWYgKHRhYlNpemUgPiAyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3BhY2VzICUgdGFiU2l6ZSAhPSB0YWJTaXplIC0gMTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzcGFjZXMgJSB0YWJTaXplID09IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXRlcihmdW4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdzsgaSA8PSBlbmRSb3c7IGkrKylcbiAgICAgICAgICAgICAgICBmdW4oZG9jLmdldExpbmUoaSksIGkpO1xuICAgICAgICB9XG5cblxuICAgICAgICB2YXIgbWluRW1wdHlMZW5ndGggPSBJbmZpbml0eTtcbiAgICAgICAgaXRlcihmdW5jdGlvbihsaW5lLCBpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xcUy8pO1xuICAgICAgICAgICAgaWYgKGluZGVudCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZW50IDwgbWluSW5kZW50KVxuICAgICAgICAgICAgICAgICAgICBtaW5JbmRlbnQgPSBpbmRlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFJlbW92ZSAmJiAhdGVzdFJlbW92ZShsaW5lLCBpKSlcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVtb3ZlID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkVtcHR5TGVuZ3RoID4gbGluZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBtaW5FbXB0eUxlbmd0aCA9IGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobWluSW5kZW50ID09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBtaW5JbmRlbnQgPSBtaW5FbXB0eUxlbmd0aDtcbiAgICAgICAgICAgIGlnbm9yZUJsYW5rTGluZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIHNob3VsZFJlbW92ZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluc2VydEF0VGFiU3RvcCAmJiBtaW5JbmRlbnQgJSB0YWJTaXplICE9IDApXG4gICAgICAgICAgICBtaW5JbmRlbnQgPSBNYXRoLmZsb29yKG1pbkluZGVudCAvIHRhYlNpemUpICogdGFiU2l6ZTtcblxuICAgICAgICBpdGVyKHNob3VsZFJlbW92ZSA/IHVuY29tbWVudCA6IGNvbW1lbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZUJsb2NrQ29tbWVudCA9IGZ1bmN0aW9uKHN0YXRlLCBzZXNzaW9uLCByYW5nZSwgY3Vyc29yKSB7XG4gICAgICAgIHZhciBjb21tZW50ID0gdGhpcy5ibG9ja0NvbW1lbnQ7XG4gICAgICAgIGlmICghY29tbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFjb21tZW50LnN0YXJ0ICYmIGNvbW1lbnRbMF0pXG4gICAgICAgICAgICBjb21tZW50ID0gY29tbWVudFswXTtcblxuICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcihzZXNzaW9uLCBjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG5cbiAgICAgICAgdmFyIHNlbCA9IHNlc3Npb24uc2VsZWN0aW9uO1xuICAgICAgICB2YXIgaW5pdGlhbFJhbmdlID0gc2Vzc2lvbi5zZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG4gICAgICAgIHZhciBzdGFydFJvdywgY29sRGlmZjtcblxuICAgICAgICBpZiAodG9rZW4gJiYgL2NvbW1lbnQvLnRlc3QodG9rZW4udHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBzdGFydFJhbmdlLCBlbmRSYW5nZTtcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbiAmJiAvY29tbWVudC8udGVzdCh0b2tlbi50eXBlKSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdG9rZW4udmFsdWUuaW5kZXhPZihjb21tZW50LnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSArIGk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UmFuZ2UgPSBuZXcgUmFuZ2Uocm93LCBjb2x1bW4sIHJvdywgY29sdW1uICsgY29tbWVudC5zdGFydC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwQmFja3dhcmQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbiAmJiAvY29tbWVudC8udGVzdCh0b2tlbi50eXBlKSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdG9rZW4udmFsdWUuaW5kZXhPZihjb21tZW50LmVuZCk7XG4gICAgICAgICAgICAgICAgaWYgKGkgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgKyBpO1xuICAgICAgICAgICAgICAgICAgICBlbmRSYW5nZSA9IG5ldyBSYW5nZShyb3csIGNvbHVtbiwgcm93LCBjb2x1bW4gKyBjb21tZW50LmVuZC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVuZFJhbmdlKVxuICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlKGVuZFJhbmdlKTtcbiAgICAgICAgICAgIGlmIChzdGFydFJhbmdlKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmUoc3RhcnRSYW5nZSk7XG4gICAgICAgICAgICAgICAgc3RhcnRSb3cgPSBzdGFydFJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICBjb2xEaWZmID0gLWNvbW1lbnQuc3RhcnQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sRGlmZiA9IGNvbW1lbnQuc3RhcnQubGVuZ3RoO1xuICAgICAgICAgICAgc3RhcnRSb3cgPSByYW5nZS5zdGFydC5yb3c7XG4gICAgICAgICAgICBzZXNzaW9uLmluc2VydChyYW5nZS5lbmQsIGNvbW1lbnQuZW5kKTtcbiAgICAgICAgICAgIHNlc3Npb24uaW5zZXJ0KHJhbmdlLnN0YXJ0LCBjb21tZW50LnN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5pdGlhbFJhbmdlLnN0YXJ0LnJvdyA9PSBzdGFydFJvdylcbiAgICAgICAgICAgIGluaXRpYWxSYW5nZS5zdGFydC5jb2x1bW4gKz0gY29sRGlmZjtcbiAgICAgICAgaWYgKGluaXRpYWxSYW5nZS5lbmQucm93ID09IHN0YXJ0Um93KVxuICAgICAgICAgICAgaW5pdGlhbFJhbmdlLmVuZC5jb2x1bW4gKz0gY29sRGlmZjtcbiAgICAgICAgc2Vzc2lvbi5zZWxlY3Rpb24uZnJvbU9yaWVudGVkUmFuZ2UoaW5pdGlhbFJhbmdlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBsaW5lLCB0YWIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGdldEluZGVudChsaW5lKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgbGluZSwgaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24oc3RhdGUsIGRvYywgcm93KSB7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15cXHMqLylbMF07XG4gICAgfTtcblxuICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGVNb2RlRGVsZWdhdGVzID0gZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgdGhpcy4kZW1iZWRzID0gW107XG4gICAgICAgIHRoaXMuJG1vZGVzID0ge307XG4gICAgICAgIGZvciAodmFyIGkgaW4gbWFwcGluZykge1xuICAgICAgICAgICAgaWYgKG1hcHBpbmdbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWJlZHMucHVzaChpKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRtb2Rlc1tpXSA9IG5ldyBtYXBwaW5nW2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVsZWdhdGlvbnMgPSBbXCJ0b2dnbGVCbG9ja0NvbW1lbnRcIiwgXCJ0b2dnbGVDb21tZW50TGluZXNcIiwgXCJnZXROZXh0TGluZUluZGVudFwiLCBcbiAgICAgICAgICAgIFwiY2hlY2tPdXRkZW50XCIsIFwiYXV0b091dGRlbnRcIiwgXCJ0cmFuc2Zvcm1BY3Rpb25cIiwgXCJnZXRDb21wbGV0aW9uc1wiXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGVnYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAoZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgICAgICAgdmFyIGZ1bmN0aW9uTmFtZSA9IGRlbGVnYXRpb25zW2ldO1xuICAgICAgICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSBzY29wZVtmdW5jdGlvbk5hbWVdO1xuICAgICAgICAgICAgICBzY29wZVtkZWxlZ2F0aW9uc1tpXV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRkZWxlZ2F0b3IoZnVuY3Rpb25OYW1lLCBhcmd1bWVudHMsIGRlZmF1bHRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0odGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuJGRlbGVnYXRvciA9IGZ1bmN0aW9uKG1ldGhvZCwgYXJncywgZGVmYXVsdEhhbmRsZXIpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gYXJnc1swXTtcbiAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZSAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZVswXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLiRlbWJlZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kbW9kZXNbdGhpcy4kZW1iZWRzW2ldXSkgY29udGludWU7XG5cbiAgICAgICAgICAgIHZhciBzcGxpdCA9IHN0YXRlLnNwbGl0KHRoaXMuJGVtYmVkc1tpXSk7XG4gICAgICAgICAgICBpZiAoIXNwbGl0WzBdICYmIHNwbGl0WzFdKSB7XG4gICAgICAgICAgICAgICAgYXJnc1swXSA9IHNwbGl0WzFdO1xuICAgICAgICAgICAgICAgIHZhciBtb2RlID0gdGhpcy4kbW9kZXNbdGhpcy4kZW1iZWRzW2ldXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZVttZXRob2RdLmFwcGx5KG1vZGUsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZXQgPSBkZWZhdWx0SGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyID8gcmV0IDogdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICB0aGlzLnRyYW5zZm9ybUFjdGlvbiA9IGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgcGFyYW0pIHtcbiAgICAgICAgaWYgKHRoaXMuJGJlaGF2aW91cikge1xuICAgICAgICAgICAgdmFyIGJlaGF2aW91cnMgPSB0aGlzLiRiZWhhdmlvdXIuZ2V0QmVoYXZpb3VycygpO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGJlaGF2aW91cnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmVoYXZpb3Vyc1trZXldW2FjdGlvbl0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IGJlaGF2aW91cnNba2V5XVthY3Rpb25dLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0S2V5d29yZHMgPSBmdW5jdGlvbihhcHBlbmQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbXBsZXRpb25LZXl3b3Jkcykge1xuICAgICAgICAgICAgdmFyIHJ1bGVzID0gdGhpcy4kdG9rZW5pemVyLnJ1bGVzO1xuICAgICAgICAgICAgdmFyIGNvbXBsZXRpb25LZXl3b3JkcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgcnVsZSBpbiBydWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBydWxlSXRyID0gcnVsZXNbcnVsZV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDAsIGwgPSBydWxlSXRyLmxlbmd0aDsgciA8IGw7IHIrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJ1bGVJdHJbcl0udG9rZW4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgva2V5d29yZHxzdXBwb3J0fHN0b3JhZ2UvLnRlc3QocnVsZUl0cltyXS50b2tlbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbktleXdvcmRzLnB1c2gocnVsZUl0cltyXS5yZWdleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJ1bGVJdHJbcl0udG9rZW4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwLCBhTGVuZ3RoID0gcnVsZUl0cltyXS50b2tlbi5sZW5ndGg7IGEgPCBhTGVuZ3RoOyBhKyspIHsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9rZXl3b3JkfHN1cHBvcnR8c3RvcmFnZS8udGVzdChydWxlSXRyW3JdLnRva2VuW2FdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcnVsZSA9IHJ1bGVJdHJbcl0ucmVnZXgubWF0Y2goL1xcKC4rP1xcKS9nKVthXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbktleXdvcmRzLnB1c2gocnVsZS5zdWJzdHIoMSwgcnVsZS5sZW5ndGggLSAyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9uS2V5d29yZHMgPSBjb21wbGV0aW9uS2V5d29yZHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhcHBlbmQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4ka2V5d29yZExpc3Q7XG4gICAgICAgIHJldHVybiBjb21wbGV0aW9uS2V5d29yZHMuY29uY2F0KHRoaXMuJGtleXdvcmRMaXN0IHx8IFtdKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJGNyZWF0ZUtleXdvcmRMaXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy4kaGlnaGxpZ2h0UnVsZXMpXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuaXplcigpO1xuICAgICAgICByZXR1cm4gdGhpcy4ka2V5d29yZExpc3QgPSB0aGlzLiRoaWdobGlnaHRSdWxlcy4ka2V5d29yZExpc3QgfHwgW107XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q29tcGxldGlvbnMgPSBmdW5jdGlvbihzdGF0ZSwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgpIHtcbiAgICAgICAgdmFyIGtleXdvcmRzID0gdGhpcy4ka2V5d29yZExpc3QgfHwgdGhpcy4kY3JlYXRlS2V5d29yZExpc3QoKTtcbiAgICAgICAgcmV0dXJuIGtleXdvcmRzLm1hcChmdW5jdGlvbih3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHdvcmQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHdvcmQsXG4gICAgICAgICAgICAgICAgc2NvcmU6IDAsXG4gICAgICAgICAgICAgICAgbWV0YTogXCJrZXl3b3JkXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLiRpZCA9IFwiYWNlL21vZGUvdGV4dFwiO1xufSkuY2FsbChNb2RlLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTW9kZSA9IE1vZGU7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9hcHBseV9kZWx0YVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIHRocm93RGVsdGFFcnJvcihkZWx0YSwgZXJyb3JUZXh0KXtcbiAgICBjb25zb2xlLmxvZyhcIkludmFsaWQgRGVsdGE6XCIsIGRlbHRhKTtcbiAgICB0aHJvdyBcIkludmFsaWQgRGVsdGE6IFwiICsgZXJyb3JUZXh0O1xufVxuXG5mdW5jdGlvbiBwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHBvc2l0aW9uLnJvdyAgICA+PSAwICYmIHBvc2l0aW9uLnJvdyAgICA8ICBkb2NMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID49IDAgJiYgcG9zaXRpb24uY29sdW1uIDw9IGRvY0xpbmVzW3Bvc2l0aW9uLnJvd10ubGVuZ3RoO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkge1xuICAgIGlmIChkZWx0YS5hY3Rpb24gIT0gXCJpbnNlcnRcIiAmJiBkZWx0YS5hY3Rpb24gIT0gXCJyZW1vdmVcIilcbiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCBcImRlbHRhLmFjdGlvbiBtdXN0IGJlICdpbnNlcnQnIG9yICdyZW1vdmUnXCIpO1xuICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKVxuICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIFwiZGVsdGEubGluZXMgbXVzdCBiZSBhbiBBcnJheVwiKTtcbiAgICBpZiAoIWRlbHRhLnN0YXJ0IHx8ICFkZWx0YS5lbmQpXG4gICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCBcImRlbHRhLnN0YXJ0L2VuZCBtdXN0IGJlIGFuIHByZXNlbnRcIik7XG4gICAgdmFyIHN0YXJ0ID0gZGVsdGEuc3RhcnQ7XG4gICAgaWYgKCFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGRlbHRhLnN0YXJ0KSlcbiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCBcImRlbHRhLnN0YXJ0IG11c3QgYmUgY29udGFpbmVkIGluIGRvY3VtZW50XCIpO1xuICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7XG4gICAgaWYgKGRlbHRhLmFjdGlvbiA9PSBcInJlbW92ZVwiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpXG4gICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgXCJkZWx0YS5lbmQgbXVzdCBjb250YWluZWQgaW4gZG9jdW1lbnQgZm9yICdyZW1vdmUnIGFjdGlvbnNcIik7XG4gICAgdmFyIG51bVJhbmdlUm93cyA9IGVuZC5yb3cgLSBzdGFydC5yb3c7XG4gICAgdmFyIG51bVJhbmdlTGFzdExpbmVDaGFycyA9IChlbmQuY29sdW1uIC0gKG51bVJhbmdlUm93cyA9PSAwID8gc3RhcnQuY29sdW1uIDogMCkpO1xuICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpXG4gICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgXCJkZWx0YS5yYW5nZSBtdXN0IG1hdGNoIGRlbHRhIGxpbmVzXCIpO1xufVxuXG5leHBvcnRzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbihkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHtcbiAgICBcbiAgICB2YXIgcm93ID0gZGVsdGEuc3RhcnQucm93O1xuICAgIHZhciBzdGFydENvbHVtbiA9IGRlbHRhLnN0YXJ0LmNvbHVtbjtcbiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgXCJcIjtcbiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikge1xuICAgICAgICBjYXNlIFwiaW5zZXJ0XCI6XG4gICAgICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lcztcbiAgICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW3JvdywgMV0uY29uY2F0KGRlbHRhLmxpbmVzKTtcbiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBkb2NMaW5lc1tyb3ddO1xuICAgICAgICAgICAgICAgIGRvY0xpbmVzW3JvdyArIGRlbHRhLmxpbmVzLmxlbmd0aCAtIDFdICs9IGxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XG4gICAgICAgICAgICB2YXIgZW5kQ29sdW1uID0gZGVsdGEuZW5kLmNvbHVtbjtcbiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93O1xuICAgICAgICAgICAgaWYgKHJvdyA9PT0gZW5kUm93KSB7XG4gICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGxpbmUuc3Vic3RyaW5nKGVuZENvbHVtbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY0xpbmVzLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgcm93LCBlbmRSb3cgLSByb3cgKyAxLFxuICAgICAgICAgICAgICAgICAgICBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBkb2NMaW5lc1tlbmRSb3ddLnN1YnN0cmluZyhlbmRDb2x1bW4pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2FuY2hvclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xuXG52YXIgQW5jaG9yID0gZXhwb3J0cy5BbmNob3IgPSBmdW5jdGlvbihkb2MsIHJvdywgY29sdW1uKSB7XG4gICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hdHRhY2goZG9jKTtcbiAgICBcbiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pO1xuICAgIGVsc2VcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihyb3csIGNvbHVtbik7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG4gICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5nZXREb2N1bWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudDtcbiAgICB9O1xuICAgIHRoaXMuJGluc2VydFJpZ2h0ID0gZmFsc2U7XG4gICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIGlmIChkZWx0YS5zdGFydC5yb3cgPT0gZGVsdGEuZW5kLnJvdyAmJiBkZWx0YS5zdGFydC5yb3cgIT0gdGhpcy5yb3cpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgIHZhciBwb2ludCA9ICRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLCB7cm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbn0sIHRoaXMuJGluc2VydFJpZ2h0KTtcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7XG4gICAgfTtcbiAgICBcbiAgICBmdW5jdGlvbiAkcG9pbnRzSW5PcmRlcihwb2ludDEsIHBvaW50MiwgZXF1YWxQb2ludHNJbk9yZGVyKSB7XG4gICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uO1xuICAgICAgICByZXR1cm4gKHBvaW50MS5yb3cgPCBwb2ludDIucm93KSB8fCAocG9pbnQxLnJvdyA9PSBwb2ludDIucm93ICYmIGJDb2xJc0FmdGVyKTtcbiAgICB9XG4gICAgICAgICAgICBcbiAgICBmdW5jdGlvbiAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgcG9pbnQsIG1vdmVJZkVxdWFsKSB7XG4gICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09IFwiaW5zZXJ0XCI7XG4gICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgICAgLSBkZWx0YS5zdGFydC5yb3cpO1xuICAgICAgICB2YXIgZGVsdGFDb2xTaGlmdCA9IChkZWx0YUlzSW5zZXJ0ID8gMSA6IC0xKSAqIChkZWx0YS5lbmQuY29sdW1uIC0gZGVsdGEuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgdmFyIGRlbHRhU3RhcnQgPSBkZWx0YS5zdGFydDtcbiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS5cbiAgICAgICAgaWYgKCRwb2ludHNJbk9yZGVyKHBvaW50LCBkZWx0YVN0YXJ0LCBtb3ZlSWZFcXVhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csXG4gICAgICAgICAgICAgICAgY29sdW1uOiBwb2ludC5jb2x1bW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRwb2ludHNJbk9yZGVyKGRlbHRhRW5kLCBwb2ludCwgIW1vdmVJZkVxdWFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBwb2ludC5jb2x1bW4gKyAocG9pbnQucm93ID09IGRlbHRhRW5kLnJvdyA/IGRlbHRhQ29sU2hpZnQgOiAwKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csXG4gICAgICAgICAgICBjb2x1bW46IGRlbHRhU3RhcnQuY29sdW1uXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuc2V0UG9zaXRpb24gPSBmdW5jdGlvbihyb3csIGNvbHVtbiwgbm9DbGlwKSB7XG4gICAgICAgIHZhciBwb3M7XG4gICAgICAgIGlmIChub0NsaXApIHtcbiAgICAgICAgICAgIHBvcyA9IHtcbiAgICAgICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucm93ID09IHBvcy5yb3cgJiYgdGhpcy5jb2x1bW4gPT0gcG9zLmNvbHVtbilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgb2xkID0ge1xuICAgICAgICAgICAgcm93OiB0aGlzLnJvdyxcbiAgICAgICAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW5cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJvdyA9IHBvcy5yb3c7XG4gICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlXCIsIHtcbiAgICAgICAgICAgIG9sZDogb2xkLFxuICAgICAgICAgICAgdmFsdWU6IHBvc1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCB0aGlzLiRvbkNoYW5nZSk7XG4gICAgfTtcbiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jIHx8IHRoaXMuZG9jdW1lbnQ7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQub24oXCJjaGFuZ2VcIiwgdGhpcy4kb25DaGFuZ2UpO1xuICAgIH07XG4gICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciBwb3MgPSB7fTtcblxuICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHtcbiAgICAgICAgICAgIHBvcy5yb3cgPSBNYXRoLm1heCgwLCB0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpIC0gMSk7XG4gICAgICAgICAgICBwb3MuY29sdW1uID0gdGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyb3cgPCAwKSB7XG4gICAgICAgICAgICBwb3Mucm93ID0gMDtcbiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9zLnJvdyA9IHJvdztcbiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSBNYXRoLm1pbih0aGlzLmRvY3VtZW50LmdldExpbmUocG9zLnJvdykubGVuZ3RoLCBNYXRoLm1heCgwLCBjb2x1bW4pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb2x1bW4gPCAwKVxuICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9O1xuXG59KS5jYWxsKEFuY2hvci5wcm90b3R5cGUpO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9kb2N1bWVudFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9hcHBseV9kZWx0YVwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9hbmNob3JcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgYXBwbHlEZWx0YSA9IGFjZXF1aXJlKFwiLi9hcHBseV9kZWx0YVwiKS5hcHBseURlbHRhO1xudmFyIEV2ZW50RW1pdHRlciA9IGFjZXF1aXJlKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgQW5jaG9yID0gYWNlcXVpcmUoXCIuL2FuY2hvclwiKS5BbmNob3I7XG5cbnZhciBEb2N1bWVudCA9IGZ1bmN0aW9uKHRleHRPckxpbmVzKSB7XG4gICAgdGhpcy4kbGluZXMgPSBbXCJcIl07XG4gICAgaWYgKHRleHRPckxpbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLiRsaW5lcyA9IFtcIlwiXTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGV4dE9yTGluZXMpKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzogMCwgY29sdW1uOiAwfSwgdGV4dE9yTGluZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0KHtyb3c6IDAsIGNvbHVtbjowfSwgdGV4dE9yTGluZXMpO1xuICAgIH1cbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcbiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7XG4gICAgICAgIHRoaXMucmVtb3ZlKG5ldyBSYW5nZSgwLCAwLCBsZW4sIHRoaXMuZ2V0TGluZShsZW4pLmxlbmd0aCkpO1xuICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46IDB9LCB0ZXh0KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTGluZXMoKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTtcbiAgICB9O1xuICAgIHRoaXMuY3JlYXRlQW5jaG9yID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbmNob3IodGhpcywgcm93LCBjb2x1bW4pO1xuICAgIH07XG4gICAgaWYgKFwiYWFhXCIuc3BsaXQoL2EvKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHJcXG58XFxyL2csIFwiXFxuXCIpLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQuc3BsaXQoL1xcclxcbnxcXHJ8XFxuLyk7XG4gICAgICAgIH07XG4gICAgfVxuXG5cbiAgICB0aGlzLiRkZXRlY3ROZXdMaW5lID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9eLio/KFxcclxcbnxcXHJ8XFxuKS9tKTtcbiAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaCA/IG1hdGNoWzFdIDogXCJcXG5cIjtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlTmV3TGluZU1vZGVcIik7XG4gICAgfTtcbiAgICB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLiRuZXdMaW5lTW9kZSkge1xuICAgICAgICAgIGNhc2UgXCJ3aW5kb3dzXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJcXHJcXG5cIjtcbiAgICAgICAgICBjYXNlIFwidW5peFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiXFxuXCI7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRvTmV3TGluZSB8fCBcIlxcblwiO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gXCJcIjtcbiAgICB0aGlzLiRuZXdMaW5lTW9kZSA9IFwiYXV0b1wiO1xuICAgIHRoaXMuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbihuZXdMaW5lTW9kZSkge1xuICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuJG5ld0xpbmVNb2RlID0gbmV3TGluZU1vZGU7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZU5ld0xpbmVNb2RlXCIpO1xuICAgIH07XG4gICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kbmV3TGluZU1vZGU7XG4gICAgfTtcbiAgICB0aGlzLmlzTmV3TGluZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgcmV0dXJuICh0ZXh0ID09IFwiXFxyXFxuXCIgfHwgdGV4dCA9PSBcIlxcclwiIHx8IHRleHQgPT0gXCJcXG5cIik7XG4gICAgfTtcbiAgICB0aGlzLmdldExpbmUgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzW3Jvd10gfHwgXCJcIjtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QWxsTGluZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZXMoMCwgdGhpcy5nZXRMZW5ndGgoKSk7XG4gICAgfTtcbiAgICB0aGlzLmdldExlbmd0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMubGVuZ3RoO1xuICAgIH07XG4gICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGluZXNGb3JSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciBsaW5lcztcbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykge1xuICAgICAgICAgICAgbGluZXMgPSBbdGhpcy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdykuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbiwgcmFuZ2UuZW5kLmNvbHVtbildO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGluZXMgPSB0aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2UuZW5kLnJvdyk7XG4gICAgICAgICAgICBsaW5lc1swXSA9IChsaW5lc1swXSB8fCBcIlwiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgIHZhciBsID0gbGluZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpXG4gICAgICAgICAgICAgICAgbGluZXNbbF0gPSBsaW5lc1tsXS5zdWJzdHJpbmcoMCwgcmFuZ2UuZW5kLmNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH07XG4gICAgdGhpcy5pbnNlcnRMaW5lcyA9IGZ1bmN0aW9uKHJvdywgbGluZXMpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0RnVsbExpbmVzKHJvdywgbGluZXMpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlVzZSBvZiBkb2N1bWVudC5yZW1vdmVMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHJlbW92ZUZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC5cIik7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUZ1bGxMaW5lcyhmaXJzdFJvdywgbGFzdFJvdyk7XG4gICAgfTtcbiAgICB0aGlzLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TmV3TGluZSBpcyBkZXByZWNhdGVkLiBVc2UgaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFtcXCdcXCcsIFxcJ1xcJ10pIGluc3RlYWQuXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgW1wiXCIsIFwiXCJdKTtcbiAgICB9O1xuICAgIHRoaXMuaW5zZXJ0ID0gZnVuY3Rpb24ocG9zaXRpb24sIHRleHQpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0TGVuZ3RoKCkgPD0gMSlcbiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgdGhpcy4kc3BsaXQodGV4dCkpO1xuICAgIH07XG4gICAgdGhpcy5pbnNlcnRJbkxpbmUgPSBmdW5jdGlvbihwb3NpdGlvbiwgdGV4dCkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pO1xuICAgICAgICB2YXIgZW5kID0gdGhpcy5wb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4gKyB0ZXh0Lmxlbmd0aCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgICAgICBhY3Rpb246IFwiaW5zZXJ0XCIsXG4gICAgICAgICAgICBsaW5lczogW3RleHRdXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpO1xuICAgICAgICBpZiAocm93ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJvdyA9IGxlbmd0aDtcbiAgICAgICAgfSBlbHNlIGlmIChyb3cgPCAwKSB7XG4gICAgICAgICAgICByb3cgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHJvdyA+PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJvdyA9IGxlbmd0aCAtIDE7XG4gICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocm93KTtcbiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBjb2x1bW4gPSBsaW5lLmxlbmd0aDtcbiAgICAgICAgY29sdW1uID0gTWF0aC5taW4oTWF0aC5tYXgoY29sdW1uLCAwKSwgbGluZS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgIHJldHVybiB7cm93OiBwb3Mucm93LCBjb2x1bW46IHBvcy5jb2x1bW59O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5wb3MgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uLnJvdyA+PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIGxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7XG4gICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSBNYXRoLm1pbihNYXRoLm1heChwb3NpdGlvbi5jb2x1bW4sIDApLCB0aGlzLmdldExpbmUocG9zaXRpb24ucm93KS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICB9O1xuICAgIHRoaXMuaW5zZXJ0RnVsbExpbmVzID0gZnVuY3Rpb24ocm93LCBsaW5lcykge1xuICAgICAgICByb3cgPSBNYXRoLm1pbihNYXRoLm1heChyb3csIDApLCB0aGlzLmdldExlbmd0aCgpKTtcbiAgICAgICAgdmFyIGNvbHVtbiA9IDA7XG4gICAgICAgIGlmIChyb3cgPCB0aGlzLmdldExlbmd0aCgpKSB7XG4gICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChbXCJcIl0pO1xuICAgICAgICAgICAgY29sdW1uID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmVzID0gW1wiXCJdLmNvbmNhdChsaW5lcyk7XG4gICAgICAgICAgICByb3ctLTtcbiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn0sIGxpbmVzKTtcbiAgICB9OyAgICBcbiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24ocG9zaXRpb24sIGxpbmVzKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7XG4gICAgICAgIHZhciBlbmQgPSB7XG4gICAgICAgICAgICByb3c6IHN0YXJ0LnJvdyArIGxpbmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICBjb2x1bW46IChsaW5lcy5sZW5ndGggPT0gMSA/IHN0YXJ0LmNvbHVtbiA6IDApICsgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgICAgICBhY3Rpb246IFwiaW5zZXJ0XCIsXG4gICAgICAgICAgICBsaW5lczogbGluZXNcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5zdGFydC5jb2x1bW4pO1xuICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pO1xuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSlcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24ocm93LCBzdGFydENvbHVtbiwgZW5kQ29sdW1uKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIGVuZENvbHVtbik7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSlcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhzdGFydCk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7XG4gICAgICAgIGxhc3RSb3cgID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbGFzdFJvdyApLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7XG4gICAgICAgIHZhciBkZWxldGVGaXJzdE5ld0xpbmUgPSBsYXN0Um93ID09IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxICYmIGZpcnN0Um93ID4gMDtcbiAgICAgICAgdmFyIGRlbGV0ZUxhc3ROZXdMaW5lICA9IGxhc3RSb3cgIDwgdGhpcy5nZXRMZW5ndGgoKSAtIDE7XG4gICAgICAgIHZhciBzdGFydFJvdyA9ICggZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxICAgICAgICAgICAgICAgICAgOiBmaXJzdFJvdyAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgdmFyIHN0YXJ0Q29sID0gKCBkZWxldGVGaXJzdE5ld0xpbmUgPyB0aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aCA6IDAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICB2YXIgZW5kUm93ICAgPSAoIGRlbGV0ZUxhc3ROZXdMaW5lICA/IGxhc3RSb3cgKyAxICAgICAgICAgICAgICAgICAgIDogbGFzdFJvdyAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgIHZhciBlbmRDb2wgICA9ICggZGVsZXRlTGFzdE5ld0xpbmUgID8gMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldExpbmUoZW5kUm93KS5sZW5ndGggKTsgXG4gICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2wsIGVuZFJvdywgZW5kQ29sKTtcbiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiByYW5nZS5lbmQsXG4gICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZWRMaW5lcztcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMucG9zKHJvdywgdGhpcy5nZXRMaW5lKHJvdykubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJyZW1vdmVcIixcbiAgICAgICAgICAgICAgICBsaW5lczogW1wiXCIsIFwiXCJdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24ocmFuZ2UsIHRleHQpIHtcbiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpXG4gICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCAmJiByYW5nZS5pc0VtcHR5KCkpXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIGlmICh0ZXh0ID09IHRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSlcbiAgICAgICAgICAgIHJldHVybiByYW5nZS5lbmQ7XG5cbiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpO1xuICAgICAgICB2YXIgZW5kO1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgZW5kID0gdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW5kID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBlbmQ7XG4gICAgfTtcbiAgICB0aGlzLmFwcGx5RGVsdGFzID0gZnVuY3Rpb24oZGVsdGFzKSB7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxkZWx0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YXNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnJldmVydERlbHRhcyA9IGZ1bmN0aW9uKGRlbHRhcykge1xuICAgICAgICBmb3IgKHZhciBpPWRlbHRhcy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnJldmVydERlbHRhKGRlbHRhc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uKGRlbHRhLCBkb05vdFZhbGlkYXRlKSB7XG4gICAgICAgIHZhciBpc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSBcImluc2VydFwiO1xuICAgICAgICBpZiAoaXNJbnNlcnQgPyBkZWx0YS5saW5lcy5sZW5ndGggPD0gMSAmJiAhZGVsdGEubGluZXNbMF1cbiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGlzSW5zZXJ0ICYmIGRlbHRhLmxpbmVzLmxlbmd0aCA+IDIwMDAwKVxuICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTtcbiAgICAgICAgYXBwbHlEZWx0YSh0aGlzLiRsaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VcIiwgZGVsdGEpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEgPSBmdW5jdGlvbihkZWx0YSwgTUFYKSB7XG4gICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzO1xuICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsgXG4gICAgICAgIHZhciBjb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47XG4gICAgICAgIHZhciBmcm9tID0gMCwgdG8gPSAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBmcm9tID0gdG87XG4gICAgICAgICAgICB0byArPSBNQVggLSAxO1xuICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pO1xuICAgICAgICAgICAgaWYgKHRvID4gbCkge1xuICAgICAgICAgICAgICAgIGRlbHRhLmxpbmVzID0gY2h1bms7XG4gICAgICAgICAgICAgICAgZGVsdGEuc3RhcnQucm93ID0gcm93ICsgZnJvbTtcbiAgICAgICAgICAgICAgICBkZWx0YS5zdGFydC5jb2x1bW4gPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaHVuay5wdXNoKFwiXCIpO1xuICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHtcbiAgICAgICAgICAgICAgICBzdGFydDogdGhpcy5wb3Mocm93ICsgZnJvbSwgY29sdW1uKSxcbiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIHRvLCBjb2x1bW4gPSAwKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbixcbiAgICAgICAgICAgICAgICBsaW5lczogY2h1bmtcbiAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICB9IHdoaWxlKHRydWUpO1xuICAgIH07XG4gICAgdGhpcy5yZXZlcnREZWx0YSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7XG4gICAgICAgICAgICBzdGFydDogdGhpcy5jbG9uZVBvcyhkZWx0YS5zdGFydCksXG4gICAgICAgICAgICBlbmQ6IHRoaXMuY2xvbmVQb3MoZGVsdGEuZW5kKSxcbiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSBcImluc2VydFwiID8gXCJyZW1vdmVcIiA6IFwiaW5zZXJ0XCIpLFxuICAgICAgICAgICAgbGluZXM6IGRlbHRhLmxpbmVzLnNsaWNlKClcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmluZGV4VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKGluZGV4LCBzdGFydFJvdykge1xuICAgICAgICB2YXIgbGluZXMgPSB0aGlzLiRsaW5lcyB8fCB0aGlzLmdldEFsbExpbmVzKCk7XG4gICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaW5kZXggLT0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtyb3c6IGksIGNvbHVtbjogaW5kZXggKyBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RofTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge3JvdzogbC0xLCBjb2x1bW46IGxpbmVzW2wtMV0ubGVuZ3RofTtcbiAgICB9O1xuICAgIHRoaXMucG9zaXRpb25Ub0luZGV4ID0gZnVuY3Rpb24ocG9zLCBzdGFydFJvdykge1xuICAgICAgICB2YXIgbGluZXMgPSB0aGlzLiRsaW5lcyB8fCB0aGlzLmdldEFsbExpbmVzKCk7XG4gICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgcm93ID0gTWF0aC5taW4ocG9zLnJvdywgbGluZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSlcbiAgICAgICAgICAgIGluZGV4ICs9IGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuIGluZGV4ICsgcG9zLmNvbHVtbjtcbiAgICB9O1xuXG59KS5jYWxsKERvY3VtZW50LnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuRG9jdW1lbnQgPSBEb2N1bWVudDtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2JhY2tncm91bmRfdG9rZW5pemVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IGFjZXF1aXJlKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBCYWNrZ3JvdW5kVG9rZW5pemVyID0gZnVuY3Rpb24odG9rZW5pemVyLCBlZGl0b3IpIHtcbiAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICB0aGlzLmxpbmVzID0gW107XG4gICAgdGhpcy5zdGF0ZXMgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRMaW5lID0gMDtcbiAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuJHdvcmtlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYucnVubmluZykgeyByZXR1cm47IH1cblxuICAgICAgICB2YXIgd29ya2VyU3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgY3VycmVudExpbmUgPSBzZWxmLmN1cnJlbnRMaW5lO1xuICAgICAgICB2YXIgZW5kTGluZSA9IC0xO1xuICAgICAgICB2YXIgZG9jID0gc2VsZi5kb2M7XG5cbiAgICAgICAgdmFyIHN0YXJ0TGluZSA9IGN1cnJlbnRMaW5lO1xuICAgICAgICB3aGlsZSAoc2VsZi5saW5lc1tjdXJyZW50TGluZV0pXG4gICAgICAgICAgICBjdXJyZW50TGluZSsrO1xuICAgICAgICBcbiAgICAgICAgdmFyIGxlbiA9IGRvYy5nZXRMZW5ndGgoKTtcbiAgICAgICAgdmFyIHByb2Nlc3NlZExpbmVzID0gMDtcbiAgICAgICAgc2VsZi5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChjdXJyZW50TGluZSA8IGxlbikge1xuICAgICAgICAgICAgc2VsZi4kdG9rZW5pemVSb3coY3VycmVudExpbmUpO1xuICAgICAgICAgICAgZW5kTGluZSA9IGN1cnJlbnRMaW5lO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lKys7XG4gICAgICAgICAgICB9IHdoaWxlIChzZWxmLmxpbmVzW2N1cnJlbnRMaW5lXSk7XG4gICAgICAgICAgICBwcm9jZXNzZWRMaW5lcyArKztcbiAgICAgICAgICAgIGlmICgocHJvY2Vzc2VkTGluZXMgJSA1ID09PSAwKSAmJiAobmV3IERhdGUoKSAtIHdvcmtlclN0YXJ0KSA+IDIwKSB7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNlbGYucnVubmluZyA9IHNldFRpbWVvdXQoc2VsZi4kd29ya2VyLCAyMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5jdXJyZW50TGluZSA9IGN1cnJlbnRMaW5lO1xuICAgICAgICBcbiAgICAgICAgaWYgKHN0YXJ0TGluZSA8PSBlbmRMaW5lKVxuICAgICAgICAgICAgc2VsZi5maXJlVXBkYXRlRXZlbnQoc3RhcnRMaW5lLCBlbmRMaW5lKTtcbiAgICB9O1xufTtcblxuKGZ1bmN0aW9uKCl7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG4gICAgdGhpcy5zZXRUb2tlbml6ZXIgPSBmdW5jdGlvbih0b2tlbml6ZXIpIHtcbiAgICAgICAgdGhpcy50b2tlbml6ZXIgPSB0b2tlbml6ZXI7XG4gICAgICAgIHRoaXMubGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBbXTtcblxuICAgICAgICB0aGlzLnN0YXJ0KDApO1xuICAgIH07XG4gICAgdGhpcy5zZXREb2N1bWVudCA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgdGhpcy5saW5lcyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH07XG4gICAgdGhpcy5maXJlVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIGZpcnN0OiBmaXJzdFJvdyxcbiAgICAgICAgICAgIGxhc3Q6IGxhc3RSb3dcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwidXBkYXRlXCIsIHtkYXRhOiBkYXRhfSk7XG4gICAgfTtcbiAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oc3RhcnRSb3cpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TGluZSA9IE1hdGgubWluKHN0YXJ0Um93IHx8IDAsIHRoaXMuY3VycmVudExpbmUsIHRoaXMuZG9jLmdldExlbmd0aCgpKTtcbiAgICAgICAgdGhpcy5saW5lcy5zcGxpY2UodGhpcy5jdXJyZW50TGluZSwgdGhpcy5saW5lcy5sZW5ndGgpO1xuICAgICAgICB0aGlzLnN0YXRlcy5zcGxpY2UodGhpcy5jdXJyZW50TGluZSwgdGhpcy5zdGF0ZXMubGVuZ3RoKTtcblxuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gc2V0VGltZW91dCh0aGlzLiR3b3JrZXIsIDcwMCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNjaGVkdWxlU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJ1bm5pbmcpXG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSBzZXRUaW1lb3V0KHRoaXMuJHdvcmtlciwgNzAwKTtcbiAgICB9XG5cbiAgICB0aGlzLiR1cGRhdGVPbkNoYW5nZSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIHZhciBzdGFydFJvdyA9IGRlbHRhLnN0YXJ0LnJvdztcbiAgICAgICAgdmFyIGxlbiA9IGRlbHRhLmVuZC5yb3cgLSBzdGFydFJvdztcblxuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVzW3N0YXJ0Um93XSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVsdGEuYWN0aW9uID09IFwicmVtb3ZlXCIpIHtcbiAgICAgICAgICAgIHRoaXMubGluZXMuc3BsaWNlKHN0YXJ0Um93LCBsZW4gKyAxLCBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVzLnNwbGljZShzdGFydFJvdywgbGVuICsgMSwgbnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5KGxlbiArIDEpO1xuICAgICAgICAgICAgYXJncy51bnNoaWZ0KHN0YXJ0Um93LCAxKTtcbiAgICAgICAgICAgIHRoaXMubGluZXMuc3BsaWNlLmFwcGx5KHRoaXMubGluZXMsIGFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZXMuc3BsaWNlLmFwcGx5KHRoaXMuc3RhdGVzLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudExpbmUgPSBNYXRoLm1pbihzdGFydFJvdywgdGhpcy5jdXJyZW50TGluZSwgdGhpcy5kb2MuZ2V0TGVuZ3RoKCkpO1xuXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH07XG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnJ1bm5pbmcpXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5ydW5uaW5nKTtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLmdldFRva2VucyA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lc1tyb3ddIHx8IHRoaXMuJHRva2VuaXplUm93KHJvdyk7XG4gICAgfTtcbiAgICB0aGlzLmdldFN0YXRlID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRMaW5lID09IHJvdylcbiAgICAgICAgICAgIHRoaXMuJHRva2VuaXplUm93KHJvdyk7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlc1tyb3ddIHx8IFwic3RhcnRcIjtcbiAgICB9O1xuXG4gICAgdGhpcy4kdG9rZW5pemVSb3cgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmRvYy5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVzW3JvdyAtIDFdO1xuXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy50b2tlbml6ZXIuZ2V0TGluZVRva2VucyhsaW5lLCBzdGF0ZSwgcm93KTtcblxuICAgICAgICBpZiAodGhpcy5zdGF0ZXNbcm93XSArIFwiXCIgIT09IGRhdGEuc3RhdGUgKyBcIlwiKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlc1tyb3ddID0gZGF0YS5zdGF0ZTtcbiAgICAgICAgICAgIHRoaXMubGluZXNbcm93ICsgMV0gPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExpbmUgPiByb3cgKyAxKVxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExpbmUgPSByb3cgKyAxO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudExpbmUgPT0gcm93KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMaW5lID0gcm93ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVzW3Jvd10gPSBkYXRhLnRva2VucztcbiAgICB9O1xuXG59KS5jYWxsKEJhY2tncm91bmRUb2tlbml6ZXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5CYWNrZ3JvdW5kVG9rZW5pemVyID0gQmFja2dyb3VuZFRva2VuaXplcjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3NlYXJjaF9oaWdobGlnaHRcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9yYW5nZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xuXG52YXIgU2VhcmNoSGlnaGxpZ2h0ID0gZnVuY3Rpb24ocmVnRXhwLCBjbGF6eiwgdHlwZSkge1xuICAgIHRoaXMuc2V0UmVnZXhwKHJlZ0V4cCk7XG4gICAgdGhpcy5jbGF6eiA9IGNsYXp6O1xuICAgIHRoaXMudHlwZSA9IHR5cGUgfHwgXCJ0ZXh0XCI7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5NQVhfUkFOR0VTID0gNTAwO1xuICAgIFxuICAgIHRoaXMuc2V0UmVnZXhwID0gZnVuY3Rpb24ocmVnRXhwKSB7XG4gICAgICAgIGlmICh0aGlzLnJlZ0V4cCtcIlwiID09IHJlZ0V4cCtcIlwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnJlZ0V4cCA9IHJlZ0V4cDtcbiAgICAgICAgdGhpcy5jYWNoZSA9IFtdO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGh0bWwsIG1hcmtlckxheWVyLCBzZXNzaW9uLCBjb25maWcpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlZ0V4cClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHN0YXJ0ID0gY29uZmlnLmZpcnN0Um93LCBlbmQgPSBjb25maWcubGFzdFJvdztcblxuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByYW5nZXMgPSB0aGlzLmNhY2hlW2ldO1xuICAgICAgICAgICAgaWYgKHJhbmdlcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzID0gbGFuZy5nZXRNYXRjaE9mZnNldHMoc2Vzc2lvbi5nZXRMaW5lKGkpLCB0aGlzLnJlZ0V4cCk7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPiB0aGlzLk1BWF9SQU5HRVMpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlcyA9IHJhbmdlcy5zbGljZSgwLCB0aGlzLk1BWF9SQU5HRVMpO1xuICAgICAgICAgICAgICAgIHJhbmdlcyA9IHJhbmdlcy5tYXAoZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShpLCBtYXRjaC5vZmZzZXQsIGksIG1hdGNoLm9mZnNldCArIG1hdGNoLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZVtpXSA9IHJhbmdlcy5sZW5ndGggPyByYW5nZXMgOiBcIlwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gcmFuZ2VzLmxlbmd0aDsgaiAtLTsgKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyTGF5ZXIuZHJhd1NpbmdsZUxpbmVNYXJrZXIoXG4gICAgICAgICAgICAgICAgICAgIGh0bWwsIHJhbmdlc1tqXS50b1NjcmVlblJhbmdlKHNlc3Npb24pLCB0aGlzLmNsYXp6LCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkuY2FsbChTZWFyY2hIaWdobGlnaHQucHJvdG90eXBlKTtcblxuZXhwb3J0cy5TZWFyY2hIaWdobGlnaHQgPSBTZWFyY2hIaWdobGlnaHQ7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9lZGl0X3Nlc3Npb24vZm9sZF9saW5lXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xuZnVuY3Rpb24gRm9sZExpbmUoZm9sZERhdGEsIGZvbGRzKSB7XG4gICAgdGhpcy5mb2xkRGF0YSA9IGZvbGREYXRhO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZvbGRzKSkge1xuICAgICAgICB0aGlzLmZvbGRzID0gZm9sZHM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9sZHMgPSB0aGlzLmZvbGRzID0gWyBmb2xkcyBdO1xuICAgIH1cblxuICAgIHZhciBsYXN0ID0gZm9sZHNbZm9sZHMubGVuZ3RoIC0gMV07XG4gICAgdGhpcy5yYW5nZSA9IG5ldyBSYW5nZShmb2xkc1swXS5zdGFydC5yb3csIGZvbGRzWzBdLnN0YXJ0LmNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QuZW5kLnJvdywgbGFzdC5lbmQuY29sdW1uKTtcbiAgICB0aGlzLnN0YXJ0ID0gdGhpcy5yYW5nZS5zdGFydDtcbiAgICB0aGlzLmVuZCAgID0gdGhpcy5yYW5nZS5lbmQ7XG5cbiAgICB0aGlzLmZvbGRzLmZvckVhY2goZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICBmb2xkLnNldEZvbGRMaW5lKHRoaXMpO1xuICAgIH0sIHRoaXMpO1xufVxuXG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zaGlmdFJvdyA9IGZ1bmN0aW9uKHNoaWZ0KSB7XG4gICAgICAgIHRoaXMuc3RhcnQucm93ICs9IHNoaWZ0O1xuICAgICAgICB0aGlzLmVuZC5yb3cgKz0gc2hpZnQ7XG4gICAgICAgIHRoaXMuZm9sZHMuZm9yRWFjaChmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgICAgICBmb2xkLnN0YXJ0LnJvdyArPSBzaGlmdDtcbiAgICAgICAgICAgIGZvbGQuZW5kLnJvdyArPSBzaGlmdDtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkRm9sZCA9IGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgaWYgKGZvbGQuc2FtZVJvdykge1xuICAgICAgICAgICAgaWYgKGZvbGQuc3RhcnQucm93IDwgdGhpcy5zdGFydFJvdyB8fCBmb2xkLmVuZFJvdyA+IHRoaXMuZW5kUm93KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgYWRkIGEgZm9sZCB0byB0aGlzIEZvbGRMaW5lIGFzIGl0IGhhcyBubyBjb25uZWN0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mb2xkcy5wdXNoKGZvbGQpO1xuICAgICAgICAgICAgdGhpcy5mb2xkcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLWEucmFuZ2UuY29tcGFyZUVuZChiLnN0YXJ0LnJvdywgYi5zdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yYW5nZS5jb21wYXJlRW5kKGZvbGQuc3RhcnQucm93LCBmb2xkLnN0YXJ0LmNvbHVtbikgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gZm9sZC5lbmQucm93O1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9ICBmb2xkLmVuZC5jb2x1bW47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmFuZ2UuY29tcGFyZVN0YXJ0KGZvbGQuZW5kLnJvdywgZm9sZC5lbmQuY29sdW1uKSA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0LnJvdyA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID0gZm9sZC5zdGFydC5jb2x1bW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZm9sZC5zdGFydC5yb3cgPT0gdGhpcy5lbmQucm93KSB7XG4gICAgICAgICAgICB0aGlzLmZvbGRzLnB1c2goZm9sZCk7XG4gICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSBmb2xkLmVuZC5yb3c7XG4gICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSBmb2xkLmVuZC5jb2x1bW47XG4gICAgICAgIH0gZWxzZSBpZiAoZm9sZC5lbmQucm93ID09IHRoaXMuc3RhcnQucm93KSB7XG4gICAgICAgICAgICB0aGlzLmZvbGRzLnVuc2hpZnQoZm9sZCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0LnJvdyA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPSBmb2xkLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBhZGQgZm9sZCB0byBGb2xkUm93IHRoYXQgZG9lc24ndCBoYXZlIGEgbWF0Y2hpbmcgcm93XCIpO1xuICAgICAgICB9XG4gICAgICAgIGZvbGQuZm9sZExpbmUgPSB0aGlzO1xuICAgIH07XG5cbiAgICB0aGlzLmNvbnRhaW5zUm93ID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHJldHVybiByb3cgPj0gdGhpcy5zdGFydC5yb3cgJiYgcm93IDw9IHRoaXMuZW5kLnJvdztcbiAgICB9O1xuXG4gICAgdGhpcy53YWxrID0gZnVuY3Rpb24oY2FsbGJhY2ssIGVuZFJvdywgZW5kQ29sdW1uKSB7XG4gICAgICAgIHZhciBsYXN0RW5kID0gMCxcbiAgICAgICAgICAgIGZvbGRzID0gdGhpcy5mb2xkcyxcbiAgICAgICAgICAgIGZvbGQsXG4gICAgICAgICAgICBjbXAsIHN0b3AsIGlzTmV3Um93ID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZW5kUm93ID09IG51bGwpIHtcbiAgICAgICAgICAgIGVuZFJvdyA9IHRoaXMuZW5kLnJvdztcbiAgICAgICAgICAgIGVuZENvbHVtbiA9IHRoaXMuZW5kLmNvbHVtbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvbGQgPSBmb2xkc1tpXTtcblxuICAgICAgICAgICAgY21wID0gZm9sZC5yYW5nZS5jb21wYXJlU3RhcnQoZW5kUm93LCBlbmRDb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGVuZFJvdywgZW5kQ29sdW1uLCBsYXN0RW5kLCBpc05ld1Jvdyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdG9wID0gY2FsbGJhY2sobnVsbCwgZm9sZC5zdGFydC5yb3csIGZvbGQuc3RhcnQuY29sdW1uLCBsYXN0RW5kLCBpc05ld1Jvdyk7XG4gICAgICAgICAgICBzdG9wID0gIXN0b3AgJiYgY2FsbGJhY2soZm9sZC5wbGFjZWhvbGRlciwgZm9sZC5zdGFydC5yb3csIGZvbGQuc3RhcnQuY29sdW1uLCBsYXN0RW5kKTtcbiAgICAgICAgICAgIGlmIChzdG9wIHx8IGNtcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzTmV3Um93ID0gIWZvbGQuc2FtZVJvdztcbiAgICAgICAgICAgIGxhc3RFbmQgPSBmb2xkLmVuZC5jb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZW5kUm93LCBlbmRDb2x1bW4sIGxhc3RFbmQsIGlzTmV3Um93KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXROZXh0Rm9sZFRvID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIGZvbGQsIGNtcDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb2xkID0gdGhpcy5mb2xkc1tpXTtcbiAgICAgICAgICAgIGNtcCA9IGZvbGQucmFuZ2UuY29tcGFyZUVuZChyb3csIGNvbHVtbik7XG4gICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sZDogZm9sZCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogXCJhZnRlclwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sZDogZm9sZCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogXCJpbnNpZGVcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkUmVtb3ZlQ2hhcnMgPSBmdW5jdGlvbihyb3csIGNvbHVtbiwgbGVuKSB7XG4gICAgICAgIHZhciByZXQgPSB0aGlzLmdldE5leHRGb2xkVG8ocm93LCBjb2x1bW4pLFxuICAgICAgICAgICAgZm9sZCwgZm9sZHM7XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgIGZvbGQgPSByZXQuZm9sZDtcbiAgICAgICAgICAgIGlmIChyZXQua2luZCA9PSBcImluc2lkZVwiXG4gICAgICAgICAgICAgICAgJiYgZm9sZC5zdGFydC5jb2x1bW4gIT0gY29sdW1uXG4gICAgICAgICAgICAgICAgJiYgZm9sZC5zdGFydC5yb3cgIT0gcm93KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyhyb3csIGNvbHVtbiwgZm9sZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvbGQuc3RhcnQucm93ID09IHJvdykge1xuICAgICAgICAgICAgICAgIGZvbGRzID0gdGhpcy5mb2xkcztcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGZvbGRzLmluZGV4T2YoZm9sZCk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gbGVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGk7IGkgPCBmb2xkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb2xkID0gZm9sZHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGZvbGQuc3RhcnQuY29sdW1uICs9IGxlbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb2xkLnNhbWVSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb2xkLmVuZC5jb2x1bW4gKz0gbGVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gKz0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc3BsaXQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5nZXROZXh0Rm9sZFRvKHJvdywgY29sdW1uKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghcG9zIHx8IHBvcy5raW5kID09IFwiaW5zaWRlXCIpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIFxuICAgICAgICB2YXIgZm9sZCA9IHBvcy5mb2xkO1xuICAgICAgICB2YXIgZm9sZHMgPSB0aGlzLmZvbGRzO1xuICAgICAgICB2YXIgZm9sZERhdGEgPSB0aGlzLmZvbGREYXRhO1xuICAgICAgICBcbiAgICAgICAgdmFyIGkgPSBmb2xkcy5pbmRleE9mKGZvbGQpO1xuICAgICAgICB2YXIgZm9sZEJlZm9yZSA9IGZvbGRzW2kgLSAxXTtcbiAgICAgICAgdGhpcy5lbmQucm93ID0gZm9sZEJlZm9yZS5lbmQucm93O1xuICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSBmb2xkQmVmb3JlLmVuZC5jb2x1bW47XG4gICAgICAgIGZvbGRzID0gZm9sZHMuc3BsaWNlKGksIGZvbGRzLmxlbmd0aCAtIGkpO1xuXG4gICAgICAgIHZhciBuZXdGb2xkTGluZSA9IG5ldyBGb2xkTGluZShmb2xkRGF0YSwgZm9sZHMpO1xuICAgICAgICBmb2xkRGF0YS5zcGxpY2UoZm9sZERhdGEuaW5kZXhPZih0aGlzKSArIDEsIDAsIG5ld0ZvbGRMaW5lKTtcbiAgICAgICAgcmV0dXJuIG5ld0ZvbGRMaW5lO1xuICAgIH07XG5cbiAgICB0aGlzLm1lcmdlID0gZnVuY3Rpb24oZm9sZExpbmVOZXh0KSB7XG4gICAgICAgIHZhciBmb2xkcyA9IGZvbGRMaW5lTmV4dC5mb2xkcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2xkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hZGRGb2xkKGZvbGRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9sZERhdGEgPSB0aGlzLmZvbGREYXRhO1xuICAgICAgICBmb2xkRGF0YS5zcGxpY2UoZm9sZERhdGEuaW5kZXhPZihmb2xkTGluZU5leHQpLCAxKTtcbiAgICB9O1xuXG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmV0ID0gW3RoaXMucmFuZ2UudG9TdHJpbmcoKSArIFwiOiBbXCIgXTtcblxuICAgICAgICB0aGlzLmZvbGRzLmZvckVhY2goZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICAgICAgcmV0LnB1c2goXCIgIFwiICsgZm9sZC50b1N0cmluZygpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldC5wdXNoKFwiXVwiKTtcbiAgICAgICAgcmV0dXJuIHJldC5qb2luKFwiXFxuXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLmlkeFRvUG9zaXRpb24gPSBmdW5jdGlvbihpZHgpIHtcbiAgICAgICAgdmFyIGxhc3RGb2xkRW5kQ29sdW1uID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmb2xkID0gdGhpcy5mb2xkc1tpXTtcblxuICAgICAgICAgICAgaWR4IC09IGZvbGQuc3RhcnQuY29sdW1uIC0gbGFzdEZvbGRFbmRDb2x1bW47XG4gICAgICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJvdzogZm9sZC5zdGFydC5yb3csXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogZm9sZC5zdGFydC5jb2x1bW4gKyBpZHhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZHggLT0gZm9sZC5wbGFjZWhvbGRlci5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb2xkLnN0YXJ0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsYXN0Rm9sZEVuZENvbHVtbiA9IGZvbGQuZW5kLmNvbHVtbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3c6IHRoaXMuZW5kLnJvdyxcbiAgICAgICAgICAgIGNvbHVtbjogdGhpcy5lbmQuY29sdW1uICsgaWR4XG4gICAgICAgIH07XG4gICAgfTtcbn0pLmNhbGwoRm9sZExpbmUucHJvdG90eXBlKTtcblxuZXhwb3J0cy5Gb2xkTGluZSA9IEZvbGRMaW5lO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvcmFuZ2VfbGlzdFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBjb21wYXJlUG9pbnRzID0gUmFuZ2UuY29tcGFyZVBvaW50cztcblxudmFyIFJhbmdlTGlzdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmFuZ2VzID0gW107XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jb21wYXJlUG9pbnRzID0gY29tcGFyZVBvaW50cztcblxuICAgIHRoaXMucG9pbnRJbmRleCA9IGZ1bmN0aW9uKHBvcywgZXhjbHVkZUVkZ2VzLCBzdGFydEluZGV4KSB7XG4gICAgICAgIHZhciBsaXN0ID0gdGhpcy5yYW5nZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggfHwgMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGxpc3RbaV07XG4gICAgICAgICAgICB2YXIgY21wRW5kID0gY29tcGFyZVBvaW50cyhwb3MsIHJhbmdlLmVuZCk7XG4gICAgICAgICAgICBpZiAoY21wRW5kID4gMClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHZhciBjbXBTdGFydCA9IGNvbXBhcmVQb2ludHMocG9zLCByYW5nZS5zdGFydCk7XG4gICAgICAgICAgICBpZiAoY21wRW5kID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBleGNsdWRlRWRnZXMgJiYgY21wU3RhcnQgIT09IDAgPyAtaS0yIDogaTtcbiAgICAgICAgICAgIGlmIChjbXBTdGFydCA+IDAgfHwgKGNtcFN0YXJ0ID09PSAwICYmICFleGNsdWRlRWRnZXMpKVxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuXG4gICAgICAgICAgICByZXR1cm4gLWktMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLWkgLSAxO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZCA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciBleGNsdWRlRWRnZXMgPSAhcmFuZ2UuaXNFbXB0eSgpO1xuICAgICAgICB2YXIgc3RhcnRJbmRleCA9IHRoaXMucG9pbnRJbmRleChyYW5nZS5zdGFydCwgZXhjbHVkZUVkZ2VzKTtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPCAwKVxuICAgICAgICAgICAgc3RhcnRJbmRleCA9IC1zdGFydEluZGV4IC0gMTtcblxuICAgICAgICB2YXIgZW5kSW5kZXggPSB0aGlzLnBvaW50SW5kZXgocmFuZ2UuZW5kLCBleGNsdWRlRWRnZXMsIHN0YXJ0SW5kZXgpO1xuXG4gICAgICAgIGlmIChlbmRJbmRleCA8IDApXG4gICAgICAgICAgICBlbmRJbmRleCA9IC1lbmRJbmRleCAtIDE7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGVuZEluZGV4Kys7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlcy5zcGxpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXggLSBzdGFydEluZGV4LCByYW5nZSk7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkTGlzdCA9IGZ1bmN0aW9uKGxpc3QpIHtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGxpc3QubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgICAgcmVtb3ZlZC5wdXNoLmFwcGx5KHJlbW92ZWQsIHRoaXMuYWRkKGxpc3RbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICB9O1xuXG4gICAgdGhpcy5zdWJzdHJhY3RQb2ludCA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICB2YXIgaSA9IHRoaXMucG9pbnRJbmRleChwb3MpO1xuXG4gICAgICAgIGlmIChpID49IDApXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yYW5nZXMuc3BsaWNlKGksIDEpO1xuICAgIH07XG4gICAgdGhpcy5tZXJnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IFtdO1xuICAgICAgICB2YXIgbGlzdCA9IHRoaXMucmFuZ2VzO1xuICAgICAgICBcbiAgICAgICAgbGlzdCA9IGxpc3Quc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcGFyZVBvaW50cyhhLnN0YXJ0LCBiLnN0YXJ0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgbmV4dCA9IGxpc3RbMF0sIHJhbmdlO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJhbmdlID0gbmV4dDtcbiAgICAgICAgICAgIG5leHQgPSBsaXN0W2ldO1xuICAgICAgICAgICAgdmFyIGNtcCA9IGNvbXBhcmVQb2ludHMocmFuZ2UuZW5kLCBuZXh0LnN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChjbXAgPCAwKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoY21wID09IDAgJiYgIXJhbmdlLmlzRW1wdHkoKSAmJiAhbmV4dC5pc0VtcHR5KCkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChjb21wYXJlUG9pbnRzKHJhbmdlLmVuZCwgbmV4dC5lbmQpIDwgMCkge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5yb3cgPSBuZXh0LmVuZC5yb3c7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IG5leHQuZW5kLmNvbHVtbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICByZW1vdmVkLnB1c2gobmV4dCk7XG4gICAgICAgICAgICBuZXh0ID0gcmFuZ2U7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMucmFuZ2VzID0gbGlzdDtcblxuICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICB9O1xuXG4gICAgdGhpcy5jb250YWlucyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50SW5kZXgoe3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn0pID49IDA7XG4gICAgfTtcblxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludEluZGV4KHBvcykgPj0gMDtcbiAgICB9O1xuXG4gICAgdGhpcy5yYW5nZUF0UG9pbnQgPSBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLnBvaW50SW5kZXgocG9zKTtcbiAgICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJhbmdlc1tpXTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLmNsaXBSb3dzID0gZnVuY3Rpb24oc3RhcnRSb3csIGVuZFJvdykge1xuICAgICAgICB2YXIgbGlzdCA9IHRoaXMucmFuZ2VzO1xuICAgICAgICBpZiAobGlzdFswXS5zdGFydC5yb3cgPiBlbmRSb3cgfHwgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdLnN0YXJ0LnJvdyA8IHN0YXJ0Um93KVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuXG4gICAgICAgIHZhciBzdGFydEluZGV4ID0gdGhpcy5wb2ludEluZGV4KHtyb3c6IHN0YXJ0Um93LCBjb2x1bW46IDB9KTtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPCAwKVxuICAgICAgICAgICAgc3RhcnRJbmRleCA9IC1zdGFydEluZGV4IC0gMTtcbiAgICAgICAgdmFyIGVuZEluZGV4ID0gdGhpcy5wb2ludEluZGV4KHtyb3c6IGVuZFJvdywgY29sdW1uOiAwfSwgc3RhcnRJbmRleCk7XG4gICAgICAgIGlmIChlbmRJbmRleCA8IDApXG4gICAgICAgICAgICBlbmRJbmRleCA9IC1lbmRJbmRleCAtIDE7XG5cbiAgICAgICAgdmFyIGNsaXBwZWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICBjbGlwcGVkLnB1c2gobGlzdFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsaXBwZWQ7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlcy5zcGxpY2UoMCwgdGhpcy5yYW5nZXMubGVuZ3RoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hdHRhY2ggPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24pXG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuXG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLiRvbkNoYW5nZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5vbignY2hhbmdlJywgdGhpcy5vbkNoYW5nZSk7XG4gICAgfTtcblxuICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMub25DaGFuZ2UpO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLiRvbkNoYW5nZSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIGlmIChkZWx0YS5hY3Rpb24gPT0gXCJpbnNlcnRcIil7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDtcbiAgICAgICAgICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZW5kID0gZGVsdGEuc3RhcnQ7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBkZWx0YS5lbmQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0Um93ID0gc3RhcnQucm93O1xuICAgICAgICB2YXIgZW5kUm93ID0gZW5kLnJvdztcbiAgICAgICAgdmFyIGxpbmVEaWYgPSBlbmRSb3cgLSBzdGFydFJvdztcblxuICAgICAgICB2YXIgY29sRGlmZiA9IC1zdGFydC5jb2x1bW4gKyBlbmQuY29sdW1uO1xuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5yYW5nZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSByYW5nZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgciA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmIChyLmVuZC5yb3cgPCBzdGFydFJvdylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyLnN0YXJ0LnJvdyA+IHN0YXJ0Um93KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBpZiAoci5zdGFydC5yb3cgPT0gc3RhcnRSb3cgJiYgci5zdGFydC5jb2x1bW4gPj0gc3RhcnQuY29sdW1uICkge1xuICAgICAgICAgICAgICAgIGlmIChyLnN0YXJ0LmNvbHVtbiA9PSBzdGFydC5jb2x1bW4gJiYgdGhpcy4kaW5zZXJ0UmlnaHQpIHtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByLnN0YXJ0LmNvbHVtbiArPSBjb2xEaWZmO1xuICAgICAgICAgICAgICAgICAgICByLnN0YXJ0LnJvdyArPSBsaW5lRGlmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyLmVuZC5yb3cgPT0gc3RhcnRSb3cgJiYgci5lbmQuY29sdW1uID49IHN0YXJ0LmNvbHVtbikge1xuICAgICAgICAgICAgICAgIGlmIChyLmVuZC5jb2x1bW4gPT0gc3RhcnQuY29sdW1uICYmIHRoaXMuJGluc2VydFJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoci5lbmQuY29sdW1uID09IHN0YXJ0LmNvbHVtbiAmJiBjb2xEaWZmID4gMCAmJiBpIDwgbiAtIDEpIHsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChyLmVuZC5jb2x1bW4gPiByLnN0YXJ0LmNvbHVtbiAmJiByLmVuZC5jb2x1bW4gPT0gcmFuZ2VzW2krMV0uc3RhcnQuY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICAgICAgci5lbmQuY29sdW1uIC09IGNvbERpZmY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHIuZW5kLmNvbHVtbiArPSBjb2xEaWZmO1xuICAgICAgICAgICAgICAgIHIuZW5kLnJvdyArPSBsaW5lRGlmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpbmVEaWYgIT0gMCAmJiBpIDwgbikge1xuICAgICAgICAgICAgZm9yICg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgciA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICByLnN0YXJ0LnJvdyArPSBsaW5lRGlmO1xuICAgICAgICAgICAgICAgIHIuZW5kLnJvdyArPSBsaW5lRGlmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkuY2FsbChSYW5nZUxpc3QucHJvdG90eXBlKTtcblxuZXhwb3J0cy5SYW5nZUxpc3QgPSBSYW5nZUxpc3Q7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9lZGl0X3Nlc3Npb24vZm9sZFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvcmFuZ2VfbGlzdFwiLFwiYWNlL2xpYi9vb3BcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIFJhbmdlTGlzdCA9IGFjZXF1aXJlKFwiLi4vcmFuZ2VfbGlzdFwiKS5SYW5nZUxpc3Q7XG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpXG52YXIgRm9sZCA9IGV4cG9ydHMuRm9sZCA9IGZ1bmN0aW9uKHJhbmdlLCBwbGFjZWhvbGRlcikge1xuICAgIHRoaXMuZm9sZExpbmUgPSBudWxsO1xuICAgIHRoaXMucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgdGhpcy5zdGFydCA9IHJhbmdlLnN0YXJ0O1xuICAgIHRoaXMuZW5kID0gcmFuZ2UuZW5kO1xuXG4gICAgdGhpcy5zYW1lUm93ID0gcmFuZ2Uuc3RhcnQucm93ID09IHJhbmdlLmVuZC5yb3c7XG4gICAgdGhpcy5zdWJGb2xkcyA9IHRoaXMucmFuZ2VzID0gW107XG59O1xuXG5vb3AuaW5oZXJpdHMoRm9sZCwgUmFuZ2VMaXN0KTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ1wiJyArIHRoaXMucGxhY2Vob2xkZXIgKyAnXCIgJyArIHRoaXMucmFuZ2UudG9TdHJpbmcoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRGb2xkTGluZSA9IGZ1bmN0aW9uKGZvbGRMaW5lKSB7XG4gICAgICAgIHRoaXMuZm9sZExpbmUgPSBmb2xkTGluZTtcbiAgICAgICAgdGhpcy5zdWJGb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgICAgIGZvbGQuc2V0Rm9sZExpbmUoZm9sZExpbmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnJhbmdlLmNsb25lKCk7XG4gICAgICAgIHZhciBmb2xkID0gbmV3IEZvbGQocmFuZ2UsIHRoaXMucGxhY2Vob2xkZXIpO1xuICAgICAgICB0aGlzLnN1YkZvbGRzLmZvckVhY2goZnVuY3Rpb24oc3ViRm9sZCkge1xuICAgICAgICAgICAgZm9sZC5zdWJGb2xkcy5wdXNoKHN1YkZvbGQuY2xvbmUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBmb2xkLmNvbGxhcHNlQ2hpbGRyZW4gPSB0aGlzLmNvbGxhcHNlQ2hpbGRyZW47XG4gICAgICAgIHJldHVybiBmb2xkO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZFN1YkZvbGQgPSBmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgIGlmICh0aGlzLnJhbmdlLmlzRXF1YWwoZm9sZCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0aGlzLnJhbmdlLmNvbnRhaW5zUmFuZ2UoZm9sZCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGZvbGQgY2FuJ3QgaW50ZXJzZWN0IGFscmVhZHkgZXhpc3RpbmcgZm9sZFwiICsgZm9sZC5yYW5nZSArIHRoaXMucmFuZ2UpO1xuICAgICAgICBjb25zdW1lUmFuZ2UoZm9sZCwgdGhpcy5zdGFydCk7XG5cbiAgICAgICAgdmFyIHJvdyA9IGZvbGQuc3RhcnQucm93LCBjb2x1bW4gPSBmb2xkLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNtcCA9IC0xOyBpIDwgdGhpcy5zdWJGb2xkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY21wID0gdGhpcy5zdWJGb2xkc1tpXS5yYW5nZS5jb21wYXJlKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjbXAgIT0gMSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWZ0ZXJTdGFydCA9IHRoaXMuc3ViRm9sZHNbaV07XG5cbiAgICAgICAgaWYgKGNtcCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGFmdGVyU3RhcnQuYWRkU3ViRm9sZChmb2xkKTtcbiAgICAgICAgdmFyIHJvdyA9IGZvbGQucmFuZ2UuZW5kLnJvdywgY29sdW1uID0gZm9sZC5yYW5nZS5lbmQuY29sdW1uO1xuICAgICAgICBmb3IgKHZhciBqID0gaSwgY21wID0gLTE7IGogPCB0aGlzLnN1YkZvbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjbXAgPSB0aGlzLnN1YkZvbGRzW2pdLnJhbmdlLmNvbXBhcmUocm93LCBjb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGNtcCAhPSAxKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhZnRlckVuZCA9IHRoaXMuc3ViRm9sZHNbal07XG5cbiAgICAgICAgaWYgKGNtcCA9PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBmb2xkIGNhbid0IGludGVyc2VjdCBhbHJlYWR5IGV4aXN0aW5nIGZvbGRcIiArIGZvbGQucmFuZ2UgKyB0aGlzLnJhbmdlKTtcblxuICAgICAgICB2YXIgY29uc3VtZWRGb2xkcyA9IHRoaXMuc3ViRm9sZHMuc3BsaWNlKGksIGogLSBpLCBmb2xkKTtcbiAgICAgICAgZm9sZC5zZXRGb2xkTGluZSh0aGlzLmZvbGRMaW5lKTtcblxuICAgICAgICByZXR1cm4gZm9sZDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMucmVzdG9yZVJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHJlc3RvcmVSYW5nZShyYW5nZSwgdGhpcy5zdGFydCk7XG4gICAgfTtcblxufSkuY2FsbChGb2xkLnByb3RvdHlwZSk7XG5cbmZ1bmN0aW9uIGNvbnN1bWVQb2ludChwb2ludCwgYW5jaG9yKSB7XG4gICAgcG9pbnQucm93IC09IGFuY2hvci5yb3c7XG4gICAgaWYgKHBvaW50LnJvdyA9PSAwKVxuICAgICAgICBwb2ludC5jb2x1bW4gLT0gYW5jaG9yLmNvbHVtbjtcbn1cbmZ1bmN0aW9uIGNvbnN1bWVSYW5nZShyYW5nZSwgYW5jaG9yKSB7XG4gICAgY29uc3VtZVBvaW50KHJhbmdlLnN0YXJ0LCBhbmNob3IpO1xuICAgIGNvbnN1bWVQb2ludChyYW5nZS5lbmQsIGFuY2hvcik7XG59XG5mdW5jdGlvbiByZXN0b3JlUG9pbnQocG9pbnQsIGFuY2hvcikge1xuICAgIGlmIChwb2ludC5yb3cgPT0gMClcbiAgICAgICAgcG9pbnQuY29sdW1uICs9IGFuY2hvci5jb2x1bW47XG4gICAgcG9pbnQucm93ICs9IGFuY2hvci5yb3c7XG59XG5mdW5jdGlvbiByZXN0b3JlUmFuZ2UocmFuZ2UsIGFuY2hvcikge1xuICAgIHJlc3RvcmVQb2ludChyYW5nZS5zdGFydCwgYW5jaG9yKTtcbiAgICByZXN0b3JlUG9pbnQocmFuZ2UuZW5kLCBhbmNob3IpO1xufVxuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9lZGl0X3Nlc3Npb24vZm9sZGluZ1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGRfbGluZVwiLFwiYWNlL2VkaXRfc2Vzc2lvbi9mb2xkXCIsXCJhY2UvdG9rZW5faXRlcmF0b3JcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIEZvbGRMaW5lID0gYWNlcXVpcmUoXCIuL2ZvbGRfbGluZVwiKS5Gb2xkTGluZTtcbnZhciBGb2xkID0gYWNlcXVpcmUoXCIuL2ZvbGRcIikuRm9sZDtcbnZhciBUb2tlbkl0ZXJhdG9yID0gYWNlcXVpcmUoXCIuLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yO1xuXG5mdW5jdGlvbiBGb2xkaW5nKCkge1xuICAgIHRoaXMuZ2V0Rm9sZEF0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4sIHNpZGUpIHtcbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShyb3cpO1xuICAgICAgICBpZiAoIWZvbGRMaW5lKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgdmFyIGZvbGRzID0gZm9sZExpbmUuZm9sZHM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmb2xkID0gZm9sZHNbaV07XG4gICAgICAgICAgICBpZiAoZm9sZC5yYW5nZS5jb250YWlucyhyb3csIGNvbHVtbikpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2lkZSA9PSAxICYmIGZvbGQucmFuZ2UuaXNFbmQocm93LCBjb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2lkZSA9PSAtMSAmJiBmb2xkLnJhbmdlLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm9sZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRGb2xkc0luUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSByYW5nZS5zdGFydDtcbiAgICAgICAgdmFyIGVuZCA9IHJhbmdlLmVuZDtcbiAgICAgICAgdmFyIGZvbGRMaW5lcyA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICB2YXIgZm91bmRGb2xkcyA9IFtdO1xuXG4gICAgICAgIHN0YXJ0LmNvbHVtbiArPSAxO1xuICAgICAgICBlbmQuY29sdW1uIC09IDE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2xkTGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjbXAgPSBmb2xkTGluZXNbaV0ucmFuZ2UuY29tcGFyZVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIGlmIChjbXAgPT0gMikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IC0yKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBmb2xkcyA9IGZvbGRMaW5lc1tpXS5mb2xkcztcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZm9sZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9sZCA9IGZvbGRzW2pdO1xuICAgICAgICAgICAgICAgIGNtcCA9IGZvbGQucmFuZ2UuY29tcGFyZVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAoY21wID09IC0yKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgaWYgKGNtcCA9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm91bmRGb2xkcy5wdXNoKGZvbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXJ0LmNvbHVtbiAtPSAxO1xuICAgICAgICBlbmQuY29sdW1uICs9IDE7XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kRm9sZHM7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Rm9sZHNJblJhbmdlTGlzdCA9IGZ1bmN0aW9uKHJhbmdlcykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyYW5nZXMpKSB7XG4gICAgICAgICAgICB2YXIgZm9sZHMgPSBbXTtcbiAgICAgICAgICAgIHJhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgZm9sZHMgPSBmb2xkcy5jb25jYXQodGhpcy5nZXRGb2xkc0luUmFuZ2UocmFuZ2UpKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZvbGRzID0gdGhpcy5nZXRGb2xkc0luUmFuZ2UocmFuZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9sZHM7XG4gICAgfTtcbiAgICB0aGlzLmdldEFsbEZvbGRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBmb2xkcyA9IFtdO1xuICAgICAgICB2YXIgZm9sZExpbmVzID0gdGhpcy4kZm9sZERhdGE7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvbGRMaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZm9sZExpbmVzW2ldLmZvbGRzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIGZvbGRzLnB1c2goZm9sZExpbmVzW2ldLmZvbGRzW2pdKTtcblxuICAgICAgICByZXR1cm4gZm9sZHM7XG4gICAgfTtcbiAgICB0aGlzLmdldEZvbGRTdHJpbmdBdCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uLCB0cmltLCBmb2xkTGluZSkge1xuICAgICAgICBmb2xkTGluZSA9IGZvbGRMaW5lIHx8IHRoaXMuZ2V0Rm9sZExpbmUocm93KTtcbiAgICAgICAgaWYgKCFmb2xkTGluZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciBsYXN0Rm9sZCA9IHtcbiAgICAgICAgICAgIGVuZDogeyBjb2x1bW46IDAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RyLCBmb2xkO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvbGRMaW5lLmZvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb2xkID0gZm9sZExpbmUuZm9sZHNbaV07XG4gICAgICAgICAgICB2YXIgY21wID0gZm9sZC5yYW5nZS5jb21wYXJlRW5kKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdHIgPSB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC5nZXRMaW5lKGZvbGQuc3RhcnQucm93KVxuICAgICAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKGxhc3RGb2xkLmVuZC5jb2x1bW4sIGZvbGQuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdEZvbGQgPSBmb2xkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RyKVxuICAgICAgICAgICAgc3RyID0gdGhpcy5nZXRMaW5lKGZvbGQuc3RhcnQucm93KS5zdWJzdHJpbmcobGFzdEZvbGQuZW5kLmNvbHVtbik7XG5cbiAgICAgICAgaWYgKHRyaW0gPT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBjb2x1bW4gLSBsYXN0Rm9sZC5lbmQuY29sdW1uKTtcbiAgICAgICAgZWxzZSBpZiAodHJpbSA9PSAxKVxuICAgICAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoY29sdW1uIC0gbGFzdEZvbGQuZW5kLmNvbHVtbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Rm9sZExpbmUgPSBmdW5jdGlvbihkb2NSb3csIHN0YXJ0Rm9sZExpbmUpIHtcbiAgICAgICAgdmFyIGZvbGREYXRhID0gdGhpcy4kZm9sZERhdGE7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgaWYgKHN0YXJ0Rm9sZExpbmUpXG4gICAgICAgICAgICBpID0gZm9sZERhdGEuaW5kZXhPZihzdGFydEZvbGRMaW5lKTtcbiAgICAgICAgaWYgKGkgPT0gLTEpXG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgZm9yIChpOyBpIDwgZm9sZERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IGZvbGREYXRhW2ldO1xuICAgICAgICAgICAgaWYgKGZvbGRMaW5lLnN0YXJ0LnJvdyA8PSBkb2NSb3cgJiYgZm9sZExpbmUuZW5kLnJvdyA+PSBkb2NSb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9sZExpbmU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvbGRMaW5lLmVuZC5yb3cgPiBkb2NSb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TmV4dEZvbGRMaW5lID0gZnVuY3Rpb24oZG9jUm93LCBzdGFydEZvbGRMaW5lKSB7XG4gICAgICAgIHZhciBmb2xkRGF0YSA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGlmIChzdGFydEZvbGRMaW5lKVxuICAgICAgICAgICAgaSA9IGZvbGREYXRhLmluZGV4T2Yoc3RhcnRGb2xkTGluZSk7XG4gICAgICAgIGlmIChpID09IC0xKVxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgIGZvciAoaTsgaSA8IGZvbGREYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZm9sZExpbmUgPSBmb2xkRGF0YVtpXTtcbiAgICAgICAgICAgIGlmIChmb2xkTGluZS5lbmQucm93ID49IGRvY1Jvdykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb2xkTGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkZWRSb3dDb3VudCA9IGZ1bmN0aW9uKGZpcnN0LCBsYXN0KSB7XG4gICAgICAgIHZhciBmb2xkRGF0YSA9IHRoaXMuJGZvbGREYXRhLCByb3dDb3VudCA9IGxhc3QtZmlyc3QrMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2xkRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gZm9sZERhdGFbaV0sXG4gICAgICAgICAgICAgICAgZW5kID0gZm9sZExpbmUuZW5kLnJvdyxcbiAgICAgICAgICAgICAgICBzdGFydCA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIGlmIChlbmQgPj0gbGFzdCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGFydCA8IGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID49IGZpcnN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcm93Q291bnQgLT0gbGFzdC1zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcm93Q291bnQgPSAwOyAvLyBpbiBvbmUgZm9sZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kID49IGZpcnN0KXtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPj0gZmlyc3QpIC8vIGZvbGQgaW5zaWRlIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIHJvd0NvdW50IC09ICBlbmQtc3RhcnQ7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByb3dDb3VudCAtPSAgZW5kLWZpcnN0KzE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvd0NvdW50O1xuICAgIH07XG5cbiAgICB0aGlzLiRhZGRGb2xkTGluZSA9IGZ1bmN0aW9uKGZvbGRMaW5lKSB7XG4gICAgICAgIHRoaXMuJGZvbGREYXRhLnB1c2goZm9sZExpbmUpO1xuICAgICAgICB0aGlzLiRmb2xkRGF0YS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnN0YXJ0LnJvdyAtIGIuc3RhcnQucm93O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZvbGRMaW5lO1xuICAgIH07XG4gICAgdGhpcy5hZGRGb2xkID0gZnVuY3Rpb24ocGxhY2Vob2xkZXIsIHJhbmdlKSB7XG4gICAgICAgIHZhciBmb2xkRGF0YSA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICB2YXIgYWRkZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGZvbGQ7XG4gICAgICAgIFxuICAgICAgICBpZiAocGxhY2Vob2xkZXIgaW5zdGFuY2VvZiBGb2xkKVxuICAgICAgICAgICAgZm9sZCA9IHBsYWNlaG9sZGVyO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvbGQgPSBuZXcgRm9sZChyYW5nZSwgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgZm9sZC5jb2xsYXBzZUNoaWxkcmVuID0gcmFuZ2UuY29sbGFwc2VDaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRjbGlwUmFuZ2VUb0RvY3VtZW50KGZvbGQucmFuZ2UpO1xuXG4gICAgICAgIHZhciBzdGFydFJvdyA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBmb2xkLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgdmFyIGVuZFJvdyA9IGZvbGQuZW5kLnJvdztcbiAgICAgICAgdmFyIGVuZENvbHVtbiA9IGZvbGQuZW5kLmNvbHVtbjtcbiAgICAgICAgaWYgKCEoc3RhcnRSb3cgPCBlbmRSb3cgfHwgXG4gICAgICAgICAgICBzdGFydFJvdyA9PSBlbmRSb3cgJiYgc3RhcnRDb2x1bW4gPD0gZW5kQ29sdW1uIC0gMikpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmFuZ2UgaGFzIHRvIGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycyB3aWR0aFwiKTtcblxuICAgICAgICB2YXIgc3RhcnRGb2xkID0gdGhpcy5nZXRGb2xkQXQoc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCAxKTtcbiAgICAgICAgdmFyIGVuZEZvbGQgPSB0aGlzLmdldEZvbGRBdChlbmRSb3csIGVuZENvbHVtbiwgLTEpO1xuICAgICAgICBpZiAoc3RhcnRGb2xkICYmIGVuZEZvbGQgPT0gc3RhcnRGb2xkKVxuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0Rm9sZC5hZGRTdWJGb2xkKGZvbGQpO1xuXG4gICAgICAgIGlmIChzdGFydEZvbGQgJiYgIXN0YXJ0Rm9sZC5yYW5nZS5pc1N0YXJ0KHN0YXJ0Um93LCBzdGFydENvbHVtbikpXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGQoc3RhcnRGb2xkKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbmRGb2xkICYmICFlbmRGb2xkLnJhbmdlLmlzRW5kKGVuZFJvdywgZW5kQ29sdW1uKSlcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRm9sZChlbmRGb2xkKTtcbiAgICAgICAgdmFyIGZvbGRzID0gdGhpcy5nZXRGb2xkc0luUmFuZ2UoZm9sZC5yYW5nZSk7XG4gICAgICAgIGlmIChmb2xkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGRzKGZvbGRzKTtcbiAgICAgICAgICAgIGZvbGRzLmZvckVhY2goZnVuY3Rpb24oc3ViRm9sZCkge1xuICAgICAgICAgICAgICAgIGZvbGQuYWRkU3ViRm9sZChzdWJGb2xkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2xkRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gZm9sZERhdGFbaV07XG4gICAgICAgICAgICBpZiAoZW5kUm93ID09IGZvbGRMaW5lLnN0YXJ0LnJvdykge1xuICAgICAgICAgICAgICAgIGZvbGRMaW5lLmFkZEZvbGQoZm9sZCk7XG4gICAgICAgICAgICAgICAgYWRkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydFJvdyA9PSBmb2xkTGluZS5lbmQucm93KSB7XG4gICAgICAgICAgICAgICAgZm9sZExpbmUuYWRkRm9sZChmb2xkKTtcbiAgICAgICAgICAgICAgICBhZGRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFmb2xkLnNhbWVSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvbGRMaW5lTmV4dCA9IGZvbGREYXRhW2kgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbGRMaW5lTmV4dCAmJiBmb2xkTGluZU5leHQuc3RhcnQucm93ID09IGVuZFJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUubWVyZ2UoZm9sZExpbmVOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRSb3cgPD0gZm9sZExpbmUuc3RhcnQucm93KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFkZGVkKVxuICAgICAgICAgICAgZm9sZExpbmUgPSB0aGlzLiRhZGRGb2xkTGluZShuZXcgRm9sZExpbmUodGhpcy4kZm9sZERhdGEsIGZvbGQpKTtcblxuICAgICAgICBpZiAodGhpcy4kdXNlV3JhcE1vZGUpXG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVXcmFwRGF0YShmb2xkTGluZS5zdGFydC5yb3csIGZvbGRMaW5lLnN0YXJ0LnJvdyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVJvd0xlbmd0aENhY2hlKGZvbGRMaW5lLnN0YXJ0LnJvdywgZm9sZExpbmUuc3RhcnQucm93KTtcbiAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VGb2xkXCIsIHsgZGF0YTogZm9sZCwgYWN0aW9uOiBcImFkZFwiIH0pO1xuXG4gICAgICAgIHJldHVybiBmb2xkO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZEZvbGRzID0gZnVuY3Rpb24oZm9sZHMpIHtcbiAgICAgICAgZm9sZHMuZm9yRWFjaChmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEZvbGQoZm9sZCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUZvbGQgPSBmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgIHZhciBmb2xkTGluZSA9IGZvbGQuZm9sZExpbmU7XG4gICAgICAgIHZhciBzdGFydFJvdyA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgdmFyIGVuZFJvdyA9IGZvbGRMaW5lLmVuZC5yb3c7XG5cbiAgICAgICAgdmFyIGZvbGRMaW5lcyA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICB2YXIgZm9sZHMgPSBmb2xkTGluZS5mb2xkcztcbiAgICAgICAgaWYgKGZvbGRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBmb2xkTGluZXMuc3BsaWNlKGZvbGRMaW5lcy5pbmRleE9mKGZvbGRMaW5lKSwgMSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICBpZiAoZm9sZExpbmUucmFuZ2UuaXNFbmQoZm9sZC5lbmQucm93LCBmb2xkLmVuZC5jb2x1bW4pKSB7XG4gICAgICAgICAgICBmb2xkcy5wb3AoKTtcbiAgICAgICAgICAgIGZvbGRMaW5lLmVuZC5yb3cgPSBmb2xkc1tmb2xkcy5sZW5ndGggLSAxXS5lbmQucm93O1xuICAgICAgICAgICAgZm9sZExpbmUuZW5kLmNvbHVtbiA9IGZvbGRzW2ZvbGRzLmxlbmd0aCAtIDFdLmVuZC5jb2x1bW47XG4gICAgICAgIH0gZWxzZVxuICAgICAgICBpZiAoZm9sZExpbmUucmFuZ2UuaXNTdGFydChmb2xkLnN0YXJ0LnJvdywgZm9sZC5zdGFydC5jb2x1bW4pKSB7XG4gICAgICAgICAgICBmb2xkcy5zaGlmdCgpO1xuICAgICAgICAgICAgZm9sZExpbmUuc3RhcnQucm93ID0gZm9sZHNbMF0uc3RhcnQucm93O1xuICAgICAgICAgICAgZm9sZExpbmUuc3RhcnQuY29sdW1uID0gZm9sZHNbMF0uc3RhcnQuY29sdW1uO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKGZvbGQuc2FtZVJvdykge1xuICAgICAgICAgICAgZm9sZHMuc3BsaWNlKGZvbGRzLmluZGV4T2YoZm9sZCksIDEpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG5ld0ZvbGRMaW5lID0gZm9sZExpbmUuc3BsaXQoZm9sZC5zdGFydC5yb3csIGZvbGQuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgIGZvbGRzID0gbmV3Rm9sZExpbmUuZm9sZHM7XG4gICAgICAgICAgICBmb2xkcy5zaGlmdCgpO1xuICAgICAgICAgICAgbmV3Rm9sZExpbmUuc3RhcnQucm93ID0gZm9sZHNbMF0uc3RhcnQucm93O1xuICAgICAgICAgICAgbmV3Rm9sZExpbmUuc3RhcnQuY29sdW1uID0gZm9sZHNbMF0uc3RhcnQuY29sdW1uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLiR1cGRhdGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKVxuICAgICAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVdyYXBEYXRhKHN0YXJ0Um93LCBlbmRSb3cpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVJvd0xlbmd0aENhY2hlKHN0YXJ0Um93LCBlbmRSb3cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJG1vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlRm9sZFwiLCB7IGRhdGE6IGZvbGQsIGFjdGlvbjogXCJyZW1vdmVcIiB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVGb2xkcyA9IGZ1bmN0aW9uKGZvbGRzKSB7XG4gICAgICAgIHZhciBjbG9uZUZvbGRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNsb25lRm9sZHMucHVzaChmb2xkc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9uZUZvbGRzLmZvckVhY2goZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVGb2xkKGZvbGQpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLmV4cGFuZEZvbGQgPSBmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRm9sZChmb2xkKTtcbiAgICAgICAgZm9sZC5zdWJGb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKHN1YkZvbGQpIHtcbiAgICAgICAgICAgIGZvbGQucmVzdG9yZVJhbmdlKHN1YkZvbGQpO1xuICAgICAgICAgICAgdGhpcy5hZGRGb2xkKHN1YkZvbGQpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgaWYgKGZvbGQuY29sbGFwc2VDaGlsZHJlbiA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZm9sZEFsbChmb2xkLnN0YXJ0LnJvdysxLCBmb2xkLmVuZC5yb3csIGZvbGQuY29sbGFwc2VDaGlsZHJlbi0xKTtcbiAgICAgICAgfVxuICAgICAgICBmb2xkLnN1YkZvbGRzID0gW107XG4gICAgfTtcblxuICAgIHRoaXMuZXhwYW5kRm9sZHMgPSBmdW5jdGlvbihmb2xkcykge1xuICAgICAgICBmb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kRm9sZChmb2xkKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfTtcblxuICAgIHRoaXMudW5mb2xkID0gZnVuY3Rpb24obG9jYXRpb24sIGV4cGFuZElubmVyKSB7XG4gICAgICAgIHZhciByYW5nZSwgZm9sZHM7XG4gICAgICAgIGlmIChsb2NhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICByYW5nZSA9IG5ldyBSYW5nZSgwLCAwLCB0aGlzLmdldExlbmd0aCgpLCAwKTtcbiAgICAgICAgICAgIGV4cGFuZElubmVyID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbG9jYXRpb24gPT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKGxvY2F0aW9uLCAwLCBsb2NhdGlvbiwgdGhpcy5nZXRMaW5lKGxvY2F0aW9uKS5sZW5ndGgpO1xuICAgICAgICBlbHNlIGlmIChcInJvd1wiIGluIGxvY2F0aW9uKVxuICAgICAgICAgICAgcmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKGxvY2F0aW9uLCBsb2NhdGlvbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJhbmdlID0gbG9jYXRpb247XG4gICAgICAgIFxuICAgICAgICBmb2xkcyA9IHRoaXMuZ2V0Rm9sZHNJblJhbmdlTGlzdChyYW5nZSk7XG4gICAgICAgIGlmIChleHBhbmRJbm5lcikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVGb2xkcyhmb2xkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3ViRm9sZHMgPSBmb2xkcztcbiAgICAgICAgICAgIHdoaWxlIChzdWJGb2xkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZEZvbGRzKHN1YkZvbGRzKTtcbiAgICAgICAgICAgICAgICBzdWJGb2xkcyA9IHRoaXMuZ2V0Rm9sZHNJblJhbmdlTGlzdChyYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvbGRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmb2xkcztcbiAgICB9O1xuICAgIHRoaXMuaXNSb3dGb2xkZWQgPSBmdW5jdGlvbihkb2NSb3csIHN0YXJ0Rm9sZFJvdykge1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldEZvbGRMaW5lKGRvY1Jvdywgc3RhcnRGb2xkUm93KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRSb3dGb2xkRW5kID0gZnVuY3Rpb24oZG9jUm93LCBzdGFydEZvbGRSb3cpIHtcbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShkb2NSb3csIHN0YXJ0Rm9sZFJvdyk7XG4gICAgICAgIHJldHVybiBmb2xkTGluZSA/IGZvbGRMaW5lLmVuZC5yb3cgOiBkb2NSb3c7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Um93Rm9sZFN0YXJ0ID0gZnVuY3Rpb24oZG9jUm93LCBzdGFydEZvbGRSb3cpIHtcbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShkb2NSb3csIHN0YXJ0Rm9sZFJvdyk7XG4gICAgICAgIHJldHVybiBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IGRvY1JvdztcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkRGlzcGxheUxpbmUgPSBmdW5jdGlvbihmb2xkTGluZSwgZW5kUm93LCBlbmRDb2x1bW4sIHN0YXJ0Um93LCBzdGFydENvbHVtbikge1xuICAgICAgICBpZiAoc3RhcnRSb3cgPT0gbnVsbClcbiAgICAgICAgICAgIHN0YXJ0Um93ID0gZm9sZExpbmUuc3RhcnQucm93O1xuICAgICAgICBpZiAoc3RhcnRDb2x1bW4gPT0gbnVsbClcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gMDtcbiAgICAgICAgaWYgKGVuZFJvdyA9PSBudWxsKVxuICAgICAgICAgICAgZW5kUm93ID0gZm9sZExpbmUuZW5kLnJvdztcbiAgICAgICAgaWYgKGVuZENvbHVtbiA9PSBudWxsKVxuICAgICAgICAgICAgZW5kQ29sdW1uID0gdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoO1xuICAgICAgICB2YXIgZG9jID0gdGhpcy5kb2M7XG4gICAgICAgIHZhciB0ZXh0TGluZSA9IFwiXCI7XG5cbiAgICAgICAgZm9sZExpbmUud2FsayhmdW5jdGlvbihwbGFjZWhvbGRlciwgcm93LCBjb2x1bW4sIGxhc3RDb2x1bW4pIHtcbiAgICAgICAgICAgIGlmIChyb3cgPCBzdGFydFJvdylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAocm93ID09IHN0YXJ0Um93KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbiA8IHN0YXJ0Q29sdW1uKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgbGFzdENvbHVtbiA9IE1hdGgubWF4KHN0YXJ0Q29sdW1uLCBsYXN0Q29sdW1uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0ZXh0TGluZSArPSBwbGFjZWhvbGRlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dExpbmUgKz0gZG9jLmdldExpbmUocm93KS5zdWJzdHJpbmcobGFzdENvbHVtbiwgY29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZW5kUm93LCBlbmRDb2x1bW4pO1xuICAgICAgICByZXR1cm4gdGV4dExpbmU7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RGlzcGxheUxpbmUgPSBmdW5jdGlvbihyb3csIGVuZENvbHVtbiwgc3RhcnRSb3csIHN0YXJ0Q29sdW1uKSB7XG4gICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0Rm9sZExpbmUocm93KTtcblxuICAgICAgICBpZiAoIWZvbGRMaW5lKSB7XG4gICAgICAgICAgICB2YXIgbGluZTtcbiAgICAgICAgICAgIGxpbmUgPSB0aGlzLmRvYy5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICByZXR1cm4gbGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4gfHwgMCwgZW5kQ29sdW1uIHx8IGxpbmUubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZvbGREaXNwbGF5TGluZShcbiAgICAgICAgICAgICAgICBmb2xkTGluZSwgcm93LCBlbmRDb2x1bW4sIHN0YXJ0Um93LCBzdGFydENvbHVtbik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kY2xvbmVGb2xkRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZmQgPSBbXTtcbiAgICAgICAgZmQgPSB0aGlzLiRmb2xkRGF0YS5tYXAoZnVuY3Rpb24oZm9sZExpbmUpIHtcbiAgICAgICAgICAgIHZhciBmb2xkcyA9IGZvbGRMaW5lLmZvbGRzLm1hcChmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbGQuY2xvbmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGb2xkTGluZShmZCwgZm9sZHMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZmQ7XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlRm9sZCA9IGZ1bmN0aW9uKHRyeVRvVW5mb2xkKSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbjtcbiAgICAgICAgdmFyIHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgIHZhciBmb2xkO1xuICAgICAgICB2YXIgYnJhY2tldFBvcztcblxuICAgICAgICBpZiAocmFuZ2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgICAgICBmb2xkID0gdGhpcy5nZXRGb2xkQXQoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG5cbiAgICAgICAgICAgIGlmIChmb2xkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRGb2xkKGZvbGQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJhY2tldFBvcyA9IHRoaXMuZmluZE1hdGNoaW5nQnJhY2tldChjdXJzb3IpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLmNvbXBhcmVQb2ludChicmFja2V0UG9zKSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLmVuZCA9IGJyYWNrZXRQb3M7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQgPSBicmFja2V0UG9zO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbi0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJhY2tldFBvcyA9IHRoaXMuZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OiBjdXJzb3Iucm93LCBjb2x1bW46IGN1cnNvci5jb2x1bW4gKyAxfSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuY29tcGFyZVBvaW50KGJyYWNrZXRQb3MpID09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLmVuZCA9IGJyYWNrZXRQb3M7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByYW5nZS5zdGFydCA9IGJyYWNrZXRQb3M7XG5cbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4rKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmdldENvbW1lbnRGb2xkUmFuZ2UoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbikgfHwgcmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZm9sZHMgPSB0aGlzLmdldEZvbGRzSW5SYW5nZShyYW5nZSk7XG4gICAgICAgICAgICBpZiAodHJ5VG9VbmZvbGQgJiYgZm9sZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRGb2xkcyhmb2xkcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmb2xkcy5sZW5ndGggPT0gMSApIHtcbiAgICAgICAgICAgICAgICBmb2xkID0gZm9sZHNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvbGQpXG4gICAgICAgICAgICBmb2xkID0gdGhpcy5nZXRGb2xkQXQocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5zdGFydC5jb2x1bW4pO1xuXG4gICAgICAgIGlmIChmb2xkICYmIGZvbGQucmFuZ2UudG9TdHJpbmcoKSA9PSByYW5nZS50b1N0cmluZygpKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuZEZvbGQoZm9sZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBcIi4uLlwiO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyLmxlbmd0aCA8IDQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlci50cmltKCkuc3Vic3RyaW5nKDAsIDIpICsgXCIuLlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRGb2xkKHBsYWNlaG9sZGVyLCByYW5nZSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q29tbWVudEZvbGRSYW5nZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uLCBkaXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3IodGhpcywgcm93LCBjb2x1bW4pO1xuICAgICAgICB2YXIgdG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgICAgICAgaWYgKHRva2VuICYmIC9eY29tbWVudHxzdHJpbmcvLnRlc3QodG9rZW4udHlwZSkpIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZSgpO1xuICAgICAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cCh0b2tlbi50eXBlLnJlcGxhY2UoL1xcLi4qLywgXCJcXFxcLlwiKSk7XG4gICAgICAgICAgICBpZiAoZGlyICE9IDEpIHtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gaXRlcmF0b3Iuc3RlcEJhY2t3YXJkKCk7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4gJiYgcmUudGVzdCh0b2tlbi50eXBlKSk7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3Iuc3RlcEZvcndhcmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmFuZ2Uuc3RhcnQucm93ID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCk7XG4gICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSArIDI7XG5cbiAgICAgICAgICAgIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3IodGhpcywgcm93LCBjb2x1bW4pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZGlyICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4gJiYgcmUudGVzdCh0b2tlbi50eXBlKSk7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwQmFja3dhcmQoKTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG5cbiAgICAgICAgICAgIHJhbmdlLmVuZC5yb3cgPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Sb3coKTtcbiAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSArIHRva2VuLnZhbHVlLmxlbmd0aCAtIDI7XG4gICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5mb2xkQWxsID0gZnVuY3Rpb24oc3RhcnRSb3csIGVuZFJvdywgZGVwdGgpIHtcbiAgICAgICAgaWYgKGRlcHRoID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGRlcHRoID0gMTAwMDAwOyAvLyBKU09OLnN0cmluZ2lmeSBkb2Vzbid0IGhhbmxlIEluZmluaXR5XG4gICAgICAgIHZhciBmb2xkV2lkZ2V0cyA9IHRoaXMuZm9sZFdpZGdldHM7XG4gICAgICAgIGlmICghZm9sZFdpZGdldHMpXG4gICAgICAgICAgICByZXR1cm47IC8vIG1vZGUgZG9lc24ndCBzdXBwb3J0IGZvbGRpbmdcbiAgICAgICAgZW5kUm93ID0gZW5kUm93IHx8IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHN0YXJ0Um93ID0gc3RhcnRSb3cgfHwgMDtcbiAgICAgICAgZm9yICh2YXIgcm93ID0gc3RhcnRSb3c7IHJvdyA8IGVuZFJvdzsgcm93KyspIHtcbiAgICAgICAgICAgIGlmIChmb2xkV2lkZ2V0c1tyb3ddID09IG51bGwpXG4gICAgICAgICAgICAgICAgZm9sZFdpZGdldHNbcm93XSA9IHRoaXMuZ2V0Rm9sZFdpZGdldChyb3cpO1xuICAgICAgICAgICAgaWYgKGZvbGRXaWRnZXRzW3Jvd10gIT0gXCJzdGFydFwiKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShyb3cpO1xuICAgICAgICAgICAgaWYgKHJhbmdlICYmIHJhbmdlLmlzTXVsdGlMaW5lKClcbiAgICAgICAgICAgICAgICAmJiByYW5nZS5lbmQucm93IDw9IGVuZFJvd1xuICAgICAgICAgICAgICAgICYmIHJhbmdlLnN0YXJ0LnJvdyA+PSBzdGFydFJvd1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcm93ID0gcmFuZ2UuZW5kLnJvdztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9sZCA9IHRoaXMuYWRkRm9sZChcIi4uLlwiLCByYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2xkKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZC5jb2xsYXBzZUNoaWxkcmVuID0gZGVwdGg7XG4gICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLiRmb2xkU3R5bGVzID0ge1xuICAgICAgICBcIm1hbnVhbFwiOiAxLFxuICAgICAgICBcIm1hcmtiZWdpblwiOiAxLFxuICAgICAgICBcIm1hcmtiZWdpbmVuZFwiOiAxXG4gICAgfTtcbiAgICB0aGlzLiRmb2xkU3R5bGUgPSBcIm1hcmtiZWdpblwiO1xuICAgIHRoaXMuc2V0Rm9sZFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRmb2xkU3R5bGVzW3N0eWxlXSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgZm9sZCBzdHlsZTogXCIgKyBzdHlsZSArIFwiW1wiICsgT2JqZWN0LmtleXModGhpcy4kZm9sZFN0eWxlcykuam9pbihcIiwgXCIpICsgXCJdXCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuJGZvbGRTdHlsZSA9PSBzdHlsZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLiRmb2xkU3R5bGUgPSBzdHlsZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzdHlsZSA9PSBcIm1hbnVhbFwiKVxuICAgICAgICAgICAgdGhpcy51bmZvbGQoKTtcbiAgICAgICAgdmFyIG1vZGUgPSB0aGlzLiRmb2xkTW9kZTtcbiAgICAgICAgdGhpcy4kc2V0Rm9sZGluZyhudWxsKTtcbiAgICAgICAgdGhpcy4kc2V0Rm9sZGluZyhtb2RlKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kc2V0Rm9sZGluZyA9IGZ1bmN0aW9uKGZvbGRNb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLiRmb2xkTW9kZSA9PSBmb2xkTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICB0aGlzLiRmb2xkTW9kZSA9IGZvbGRNb2RlO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5vZmYoJ2NoYW5nZScsIHRoaXMuJHVwZGF0ZUZvbGRXaWRnZXRzKTtcbiAgICAgICAgdGhpcy5vZmYoJ3Rva2VuaXplclVwZGF0ZScsIHRoaXMuJHRva2VuaXplclVwZGF0ZUZvbGRXaWRnZXRzKTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlQW5ub3RhdGlvblwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghZm9sZE1vZGUgfHwgdGhpcy4kZm9sZFN0eWxlID09IFwibWFudWFsXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZm9sZFdpZGdldHMgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLmZvbGRXaWRnZXRzID0gW107XG4gICAgICAgIHRoaXMuZ2V0Rm9sZFdpZGdldCA9IGZvbGRNb2RlLmdldEZvbGRXaWRnZXQuYmluZChmb2xkTW9kZSwgdGhpcywgdGhpcy4kZm9sZFN0eWxlKTtcbiAgICAgICAgdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UgPSBmb2xkTW9kZS5nZXRGb2xkV2lkZ2V0UmFuZ2UuYmluZChmb2xkTW9kZSwgdGhpcywgdGhpcy4kZm9sZFN0eWxlKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuJHVwZGF0ZUZvbGRXaWRnZXRzID0gdGhpcy51cGRhdGVGb2xkV2lkZ2V0cy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLiR0b2tlbml6ZXJVcGRhdGVGb2xkV2lkZ2V0cyA9IHRoaXMudG9rZW5pemVyVXBkYXRlRm9sZFdpZGdldHMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbignY2hhbmdlJywgdGhpcy4kdXBkYXRlRm9sZFdpZGdldHMpO1xuICAgICAgICB0aGlzLm9uKCd0b2tlbml6ZXJVcGRhdGUnLCB0aGlzLiR0b2tlbml6ZXJVcGRhdGVGb2xkV2lkZ2V0cyk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0UGFyZW50Rm9sZFJhbmdlRGF0YSA9IGZ1bmN0aW9uIChyb3csIGlnbm9yZUN1cnJlbnQpIHtcbiAgICAgICAgdmFyIGZ3ID0gdGhpcy5mb2xkV2lkZ2V0cztcbiAgICAgICAgaWYgKCFmdyB8fCAoaWdub3JlQ3VycmVudCAmJiBmd1tyb3ddKSlcbiAgICAgICAgICAgIHJldHVybiB7fTtcblxuICAgICAgICB2YXIgaSA9IHJvdyAtIDEsIGZpcnN0UmFuZ2U7XG4gICAgICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgICAgICAgIHZhciBjID0gZndbaV07XG4gICAgICAgICAgICBpZiAoYyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGMgPSBmd1tpXSA9IHRoaXMuZ2V0Rm9sZFdpZGdldChpKTtcblxuICAgICAgICAgICAgaWYgKGMgPT0gXCJzdGFydFwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UoaSk7XG4gICAgICAgICAgICAgICAgaWYgKCFmaXJzdFJhbmdlKVxuICAgICAgICAgICAgICAgICAgICBmaXJzdFJhbmdlID0gcmFuZ2U7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlICYmIHJhbmdlLmVuZC5yb3cgPj0gcm93KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYW5nZTogaSAhPT0gLTEgJiYgcmFuZ2UsXG4gICAgICAgICAgICBmaXJzdFJhbmdlOiBmaXJzdFJhbmdlXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHRoaXMub25Gb2xkV2lkZ2V0Q2xpY2sgPSBmdW5jdGlvbihyb3csIGUpIHtcbiAgICAgICAgZSA9IGUuZG9tRXZlbnQ7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgY2hpbGRyZW46IGUuc2hpZnRLZXksXG4gICAgICAgICAgICBhbGw6IGUuY3RybEtleSB8fCBlLm1ldGFLZXksXG4gICAgICAgICAgICBzaWJsaW5nczogZS5hbHRLZXlcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuJHRvZ2dsZUZvbGRXaWRnZXQocm93LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFyYW5nZSkge1xuICAgICAgICAgICAgdmFyIGVsID0gKGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoZWwgJiYgL2FjZV9mb2xkLXdpZGdldC8udGVzdChlbC5jbGFzc05hbWUpKVxuICAgICAgICAgICAgICAgIGVsLmNsYXNzTmFtZSArPSBcIiBhY2VfaW52YWxpZFwiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiR0b2dnbGVGb2xkV2lkZ2V0ID0gZnVuY3Rpb24ocm93LCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5nZXRGb2xkV2lkZ2V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0Rm9sZFdpZGdldChyb3cpO1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMuZ2V0TGluZShyb3cpO1xuXG4gICAgICAgIHZhciBkaXIgPSB0eXBlID09PSBcImVuZFwiID8gLTEgOiAxO1xuICAgICAgICB2YXIgZm9sZCA9IHRoaXMuZ2V0Rm9sZEF0KHJvdywgZGlyID09PSAtMSA/IDAgOiBsaW5lLmxlbmd0aCwgZGlyKTtcblxuICAgICAgICBpZiAoZm9sZCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2hpbGRyZW4gfHwgb3B0aW9ucy5hbGwpXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGb2xkKGZvbGQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kRm9sZChmb2xkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlKHJvdywgdHJ1ZSk7XG4gICAgICAgIGlmIChyYW5nZSAmJiAhcmFuZ2UuaXNNdWx0aUxpbmUoKSkge1xuICAgICAgICAgICAgZm9sZCA9IHRoaXMuZ2V0Rm9sZEF0KHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uLCAxKTtcbiAgICAgICAgICAgIGlmIChmb2xkICYmIHJhbmdlLmlzRXF1YWwoZm9sZC5yYW5nZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGQoZm9sZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAob3B0aW9ucy5zaWJsaW5ncykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldFBhcmVudEZvbGRSYW5nZURhdGEocm93KTtcbiAgICAgICAgICAgIGlmIChkYXRhLnJhbmdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gZGF0YS5yYW5nZS5zdGFydC5yb3cgKyAxO1xuICAgICAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkYXRhLnJhbmdlLmVuZC5yb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZvbGRBbGwoc3RhcnRSb3csIGVuZFJvdywgb3B0aW9ucy5hbGwgPyAxMDAwMCA6IDApO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGVuZFJvdyA9IHJhbmdlID8gcmFuZ2UuZW5kLnJvdyA6IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgICAgICAgICB0aGlzLmZvbGRBbGwocm93ICsgMSwgZW5kUm93LCBvcHRpb25zLmFsbCA/IDEwMDAwIDogMCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFsbCkgXG4gICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2VDaGlsZHJlbiA9IDEwMDAwO1xuICAgICAgICAgICAgdGhpcy5hZGRGb2xkKFwiLi4uXCIsIHJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH07XG4gICAgXG4gICAgXG4gICAgXG4gICAgdGhpcy50b2dnbGVGb2xkV2lkZ2V0ID0gZnVuY3Rpb24odG9nZ2xlUGFyZW50KSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKS5yb3c7XG4gICAgICAgIHJvdyA9IHRoaXMuZ2V0Um93Rm9sZFN0YXJ0KHJvdyk7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuJHRvZ2dsZUZvbGRXaWRnZXQocm93LCB7fSk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmFuZ2UpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRQYXJlbnRGb2xkUmFuZ2VEYXRhKHJvdywgdHJ1ZSk7XG4gICAgICAgIHJhbmdlID0gZGF0YS5yYW5nZSB8fCBkYXRhLmZpcnN0UmFuZ2U7XG4gICAgICAgIFxuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIHJvdyA9IHJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHZhciBmb2xkID0gdGhpcy5nZXRGb2xkQXQocm93LCB0aGlzLmdldExpbmUocm93KS5sZW5ndGgsIDEpO1xuXG4gICAgICAgICAgICBpZiAoZm9sZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRm9sZChmb2xkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRGb2xkKFwiLi4uXCIsIHJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZUZvbGRXaWRnZXRzID0gZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gZGVsdGEuc3RhcnQucm93O1xuICAgICAgICB2YXIgbGVuID0gZGVsdGEuZW5kLnJvdyAtIGZpcnN0Um93O1xuXG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZm9sZFdpZGdldHNbZmlyc3RSb3ddID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT0gJ3JlbW92ZScpIHtcbiAgICAgICAgICAgIHRoaXMuZm9sZFdpZGdldHMuc3BsaWNlKGZpcnN0Um93LCBsZW4gKyAxLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuICsgMSk7XG4gICAgICAgICAgICBhcmdzLnVuc2hpZnQoZmlyc3RSb3csIDEpO1xuICAgICAgICAgICAgdGhpcy5mb2xkV2lkZ2V0cy5zcGxpY2UuYXBwbHkodGhpcy5mb2xkV2lkZ2V0cywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudG9rZW5pemVyVXBkYXRlRm9sZFdpZGdldHMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciByb3dzID0gZS5kYXRhO1xuICAgICAgICBpZiAocm93cy5maXJzdCAhPSByb3dzLmxhc3QpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvbGRXaWRnZXRzLmxlbmd0aCA+IHJvd3MuZmlyc3QpXG4gICAgICAgICAgICAgICAgdGhpcy5mb2xkV2lkZ2V0cy5zcGxpY2Uocm93cy5maXJzdCwgdGhpcy5mb2xkV2lkZ2V0cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0cy5Gb2xkaW5nID0gRm9sZGluZztcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvZWRpdF9zZXNzaW9uL2JyYWNrZXRfbWF0Y2hcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS90b2tlbl9pdGVyYXRvclwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFRva2VuSXRlcmF0b3IgPSBhY2VxdWlyZShcIi4uL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3I7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xuXG5cbmZ1bmN0aW9uIEJyYWNrZXRNYXRjaCgpIHtcblxuICAgIHRoaXMuZmluZE1hdGNoaW5nQnJhY2tldCA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBjaHIpIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uLmNvbHVtbiA9PSAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgY2hhckJlZm9yZUN1cnNvciA9IGNociB8fCB0aGlzLmdldExpbmUocG9zaXRpb24ucm93KS5jaGFyQXQocG9zaXRpb24uY29sdW1uLTEpO1xuICAgICAgICBpZiAoY2hhckJlZm9yZUN1cnNvciA9PSBcIlwiKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgbWF0Y2ggPSBjaGFyQmVmb3JlQ3Vyc29yLm1hdGNoKC8oW1xcKFxcW1xce10pfChbXFwpXFxdXFx9XSkvKTtcbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGlmIChtYXRjaFsxXSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQobWF0Y2hbMV0sIHBvc2l0aW9uKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGZpbmRPcGVuaW5nQnJhY2tldChtYXRjaFsyXSwgcG9zaXRpb24pO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRCcmFja2V0UmFuZ2UgPSBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocG9zLnJvdyk7XG4gICAgICAgIHZhciBiZWZvcmUgPSB0cnVlLCByYW5nZTtcblxuICAgICAgICB2YXIgY2hyID0gbGluZS5jaGFyQXQocG9zLmNvbHVtbi0xKTtcbiAgICAgICAgdmFyIG1hdGNoID0gY2hyICYmIGNoci5tYXRjaCgvKFtcXChcXFtcXHtdKXwoW1xcKVxcXVxcfV0pLyk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIGNociA9IGxpbmUuY2hhckF0KHBvcy5jb2x1bW4pO1xuICAgICAgICAgICAgcG9zID0ge3JvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uICsgMX07XG4gICAgICAgICAgICBtYXRjaCA9IGNociAmJiBjaHIubWF0Y2goLyhbXFwoXFxbXFx7XSl8KFtcXClcXF1cXH1dKS8pO1xuICAgICAgICAgICAgYmVmb3JlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgdmFyIGJyYWNrZXRQb3MgPSB0aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQobWF0Y2hbMV0sIHBvcyk7XG4gICAgICAgICAgICBpZiAoIWJyYWNrZXRQb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocG9zLCBicmFja2V0UG9zKTtcbiAgICAgICAgICAgIGlmICghYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbi0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmFuZ2UuY3Vyc29yID0gcmFuZ2UuZW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGJyYWNrZXRQb3MgPSB0aGlzLiRmaW5kT3BlbmluZ0JyYWNrZXQobWF0Y2hbMl0sIHBvcyk7XG4gICAgICAgICAgICBpZiAoIWJyYWNrZXRQb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMoYnJhY2tldFBvcywgcG9zKTtcbiAgICAgICAgICAgIGlmICghYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uKys7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbi0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmFuZ2UuY3Vyc29yID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kYnJhY2tldHMgPSB7XG4gICAgICAgIFwiKVwiOiBcIihcIixcbiAgICAgICAgXCIoXCI6IFwiKVwiLFxuICAgICAgICBcIl1cIjogXCJbXCIsXG4gICAgICAgIFwiW1wiOiBcIl1cIixcbiAgICAgICAgXCJ7XCI6IFwifVwiLFxuICAgICAgICBcIn1cIjogXCJ7XCJcbiAgICB9O1xuXG4gICAgdGhpcy4kZmluZE9wZW5pbmdCcmFja2V0ID0gZnVuY3Rpb24oYnJhY2tldCwgcG9zaXRpb24sIHR5cGVSZSkge1xuICAgICAgICB2YXIgb3BlbkJyYWNrZXQgPSB0aGlzLiRicmFja2V0c1ticmFja2V0XTtcbiAgICAgICAgdmFyIGRlcHRoID0gMTtcblxuICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcih0aGlzLCBwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7XG4gICAgICAgIHZhciB0b2tlbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbigpO1xuICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgIGlmICghdHlwZVJlKXtcbiAgICAgICAgICAgIHR5cGVSZSA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgXCIoXFxcXC4/XCIgK1xuICAgICAgICAgICAgICAgIHRva2VuLnR5cGUucmVwbGFjZShcIi5cIiwgXCJcXFxcLlwiKS5yZXBsYWNlKFwicnBhcmVuXCIsIFwiLnBhcmVuXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXGIoPzplbmQpXFxiLywgXCIoPzpzdGFydHxiZWdpbnxlbmQpXCIpXG4gICAgICAgICAgICAgICAgKyBcIikrXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlSW5kZXggPSBwb3NpdGlvbi5jb2x1bW4gLSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSAtIDI7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgXG4gICAgICAgICAgICB3aGlsZSAodmFsdWVJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNociA9IHZhbHVlLmNoYXJBdCh2YWx1ZUluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hyID09IG9wZW5CcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3JvdzogaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB2YWx1ZUluZGV4ICsgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCl9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNociA9PSBicmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlSW5kZXggLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4gJiYgIXR5cGVSZS50ZXN0KHRva2VuLnR5cGUpKTtcblxuICAgICAgICAgICAgaWYgKHRva2VuID09IG51bGwpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB2YWx1ZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgdmFsdWVJbmRleCA9IHZhbHVlLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQgPSBmdW5jdGlvbihicmFja2V0LCBwb3NpdGlvbiwgdHlwZVJlKSB7XG4gICAgICAgIHZhciBjbG9zaW5nQnJhY2tldCA9IHRoaXMuJGJyYWNrZXRzW2JyYWNrZXRdO1xuICAgICAgICB2YXIgZGVwdGggPSAxO1xuXG4gICAgICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHRoaXMsIHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTtcbiAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG4gICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0eXBlUmUpe1xuICAgICAgICAgICAgdHlwZVJlID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICBcIihcXFxcLj9cIiArXG4gICAgICAgICAgICAgICAgdG9rZW4udHlwZS5yZXBsYWNlKFwiLlwiLCBcIlxcXFwuXCIpLnJlcGxhY2UoXCJscGFyZW5cIiwgXCIucGFyZW5cIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcYig/OnN0YXJ0fGJlZ2luKVxcYi8sIFwiKD86c3RhcnR8YmVnaW58ZW5kKVwiKVxuICAgICAgICAgICAgICAgICsgXCIpK1wiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZUluZGV4ID0gcG9zaXRpb24uY29sdW1uIC0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCk7XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcblxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICB2YXIgdmFsdWVMZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAodmFsdWVJbmRleCA8IHZhbHVlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNociA9IHZhbHVlLmNoYXJBdCh2YWx1ZUluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hyID09IGNsb3NpbmdCcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3JvdzogaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB2YWx1ZUluZGV4ICsgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCl9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNociA9PSBicmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlSW5kZXggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgICAgICB9IHdoaWxlICh0b2tlbiAmJiAhdHlwZVJlLnRlc3QodG9rZW4udHlwZSkpO1xuXG4gICAgICAgICAgICBpZiAodG9rZW4gPT0gbnVsbClcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgdmFsdWVJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG59XG5leHBvcnRzLkJyYWNrZXRNYXRjaCA9IEJyYWNrZXRNYXRjaDtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvZWRpdF9zZXNzaW9uXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvY29uZmlnXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIixcImFjZS9zZWxlY3Rpb25cIixcImFjZS9tb2RlL3RleHRcIixcImFjZS9yYW5nZVwiLFwiYWNlL2RvY3VtZW50XCIsXCJhY2UvYmFja2dyb3VuZF90b2tlbml6ZXJcIixcImFjZS9zZWFyY2hfaGlnaGxpZ2h0XCIsXCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGRpbmdcIixcImFjZS9lZGl0X3Nlc3Npb24vYnJhY2tldF9tYXRjaFwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIGNvbmZpZyA9IGFjZXF1aXJlKFwiLi9jb25maWdcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gYWNlcXVpcmUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcbnZhciBTZWxlY3Rpb24gPSBhY2VxdWlyZShcIi4vc2VsZWN0aW9uXCIpLlNlbGVjdGlvbjtcbnZhciBUZXh0TW9kZSA9IGFjZXF1aXJlKFwiLi9tb2RlL3RleHRcIikuTW9kZTtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBEb2N1bWVudCA9IGFjZXF1aXJlKFwiLi9kb2N1bWVudFwiKS5Eb2N1bWVudDtcbnZhciBCYWNrZ3JvdW5kVG9rZW5pemVyID0gYWNlcXVpcmUoXCIuL2JhY2tncm91bmRfdG9rZW5pemVyXCIpLkJhY2tncm91bmRUb2tlbml6ZXI7XG52YXIgU2VhcmNoSGlnaGxpZ2h0ID0gYWNlcXVpcmUoXCIuL3NlYXJjaF9oaWdobGlnaHRcIikuU2VhcmNoSGlnaGxpZ2h0O1xuXG52YXIgRWRpdFNlc3Npb24gPSBmdW5jdGlvbih0ZXh0LCBtb2RlKSB7XG4gICAgdGhpcy4kYnJlYWtwb2ludHMgPSBbXTtcbiAgICB0aGlzLiRkZWNvcmF0aW9ucyA9IFtdO1xuICAgIHRoaXMuJGZyb250TWFya2VycyA9IHt9O1xuICAgIHRoaXMuJGJhY2tNYXJrZXJzID0ge307XG4gICAgdGhpcy4kbWFya2VySWQgPSAxO1xuICAgIHRoaXMuJHVuZG9TZWxlY3QgPSB0cnVlO1xuXG4gICAgdGhpcy4kZm9sZERhdGEgPSBbXTtcbiAgICB0aGlzLiRmb2xkRGF0YS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5qb2luKFwiXFxuXCIpO1xuICAgIH07XG4gICAgdGhpcy5vbihcImNoYW5nZUZvbGRcIiwgdGhpcy5vbkNoYW5nZUZvbGQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG5cbiAgICBpZiAodHlwZW9mIHRleHQgIT0gXCJvYmplY3RcIiB8fCAhdGV4dC5nZXRMaW5lKVxuICAgICAgICB0ZXh0ID0gbmV3IERvY3VtZW50KHRleHQpO1xuXG4gICAgdGhpcy5zZXREb2N1bWVudCh0ZXh0KTtcbiAgICB0aGlzLnNlbGVjdGlvbiA9IG5ldyBTZWxlY3Rpb24odGhpcyk7XG5cbiAgICBjb25maWcucmVzZXRPcHRpb25zKHRoaXMpO1xuICAgIHRoaXMuc2V0TW9kZShtb2RlKTtcbiAgICBjb25maWcuX3NpZ25hbChcInNlc3Npb25cIiwgdGhpcyk7XG59O1xuXG5cbihmdW5jdGlvbigpIHtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcbiAgICB0aGlzLnNldERvY3VtZW50ID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgIGlmICh0aGlzLmRvYylcbiAgICAgICAgICAgIHRoaXMuZG9jLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMuJG9uQ2hhbmdlKTtcblxuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgZG9jLm9uKFwiY2hhbmdlXCIsIHRoaXMuJG9uQ2hhbmdlKTtcblxuICAgICAgICBpZiAodGhpcy5iZ1Rva2VuaXplcilcbiAgICAgICAgICAgIHRoaXMuYmdUb2tlbml6ZXIuc2V0RG9jdW1lbnQodGhpcy5nZXREb2N1bWVudCgpKTtcblxuICAgICAgICB0aGlzLnJlc2V0Q2FjaGVzKCk7XG4gICAgfTtcbiAgICB0aGlzLmdldERvY3VtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYztcbiAgICB9O1xuICAgIHRoaXMuJHJlc2V0Um93Q2FjaGUgPSBmdW5jdGlvbihkb2NSb3cpIHtcbiAgICAgICAgaWYgKCFkb2NSb3cpIHtcbiAgICAgICAgICAgIHRoaXMuJGRvY1Jvd0NhY2hlID0gW107XG4gICAgICAgICAgICB0aGlzLiRzY3JlZW5Sb3dDYWNoZSA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsID0gdGhpcy4kZG9jUm93Q2FjaGUubGVuZ3RoO1xuICAgICAgICB2YXIgaSA9IHRoaXMuJGdldFJvd0NhY2hlSW5kZXgodGhpcy4kZG9jUm93Q2FjaGUsIGRvY1JvdykgKyAxO1xuICAgICAgICBpZiAobCA+IGkpIHtcbiAgICAgICAgICAgIHRoaXMuJGRvY1Jvd0NhY2hlLnNwbGljZShpLCBsKTtcbiAgICAgICAgICAgIHRoaXMuJHNjcmVlblJvd0NhY2hlLnNwbGljZShpLCBsKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRnZXRSb3dDYWNoZUluZGV4ID0gZnVuY3Rpb24oY2FjaGVBcnJheSwgdmFsKSB7XG4gICAgICAgIHZhciBsb3cgPSAwO1xuICAgICAgICB2YXIgaGkgPSBjYWNoZUFycmF5Lmxlbmd0aCAtIDE7XG5cbiAgICAgICAgd2hpbGUgKGxvdyA8PSBoaSkge1xuICAgICAgICAgICAgdmFyIG1pZCA9IChsb3cgKyBoaSkgPj4gMTtcbiAgICAgICAgICAgIHZhciBjID0gY2FjaGVBcnJheVttaWRdO1xuXG4gICAgICAgICAgICBpZiAodmFsID4gYylcbiAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgICAgZWxzZSBpZiAodmFsIDwgYylcbiAgICAgICAgICAgICAgICBoaSA9IG1pZCAtIDE7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsb3cgLTE7XG4gICAgfTtcblxuICAgIHRoaXMucmVzZXRDYWNoZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLiR3cmFwRGF0YSA9IFtdO1xuICAgICAgICB0aGlzLiRyb3dMZW5ndGhDYWNoZSA9IFtdO1xuICAgICAgICB0aGlzLiRyZXNldFJvd0NhY2hlKDApO1xuICAgICAgICBpZiAodGhpcy5iZ1Rva2VuaXplcilcbiAgICAgICAgICAgIHRoaXMuYmdUb2tlbml6ZXIuc3RhcnQoMCk7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2VGb2xkID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZm9sZCA9IGUuZGF0YTtcbiAgICAgICAgdGhpcy4kcmVzZXRSb3dDYWNoZShmb2xkLnN0YXJ0LnJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy4kcmVzZXRSb3dDYWNoZShkZWx0YS5zdGFydC5yb3cpO1xuXG4gICAgICAgIHZhciByZW1vdmVkRm9sZHMgPSB0aGlzLiR1cGRhdGVJbnRlcm5hbERhdGFPbkNoYW5nZShkZWx0YSk7XG4gICAgICAgIGlmICghdGhpcy4kZnJvbVVuZG8gJiYgdGhpcy4kdW5kb01hbmFnZXIgJiYgIWRlbHRhLmlnbm9yZSkge1xuICAgICAgICAgICAgdGhpcy4kZGVsdGFzRG9jLnB1c2goZGVsdGEpO1xuICAgICAgICAgICAgaWYgKHJlbW92ZWRGb2xkcyAmJiByZW1vdmVkRm9sZHMubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRkZWx0YXNGb2xkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlRm9sZHNcIixcbiAgICAgICAgICAgICAgICAgICAgZm9sZHM6ICByZW1vdmVkRm9sZHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kaW5mb3JtVW5kb01hbmFnZXIuc2NoZWR1bGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmdUb2tlbml6ZXIgJiYgdGhpcy5iZ1Rva2VuaXplci4kdXBkYXRlT25DaGFuZ2UoZGVsdGEpO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VcIiwgZGVsdGEpO1xuICAgIH07XG4gICAgdGhpcy5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgdGhpcy5kb2Muc2V0VmFsdWUodGV4dCk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVUbygwLCAwKTtcblxuICAgICAgICB0aGlzLiRyZXNldFJvd0NhY2hlKDApO1xuICAgICAgICB0aGlzLiRkZWx0YXMgPSBbXTtcbiAgICAgICAgdGhpcy4kZGVsdGFzRG9jID0gW107XG4gICAgICAgIHRoaXMuJGRlbHRhc0ZvbGQgPSBbXTtcbiAgICAgICAgdGhpcy5zZXRVbmRvTWFuYWdlcih0aGlzLiR1bmRvTWFuYWdlcik7XG4gICAgICAgIHRoaXMuZ2V0VW5kb01hbmFnZXIoKS5yZXNldCgpO1xuICAgIH07XG4gICAgdGhpcy5nZXRWYWx1ZSA9XG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuZ2V0VmFsdWUoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbjtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U3RhdGUgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmdUb2tlbml6ZXIuZ2V0U3RhdGUocm93KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0VG9rZW5zID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJnVG9rZW5pemVyLmdldFRva2Vucyhyb3cpO1xuICAgIH07XG4gICAgdGhpcy5nZXRUb2tlbkF0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIHRva2VucyA9IHRoaXMuYmdUb2tlbml6ZXIuZ2V0VG9rZW5zKHJvdyk7XG4gICAgICAgIHZhciB0b2tlbiwgYyA9IDA7XG4gICAgICAgIGlmIChjb2x1bW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgaSA9IHRva2Vucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgYyA9IHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYyArPSB0b2tlbnNbaV0udmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChjID49IGNvbHVtbilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdG9rZW4uaW5kZXggPSBpO1xuICAgICAgICB0b2tlbi5zdGFydCA9IGMgLSB0b2tlbi52YWx1ZS5sZW5ndGg7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9O1xuICAgIHRoaXMuc2V0VW5kb01hbmFnZXIgPSBmdW5jdGlvbih1bmRvTWFuYWdlcikge1xuICAgICAgICB0aGlzLiR1bmRvTWFuYWdlciA9IHVuZG9NYW5hZ2VyO1xuICAgICAgICB0aGlzLiRkZWx0YXMgPSBbXTtcbiAgICAgICAgdGhpcy4kZGVsdGFzRG9jID0gW107XG4gICAgICAgIHRoaXMuJGRlbHRhc0ZvbGQgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy4kaW5mb3JtVW5kb01hbmFnZXIpXG4gICAgICAgICAgICB0aGlzLiRpbmZvcm1VbmRvTWFuYWdlci5jYW5jZWwoKTtcblxuICAgICAgICBpZiAodW5kb01hbmFnZXIpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi4kaW5mb3JtVW5kb01hbmFnZXIuY2FuY2VsKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZi4kZGVsdGFzRm9sZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kZGVsdGFzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiZm9sZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGFzOiBzZWxmLiRkZWx0YXNGb2xkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLiRkZWx0YXNGb2xkID0gW107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuJGRlbHRhc0RvYy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kZGVsdGFzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiZG9jXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YXM6IHNlbGYuJGRlbHRhc0RvY1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kZGVsdGFzRG9jID0gW107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuJGRlbHRhcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuZG9NYW5hZ2VyLmV4ZWN1dGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcImFjZXVwZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW3NlbGYuJGRlbHRhcywgc2VsZl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXJnZTogc2VsZi5tZXJnZVVuZG9EZWx0YXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYubWVyZ2VVbmRvRGVsdGFzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2VsZi4kZGVsdGFzID0gW107XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy4kaW5mb3JtVW5kb01hbmFnZXIgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMuJHN5bmNJbmZvcm1VbmRvTWFuYWdlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMubWFya1VuZG9Hcm91cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyKVxuICAgICAgICAgICAgdGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyKCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRkZWZhdWx0VW5kb01hbmFnZXIgPSB7XG4gICAgICAgIHVuZG86IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIHJlZG86IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHt9XG4gICAgfTtcbiAgICB0aGlzLmdldFVuZG9NYW5hZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR1bmRvTWFuYWdlciB8fCB0aGlzLiRkZWZhdWx0VW5kb01hbmFnZXI7XG4gICAgfTtcbiAgICB0aGlzLmdldFRhYlN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5nZXRVc2VTb2Z0VGFicygpKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZy5zdHJpbmdSZXBlYXQoXCIgXCIsIHRoaXMuZ2V0VGFiU2l6ZSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcdFwiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNldFVzZVNvZnRUYWJzID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwidXNlU29mdFRhYnNcIiwgdmFsKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0VXNlU29mdFRhYnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHVzZVNvZnRUYWJzICYmICF0aGlzLiRtb2RlLiRpbmRlbnRXaXRoVGFicztcbiAgICB9O1xuICAgIHRoaXMuc2V0VGFiU2l6ZSA9IGZ1bmN0aW9uKHRhYlNpemUpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJ0YWJTaXplXCIsIHRhYlNpemUpO1xuICAgIH07XG4gICAgdGhpcy5nZXRUYWJTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR0YWJTaXplO1xuICAgIH07XG4gICAgdGhpcy5pc1RhYlN0b3AgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy4kdXNlU29mdFRhYnMgJiYgKHBvc2l0aW9uLmNvbHVtbiAlIHRoaXMuJHRhYlNpemUgPT09IDApO1xuICAgIH07XG5cbiAgICB0aGlzLiRvdmVyd3JpdGUgPSBmYWxzZTtcbiAgICB0aGlzLnNldE92ZXJ3cml0ZSA9IGZ1bmN0aW9uKG92ZXJ3cml0ZSkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcIm92ZXJ3cml0ZVwiLCBvdmVyd3JpdGUpO1xuICAgIH07XG4gICAgdGhpcy5nZXRPdmVyd3JpdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJG92ZXJ3cml0ZTtcbiAgICB9O1xuICAgIHRoaXMudG9nZ2xlT3ZlcndyaXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0T3ZlcndyaXRlKCF0aGlzLiRvdmVyd3JpdGUpO1xuICAgIH07XG4gICAgdGhpcy5hZGRHdXR0ZXJEZWNvcmF0aW9uID0gZnVuY3Rpb24ocm93LCBjbGFzc05hbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRkZWNvcmF0aW9uc1tyb3ddKVxuICAgICAgICAgICAgdGhpcy4kZGVjb3JhdGlvbnNbcm93XSA9IFwiXCI7XG4gICAgICAgIHRoaXMuJGRlY29yYXRpb25zW3Jvd10gKz0gXCIgXCIgKyBjbGFzc05hbWU7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZUJyZWFrcG9pbnRcIiwge30pO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uID0gZnVuY3Rpb24ocm93LCBjbGFzc05hbWUpIHtcbiAgICAgICAgdGhpcy4kZGVjb3JhdGlvbnNbcm93XSA9ICh0aGlzLiRkZWNvcmF0aW9uc1tyb3ddIHx8IFwiXCIpLnJlcGxhY2UoXCIgXCIgKyBjbGFzc05hbWUsIFwiXCIpO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHt9KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QnJlYWtwb2ludHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGJyZWFrcG9pbnRzO1xuICAgIH07XG4gICAgdGhpcy5zZXRCcmVha3BvaW50cyA9IGZ1bmN0aW9uKHJvd3MpIHtcbiAgICAgICAgdGhpcy4kYnJlYWtwb2ludHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuJGJyZWFrcG9pbnRzW3Jvd3NbaV1dID0gXCJhY2VfYnJlYWtwb2ludFwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZUJyZWFrcG9pbnRcIiwge30pO1xuICAgIH07XG4gICAgdGhpcy5jbGVhckJyZWFrcG9pbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGJyZWFrcG9pbnRzID0gW107XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZUJyZWFrcG9pbnRcIiwge30pO1xuICAgIH07XG4gICAgdGhpcy5zZXRCcmVha3BvaW50ID0gZnVuY3Rpb24ocm93LCBjbGFzc05hbWUpIHtcbiAgICAgICAgaWYgKGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgY2xhc3NOYW1lID0gXCJhY2VfYnJlYWtwb2ludFwiO1xuICAgICAgICBpZiAoY2xhc3NOYW1lKVxuICAgICAgICAgICAgdGhpcy4kYnJlYWtwb2ludHNbcm93XSA9IGNsYXNzTmFtZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJGJyZWFrcG9pbnRzW3Jvd107XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZUJyZWFrcG9pbnRcIiwge30pO1xuICAgIH07XG4gICAgdGhpcy5jbGVhckJyZWFrcG9pbnQgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuJGJyZWFrcG9pbnRzW3Jvd107XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZUJyZWFrcG9pbnRcIiwge30pO1xuICAgIH07XG4gICAgdGhpcy5hZGRNYXJrZXIgPSBmdW5jdGlvbihyYW5nZSwgY2xhenosIHR5cGUsIGluRnJvbnQpIHtcbiAgICAgICAgdmFyIGlkID0gdGhpcy4kbWFya2VySWQrKztcblxuICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgcmFuZ2UgOiByYW5nZSxcbiAgICAgICAgICAgIHR5cGUgOiB0eXBlIHx8IFwibGluZVwiLFxuICAgICAgICAgICAgcmVuZGVyZXI6IHR5cGVvZiB0eXBlID09IFwiZnVuY3Rpb25cIiA/IHR5cGUgOiBudWxsLFxuICAgICAgICAgICAgY2xhenogOiBjbGF6eixcbiAgICAgICAgICAgIGluRnJvbnQ6ICEhaW5Gcm9udCxcbiAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbkZyb250KSB7XG4gICAgICAgICAgICB0aGlzLiRmcm9udE1hcmtlcnNbaWRdID0gbWFya2VyO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlRnJvbnRNYXJrZXJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRiYWNrTWFya2Vyc1tpZF0gPSBtYXJrZXI7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VCYWNrTWFya2VyXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH07XG4gICAgdGhpcy5hZGREeW5hbWljTWFya2VyID0gZnVuY3Rpb24obWFya2VyLCBpbkZyb250KSB7XG4gICAgICAgIGlmICghbWFya2VyLnVwZGF0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGlkID0gdGhpcy4kbWFya2VySWQrKztcbiAgICAgICAgbWFya2VyLmlkID0gaWQ7XG4gICAgICAgIG1hcmtlci5pbkZyb250ID0gISFpbkZyb250O1xuXG4gICAgICAgIGlmIChpbkZyb250KSB7XG4gICAgICAgICAgICB0aGlzLiRmcm9udE1hcmtlcnNbaWRdID0gbWFya2VyO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlRnJvbnRNYXJrZXJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRiYWNrTWFya2Vyc1tpZF0gPSBtYXJrZXI7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VCYWNrTWFya2VyXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hcmtlcjtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlTWFya2VyID0gZnVuY3Rpb24obWFya2VySWQpIHtcbiAgICAgICAgdmFyIG1hcmtlciA9IHRoaXMuJGZyb250TWFya2Vyc1ttYXJrZXJJZF0gfHwgdGhpcy4kYmFja01hcmtlcnNbbWFya2VySWRdO1xuICAgICAgICBpZiAoIW1hcmtlcilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgbWFya2VycyA9IG1hcmtlci5pbkZyb250ID8gdGhpcy4kZnJvbnRNYXJrZXJzIDogdGhpcy4kYmFja01hcmtlcnM7XG4gICAgICAgIGlmIChtYXJrZXIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSAobWFya2Vyc1ttYXJrZXJJZF0pO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKG1hcmtlci5pbkZyb250ID8gXCJjaGFuZ2VGcm9udE1hcmtlclwiIDogXCJjaGFuZ2VCYWNrTWFya2VyXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdldE1hcmtlcnMgPSBmdW5jdGlvbihpbkZyb250KSB7XG4gICAgICAgIHJldHVybiBpbkZyb250ID8gdGhpcy4kZnJvbnRNYXJrZXJzIDogdGhpcy4kYmFja01hcmtlcnM7XG4gICAgfTtcblxuICAgIHRoaXMuaGlnaGxpZ2h0ID0gZnVuY3Rpb24ocmUpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRzZWFyY2hIaWdobGlnaHQpIHtcbiAgICAgICAgICAgIHZhciBoaWdobGlnaHQgPSBuZXcgU2VhcmNoSGlnaGxpZ2h0KG51bGwsIFwiYWNlX3NlbGVjdGVkLXdvcmRcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICAgICAgdGhpcy4kc2VhcmNoSGlnaGxpZ2h0ID0gdGhpcy5hZGREeW5hbWljTWFya2VyKGhpZ2hsaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kc2VhcmNoSGlnaGxpZ2h0LnNldFJlZ2V4cChyZSk7XG4gICAgfTtcbiAgICB0aGlzLmhpZ2hsaWdodExpbmVzID0gZnVuY3Rpb24oc3RhcnRSb3csIGVuZFJvdywgY2xhenosIGluRnJvbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbmRSb3cgIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgY2xhenogPSBlbmRSb3c7XG4gICAgICAgICAgICBlbmRSb3cgPSBzdGFydFJvdztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNsYXp6KVxuICAgICAgICAgICAgY2xhenogPSBcImFjZV9zdGVwXCI7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0Um93LCAwLCBlbmRSb3csIEluZmluaXR5KTtcbiAgICAgICAgcmFuZ2UuaWQgPSB0aGlzLmFkZE1hcmtlcihyYW5nZSwgY2xhenosIFwiZnVsbExpbmVcIiwgaW5Gcm9udCk7XG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9O1xuICAgIHRoaXMuc2V0QW5ub3RhdGlvbnMgPSBmdW5jdGlvbihhbm5vdGF0aW9ucykge1xuICAgICAgICB0aGlzLiRhbm5vdGF0aW9ucyA9IGFubm90YXRpb25zO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VBbm5vdGF0aW9uXCIsIHt9KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QW5ub3RhdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGFubm90YXRpb25zIHx8IFtdO1xuICAgIH07XG4gICAgdGhpcy5jbGVhckFubm90YXRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0QW5ub3RhdGlvbnMoW10pO1xuICAgIH07XG4gICAgdGhpcy4kZGV0ZWN0TmV3TGluZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gdGV4dC5tYXRjaCgvXi4qPyhcXHI/XFxuKS9tKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICB0aGlzLiRhdXRvTmV3TGluZSA9IG1hdGNoWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBcIlxcblwiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdldFdvcmRSYW5nZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7XG5cbiAgICAgICAgdmFyIGluVG9rZW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKGNvbHVtbiA+IDApXG4gICAgICAgICAgICBpblRva2VuID0gISFsaW5lLmNoYXJBdChjb2x1bW4gLSAxKS5tYXRjaCh0aGlzLnRva2VuUmUpO1xuXG4gICAgICAgIGlmICghaW5Ub2tlbilcbiAgICAgICAgICAgIGluVG9rZW4gPSAhIWxpbmUuY2hhckF0KGNvbHVtbikubWF0Y2godGhpcy50b2tlblJlKTtcblxuICAgICAgICBpZiAoaW5Ub2tlbilcbiAgICAgICAgICAgIHZhciByZSA9IHRoaXMudG9rZW5SZTtcbiAgICAgICAgZWxzZSBpZiAoL15cXHMrJC8udGVzdChsaW5lLnNsaWNlKGNvbHVtbi0xLCBjb2x1bW4rMSkpKVxuICAgICAgICAgICAgdmFyIHJlID0gL1xccy87XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHZhciByZSA9IHRoaXMubm9uVG9rZW5SZTtcblxuICAgICAgICB2YXIgc3RhcnQgPSBjb2x1bW47XG4gICAgICAgIGlmIChzdGFydCA+IDApIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBzdGFydC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHN0YXJ0ID49IDAgJiYgbGluZS5jaGFyQXQoc3RhcnQpLm1hdGNoKHJlKSk7XG4gICAgICAgICAgICBzdGFydCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVuZCA9IGNvbHVtbjtcbiAgICAgICAgd2hpbGUgKGVuZCA8IGxpbmUubGVuZ3RoICYmIGxpbmUuY2hhckF0KGVuZCkubWF0Y2gocmUpKSB7XG4gICAgICAgICAgICBlbmQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2Uocm93LCBzdGFydCwgcm93LCBlbmQpO1xuICAgIH07XG4gICAgdGhpcy5nZXRBV29yZFJhbmdlID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIHdvcmRSYW5nZSA9IHRoaXMuZ2V0V29yZFJhbmdlKHJvdywgY29sdW1uKTtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUod29yZFJhbmdlLmVuZC5yb3cpO1xuXG4gICAgICAgIHdoaWxlIChsaW5lLmNoYXJBdCh3b3JkUmFuZ2UuZW5kLmNvbHVtbikubWF0Y2goL1sgXFx0XS8pKSB7XG4gICAgICAgICAgICB3b3JkUmFuZ2UuZW5kLmNvbHVtbiArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3b3JkUmFuZ2U7XG4gICAgfTtcbiAgICB0aGlzLnNldE5ld0xpbmVNb2RlID0gZnVuY3Rpb24obmV3TGluZU1vZGUpIHtcbiAgICAgICAgdGhpcy5kb2Muc2V0TmV3TGluZU1vZGUobmV3TGluZU1vZGUpO1xuICAgIH07XG4gICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuZ2V0TmV3TGluZU1vZGUoKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0VXNlV29ya2VyID0gZnVuY3Rpb24odXNlV29ya2VyKSB7IHRoaXMuc2V0T3B0aW9uKFwidXNlV29ya2VyXCIsIHVzZVdvcmtlcik7IH07XG4gICAgdGhpcy5nZXRVc2VXb3JrZXIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuJHVzZVdvcmtlcjsgfTtcbiAgICB0aGlzLm9uUmVsb2FkVG9rZW5pemVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgcm93cyA9IGUuZGF0YTtcbiAgICAgICAgdGhpcy5iZ1Rva2VuaXplci5zdGFydChyb3dzLmZpcnN0KTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwidG9rZW5pemVyVXBkYXRlXCIsIGUpO1xuICAgIH07XG5cbiAgICB0aGlzLiRtb2RlcyA9IHt9O1xuICAgIHRoaXMuJG1vZGUgPSBudWxsO1xuICAgIHRoaXMuJG1vZGVJZCA9IG51bGw7XG4gICAgdGhpcy5zZXRNb2RlID0gZnVuY3Rpb24obW9kZSwgY2IpIHtcbiAgICAgICAgaWYgKG1vZGUgJiYgdHlwZW9mIG1vZGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmIChtb2RlLmdldFRva2VuaXplcilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kb25DaGFuZ2VNb2RlKG1vZGUpO1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBtb2RlO1xuICAgICAgICAgICAgdmFyIHBhdGggPSBvcHRpb25zLnBhdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXRoID0gbW9kZSB8fCBcImFjZS9tb2RlL3RleHRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuJG1vZGVzW1wiYWNlL21vZGUvdGV4dFwiXSlcbiAgICAgICAgICAgIHRoaXMuJG1vZGVzW1wiYWNlL21vZGUvdGV4dFwiXSA9IG5ldyBUZXh0TW9kZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLiRtb2Rlc1twYXRoXSAmJiAhb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy4kb25DaGFuZ2VNb2RlKHRoaXMuJG1vZGVzW3BhdGhdKTtcbiAgICAgICAgICAgIGNiICYmIGNiKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kbW9kZUlkID0gcGF0aDtcbiAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoW1wibW9kZVwiLCBwYXRoXSwgZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJG1vZGVJZCAhPT0gcGF0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gY2IgJiYgY2IoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiRtb2Rlc1twYXRoXSAmJiAhb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMuJG9uQ2hhbmdlTW9kZSh0aGlzLiRtb2Rlc1twYXRoXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG0gJiYgbS5Nb2RlKSB7XG4gICAgICAgICAgICAgICAgbSA9IG5ldyBtLk1vZGUob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJG1vZGVzW3BhdGhdID0gbTtcbiAgICAgICAgICAgICAgICAgICAgbS4kaWQgPSBwYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiRvbkNoYW5nZU1vZGUobSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYiAmJiBjYigpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICBpZiAoIXRoaXMuJG1vZGUpXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZU1vZGUodGhpcy4kbW9kZXNbXCJhY2UvbW9kZS90ZXh0XCJdLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25DaGFuZ2VNb2RlID0gZnVuY3Rpb24obW9kZSwgJGlzUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgaWYgKCEkaXNQbGFjZWhvbGRlcilcbiAgICAgICAgICAgIHRoaXMuJG1vZGVJZCA9IG1vZGUuJGlkO1xuICAgICAgICBpZiAodGhpcy4kbW9kZSA9PT0gbW9kZSkgXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy4kbW9kZSA9IG1vZGU7XG5cbiAgICAgICAgdGhpcy4kc3RvcFdvcmtlcigpO1xuXG4gICAgICAgIGlmICh0aGlzLiR1c2VXb3JrZXIpXG4gICAgICAgICAgICB0aGlzLiRzdGFydFdvcmtlcigpO1xuXG4gICAgICAgIHZhciB0b2tlbml6ZXIgPSBtb2RlLmdldFRva2VuaXplcigpO1xuXG4gICAgICAgIGlmKHRva2VuaXplci5hZGRFdmVudExpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBvblJlbG9hZFRva2VuaXplciA9IHRoaXMub25SZWxvYWRUb2tlbml6ZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRva2VuaXplci5hZGRFdmVudExpc3RlbmVyKFwidXBkYXRlXCIsIG9uUmVsb2FkVG9rZW5pemVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5iZ1Rva2VuaXplcikge1xuICAgICAgICAgICAgdGhpcy5iZ1Rva2VuaXplciA9IG5ldyBCYWNrZ3JvdW5kVG9rZW5pemVyKHRva2VuaXplcik7XG4gICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5iZ1Rva2VuaXplci5hZGRFdmVudExpc3RlbmVyKFwidXBkYXRlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBfc2VsZi5fc2lnbmFsKFwidG9rZW5pemVyVXBkYXRlXCIsIGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJnVG9rZW5pemVyLnNldFRva2VuaXplcih0b2tlbml6ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iZ1Rva2VuaXplci5zZXREb2N1bWVudCh0aGlzLmdldERvY3VtZW50KCkpO1xuXG4gICAgICAgIHRoaXMudG9rZW5SZSA9IG1vZGUudG9rZW5SZTtcbiAgICAgICAgdGhpcy5ub25Ub2tlblJlID0gbW9kZS5ub25Ub2tlblJlO1xuXG4gICAgICAgIFxuICAgICAgICBpZiAoISRpc1BsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICBpZiAobW9kZS5hdHRhY2hUb1Nlc3Npb24pXG4gICAgICAgICAgICAgICAgbW9kZS5hdHRhY2hUb1Nlc3Npb24odGhpcyk7XG4gICAgICAgICAgICB0aGlzLiRvcHRpb25zLndyYXBNZXRob2Quc2V0LmNhbGwodGhpcywgdGhpcy4kd3JhcE1ldGhvZCk7XG4gICAgICAgICAgICB0aGlzLiRzZXRGb2xkaW5nKG1vZGUuZm9sZGluZ1J1bGVzKTtcbiAgICAgICAgICAgIHRoaXMuYmdUb2tlbml6ZXIuc3RhcnQoMCk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlTW9kZVwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRzdG9wV29ya2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLiR3b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuJHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgIHRoaXMuJHdvcmtlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kc3RhcnRXb3JrZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuJHdvcmtlciA9IHRoaXMuJG1vZGUuY3JlYXRlV29ya2VyKHRoaXMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25maWcud2FybihcIkNvdWxkIG5vdCBsb2FkIHdvcmtlclwiLCBlKTtcbiAgICAgICAgICAgIHRoaXMuJHdvcmtlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0TW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kbW9kZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kc2Nyb2xsVG9wID0gMDtcbiAgICB0aGlzLnNldFNjcm9sbFRvcCA9IGZ1bmN0aW9uKHNjcm9sbFRvcCkge1xuICAgICAgICBpZiAodGhpcy4kc2Nyb2xsVG9wID09PSBzY3JvbGxUb3AgfHwgaXNOYU4oc2Nyb2xsVG9wKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLiRzY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZVNjcm9sbFRvcFwiLCBzY3JvbGxUb3ApO1xuICAgIH07XG4gICAgdGhpcy5nZXRTY3JvbGxUb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNjcm9sbFRvcDtcbiAgICB9O1xuXG4gICAgdGhpcy4kc2Nyb2xsTGVmdCA9IDA7XG4gICAgdGhpcy5zZXRTY3JvbGxMZWZ0ID0gZnVuY3Rpb24oc2Nyb2xsTGVmdCkge1xuICAgICAgICBpZiAodGhpcy4kc2Nyb2xsTGVmdCA9PT0gc2Nyb2xsTGVmdCB8fCBpc05hTihzY3JvbGxMZWZ0KSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLiRzY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlU2Nyb2xsTGVmdFwiLCBzY3JvbGxMZWZ0KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2Nyb2xsTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kc2Nyb2xsTGVmdDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2NyZWVuV2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kY29tcHV0ZVdpZHRoKCk7XG4gICAgICAgIGlmICh0aGlzLmxpbmVXaWRnZXRzKSBcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLmdldExpbmVXaWRnZXRNYXhXaWR0aCgpLCB0aGlzLnNjcmVlbldpZHRoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuV2lkdGg7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldExpbmVXaWRnZXRNYXhXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5saW5lV2lkZ2V0c1dpZHRoICE9IG51bGwpIHJldHVybiB0aGlzLmxpbmVXaWRnZXRzV2lkdGg7XG4gICAgICAgIHZhciB3aWR0aCA9IDA7XG4gICAgICAgIHRoaXMubGluZVdpZGdldHMuZm9yRWFjaChmdW5jdGlvbih3KSB7XG4gICAgICAgICAgICBpZiAodyAmJiB3LnNjcmVlbldpZHRoID4gd2lkdGgpXG4gICAgICAgICAgICAgICAgd2lkdGggPSB3LnNjcmVlbldpZHRoO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZVdpZGdldFdpZHRoID0gd2lkdGg7XG4gICAgfTtcblxuICAgIHRoaXMuJGNvbXB1dGVXaWR0aCA9IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIGlmICh0aGlzLiRtb2RpZmllZCB8fCBmb3JjZSkge1xuICAgICAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjcmVlbldpZHRoID0gdGhpcy4kd3JhcExpbWl0O1xuXG4gICAgICAgICAgICB2YXIgbGluZXMgPSB0aGlzLmRvYy5nZXRBbGxMaW5lcygpO1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gdGhpcy4kcm93TGVuZ3RoQ2FjaGU7XG4gICAgICAgICAgICB2YXIgbG9uZ2VzdFNjcmVlbkxpbmUgPSAwO1xuICAgICAgICAgICAgdmFyIGZvbGRJbmRleCA9IDA7XG4gICAgICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLiRmb2xkRGF0YVtmb2xkSW5kZXhdO1xuICAgICAgICAgICAgdmFyIGZvbGRTdGFydCA9IGZvbGRMaW5lID8gZm9sZExpbmUuc3RhcnQucm93IDogSW5maW5pdHk7XG4gICAgICAgICAgICB2YXIgbGVuID0gbGluZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiBmb2xkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGZvbGRMaW5lLmVuZC5yb3cgKyAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSBsZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUgPSB0aGlzLiRmb2xkRGF0YVtmb2xkSW5kZXgrK107XG4gICAgICAgICAgICAgICAgICAgIGZvbGRTdGFydCA9IGZvbGRMaW5lID8gZm9sZExpbmUuc3RhcnQucm93IDogSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlW2ldID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlW2ldID0gdGhpcy4kZ2V0U3RyaW5nU2NyZWVuV2lkdGgobGluZXNbaV0pWzBdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlW2ldID4gbG9uZ2VzdFNjcmVlbkxpbmUpXG4gICAgICAgICAgICAgICAgICAgIGxvbmdlc3RTY3JlZW5MaW5lID0gY2FjaGVbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjcmVlbldpZHRoID0gbG9uZ2VzdFNjcmVlbkxpbmU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0TGluZSA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuZ2V0TGluZShyb3cpO1xuICAgIH07XG4gICAgdGhpcy5nZXRMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYy5nZXRMaW5lcyhmaXJzdFJvdywgbGFzdFJvdyk7XG4gICAgfTtcbiAgICB0aGlzLmdldExlbmd0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuZ2V0TGVuZ3RoKCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFRleHRSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UgfHwgdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSk7XG4gICAgfTtcbiAgICB0aGlzLmluc2VydCA9IGZ1bmN0aW9uKHBvc2l0aW9uLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYy5pbnNlcnQocG9zaXRpb24sIHRleHQpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MucmVtb3ZlKHJhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlRnVsbExpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpe1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTtcbiAgICB9O1xuICAgIHRoaXMudW5kb0NoYW5nZXMgPSBmdW5jdGlvbihkZWx0YXMsIGRvbnRTZWxlY3QpIHtcbiAgICAgICAgaWYgKCFkZWx0YXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuJGZyb21VbmRvID0gdHJ1ZTtcbiAgICAgICAgdmFyIGxhc3RVbmRvUmFuZ2UgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gZGVsdGFzLmxlbmd0aCAtIDE7IGkgIT0gLTE7IGktLSkge1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gZGVsdGFzW2ldO1xuICAgICAgICAgICAgaWYgKGRlbHRhLmdyb3VwID09IFwiZG9jXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvYy5yZXZlcnREZWx0YXMoZGVsdGEuZGVsdGFzKTtcbiAgICAgICAgICAgICAgICBsYXN0VW5kb1JhbmdlID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZ2V0VW5kb1NlbGVjdGlvbihkZWx0YS5kZWx0YXMsIHRydWUsIGxhc3RVbmRvUmFuZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWx0YS5kZWx0YXMuZm9yRWFjaChmdW5jdGlvbihmb2xkRGVsdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRGb2xkcyhmb2xkRGVsdGEuZm9sZHMpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJGZyb21VbmRvID0gZmFsc2U7XG4gICAgICAgIGxhc3RVbmRvUmFuZ2UgJiZcbiAgICAgICAgICAgIHRoaXMuJHVuZG9TZWxlY3QgJiZcbiAgICAgICAgICAgICFkb250U2VsZWN0ICYmXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShsYXN0VW5kb1JhbmdlKTtcbiAgICAgICAgcmV0dXJuIGxhc3RVbmRvUmFuZ2U7XG4gICAgfTtcbiAgICB0aGlzLnJlZG9DaGFuZ2VzID0gZnVuY3Rpb24oZGVsdGFzLCBkb250U2VsZWN0KSB7XG4gICAgICAgIGlmICghZGVsdGFzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLiRmcm9tVW5kbyA9IHRydWU7XG4gICAgICAgIHZhciBsYXN0VW5kb1JhbmdlID0gbnVsbDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGRlbHRhc1tpXTtcbiAgICAgICAgICAgIGlmIChkZWx0YS5ncm91cCA9PSBcImRvY1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb2MuYXBwbHlEZWx0YXMoZGVsdGEuZGVsdGFzKTtcbiAgICAgICAgICAgICAgICBsYXN0VW5kb1JhbmdlID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZ2V0VW5kb1NlbGVjdGlvbihkZWx0YS5kZWx0YXMsIGZhbHNlLCBsYXN0VW5kb1JhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRmcm9tVW5kbyA9IGZhbHNlO1xuICAgICAgICBsYXN0VW5kb1JhbmdlICYmXG4gICAgICAgICAgICB0aGlzLiR1bmRvU2VsZWN0ICYmXG4gICAgICAgICAgICAhZG9udFNlbGVjdCAmJlxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UobGFzdFVuZG9SYW5nZSk7XG4gICAgICAgIHJldHVybiBsYXN0VW5kb1JhbmdlO1xuICAgIH07XG4gICAgdGhpcy5zZXRVbmRvU2VsZWN0ID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gICAgICAgIHRoaXMuJHVuZG9TZWxlY3QgPSBlbmFibGU7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldFVuZG9TZWxlY3Rpb24gPSBmdW5jdGlvbihkZWx0YXMsIGlzVW5kbywgbGFzdFVuZG9SYW5nZSkge1xuICAgICAgICBmdW5jdGlvbiBpc0luc2VydChkZWx0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzVW5kbyA/IGRlbHRhLmFjdGlvbiAhPT0gXCJpbnNlcnRcIiA6IGRlbHRhLmFjdGlvbiA9PT0gXCJpbnNlcnRcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWx0YSA9IGRlbHRhc1swXTtcbiAgICAgICAgdmFyIHJhbmdlLCBwb2ludDtcbiAgICAgICAgdmFyIGxhc3REZWx0YUlzSW5zZXJ0ID0gZmFsc2U7XG4gICAgICAgIGlmIChpc0luc2VydChkZWx0YSkpIHtcbiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhkZWx0YS5zdGFydCwgZGVsdGEuZW5kKTtcbiAgICAgICAgICAgIGxhc3REZWx0YUlzSW5zZXJ0ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhkZWx0YS5zdGFydCwgZGVsdGEuc3RhcnQpO1xuICAgICAgICAgICAgbGFzdERlbHRhSXNJbnNlcnQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZGVsdGFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkZWx0YSA9IGRlbHRhc1tpXTtcbiAgICAgICAgICAgIGlmIChpc0luc2VydChkZWx0YSkpIHtcbiAgICAgICAgICAgICAgICBwb2ludCA9IGRlbHRhLnN0YXJ0O1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb21wYXJlKHBvaW50LnJvdywgcG9pbnQuY29sdW1uKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvaW50ID0gZGVsdGEuZW5kO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb21wYXJlKHBvaW50LnJvdywgcG9pbnQuY29sdW1uKSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3REZWx0YUlzSW5zZXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBkZWx0YS5zdGFydDtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuY29tcGFyZShwb2ludC5yb3csIHBvaW50LmNvbHVtbikgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKGRlbHRhLnN0YXJ0LCBkZWx0YS5zdGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3REZWx0YUlzSW5zZXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RVbmRvUmFuZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKFJhbmdlLmNvbXBhcmVQb2ludHMobGFzdFVuZG9SYW5nZS5zdGFydCwgcmFuZ2Uuc3RhcnQpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbGFzdFVuZG9SYW5nZS5zdGFydC5jb2x1bW4gKz0gcmFuZ2UuZW5kLmNvbHVtbiAtIHJhbmdlLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgICAgICBsYXN0VW5kb1JhbmdlLmVuZC5jb2x1bW4gKz0gcmFuZ2UuZW5kLmNvbHVtbiAtIHJhbmdlLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNtcCA9IGxhc3RVbmRvUmFuZ2UuY29tcGFyZVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkge1xuICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGxhc3RVbmRvUmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobGFzdFVuZG9SYW5nZS5lbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24ocmFuZ2UsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLnJlcGxhY2UocmFuZ2UsIHRleHQpO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlVGV4dCA9IGZ1bmN0aW9uKGZyb21SYW5nZSwgdG9Qb3NpdGlvbiwgY29weSkge1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuZ2V0VGV4dFJhbmdlKGZyb21SYW5nZSk7XG4gICAgICAgIHZhciBmb2xkcyA9IHRoaXMuZ2V0Rm9sZHNJblJhbmdlKGZyb21SYW5nZSk7XG5cbiAgICAgICAgdmFyIHRvUmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKHRvUG9zaXRpb24sIHRvUG9zaXRpb24pO1xuICAgICAgICBpZiAoIWNvcHkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGZyb21SYW5nZSk7XG4gICAgICAgICAgICB2YXIgcm93RGlmZiA9IGZyb21SYW5nZS5zdGFydC5yb3cgLSBmcm9tUmFuZ2UuZW5kLnJvdztcbiAgICAgICAgICAgIHZhciBjb2xsRGlmZiA9IHJvd0RpZmYgPyAtZnJvbVJhbmdlLmVuZC5jb2x1bW4gOiBmcm9tUmFuZ2Uuc3RhcnQuY29sdW1uIC0gZnJvbVJhbmdlLmVuZC5jb2x1bW47XG4gICAgICAgICAgICBpZiAoY29sbERpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9SYW5nZS5zdGFydC5yb3cgPT0gZnJvbVJhbmdlLmVuZC5yb3cgJiYgdG9SYW5nZS5zdGFydC5jb2x1bW4gPiBmcm9tUmFuZ2UuZW5kLmNvbHVtbilcbiAgICAgICAgICAgICAgICAgICAgdG9SYW5nZS5zdGFydC5jb2x1bW4gKz0gY29sbERpZmY7XG4gICAgICAgICAgICAgICAgaWYgKHRvUmFuZ2UuZW5kLnJvdyA9PSBmcm9tUmFuZ2UuZW5kLnJvdyAmJiB0b1JhbmdlLmVuZC5jb2x1bW4gPiBmcm9tUmFuZ2UuZW5kLmNvbHVtbilcbiAgICAgICAgICAgICAgICAgICAgdG9SYW5nZS5lbmQuY29sdW1uICs9IGNvbGxEaWZmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd0RpZmYgJiYgdG9SYW5nZS5zdGFydC5yb3cgPj0gZnJvbVJhbmdlLmVuZC5yb3cpIHtcbiAgICAgICAgICAgICAgICB0b1JhbmdlLnN0YXJ0LnJvdyArPSByb3dEaWZmO1xuICAgICAgICAgICAgICAgIHRvUmFuZ2UuZW5kLnJvdyArPSByb3dEaWZmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdG9SYW5nZS5lbmQgPSB0aGlzLmluc2VydCh0b1JhbmdlLnN0YXJ0LCB0ZXh0KTtcbiAgICAgICAgaWYgKGZvbGRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG9sZFN0YXJ0ID0gZnJvbVJhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgdmFyIG5ld1N0YXJ0ID0gdG9SYW5nZS5zdGFydDtcbiAgICAgICAgICAgIHZhciByb3dEaWZmID0gbmV3U3RhcnQucm93IC0gb2xkU3RhcnQucm93O1xuICAgICAgICAgICAgdmFyIGNvbGxEaWZmID0gbmV3U3RhcnQuY29sdW1uIC0gb2xkU3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgdGhpcy5hZGRGb2xkcyhmb2xkcy5tYXAoZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgICAgIHggPSB4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHguc3RhcnQucm93ID09IG9sZFN0YXJ0LnJvdylcbiAgICAgICAgICAgICAgICAgICAgeC5zdGFydC5jb2x1bW4gKz0gY29sbERpZmY7XG4gICAgICAgICAgICAgICAgaWYgKHguZW5kLnJvdyA9PSBvbGRTdGFydC5yb3cpXG4gICAgICAgICAgICAgICAgICAgIHguZW5kLmNvbHVtbiArPSBjb2xsRGlmZjtcbiAgICAgICAgICAgICAgICB4LnN0YXJ0LnJvdyArPSByb3dEaWZmO1xuICAgICAgICAgICAgICAgIHguZW5kLnJvdyArPSByb3dEaWZmO1xuICAgICAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvUmFuZ2U7XG4gICAgfTtcbiAgICB0aGlzLmluZGVudFJvd3MgPSBmdW5jdGlvbihzdGFydFJvdywgZW5kUm93LCBpbmRlbnRTdHJpbmcpIHtcbiAgICAgICAgaW5kZW50U3RyaW5nID0gaW5kZW50U3RyaW5nLnJlcGxhY2UoL1xcdC9nLCB0aGlzLmdldFRhYlN0cmluZygpKTtcbiAgICAgICAgZm9yICh2YXIgcm93PXN0YXJ0Um93OyByb3c8PWVuZFJvdzsgcm93KyspXG4gICAgICAgICAgICB0aGlzLmRvYy5pbnNlcnRJbkxpbmUoe3Jvdzogcm93LCBjb2x1bW46IDB9LCBpbmRlbnRTdHJpbmcpO1xuICAgIH07XG4gICAgdGhpcy5vdXRkZW50Um93cyA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICB2YXIgcm93UmFuZ2UgPSByYW5nZS5jb2xsYXBzZVJvd3MoKTtcbiAgICAgICAgdmFyIGRlbGV0ZVJhbmdlID0gbmV3IFJhbmdlKDAsIDAsIDAsIDApO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0VGFiU2l6ZSgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSByb3dSYW5nZS5zdGFydC5yb3c7IGkgPD0gcm93UmFuZ2UuZW5kLnJvdzsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHRoaXMuZ2V0TGluZShpKTtcblxuICAgICAgICAgICAgZGVsZXRlUmFuZ2Uuc3RhcnQucm93ID0gaTtcbiAgICAgICAgICAgIGRlbGV0ZVJhbmdlLmVuZC5yb3cgPSBpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzaXplOyArK2opXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUuY2hhckF0KGopICE9ICcgJylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAoaiA8IHNpemUgJiYgbGluZS5jaGFyQXQoaikgPT0gJ1xcdCcpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVSYW5nZS5zdGFydC5jb2x1bW4gPSBqO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVJhbmdlLmVuZC5jb2x1bW4gPSBqICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlUmFuZ2Uuc3RhcnQuY29sdW1uID0gMDtcbiAgICAgICAgICAgICAgICBkZWxldGVSYW5nZS5lbmQuY29sdW1uID0gajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGRlbGV0ZVJhbmdlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRtb3ZlTGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdywgZGlyKSB7XG4gICAgICAgIGZpcnN0Um93ID0gdGhpcy5nZXRSb3dGb2xkU3RhcnQoZmlyc3RSb3cpO1xuICAgICAgICBsYXN0Um93ID0gdGhpcy5nZXRSb3dGb2xkRW5kKGxhc3RSb3cpO1xuICAgICAgICBpZiAoZGlyIDwgMCkge1xuICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMuZ2V0Um93Rm9sZFN0YXJ0KGZpcnN0Um93ICsgZGlyKTtcbiAgICAgICAgICAgIGlmIChyb3cgPCAwKSByZXR1cm4gMDtcbiAgICAgICAgICAgIHZhciBkaWZmID0gcm93LWZpcnN0Um93O1xuICAgICAgICB9IGVsc2UgaWYgKGRpciA+IDApIHtcbiAgICAgICAgICAgIHZhciByb3cgPSB0aGlzLmdldFJvd0ZvbGRFbmQobGFzdFJvdyArIGRpcik7XG4gICAgICAgICAgICBpZiAocm93ID4gdGhpcy5kb2MuZ2V0TGVuZ3RoKCktMSkgcmV0dXJuIDA7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IHJvdy1sYXN0Um93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlyc3RSb3cgPSB0aGlzLiRjbGlwUm93VG9Eb2N1bWVudChmaXJzdFJvdyk7XG4gICAgICAgICAgICBsYXN0Um93ID0gdGhpcy4kY2xpcFJvd1RvRG9jdW1lbnQobGFzdFJvdyk7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IGxhc3RSb3cgLSBmaXJzdFJvdyArIDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2UoZmlyc3RSb3csIDAsIGxhc3RSb3csIE51bWJlci5NQVhfVkFMVUUpO1xuICAgICAgICB2YXIgZm9sZHMgPSB0aGlzLmdldEZvbGRzSW5SYW5nZShyYW5nZSkubWFwKGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgeCA9IHguY2xvbmUoKTtcbiAgICAgICAgICAgIHguc3RhcnQucm93ICs9IGRpZmY7XG4gICAgICAgICAgICB4LmVuZC5yb3cgKz0gZGlmZjtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHZhciBsaW5lcyA9IGRpciA9PSAwXG4gICAgICAgICAgICA/IHRoaXMuZG9jLmdldExpbmVzKGZpcnN0Um93LCBsYXN0Um93KVxuICAgICAgICAgICAgOiB0aGlzLmRvYy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpO1xuICAgICAgICB0aGlzLmRvYy5pbnNlcnRGdWxsTGluZXMoZmlyc3RSb3crZGlmZiwgbGluZXMpO1xuICAgICAgICBmb2xkcy5sZW5ndGggJiYgdGhpcy5hZGRGb2xkcyhmb2xkcyk7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlTGluZXNVcCA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRtb3ZlTGluZXMoZmlyc3RSb3csIGxhc3RSb3csIC0xKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUxpbmVzRG93biA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRtb3ZlTGluZXMoZmlyc3RSb3csIGxhc3RSb3csIDEpO1xuICAgIH07XG4gICAgdGhpcy5kdXBsaWNhdGVMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRtb3ZlTGluZXMoZmlyc3RSb3csIGxhc3RSb3csIDApO1xuICAgIH07XG5cblxuICAgIHRoaXMuJGNsaXBSb3dUb0RvY3VtZW50ID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihyb3csIHRoaXMuZG9jLmdldExlbmd0aCgpLTEpKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kY2xpcENvbHVtblRvUm93ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKGNvbHVtbiA8IDApXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZG9jLmdldExpbmUocm93KS5sZW5ndGgsIGNvbHVtbik7XG4gICAgfTtcblxuXG4gICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGNvbHVtbiA9IE1hdGgubWF4KDAsIGNvbHVtbik7XG5cbiAgICAgICAgaWYgKHJvdyA8IDApIHtcbiAgICAgICAgICAgIHJvdyA9IDA7XG4gICAgICAgICAgICBjb2x1bW4gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMuZG9jLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgaWYgKHJvdyA+PSBsZW4pIHtcbiAgICAgICAgICAgICAgICByb3cgPSBsZW4gLSAxO1xuICAgICAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuZG9jLmdldExpbmUobGVuLTEpLmxlbmd0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gTWF0aC5taW4odGhpcy5kb2MuZ2V0TGluZShyb3cpLmxlbmd0aCwgY29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgIGNvbHVtbjogY29sdW1uXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHRoaXMuJGNsaXBSYW5nZVRvRG9jdW1lbnQgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQucm93IDwgMCkge1xuICAgICAgICAgICAgcmFuZ2Uuc3RhcnQucm93ID0gMDtcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4gPSB0aGlzLiRjbGlwQ29sdW1uVG9Sb3coXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQucm93LFxuICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZW4gPSB0aGlzLmRvYy5nZXRMZW5ndGgoKSAtIDE7XG4gICAgICAgIGlmIChyYW5nZS5lbmQucm93ID4gbGVuKSB7XG4gICAgICAgICAgICByYW5nZS5lbmQucm93ID0gbGVuO1xuICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IHRoaXMuZG9jLmdldExpbmUobGVuKS5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uID0gdGhpcy4kY2xpcENvbHVtblRvUm93KFxuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5yb3csXG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgfTtcbiAgICB0aGlzLiR3cmFwTGltaXQgPSA4MDtcbiAgICB0aGlzLiR1c2VXcmFwTW9kZSA9IGZhbHNlO1xuICAgIHRoaXMuJHdyYXBMaW1pdFJhbmdlID0ge1xuICAgICAgICBtaW4gOiBudWxsLFxuICAgICAgICBtYXggOiBudWxsXG4gICAgfTtcbiAgICB0aGlzLnNldFVzZVdyYXBNb2RlID0gZnVuY3Rpb24odXNlV3JhcE1vZGUpIHtcbiAgICAgICAgaWYgKHVzZVdyYXBNb2RlICE9IHRoaXMuJHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLiR1c2VXcmFwTW9kZSA9IHVzZVdyYXBNb2RlO1xuICAgICAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kcmVzZXRSb3dDYWNoZSgwKTtcbiAgICAgICAgICAgIGlmICh1c2VXcmFwTW9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuJHdyYXBEYXRhID0gQXJyYXkobGVuKTtcbiAgICAgICAgICAgICAgICB0aGlzLiR1cGRhdGVXcmFwRGF0YSgwLCBsZW4gLSAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlV3JhcE1vZGVcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0VXNlV3JhcE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHVzZVdyYXBNb2RlO1xuICAgIH07XG4gICAgdGhpcy5zZXRXcmFwTGltaXRSYW5nZSA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgICAgIGlmICh0aGlzLiR3cmFwTGltaXRSYW5nZS5taW4gIT09IG1pbiB8fCB0aGlzLiR3cmFwTGltaXRSYW5nZS5tYXggIT09IG1heCkge1xuICAgICAgICAgICAgdGhpcy4kd3JhcExpbWl0UmFuZ2UgPSB7IG1pbjogbWluLCBtYXg6IG1heCB9O1xuICAgICAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKVxuICAgICAgICAgICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZVdyYXBNb2RlXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmFkanVzdFdyYXBMaW1pdCA9IGZ1bmN0aW9uKGRlc2lyZWRMaW1pdCwgJHByaW50TWFyZ2luKSB7XG4gICAgICAgIHZhciBsaW1pdHMgPSB0aGlzLiR3cmFwTGltaXRSYW5nZTtcbiAgICAgICAgaWYgKGxpbWl0cy5tYXggPCAwKVxuICAgICAgICAgICAgbGltaXRzID0ge21pbjogJHByaW50TWFyZ2luLCBtYXg6ICRwcmludE1hcmdpbn07XG4gICAgICAgIHZhciB3cmFwTGltaXQgPSB0aGlzLiRjb25zdHJhaW5XcmFwTGltaXQoZGVzaXJlZExpbWl0LCBsaW1pdHMubWluLCBsaW1pdHMubWF4KTtcbiAgICAgICAgaWYgKHdyYXBMaW1pdCAhPSB0aGlzLiR3cmFwTGltaXQgJiYgd3JhcExpbWl0ID4gMSkge1xuICAgICAgICAgICAgdGhpcy4kd3JhcExpbWl0ID0gd3JhcExpbWl0O1xuICAgICAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kdXBkYXRlV3JhcERhdGEoMCwgdGhpcy5nZXRMZW5ndGgoKSAtIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuJHJlc2V0Um93Q2FjaGUoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlV3JhcExpbWl0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB0aGlzLiRjb25zdHJhaW5XcmFwTGltaXQgPSBmdW5jdGlvbih3cmFwTGltaXQsIG1pbiwgbWF4KSB7XG4gICAgICAgIGlmIChtaW4pXG4gICAgICAgICAgICB3cmFwTGltaXQgPSBNYXRoLm1heChtaW4sIHdyYXBMaW1pdCk7XG5cbiAgICAgICAgaWYgKG1heClcbiAgICAgICAgICAgIHdyYXBMaW1pdCA9IE1hdGgubWluKG1heCwgd3JhcExpbWl0KTtcblxuICAgICAgICByZXR1cm4gd3JhcExpbWl0O1xuICAgIH07XG4gICAgdGhpcy5nZXRXcmFwTGltaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHdyYXBMaW1pdDtcbiAgICB9O1xuICAgIHRoaXMuc2V0V3JhcExpbWl0ID0gZnVuY3Rpb24gKGxpbWl0KSB7XG4gICAgICAgIHRoaXMuc2V0V3JhcExpbWl0UmFuZ2UobGltaXQsIGxpbWl0KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0V3JhcExpbWl0UmFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbiA6IHRoaXMuJHdyYXBMaW1pdFJhbmdlLm1pbixcbiAgICAgICAgICAgIG1heCA6IHRoaXMuJHdyYXBMaW1pdFJhbmdlLm1heFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB0aGlzLiR1cGRhdGVJbnRlcm5hbERhdGFPbkNoYW5nZSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIHZhciB1c2VXcmFwTW9kZSA9IHRoaXMuJHVzZVdyYXBNb2RlO1xuICAgICAgICB2YXIgYWN0aW9uID0gZGVsdGEuYWN0aW9uO1xuICAgICAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDtcbiAgICAgICAgdmFyIGVuZCA9IGRlbHRhLmVuZDtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gc3RhcnQucm93O1xuICAgICAgICB2YXIgbGFzdFJvdyA9IGVuZC5yb3c7XG4gICAgICAgIHZhciBsZW4gPSBsYXN0Um93IC0gZmlyc3RSb3c7XG4gICAgICAgIHZhciByZW1vdmVkRm9sZHMgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgdGhpcy4kdXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAobGVuICE9IDApIHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3VzZVdyYXBNb2RlID8gXCIkd3JhcERhdGFcIiA6IFwiJHJvd0xlbmd0aENhY2hlXCJdLnNwbGljZShmaXJzdFJvdywgbGVuKTtcblxuICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZXMgPSB0aGlzLiRmb2xkRGF0YTtcbiAgICAgICAgICAgICAgICByZW1vdmVkRm9sZHMgPSB0aGlzLmdldEZvbGRzSW5SYW5nZShkZWx0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGb2xkcyhyZW1vdmVkRm9sZHMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShlbmQucm93KTtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUuYWRkUmVtb3ZlQ2hhcnMoZW5kLnJvdywgZW5kLmNvbHVtbiwgc3RhcnQuY29sdW1uIC0gZW5kLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLnNoaWZ0Um93KC1sZW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZUJlZm9yZSA9IHRoaXMuZ2V0Rm9sZExpbmUoZmlyc3RSb3cpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmVCZWZvcmUgJiYgZm9sZExpbmVCZWZvcmUgIT09IGZvbGRMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZUJlZm9yZS5tZXJnZShmb2xkTGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZSA9IGZvbGRMaW5lQmVmb3JlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGZvbGRMaW5lcy5pbmRleE9mKGZvbGRMaW5lKSArIDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChpZHg7IGlkeCA8IGZvbGRMaW5lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IGZvbGRMaW5lc1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmUuc3RhcnQucm93ID49IGVuZC5yb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLnNoaWZ0Um93KC1sZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGFzdFJvdyA9IGZpcnN0Um93O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5KGxlbik7XG4gICAgICAgICAgICAgICAgYXJncy51bnNoaWZ0KGZpcnN0Um93LCAwKTtcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0gdXNlV3JhcE1vZGUgPyB0aGlzLiR3cmFwRGF0YSA6IHRoaXMuJHJvd0xlbmd0aENhY2hlXG4gICAgICAgICAgICAgICAgYXJyLnNwbGljZS5hcHBseShhcnIsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZXMgPSB0aGlzLiRmb2xkRGF0YTtcbiAgICAgICAgICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLmdldEZvbGRMaW5lKGZpcnN0Um93KTtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNtcCA9IGZvbGRMaW5lLnJhbmdlLmNvbXBhcmVJbnNpZGUoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY21wID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lID0gZm9sZExpbmUuc3BsaXQoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvbGRMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUuc2hpZnRSb3cobGVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZS5hZGRSZW1vdmVDaGFycyhsYXN0Um93LCAwLCBlbmQuY29sdW1uIC0gc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLmFkZFJlbW92ZUNoYXJzKGZpcnN0Um93LCAwLCBlbmQuY29sdW1uIC0gc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLnNoaWZ0Um93KGxlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gZm9sZExpbmVzLmluZGV4T2YoZm9sZExpbmUpICsgMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGlkeDsgaWR4IDwgZm9sZExpbmVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gZm9sZExpbmVzW2lkeF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2xkTGluZS5zdGFydC5yb3cgPj0gZmlyc3RSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLnNoaWZ0Um93KGxlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZW4gPSBNYXRoLmFicyhkZWx0YS5zdGFydC5jb2x1bW4gLSBkZWx0YS5lbmQuY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkRm9sZHMgPSB0aGlzLmdldEZvbGRzSW5SYW5nZShkZWx0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGb2xkcyhyZW1vdmVkRm9sZHMpO1xuXG4gICAgICAgICAgICAgICAgbGVuID0gLWxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0Rm9sZExpbmUoZmlyc3RSb3cpO1xuICAgICAgICAgICAgaWYgKGZvbGRMaW5lKSB7XG4gICAgICAgICAgICAgICAgZm9sZExpbmUuYWRkUmVtb3ZlQ2hhcnMoZmlyc3RSb3csIHN0YXJ0LmNvbHVtbiwgbGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VXcmFwTW9kZSAmJiB0aGlzLiR3cmFwRGF0YS5sZW5ndGggIT0gdGhpcy5kb2MuZ2V0TGVuZ3RoKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJkb2MuZ2V0TGVuZ3RoKCkgYW5kICR3cmFwRGF0YS5sZW5ndGggaGF2ZSB0byBiZSB0aGUgc2FtZSFcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kdXBkYXRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAodXNlV3JhcE1vZGUpXG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVXcmFwRGF0YShmaXJzdFJvdywgbGFzdFJvdyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVJvd0xlbmd0aENhY2hlKGZpcnN0Um93LCBsYXN0Um93KTtcblxuICAgICAgICByZXR1cm4gcmVtb3ZlZEZvbGRzO1xuICAgIH07XG5cbiAgICB0aGlzLiR1cGRhdGVSb3dMZW5ndGhDYWNoZSA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93LCBiKSB7XG4gICAgICAgIHRoaXMuJHJvd0xlbmd0aENhY2hlW2ZpcnN0Um93XSA9IG51bGw7XG4gICAgICAgIHRoaXMuJHJvd0xlbmd0aENhY2hlW2xhc3RSb3ddID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlV3JhcERhdGEgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICB2YXIgbGluZXMgPSB0aGlzLmRvYy5nZXRBbGxMaW5lcygpO1xuICAgICAgICB2YXIgdGFiU2l6ZSA9IHRoaXMuZ2V0VGFiU2l6ZSgpO1xuICAgICAgICB2YXIgd3JhcERhdGEgPSB0aGlzLiR3cmFwRGF0YTtcbiAgICAgICAgdmFyIHdyYXBMaW1pdCA9IHRoaXMuJHdyYXBMaW1pdDtcbiAgICAgICAgdmFyIHRva2VucztcbiAgICAgICAgdmFyIGZvbGRMaW5lO1xuXG4gICAgICAgIHZhciByb3cgPSBmaXJzdFJvdztcbiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKGxhc3RSb3csIGxpbmVzLmxlbmd0aCAtIDEpO1xuICAgICAgICB3aGlsZSAocm93IDw9IGxhc3RSb3cpIHtcbiAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShyb3csIGZvbGRMaW5lKTtcbiAgICAgICAgICAgIGlmICghZm9sZExpbmUpIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMgPSB0aGlzLiRnZXREaXNwbGF5VG9rZW5zKGxpbmVzW3Jvd10pO1xuICAgICAgICAgICAgICAgIHdyYXBEYXRhW3Jvd10gPSB0aGlzLiRjb21wdXRlV3JhcFNwbGl0cyh0b2tlbnMsIHdyYXBMaW1pdCwgdGFiU2l6ZSk7XG4gICAgICAgICAgICAgICAgcm93ICsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb2xkTGluZS53YWxrKGZ1bmN0aW9uKHBsYWNlaG9sZGVyLCByb3csIGNvbHVtbiwgbGFzdENvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdhbGtUb2tlbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2Vob2xkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbGtUb2tlbnMgPSB0aGlzLiRnZXREaXNwbGF5VG9rZW5zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciwgdG9rZW5zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Fsa1Rva2Vuc1swXSA9IFBMQUNFSE9MREVSX1NUQVJUO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgd2Fsa1Rva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWxrVG9rZW5zW2ldID0gUExBQ0VIT0xERVJfQk9EWTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbGtUb2tlbnMgPSB0aGlzLiRnZXREaXNwbGF5VG9rZW5zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tyb3ddLnN1YnN0cmluZyhsYXN0Q29sdW1uLCBjb2x1bW4pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VucyA9IHRva2Vucy5jb25jYXQod2Fsa1Rva2Vucyk7XG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUuZW5kLnJvdyxcbiAgICAgICAgICAgICAgICAgICAgbGluZXNbZm9sZExpbmUuZW5kLnJvd10ubGVuZ3RoICsgMVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB3cmFwRGF0YVtmb2xkTGluZS5zdGFydC5yb3ddID0gdGhpcy4kY29tcHV0ZVdyYXBTcGxpdHModG9rZW5zLCB3cmFwTGltaXQsIHRhYlNpemUpO1xuICAgICAgICAgICAgICAgIHJvdyA9IGZvbGRMaW5lLmVuZC5yb3cgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgQ0hBUiA9IDEsXG4gICAgICAgIENIQVJfRVhUID0gMixcbiAgICAgICAgUExBQ0VIT0xERVJfU1RBUlQgPSAzLFxuICAgICAgICBQTEFDRUhPTERFUl9CT0RZID0gIDQsXG4gICAgICAgIFBVTkNUVUFUSU9OID0gOSxcbiAgICAgICAgU1BBQ0UgPSAxMCxcbiAgICAgICAgVEFCID0gMTEsXG4gICAgICAgIFRBQl9TUEFDRSA9IDEyO1xuXG5cbiAgICB0aGlzLiRjb21wdXRlV3JhcFNwbGl0cyA9IGZ1bmN0aW9uKHRva2Vucywgd3JhcExpbWl0LCB0YWJTaXplKSB7XG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcGxpdHMgPSBbXTtcbiAgICAgICAgdmFyIGRpc3BsYXlMZW5ndGggPSB0b2tlbnMubGVuZ3RoO1xuICAgICAgICB2YXIgbGFzdFNwbGl0ID0gMCwgbGFzdERvY1NwbGl0ID0gMDtcblxuICAgICAgICB2YXIgaXNDb2RlID0gdGhpcy4kd3JhcEFzQ29kZTtcblxuICAgICAgICB2YXIgaW5kZW50ZWRTb2Z0V3JhcCA9IHRoaXMuJGluZGVudGVkU29mdFdyYXA7XG4gICAgICAgIHZhciBtYXhJbmRlbnQgPSB3cmFwTGltaXQgPD0gTWF0aC5tYXgoMiAqIHRhYlNpemUsIDgpXG4gICAgICAgICAgICB8fCBpbmRlbnRlZFNvZnRXcmFwID09PSBmYWxzZSA/IDAgOiBNYXRoLmZsb29yKHdyYXBMaW1pdCAvIDIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldFdyYXBJbmRlbnQoKSB7XG4gICAgICAgICAgICB2YXIgaW5kZW50YXRpb24gPSAwO1xuICAgICAgICAgICAgaWYgKG1heEluZGVudCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZW50YXRpb247XG4gICAgICAgICAgICBpZiAoaW5kZW50ZWRTb2Z0V3JhcCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuID09IFNQQUNFKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZW50YXRpb24gKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4gPT0gVEFCKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZW50YXRpb24gKz0gdGFiU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4gPT0gVEFCX1NQQUNFKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0NvZGUgJiYgaW5kZW50ZWRTb2Z0V3JhcCAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgaW5kZW50YXRpb24gKz0gdGFiU2l6ZTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihpbmRlbnRhdGlvbiwgbWF4SW5kZW50KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRTcGxpdChzY3JlZW5Qb3MpIHtcbiAgICAgICAgICAgIHZhciBkaXNwbGF5ZWQgPSB0b2tlbnMuc2xpY2UobGFzdFNwbGl0LCBzY3JlZW5Qb3MpO1xuICAgICAgICAgICAgdmFyIGxlbiA9IGRpc3BsYXllZC5sZW5ndGg7XG4gICAgICAgICAgICBkaXNwbGF5ZWQuam9pbihcIlwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8xMi9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVuIC09IDE7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvMi9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVuIC09IDE7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghc3BsaXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGluZGVudCA9IGdldFdyYXBJbmRlbnQoKTtcbiAgICAgICAgICAgICAgICBzcGxpdHMuaW5kZW50ID0gaW5kZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdERvY1NwbGl0ICs9IGxlbjtcbiAgICAgICAgICAgIHNwbGl0cy5wdXNoKGxhc3REb2NTcGxpdCk7XG4gICAgICAgICAgICBsYXN0U3BsaXQgPSBzY3JlZW5Qb3M7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGVudCA9IDA7XG4gICAgICAgIHdoaWxlIChkaXNwbGF5TGVuZ3RoIC0gbGFzdFNwbGl0ID4gd3JhcExpbWl0IC0gaW5kZW50KSB7XG4gICAgICAgICAgICB2YXIgc3BsaXQgPSBsYXN0U3BsaXQgKyB3cmFwTGltaXQgLSBpbmRlbnQ7XG4gICAgICAgICAgICBpZiAodG9rZW5zW3NwbGl0IC0gMV0gPj0gU1BBQ0UgJiYgdG9rZW5zW3NwbGl0XSA+PSBTUEFDRSkge1xuICAgICAgICAgICAgICAgIGFkZFNwbGl0KHNwbGl0KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbnNbc3BsaXRdID09IFBMQUNFSE9MREVSX1NUQVJUIHx8IHRva2Vuc1tzcGxpdF0gPT0gUExBQ0VIT0xERVJfQk9EWSkge1xuICAgICAgICAgICAgICAgIGZvciAoc3BsaXQ7IHNwbGl0ICE9IGxhc3RTcGxpdCAtIDE7IHNwbGl0LS0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2Vuc1tzcGxpdF0gPT0gUExBQ0VIT0xERVJfU1RBUlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzcGxpdCA+IGxhc3RTcGxpdCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRTcGxpdChzcGxpdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzcGxpdCA9IGxhc3RTcGxpdCArIHdyYXBMaW1pdDtcbiAgICAgICAgICAgICAgICBmb3IgKHNwbGl0OyBzcGxpdCA8IHRva2Vucy5sZW5ndGg7IHNwbGl0KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2Vuc1tzcGxpdF0gIT0gUExBQ0VIT0xERVJfQk9EWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNwbGl0ID09IHRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7ICAvLyBCcmVha3MgdGhlIHdoaWxlLWxvb3AuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkZFNwbGl0KHNwbGl0KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtaW5TcGxpdCA9IE1hdGgubWF4KHNwbGl0IC0gKHdyYXBMaW1pdCAtKHdyYXBMaW1pdD4+MikpLCBsYXN0U3BsaXQgLSAxKTtcbiAgICAgICAgICAgIHdoaWxlIChzcGxpdCA+IG1pblNwbGl0ICYmIHRva2Vuc1tzcGxpdF0gPCBQTEFDRUhPTERFUl9TVEFSVCkge1xuICAgICAgICAgICAgICAgIHNwbGl0IC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzQ29kZSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChzcGxpdCA+IG1pblNwbGl0ICYmIHRva2Vuc1tzcGxpdF0gPCBQTEFDRUhPTERFUl9TVEFSVCkge1xuICAgICAgICAgICAgICAgICAgICBzcGxpdCAtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKHNwbGl0ID4gbWluU3BsaXQgJiYgdG9rZW5zW3NwbGl0XSA9PSBQVU5DVFVBVElPTikge1xuICAgICAgICAgICAgICAgICAgICBzcGxpdCAtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlIChzcGxpdCA+IG1pblNwbGl0ICYmIHRva2Vuc1tzcGxpdF0gPCBTUEFDRSkge1xuICAgICAgICAgICAgICAgICAgICBzcGxpdCAtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3BsaXQgPiBtaW5TcGxpdCkge1xuICAgICAgICAgICAgICAgIGFkZFNwbGl0KCsrc3BsaXQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3BsaXQgPSBsYXN0U3BsaXQgKyB3cmFwTGltaXQ7XG4gICAgICAgICAgICBpZiAodG9rZW5zW3NwbGl0XSA9PSBDSEFSX0VYVClcbiAgICAgICAgICAgICAgICBzcGxpdC0tO1xuICAgICAgICAgICAgYWRkU3BsaXQoc3BsaXQgLSBpbmRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzcGxpdHM7XG4gICAgfTtcbiAgICB0aGlzLiRnZXREaXNwbGF5VG9rZW5zID0gZnVuY3Rpb24oc3RyLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICB2YXIgdGFiU2l6ZTtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoYyA9PSA5KSB7XG4gICAgICAgICAgICAgICAgdGFiU2l6ZSA9IHRoaXMuZ2V0U2NyZWVuVGFiU2l6ZShhcnIubGVuZ3RoICsgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChUQUIpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAxOyBuIDwgdGFiU2l6ZTsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKFRBQl9TUEFDRSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYyA9PSAzMikge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKFNQQUNFKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZigoYyA+IDM5ICYmIGMgPCA0OCkgfHwgKGMgPiA1NyAmJiBjIDwgNjQpKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goUFVOQ1RVQVRJT04pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYyA+PSAweDExMDAgJiYgaXNGdWxsV2lkdGgoYykpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChDSEFSLCBDSEFSX0VYVCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKENIQVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfTtcbiAgICB0aGlzLiRnZXRTdHJpbmdTY3JlZW5XaWR0aCA9IGZ1bmN0aW9uKHN0ciwgbWF4U2NyZWVuQ29sdW1uLCBzY3JlZW5Db2x1bW4pIHtcbiAgICAgICAgaWYgKG1heFNjcmVlbkNvbHVtbiA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIFswLCAwXTtcbiAgICAgICAgaWYgKG1heFNjcmVlbkNvbHVtbiA9PSBudWxsKVxuICAgICAgICAgICAgbWF4U2NyZWVuQ29sdW1uID0gSW5maW5pdHk7XG4gICAgICAgIHNjcmVlbkNvbHVtbiA9IHNjcmVlbkNvbHVtbiB8fCAwO1xuXG4gICAgICAgIHZhciBjLCBjb2x1bW47XG4gICAgICAgIGZvciAoY29sdW1uID0gMDsgY29sdW1uIDwgc3RyLmxlbmd0aDsgY29sdW1uKyspIHtcbiAgICAgICAgICAgIGMgPSBzdHIuY2hhckNvZGVBdChjb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGMgPT0gOSkge1xuICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiArPSB0aGlzLmdldFNjcmVlblRhYlNpemUoc2NyZWVuQ29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPj0gMHgxMTAwICYmIGlzRnVsbFdpZHRoKGMpKSB7XG4gICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uICs9IDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjcmVlbkNvbHVtbiA+IG1heFNjcmVlbkNvbHVtbikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtzY3JlZW5Db2x1bW4sIGNvbHVtbl07XG4gICAgfTtcblxuICAgIHRoaXMubGluZVdpZGdldHMgPSBudWxsO1xuICAgIHRoaXMuZ2V0Um93TGVuZ3RoID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIGlmICh0aGlzLmxpbmVXaWRnZXRzKVxuICAgICAgICAgICAgdmFyIGggPSB0aGlzLmxpbmVXaWRnZXRzW3Jvd10gJiYgdGhpcy5saW5lV2lkZ2V0c1tyb3ddLnJvd0NvdW50IHx8IDA7XG4gICAgICAgIGVsc2UgXG4gICAgICAgICAgICBoID0gMFxuICAgICAgICBpZiAoIXRoaXMuJHVzZVdyYXBNb2RlIHx8ICF0aGlzLiR3cmFwRGF0YVtyb3ddKSB7XG4gICAgICAgICAgICByZXR1cm4gMSArIGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kd3JhcERhdGFbcm93XS5sZW5ndGggKyAxICsgaDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRSb3dMaW5lQ291bnQgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgaWYgKCF0aGlzLiR1c2VXcmFwTW9kZSB8fCAhdGhpcy4kd3JhcERhdGFbcm93XSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kd3JhcERhdGFbcm93XS5sZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Um93V3JhcEluZGVudCA9IGZ1bmN0aW9uKHNjcmVlblJvdykge1xuICAgICAgICBpZiAodGhpcy4kdXNlV3JhcE1vZGUpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihzY3JlZW5Sb3csIE51bWJlci5NQVhfVkFMVUUpO1xuICAgICAgICAgICAgdmFyIHNwbGl0cyA9IHRoaXMuJHdyYXBEYXRhW3Bvcy5yb3ddO1xuICAgICAgICAgICAgcmV0dXJuIHNwbGl0cy5sZW5ndGggJiYgc3BsaXRzWzBdIDwgcG9zLmNvbHVtbiA/IHNwbGl0cy5pbmRlbnQgOiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5nZXRTY3JlZW5MYXN0Um93Q29sdW1uID0gZnVuY3Rpb24oc2NyZWVuUm93KSB7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihzY3JlZW5Sb3csIE51bWJlci5NQVhfVkFMVUUpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudFRvU2NyZWVuQ29sdW1uKHBvcy5yb3csIHBvcy5jb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5nZXREb2N1bWVudExhc3RSb3dDb2x1bW4gPSBmdW5jdGlvbihkb2NSb3csIGRvY0NvbHVtbikge1xuICAgICAgICB2YXIgc2NyZWVuUm93ID0gdGhpcy5kb2N1bWVudFRvU2NyZWVuUm93KGRvY1JvdywgZG9jQ29sdW1uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbihzY3JlZW5Sb3cpO1xuICAgIH07XG4gICAgdGhpcy5nZXREb2N1bWVudExhc3RSb3dDb2x1bW5Qb3NpdGlvbiA9IGZ1bmN0aW9uKGRvY1JvdywgZG9jQ29sdW1uKSB7XG4gICAgICAgIHZhciBzY3JlZW5Sb3cgPSB0aGlzLmRvY3VtZW50VG9TY3JlZW5Sb3coZG9jUm93LCBkb2NDb2x1bW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuUm93LCBOdW1iZXIuTUFYX1ZBTFVFIC8gMTApO1xuICAgIH07XG4gICAgdGhpcy5nZXRSb3dTcGxpdERhdGEgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgaWYgKCF0aGlzLiR1c2VXcmFwTW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiR3cmFwRGF0YVtyb3ddO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcmVlblRhYlNpemUgPSBmdW5jdGlvbihzY3JlZW5Db2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHRhYlNpemUgLSBzY3JlZW5Db2x1bW4gJSB0aGlzLiR0YWJTaXplO1xuICAgIH07XG5cblxuICAgIHRoaXMuc2NyZWVuVG9Eb2N1bWVudFJvdyA9IGZ1bmN0aW9uKHNjcmVlblJvdywgc2NyZWVuQ29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihzY3JlZW5Sb3csIHNjcmVlbkNvbHVtbikucm93O1xuICAgIH07XG5cblxuICAgIHRoaXMuc2NyZWVuVG9Eb2N1bWVudENvbHVtbiA9IGZ1bmN0aW9uKHNjcmVlblJvdywgc2NyZWVuQ29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihzY3JlZW5Sb3csIHNjcmVlbkNvbHVtbikuY29sdW1uO1xuICAgIH07XG4gICAgdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24gPSBmdW5jdGlvbihzY3JlZW5Sb3csIHNjcmVlbkNvbHVtbikge1xuICAgICAgICBpZiAoc2NyZWVuUm93IDwgMClcbiAgICAgICAgICAgIHJldHVybiB7cm93OiAwLCBjb2x1bW46IDB9O1xuXG4gICAgICAgIHZhciBsaW5lO1xuICAgICAgICB2YXIgZG9jUm93ID0gMDtcbiAgICAgICAgdmFyIGRvY0NvbHVtbiA9IDA7XG4gICAgICAgIHZhciBjb2x1bW47XG4gICAgICAgIHZhciByb3cgPSAwO1xuICAgICAgICB2YXIgcm93TGVuZ3RoID0gMDtcblxuICAgICAgICB2YXIgcm93Q2FjaGUgPSB0aGlzLiRzY3JlZW5Sb3dDYWNoZTtcbiAgICAgICAgdmFyIGkgPSB0aGlzLiRnZXRSb3dDYWNoZUluZGV4KHJvd0NhY2hlLCBzY3JlZW5Sb3cpO1xuICAgICAgICB2YXIgbCA9IHJvd0NhY2hlLmxlbmd0aDtcbiAgICAgICAgaWYgKGwgJiYgaSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgcm93ID0gcm93Q2FjaGVbaV07XG4gICAgICAgICAgICB2YXIgZG9jUm93ID0gdGhpcy4kZG9jUm93Q2FjaGVbaV07XG4gICAgICAgICAgICB2YXIgZG9DYWNoZSA9IHNjcmVlblJvdyA+IHJvd0NhY2hlW2wgLSAxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkb0NhY2hlID0gIWw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWF4Um93ID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7XG4gICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0TmV4dEZvbGRMaW5lKGRvY1Jvdyk7XG4gICAgICAgIHZhciBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuXG4gICAgICAgIHdoaWxlIChyb3cgPD0gc2NyZWVuUm93KSB7XG4gICAgICAgICAgICByb3dMZW5ndGggPSB0aGlzLmdldFJvd0xlbmd0aChkb2NSb3cpO1xuICAgICAgICAgICAgaWYgKHJvdyArIHJvd0xlbmd0aCA+IHNjcmVlblJvdyB8fCBkb2NSb3cgPj0gbWF4Um93KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvdyArPSByb3dMZW5ndGg7XG4gICAgICAgICAgICAgICAgZG9jUm93Kys7XG4gICAgICAgICAgICAgICAgaWYgKGRvY1JvdyA+IGZvbGRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBkb2NSb3cgPSBmb2xkTGluZS5lbmQucm93KzE7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5nZXROZXh0Rm9sZExpbmUoZG9jUm93LCBmb2xkTGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRTdGFydCA9IGZvbGRMaW5lID8gZm9sZExpbmUuc3RhcnQucm93IDogSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZG9DYWNoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGRvY1Jvd0NhY2hlLnB1c2goZG9jUm93KTtcbiAgICAgICAgICAgICAgICB0aGlzLiRzY3JlZW5Sb3dDYWNoZS5wdXNoKHJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm9sZExpbmUgJiYgZm9sZExpbmUuc3RhcnQucm93IDw9IGRvY1Jvdykge1xuICAgICAgICAgICAgbGluZSA9IHRoaXMuZ2V0Rm9sZERpc3BsYXlMaW5lKGZvbGRMaW5lKTtcbiAgICAgICAgICAgIGRvY1JvdyA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgfSBlbHNlIGlmIChyb3cgKyByb3dMZW5ndGggPD0gc2NyZWVuUm93IHx8IGRvY1JvdyA+IG1heFJvdykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByb3c6IG1heFJvdyxcbiAgICAgICAgICAgICAgICBjb2x1bW46IHRoaXMuZ2V0TGluZShtYXhSb3cpLmxlbmd0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmUgPSB0aGlzLmdldExpbmUoZG9jUm93KTtcbiAgICAgICAgICAgIGZvbGRMaW5lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd3JhcEluZGVudCA9IDA7XG4gICAgICAgIGlmICh0aGlzLiR1c2VXcmFwTW9kZSkge1xuICAgICAgICAgICAgdmFyIHNwbGl0cyA9IHRoaXMuJHdyYXBEYXRhW2RvY1Jvd107XG4gICAgICAgICAgICBpZiAoc3BsaXRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNwbGl0SW5kZXggPSBNYXRoLmZsb29yKHNjcmVlblJvdyAtIHJvdyk7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gc3BsaXRzW3NwbGl0SW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmKHNwbGl0SW5kZXggPiAwICYmIHNwbGl0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JhcEluZGVudCA9IHNwbGl0cy5pbmRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGRvY0NvbHVtbiA9IHNwbGl0c1tzcGxpdEluZGV4IC0gMV0gfHwgc3BsaXRzW3NwbGl0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmUuc3Vic3RyaW5nKGRvY0NvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZG9jQ29sdW1uICs9IHRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoKGxpbmUsIHNjcmVlbkNvbHVtbiAtIHdyYXBJbmRlbnQpWzFdO1xuICAgICAgICBpZiAodGhpcy4kdXNlV3JhcE1vZGUgJiYgZG9jQ29sdW1uID49IGNvbHVtbilcbiAgICAgICAgICAgIGRvY0NvbHVtbiA9IGNvbHVtbiAtIDE7XG5cbiAgICAgICAgaWYgKGZvbGRMaW5lKVxuICAgICAgICAgICAgcmV0dXJuIGZvbGRMaW5lLmlkeFRvUG9zaXRpb24oZG9jQ29sdW1uKTtcblxuICAgICAgICByZXR1cm4ge3JvdzogZG9jUm93LCBjb2x1bW46IGRvY0NvbHVtbn07XG4gICAgfTtcbiAgICB0aGlzLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbiA9IGZ1bmN0aW9uKGRvY1JvdywgZG9jQ29sdW1uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jQ29sdW1uID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQoZG9jUm93LnJvdywgZG9jUm93LmNvbHVtbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQoZG9jUm93LCBkb2NDb2x1bW4pO1xuXG4gICAgICAgIGRvY1JvdyA9IHBvcy5yb3c7XG4gICAgICAgIGRvY0NvbHVtbiA9IHBvcy5jb2x1bW47XG5cbiAgICAgICAgdmFyIHNjcmVlblJvdyA9IDA7XG4gICAgICAgIHZhciBmb2xkU3RhcnRSb3cgPSBudWxsO1xuICAgICAgICB2YXIgZm9sZCA9IG51bGw7XG4gICAgICAgIGZvbGQgPSB0aGlzLmdldEZvbGRBdChkb2NSb3csIGRvY0NvbHVtbiwgMSk7XG4gICAgICAgIGlmIChmb2xkKSB7XG4gICAgICAgICAgICBkb2NSb3cgPSBmb2xkLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIGRvY0NvbHVtbiA9IGZvbGQuc3RhcnQuY29sdW1uO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJvd0VuZCwgcm93ID0gMDtcblxuXG4gICAgICAgIHZhciByb3dDYWNoZSA9IHRoaXMuJGRvY1Jvd0NhY2hlO1xuICAgICAgICB2YXIgaSA9IHRoaXMuJGdldFJvd0NhY2hlSW5kZXgocm93Q2FjaGUsIGRvY1Jvdyk7XG4gICAgICAgIHZhciBsID0gcm93Q2FjaGUubGVuZ3RoO1xuICAgICAgICBpZiAobCAmJiBpID49IDApIHtcbiAgICAgICAgICAgIHZhciByb3cgPSByb3dDYWNoZVtpXTtcbiAgICAgICAgICAgIHZhciBzY3JlZW5Sb3cgPSB0aGlzLiRzY3JlZW5Sb3dDYWNoZVtpXTtcbiAgICAgICAgICAgIHZhciBkb0NhY2hlID0gZG9jUm93ID4gcm93Q2FjaGVbbCAtIDFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRvQ2FjaGUgPSAhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0TmV4dEZvbGRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBmb2xkU3RhcnQgPSBmb2xkTGluZSA/Zm9sZExpbmUuc3RhcnQucm93IDpJbmZpbml0eTtcblxuICAgICAgICB3aGlsZSAocm93IDwgZG9jUm93KSB7XG4gICAgICAgICAgICBpZiAocm93ID49IGZvbGRTdGFydCkge1xuICAgICAgICAgICAgICAgIHJvd0VuZCA9IGZvbGRMaW5lLmVuZC5yb3cgKyAxO1xuICAgICAgICAgICAgICAgIGlmIChyb3dFbmQgPiBkb2NSb3cpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5nZXROZXh0Rm9sZExpbmUocm93RW5kLCBmb2xkTGluZSk7XG4gICAgICAgICAgICAgICAgZm9sZFN0YXJ0ID0gZm9sZExpbmUgP2ZvbGRMaW5lLnN0YXJ0LnJvdyA6SW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByb3dFbmQgPSByb3cgKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY3JlZW5Sb3cgKz0gdGhpcy5nZXRSb3dMZW5ndGgocm93KTtcbiAgICAgICAgICAgIHJvdyA9IHJvd0VuZDtcblxuICAgICAgICAgICAgaWYgKGRvQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRkb2NSb3dDYWNoZS5wdXNoKHJvdyk7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NyZWVuUm93Q2FjaGUucHVzaChzY3JlZW5Sb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0TGluZSA9IFwiXCI7XG4gICAgICAgIGlmIChmb2xkTGluZSAmJiByb3cgPj0gZm9sZFN0YXJ0KSB7XG4gICAgICAgICAgICB0ZXh0TGluZSA9IHRoaXMuZ2V0Rm9sZERpc3BsYXlMaW5lKGZvbGRMaW5lLCBkb2NSb3csIGRvY0NvbHVtbik7XG4gICAgICAgICAgICBmb2xkU3RhcnRSb3cgPSBmb2xkTGluZS5zdGFydC5yb3c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0TGluZSA9IHRoaXMuZ2V0TGluZShkb2NSb3cpLnN1YnN0cmluZygwLCBkb2NDb2x1bW4pO1xuICAgICAgICAgICAgZm9sZFN0YXJ0Um93ID0gZG9jUm93O1xuICAgICAgICB9XG4gICAgICAgIHZhciB3cmFwSW5kZW50ID0gMDtcbiAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICB2YXIgd3JhcFJvdyA9IHRoaXMuJHdyYXBEYXRhW2ZvbGRTdGFydFJvd107XG4gICAgICAgICAgICBpZiAod3JhcFJvdykge1xuICAgICAgICAgICAgICAgIHZhciBzY3JlZW5Sb3dPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0ZXh0TGluZS5sZW5ndGggPj0gd3JhcFJvd1tzY3JlZW5Sb3dPZmZzZXRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmVlblJvdyArKztcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuUm93T2Zmc2V0Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHRMaW5lID0gdGV4dExpbmUuc3Vic3RyaW5nKFxuICAgICAgICAgICAgICAgICAgICB3cmFwUm93W3NjcmVlblJvd09mZnNldCAtIDFdIHx8IDAsIHRleHRMaW5lLmxlbmd0aFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgd3JhcEluZGVudCA9IHNjcmVlblJvd09mZnNldCA+IDAgPyB3cmFwUm93LmluZGVudCA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcm93OiBzY3JlZW5Sb3csXG4gICAgICAgICAgICBjb2x1bW46IHdyYXBJbmRlbnQgKyB0aGlzLiRnZXRTdHJpbmdTY3JlZW5XaWR0aCh0ZXh0TGluZSlbMF1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHRoaXMuZG9jdW1lbnRUb1NjcmVlbkNvbHVtbiA9IGZ1bmN0aW9uKHJvdywgZG9jQ29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihyb3csIGRvY0NvbHVtbikuY29sdW1uO1xuICAgIH07XG4gICAgdGhpcy5kb2N1bWVudFRvU2NyZWVuUm93ID0gZnVuY3Rpb24oZG9jUm93LCBkb2NDb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKGRvY1JvdywgZG9jQ29sdW1uKS5yb3c7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcmVlbkxlbmd0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2NyZWVuUm93cyA9IDA7XG4gICAgICAgIHZhciBmb2xkID0gbnVsbDtcbiAgICAgICAgaWYgKCF0aGlzLiR1c2VXcmFwTW9kZSkge1xuICAgICAgICAgICAgc2NyZWVuUm93cyA9IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgICAgICAgICB2YXIgZm9sZERhdGEgPSB0aGlzLiRmb2xkRGF0YTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9sZERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb2xkID0gZm9sZERhdGFbaV07XG4gICAgICAgICAgICAgICAgc2NyZWVuUm93cyAtPSBmb2xkLmVuZC5yb3cgLSBmb2xkLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsYXN0Um93ID0gdGhpcy4kd3JhcERhdGEubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHJvdyA9IDAsIGkgPSAwO1xuICAgICAgICAgICAgdmFyIGZvbGQgPSB0aGlzLiRmb2xkRGF0YVtpKytdO1xuICAgICAgICAgICAgdmFyIGZvbGRTdGFydCA9IGZvbGQgPyBmb2xkLnN0YXJ0LnJvdyA6SW5maW5pdHk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyb3cgPCBsYXN0Um93KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNwbGl0cyA9IHRoaXMuJHdyYXBEYXRhW3Jvd107XG4gICAgICAgICAgICAgICAgc2NyZWVuUm93cyArPSBzcGxpdHMgPyBzcGxpdHMubGVuZ3RoICsgMSA6IDE7XG4gICAgICAgICAgICAgICAgcm93ICsrO1xuICAgICAgICAgICAgICAgIGlmIChyb3cgPiBmb2xkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93ID0gZm9sZC5lbmQucm93KzE7XG4gICAgICAgICAgICAgICAgICAgIGZvbGQgPSB0aGlzLiRmb2xkRGF0YVtpKytdO1xuICAgICAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkID9mb2xkLnN0YXJ0LnJvdyA6SW5maW5pdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxpbmVXaWRnZXRzKVxuICAgICAgICAgICAgc2NyZWVuUm93cyArPSB0aGlzLiRnZXRXaWRnZXRTY3JlZW5MZW5ndGgoKTtcblxuICAgICAgICByZXR1cm4gc2NyZWVuUm93cztcbiAgICB9O1xuICAgIHRoaXMuJHNldEZvbnRNZXRyaWNzID0gZnVuY3Rpb24oZm0pIHtcbiAgICAgICAgaWYgKCF0aGlzLiRlbmFibGVWYXJDaGFyKSByZXR1cm47XG4gICAgICAgIHRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoID0gZnVuY3Rpb24oc3RyLCBtYXhTY3JlZW5Db2x1bW4sIHNjcmVlbkNvbHVtbikge1xuICAgICAgICAgICAgaWYgKG1heFNjcmVlbkNvbHVtbiA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAsIDBdO1xuICAgICAgICAgICAgaWYgKCFtYXhTY3JlZW5Db2x1bW4pXG4gICAgICAgICAgICAgICAgbWF4U2NyZWVuQ29sdW1uID0gSW5maW5pdHk7XG4gICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSBzY3JlZW5Db2x1bW4gfHwgMDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGMsIGNvbHVtbjtcbiAgICAgICAgICAgIGZvciAoY29sdW1uID0gMDsgY29sdW1uIDwgc3RyLmxlbmd0aDsgY29sdW1uKyspIHtcbiAgICAgICAgICAgICAgICBjID0gc3RyLmNoYXJBdChjb2x1bW4pO1xuICAgICAgICAgICAgICAgIGlmIChjID09PSBcIlxcdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiArPSB0aGlzLmdldFNjcmVlblRhYlNpemUoc2NyZWVuQ29sdW1uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gKz0gZm0uZ2V0Q2hhcmFjdGVyV2lkdGgoYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzY3JlZW5Db2x1bW4gPiBtYXhTY3JlZW5Db2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gW3NjcmVlbkNvbHVtbiwgY29sdW1uXTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5iZ1Rva2VuaXplcikge1xuICAgICAgICAgICAgdGhpcy5iZ1Rva2VuaXplci5zZXREb2N1bWVudChudWxsKTtcbiAgICAgICAgICAgIHRoaXMuYmdUb2tlbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHN0b3BXb3JrZXIoKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGlzRnVsbFdpZHRoKGMpIHtcbiAgICAgICAgaWYgKGMgPCAweDExMDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiBjID49IDB4MTEwMCAmJiBjIDw9IDB4MTE1RiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDExQTMgJiYgYyA8PSAweDExQTcgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgxMUZBICYmIGMgPD0gMHgxMUZGIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MjMyOSAmJiBjIDw9IDB4MjMyQSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDJFODAgJiYgYyA8PSAweDJFOTkgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgyRTlCICYmIGMgPD0gMHgyRUYzIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MkYwMCAmJiBjIDw9IDB4MkZENSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDJGRjAgJiYgYyA8PSAweDJGRkIgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMDAwICYmIGMgPD0gMHgzMDNFIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzA0MSAmJiBjIDw9IDB4MzA5NiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDMwOTkgJiYgYyA8PSAweDMwRkYgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMTA1ICYmIGMgPD0gMHgzMTJEIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzEzMSAmJiBjIDw9IDB4MzE4RSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDMxOTAgJiYgYyA8PSAweDMxQkEgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMUMwICYmIGMgPD0gMHgzMUUzIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzFGMCAmJiBjIDw9IDB4MzIxRSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDMyMjAgJiYgYyA8PSAweDMyNDcgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMjUwICYmIGMgPD0gMHgzMkZFIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzMwMCAmJiBjIDw9IDB4NERCRiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDRFMDAgJiYgYyA8PSAweEE0OEMgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhBNDkwICYmIGMgPD0gMHhBNEM2IHx8XG4gICAgICAgICAgICAgICBjID49IDB4QTk2MCAmJiBjIDw9IDB4QTk3QyB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEFDMDAgJiYgYyA8PSAweEQ3QTMgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhEN0IwICYmIGMgPD0gMHhEN0M2IHx8XG4gICAgICAgICAgICAgICBjID49IDB4RDdDQiAmJiBjIDw9IDB4RDdGQiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEY5MDAgJiYgYyA8PSAweEZBRkYgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhGRTEwICYmIGMgPD0gMHhGRTE5IHx8XG4gICAgICAgICAgICAgICBjID49IDB4RkUzMCAmJiBjIDw9IDB4RkU1MiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEZFNTQgJiYgYyA8PSAweEZFNjYgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhGRTY4ICYmIGMgPD0gMHhGRTZCIHx8XG4gICAgICAgICAgICAgICBjID49IDB4RkYwMSAmJiBjIDw9IDB4RkY2MCB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEZGRTAgJiYgYyA8PSAweEZGRTY7XG4gICAgfVxuXG59KS5jYWxsKEVkaXRTZXNzaW9uLnByb3RvdHlwZSk7XG5cbmFjZXF1aXJlKFwiLi9lZGl0X3Nlc3Npb24vZm9sZGluZ1wiKS5Gb2xkaW5nLmNhbGwoRWRpdFNlc3Npb24ucHJvdG90eXBlKTtcbmFjZXF1aXJlKFwiLi9lZGl0X3Nlc3Npb24vYnJhY2tldF9tYXRjaFwiKS5CcmFja2V0TWF0Y2guY2FsbChFZGl0U2Vzc2lvbi5wcm90b3R5cGUpO1xuXG5cbmNvbmZpZy5kZWZpbmVPcHRpb25zKEVkaXRTZXNzaW9uLnByb3RvdHlwZSwgXCJzZXNzaW9uXCIsIHtcbiAgICB3cmFwOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT0gXCJvZmZcIilcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gXCJmcmVlXCIpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gXCJwcmludE1hcmdpblwiKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gLTE7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCkgfHwgZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiR3cmFwID09IHZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuJHdyYXAgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFVzZVdyYXBNb2RlKGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbCA9IHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiID8gdmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0V3JhcExpbWl0UmFuZ2UoY29sLCBjb2wpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VXNlV3JhcE1vZGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRVc2VXcmFwTW9kZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHdyYXAgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInByaW50TWFyZ2luXCI7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdldFdyYXBMaW1pdFJhbmdlKCkubWluKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJmcmVlXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHdyYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJvZmZcIjtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlc1NldDogdHJ1ZVxuICAgIH0sICAgIFxuICAgIHdyYXBNZXRob2Q6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIHZhbCA9IHZhbCA9PSBcImF1dG9cIlxuICAgICAgICAgICAgICAgID8gdGhpcy4kbW9kZS50eXBlICE9IFwidGV4dFwiXG4gICAgICAgICAgICAgICAgOiB2YWwgIT0gXCJ0ZXh0XCI7XG4gICAgICAgICAgICBpZiAodmFsICE9IHRoaXMuJHdyYXBBc0NvZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR3cmFwQXNDb2RlID0gdmFsO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiR1c2VXcmFwTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlc2V0Um93Q2FjaGUoMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVdyYXBEYXRhKDAsIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogXCJhdXRvXCJcbiAgICB9LFxuICAgIGluZGVudGVkU29mdFdyYXA6IHsgaW5pdGlhbFZhbHVlOiB0cnVlIH0sXG4gICAgZmlyc3RMaW5lTnVtYmVyOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oKSB7dGhpcy5fc2lnbmFsKFwiY2hhbmdlQnJlYWtwb2ludFwiKTt9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IDFcbiAgICB9LFxuICAgIHVzZVdvcmtlcjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHVzZVdvcmtlcikge1xuICAgICAgICAgICAgdGhpcy4kdXNlV29ya2VyID0gdXNlV29ya2VyO1xuXG4gICAgICAgICAgICB0aGlzLiRzdG9wV29ya2VyKCk7XG4gICAgICAgICAgICBpZiAodXNlV29ya2VyKVxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YXJ0V29ya2VyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgdXNlU29mdFRhYnM6IHtpbml0aWFsVmFsdWU6IHRydWV9LFxuICAgIHRhYlNpemU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih0YWJTaXplKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4odGFiU2l6ZSkgfHwgdGhpcy4kdGFiU2l6ZSA9PT0gdGFiU2l6ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLiRyb3dMZW5ndGhDYWNoZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy4kdGFiU2l6ZSA9IHRhYlNpemU7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VUYWJTaXplXCIpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IDQsXG4gICAgICAgIGhhbmRsZXNTZXQ6IHRydWVcbiAgICB9LFxuICAgIG92ZXJ3cml0ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge3RoaXMuX3NpZ25hbChcImNoYW5nZU92ZXJ3cml0ZVwiKTt9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBuZXdMaW5lTW9kZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge3RoaXMuZG9jLnNldE5ld0xpbmVNb2RlKHZhbCl9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmRvYy5nZXROZXdMaW5lTW9kZSgpfSxcbiAgICAgICAgaGFuZGxlc1NldDogdHJ1ZVxuICAgIH0sXG4gICAgbW9kZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkgeyB0aGlzLnNldE1vZGUodmFsKSB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy4kbW9kZUlkIH1cbiAgICB9XG59KTtcblxuZXhwb3J0cy5FZGl0U2Vzc2lvbiA9IEVkaXRTZXNzaW9uO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2Uvc2VhcmNoXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvb29wXCIsXCJhY2UvcmFuZ2VcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi9saWIvbGFuZ1wiKTtcbnZhciBvb3AgPSBhY2VxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcblxudmFyIFNlYXJjaCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJG9wdGlvbnMgPSB7fTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgb29wLm1peGluKHRoaXMuJG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHRoaXMuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbGFuZy5jb3B5T2JqZWN0KHRoaXMuJG9wdGlvbnMpO1xuICAgIH07XG4gICAgdGhpcy5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB0aGlzLiRvcHRpb25zID0gb3B0aW9ucztcbiAgICB9O1xuICAgIHRoaXMuZmluZCA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLiRtYXRjaEl0ZXJhdG9yKHNlc3Npb24sIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIWl0ZXJhdG9yKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHZhciBmaXJzdFJhbmdlID0gbnVsbDtcbiAgICAgICAgaXRlcmF0b3IuZm9yRWFjaChmdW5jdGlvbihyYW5nZSwgcm93LCBvZmZzZXQpIHtcbiAgICAgICAgICAgIGlmICghcmFuZ2Uuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gcmFuZ2Uub2Zmc2V0ICsgKG9mZnNldCB8fCAwKTtcbiAgICAgICAgICAgICAgICBmaXJzdFJhbmdlID0gbmV3IFJhbmdlKHJvdywgY29sdW1uLCByb3csIGNvbHVtbiArIHJhbmdlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyYW5nZS5sZW5ndGggJiYgb3B0aW9ucy5zdGFydCAmJiBvcHRpb25zLnN0YXJ0LnN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICYmIG9wdGlvbnMuc2tpcEN1cnJlbnQgIT0gZmFsc2UgJiYgZmlyc3RSYW5nZS5pc0VxdWFsKG9wdGlvbnMuc3RhcnQpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0UmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgZmlyc3RSYW5nZSA9IHJhbmdlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmaXJzdFJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5maW5kQWxsID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7XG4gICAgICAgIGlmICghb3B0aW9ucy5uZWVkbGUpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHRoaXMuJGFzc2VtYmxlUmVnRXhwKG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciByYW5nZSA9IG9wdGlvbnMucmFuZ2U7XG4gICAgICAgIHZhciBsaW5lcyA9IHJhbmdlXG4gICAgICAgICAgICA/IHNlc3Npb24uZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KVxuICAgICAgICAgICAgOiBzZXNzaW9uLmRvYy5nZXRBbGxMaW5lcygpO1xuXG4gICAgICAgIHZhciByYW5nZXMgPSBbXTtcbiAgICAgICAgdmFyIHJlID0gb3B0aW9ucy5yZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuJGlzTXVsdGlMaW5lKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gcmUubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIG1heFJvdyA9IGxpbmVzLmxlbmd0aCAtIGxlbjtcbiAgICAgICAgICAgIHZhciBwcmV2UmFuZ2U7XG4gICAgICAgICAgICBvdXRlcjogZm9yICh2YXIgcm93ID0gcmUub2Zmc2V0IHx8IDA7IHJvdyA8PSBtYXhSb3c7IHJvdysrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47IGorKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVzW3JvdyArIGpdLnNlYXJjaChyZVtqXSkgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRMaW5lID0gbGluZXNbcm93XTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IGxpbmVzW3JvdyArIGxlbiAtIDFdO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gc3RhcnRMaW5lLmxlbmd0aCAtIHN0YXJ0TGluZS5tYXRjaChyZVswXSlbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBlbmRJbmRleCA9IGxpbmUubWF0Y2gocmVbbGVuIC0gMV0pWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAocHJldlJhbmdlICYmIHByZXZSYW5nZS5lbmQucm93ID09PSByb3cgJiZcbiAgICAgICAgICAgICAgICAgICAgcHJldlJhbmdlLmVuZC5jb2x1bW4gPiBzdGFydEluZGV4XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChwcmV2UmFuZ2UgPSBuZXcgUmFuZ2UoXG4gICAgICAgICAgICAgICAgICAgIHJvdywgc3RhcnRJbmRleCwgcm93ICsgbGVuIC0gMSwgZW5kSW5kZXhcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMilcbiAgICAgICAgICAgICAgICAgICAgcm93ID0gcm93ICsgbGVuIC0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGxhbmcuZ2V0TWF0Y2hPZmZzZXRzKGxpbmVzW2ldLCByZSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXRjaGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IG1hdGNoZXNbal07XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKG5ldyBSYW5nZShpLCBtYXRjaC5vZmZzZXQsIGksIG1hdGNoLm9mZnNldCArIG1hdGNoLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0Q29sdW1uID0gcmFuZ2Uuc3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IHJhbmdlLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgIHZhciBpID0gMCwgaiA9IHJhbmdlcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBqICYmIHJhbmdlc1tpXS5zdGFydC5jb2x1bW4gPCBzdGFydENvbHVtbiAmJiByYW5nZXNbaV0uc3RhcnQucm93ID09IHJhbmdlLnN0YXJ0LnJvdylcbiAgICAgICAgICAgICAgICBpKys7XG5cbiAgICAgICAgICAgIHdoaWxlIChpIDwgaiAmJiByYW5nZXNbal0uZW5kLmNvbHVtbiA+IGVuZENvbHVtbiAmJiByYW5nZXNbal0uZW5kLnJvdyA9PSByYW5nZS5lbmQucm93KVxuICAgICAgICAgICAgICAgIGotLTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmFuZ2VzID0gcmFuZ2VzLnNsaWNlKGksIGogKyAxKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGogPSByYW5nZXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzW2ldLnN0YXJ0LnJvdyArPSByYW5nZS5zdGFydC5yb3c7XG4gICAgICAgICAgICAgICAgcmFuZ2VzW2ldLmVuZC5yb3cgKz0gcmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICB9O1xuICAgIHRoaXMucmVwbGFjZSA9IGZ1bmN0aW9uKGlucHV0LCByZXBsYWNlbWVudCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7XG5cbiAgICAgICAgdmFyIHJlID0gdGhpcy4kYXNzZW1ibGVSZWdFeHAob3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zLiRpc011bHRpTGluZSlcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlbWVudDtcblxuICAgICAgICBpZiAoIXJlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBtYXRjaCA9IHJlLmV4ZWMoaW5wdXQpO1xuICAgICAgICBpZiAoIW1hdGNoIHx8IG1hdGNoWzBdLmxlbmd0aCAhPSBpbnB1dC5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHJlcGxhY2VtZW50ID0gaW5wdXQucmVwbGFjZShyZSwgcmVwbGFjZW1lbnQpO1xuICAgICAgICBpZiAob3B0aW9ucy5wcmVzZXJ2ZUNhc2UpIHtcbiAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQuc3BsaXQoXCJcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gTWF0aC5taW4oaW5wdXQubGVuZ3RoLCBpbnB1dC5sZW5ndGgpOyBpLS07ICkge1xuICAgICAgICAgICAgICAgIHZhciBjaCA9IGlucHV0W2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaCAmJiBjaC50b0xvd2VyQ2FzZSgpICE9IGNoKVxuICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudFtpXSA9IHJlcGxhY2VtZW50W2ldLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudFtpXSA9IHJlcGxhY2VtZW50W2ldLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXBsYWNlbWVudCA9IHJlcGxhY2VtZW50LmpvaW4oXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXBsYWNlbWVudDtcbiAgICB9O1xuXG4gICAgdGhpcy4kbWF0Y2hJdGVyYXRvciA9IGZ1bmN0aW9uKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJlID0gdGhpcy4kYXNzZW1ibGVSZWdFeHAob3B0aW9ucyk7XG4gICAgICAgIGlmICghcmUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIGNhbGxiYWNrO1xuICAgICAgICBpZiAob3B0aW9ucy4kaXNNdWx0aUxpbmUpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSByZS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbWF0Y2hJdGVyYXRvciA9IGZ1bmN0aW9uKGxpbmUsIHJvdywgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSBsaW5lLnNlYXJjaChyZVswXSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93ICsgaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnNlYXJjaChyZVtpXSkgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGVuZEluZGV4ID0gbGluZS5tYXRjaChyZVtsZW4gLSAxXSlbMF0ubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHJvdywgc3RhcnRJbmRleCwgcm93ICsgbGVuIC0gMSwgZW5kSW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmIChyZS5vZmZzZXQgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5yb3ctLTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9mZnNldClcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uICs9IG9mZnNldDtcblxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayhyYW5nZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmJhY2t3YXJkcykge1xuICAgICAgICAgICAgdmFyIG1hdGNoSXRlcmF0b3IgPSBmdW5jdGlvbihsaW5lLCByb3csIHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGxhbmcuZ2V0TWF0Y2hPZmZzZXRzKGxpbmUsIHJlKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gbWF0Y2hlcy5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayhtYXRjaGVzW2ldLCByb3csIHN0YXJ0SW5kZXgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1hdGNoSXRlcmF0b3IgPSBmdW5jdGlvbihsaW5lLCByb3csIHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGxhbmcuZ2V0TWF0Y2hPZmZzZXRzKGxpbmUsIHJlKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayhtYXRjaGVzW2ldLCByb3csIHN0YXJ0SW5kZXgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB2YXIgbGluZUl0ZXJhdG9yID0gdGhpcy4kbGluZUl0ZXJhdG9yKHNlc3Npb24sIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JFYWNoOiBmdW5jdGlvbihfY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IF9jYWxsYmFjaztcbiAgICAgICAgICAgICAgICBsaW5lSXRlcmF0b3IuZm9yRWFjaChtYXRjaEl0ZXJhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdGhpcy4kYXNzZW1ibGVSZWdFeHAgPSBmdW5jdGlvbihvcHRpb25zLCAkZGlzYWJsZUZha2VNdWx0aWxpbmUpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMubmVlZGxlIGluc3RhbmNlb2YgUmVnRXhwKVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMucmUgPSBvcHRpb25zLm5lZWRsZTtcblxuICAgICAgICB2YXIgbmVlZGxlID0gb3B0aW9ucy5uZWVkbGU7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLm5lZWRsZSlcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnJlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnJlZ0V4cClcbiAgICAgICAgICAgIG5lZWRsZSA9IGxhbmcuZXNjYXBlUmVnRXhwKG5lZWRsZSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2hvbGVXb3JkKVxuICAgICAgICAgICAgbmVlZGxlID0gXCJcXFxcYlwiICsgbmVlZGxlICsgXCJcXFxcYlwiO1xuXG4gICAgICAgIHZhciBtb2RpZmllciA9IG9wdGlvbnMuY2FzZVNlbnNpdGl2ZSA/IFwiZ21cIiA6IFwiZ21pXCI7XG5cbiAgICAgICAgb3B0aW9ucy4kaXNNdWx0aUxpbmUgPSAhJGRpc2FibGVGYWtlTXVsdGlsaW5lICYmIC9bXFxuXFxyXS8udGVzdChuZWVkbGUpO1xuICAgICAgICBpZiAob3B0aW9ucy4kaXNNdWx0aUxpbmUpXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5yZSA9IHRoaXMuJGFzc2VtYmxlTXVsdGlsaW5lUmVnRXhwKG5lZWRsZSwgbW9kaWZpZXIpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKG5lZWRsZSwgbW9kaWZpZXIpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvbnMucmUgPSByZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kYXNzZW1ibGVNdWx0aWxpbmVSZWdFeHAgPSBmdW5jdGlvbihuZWVkbGUsIG1vZGlmaWVyKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IG5lZWRsZS5yZXBsYWNlKC9cXHJcXG58XFxyfFxcbi9nLCBcIiRcXG5eXCIpLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICB2YXIgcmUgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykgdHJ5IHtcbiAgICAgICAgICAgIHJlLnB1c2gobmV3IFJlZ0V4cChwYXJ0c1tpXSwgbW9kaWZpZXIpKTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRzWzBdID09IFwiXCIpIHtcbiAgICAgICAgICAgIHJlLnNoaWZ0KCk7XG4gICAgICAgICAgICByZS5vZmZzZXQgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmUub2Zmc2V0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmU7XG4gICAgfTtcblxuICAgIHRoaXMuJGxpbmVJdGVyYXRvciA9IGZ1bmN0aW9uKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGJhY2t3YXJkcyA9IG9wdGlvbnMuYmFja3dhcmRzID09IHRydWU7XG4gICAgICAgIHZhciBza2lwQ3VycmVudCA9IG9wdGlvbnMuc2tpcEN1cnJlbnQgIT0gZmFsc2U7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gb3B0aW9ucy5yYW5nZTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gb3B0aW9ucy5zdGFydDtcbiAgICAgICAgaWYgKCFzdGFydClcbiAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2UgPyByYW5nZVtiYWNrd2FyZHMgPyBcImVuZFwiIDogXCJzdGFydFwiXSA6IHNlc3Npb24uc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgICBcbiAgICAgICAgaWYgKHN0YXJ0LnN0YXJ0KVxuICAgICAgICAgICAgc3RhcnQgPSBzdGFydFtza2lwQ3VycmVudCAhPSBiYWNrd2FyZHMgPyBcImVuZFwiIDogXCJzdGFydFwiXTtcblxuICAgICAgICB2YXIgZmlyc3RSb3cgPSByYW5nZSA/IHJhbmdlLnN0YXJ0LnJvdyA6IDA7XG4gICAgICAgIHZhciBsYXN0Um93ID0gcmFuZ2UgPyByYW5nZS5lbmQucm93IDogc2Vzc2lvbi5nZXRMZW5ndGgoKSAtIDE7XG5cbiAgICAgICAgdmFyIGZvckVhY2ggPSBiYWNrd2FyZHMgPyBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciByb3cgPSBzdGFydC5yb3c7XG5cbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpLnN1YnN0cmluZygwLCBzdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayhsaW5lLCByb3cpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBmb3IgKHJvdy0tOyByb3cgPj0gZmlyc3RSb3c7IHJvdy0tKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2soc2Vzc2lvbi5nZXRMaW5lKHJvdyksIHJvdykpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy53cmFwID09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBmb3IgKHJvdyA9IGxhc3RSb3csIGZpcnN0Um93ID0gc3RhcnQucm93OyByb3cgPj0gZmlyc3RSb3c7IHJvdy0tKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2soc2Vzc2lvbi5nZXRMaW5lKHJvdyksIHJvdykpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IDogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgcm93ID0gc3RhcnQucm93O1xuXG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KS5zdWJzdHIoc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sobGluZSwgcm93LCBzdGFydC5jb2x1bW4pKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBmb3IgKHJvdyA9IHJvdysxOyByb3cgPD0gbGFzdFJvdzsgcm93KyspXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayhzZXNzaW9uLmdldExpbmUocm93KSwgcm93KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLndyYXAgPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGZvciAocm93ID0gZmlyc3RSb3csIGxhc3RSb3cgPSBzdGFydC5yb3c7IHJvdyA8PSBsYXN0Um93OyByb3crKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKHNlc3Npb24uZ2V0TGluZShyb3cpLCByb3cpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7Zm9yRWFjaDogZm9yRWFjaH07XG4gICAgfTtcblxufSkuY2FsbChTZWFyY2gucHJvdG90eXBlKTtcblxuZXhwb3J0cy5TZWFyY2ggPSBTZWFyY2g7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIva2V5c1wiLFwiYWNlL2xpYi91c2VyYWdlbnRcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIga2V5VXRpbCA9IGFjZXF1aXJlKFwiLi4vbGliL2tleXNcIik7XG52YXIgdXNlcmFnZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvdXNlcmFnZW50XCIpO1xudmFyIEtFWV9NT0RTID0ga2V5VXRpbC5LRVlfTU9EUztcblxuZnVuY3Rpb24gSGFzaEhhbmRsZXIoY29uZmlnLCBwbGF0Zm9ybSkge1xuICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybSB8fCAodXNlcmFnZW50LmlzTWFjID8gXCJtYWNcIiA6IFwid2luXCIpO1xuICAgIHRoaXMuY29tbWFuZHMgPSB7fTtcbiAgICB0aGlzLmNvbW1hbmRLZXlCaW5kaW5nID0ge307XG4gICAgdGhpcy5hZGRDb21tYW5kcyhjb25maWcpO1xuICAgIHRoaXMuJHNpbmdsZUNvbW1hbmQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBNdWx0aUhhc2hIYW5kbGVyKGNvbmZpZywgcGxhdGZvcm0pIHtcbiAgICBIYXNoSGFuZGxlci5jYWxsKHRoaXMsIGNvbmZpZywgcGxhdGZvcm0pO1xuICAgIHRoaXMuJHNpbmdsZUNvbW1hbmQgPSBmYWxzZTtcbn1cblxuTXVsdGlIYXNoSGFuZGxlci5wcm90b3R5cGUgPSBIYXNoSGFuZGxlci5wcm90b3R5cGU7XG5cbihmdW5jdGlvbigpIHtcbiAgICBcblxuICAgIHRoaXMuYWRkQ29tbWFuZCA9IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tbWFuZHNbY29tbWFuZC5uYW1lXSlcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29tbWFuZChjb21tYW5kKTtcblxuICAgICAgICB0aGlzLmNvbW1hbmRzW2NvbW1hbmQubmFtZV0gPSBjb21tYW5kO1xuXG4gICAgICAgIGlmIChjb21tYW5kLmJpbmRLZXkpXG4gICAgICAgICAgICB0aGlzLl9idWlsZEtleUhhc2goY29tbWFuZCk7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uKGNvbW1hbmQsIGtlZXBDb21tYW5kKSB7XG4gICAgICAgIHZhciBuYW1lID0gY29tbWFuZCAmJiAodHlwZW9mIGNvbW1hbmQgPT09ICdzdHJpbmcnID8gY29tbWFuZCA6IGNvbW1hbmQubmFtZSk7XG4gICAgICAgIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmRzW25hbWVdO1xuICAgICAgICBpZiAoIWtlZXBDb21tYW5kKVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29tbWFuZHNbbmFtZV07XG4gICAgICAgIHZhciBja2IgPSB0aGlzLmNvbW1hbmRLZXlCaW5kaW5nO1xuICAgICAgICBmb3IgKHZhciBrZXlJZCBpbiBja2IpIHtcbiAgICAgICAgICAgIHZhciBjbWRHcm91cCA9IGNrYltrZXlJZF07XG4gICAgICAgICAgICBpZiAoY21kR3JvdXAgPT0gY29tbWFuZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBja2Jba2V5SWRdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNtZEdyb3VwKSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gY21kR3JvdXAuaW5kZXhPZihjb21tYW5kKTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjbWRHcm91cC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbWRHcm91cC5sZW5ndGggPT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNrYltrZXlJZF0gPSBjbWRHcm91cFswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5iaW5kS2V5ID0gZnVuY3Rpb24oa2V5LCBjb21tYW5kLCBwb3NpdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGtleSA9PSBcIm9iamVjdFwiICYmIGtleSkge1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGtleS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGtleSA9IGtleVt0aGlzLnBsYXRmb3JtXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWtleSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBjb21tYW5kID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZENvbW1hbmQoe2V4ZWM6IGNvbW1hbmQsIGJpbmRLZXk6IGtleSwgbmFtZTogY29tbWFuZC5uYW1lIHx8IGtleX0pO1xuICAgICAgICBcbiAgICAgICAga2V5LnNwbGl0KFwifFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGtleVBhcnQpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbiA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoa2V5UGFydC5pbmRleE9mKFwiIFwiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IGtleVBhcnQuc3BsaXQoL1xccysvKTtcbiAgICAgICAgICAgICAgICBrZXlQYXJ0ID0gcGFydHMucG9wKCk7XG4gICAgICAgICAgICAgICAgcGFydHMuZm9yRWFjaChmdW5jdGlvbihrZXlQYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiaW5kaW5nID0gdGhpcy5wYXJzZUtleXMoa2V5UGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IEtFWV9NT0RTW2JpbmRpbmcuaGFzaElkXSArIGJpbmRpbmcua2V5O1xuICAgICAgICAgICAgICAgICAgICBjaGFpbiArPSAoY2hhaW4gPyBcIiBcIiA6IFwiXCIpICsgaWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvbW1hbmRUb0JpbmRpbmcoY2hhaW4sIFwiY2hhaW5LZXlzXCIpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgICAgIGNoYWluICs9IFwiIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJpbmRpbmcgPSB0aGlzLnBhcnNlS2V5cyhrZXlQYXJ0KTtcbiAgICAgICAgICAgIHZhciBpZCA9IEtFWV9NT0RTW2JpbmRpbmcuaGFzaElkXSArIGJpbmRpbmcua2V5O1xuICAgICAgICAgICAgdGhpcy5fYWRkQ29tbWFuZFRvQmluZGluZyhjaGFpbiArIGlkLCBjb21tYW5kLCBwb3NpdGlvbik7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gZ2V0UG9zaXRpb24oY29tbWFuZCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGNvbW1hbmQgPT0gXCJvYmplY3RcIiAmJiBjb21tYW5kLmJpbmRLZXlcbiAgICAgICAgICAgICYmIGNvbW1hbmQuYmluZEtleS5wb3NpdGlvbiB8fCAwO1xuICAgIH1cbiAgICB0aGlzLl9hZGRDb21tYW5kVG9CaW5kaW5nID0gZnVuY3Rpb24oa2V5SWQsIGNvbW1hbmQsIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBja2IgPSB0aGlzLmNvbW1hbmRLZXlCaW5kaW5nLCBpO1xuICAgICAgICBpZiAoIWNvbW1hbmQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBja2Jba2V5SWRdO1xuICAgICAgICB9IGVsc2UgaWYgKCFja2Jba2V5SWRdIHx8IHRoaXMuJHNpbmdsZUNvbW1hbmQpIHtcbiAgICAgICAgICAgIGNrYltrZXlJZF0gPSBjb21tYW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNrYltrZXlJZF0pKSB7XG4gICAgICAgICAgICAgICAgY2tiW2tleUlkXSA9IFtja2Jba2V5SWRdXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGkgPSBja2Jba2V5SWRdLmluZGV4T2YoY29tbWFuZCkpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgY2tiW2tleUlkXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24gIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiB8fCBjb21tYW5kLmlzRGVmYXVsdClcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSAtMTAwO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKGNvbW1hbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbW1hbmRzID0gY2tiW2tleUlkXTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb21tYW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvdGhlciA9IGNvbW1hbmRzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBvdGhlclBvcyA9IGdldFBvc2l0aW9uKG90aGVyKTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJQb3MgPiBwb3NpdGlvbilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tYW5kcy5zcGxpY2UoaSwgMCwgY29tbWFuZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hZGRDb21tYW5kcyA9IGZ1bmN0aW9uKGNvbW1hbmRzKSB7XG4gICAgICAgIGNvbW1hbmRzICYmIE9iamVjdC5rZXlzKGNvbW1hbmRzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBjb21tYW5kID0gY29tbWFuZHNbbmFtZV07XG4gICAgICAgICAgICBpZiAoIWNvbW1hbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbW1hbmQgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmluZEtleShjb21tYW5kLCBuYW1lKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb21tYW5kID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgICAgY29tbWFuZCA9IHsgZXhlYzogY29tbWFuZCB9O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbW1hbmQgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoIWNvbW1hbmQubmFtZSlcbiAgICAgICAgICAgICAgICBjb21tYW5kLm5hbWUgPSBuYW1lO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoY29tbWFuZCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUNvbW1hbmRzID0gZnVuY3Rpb24oY29tbWFuZHMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoY29tbWFuZHMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21tYW5kKGNvbW1hbmRzW25hbWVdKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfTtcblxuICAgIHRoaXMuYmluZEtleXMgPSBmdW5jdGlvbihrZXlMaXN0KSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGtleUxpc3QpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRLZXkoa2V5LCBrZXlMaXN0W2tleV0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fYnVpbGRLZXlIYXNoID0gZnVuY3Rpb24oY29tbWFuZCkge1xuICAgICAgICB0aGlzLmJpbmRLZXkoY29tbWFuZC5iaW5kS2V5LCBjb21tYW5kKTtcbiAgICB9O1xuICAgIHRoaXMucGFyc2VLZXlzID0gZnVuY3Rpb24oa2V5cykge1xuICAgICAgICB2YXIgcGFydHMgPSBrZXlzLnRvTG93ZXJDYXNlKCkuc3BsaXQoL1tcXC1cXCtdKFtcXC1cXCtdKT8vKS5maWx0ZXIoZnVuY3Rpb24oeCl7cmV0dXJuIHh9KTtcbiAgICAgICAgdmFyIGtleSA9IHBhcnRzLnBvcCgpO1xuXG4gICAgICAgIHZhciBrZXlDb2RlID0ga2V5VXRpbFtrZXldO1xuICAgICAgICBpZiAoa2V5VXRpbC5GVU5DVElPTl9LRVlTW2tleUNvZGVdKVxuICAgICAgICAgICAga2V5ID0ga2V5VXRpbC5GVU5DVElPTl9LRVlTW2tleUNvZGVdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGVsc2UgaWYgKCFwYXJ0cy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4ge2tleToga2V5LCBoYXNoSWQ6IC0xfTtcbiAgICAgICAgZWxzZSBpZiAocGFydHMubGVuZ3RoID09IDEgJiYgcGFydHNbMF0gPT0gXCJzaGlmdFwiKVxuICAgICAgICAgICAgcmV0dXJuIHtrZXk6IGtleS50b1VwcGVyQ2FzZSgpLCBoYXNoSWQ6IC0xfTtcblxuICAgICAgICB2YXIgaGFzaElkID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgdmFyIG1vZGlmaWVyID0ga2V5VXRpbC5LRVlfTU9EU1twYXJ0c1tpXV07XG4gICAgICAgICAgICBpZiAobW9kaWZpZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaW52YWxpZCBtb2RpZmllciBcIiArIHBhcnRzW2ldICsgXCIgaW4gXCIgKyBrZXlzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXNoSWQgfD0gbW9kaWZpZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtrZXk6IGtleSwgaGFzaElkOiBoYXNoSWR9O1xuICAgIH07XG5cbiAgICB0aGlzLmZpbmRLZXlDb21tYW5kID0gZnVuY3Rpb24gZmluZEtleUNvbW1hbmQoaGFzaElkLCBrZXlTdHJpbmcpIHtcbiAgICAgICAgdmFyIGtleSA9IEtFWV9NT0RTW2hhc2hJZF0gKyBrZXlTdHJpbmc7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRLZXlCaW5kaW5nW2tleV07XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlS2V5Ym9hcmQgPSBmdW5jdGlvbihkYXRhLCBoYXNoSWQsIGtleVN0cmluZywga2V5Q29kZSkge1xuICAgICAgICBpZiAoa2V5Q29kZSA8IDApIHJldHVybjtcbiAgICAgICAgdmFyIGtleSA9IEtFWV9NT0RTW2hhc2hJZF0gKyBrZXlTdHJpbmc7XG4gICAgICAgIHZhciBjb21tYW5kID0gdGhpcy5jb21tYW5kS2V5QmluZGluZ1trZXldO1xuICAgICAgICBpZiAoZGF0YS4ka2V5Q2hhaW4pIHtcbiAgICAgICAgICAgIGRhdGEuJGtleUNoYWluICs9IFwiIFwiICsga2V5O1xuICAgICAgICAgICAgY29tbWFuZCA9IHRoaXMuY29tbWFuZEtleUJpbmRpbmdbZGF0YS4ka2V5Q2hhaW5dIHx8IGNvbW1hbmQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChjb21tYW5kKSB7XG4gICAgICAgICAgICBpZiAoY29tbWFuZCA9PSBcImNoYWluS2V5c1wiIHx8IGNvbW1hbmRbY29tbWFuZC5sZW5ndGggLSAxXSA9PSBcImNoYWluS2V5c1wiKSB7XG4gICAgICAgICAgICAgICAgZGF0YS4ka2V5Q2hhaW4gPSBkYXRhLiRrZXlDaGFpbiB8fCBrZXk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtjb21tYW5kOiBcIm51bGxcIn07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChkYXRhLiRrZXlDaGFpbikge1xuICAgICAgICAgICAgaWYgKCghaGFzaElkIHx8IGhhc2hJZCA9PSA0KSAmJiBrZXlTdHJpbmcubGVuZ3RoID09IDEpXG4gICAgICAgICAgICAgICAgZGF0YS4ka2V5Q2hhaW4gPSBkYXRhLiRrZXlDaGFpbi5zbGljZSgwLCAta2V5Lmxlbmd0aCAtIDEpOyAvLyB3YWl0IGZvciBpbnB1dFxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzaElkID09IC0xIHx8IGtleUNvZGUgPiAwKVxuICAgICAgICAgICAgICAgIGRhdGEuJGtleUNoYWluID0gXCJcIjsgLy8gcmVzZXQga2V5Q2hhaW5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge2NvbW1hbmQ6IGNvbW1hbmR9O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRTdGF0dXNUZXh0ID0gZnVuY3Rpb24oZWRpdG9yLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLiRrZXlDaGFpbiB8fCBcIlwiO1xuICAgIH07XG5cbn0pLmNhbGwoSGFzaEhhbmRsZXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5IYXNoSGFuZGxlciA9IEhhc2hIYW5kbGVyO1xuZXhwb3J0cy5NdWx0aUhhc2hIYW5kbGVyID0gTXVsdGlIYXNoSGFuZGxlcjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2NvbW1hbmRzL2NvbW1hbmRfbWFuYWdlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgTXVsdGlIYXNoSGFuZGxlciA9IGFjZXF1aXJlKFwiLi4va2V5Ym9hcmQvaGFzaF9oYW5kbGVyXCIpLk11bHRpSGFzaEhhbmRsZXI7XG52YXIgRXZlbnRFbWl0dGVyID0gYWNlcXVpcmUoXCIuLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBDb21tYW5kTWFuYWdlciA9IGZ1bmN0aW9uKHBsYXRmb3JtLCBjb21tYW5kcykge1xuICAgIE11bHRpSGFzaEhhbmRsZXIuY2FsbCh0aGlzLCBjb21tYW5kcywgcGxhdGZvcm0pO1xuICAgIHRoaXMuYnlOYW1lID0gdGhpcy5jb21tYW5kcztcbiAgICB0aGlzLnNldERlZmF1bHRIYW5kbGVyKFwiZXhlY1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBlLmNvbW1hbmQuZXhlYyhlLmVkaXRvciwgZS5hcmdzIHx8IHt9KTtcbiAgICB9KTtcbn07XG5cbm9vcC5pbmhlcml0cyhDb21tYW5kTWFuYWdlciwgTXVsdGlIYXNoSGFuZGxlcik7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcblxuICAgIHRoaXMuZXhlYyA9IGZ1bmN0aW9uKGNvbW1hbmQsIGVkaXRvciwgYXJncykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb21tYW5kKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNvbW1hbmQubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4ZWMoY29tbWFuZFtpXSwgZWRpdG9yLCBhcmdzKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICh0eXBlb2YgY29tbWFuZCA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmRzW2NvbW1hbmRdO1xuXG4gICAgICAgIGlmICghY29tbWFuZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoZWRpdG9yICYmIGVkaXRvci4kcmVhZE9ubHkgJiYgIWNvbW1hbmQucmVhZE9ubHkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIGUgPSB7ZWRpdG9yOiBlZGl0b3IsIGNvbW1hbmQ6IGNvbW1hbmQsIGFyZ3M6IGFyZ3N9O1xuICAgICAgICBlLnJldHVyblZhbHVlID0gdGhpcy5fZW1pdChcImV4ZWNcIiwgZSk7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImFmdGVyRXhlY1wiLCBlKTtcblxuICAgICAgICByZXR1cm4gZS5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlUmVjb3JkaW5nID0gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLiRpblJlcGxheSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBlZGl0b3IgJiYgZWRpdG9yLl9lbWl0KFwiY2hhbmdlU3RhdHVzXCIpO1xuICAgICAgICBpZiAodGhpcy5yZWNvcmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMubWFjcm8ucG9wKCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJleGVjXCIsIHRoaXMuJGFkZENvbW1hbmRUb01hY3JvKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm1hY3JvLmxlbmd0aClcbiAgICAgICAgICAgICAgICB0aGlzLm1hY3JvID0gdGhpcy5vbGRNYWNybztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLiRhZGRDb21tYW5kVG9NYWNybykge1xuICAgICAgICAgICAgdGhpcy4kYWRkQ29tbWFuZFRvTWFjcm8gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWNyby5wdXNoKFtlLmNvbW1hbmQsIGUuYXJnc10pO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbGRNYWNybyA9IHRoaXMubWFjcm87XG4gICAgICAgIHRoaXMubWFjcm8gPSBbXTtcbiAgICAgICAgdGhpcy5vbihcImV4ZWNcIiwgdGhpcy4kYWRkQ29tbWFuZFRvTWFjcm8pO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNvcmRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLnJlcGxheSA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICBpZiAodGhpcy4kaW5SZXBsYXkgfHwgIXRoaXMubWFjcm8pXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMucmVjb3JkaW5nKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlUmVjb3JkaW5nKGVkaXRvcik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuJGluUmVwbGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubWFjcm8uZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlYyh4LCBlZGl0b3IpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjKHhbMF0sIGVkaXRvciwgeFsxXSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuJGluUmVwbGF5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy50cmltTWFjcm8gPSBmdW5jdGlvbihtKSB7XG4gICAgICAgIHJldHVybiBtLm1hcChmdW5jdGlvbih4KXtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgeFswXSAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIHhbMF0gPSB4WzBdLm5hbWU7XG4gICAgICAgICAgICBpZiAoIXhbMV0pXG4gICAgICAgICAgICAgICAgeCA9IHhbMF07XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfSk7XG4gICAgfTtcblxufSkuY2FsbChDb21tYW5kTWFuYWdlci5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkNvbW1hbmRNYW5hZ2VyID0gQ29tbWFuZE1hbmFnZXI7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2NvbW1hbmRzL2RlZmF1bHRfY29tbWFuZHNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2NvbmZpZ1wiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4uL2xpYi9sYW5nXCIpO1xudmFyIGNvbmZpZyA9IGFjZXF1aXJlKFwiLi4vY29uZmlnXCIpO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcblxuZnVuY3Rpb24gYmluZEtleSh3aW4sIG1hYykge1xuICAgIHJldHVybiB7d2luOiB3aW4sIG1hYzogbWFjfTtcbn1cbmV4cG9ydHMuY29tbWFuZHMgPSBbe1xuICAgIG5hbWU6IFwic2hvd1NldHRpbmdzTWVudVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLSxcIiwgXCJDb21tYW5kLSxcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGNvbmZpZy5sb2FkTW9kdWxlKFwiYWNlL2V4dC9zZXR0aW5nc19tZW51XCIsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgICAgICAgbW9kdWxlLmluaXQoZWRpdG9yKTtcbiAgICAgICAgICAgIGVkaXRvci5zaG93U2V0dGluZ3NNZW51KCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvVG9OZXh0RXJyb3JcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LUVcIiwgXCJDdHJsLUVcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGNvbmZpZy5sb2FkTW9kdWxlKFwiYWNlL2V4dC9lcnJvcl9tYXJrZXJcIiwgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICAgICAgICBtb2R1bGUuc2hvd0Vycm9yTWFya2VyKGVkaXRvciwgMSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiYW5pbWF0ZVwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb1RvUHJldmlvdXNFcnJvclwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtU2hpZnQtRVwiLCBcIkN0cmwtU2hpZnQtRVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoXCJhY2UvZXh0L2Vycm9yX21hcmtlclwiLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgIG1vZHVsZS5zaG93RXJyb3JNYXJrZXIoZWRpdG9yLCAtMSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiYW5pbWF0ZVwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RhbGxcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1BXCIsIFwiQ29tbWFuZC1BXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0QWxsKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImNlbnRlcnNlbGVjdGlvblwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkobnVsbCwgXCJDdHJsLUxcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jZW50ZXJTZWxlY3Rpb24oKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZ290b2xpbmVcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1MXCIsIFwiQ29tbWFuZC1MXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB2YXIgbGluZSA9IHBhcnNlSW50KHByb21wdChcIkVudGVyIGxpbmUgbnVtYmVyOlwiKSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKGxpbmUpKSB7XG4gICAgICAgICAgICBlZGl0b3IuZ290b0xpbmUobGluZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJmb2xkXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1MfEN0cmwtRjFcIiwgXCJDb21tYW5kLUFsdC1MfENvbW1hbmQtRjFcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZXNzaW9uLnRvZ2dsZUZvbGQoZmFsc2UpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjZW50ZXJcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwidW5mb2xkXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1TaGlmdC1MfEN0cmwtU2hpZnQtRjFcIiwgXCJDb21tYW5kLUFsdC1TaGlmdC1MfENvbW1hbmQtU2hpZnQtRjFcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZXNzaW9uLnRvZ2dsZUZvbGQodHJ1ZSk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImNlbnRlclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJ0b2dnbGVGb2xkV2lkZ2V0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkYyXCIsIFwiRjJcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZXNzaW9uLnRvZ2dsZUZvbGRXaWRnZXQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY2VudGVyXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInRvZ2dsZVBhcmVudEZvbGRXaWRnZXRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LUYyXCIsIFwiQWx0LUYyXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2Vzc2lvbi50b2dnbGVGb2xkV2lkZ2V0KHRydWUpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjZW50ZXJcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZm9sZGFsbFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkobnVsbCwgXCJDdHJsLUNvbW1hbmQtT3B0aW9uLTBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZXNzaW9uLmZvbGRBbGwoKTsgfSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjZW50ZXJcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZm9sZE90aGVyXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC0wXCIsIFwiQ29tbWFuZC1PcHRpb24tMFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgXG4gICAgICAgIGVkaXRvci5zZXNzaW9uLmZvbGRBbGwoKTtcbiAgICAgICAgZWRpdG9yLnNlc3Npb24udW5mb2xkKGVkaXRvci5zZWxlY3Rpb24uZ2V0QWxsUmFuZ2VzKCkpO1xuICAgIH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY2VudGVyXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInVuZm9sZGFsbFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtU2hpZnQtMFwiLCBcIkNvbW1hbmQtT3B0aW9uLVNoaWZ0LTBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZXNzaW9uLnVuZm9sZCgpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImNlbnRlclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJmaW5kbmV4dFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUtcIiwgXCJDb21tYW5kLUdcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5maW5kTmV4dCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjZW50ZXJcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZmluZHByZXZpb3VzXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtS1wiLCBcIkNvbW1hbmQtU2hpZnQtR1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmZpbmRQcmV2aW91cygpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjZW50ZXJcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0T3JGaW5kTmV4dFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtS1wiLCBcIkN0cmwtR1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgaWYgKGVkaXRvci5zZWxlY3Rpb24uaXNFbXB0eSgpKVxuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3RXb3JkKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGVkaXRvci5maW5kTmV4dCgpOyBcbiAgICB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RPckZpbmRQcmV2aW91c1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtU2hpZnQtS1wiLCBcIkN0cmwtU2hpZnQtR1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgXG4gICAgICAgIGlmIChlZGl0b3Iuc2VsZWN0aW9uLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uc2VsZWN0V29yZCgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBlZGl0b3IuZmluZFByZXZpb3VzKCk7XG4gICAgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZmluZFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUZcIiwgXCJDb21tYW5kLUZcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGNvbmZpZy5sb2FkTW9kdWxlKFwiYWNlL2V4dC9zZWFyY2hib3hcIiwgZnVuY3Rpb24oZSkge2UuU2VhcmNoKGVkaXRvcil9KTtcbiAgICB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJvdmVyd3JpdGVcIixcbiAgICBiaW5kS2V5OiBcIkluc2VydFwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IudG9nZ2xlT3ZlcndyaXRlKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHRvc3RhcnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1Ib21lXCIsIFwiQ29tbWFuZC1TaGlmdC1VcFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdEZpbGVTdGFydCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICByZWFkT25seTogdHJ1ZSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJhbmltYXRlXCIsXG4gICAgYWNlQ29tbWFuZEdyb3VwOiBcImZpbGVKdW1wXCJcbn0sIHtcbiAgICBuYW1lOiBcImdvdG9zdGFydFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUhvbWVcIiwgXCJDb21tYW5kLUhvbWV8Q29tbWFuZC1VcFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm5hdmlnYXRlRmlsZVN0YXJ0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImFuaW1hdGVcIixcbiAgICBhY2VDb21tYW5kR3JvdXA6IFwiZmlsZUp1bXBcIlxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0dXBcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiU2hpZnQtVXBcIiwgXCJTaGlmdC1VcFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFVwKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb2xpbmV1cFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJVcFwiLCBcIlVwfEN0cmwtUFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIGFyZ3MpIHsgZWRpdG9yLm5hdmlnYXRlVXAoYXJncy50aW1lcyk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3R0b2VuZFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LUVuZFwiLCBcIkNvbW1hbmQtU2hpZnQtRG93blwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdEZpbGVFbmQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWUsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiYW5pbWF0ZVwiLFxuICAgIGFjZUNvbW1hbmRHcm91cDogXCJmaWxlSnVtcFwiXG59LCB7XG4gICAgbmFtZTogXCJnb3RvZW5kXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtRW5kXCIsIFwiQ29tbWFuZC1FbmR8Q29tbWFuZC1Eb3duXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IubmF2aWdhdGVGaWxlRW5kKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImFuaW1hdGVcIixcbiAgICBhY2VDb21tYW5kR3JvdXA6IFwiZmlsZUp1bXBcIlxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0ZG93blwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJTaGlmdC1Eb3duXCIsIFwiU2hpZnQtRG93blwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdERvd24oKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvbGluZWRvd25cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiRG93blwiLCBcIkRvd258Q3RybC1OXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvciwgYXJncykgeyBlZGl0b3IubmF2aWdhdGVEb3duKGFyZ3MudGltZXMpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0d29yZGxlZnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1MZWZ0XCIsIFwiT3B0aW9uLVNoaWZ0LUxlZnRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RXb3JkTGVmdCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZ290b3dvcmRsZWZ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtTGVmdFwiLCBcIk9wdGlvbi1MZWZ0XCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IubmF2aWdhdGVXb3JkTGVmdCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0dG9saW5lc3RhcnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVNoaWZ0LUxlZnRcIiwgXCJDb21tYW5kLVNoaWZ0LUxlZnRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lU3RhcnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG9saW5lc3RhcnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LUxlZnR8SG9tZVwiLCBcIkNvbW1hbmQtTGVmdHxIb21lfEN0cmwtQVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm5hdmlnYXRlTGluZVN0YXJ0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RsZWZ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIlNoaWZ0LUxlZnRcIiwgXCJTaGlmdC1MZWZ0XCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0TGVmdCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZ290b2xlZnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiTGVmdFwiLCBcIkxlZnR8Q3RybC1CXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvciwgYXJncykgeyBlZGl0b3IubmF2aWdhdGVMZWZ0KGFyZ3MudGltZXMpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0d29yZHJpZ2h0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtUmlnaHRcIiwgXCJPcHRpb24tU2hpZnQtUmlnaHRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RXb3JkUmlnaHQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG93b3JkcmlnaHRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1SaWdodFwiLCBcIk9wdGlvbi1SaWdodFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm5hdmlnYXRlV29yZFJpZ2h0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3R0b2xpbmVlbmRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVNoaWZ0LVJpZ2h0XCIsIFwiQ29tbWFuZC1TaGlmdC1SaWdodFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdExpbmVFbmQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG9saW5lZW5kXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1SaWdodHxFbmRcIiwgXCJDb21tYW5kLVJpZ2h0fEVuZHxDdHJsLUVcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5uYXZpZ2F0ZUxpbmVFbmQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHJpZ2h0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIlNoaWZ0LVJpZ2h0XCIsIFwiU2hpZnQtUmlnaHRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSaWdodCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZ290b3JpZ2h0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIlJpZ2h0XCIsIFwiUmlnaHR8Q3RybC1GXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvciwgYXJncykgeyBlZGl0b3IubmF2aWdhdGVSaWdodChhcmdzLnRpbWVzKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHBhZ2Vkb3duXCIsXG4gICAgYmluZEtleTogXCJTaGlmdC1QYWdlRG93blwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0UGFnZURvd24oKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwicGFnZWRvd25cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KG51bGwsIFwiT3B0aW9uLVBhZ2VEb3duXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2Nyb2xsUGFnZURvd24oKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZ290b3BhZ2Vkb3duXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIlBhZ2VEb3duXCIsIFwiUGFnZURvd258Q3RybC1WXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ290b1BhZ2VEb3duKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHBhZ2V1cFwiLFxuICAgIGJpbmRLZXk6IFwiU2hpZnQtUGFnZVVwXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RQYWdlVXAoKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwicGFnZXVwXCIsXG4gICAgYmluZEtleTogYmluZEtleShudWxsLCBcIk9wdGlvbi1QYWdlVXBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zY3JvbGxQYWdlVXAoKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZ290b3BhZ2V1cFwiLFxuICAgIGJpbmRLZXk6IFwiUGFnZVVwXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nb3RvUGFnZVVwKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNjcm9sbHVwXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtVXBcIiwgbnVsbCksXG4gICAgZXhlYzogZnVuY3Rpb24oZSkgeyBlLnJlbmRlcmVyLnNjcm9sbEJ5KDAsIC0yICogZS5yZW5kZXJlci5sYXllckNvbmZpZy5saW5lSGVpZ2h0KTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2Nyb2xsZG93blwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLURvd25cIiwgbnVsbCksXG4gICAgZXhlYzogZnVuY3Rpb24oZSkgeyBlLnJlbmRlcmVyLnNjcm9sbEJ5KDAsIDIgKiBlLnJlbmRlcmVyLmxheWVyQ29uZmlnLmxpbmVIZWlnaHQpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RsaW5lc3RhcnRcIixcbiAgICBiaW5kS2V5OiBcIlNoaWZ0LUhvbWVcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdExpbmVTdGFydCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0bGluZWVuZFwiLFxuICAgIGJpbmRLZXk6IFwiU2hpZnQtRW5kXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lRW5kKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJ0b2dnbGVyZWNvcmRpbmdcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1BbHQtRVwiLCBcIkNvbW1hbmQtT3B0aW9uLUVcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb21tYW5kcy50b2dnbGVSZWNvcmRpbmcoZWRpdG9yKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwicmVwbGF5bWFjcm9cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1FXCIsIFwiQ29tbWFuZC1TaGlmdC1FXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tbWFuZHMucmVwbGF5KGVkaXRvcik7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImp1bXB0b21hdGNoaW5nXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtUFwiLCBcIkN0cmwtUFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmp1bXBUb01hdGNoaW5nKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImFuaW1hdGVcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0dG9tYXRjaGluZ1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LVBcIiwgXCJDdHJsLVNoaWZ0LVBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5qdW1wVG9NYXRjaGluZyh0cnVlKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiYW5pbWF0ZVwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJleHBhbmRUb01hdGNoaW5nXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtTVwiLCBcIkN0cmwtU2hpZnQtTVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmp1bXBUb01hdGNoaW5nKHRydWUsIHRydWUpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJhbmltYXRlXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInBhc3NLZXlzVG9Ccm93c2VyXCIsXG4gICAgYmluZEtleTogYmluZEtleShudWxsLCBudWxsKSxcbiAgICBleGVjOiBmdW5jdGlvbigpIHt9LFxuICAgIHBhc3NFdmVudDogdHJ1ZSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiY29weVwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sXG57XG4gICAgbmFtZTogXCJjdXRcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGVkaXRvci5fZW1pdChcImN1dFwiLCByYW5nZSk7XG5cbiAgICAgICAgaWYgKCFlZGl0b3Iuc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgZWRpdG9yLnNlc3Npb24ucmVtb3ZlKHJhbmdlKTtcbiAgICAgICAgICAgIGVkaXRvci5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCJcbn0sIHtcbiAgICBuYW1lOiBcInBhc3RlXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yLCBhcmdzKSB7XG4gICAgICAgIGVkaXRvci4kaGFuZGxlUGFzdGUoYXJncyk7XG4gICAgfSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwicmVtb3ZlbGluZVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLURcIiwgXCJDb21tYW5kLURcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5yZW1vdmVMaW5lcygpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hMaW5lXCJcbn0sIHtcbiAgICBuYW1lOiBcImR1cGxpY2F0ZVNlbGVjdGlvblwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LURcIiwgXCJDb21tYW5kLVNoaWZ0LURcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5kdXBsaWNhdGVTZWxlY3Rpb24oKTsgfSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCJcbn0sIHtcbiAgICBuYW1lOiBcInNvcnRsaW5lc1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUFsdC1TXCIsIFwiQ29tbWFuZC1BbHQtU1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNvcnRMaW5lcygpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcInNlbGVjdGlvblwiLFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hMaW5lXCJcbn0sIHtcbiAgICBuYW1lOiBcInRvZ2dsZWNvbW1lbnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC0vXCIsIFwiQ29tbWFuZC0vXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IudG9nZ2xlQ29tbWVudExpbmVzKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaExpbmVcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJzZWxlY3Rpb25QYXJ0XCJcbn0sIHtcbiAgICBuYW1lOiBcInRvZ2dsZUJsb2NrQ29tbWVudFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LS9cIiwgXCJDb21tYW5kLVNoaWZ0LS9cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci50b2dnbGVCbG9ja0NvbW1lbnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwic2VsZWN0aW9uUGFydFwiXG59LCB7XG4gICAgbmFtZTogXCJtb2RpZnlOdW1iZXJVcFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LVVwXCIsIFwiQWx0LVNoaWZ0LVVwXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IubW9kaWZ5TnVtYmVyKDEpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwibW9kaWZ5TnVtYmVyRG93blwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LURvd25cIiwgXCJBbHQtU2hpZnQtRG93blwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm1vZGlmeU51bWJlcigtMSk7IH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiXG59LCB7XG4gICAgbmFtZTogXCJyZXBsYWNlXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtSFwiLCBcIkNvbW1hbmQtT3B0aW9uLUZcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGNvbmZpZy5sb2FkTW9kdWxlKFwiYWNlL2V4dC9zZWFyY2hib3hcIiwgZnVuY3Rpb24oZSkge2UuU2VhcmNoKGVkaXRvciwgdHJ1ZSl9KTtcbiAgICB9XG59LCB7XG4gICAgbmFtZTogXCJ1bmRvXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtWlwiLCBcIkNvbW1hbmQtWlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnVuZG8oKTsgfVxufSwge1xuICAgIG5hbWU6IFwicmVkb1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LVp8Q3RybC1ZXCIsIFwiQ29tbWFuZC1TaGlmdC1afENvbW1hbmQtWVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnJlZG8oKTsgfVxufSwge1xuICAgIG5hbWU6IFwiY29weWxpbmVzdXBcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVNoaWZ0LVVwXCIsIFwiQ29tbWFuZC1PcHRpb24tVXBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb3B5TGluZXNVcCgpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJtb3ZlbGluZXN1cFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtVXBcIiwgXCJPcHRpb24tVXBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5tb3ZlTGluZXNVcCgpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJjb3B5bGluZXNkb3duXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1TaGlmdC1Eb3duXCIsIFwiQ29tbWFuZC1PcHRpb24tRG93blwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvcHlMaW5lc0Rvd24oKTsgfSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwibW92ZWxpbmVzZG93blwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtRG93blwiLCBcIk9wdGlvbi1Eb3duXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IubW92ZUxpbmVzRG93bigpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJkZWxcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiRGVsZXRlXCIsIFwiRGVsZXRlfEN0cmwtRHxTaGlmdC1EZWxldGVcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5yZW1vdmUoXCJyaWdodFwiKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcImJhY2tzcGFjZVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXG4gICAgICAgIFwiU2hpZnQtQmFja3NwYWNlfEJhY2tzcGFjZVwiLFxuICAgICAgICBcIkN0cmwtQmFja3NwYWNlfFNoaWZ0LUJhY2tzcGFjZXxCYWNrc3BhY2V8Q3RybC1IXCJcbiAgICApLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IucmVtb3ZlKFwibGVmdFwiKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcImN1dF9vcl9kZWxldGVcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiU2hpZnQtRGVsZXRlXCIsIG51bGwpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBcbiAgICAgICAgaWYgKGVkaXRvci5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBlZGl0b3IucmVtb3ZlKFwibGVmdFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJyZW1vdmV0b2xpbmVzdGFydFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtQmFja3NwYWNlXCIsIFwiQ29tbWFuZC1CYWNrc3BhY2VcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5yZW1vdmVUb0xpbmVTdGFydCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwicmVtb3ZldG9saW5lZW5kXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1EZWxldGVcIiwgXCJDdHJsLUtcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5yZW1vdmVUb0xpbmVFbmQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcInJlbW92ZXdvcmRsZWZ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtQmFja3NwYWNlXCIsIFwiQWx0LUJhY2tzcGFjZXxDdHJsLUFsdC1CYWNrc3BhY2VcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5yZW1vdmVXb3JkTGVmdCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwicmVtb3Zld29yZHJpZ2h0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtRGVsZXRlXCIsIFwiQWx0LURlbGV0ZVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnJlbW92ZVdvcmRSaWdodCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwib3V0ZGVudFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJTaGlmdC1UYWJcIiwgXCJTaGlmdC1UYWJcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5ibG9ja091dGRlbnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwic2VsZWN0aW9uUGFydFwiXG59LCB7XG4gICAgbmFtZTogXCJpbmRlbnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiVGFiXCIsIFwiVGFiXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuaW5kZW50KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcInNlbGVjdGlvblBhcnRcIlxufSwge1xuICAgIG5hbWU6IFwiYmxvY2tvdXRkZW50XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtW1wiLCBcIkN0cmwtW1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmJsb2NrT3V0ZGVudCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hMaW5lXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwic2VsZWN0aW9uUGFydFwiXG59LCB7XG4gICAgbmFtZTogXCJibG9ja2luZGVudFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLV1cIiwgXCJDdHJsLV1cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5ibG9ja0luZGVudCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hMaW5lXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwic2VsZWN0aW9uUGFydFwiXG59LCB7XG4gICAgbmFtZTogXCJpbnNlcnRzdHJpbmdcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIHN0cikgeyBlZGl0b3IuaW5zZXJ0KHN0cik7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJpbnNlcnR0ZXh0XCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yLCBhcmdzKSB7XG4gICAgICAgIGVkaXRvci5pbnNlcnQobGFuZy5zdHJpbmdSZXBlYXQoYXJncy50ZXh0ICB8fCBcIlwiLCBhcmdzLnRpbWVzIHx8IDEpKTtcbiAgICB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwic3BsaXRsaW5lXCIsXG4gICAgYmluZEtleTogYmluZEtleShudWxsLCBcIkN0cmwtT1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNwbGl0TGluZSgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwidHJhbnNwb3NlbGV0dGVyc1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVRcIiwgXCJDdHJsLVRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci50cmFuc3Bvc2VMZXR0ZXJzKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IGZ1bmN0aW9uKGVkaXRvcikge2VkaXRvci50cmFuc3Bvc2VTZWxlY3Rpb25zKDEpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJ0b3VwcGVyY2FzZVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVVcIiwgXCJDdHJsLVVcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci50b1VwcGVyQ2FzZSgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwidG9sb3dlcmNhc2VcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1VXCIsIFwiQ3RybC1TaGlmdC1VXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IudG9Mb3dlckNhc2UoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcImV4cGFuZHRvbGluZVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LUxcIiwgXCJDb21tYW5kLVNoaWZ0LUxcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHZhciByYW5nZSA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcblxuICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4gPSByYW5nZS5lbmQuY29sdW1uID0gMDtcbiAgICAgICAgcmFuZ2UuZW5kLnJvdysrO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlKHJhbmdlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImpvaW5saW5lc1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkobnVsbCwgbnVsbCksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHZhciBpc0JhY2t3YXJkcyA9IGVkaXRvci5zZWxlY3Rpb24uaXNCYWNrd2FyZHMoKTtcbiAgICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gaXNCYWNrd2FyZHMgPyBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkxlYWQoKSA6IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uQW5jaG9yKCk7XG4gICAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSBpc0JhY2t3YXJkcyA/IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uQW5jaG9yKCkgOiBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkxlYWQoKTtcbiAgICAgICAgdmFyIGZpcnN0TGluZUVuZENvbCA9IGVkaXRvci5zZXNzaW9uLmRvYy5nZXRMaW5lKHNlbGVjdGlvblN0YXJ0LnJvdykubGVuZ3RoO1xuICAgICAgICB2YXIgc2VsZWN0ZWRUZXh0ID0gZWRpdG9yLnNlc3Npb24uZG9jLmdldFRleHRSYW5nZShlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCkpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRDb3VudCA9IHNlbGVjdGVkVGV4dC5yZXBsYWNlKC9cXG5cXHMqLywgXCIgXCIpLmxlbmd0aDtcbiAgICAgICAgdmFyIGluc2VydExpbmUgPSBlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TGluZShzZWxlY3Rpb25TdGFydC5yb3cpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBzZWxlY3Rpb25TdGFydC5yb3cgKyAxOyBpIDw9IHNlbGVjdGlvbkVuZC5yb3cgKyAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjdXJMaW5lID0gbGFuZy5zdHJpbmdUcmltTGVmdChsYW5nLnN0cmluZ1RyaW1SaWdodChlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TGluZShpKSkpO1xuICAgICAgICAgICAgaWYgKGN1ckxpbmUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY3VyTGluZSA9IFwiIFwiICsgY3VyTGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluc2VydExpbmUgKz0gY3VyTGluZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3Rpb25FbmQucm93ICsgMSA8IChlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TGVuZ3RoKCkgLSAxKSkge1xuICAgICAgICAgICAgaW5zZXJ0TGluZSArPSBlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TmV3TGluZUNoYXJhY3RlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWRpdG9yLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIGVkaXRvci5zZXNzaW9uLmRvYy5yZXBsYWNlKG5ldyBSYW5nZShzZWxlY3Rpb25TdGFydC5yb3csIDAsIHNlbGVjdGlvbkVuZC5yb3cgKyAyLCAwKSwgaW5zZXJ0TGluZSk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGVkQ291bnQgPiAwKSB7XG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVDdXJzb3JUbyhzZWxlY3Rpb25TdGFydC5yb3csIHNlbGVjdGlvblN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnNlbGVjdFRvKHNlbGVjdGlvblN0YXJ0LnJvdywgc2VsZWN0aW9uU3RhcnQuY29sdW1uICsgc2VsZWN0ZWRDb3VudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaXJzdExpbmVFbmRDb2wgPSBlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TGluZShzZWxlY3Rpb25TdGFydC5yb3cpLmxlbmd0aCA+IGZpcnN0TGluZUVuZENvbCA/IChmaXJzdExpbmVFbmRDb2wgKyAxKSA6IGZpcnN0TGluZUVuZENvbDtcbiAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24ubW92ZUN1cnNvclRvKHNlbGVjdGlvblN0YXJ0LnJvdywgZmlyc3RMaW5lRW5kQ29sKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJpbnZlcnRTZWxlY3Rpb25cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KG51bGwsIG51bGwpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB2YXIgZW5kUm93ID0gZWRpdG9yLnNlc3Npb24uZG9jLmdldExlbmd0aCgpIC0gMTtcbiAgICAgICAgdmFyIGVuZENvbCA9IGVkaXRvci5zZXNzaW9uLmRvYy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoO1xuICAgICAgICB2YXIgcmFuZ2VzID0gZWRpdG9yLnNlbGVjdGlvbi5yYW5nZUxpc3QucmFuZ2VzO1xuICAgICAgICB2YXIgbmV3UmFuZ2VzID0gW107XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmFuZ2VzID0gW2VkaXRvci5zZWxlY3Rpb24uZ2V0UmFuZ2UoKV07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT0gKHJhbmdlcy5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgIGlmICghKHJhbmdlc1tpXS5lbmQucm93ID09PSBlbmRSb3cgJiYgcmFuZ2VzW2ldLmVuZC5jb2x1bW4gPT09IGVuZENvbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UmFuZ2VzLnB1c2gobmV3IFJhbmdlKHJhbmdlc1tpXS5lbmQucm93LCByYW5nZXNbaV0uZW5kLmNvbHVtbiwgZW5kUm93LCBlbmRDb2wpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEocmFuZ2VzW2ldLnN0YXJ0LnJvdyA9PT0gMCAmJiByYW5nZXNbaV0uc3RhcnQuY29sdW1uID09PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdSYW5nZXMucHVzaChuZXcgUmFuZ2UoMCwgMCwgcmFuZ2VzW2ldLnN0YXJ0LnJvdywgcmFuZ2VzW2ldLnN0YXJ0LmNvbHVtbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3UmFuZ2VzLnB1c2gobmV3IFJhbmdlKHJhbmdlc1tpLTFdLmVuZC5yb3csIHJhbmdlc1tpLTFdLmVuZC5jb2x1bW4sIHJhbmdlc1tpXS5zdGFydC5yb3csIHJhbmdlc1tpXS5zdGFydC5jb2x1bW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVkaXRvci5leGl0TXVsdGlTZWxlY3RNb2RlKCk7XG4gICAgICAgIGVkaXRvci5jbGVhclNlbGVjdGlvbigpO1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuZXdSYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uYWRkUmFuZ2UobmV3UmFuZ2VzW2ldLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgIHNjcm9sbEludG9WaWV3OiBcIm5vbmVcIlxufV07XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2VkaXRvclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9maXhvbGRicm93c2Vyc1wiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvdXNlcmFnZW50XCIsXCJhY2Uva2V5Ym9hcmQvdGV4dGlucHV0XCIsXCJhY2UvbW91c2UvbW91c2VfaGFuZGxlclwiLFwiYWNlL21vdXNlL2ZvbGRfaGFuZGxlclwiLFwiYWNlL2tleWJvYXJkL2tleWJpbmRpbmdcIixcImFjZS9lZGl0X3Nlc3Npb25cIixcImFjZS9zZWFyY2hcIixcImFjZS9yYW5nZVwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCIsXCJhY2UvY29tbWFuZHMvY29tbWFuZF9tYW5hZ2VyXCIsXCJhY2UvY29tbWFuZHMvZGVmYXVsdF9jb21tYW5kc1wiLFwiYWNlL2NvbmZpZ1wiLFwiYWNlL3Rva2VuX2l0ZXJhdG9yXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuYWNlcXVpcmUoXCIuL2xpYi9maXhvbGRicm93c2Vyc1wiKTtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi9saWIvZG9tXCIpO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4vbGliL2xhbmdcIik7XG52YXIgdXNlcmFnZW50ID0gYWNlcXVpcmUoXCIuL2xpYi91c2VyYWdlbnRcIik7XG52YXIgVGV4dElucHV0ID0gYWNlcXVpcmUoXCIuL2tleWJvYXJkL3RleHRpbnB1dFwiKS5UZXh0SW5wdXQ7XG52YXIgTW91c2VIYW5kbGVyID0gYWNlcXVpcmUoXCIuL21vdXNlL21vdXNlX2hhbmRsZXJcIikuTW91c2VIYW5kbGVyO1xudmFyIEZvbGRIYW5kbGVyID0gYWNlcXVpcmUoXCIuL21vdXNlL2ZvbGRfaGFuZGxlclwiKS5Gb2xkSGFuZGxlcjtcbnZhciBLZXlCaW5kaW5nID0gYWNlcXVpcmUoXCIuL2tleWJvYXJkL2tleWJpbmRpbmdcIikuS2V5QmluZGluZztcbnZhciBFZGl0U2Vzc2lvbiA9IGFjZXF1aXJlKFwiLi9lZGl0X3Nlc3Npb25cIikuRWRpdFNlc3Npb247XG52YXIgU2VhcmNoID0gYWNlcXVpcmUoXCIuL3NlYXJjaFwiKS5TZWFyY2g7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgRXZlbnRFbWl0dGVyID0gYWNlcXVpcmUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcbnZhciBDb21tYW5kTWFuYWdlciA9IGFjZXF1aXJlKFwiLi9jb21tYW5kcy9jb21tYW5kX21hbmFnZXJcIikuQ29tbWFuZE1hbmFnZXI7XG52YXIgZGVmYXVsdENvbW1hbmRzID0gYWNlcXVpcmUoXCIuL2NvbW1hbmRzL2RlZmF1bHRfY29tbWFuZHNcIikuY29tbWFuZHM7XG52YXIgY29uZmlnID0gYWNlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcbnZhciBUb2tlbkl0ZXJhdG9yID0gYWNlcXVpcmUoXCIuL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3I7XG52YXIgRWRpdG9yID0gZnVuY3Rpb24ocmVuZGVyZXIsIHNlc3Npb24pIHtcbiAgICB2YXIgY29udGFpbmVyID0gcmVuZGVyZXIuZ2V0Q29udGFpbmVyRWxlbWVudCgpO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIHRoaXMuY29tbWFuZHMgPSBuZXcgQ29tbWFuZE1hbmFnZXIodXNlcmFnZW50LmlzTWFjID8gXCJtYWNcIiA6IFwid2luXCIsIGRlZmF1bHRDb21tYW5kcyk7XG4gICAgdGhpcy50ZXh0SW5wdXQgID0gbmV3IFRleHRJbnB1dChyZW5kZXJlci5nZXRUZXh0QXJlYUNvbnRhaW5lcigpLCB0aGlzKTtcbiAgICB0aGlzLnJlbmRlcmVyLnRleHRhcmVhID0gdGhpcy50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpO1xuICAgIHRoaXMua2V5QmluZGluZyA9IG5ldyBLZXlCaW5kaW5nKHRoaXMpO1xuICAgIHRoaXMuJG1vdXNlSGFuZGxlciA9IG5ldyBNb3VzZUhhbmRsZXIodGhpcyk7XG4gICAgbmV3IEZvbGRIYW5kbGVyKHRoaXMpO1xuXG4gICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgPSAwO1xuICAgIHRoaXMuJHNlYXJjaCA9IG5ldyBTZWFyY2goKS5zZXQoe1xuICAgICAgICB3cmFwOiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLiRoaXN0b3J5VHJhY2tlciA9IHRoaXMuJGhpc3RvcnlUcmFja2VyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jb21tYW5kcy5vbihcImV4ZWNcIiwgdGhpcy4kaGlzdG9yeVRyYWNrZXIpO1xuXG4gICAgdGhpcy4kaW5pdE9wZXJhdGlvbkxpc3RlbmVycygpO1xuICAgIFxuICAgIHRoaXMuXyRlbWl0SW5wdXRFdmVudCA9IGxhbmcuZGVsYXllZENhbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImlucHV0XCIsIHt9KTtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbiAmJiB0aGlzLnNlc3Npb24uYmdUb2tlbml6ZXIpXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uYmdUb2tlbml6ZXIuc2NoZWR1bGVTdGFydCgpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgXG4gICAgdGhpcy5vbihcImNoYW5nZVwiLCBmdW5jdGlvbihfLCBfc2VsZikge1xuICAgICAgICBfc2VsZi5fJGVtaXRJbnB1dEV2ZW50LnNjaGVkdWxlKDMxKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc2V0U2Vzc2lvbihzZXNzaW9uIHx8IG5ldyBFZGl0U2Vzc2lvbihcIlwiKSk7XG4gICAgY29uZmlnLnJlc2V0T3B0aW9ucyh0aGlzKTtcbiAgICBjb25maWcuX3NpZ25hbChcImVkaXRvclwiLCB0aGlzKTtcbn07XG5cbihmdW5jdGlvbigpe1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXG4gICAgdGhpcy4kaW5pdE9wZXJhdGlvbkxpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBsYXN0KGEpIHtyZXR1cm4gYVthLmxlbmd0aCAtIDFdfVxuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmNvbW1hbmRzLm9uKFwiZXhlY1wiLCB0aGlzLnN0YXJ0T3BlcmF0aW9uLmJpbmQodGhpcyksIHRydWUpO1xuICAgICAgICB0aGlzLmNvbW1hbmRzLm9uKFwiYWZ0ZXJFeGVjXCIsIHRoaXMuZW5kT3BlcmF0aW9uLmJpbmQodGhpcyksIHRydWUpO1xuXG4gICAgICAgIHRoaXMuJG9wUmVzZXRUaW1lciA9IGxhbmcuZGVsYXllZENhbGwodGhpcy5lbmRPcGVyYXRpb24uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY3VyT3AgfHwgdGhpcy5zdGFydE9wZXJhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5jdXJPcC5kb2NDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfS5iaW5kKHRoaXMpLCB0cnVlKTtcblxuICAgICAgICB0aGlzLm9uKFwiY2hhbmdlU2VsZWN0aW9uXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jdXJPcCB8fCB0aGlzLnN0YXJ0T3BlcmF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9LmJpbmQodGhpcyksIHRydWUpO1xuICAgIH07XG5cbiAgICB0aGlzLmN1ck9wID0gbnVsbDtcbiAgICB0aGlzLnByZXZPcCA9IHt9O1xuICAgIHRoaXMuc3RhcnRPcGVyYXRpb24gPSBmdW5jdGlvbihjb21tYWRFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5jdXJPcCkge1xuICAgICAgICAgICAgaWYgKCFjb21tYWRFdmVudCB8fCB0aGlzLmN1ck9wLmNvbW1hbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5wcmV2T3AgPSB0aGlzLmN1ck9wO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29tbWFkRXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNDb21tYW5kID0gbnVsbDtcbiAgICAgICAgICAgIGNvbW1hZEV2ZW50ID0ge307XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRvcFJlc2V0VGltZXIuc2NoZWR1bGUoKTtcbiAgICAgICAgdGhpcy5jdXJPcCA9IHtcbiAgICAgICAgICAgIGNvbW1hbmQ6IGNvbW1hZEV2ZW50LmNvbW1hbmQgfHwge30sXG4gICAgICAgICAgICBhcmdzOiBjb21tYWRFdmVudC5hcmdzLFxuICAgICAgICAgICAgc2Nyb2xsVG9wOiB0aGlzLnJlbmRlcmVyLnNjcm9sbFRvcFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5jdXJPcC5jb21tYW5kLm5hbWUgJiYgdGhpcy5jdXJPcC5jb21tYW5kLnNjcm9sbEludG9WaWV3ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZysrO1xuICAgIH07XG5cbiAgICB0aGlzLmVuZE9wZXJhdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VyT3ApIHtcbiAgICAgICAgICAgIGlmIChlICYmIGUucmV0dXJuVmFsdWUgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1ck9wID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbChcImJlZm9yZUVuZE9wZXJhdGlvblwiKTtcbiAgICAgICAgICAgIHZhciBjb21tYW5kID0gdGhpcy5jdXJPcC5jb21tYW5kO1xuICAgICAgICAgICAgaWYgKGNvbW1hbmQubmFtZSAmJiB0aGlzLiRibG9ja1Njcm9sbGluZyA+IDApXG4gICAgICAgICAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmctLTtcbiAgICAgICAgICAgIHZhciBzY3JvbGxJbnRvVmlldyA9IGNvbW1hbmQgJiYgY29tbWFuZC5zY3JvbGxJbnRvVmlldztcbiAgICAgICAgICAgIGlmIChzY3JvbGxJbnRvVmlldykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2Nyb2xsSW50b1ZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNlbnRlci1hbmltYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxJbnRvVmlldyA9IFwiYW5pbWF0ZVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2VudGVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KG51bGwsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFuaW1hdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImN1cnNvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3Rpb25QYXJ0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMucmVuZGVyZXIubGF5ZXJDb25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2Uuc3RhcnQucm93ID49IGNvbmZpZy5sYXN0Um93IHx8IHJhbmdlLmVuZC5yb3cgPD0gY29uZmlnLmZpcnN0Um93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxTZWxlY3Rpb25JbnRvVmlldyh0aGlzLnNlbGVjdGlvbi5hbmNob3IsIHRoaXMuc2VsZWN0aW9uLmxlYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbEludG9WaWV3ID09IFwiYW5pbWF0ZVwiKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFuaW1hdGVTY3JvbGxpbmcodGhpcy5jdXJPcC5zY3JvbGxUb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnByZXZPcCA9IHRoaXMuY3VyT3A7XG4gICAgICAgICAgICB0aGlzLmN1ck9wID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy4kbWVyZ2VhYmxlQ29tbWFuZHMgPSBbXCJiYWNrc3BhY2VcIiwgXCJkZWxcIiwgXCJpbnNlcnRzdHJpbmdcIl07XG4gICAgdGhpcy4kaGlzdG9yeVRyYWNrZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghdGhpcy4kbWVyZ2VVbmRvRGVsdGFzKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBwcmV2ID0gdGhpcy5wcmV2T3A7XG4gICAgICAgIHZhciBtZXJnZWFibGVDb21tYW5kcyA9IHRoaXMuJG1lcmdlYWJsZUNvbW1hbmRzO1xuICAgICAgICB2YXIgc2hvdWxkTWVyZ2UgPSBwcmV2LmNvbW1hbmQgJiYgKGUuY29tbWFuZC5uYW1lID09IHByZXYuY29tbWFuZC5uYW1lKTtcbiAgICAgICAgaWYgKGUuY29tbWFuZC5uYW1lID09IFwiaW5zZXJ0c3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gZS5hcmdzO1xuICAgICAgICAgICAgaWYgKHRoaXMubWVyZ2VOZXh0Q29tbWFuZCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHRoaXMubWVyZ2VOZXh0Q29tbWFuZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHNob3VsZE1lcmdlID0gc2hvdWxkTWVyZ2VcbiAgICAgICAgICAgICAgICAmJiB0aGlzLm1lcmdlTmV4dENvbW1hbmQgLy8gcHJldmlvdXMgY29tbWFuZCBhbGxvd3MgdG8gY29hbGVzY2Ugd2l0aFxuICAgICAgICAgICAgICAgICYmICghL1xccy8udGVzdCh0ZXh0KSB8fCAvXFxzLy50ZXN0KHByZXYuYXJncykpOyAvLyBwcmV2aW91cyBpbnNlcnRpb24gd2FzIG9mIHNhbWUgdHlwZVxuXG4gICAgICAgICAgICB0aGlzLm1lcmdlTmV4dENvbW1hbmQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hvdWxkTWVyZ2UgPSBzaG91bGRNZXJnZVxuICAgICAgICAgICAgICAgICYmIG1lcmdlYWJsZUNvbW1hbmRzLmluZGV4T2YoZS5jb21tYW5kLm5hbWUpICE9PSAtMTsgLy8gdGhlIGNvbW1hbmQgaXMgbWVyZ2VhYmxlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLiRtZXJnZVVuZG9EZWx0YXMgIT0gXCJhbHdheXNcIlxuICAgICAgICAgICAgJiYgRGF0ZS5ub3coKSAtIHRoaXMuc2VxdWVuY2VTdGFydFRpbWUgPiAyMDAwXG4gICAgICAgICkge1xuICAgICAgICAgICAgc2hvdWxkTWVyZ2UgPSBmYWxzZTsgLy8gdGhlIHNlcXVlbmNlIGlzIHRvbyBsb25nXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvdWxkTWVyZ2UpXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ubWVyZ2VVbmRvRGVsdGFzID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAobWVyZ2VhYmxlQ29tbWFuZHMuaW5kZXhPZihlLmNvbW1hbmQubmFtZSkgIT09IC0xKVxuICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgfTtcbiAgICB0aGlzLnNldEtleWJvYXJkSGFuZGxlciA9IGZ1bmN0aW9uKGtleWJvYXJkSGFuZGxlciwgY2IpIHtcbiAgICAgICAgaWYgKGtleWJvYXJkSGFuZGxlciAmJiB0eXBlb2Yga2V5Ym9hcmRIYW5kbGVyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aGlzLiRrZXliaW5kaW5nSWQgPSBrZXlib2FyZEhhbmRsZXI7XG4gICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoW1wia2V5YmluZGluZ1wiLCBrZXlib2FyZEhhbmRsZXJdLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3NlbGYuJGtleWJpbmRpbmdJZCA9PSBrZXlib2FyZEhhbmRsZXIpXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLmtleUJpbmRpbmcuc2V0S2V5Ym9hcmRIYW5kbGVyKG1vZHVsZSAmJiBtb2R1bGUuaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgY2IgJiYgY2IoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4ka2V5YmluZGluZ0lkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMua2V5QmluZGluZy5zZXRLZXlib2FyZEhhbmRsZXIoa2V5Ym9hcmRIYW5kbGVyKTtcbiAgICAgICAgICAgIGNiICYmIGNiKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0S2V5Ym9hcmRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleUJpbmRpbmcuZ2V0S2V5Ym9hcmRIYW5kbGVyKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFNlc3Npb24gPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24gPT0gc2Vzc2lvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuY3VyT3ApIHRoaXMuZW5kT3BlcmF0aW9uKCk7XG4gICAgICAgIHRoaXMuY3VyT3AgPSB7fTtcblxuICAgICAgICB2YXIgb2xkU2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgaWYgKG9sZFNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VcIiwgdGhpcy4kb25Eb2N1bWVudENoYW5nZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlTW9kZVwiLCB0aGlzLiRvbkNoYW5nZU1vZGUpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9mZihcInRva2VuaXplclVwZGF0ZVwiLCB0aGlzLiRvblRva2VuaXplclVwZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlVGFiU2l6ZVwiLCB0aGlzLiRvbkNoYW5nZVRhYlNpemUpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZVdyYXBMaW1pdFwiLCB0aGlzLiRvbkNoYW5nZVdyYXBMaW1pdCk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlV3JhcE1vZGVcIiwgdGhpcy4kb25DaGFuZ2VXcmFwTW9kZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlRm9sZFwiLCB0aGlzLiRvbkNoYW5nZUZvbGQpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZUZyb250TWFya2VyXCIsIHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXIpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZUJhY2tNYXJrZXJcIiwgdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHRoaXMuJG9uQ2hhbmdlQnJlYWtwb2ludCk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlQW5ub3RhdGlvblwiLCB0aGlzLiRvbkNoYW5nZUFubm90YXRpb24pO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZU92ZXJ3cml0ZVwiLCB0aGlzLiRvbkN1cnNvckNoYW5nZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlU2Nyb2xsVG9wXCIsIHRoaXMuJG9uU2Nyb2xsVG9wQ2hhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VTY3JvbGxMZWZ0XCIsIHRoaXMuJG9uU2Nyb2xsTGVmdENoYW5nZSk7XG5cbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnNlc3Npb24uZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBzZWxlY3Rpb24ub2ZmKFwiY2hhbmdlQ3Vyc29yXCIsIHRoaXMuJG9uQ3Vyc29yQ2hhbmdlKTtcbiAgICAgICAgICAgIHNlbGVjdGlvbi5vZmYoXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgaWYgKHNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuJG9uRG9jdW1lbnRDaGFuZ2UgPSB0aGlzLm9uRG9jdW1lbnRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHNlc3Npb24ub24oXCJjaGFuZ2VcIiwgdGhpcy4kb25Eb2N1bWVudENoYW5nZSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNlc3Npb24oc2Vzc2lvbik7XG4gICAgXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZU1vZGUgPSB0aGlzLm9uQ2hhbmdlTW9kZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbihcImNoYW5nZU1vZGVcIiwgdGhpcy4kb25DaGFuZ2VNb2RlKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJG9uVG9rZW5pemVyVXBkYXRlID0gdGhpcy5vblRva2VuaXplclVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbihcInRva2VuaXplclVwZGF0ZVwiLCB0aGlzLiRvblRva2VuaXplclVwZGF0ZSk7XG4gICAgXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZVRhYlNpemUgPSB0aGlzLnJlbmRlcmVyLm9uQ2hhbmdlVGFiU2l6ZS5iaW5kKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbihcImNoYW5nZVRhYlNpemVcIiwgdGhpcy4kb25DaGFuZ2VUYWJTaXplKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJG9uQ2hhbmdlV3JhcExpbWl0ID0gdGhpcy5vbkNoYW5nZVdyYXBMaW1pdC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbihcImNoYW5nZVdyYXBMaW1pdFwiLCB0aGlzLiRvbkNoYW5nZVdyYXBMaW1pdCk7XG4gICAgXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZVdyYXBNb2RlID0gdGhpcy5vbkNoYW5nZVdyYXBNb2RlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBzZXNzaW9uLm9uKFwiY2hhbmdlV3JhcE1vZGVcIiwgdGhpcy4kb25DaGFuZ2VXcmFwTW9kZSk7XG4gICAgXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZUZvbGQgPSB0aGlzLm9uQ2hhbmdlRm9sZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbihcImNoYW5nZUZvbGRcIiwgdGhpcy4kb25DaGFuZ2VGb2xkKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXIgPSB0aGlzLm9uQ2hhbmdlRnJvbnRNYXJrZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZUZyb250TWFya2VyXCIsIHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXIpO1xuICAgIFxuICAgICAgICAgICAgdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyID0gdGhpcy5vbkNoYW5nZUJhY2tNYXJrZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZUJhY2tNYXJrZXJcIiwgdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJG9uQ2hhbmdlQnJlYWtwb2ludCA9IHRoaXMub25DaGFuZ2VCcmVha3BvaW50LmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VCcmVha3BvaW50XCIsIHRoaXMuJG9uQ2hhbmdlQnJlYWtwb2ludCk7XG4gICAgXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZUFubm90YXRpb24gPSB0aGlzLm9uQ2hhbmdlQW5ub3RhdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwiY2hhbmdlQW5ub3RhdGlvblwiLCB0aGlzLiRvbkNoYW5nZUFubm90YXRpb24pO1xuICAgIFxuICAgICAgICAgICAgdGhpcy4kb25DdXJzb3JDaGFuZ2UgPSB0aGlzLm9uQ3Vyc29yQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VPdmVyd3JpdGVcIiwgdGhpcy4kb25DdXJzb3JDaGFuZ2UpO1xuICAgIFxuICAgICAgICAgICAgdGhpcy4kb25TY3JvbGxUb3BDaGFuZ2UgPSB0aGlzLm9uU2Nyb2xsVG9wQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VTY3JvbGxUb3BcIiwgdGhpcy4kb25TY3JvbGxUb3BDaGFuZ2UpO1xuICAgIFxuICAgICAgICAgICAgdGhpcy4kb25TY3JvbGxMZWZ0Q2hhbmdlID0gdGhpcy5vblNjcm9sbExlZnRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZVNjcm9sbExlZnRcIiwgdGhpcy4kb25TY3JvbGxMZWZ0Q2hhbmdlKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uID0gc2Vzc2lvbi5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLm9uKFwiY2hhbmdlQ3Vyc29yXCIsIHRoaXMuJG9uQ3Vyc29yQ2hhbmdlKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJG9uU2VsZWN0aW9uQ2hhbmdlID0gdGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ub24oXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UpO1xuICAgIFxuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZU1vZGUoKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJGJsb2NrU2Nyb2xsaW5nICs9IDE7XG4gICAgICAgICAgICB0aGlzLm9uQ3Vyc29yQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZyAtPSAxO1xuICAgIFxuICAgICAgICAgICAgdGhpcy5vblNjcm9sbFRvcENoYW5nZSgpO1xuICAgICAgICAgICAgdGhpcy5vblNjcm9sbExlZnRDaGFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2VGcm9udE1hcmtlcigpO1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZUJhY2tNYXJrZXIoKTtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2VCcmVha3BvaW50KCk7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlQW5ub3RhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmdldFVzZVdyYXBNb2RlKCkgJiYgdGhpcy5yZW5kZXJlci5hZGp1c3RXcmFwTGltaXQoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlRnVsbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlU2Vzc2lvblwiLCB7XG4gICAgICAgICAgICBzZXNzaW9uOiBzZXNzaW9uLFxuICAgICAgICAgICAgb2xkU2Vzc2lvbjogb2xkU2Vzc2lvblxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuY3VyT3AgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgb2xkU2Vzc2lvbiAmJiBvbGRTZXNzaW9uLl9zaWduYWwoXCJjaGFuZ2VFZGl0b3JcIiwge29sZEVkaXRvcjogdGhpc30pO1xuICAgICAgICBzZXNzaW9uICYmIHNlc3Npb24uX3NpZ25hbChcImNoYW5nZUVkaXRvclwiLCB7ZWRpdG9yOiB0aGlzfSk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNlc3Npb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbjtcbiAgICB9O1xuICAgIHRoaXMuc2V0VmFsdWUgPSBmdW5jdGlvbih2YWwsIGN1cnNvclBvcykge1xuICAgICAgICB0aGlzLnNlc3Npb24uZG9jLnNldFZhbHVlKHZhbCk7XG5cbiAgICAgICAgaWYgKCFjdXJzb3JQb3MpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEFsbCgpO1xuICAgICAgICBlbHNlIGlmIChjdXJzb3JQb3MgPT0gMSlcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVGaWxlRW5kKCk7XG4gICAgICAgIGVsc2UgaWYgKGN1cnNvclBvcyA9PSAtMSlcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVGaWxlU3RhcnQoKTtcblxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH07XG4gICAgdGhpcy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmdldFZhbHVlKCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb247XG4gICAgfTtcbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIub25SZXNpemUoZm9yY2UpO1xuICAgIH07XG4gICAgdGhpcy5zZXRUaGVtZSA9IGZ1bmN0aW9uKHRoZW1lLCBjYikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFRoZW1lKHRoZW1lLCBjYik7XG4gICAgfTtcbiAgICB0aGlzLmdldFRoZW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldFRoZW1lKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZShzdHlsZSk7XG4gICAgfTtcbiAgICB0aGlzLnVuc2V0U3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVuc2V0U3R5bGUoc3R5bGUpO1xuICAgIH07XG4gICAgdGhpcy5nZXRGb250U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiZm9udFNpemVcIikgfHxcbiAgICAgICAgICAgZG9tLmNvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXIsIFwiZm9udFNpemVcIik7XG4gICAgfTtcbiAgICB0aGlzLnNldEZvbnRTaXplID0gZnVuY3Rpb24oc2l6ZSkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImZvbnRTaXplXCIsIHNpemUpO1xuICAgIH07XG5cbiAgICB0aGlzLiRoaWdobGlnaHRCcmFja2V0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uLiRicmFja2V0SGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlTWFya2VyKHRoaXMuc2Vzc2lvbi4kYnJhY2tldEhpZ2hsaWdodCk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uJGJyYWNrZXRIaWdobGlnaHQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuJGhpZ2hsaWdodFBlbmRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuJGhpZ2hsaWdodFBlbmRpbmcgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi4kaGlnaGxpZ2h0UGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBzZWxmLnNlc3Npb247XG4gICAgICAgICAgICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24uYmdUb2tlbml6ZXIpIHJldHVybjtcbiAgICAgICAgICAgIHZhciBwb3MgPSBzZXNzaW9uLmZpbmRNYXRjaGluZ0JyYWNrZXQoc2VsZi5nZXRDdXJzb3JQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2UocG9zLnJvdywgcG9zLmNvbHVtbiwgcG9zLnJvdywgcG9zLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZXNzaW9uLiRtb2RlLmdldE1hdGNoaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gc2Vzc2lvbi4kbW9kZS5nZXRNYXRjaGluZyhzZWxmLnNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJhbmdlKVxuICAgICAgICAgICAgICAgIHNlc3Npb24uJGJyYWNrZXRIaWdobGlnaHQgPSBzZXNzaW9uLmFkZE1hcmtlcihyYW5nZSwgXCJhY2VfYnJhY2tldFwiLCBcInRleHRcIik7XG4gICAgICAgIH0sIDUwKTtcbiAgICB9O1xuICAgIHRoaXMuJGhpZ2hsaWdodFRhZ3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJGhpZ2hsaWdodFRhZ1BlbmRpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy4kaGlnaGxpZ2h0VGFnUGVuZGluZyA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLiRoaWdobGlnaHRUYWdQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2VsZi5zZXNzaW9uO1xuICAgICAgICAgICAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uLmJnVG9rZW5pemVyKSByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBwb3MgPSBzZWxmLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcihzZWxmLnNlc3Npb24sIHBvcy5yb3csIHBvcy5jb2x1bW4pO1xuICAgICAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghdG9rZW4gfHwgIS9cXGIoPzp0YWctb3Blbnx0YWctbmFtZSkvLnRlc3QodG9rZW4udHlwZSkpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLnJlbW92ZU1hcmtlcihzZXNzaW9uLiR0YWdIaWdobGlnaHQpO1xuICAgICAgICAgICAgICAgIHNlc3Npb24uJHRhZ0hpZ2hsaWdodCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZS5pbmRleE9mKFwidGFnLW9wZW5cIikgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgdGFnID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICB2YXIgZGVwdGggPSAwO1xuICAgICAgICAgICAgdmFyIHByZXZUb2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocHJldlRva2VuLnZhbHVlID09ICc8Jyl7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBwcmV2VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuICYmIHRva2VuLnZhbHVlID09PSB0YWcgJiYgdG9rZW4udHlwZS5pbmRleE9mKCd0YWctbmFtZScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZUb2tlbi52YWx1ZSA9PT0gJzwnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2VG9rZW4udmFsdWUgPT09ICc8Lycpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4gJiYgZGVwdGggPj0gMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBwcmV2VG9rZW47XG4gICAgICAgICAgICAgICAgICAgIHByZXZUb2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuICYmIHRva2VuLnZhbHVlID09PSB0YWcgJiYgdG9rZW4udHlwZS5pbmRleE9mKCd0YWctbmFtZScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZUb2tlbi52YWx1ZSA9PT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldlRva2VuLnZhbHVlID09PSAnPC8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKHByZXZUb2tlbiAmJiBkZXB0aCA8PSAwKTtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmVNYXJrZXIoc2Vzc2lvbi4kdGFnSGlnaGxpZ2h0KTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLiR0YWdIaWdobGlnaHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHJvdyA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpO1xuICAgICAgICAgICAgdmFyIGNvbHVtbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpO1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHJvdywgY29sdW1uLCByb3csIGNvbHVtbit0b2tlbi52YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKHNlc3Npb24uJHRhZ0hpZ2hsaWdodCAmJiByYW5nZS5jb21wYXJlUmFuZ2Uoc2Vzc2lvbi4kYmFja01hcmtlcnNbc2Vzc2lvbi4kdGFnSGlnaGxpZ2h0XS5yYW5nZSkhPT0wKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmVNYXJrZXIoc2Vzc2lvbi4kdGFnSGlnaGxpZ2h0KTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLiR0YWdIaWdobGlnaHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmFuZ2UgJiYgIXNlc3Npb24uJHRhZ0hpZ2hsaWdodClcbiAgICAgICAgICAgICAgICBzZXNzaW9uLiR0YWdIaWdobGlnaHQgPSBzZXNzaW9uLmFkZE1hcmtlcihyYW5nZSwgXCJhY2VfYnJhY2tldFwiLCBcInRleHRcIik7XG4gICAgICAgIH0sIDUwKTtcbiAgICB9O1xuICAgIHRoaXMuZm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF9zZWxmLnRleHRJbnB1dC5mb2N1cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50ZXh0SW5wdXQuZm9jdXMoKTtcbiAgICB9O1xuICAgIHRoaXMuaXNGb2N1c2VkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRJbnB1dC5pc0ZvY3VzZWQoKTtcbiAgICB9O1xuICAgIHRoaXMuYmx1ciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRleHRJbnB1dC5ibHVyKCk7XG4gICAgfTtcbiAgICB0aGlzLm9uRm9jdXMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICh0aGlzLiRpc0ZvY3VzZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuJGlzRm9jdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hvd0N1cnNvcigpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnZpc3VhbGl6ZUZvY3VzKCk7XG4gICAgICAgIHRoaXMuX2VtaXQoXCJmb2N1c1wiLCBlKTtcbiAgICB9O1xuICAgIHRoaXMub25CbHVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIXRoaXMuJGlzRm9jdXNlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy4kaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuaGlkZUN1cnNvcigpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnZpc3VhbGl6ZUJsdXIoKTtcbiAgICAgICAgdGhpcy5fZW1pdChcImJsdXJcIiwgZSk7XG4gICAgfTtcblxuICAgIHRoaXMuJGN1cnNvckNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpO1xuICAgIH07XG4gICAgdGhpcy5vbkRvY3VtZW50Q2hhbmdlID0gZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgdmFyIHdyYXAgPSB0aGlzLnNlc3Npb24uJHVzZVdyYXBNb2RlO1xuICAgICAgICB2YXIgbGFzdFJvdyA9IChkZWx0YS5zdGFydC5yb3cgPT0gZGVsdGEuZW5kLnJvdyA/IGRlbHRhLmVuZC5yb3cgOiBJbmZpbml0eSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlTGluZXMoZGVsdGEuc3RhcnQucm93LCBsYXN0Um93LCB3cmFwKTtcblxuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VcIiwgZGVsdGEpO1xuICAgICAgICB0aGlzLiRjdXJzb3JDaGFuZ2UoKTtcbiAgICAgICAgdGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSgpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uVG9rZW5pemVyVXBkYXRlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgcm93cyA9IGUuZGF0YTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVMaW5lcyhyb3dzLmZpcnN0LCByb3dzLmxhc3QpO1xuICAgIH07XG5cblxuICAgIHRoaXMub25TY3JvbGxUb3BDaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxUb1kodGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vblNjcm9sbExlZnRDaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxUb1godGhpcy5zZXNzaW9uLmdldFNjcm9sbExlZnQoKSk7XG4gICAgfTtcbiAgICB0aGlzLm9uQ3Vyc29yQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGN1cnNvckNoYW5nZSgpO1xuXG4gICAgICAgIGlmICghdGhpcy4kYmxvY2tTY3JvbGxpbmcpIHtcbiAgICAgICAgICAgIGNvbmZpZy53YXJuKFwiQXV0b21hdGljYWxseSBzY3JvbGxpbmcgY3Vyc29yIGludG8gdmlldyBhZnRlciBzZWxlY3Rpb24gY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgXCJ0aGlzIHdpbGwgYmUgZGlzYWJsZWQgaW4gdGhlIG5leHQgdmVyc2lvblwiLFxuICAgICAgICAgICAgICAgIFwic2V0IGVkaXRvci4kYmxvY2tTY3JvbGxpbmcgPSBJbmZpbml0eSB0byBkaXNhYmxlIHRoaXMgbWVzc2FnZVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kaGlnaGxpZ2h0QnJhY2tldHMoKTtcbiAgICAgICAgdGhpcy4kaGlnaGxpZ2h0VGFncygpO1xuICAgICAgICB0aGlzLiR1cGRhdGVIaWdobGlnaHRBY3RpdmVMaW5lKCk7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZVNlbGVjdGlvblwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuZ2V0U2Vzc2lvbigpO1xuXG4gICAgICAgIHZhciBoaWdobGlnaHQ7XG4gICAgICAgIGlmICh0aGlzLiRoaWdobGlnaHRBY3RpdmVMaW5lKSB7XG4gICAgICAgICAgICBpZiAoKHRoaXMuJHNlbGVjdGlvblN0eWxlICE9IFwibGluZVwiIHx8ICF0aGlzLnNlbGVjdGlvbi5pc011bHRpTGluZSgpKSlcbiAgICAgICAgICAgICAgICBoaWdobGlnaHQgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlci4kbWF4TGluZXMgJiYgdGhpcy5zZXNzaW9uLmdldExlbmd0aCgpID09PSAxICYmICEodGhpcy5yZW5kZXJlci4kbWluTGluZXMgPiAxKSlcbiAgICAgICAgICAgICAgICBoaWdobGlnaHQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZXNzaW9uLiRoaWdobGlnaHRMaW5lTWFya2VyICYmICFoaWdobGlnaHQpIHtcbiAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlTWFya2VyKHNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIuaWQpO1xuICAgICAgICAgICAgc2Vzc2lvbi4kaGlnaGxpZ2h0TGluZU1hcmtlciA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoIXNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIgJiYgaGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2UoaGlnaGxpZ2h0LnJvdywgaGlnaGxpZ2h0LmNvbHVtbiwgaGlnaGxpZ2h0LnJvdywgSW5maW5pdHkpO1xuICAgICAgICAgICAgcmFuZ2UuaWQgPSBzZXNzaW9uLmFkZE1hcmtlcihyYW5nZSwgXCJhY2VfYWN0aXZlLWxpbmVcIiwgXCJzY3JlZW5MaW5lXCIpO1xuICAgICAgICAgICAgc2Vzc2lvbi4kaGlnaGxpZ2h0TGluZU1hcmtlciA9IHJhbmdlO1xuICAgICAgICB9IGVsc2UgaWYgKGhpZ2hsaWdodCkge1xuICAgICAgICAgICAgc2Vzc2lvbi4kaGlnaGxpZ2h0TGluZU1hcmtlci5zdGFydC5yb3cgPSBoaWdobGlnaHQucm93O1xuICAgICAgICAgICAgc2Vzc2lvbi4kaGlnaGxpZ2h0TGluZU1hcmtlci5lbmQucm93ID0gaGlnaGxpZ2h0LnJvdztcbiAgICAgICAgICAgIHNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIuc3RhcnQuY29sdW1uID0gaGlnaGxpZ2h0LmNvbHVtbjtcbiAgICAgICAgICAgIHNlc3Npb24uX3NpZ25hbChcImNoYW5nZUJhY2tNYXJrZXJcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5vblNlbGVjdGlvbkNoYW5nZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG5cbiAgICAgICAgaWYgKHNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcikge1xuICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmVNYXJrZXIoc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICBzZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5nZXRTZWxlY3Rpb25TdHlsZSgpO1xuICAgICAgICAgICAgc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2VyID0gc2Vzc2lvbi5hZGRNYXJrZXIocmFuZ2UsIFwiYWNlX3NlbGVjdGlvblwiLCBzdHlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVIaWdobGlnaHRBY3RpdmVMaW5lKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmUgPSB0aGlzLiRoaWdobGlnaHRTZWxlY3RlZFdvcmQgJiYgdGhpcy4kZ2V0U2VsZWN0aW9uSGlnaExpZ2h0UmVnZXhwKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5oaWdobGlnaHQocmUpO1xuXG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZVNlbGVjdGlvblwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0U2VsZWN0aW9uSGlnaExpZ2h0UmVnZXhwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuXG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGlmIChzZWxlY3Rpb24uaXNFbXB0eSgpIHx8IHNlbGVjdGlvbi5pc011bHRpTGluZSgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBzdGFydE91dGVyID0gc2VsZWN0aW9uLnN0YXJ0LmNvbHVtbiAtIDE7XG4gICAgICAgIHZhciBlbmRPdXRlciA9IHNlbGVjdGlvbi5lbmQuY29sdW1uICsgMTtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUoc2VsZWN0aW9uLnN0YXJ0LnJvdyk7XG4gICAgICAgIHZhciBsaW5lQ29scyA9IGxpbmUubGVuZ3RoO1xuICAgICAgICB2YXIgbmVlZGxlID0gbGluZS5zdWJzdHJpbmcoTWF0aC5tYXgoc3RhcnRPdXRlciwgMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihlbmRPdXRlciwgbGluZUNvbHMpKTtcbiAgICAgICAgaWYgKChzdGFydE91dGVyID49IDAgJiYgL15bXFx3XFxkXS8udGVzdChuZWVkbGUpKSB8fFxuICAgICAgICAgICAgKGVuZE91dGVyIDw9IGxpbmVDb2xzICYmIC9bXFx3XFxkXSQvLnRlc3QobmVlZGxlKSkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgbmVlZGxlID0gbGluZS5zdWJzdHJpbmcoc2VsZWN0aW9uLnN0YXJ0LmNvbHVtbiwgc2VsZWN0aW9uLmVuZC5jb2x1bW4pO1xuICAgICAgICBpZiAoIS9eW1xcd1xcZF0rJC8udGVzdChuZWVkbGUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByZSA9IHRoaXMuJHNlYXJjaC4kYXNzZW1ibGVSZWdFeHAoe1xuICAgICAgICAgICAgd2hvbGVXb3JkOiB0cnVlLFxuICAgICAgICAgICAgY2FzZVNlbnNpdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG5lZWRsZTogbmVlZGxlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLm9uQ2hhbmdlRnJvbnRNYXJrZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVGcm9udE1hcmtlcnMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNoYW5nZUJhY2tNYXJrZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpO1xuICAgIH07XG5cblxuICAgIHRoaXMub25DaGFuZ2VCcmVha3BvaW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQnJlYWtwb2ludHMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNoYW5nZUFubm90YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRBbm5vdGF0aW9ucyh0aGlzLnNlc3Npb24uZ2V0QW5ub3RhdGlvbnMoKSk7XG4gICAgfTtcblxuXG4gICAgdGhpcy5vbkNoYW5nZU1vZGUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlVGV4dCgpO1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlTW9kZVwiLCBlKTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLm9uQ2hhbmdlV3JhcExpbWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlRnVsbCgpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ2hhbmdlV3JhcE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vblJlc2l6ZSh0cnVlKTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLm9uQ2hhbmdlRm9sZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiR1cGRhdGVIaWdobGlnaHRBY3RpdmVMaW5lKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlRnVsbCgpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTZWxlY3RlZFRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Q29weVRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLmdldFNlbGVjdGVkVGV4dCgpO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjb3B5XCIsIHRleHQpO1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuICAgIHRoaXMub25Db3B5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZHMuZXhlYyhcImNvcHlcIiwgdGhpcyk7XG4gICAgfTtcbiAgICB0aGlzLm9uQ3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZHMuZXhlYyhcImN1dFwiLCB0aGlzKTtcbiAgICB9O1xuICAgIHRoaXMub25QYXN0ZSA9IGZ1bmN0aW9uKHRleHQsIGV2ZW50KSB7XG4gICAgICAgIHZhciBlID0ge3RleHQ6IHRleHQsIGV2ZW50OiBldmVudH07XG4gICAgICAgIHRoaXMuY29tbWFuZHMuZXhlYyhcInBhc3RlXCIsIHRoaXMsIGUpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kaGFuZGxlUGFzdGUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiKSBcbiAgICAgICAgICAgIGUgPSB7dGV4dDogZX07XG4gICAgICAgIHRoaXMuX3NpZ25hbChcInBhc3RlXCIsIGUpO1xuICAgICAgICB2YXIgdGV4dCA9IGUudGV4dDtcbiAgICAgICAgaWYgKCF0aGlzLmluTXVsdGlTZWxlY3RNb2RlIHx8IHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSkge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnQodGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbGluZXMgPSB0ZXh0LnNwbGl0KC9cXHJcXG58XFxyfFxcbi8pO1xuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuc2VsZWN0aW9uLnJhbmdlTGlzdC5yYW5nZXM7XG4gICAgXG4gICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID4gcmFuZ2VzLmxlbmd0aCB8fCBsaW5lcy5sZW5ndGggPCAyIHx8ICFsaW5lc1sxXSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5leGVjKFwiaW5zZXJ0c3RyaW5nXCIsIHRoaXMsIHRleHQpO1xuICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKCFyYW5nZS5pc0VtcHR5KCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmUocmFuZ2UpO1xuICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5pbnNlcnQocmFuZ2Uuc3RhcnQsIGxpbmVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmV4ZWNDb21tYW5kID0gZnVuY3Rpb24oY29tbWFuZCwgYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5leGVjKGNvbW1hbmQsIHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gICAgdGhpcy5pbnNlcnQgPSBmdW5jdGlvbih0ZXh0LCBwYXN0ZWQpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciBtb2RlID0gc2Vzc2lvbi5nZXRNb2RlKCk7XG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0QmVoYXZpb3Vyc0VuYWJsZWQoKSAmJiAhcGFzdGVkKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gbW9kZS50cmFuc2Zvcm1BY3Rpb24oc2Vzc2lvbi5nZXRTdGF0ZShjdXJzb3Iucm93KSwgJ2luc2VydGlvbicsIHRoaXMsIHNlc3Npb24sIHRleHQpO1xuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0ICE9PSB0cmFuc2Zvcm0udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24ubWVyZ2VVbmRvRGVsdGFzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lcmdlTmV4dENvbW1hbmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRyYW5zZm9ybS50ZXh0O1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICh0ZXh0ID09IFwiXFx0XCIpXG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy5zZXNzaW9uLmdldFRhYlN0cmluZygpO1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICAgICAgY3Vyc29yID0gdGhpcy5zZXNzaW9uLnJlbW92ZShyYW5nZSk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zZXNzaW9uLmdldE92ZXJ3cml0ZSgpKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2UuZnJvbVBvaW50cyhjdXJzb3IsIGN1cnNvcik7XG4gICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uICs9IHRleHQubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZShyYW5nZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGV4dCA9PSBcIlxcblwiIHx8IHRleHQgPT0gXCJcXHJcXG5cIikge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgICAgICBpZiAoY3Vyc29yLmNvbHVtbiA+IGxpbmUuc2VhcmNoKC9cXFN8JC8pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKS5zZWFyY2goL1xcU3wkLyk7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5kb2MucmVtb3ZlSW5MaW5lKGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG5cbiAgICAgICAgdmFyIHN0YXJ0ID0gY3Vyc29yLmNvbHVtbjtcbiAgICAgICAgdmFyIGxpbmVTdGF0ZSA9IHNlc3Npb24uZ2V0U3RhdGUoY3Vyc29yLnJvdyk7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICB2YXIgc2hvdWxkT3V0ZGVudCA9IG1vZGUuY2hlY2tPdXRkZW50KGxpbmVTdGF0ZSwgbGluZSwgdGV4dCk7XG4gICAgICAgIHZhciBlbmQgPSBzZXNzaW9uLmluc2VydChjdXJzb3IsIHRleHQpO1xuXG4gICAgICAgIGlmICh0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtLnNlbGVjdGlvbikge1xuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybS5zZWxlY3Rpb24ubGVuZ3RoID09IDIpIHsgLy8gVHJhbnNmb3JtIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IGNvbHVtblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgUmFuZ2UoY3Vyc29yLnJvdywgc3RhcnQgKyB0cmFuc2Zvcm0uc2VsZWN0aW9uWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnJvdywgc3RhcnQgKyB0cmFuc2Zvcm0uc2VsZWN0aW9uWzFdKSk7XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBUcmFuc2Zvcm0gcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgcm93LlxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgUmFuZ2UoY3Vyc29yLnJvdyArIHRyYW5zZm9ybS5zZWxlY3Rpb25bMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0uc2VsZWN0aW9uWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnJvdyArIHRyYW5zZm9ybS5zZWxlY3Rpb25bMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0uc2VsZWN0aW9uWzNdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Vzc2lvbi5nZXREb2N1bWVudCgpLmlzTmV3TGluZSh0ZXh0KSkge1xuICAgICAgICAgICAgdmFyIGxpbmVJbmRlbnQgPSBtb2RlLmdldE5leHRMaW5lSW5kZW50KGxpbmVTdGF0ZSwgbGluZS5zbGljZSgwLCBjdXJzb3IuY29sdW1uKSwgc2Vzc2lvbi5nZXRUYWJTdHJpbmcoKSk7XG5cbiAgICAgICAgICAgIHNlc3Npb24uaW5zZXJ0KHtyb3c6IGN1cnNvci5yb3crMSwgY29sdW1uOiAwfSwgbGluZUluZGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZE91dGRlbnQpXG4gICAgICAgICAgICBtb2RlLmF1dG9PdXRkZW50KGxpbmVTdGF0ZSwgc2Vzc2lvbiwgY3Vyc29yLnJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMub25UZXh0SW5wdXQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHRoaXMua2V5QmluZGluZy5vblRleHRJbnB1dCh0ZXh0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNvbW1hbmRLZXkgPSBmdW5jdGlvbihlLCBoYXNoSWQsIGtleUNvZGUpIHtcbiAgICAgICAgdGhpcy5rZXlCaW5kaW5nLm9uQ29tbWFuZEtleShlLCBoYXNoSWQsIGtleUNvZGUpO1xuICAgIH07XG4gICAgdGhpcy5zZXRPdmVyd3JpdGUgPSBmdW5jdGlvbihvdmVyd3JpdGUpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldE92ZXJ3cml0ZShvdmVyd3JpdGUpO1xuICAgIH07XG4gICAgdGhpcy5nZXRPdmVyd3JpdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRPdmVyd3JpdGUoKTtcbiAgICB9O1xuICAgIHRoaXMudG9nZ2xlT3ZlcndyaXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi50b2dnbGVPdmVyd3JpdGUoKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2Nyb2xsU3BlZWQgPSBmdW5jdGlvbihzcGVlZCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcInNjcm9sbFNwZWVkXCIsIHNwZWVkKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2Nyb2xsU3BlZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwic2Nyb2xsU3BlZWRcIik7XG4gICAgfTtcbiAgICB0aGlzLnNldERyYWdEZWxheSA9IGZ1bmN0aW9uKGRyYWdEZWxheSkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImRyYWdEZWxheVwiLCBkcmFnRGVsYXkpO1xuICAgIH07XG4gICAgdGhpcy5nZXREcmFnRGVsYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiZHJhZ0RlbGF5XCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTZWxlY3Rpb25TdHlsZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcInNlbGVjdGlvblN0eWxlXCIsIHZhbCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNlbGVjdGlvblN0eWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcInNlbGVjdGlvblN0eWxlXCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRIaWdobGlnaHRBY3RpdmVMaW5lID0gZnVuY3Rpb24oc2hvdWxkSGlnaGxpZ2h0KSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiaGlnaGxpZ2h0QWN0aXZlTGluZVwiLCBzaG91bGRIaWdobGlnaHQpO1xuICAgIH07XG4gICAgdGhpcy5nZXRIaWdobGlnaHRBY3RpdmVMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcImhpZ2hsaWdodEFjdGl2ZUxpbmVcIik7XG4gICAgfTtcbiAgICB0aGlzLnNldEhpZ2hsaWdodEd1dHRlckxpbmUgPSBmdW5jdGlvbihzaG91bGRIaWdobGlnaHQpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJoaWdobGlnaHRHdXR0ZXJMaW5lXCIsIHNob3VsZEhpZ2hsaWdodCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0SGlnaGxpZ2h0R3V0dGVyTGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJoaWdobGlnaHRHdXR0ZXJMaW5lXCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRIaWdobGlnaHRTZWxlY3RlZFdvcmQgPSBmdW5jdGlvbihzaG91bGRIaWdobGlnaHQpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJoaWdobGlnaHRTZWxlY3RlZFdvcmRcIiwgc2hvdWxkSGlnaGxpZ2h0KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0SGlnaGxpZ2h0U2VsZWN0ZWRXb3JkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRoaWdobGlnaHRTZWxlY3RlZFdvcmQ7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0QW5pbWF0ZWRTY3JvbGwgPSBmdW5jdGlvbihzaG91bGRBbmltYXRlKXtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRBbmltYXRlZFNjcm9sbChzaG91bGRBbmltYXRlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRBbmltYXRlZFNjcm9sbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldEFuaW1hdGVkU2Nyb2xsKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFNob3dJbnZpc2libGVzID0gZnVuY3Rpb24oc2hvd0ludmlzaWJsZXMpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaG93SW52aXNpYmxlcyhzaG93SW52aXNpYmxlcyk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNob3dJbnZpc2libGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldFNob3dJbnZpc2libGVzKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0RGlzcGxheUluZGVudEd1aWRlcyA9IGZ1bmN0aW9uKGRpc3BsYXkpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXREaXNwbGF5SW5kZW50R3VpZGVzKGRpc3BsYXkpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldERpc3BsYXlJbmRlbnRHdWlkZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0RGlzcGxheUluZGVudEd1aWRlcygpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTaG93UHJpbnRNYXJnaW4gPSBmdW5jdGlvbihzaG93UHJpbnRNYXJnaW4pIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaG93UHJpbnRNYXJnaW4oc2hvd1ByaW50TWFyZ2luKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2hvd1ByaW50TWFyZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldFNob3dQcmludE1hcmdpbigpO1xuICAgIH07XG4gICAgdGhpcy5zZXRQcmludE1hcmdpbkNvbHVtbiA9IGZ1bmN0aW9uKHNob3dQcmludE1hcmdpbikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFByaW50TWFyZ2luQ29sdW1uKHNob3dQcmludE1hcmdpbik7XG4gICAgfTtcbiAgICB0aGlzLmdldFByaW50TWFyZ2luQ29sdW1uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldFByaW50TWFyZ2luQ29sdW1uKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFJlYWRPbmx5ID0gZnVuY3Rpb24ocmVhZE9ubHkpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJyZWFkT25seVwiLCByZWFkT25seSk7XG4gICAgfTtcbiAgICB0aGlzLmdldFJlYWRPbmx5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcInJlYWRPbmx5XCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRCZWhhdmlvdXJzRW5hYmxlZCA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiYmVoYXZpb3Vyc0VuYWJsZWRcIiwgZW5hYmxlZCk7XG4gICAgfTtcbiAgICB0aGlzLmdldEJlaGF2aW91cnNFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJiZWhhdmlvdXJzRW5hYmxlZFwiKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0V3JhcEJlaGF2aW91cnNFbmFibGVkID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJ3cmFwQmVoYXZpb3Vyc0VuYWJsZWRcIiwgZW5hYmxlZCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFdyYXBCZWhhdmlvdXJzRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwid3JhcEJlaGF2aW91cnNFbmFibGVkXCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTaG93Rm9sZFdpZGdldHMgPSBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwic2hvd0ZvbGRXaWRnZXRzXCIsIHNob3cpO1xuXG4gICAgfTtcbiAgICB0aGlzLmdldFNob3dGb2xkV2lkZ2V0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzaG93Rm9sZFdpZGdldHNcIik7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0RmFkZUZvbGRXaWRnZXRzID0gZnVuY3Rpb24oZmFkZSkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImZhZGVGb2xkV2lkZ2V0c1wiLCBmYWRlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGYWRlRm9sZFdpZGdldHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiZmFkZUZvbGRXaWRnZXRzXCIpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbihkaXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSl7XG4gICAgICAgICAgICBpZiAoZGlyID09IFwibGVmdFwiKVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdExlZnQoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RSaWdodCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBpZiAodGhpcy5nZXRCZWhhdmlvdXJzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHNlc3Npb24uZ2V0U3RhdGUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciBuZXdfcmFuZ2UgPSBzZXNzaW9uLmdldE1vZGUoKS50cmFuc2Zvcm1BY3Rpb24oc3RhdGUsICdkZWxldGlvbicsIHRoaXMsIHNlc3Npb24sIHJhbmdlKTtcblxuICAgICAgICAgICAgaWYgKHJhbmdlLmVuZC5jb2x1bW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dFt0ZXh0Lmxlbmd0aCAtIDFdID09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocmFuZ2UuZW5kLnJvdyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgvXlxccyskLy50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uID0gbGluZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3X3JhbmdlKVxuICAgICAgICAgICAgICAgIHJhbmdlID0gbmV3X3JhbmdlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZShyYW5nZSk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlV29yZFJpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RXb3JkUmlnaHQoKTtcblxuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlV29yZExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdFdvcmRMZWZ0KCk7XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZSh0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkpO1xuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZVRvTGluZVN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RMaW5lU3RhcnQoKTtcblxuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlVG9MaW5lRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RMaW5lRW5kKCk7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQuY29sdW1uID09IHJhbmdlLmVuZC5jb2x1bW4gJiYgcmFuZ2Uuc3RhcnQucm93ID09IHJhbmdlLmVuZC5yb3cpIHtcbiAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gPSAwO1xuICAgICAgICAgICAgcmFuZ2UuZW5kLnJvdysrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZShyYW5nZSk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMuc3BsaXRMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLmluc2VydChcIlxcblwiKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihjdXJzb3IpO1xuICAgIH07XG4gICAgdGhpcy50cmFuc3Bvc2VMZXR0ZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgY29sdW1uID0gY3Vyc29yLmNvbHVtbjtcbiAgICAgICAgaWYgKGNvbHVtbiA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgbGluZSA9IHRoaXMuc2Vzc2lvbi5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICB2YXIgc3dhcCwgcmFuZ2U7XG4gICAgICAgIGlmIChjb2x1bW4gPCBsaW5lLmxlbmd0aCkge1xuICAgICAgICAgICAgc3dhcCA9IGxpbmUuY2hhckF0KGNvbHVtbikgKyBsaW5lLmNoYXJBdChjb2x1bW4tMSk7XG4gICAgICAgICAgICByYW5nZSA9IG5ldyBSYW5nZShjdXJzb3Iucm93LCBjb2x1bW4tMSwgY3Vyc29yLnJvdywgY29sdW1uKzEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dhcCA9IGxpbmUuY2hhckF0KGNvbHVtbi0xKSArIGxpbmUuY2hhckF0KGNvbHVtbi0yKTtcbiAgICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKGN1cnNvci5yb3csIGNvbHVtbi0yLCBjdXJzb3Iucm93LCBjb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZXBsYWNlKHJhbmdlLCBzd2FwKTtcbiAgICB9O1xuICAgIHRoaXMudG9Mb3dlckNhc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsUmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdFdvcmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlcGxhY2UocmFuZ2UsIHRleHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKG9yaWdpbmFsUmFuZ2UpO1xuICAgIH07XG4gICAgdGhpcy50b1VwcGVyQ2FzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3JpZ2luYWxSYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICB0aGlzLnNlc3Npb24ucmVwbGFjZShyYW5nZSwgdGV4dC50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2Uob3JpZ2luYWxSYW5nZSk7XG4gICAgfTtcbiAgICB0aGlzLmluZGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuXG4gICAgICAgIGlmIChyYW5nZS5zdGFydC5yb3cgPCByYW5nZS5lbmQucm93KSB7XG4gICAgICAgICAgICB2YXIgcm93cyA9IHRoaXMuJGdldFNlbGVjdGVkUm93cygpO1xuICAgICAgICAgICAgc2Vzc2lvbi5pbmRlbnRSb3dzKHJvd3MuZmlyc3QsIHJvd3MubGFzdCwgXCJcXHRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAocmFuZ2Uuc3RhcnQuY29sdW1uIDwgcmFuZ2UuZW5kLmNvbHVtbikge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBzZXNzaW9uLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICBpZiAoIS9eXFxzKyQvLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcm93cyA9IHRoaXMuJGdldFNlbGVjdGVkUm93cygpO1xuICAgICAgICAgICAgICAgIHNlc3Npb24uaW5kZW50Um93cyhyb3dzLmZpcnN0LCByb3dzLmxhc3QsIFwiXFx0XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIHZhciBzaXplID0gc2Vzc2lvbi5nZXRUYWJTaXplKCk7XG4gICAgICAgIHZhciBjb2x1bW4gPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Db2x1bW4ocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pO1xuXG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24uZ2V0VXNlU29mdFRhYnMoKSkge1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gKHNpemUgLSBjb2x1bW4gJSBzaXplKTtcbiAgICAgICAgICAgIHZhciBpbmRlbnRTdHJpbmcgPSBsYW5nLnN0cmluZ1JlcGVhdChcIiBcIiwgY291bnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gY29sdW1uICUgc2l6ZTtcbiAgICAgICAgICAgIHdoaWxlIChsaW5lW3JhbmdlLnN0YXJ0LmNvbHVtbl0gPT0gXCIgXCIgJiYgY291bnQpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4tLTtcbiAgICAgICAgICAgICAgICBjb3VudC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgaW5kZW50U3RyaW5nID0gXCJcXHRcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoaW5kZW50U3RyaW5nKTtcbiAgICB9O1xuICAgIHRoaXMuYmxvY2tJbmRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvd3MgPSB0aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmluZGVudFJvd3Mocm93cy5maXJzdCwgcm93cy5sYXN0LCBcIlxcdFwiKTtcbiAgICB9O1xuICAgIHRoaXMuYmxvY2tPdXRkZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnNlc3Npb24uZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5vdXRkZW50Um93cyhzZWxlY3Rpb24uZ2V0UmFuZ2UoKSk7XG4gICAgfTtcbiAgICB0aGlzLnNvcnRMaW5lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93cyA9IHRoaXMuJGdldFNlbGVjdGVkUm93cygpO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcblxuICAgICAgICB2YXIgbGluZXMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gcm93cy5maXJzdDsgaSA8PSByb3dzLmxhc3Q7IGkrKylcbiAgICAgICAgICAgIGxpbmVzLnB1c2goc2Vzc2lvbi5nZXRMaW5lKGkpKTtcblxuICAgICAgICBsaW5lcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChhLnRvTG93ZXJDYXNlKCkgPCBiLnRvTG93ZXJDYXNlKCkpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhLnRvTG93ZXJDYXNlKCkgPiBiLnRvTG93ZXJDYXNlKCkpIHJldHVybiAxO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBkZWxldGVSYW5nZSA9IG5ldyBSYW5nZSgwLCAwLCAwLCAwKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHJvd3MuZmlyc3Q7IGkgPD0gcm93cy5sYXN0OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKGkpO1xuICAgICAgICAgICAgZGVsZXRlUmFuZ2Uuc3RhcnQucm93ID0gaTtcbiAgICAgICAgICAgIGRlbGV0ZVJhbmdlLmVuZC5yb3cgPSBpO1xuICAgICAgICAgICAgZGVsZXRlUmFuZ2UuZW5kLmNvbHVtbiA9IGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgc2Vzc2lvbi5yZXBsYWNlKGRlbGV0ZVJhbmdlLCBsaW5lc1tpLXJvd3MuZmlyc3RdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy50b2dnbGVDb21tZW50TGluZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zZXNzaW9uLmdldFN0YXRlKHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKS5yb3cpO1xuICAgICAgICB2YXIgcm93cyA9IHRoaXMuJGdldFNlbGVjdGVkUm93cygpO1xuICAgICAgICB0aGlzLnNlc3Npb24uZ2V0TW9kZSgpLnRvZ2dsZUNvbW1lbnRMaW5lcyhzdGF0ZSwgdGhpcy5zZXNzaW9uLCByb3dzLmZpcnN0LCByb3dzLmxhc3QpO1xuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZUJsb2NrQ29tbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnNlc3Npb24uZ2V0U3RhdGUoY3Vyc29yLnJvdyk7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmdldE1vZGUoKS50b2dnbGVCbG9ja0NvbW1lbnQoc3RhdGUsIHRoaXMuc2Vzc2lvbiwgcmFuZ2UsIGN1cnNvcik7XG4gICAgfTtcbiAgICB0aGlzLmdldE51bWJlckF0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIF9udW1iZXJSeCA9IC9bXFwtXT9bMC05XSsoPzpcXC5bMC05XSspPy9nO1xuICAgICAgICBfbnVtYmVyUngubGFzdEluZGV4ID0gMDtcblxuICAgICAgICB2YXIgcyA9IHRoaXMuc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHdoaWxlIChfbnVtYmVyUngubGFzdEluZGV4IDwgY29sdW1uKSB7XG4gICAgICAgICAgICB2YXIgbSA9IF9udW1iZXJSeC5leGVjKHMpO1xuICAgICAgICAgICAgaWYobS5pbmRleCA8PSBjb2x1bW4gJiYgbS5pbmRleCttWzBdLmxlbmd0aCA+PSBjb2x1bW4pe1xuICAgICAgICAgICAgICAgIHZhciBudW1iZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtWzBdLFxuICAgICAgICAgICAgICAgICAgICBzdGFydDogbS5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBtLmluZGV4K21bMF0ubGVuZ3RoXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgdGhpcy5tb2RpZnlOdW1iZXIgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMuc2VsZWN0aW9uLmdldEN1cnNvcigpLnJvdztcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMuc2VsZWN0aW9uLmdldEN1cnNvcigpLmNvbHVtbjtcbiAgICAgICAgdmFyIGNoYXJSYW5nZSA9IG5ldyBSYW5nZShyb3csIGNvbHVtbi0xLCByb3csIGNvbHVtbik7XG5cbiAgICAgICAgdmFyIGMgPSB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKGNoYXJSYW5nZSk7XG4gICAgICAgIGlmICghaXNOYU4ocGFyc2VGbG9hdChjKSkgJiYgaXNGaW5pdGUoYykpIHtcbiAgICAgICAgICAgIHZhciBuciA9IHRoaXMuZ2V0TnVtYmVyQXQocm93LCBjb2x1bW4pO1xuICAgICAgICAgICAgaWYgKG5yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZwID0gbnIudmFsdWUuaW5kZXhPZihcIi5cIikgPj0gMCA/IG5yLnN0YXJ0ICsgbnIudmFsdWUuaW5kZXhPZihcIi5cIikgKyAxIDogbnIuZW5kO1xuICAgICAgICAgICAgICAgIHZhciBkZWNpbWFscyA9IG5yLnN0YXJ0ICsgbnIudmFsdWUubGVuZ3RoIC0gZnA7XG5cbiAgICAgICAgICAgICAgICB2YXIgdCA9IHBhcnNlRmxvYXQobnIudmFsdWUpO1xuICAgICAgICAgICAgICAgIHQgKj0gTWF0aC5wb3coMTAsIGRlY2ltYWxzKTtcblxuXG4gICAgICAgICAgICAgICAgaWYoZnAgIT09IG5yLmVuZCAmJiBjb2x1bW4gPCBmcCl7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudCAqPSBNYXRoLnBvdygxMCwgbnIuZW5kIC0gY29sdW1uIC0gMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50ICo9IE1hdGgucG93KDEwLCBuci5lbmQgLSBjb2x1bW4pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHQgKz0gYW1vdW50O1xuICAgICAgICAgICAgICAgIHQgLz0gTWF0aC5wb3coMTAsIGRlY2ltYWxzKTtcbiAgICAgICAgICAgICAgICB2YXIgbm5yID0gdC50b0ZpeGVkKGRlY2ltYWxzKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZVJhbmdlID0gbmV3IFJhbmdlKHJvdywgbnIuc3RhcnQsIHJvdywgbnIuZW5kKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVwbGFjZShyZXBsYWNlUmFuZ2UsIG5ucik7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBNYXRoLm1heChuci5zdGFydCArMSwgY29sdW1uICsgbm5yLmxlbmd0aCAtIG5yLnZhbHVlLmxlbmd0aCkpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlTGluZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvd3MgPSB0aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZUZ1bGxMaW5lcyhyb3dzLmZpcnN0LCByb3dzLmxhc3QpO1xuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZHVwbGljYXRlU2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWwgPSB0aGlzLnNlbGVjdGlvbjtcbiAgICAgICAgdmFyIGRvYyA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHJhbmdlID0gc2VsLmdldFJhbmdlKCk7XG4gICAgICAgIHZhciByZXZlcnNlID0gc2VsLmlzQmFja3dhcmRzKCk7XG4gICAgICAgIGlmIChyYW5nZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhciByb3cgPSByYW5nZS5zdGFydC5yb3c7XG4gICAgICAgICAgICBkb2MuZHVwbGljYXRlTGluZXMocm93LCByb3cpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gcmV2ZXJzZSA/IHJhbmdlLnN0YXJ0IDogcmFuZ2UuZW5kO1xuICAgICAgICAgICAgdmFyIGVuZFBvaW50ID0gZG9jLmluc2VydChwb2ludCwgZG9jLmdldFRleHRSYW5nZShyYW5nZSksIGZhbHNlKTtcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0ID0gcG9pbnQ7XG4gICAgICAgICAgICByYW5nZS5lbmQgPSBlbmRQb2ludDtcblxuICAgICAgICAgICAgc2VsLnNldFNlbGVjdGlvblJhbmdlKHJhbmdlLCByZXZlcnNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5tb3ZlTGluZXNEb3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVMaW5lcygxLCBmYWxzZSk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVMaW5lc1VwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVMaW5lcygtMSwgZmFsc2UpO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlVGV4dCA9IGZ1bmN0aW9uKHJhbmdlLCB0b1Bvc2l0aW9uLCBjb3B5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24ubW92ZVRleHQocmFuZ2UsIHRvUG9zaXRpb24sIGNvcHkpO1xuICAgIH07XG4gICAgdGhpcy5jb3B5TGluZXNVcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlTGluZXMoLTEsIHRydWUpO1xuICAgIH07XG4gICAgdGhpcy5jb3B5TGluZXNEb3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVMaW5lcygxLCB0cnVlKTtcbiAgICB9O1xuICAgIHRoaXMuJG1vdmVMaW5lcyA9IGZ1bmN0aW9uKGRpciwgY29weSkge1xuICAgICAgICB2YXIgcm93cywgbW92ZWQ7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbjtcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24uaW5NdWx0aVNlbGVjdE1vZGUgfHwgdGhpcy5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG4gICAgICAgICAgICByb3dzID0gdGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKHJhbmdlKTtcbiAgICAgICAgICAgIG1vdmVkID0gdGhpcy5zZXNzaW9uLiRtb3ZlTGluZXMocm93cy5maXJzdCwgcm93cy5sYXN0LCBjb3B5ID8gMCA6IGRpcik7XG4gICAgICAgICAgICBpZiAoY29weSAmJiBkaXIgPT0gLTEpIG1vdmVkID0gMDtcbiAgICAgICAgICAgIHJhbmdlLm1vdmVCeShtb3ZlZCwgMCk7XG4gICAgICAgICAgICBzZWxlY3Rpb24uZnJvbU9yaWVudGVkUmFuZ2UocmFuZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHNlbGVjdGlvbi5yYW5nZUxpc3QucmFuZ2VzO1xuICAgICAgICAgICAgc2VsZWN0aW9uLnJhbmdlTGlzdC5kZXRhY2godGhpcy5zZXNzaW9uKTtcbiAgICAgICAgICAgIHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSA9IHRydWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBkaWZmID0gMDtcbiAgICAgICAgICAgIHZhciB0b3RhbERpZmYgPSAwO1xuICAgICAgICAgICAgdmFyIGwgPSByYW5nZXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgcmFuZ2VzW2ldLm1vdmVCeShkaWZmLCAwKTtcbiAgICAgICAgICAgICAgICByb3dzID0gdGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKHJhbmdlc1tpXSk7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0ID0gcm93cy5maXJzdDtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdCA9IHJvd3MubGFzdDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoKytpIDwgbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxEaWZmKSByYW5nZXNbaV0ubW92ZUJ5KHRvdGFsRGlmZiwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJSb3dzID0gdGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKHJhbmdlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3B5ICYmIHN1YlJvd3MuZmlyc3QgIT0gbGFzdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghY29weSAmJiBzdWJSb3dzLmZpcnN0ID4gbGFzdCArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgbGFzdCA9IHN1YlJvd3MubGFzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGRpZmYgPSB0aGlzLnNlc3Npb24uJG1vdmVMaW5lcyhmaXJzdCwgbGFzdCwgY29weSA/IDAgOiBkaXIpO1xuICAgICAgICAgICAgICAgIGlmIChjb3B5ICYmIGRpciA9PSAtMSkgcmFuZ2VJbmRleCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIHdoaWxlIChyYW5nZUluZGV4IDw9IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzW3JhbmdlSW5kZXhdLm1vdmVCeShkaWZmLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VJbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWNvcHkpIGRpZmYgPSAwO1xuICAgICAgICAgICAgICAgIHRvdGFsRGlmZiArPSBkaWZmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZWxlY3Rpb24uZnJvbU9yaWVudGVkUmFuZ2Uoc2VsZWN0aW9uLnJhbmdlc1swXSk7XG4gICAgICAgICAgICBzZWxlY3Rpb24ucmFuZ2VMaXN0LmF0dGFjaCh0aGlzLnNlc3Npb24pO1xuICAgICAgICAgICAgdGhpcy5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuJGdldFNlbGVjdGVkUm93cyA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gKHJhbmdlIHx8IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSkuY29sbGFwc2VSb3dzKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0OiB0aGlzLnNlc3Npb24uZ2V0Um93Rm9sZFN0YXJ0KHJhbmdlLnN0YXJ0LnJvdyksXG4gICAgICAgICAgICBsYXN0OiB0aGlzLnNlc3Npb24uZ2V0Um93Rm9sZEVuZChyYW5nZS5lbmQucm93KVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ29tcG9zaXRpb25TdGFydCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaG93Q29tcG9zaXRpb24odGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNvbXBvc2l0aW9uVXBkYXRlID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENvbXBvc2l0aW9uVGV4dCh0ZXh0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNvbXBvc2l0aW9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuaGlkZUNvbXBvc2l0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLmdldEZpcnN0VmlzaWJsZVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRGaXJzdFZpc2libGVSb3coKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGFzdFZpc2libGVSb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0TGFzdFZpc2libGVSb3coKTtcbiAgICB9O1xuICAgIHRoaXMuaXNSb3dWaXNpYmxlID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHJldHVybiAocm93ID49IHRoaXMuZ2V0Rmlyc3RWaXNpYmxlUm93KCkgJiYgcm93IDw9IHRoaXMuZ2V0TGFzdFZpc2libGVSb3coKSk7XG4gICAgfTtcbiAgICB0aGlzLmlzUm93RnVsbHlWaXNpYmxlID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHJldHVybiAocm93ID49IHRoaXMucmVuZGVyZXIuZ2V0Rmlyc3RGdWxseVZpc2libGVSb3coKSAmJiByb3cgPD0gdGhpcy5yZW5kZXJlci5nZXRMYXN0RnVsbHlWaXNpYmxlUm93KCkpO1xuICAgIH07XG4gICAgdGhpcy4kZ2V0VmlzaWJsZVJvd0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldFNjcm9sbEJvdHRvbVJvdygpIC0gdGhpcy5yZW5kZXJlci5nZXRTY3JvbGxUb3BSb3coKSArIDE7XG4gICAgfTtcblxuICAgIHRoaXMuJG1vdmVCeVBhZ2UgPSBmdW5jdGlvbihkaXIsIHNlbGVjdCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5yZW5kZXJlci5sYXllckNvbmZpZztcbiAgICAgICAgdmFyIHJvd3MgPSBkaXIgKiBNYXRoLmZsb29yKGNvbmZpZy5oZWlnaHQgLyBjb25maWcubGluZUhlaWdodCk7XG5cbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcrKztcbiAgICAgICAgaWYgKHNlbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uJG1vdmVTZWxlY3Rpb24oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JCeShyb3dzLCAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JCeShyb3dzLCAwKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmctLTtcblxuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gcmVuZGVyZXIuc2Nyb2xsVG9wO1xuXG4gICAgICAgIHJlbmRlcmVyLnNjcm9sbEJ5KDAsIHJvd3MgKiBjb25maWcubGluZUhlaWdodCk7XG4gICAgICAgIGlmIChzZWxlY3QgIT0gbnVsbClcbiAgICAgICAgICAgIHJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KG51bGwsIDAuNSk7XG5cbiAgICAgICAgcmVuZGVyZXIuYW5pbWF0ZVNjcm9sbGluZyhzY3JvbGxUb3ApO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RQYWdlRG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlQnlQYWdlKDEsIHRydWUpO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RQYWdlVXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZUJ5UGFnZSgtMSwgdHJ1ZSk7XG4gICAgfTtcbiAgICB0aGlzLmdvdG9QYWdlRG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgIHRoaXMuJG1vdmVCeVBhZ2UoMSwgZmFsc2UpO1xuICAgIH07XG4gICAgdGhpcy5nb3RvUGFnZVVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVCeVBhZ2UoLTEsIGZhbHNlKTtcbiAgICB9O1xuICAgIHRoaXMuc2Nyb2xsUGFnZURvd24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZUJ5UGFnZSgxKTtcbiAgICB9O1xuICAgIHRoaXMuc2Nyb2xsUGFnZVVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVCeVBhZ2UoLTEpO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxUb1JvdyA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbFRvUm93KHJvdyk7XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbFRvTGluZSA9IGZ1bmN0aW9uKGxpbmUsIGNlbnRlciwgYW5pbWF0ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxUb0xpbmUobGluZSwgY2VudGVyLCBhbmltYXRlLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICB0aGlzLmNlbnRlclNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIHZhciBwb3MgPSB7XG4gICAgICAgICAgICByb3c6IE1hdGguZmxvb3IocmFuZ2Uuc3RhcnQucm93ICsgKHJhbmdlLmVuZC5yb3cgLSByYW5nZS5zdGFydC5yb3cpIC8gMiksXG4gICAgICAgICAgICBjb2x1bW46IE1hdGguZmxvb3IocmFuZ2Uuc3RhcnQuY29sdW1uICsgKHJhbmdlLmVuZC5jb2x1bW4gLSByYW5nZS5zdGFydC5jb2x1bW4pIC8gMilcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5hbGlnbkN1cnNvcihwb3MsIDAuNSk7XG4gICAgfTtcbiAgICB0aGlzLmdldEN1cnNvclBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb25TY3JlZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdEFsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZyArPSAxO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RBbGwoKTtcbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgLT0gMTtcbiAgICB9O1xuICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvclRvID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvclRvKHJvdywgY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvclRvUG9zaXRpb24gPSBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvclRvUG9zaXRpb24ocG9zKTtcbiAgICB9O1xuICAgIHRoaXMuanVtcFRvTWF0Y2hpbmcgPSBmdW5jdGlvbihzZWxlY3QsIGV4cGFuZCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcih0aGlzLnNlc3Npb24sIGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4pO1xuICAgICAgICB2YXIgcHJldlRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG4gICAgICAgIHZhciB0b2tlbiA9IHByZXZUb2tlbiB8fCBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuXG4gICAgICAgIGlmICghdG9rZW4pIHJldHVybjtcbiAgICAgICAgdmFyIG1hdGNoVHlwZTtcbiAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgIHZhciBkZXB0aCA9IHt9O1xuICAgICAgICB2YXIgaSA9IGN1cnNvci5jb2x1bW4gLSB0b2tlbi5zdGFydDtcbiAgICAgICAgdmFyIGJyYWNrZXRUeXBlO1xuICAgICAgICB2YXIgYnJhY2tldHMgPSB7XG4gICAgICAgICAgICBcIilcIjogXCIoXCIsXG4gICAgICAgICAgICBcIihcIjogXCIoXCIsXG4gICAgICAgICAgICBcIl1cIjogXCJbXCIsXG4gICAgICAgICAgICBcIltcIjogXCJbXCIsXG4gICAgICAgICAgICBcIntcIjogXCJ7XCIsXG4gICAgICAgICAgICBcIn1cIjogXCJ7XCJcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZS5tYXRjaCgvW3t9KClcXFtcXF1dL2cpKSB7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCB0b2tlbi52YWx1ZS5sZW5ndGggJiYgIWZvdW5kOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFicmFja2V0c1t0b2tlbi52YWx1ZVtpXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYnJhY2tldFR5cGUgPSBicmFja2V0c1t0b2tlbi52YWx1ZVtpXV0gKyAnLicgKyB0b2tlbi50eXBlLnJlcGxhY2UoXCJycGFyZW5cIiwgXCJscGFyZW5cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGRlcHRoW2JyYWNrZXRUeXBlXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRoW2JyYWNrZXRUeXBlXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcoJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1snOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGhbYnJhY2tldFR5cGVdKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcpJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnfSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGhbYnJhY2tldFR5cGVdLS07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGhbYnJhY2tldFR5cGVdID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFR5cGUgPSAnYnJhY2tldCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuICYmIHRva2VuLnR5cGUuaW5kZXhPZigndGFnLW5hbWUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZGVwdGhbdG9rZW4udmFsdWVdKSkge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aFt0b2tlbi52YWx1ZV0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAocHJldlRva2VuLnZhbHVlID09PSAnPCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhbdG9rZW4udmFsdWVdKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByZXZUb2tlbi52YWx1ZSA9PT0gJzwvJykge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aFt0b2tlbi52YWx1ZV0tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGRlcHRoW3Rva2VuLnZhbHVlXSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hUeXBlID0gJ3RhZyc7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICBwcmV2VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRva2VuICYmICFmb3VuZCk7XG4gICAgICAgIGlmICghbWF0Y2hUeXBlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByYW5nZSwgcG9zO1xuICAgICAgICBpZiAobWF0Y2hUeXBlID09PSAnYnJhY2tldCcpIHtcbiAgICAgICAgICAgIHJhbmdlID0gdGhpcy5zZXNzaW9uLmdldEJyYWNrZXRSYW5nZShjdXJzb3IpO1xuICAgICAgICAgICAgaWYgKCFyYW5nZSkge1xuICAgICAgICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKFxuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Sb3coKSxcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgKyBpIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCksXG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpICsgaSAtIDFcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHBvcyA9IHJhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgICAgIGlmIChleHBhbmQgfHwgcG9zLnJvdyA9PT0gY3Vyc29yLnJvdyAmJiBNYXRoLmFicyhwb3MuY29sdW1uIC0gY3Vyc29yLmNvbHVtbikgPCAyKVxuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHRoaXMuc2Vzc2lvbi5nZXRCcmFja2V0UmFuZ2UocG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXRjaFR5cGUgPT09ICd0YWcnKSB7XG4gICAgICAgICAgICBpZiAodG9rZW4gJiYgdG9rZW4udHlwZS5pbmRleE9mKCd0YWctbmFtZScpICE9PSAtMSkgXG4gICAgICAgICAgICAgICAgdmFyIHRhZyA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UoXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCksXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgLSAyLFxuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpLFxuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpIC0gMlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5jb21wYXJlKGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gcHJldlRva2VuO1xuICAgICAgICAgICAgICAgICAgICBwcmV2VG9rZW4gPSBpdGVyYXRvci5zdGVwQmFja3dhcmQoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2VG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2VG9rZW4udHlwZS5pbmRleE9mKCd0YWctY2xvc2UnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQoaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCksIGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PT0gdGFnICYmIHRva2VuLnR5cGUuaW5kZXhPZigndGFnLW5hbWUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldlRva2VuLnZhbHVlID09PSAnPCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGhbdGFnXSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmV2VG9rZW4udmFsdWUgPT09ICc8LycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGhbdGFnXS0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGhbdGFnXSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAocHJldlRva2VuICYmICFmb3VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9rZW4gJiYgdG9rZW4udHlwZS5pbmRleE9mKCd0YWctbmFtZScpKSB7XG4gICAgICAgICAgICAgICAgcG9zID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgICAgICAgICAgaWYgKHBvcy5yb3cgPT0gY3Vyc29yLnJvdyAmJiBNYXRoLmFicyhwb3MuY29sdW1uIC0gY3Vyc29yLmNvbHVtbikgPCAyKVxuICAgICAgICAgICAgICAgICAgICBwb3MgPSByYW5nZS5lbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwb3MgPSByYW5nZSAmJiByYW5nZS5jdXJzb3IgfHwgcG9zO1xuICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlICYmIGV4cGFuZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyYW5nZSAmJiByYW5nZS5pc0VxdWFsKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdFRvKHBvcy5yb3csIHBvcy5jb2x1bW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZVRvKHBvcy5yb3csIHBvcy5jb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdvdG9MaW5lID0gZnVuY3Rpb24obGluZU51bWJlciwgY29sdW1uLCBhbmltYXRlKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi51bmZvbGQoe3JvdzogbGluZU51bWJlciAtIDEsIGNvbHVtbjogY29sdW1uIHx8IDB9KTtcblxuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZyArPSAxO1xuICAgICAgICB0aGlzLmV4aXRNdWx0aVNlbGVjdE1vZGUgJiYgdGhpcy5leGl0TXVsdGlTZWxlY3RNb2RlKCk7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGxpbmVOdW1iZXIgLSAxLCBjb2x1bW4gfHwgMCk7XG4gICAgICAgIHRoaXMuJGJsb2NrU2Nyb2xsaW5nIC09IDE7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzUm93RnVsbHlWaXNpYmxlKGxpbmVOdW1iZXIgLSAxKSlcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9MaW5lKGxpbmVOdW1iZXIgLSAxLCB0cnVlLCBhbmltYXRlKTtcbiAgICB9O1xuICAgIHRoaXMubmF2aWdhdGVUbyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVUbyhyb3csIGNvbHVtbik7XG4gICAgfTtcbiAgICB0aGlzLm5hdmlnYXRlVXAgPSBmdW5jdGlvbih0aW1lcykge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNNdWx0aUxpbmUoKSAmJiAhdGhpcy5zZWxlY3Rpb24uaXNCYWNrd2FyZHMoKSkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gdGhpcy5zZWxlY3Rpb24uYW5jaG9yLmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihzZWxlY3Rpb25TdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckJ5KC10aW1lcyB8fCAtMSwgMCk7XG4gICAgfTtcbiAgICB0aGlzLm5hdmlnYXRlRG93biA9IGZ1bmN0aW9uKHRpbWVzKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5pc011bHRpTGluZSgpICYmIHRoaXMuc2VsZWN0aW9uLmlzQmFja3dhcmRzKCkpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvbi5hbmNob3IuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHNlbGVjdGlvbkVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckJ5KHRpbWVzIHx8IDEsIDApO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZUxlZnQgPSBmdW5jdGlvbih0aW1lcykge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpLnN0YXJ0O1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihzZWxlY3Rpb25TdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aW1lcyA9IHRpbWVzIHx8IDE7XG4gICAgICAgICAgICB3aGlsZSAodGltZXMtLSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JMZWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZVJpZ2h0ID0gZnVuY3Rpb24odGltZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkuZW5kO1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihzZWxlY3Rpb25FbmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGltZXMgPSB0aW1lcyB8fCAxO1xuICAgICAgICAgICAgd2hpbGUgKHRpbWVzLS0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yUmlnaHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLm5hdmlnYXRlTGluZVN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JMaW5lU3RhcnQoKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZUxpbmVFbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckxpbmVFbmQoKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZUZpbGVFbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckZpbGVFbmQoKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZUZpbGVTdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yRmlsZVN0YXJ0KCk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMubmF2aWdhdGVXb3JkUmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvcldvcmRSaWdodCgpO1xuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLm5hdmlnYXRlV29yZExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvcldvcmRMZWZ0KCk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMucmVwbGFjZSA9IGZ1bmN0aW9uKHJlcGxhY2VtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zKVxuICAgICAgICAgICAgdGhpcy4kc2VhcmNoLnNldChvcHRpb25zKTtcblxuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLiRzZWFyY2guZmluZCh0aGlzLnNlc3Npb24pO1xuICAgICAgICB2YXIgcmVwbGFjZWQgPSAwO1xuICAgICAgICBpZiAoIXJhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VkO1xuXG4gICAgICAgIGlmICh0aGlzLiR0cnlSZXBsYWNlKHJhbmdlLCByZXBsYWNlbWVudCkpIHtcbiAgICAgICAgICAgIHJlcGxhY2VkID0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmFuZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVwbGFjZWQ7XG4gICAgfTtcbiAgICB0aGlzLnJlcGxhY2VBbGwgPSBmdW5jdGlvbihyZXBsYWNlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy4kc2VhcmNoLnNldChvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByYW5nZXMgPSB0aGlzLiRzZWFyY2guZmluZEFsbCh0aGlzLnNlc3Npb24pO1xuICAgICAgICB2YXIgcmVwbGFjZWQgPSAwO1xuICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gcmVwbGFjZWQ7XG5cbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgKz0gMTtcblxuICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlVG8oMCwgMCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgaWYodGhpcy4kdHJ5UmVwbGFjZShyYW5nZXNbaV0sIHJlcGxhY2VtZW50KSkge1xuICAgICAgICAgICAgICAgIHJlcGxhY2VkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZyAtPSAxO1xuXG4gICAgICAgIHJldHVybiByZXBsYWNlZDtcbiAgICB9O1xuXG4gICAgdGhpcy4kdHJ5UmVwbGFjZSA9IGZ1bmN0aW9uKHJhbmdlLCByZXBsYWNlbWVudCkge1xuICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgcmVwbGFjZW1lbnQgPSB0aGlzLiRzZWFyY2gucmVwbGFjZShpbnB1dCwgcmVwbGFjZW1lbnQpO1xuICAgICAgICBpZiAocmVwbGFjZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJhbmdlLmVuZCA9IHRoaXMuc2Vzc2lvbi5yZXBsYWNlKHJhbmdlLCByZXBsYWNlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRMYXN0U2VhcmNoT3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kc2VhcmNoLmdldE9wdGlvbnMoKTtcbiAgICB9O1xuICAgIHRoaXMuZmluZCA9IGZ1bmN0aW9uKG5lZWRsZSwgb3B0aW9ucywgYW5pbWF0ZSkge1xuICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICBvcHRpb25zID0ge307XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuZWVkbGUgPT0gXCJzdHJpbmdcIiB8fCBuZWVkbGUgaW5zdGFuY2VvZiBSZWdFeHApXG4gICAgICAgICAgICBvcHRpb25zLm5lZWRsZSA9IG5lZWRsZTtcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG5lZWRsZSA9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgb29wLm1peGluKG9wdGlvbnMsIG5lZWRsZSk7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMubmVlZGxlID09IG51bGwpIHtcbiAgICAgICAgICAgIG5lZWRsZSA9IHRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2UpXG4gICAgICAgICAgICAgICAgfHwgdGhpcy4kc2VhcmNoLiRvcHRpb25zLm5lZWRsZTtcbiAgICAgICAgICAgIGlmICghbmVlZGxlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLnNlc3Npb24uZ2V0V29yZFJhbmdlKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICBuZWVkbGUgPSB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuJHNlYXJjaC5zZXQoe25lZWRsZTogbmVlZGxlfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRzZWFyY2guc2V0KG9wdGlvbnMpO1xuICAgICAgICBpZiAoIW9wdGlvbnMuc3RhcnQpXG4gICAgICAgICAgICB0aGlzLiRzZWFyY2guc2V0KHtzdGFydDogcmFuZ2V9KTtcblxuICAgICAgICB2YXIgbmV3UmFuZ2UgPSB0aGlzLiRzZWFyY2guZmluZCh0aGlzLnNlc3Npb24pO1xuICAgICAgICBpZiAob3B0aW9ucy5wcmV2ZW50U2Nyb2xsKVxuICAgICAgICAgICAgcmV0dXJuIG5ld1JhbmdlO1xuICAgICAgICBpZiAobmV3UmFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucmV2ZWFsUmFuZ2UobmV3UmFuZ2UsIGFuaW1hdGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1JhbmdlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmJhY2t3YXJkcylcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0ID0gcmFuZ2UuZW5kO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByYW5nZS5lbmQgPSByYW5nZS5zdGFydDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0UmFuZ2UocmFuZ2UpO1xuICAgIH07XG4gICAgdGhpcy5maW5kTmV4dCA9IGZ1bmN0aW9uKG9wdGlvbnMsIGFuaW1hdGUpIHtcbiAgICAgICAgdGhpcy5maW5kKHtza2lwQ3VycmVudDogdHJ1ZSwgYmFja3dhcmRzOiBmYWxzZX0sIG9wdGlvbnMsIGFuaW1hdGUpO1xuICAgIH07XG4gICAgdGhpcy5maW5kUHJldmlvdXMgPSBmdW5jdGlvbihvcHRpb25zLCBhbmltYXRlKSB7XG4gICAgICAgIHRoaXMuZmluZChvcHRpb25zLCB7c2tpcEN1cnJlbnQ6IHRydWUsIGJhY2t3YXJkczogdHJ1ZX0sIGFuaW1hdGUpO1xuICAgIH07XG5cbiAgICB0aGlzLnJldmVhbFJhbmdlID0gZnVuY3Rpb24ocmFuZ2UsIGFuaW1hdGUpIHtcbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgKz0gMTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnVuZm9sZChyYW5nZSk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKHJhbmdlKTtcbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgLT0gMTtcblxuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5yZW5kZXJlci5zY3JvbGxUb3A7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCwgMC41KTtcbiAgICAgICAgaWYgKGFuaW1hdGUgIT09IGZhbHNlKVxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hbmltYXRlU2Nyb2xsaW5nKHNjcm9sbFRvcCk7XG4gICAgfTtcbiAgICB0aGlzLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcrKztcbiAgICAgICAgdGhpcy5zZXNzaW9uLmdldFVuZG9NYW5hZ2VyKCkudW5kbygpO1xuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZy0tO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KG51bGwsIDAuNSk7XG4gICAgfTtcbiAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcrKztcbiAgICAgICAgdGhpcy5zZXNzaW9uLmdldFVuZG9NYW5hZ2VyKCkucmVkbygpO1xuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZy0tO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KG51bGwsIDAuNSk7XG4gICAgfTtcbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImRlc3Ryb3lcIiwgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc2V0QXV0b1Njcm9sbEVkaXRvckludG9WaWV3ID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gICAgICAgIGlmICghZW5hYmxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgcmVjdDtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgc2hvdWxkU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy4kc2Nyb2xsQW5jaG9yKVxuICAgICAgICAgICAgdGhpcy4kc2Nyb2xsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdmFyIHNjcm9sbEFuY2hvciA9IHRoaXMuJHNjcm9sbEFuY2hvcjtcbiAgICAgICAgc2Nyb2xsQW5jaG9yLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlXCI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmluc2VydEJlZm9yZShzY3JvbGxBbmNob3IsIHRoaXMuY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB2YXIgb25DaGFuZ2VTZWxlY3Rpb24gPSB0aGlzLm9uKFwiY2hhbmdlU2VsZWN0aW9uXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2hvdWxkU2Nyb2xsID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBvbkJlZm9yZVJlbmRlciA9IHRoaXMucmVuZGVyZXIub24oXCJiZWZvcmVSZW5kZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkU2Nyb2xsKVxuICAgICAgICAgICAgICAgIHJlY3QgPSBzZWxmLnJlbmRlcmVyLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBvbkFmdGVyUmVuZGVyID0gdGhpcy5yZW5kZXJlci5vbihcImFmdGVyUmVuZGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNob3VsZFNjcm9sbCAmJiByZWN0ICYmIChzZWxmLmlzRm9jdXNlZCgpXG4gICAgICAgICAgICAgICAgfHwgc2VsZi5zZWFyY2hCb3ggJiYgc2VsZi5zZWFyY2hCb3guaXNGb2N1c2VkKCkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBzZWxmLnJlbmRlcmVyO1xuICAgICAgICAgICAgICAgIHZhciBwb3MgPSByZW5kZXJlci4kY3Vyc29yTGF5ZXIuJHBpeGVsUG9zO1xuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSByZW5kZXJlci5sYXllckNvbmZpZztcbiAgICAgICAgICAgICAgICB2YXIgdG9wID0gcG9zLnRvcCAtIGNvbmZpZy5vZmZzZXQ7XG4gICAgICAgICAgICAgICAgaWYgKHBvcy50b3AgPj0gMCAmJiB0b3AgKyByZWN0LnRvcCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkU2Nyb2xsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBvcy50b3AgPCBjb25maWcuaGVpZ2h0ICYmXG4gICAgICAgICAgICAgICAgICAgIHBvcy50b3AgKyByZWN0LnRvcCArIGNvbmZpZy5saW5lSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNjcm9sbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNjcm9sbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTY3JvbGwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbmNob3Iuc3R5bGUudG9wID0gdG9wICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbmNob3Iuc3R5bGUubGVmdCA9IHBvcy5sZWZ0ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbmNob3Iuc3R5bGUuaGVpZ2h0ID0gY29uZmlnLmxpbmVIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbEFuY2hvci5zY3JvbGxJbnRvVmlldyhzaG91bGRTY3JvbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaG91bGRTY3JvbGwgPSByZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0QXV0b1Njcm9sbEVkaXRvckludG9WaWV3ID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gICAgICAgICAgICBpZiAoZW5hYmxlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldztcbiAgICAgICAgICAgIHRoaXMub2ZmKFwiY2hhbmdlU2VsZWN0aW9uXCIsIG9uQ2hhbmdlU2VsZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKFwiYWZ0ZXJSZW5kZXJcIiwgb25BZnRlclJlbmRlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZihcImJlZm9yZVJlbmRlclwiLCBvbkJlZm9yZVJlbmRlcik7XG4gICAgICAgIH07XG4gICAgfTtcblxuXG4gICAgdGhpcy4kcmVzZXRDdXJzb3JTdHlsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLiRjdXJzb3JTdHlsZSB8fCBcImFjZVwiO1xuICAgICAgICB2YXIgY3Vyc29yTGF5ZXIgPSB0aGlzLnJlbmRlcmVyLiRjdXJzb3JMYXllcjtcbiAgICAgICAgaWYgKCFjdXJzb3JMYXllcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY3Vyc29yTGF5ZXIuc2V0U21vb3RoQmxpbmtpbmcoL3Ntb290aC8udGVzdChzdHlsZSkpO1xuICAgICAgICBjdXJzb3JMYXllci5pc0JsaW5raW5nID0gIXRoaXMuJHJlYWRPbmx5ICYmIHN0eWxlICE9IFwid2lkZVwiO1xuICAgICAgICBkb20uc2V0Q3NzQ2xhc3MoY3Vyc29yTGF5ZXIuZWxlbWVudCwgXCJhY2Vfc2xpbS1jdXJzb3JzXCIsIC9zbGltLy50ZXN0KHN0eWxlKSk7XG4gICAgfTtcblxufSkuY2FsbChFZGl0b3IucHJvdG90eXBlKTtcblxuXG5cbmNvbmZpZy5kZWZpbmVPcHRpb25zKEVkaXRvci5wcm90b3R5cGUsIFwiZWRpdG9yXCIsIHtcbiAgICBzZWxlY3Rpb25TdHlsZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VTZWxlY3Rpb25TdHlsZVwiLCB7ZGF0YTogc3R5bGV9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiBcImxpbmVcIlxuICAgIH0sXG4gICAgaGlnaGxpZ2h0QWN0aXZlTGluZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkge3RoaXMuJHVwZGF0ZUhpZ2hsaWdodEFjdGl2ZUxpbmUoKTt9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IHRydWVcbiAgICB9LFxuICAgIGhpZ2hsaWdodFNlbGVjdGVkV29yZDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHNob3VsZEhpZ2hsaWdodCkge3RoaXMuJG9uU2VsZWN0aW9uQ2hhbmdlKCk7fSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiB0cnVlXG4gICAgfSxcbiAgICByZWFkT25seToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHJlYWRPbmx5KSB7XG4gICAgICAgICAgICB0aGlzLiRyZXNldEN1cnNvclN0eWxlKCk7IFxuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBjdXJzb3JTdHlsZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkgeyB0aGlzLiRyZXNldEN1cnNvclN0eWxlKCk7IH0sXG4gICAgICAgIHZhbHVlczogW1wiYWNlXCIsIFwic2xpbVwiLCBcInNtb290aFwiLCBcIndpZGVcIl0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogXCJhY2VcIlxuICAgIH0sXG4gICAgbWVyZ2VVbmRvRGVsdGFzOiB7XG4gICAgICAgIHZhbHVlczogW2ZhbHNlLCB0cnVlLCBcImFsd2F5c1wiXSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiB0cnVlXG4gICAgfSxcbiAgICBiZWhhdmlvdXJzRW5hYmxlZDoge2luaXRpYWxWYWx1ZTogdHJ1ZX0sXG4gICAgd3JhcEJlaGF2aW91cnNFbmFibGVkOiB7aW5pdGlhbFZhbHVlOiB0cnVlfSxcbiAgICBhdXRvU2Nyb2xsRWRpdG9ySW50b1ZpZXc6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHt0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldyh2YWwpfVxuICAgIH0sXG4gICAga2V5Ym9hcmRIYW5kbGVyOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7IHRoaXMuc2V0S2V5Ym9hcmRIYW5kbGVyKHZhbCk7IH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmtleWJpbmRpbmdJZDsgfSxcbiAgICAgICAgaGFuZGxlc1NldDogdHJ1ZVxuICAgIH0sXG5cbiAgICBoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZTogXCJyZW5kZXJlclwiLFxuICAgIHZTY3JvbGxCYXJBbHdheXNWaXNpYmxlOiBcInJlbmRlcmVyXCIsXG4gICAgaGlnaGxpZ2h0R3V0dGVyTGluZTogXCJyZW5kZXJlclwiLFxuICAgIGFuaW1hdGVkU2Nyb2xsOiBcInJlbmRlcmVyXCIsXG4gICAgc2hvd0ludmlzaWJsZXM6IFwicmVuZGVyZXJcIixcbiAgICBzaG93UHJpbnRNYXJnaW46IFwicmVuZGVyZXJcIixcbiAgICBwcmludE1hcmdpbkNvbHVtbjogXCJyZW5kZXJlclwiLFxuICAgIHByaW50TWFyZ2luOiBcInJlbmRlcmVyXCIsXG4gICAgZmFkZUZvbGRXaWRnZXRzOiBcInJlbmRlcmVyXCIsXG4gICAgc2hvd0ZvbGRXaWRnZXRzOiBcInJlbmRlcmVyXCIsXG4gICAgc2hvd0xpbmVOdW1iZXJzOiBcInJlbmRlcmVyXCIsXG4gICAgc2hvd0d1dHRlcjogXCJyZW5kZXJlclwiLFxuICAgIGRpc3BsYXlJbmRlbnRHdWlkZXM6IFwicmVuZGVyZXJcIixcbiAgICBmb250U2l6ZTogXCJyZW5kZXJlclwiLFxuICAgIGZvbnRGYW1pbHk6IFwicmVuZGVyZXJcIixcbiAgICBtYXhMaW5lczogXCJyZW5kZXJlclwiLFxuICAgIG1pbkxpbmVzOiBcInJlbmRlcmVyXCIsXG4gICAgc2Nyb2xsUGFzdEVuZDogXCJyZW5kZXJlclwiLFxuICAgIGZpeGVkV2lkdGhHdXR0ZXI6IFwicmVuZGVyZXJcIixcbiAgICB0aGVtZTogXCJyZW5kZXJlclwiLFxuXG4gICAgc2Nyb2xsU3BlZWQ6IFwiJG1vdXNlSGFuZGxlclwiLFxuICAgIGRyYWdEZWxheTogXCIkbW91c2VIYW5kbGVyXCIsXG4gICAgZHJhZ0VuYWJsZWQ6IFwiJG1vdXNlSGFuZGxlclwiLFxuICAgIGZvY3VzVGltb3V0OiBcIiRtb3VzZUhhbmRsZXJcIixcbiAgICB0b29sdGlwRm9sbG93c01vdXNlOiBcIiRtb3VzZUhhbmRsZXJcIixcblxuICAgIGZpcnN0TGluZU51bWJlcjogXCJzZXNzaW9uXCIsXG4gICAgb3ZlcndyaXRlOiBcInNlc3Npb25cIixcbiAgICBuZXdMaW5lTW9kZTogXCJzZXNzaW9uXCIsXG4gICAgdXNlV29ya2VyOiBcInNlc3Npb25cIixcbiAgICB1c2VTb2Z0VGFiczogXCJzZXNzaW9uXCIsXG4gICAgdGFiU2l6ZTogXCJzZXNzaW9uXCIsXG4gICAgd3JhcDogXCJzZXNzaW9uXCIsXG4gICAgaW5kZW50ZWRTb2Z0V3JhcDogXCJzZXNzaW9uXCIsXG4gICAgZm9sZFN0eWxlOiBcInNlc3Npb25cIixcbiAgICBtb2RlOiBcInNlc3Npb25cIlxufSk7XG5cbmV4cG9ydHMuRWRpdG9yID0gRWRpdG9yO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvdW5kb21hbmFnZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xudmFyIFVuZG9NYW5hZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZXNldCgpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZXhlY3V0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlbHRhU2V0cyA9IG9wdGlvbnMuYXJnc1swXTtcbiAgICAgICAgdGhpcy4kZG9jICA9IG9wdGlvbnMuYXJnc1sxXTtcbiAgICAgICAgaWYgKG9wdGlvbnMubWVyZ2UgJiYgdGhpcy5oYXNVbmRvKCkpe1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUNvdW50ZXItLTtcbiAgICAgICAgICAgIGRlbHRhU2V0cyA9IHRoaXMuJHVuZG9TdGFjay5wb3AoKS5jb25jYXQoZGVsdGFTZXRzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiR1bmRvU3RhY2sucHVzaChkZWx0YVNldHMpO1xuICAgICAgICB0aGlzLiRyZWRvU3RhY2sgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHlDb3VudGVyIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUNvdW50ZXIgPSBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXJ0eUNvdW50ZXIrKztcbiAgICB9O1xuICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKGRvbnRTZWxlY3QpIHtcbiAgICAgICAgdmFyIGRlbHRhU2V0cyA9IHRoaXMuJHVuZG9TdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIHVuZG9TZWxlY3Rpb25SYW5nZSA9IG51bGw7XG4gICAgICAgIGlmIChkZWx0YVNldHMpIHtcbiAgICAgICAgICAgIHVuZG9TZWxlY3Rpb25SYW5nZSA9IHRoaXMuJGRvYy51bmRvQ2hhbmdlcyhkZWx0YVNldHMsIGRvbnRTZWxlY3QpO1xuICAgICAgICAgICAgdGhpcy4kcmVkb1N0YWNrLnB1c2goZGVsdGFTZXRzKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHlDb3VudGVyLS07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kb1NlbGVjdGlvblJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5yZWRvID0gZnVuY3Rpb24oZG9udFNlbGVjdCkge1xuICAgICAgICB2YXIgZGVsdGFTZXRzID0gdGhpcy4kcmVkb1N0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgcmVkb1NlbGVjdGlvblJhbmdlID0gbnVsbDtcbiAgICAgICAgaWYgKGRlbHRhU2V0cykge1xuICAgICAgICAgICAgcmVkb1NlbGVjdGlvblJhbmdlID1cbiAgICAgICAgICAgICAgICB0aGlzLiRkb2MucmVkb0NoYW5nZXModGhpcy4kZGVzZXJpYWxpemVEZWx0YXMoZGVsdGFTZXRzKSwgZG9udFNlbGVjdCk7XG4gICAgICAgICAgICB0aGlzLiR1bmRvU3RhY2sucHVzaChkZWx0YVNldHMpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUNvdW50ZXIrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVkb1NlbGVjdGlvblJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiR1bmRvU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy4kcmVkb1N0YWNrID0gW107XG4gICAgICAgIHRoaXMuZGlydHlDb3VudGVyID0gMDtcbiAgICB9O1xuICAgIHRoaXMuaGFzVW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kdW5kb1N0YWNrLmxlbmd0aCA+IDA7XG4gICAgfTtcbiAgICB0aGlzLmhhc1JlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHJlZG9TdGFjay5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgdGhpcy5tYXJrQ2xlYW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5kaXJ0eUNvdW50ZXIgPSAwO1xuICAgIH07XG4gICAgdGhpcy5pc0NsZWFuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpcnR5Q291bnRlciA9PT0gMDtcbiAgICB9O1xuICAgIHRoaXMuJHNlcmlhbGl6ZURlbHRhcyA9IGZ1bmN0aW9uKGRlbHRhU2V0cykge1xuICAgICAgICByZXR1cm4gY2xvbmVEZWx0YVNldHNPYmooZGVsdGFTZXRzLCAkc2VyaWFsaXplRGVsdGEpO1xuICAgIH07XG4gICAgdGhpcy4kZGVzZXJpYWxpemVEZWx0YXMgPSBmdW5jdGlvbihkZWx0YVNldHMpIHtcbiAgICAgICAgcmV0dXJuIGNsb25lRGVsdGFTZXRzT2JqKGRlbHRhU2V0cywgJGRlc2VyaWFsaXplRGVsdGEpO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gJHNlcmlhbGl6ZURlbHRhKGRlbHRhKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjdGlvbjogZGVsdGEuYWN0aW9uLFxuICAgICAgICAgICAgc3RhcnQ6IGRlbHRhLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBkZWx0YS5lbmQsXG4gICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMubGVuZ3RoID09IDEgPyBudWxsIDogZGVsdGEubGluZXMsXG4gICAgICAgICAgICB0ZXh0OiBkZWx0YS5saW5lcy5sZW5ndGggPT0gMSA/IGRlbHRhLmxpbmVzWzBdIDogbnVsbFxuICAgICAgICB9O1xuICAgIH1cbiAgICAgICAgXG4gICAgZnVuY3Rpb24gJGRlc2VyaWFsaXplRGVsdGEoZGVsdGEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjdGlvbjogZGVsdGEuYWN0aW9uLFxuICAgICAgICAgICAgc3RhcnQ6IGRlbHRhLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBkZWx0YS5lbmQsXG4gICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMgfHwgW2RlbHRhLnRleHRdXG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGNsb25lRGVsdGFTZXRzT2JqKGRlbHRhU2V0c19vbGQsIGZuR2V0TW9kaWZpZWREZWx0YSkge1xuICAgICAgICB2YXIgZGVsdGFTZXRzX25ldyA9IG5ldyBBcnJheShkZWx0YVNldHNfb2xkLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsdGFTZXRzX29sZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRlbHRhU2V0X29sZCA9IGRlbHRhU2V0c19vbGRbaV07XG4gICAgICAgICAgICB2YXIgZGVsdGFTZXRfbmV3ID0geyBncm91cDogZGVsdGFTZXRfb2xkLmdyb3VwLCBkZWx0YXM6IG5ldyBBcnJheShkZWx0YVNldF9vbGQubGVuZ3RoKX07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGVsdGFTZXRfb2xkLmRlbHRhcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YV9vbGQgPSBkZWx0YVNldF9vbGQuZGVsdGFzW2pdO1xuICAgICAgICAgICAgICAgIGRlbHRhU2V0X25ldy5kZWx0YXNbal0gPSBmbkdldE1vZGlmaWVkRGVsdGEoZGVsdGFfb2xkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZGVsdGFTZXRzX25ld1tpXSA9IGRlbHRhU2V0X25ldztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVsdGFTZXRzX25ldztcbiAgICB9XG4gICAgXG59KS5jYWxsKFVuZG9NYW5hZ2VyLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuVW5kb01hbmFnZXIgPSBVbmRvTWFuYWdlcjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xheWVyL2d1dHRlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4uL2xpYi9sYW5nXCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xuXG52YXIgR3V0dGVyID0gZnVuY3Rpb24ocGFyZW50RWwpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2VfbGF5ZXIgYWNlX2d1dHRlci1sYXllclwiO1xuICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgdGhpcy5zZXRTaG93Rm9sZFdpZGdldHModGhpcy4kc2hvd0ZvbGRXaWRnZXRzKTtcbiAgICBcbiAgICB0aGlzLmd1dHRlcldpZHRoID0gMDtcblxuICAgIHRoaXMuJGFubm90YXRpb25zID0gW107XG4gICAgdGhpcy4kdXBkYXRlQW5ub3RhdGlvbnMgPSB0aGlzLiR1cGRhdGVBbm5vdGF0aW9ucy5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy4kY2VsbHMgPSBbXTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcblxuICAgIHRoaXMuc2V0U2Vzc2lvbiA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbilcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMuJHVwZGF0ZUFubm90YXRpb25zKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgaWYgKHNlc3Npb24pXG4gICAgICAgICAgICBzZXNzaW9uLm9uKFwiY2hhbmdlXCIsIHRoaXMuJHVwZGF0ZUFubm90YXRpb25zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGRHdXR0ZXJEZWNvcmF0aW9uID0gZnVuY3Rpb24ocm93LCBjbGFzc05hbWUpe1xuICAgICAgICBpZiAod2luZG93LmNvbnNvbGUpXG4gICAgICAgICAgICBjb25zb2xlLndhcm4gJiYgY29uc29sZS53YXJuKFwiZGVwcmVjYXRlZCB1c2Ugc2Vzc2lvbi5hZGRHdXR0ZXJEZWNvcmF0aW9uXCIpO1xuICAgICAgICB0aGlzLnNlc3Npb24uYWRkR3V0dGVyRGVjb3JhdGlvbihyb3csIGNsYXNzTmFtZSk7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlR3V0dGVyRGVjb3JhdGlvbiA9IGZ1bmN0aW9uKHJvdywgY2xhc3NOYW1lKXtcbiAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlKVxuICAgICAgICAgICAgY29uc29sZS53YXJuICYmIGNvbnNvbGUud2FybihcImRlcHJlY2F0ZWQgdXNlIHNlc3Npb24ucmVtb3ZlR3V0dGVyRGVjb3JhdGlvblwiKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZUd1dHRlckRlY29yYXRpb24ocm93LCBjbGFzc05hbWUpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEFubm90YXRpb25zID0gZnVuY3Rpb24oYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgdGhpcy4kYW5ub3RhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbm5vdGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFubm90YXRpb24gPSBhbm5vdGF0aW9uc1tpXTtcbiAgICAgICAgICAgIHZhciByb3cgPSBhbm5vdGF0aW9uLnJvdztcbiAgICAgICAgICAgIHZhciByb3dJbmZvID0gdGhpcy4kYW5ub3RhdGlvbnNbcm93XTtcbiAgICAgICAgICAgIGlmICghcm93SW5mbylcbiAgICAgICAgICAgICAgICByb3dJbmZvID0gdGhpcy4kYW5ub3RhdGlvbnNbcm93XSA9IHt0ZXh0OiBbXX07XG4gICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGFubm9UZXh0ID0gYW5ub3RhdGlvbi50ZXh0O1xuICAgICAgICAgICAgYW5ub1RleHQgPSBhbm5vVGV4dCA/IGxhbmcuZXNjYXBlSFRNTChhbm5vVGV4dCkgOiBhbm5vdGF0aW9uLmh0bWwgfHwgXCJcIjtcblxuICAgICAgICAgICAgaWYgKHJvd0luZm8udGV4dC5pbmRleE9mKGFubm9UZXh0KSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgcm93SW5mby50ZXh0LnB1c2goYW5ub1RleHQpO1xuXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGFubm90YXRpb24udHlwZTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IFwiZXJyb3JcIilcbiAgICAgICAgICAgICAgICByb3dJbmZvLmNsYXNzTmFtZSA9IFwiIGFjZV9lcnJvclwiO1xuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBcIndhcm5pbmdcIiAmJiByb3dJbmZvLmNsYXNzTmFtZSAhPSBcIiBhY2VfZXJyb3JcIilcbiAgICAgICAgICAgICAgICByb3dJbmZvLmNsYXNzTmFtZSA9IFwiIGFjZV93YXJuaW5nXCI7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IFwiaW5mb1wiICYmICghcm93SW5mby5jbGFzc05hbWUpKVxuICAgICAgICAgICAgICAgIHJvd0luZm8uY2xhc3NOYW1lID0gXCIgYWNlX2luZm9cIjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiR1cGRhdGVBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uIChkZWx0YSkge1xuICAgICAgICBpZiAoIXRoaXMuJGFubm90YXRpb25zLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gZGVsdGEuc3RhcnQucm93O1xuICAgICAgICB2YXIgbGVuID0gZGVsdGEuZW5kLnJvdyAtIGZpcnN0Um93O1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVsdGEuYWN0aW9uID09ICdyZW1vdmUnKSB7XG4gICAgICAgICAgICB0aGlzLiRhbm5vdGF0aW9ucy5zcGxpY2UoZmlyc3RSb3csIGxlbiArIDEsIG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkobGVuICsgMSk7XG4gICAgICAgICAgICBhcmdzLnVuc2hpZnQoZmlyc3RSb3csIDEpO1xuICAgICAgICAgICAgdGhpcy4kYW5ub3RhdGlvbnMuc3BsaWNlLmFwcGx5KHRoaXMuJGFubm90YXRpb25zLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gY29uZmlnLmZpcnN0Um93O1xuICAgICAgICB2YXIgbGFzdFJvdyA9IE1hdGgubWluKGNvbmZpZy5sYXN0Um93ICsgY29uZmlnLmd1dHRlck9mZnNldCwgIC8vIG5lZWRlZCB0byBjb21wZW5zYXRlIGZvciBob3Igc2NvbGxiYXJcbiAgICAgICAgICAgIHNlc3Npb24uZ2V0TGVuZ3RoKCkgLSAxKTtcbiAgICAgICAgdmFyIGZvbGQgPSBzZXNzaW9uLmdldE5leHRGb2xkTGluZShmaXJzdFJvdyk7XG4gICAgICAgIHZhciBmb2xkU3RhcnQgPSBmb2xkID8gZm9sZC5zdGFydC5yb3cgOiBJbmZpbml0eTtcbiAgICAgICAgdmFyIGZvbGRXaWRnZXRzID0gdGhpcy4kc2hvd0ZvbGRXaWRnZXRzICYmIHNlc3Npb24uZm9sZFdpZGdldHM7XG4gICAgICAgIHZhciBicmVha3BvaW50cyA9IHNlc3Npb24uJGJyZWFrcG9pbnRzO1xuICAgICAgICB2YXIgZGVjb3JhdGlvbnMgPSBzZXNzaW9uLiRkZWNvcmF0aW9ucztcbiAgICAgICAgdmFyIGZpcnN0TGluZU51bWJlciA9IHNlc3Npb24uJGZpcnN0TGluZU51bWJlcjtcbiAgICAgICAgdmFyIGxhc3RMaW5lTnVtYmVyID0gMDtcbiAgICAgICAgXG4gICAgICAgIHZhciBndXR0ZXJSZW5kZXJlciA9IHNlc3Npb24uZ3V0dGVyUmVuZGVyZXIgfHwgdGhpcy4kcmVuZGVyZXI7XG5cbiAgICAgICAgdmFyIGNlbGwgPSBudWxsO1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIHJvdyA9IGZpcnN0Um93O1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHJvdyA+IGZvbGRTdGFydCkge1xuICAgICAgICAgICAgICAgIHJvdyA9IGZvbGQuZW5kLnJvdyArIDE7XG4gICAgICAgICAgICAgICAgZm9sZCA9IHNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHJvdywgZm9sZCk7XG4gICAgICAgICAgICAgICAgZm9sZFN0YXJ0ID0gZm9sZCA/IGZvbGQuc3RhcnQucm93IDogSW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93ID4gbGFzdFJvdykge1xuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLiRjZWxscy5sZW5ndGggPiBpbmRleCArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2VsbCA9IHRoaXMuJGNlbGxzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQoY2VsbC5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNlbGwgPSB0aGlzLiRjZWxsc1srK2luZGV4XTtcbiAgICAgICAgICAgIGlmICghY2VsbCkge1xuICAgICAgICAgICAgICAgIGNlbGwgPSB7ZWxlbWVudDogbnVsbCwgdGV4dE5vZGU6IG51bGwsIGZvbGRXaWRnZXQ6IG51bGx9O1xuICAgICAgICAgICAgICAgIGNlbGwuZWxlbWVudCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGNlbGwudGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgICAgICAgICAgY2VsbC5lbGVtZW50LmFwcGVuZENoaWxkKGNlbGwudGV4dE5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChjZWxsLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGNlbGxzW2luZGV4XSA9IGNlbGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBcImFjZV9ndXR0ZXItY2VsbCBcIjtcbiAgICAgICAgICAgIGlmIChicmVha3BvaW50c1tyb3ddKVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSArPSBicmVha3BvaW50c1tyb3ddO1xuICAgICAgICAgICAgaWYgKGRlY29yYXRpb25zW3Jvd10pXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lICs9IGRlY29yYXRpb25zW3Jvd107XG4gICAgICAgICAgICBpZiAodGhpcy4kYW5ub3RhdGlvbnNbcm93XSlcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgKz0gdGhpcy4kYW5ub3RhdGlvbnNbcm93XS5jbGFzc05hbWU7XG4gICAgICAgICAgICBpZiAoY2VsbC5lbGVtZW50LmNsYXNzTmFtZSAhPSBjbGFzc05hbWUpXG4gICAgICAgICAgICAgICAgY2VsbC5lbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcblxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHNlc3Npb24uZ2V0Um93TGVuZ3RoKHJvdykgKiBjb25maWcubGluZUhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIGlmIChoZWlnaHQgIT0gY2VsbC5lbGVtZW50LnN0eWxlLmhlaWdodClcbiAgICAgICAgICAgICAgICBjZWxsLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAoZm9sZFdpZGdldHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYyA9IGZvbGRXaWRnZXRzW3Jvd107XG4gICAgICAgICAgICAgICAgaWYgKGMgPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgYyA9IGZvbGRXaWRnZXRzW3Jvd10gPSBzZXNzaW9uLmdldEZvbGRXaWRnZXQocm93KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNlbGwuZm9sZFdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICBjZWxsLmZvbGRXaWRnZXQgPSBkb20uY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZWxlbWVudC5hcHBlbmRDaGlsZChjZWxsLmZvbGRXaWRnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gXCJhY2VfZm9sZC13aWRnZXQgYWNlX1wiICsgYztcbiAgICAgICAgICAgICAgICBpZiAoYyA9PSBcInN0YXJ0XCIgJiYgcm93ID09IGZvbGRTdGFydCAmJiByb3cgPCBmb2xkLmVuZC5yb3cpXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSArPSBcIiBhY2VfY2xvc2VkXCI7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgKz0gXCIgYWNlX29wZW5cIjtcbiAgICAgICAgICAgICAgICBpZiAoY2VsbC5mb2xkV2lkZ2V0LmNsYXNzTmFtZSAhPSBjbGFzc05hbWUpXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZm9sZFdpZGdldC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gY29uZmlnLmxpbmVIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgaWYgKGNlbGwuZm9sZFdpZGdldC5zdHlsZS5oZWlnaHQgIT0gaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICBjZWxsLmZvbGRXaWRnZXQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY2VsbC5mb2xkV2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZWxlbWVudC5yZW1vdmVDaGlsZChjZWxsLmZvbGRXaWRnZXQpO1xuICAgICAgICAgICAgICAgICAgICBjZWxsLmZvbGRXaWRnZXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHRleHQgPSBsYXN0TGluZU51bWJlciA9IGd1dHRlclJlbmRlcmVyXG4gICAgICAgICAgICAgICAgPyBndXR0ZXJSZW5kZXJlci5nZXRUZXh0KHNlc3Npb24sIHJvdylcbiAgICAgICAgICAgICAgICA6IHJvdyArIGZpcnN0TGluZU51bWJlcjtcbiAgICAgICAgICAgIGlmICh0ZXh0ICE9IGNlbGwudGV4dE5vZGUuZGF0YSlcbiAgICAgICAgICAgICAgICBjZWxsLnRleHROb2RlLmRhdGEgPSB0ZXh0O1xuXG4gICAgICAgICAgICByb3crKztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBjb25maWcubWluSGVpZ2h0ICsgXCJweFwiO1xuXG4gICAgICAgIGlmICh0aGlzLiRmaXhlZFdpZHRoIHx8IHNlc3Npb24uJHVzZVdyYXBNb2RlKVxuICAgICAgICAgICAgbGFzdExpbmVOdW1iZXIgPSBzZXNzaW9uLmdldExlbmd0aCgpICsgZmlyc3RMaW5lTnVtYmVyO1xuXG4gICAgICAgIHZhciBndXR0ZXJXaWR0aCA9IGd1dHRlclJlbmRlcmVyIFxuICAgICAgICAgICAgPyBndXR0ZXJSZW5kZXJlci5nZXRXaWR0aChzZXNzaW9uLCBsYXN0TGluZU51bWJlciwgY29uZmlnKVxuICAgICAgICAgICAgOiBsYXN0TGluZU51bWJlci50b1N0cmluZygpLmxlbmd0aCAqIGNvbmZpZy5jaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgXG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy4kcGFkZGluZyB8fCB0aGlzLiRjb21wdXRlUGFkZGluZygpO1xuICAgICAgICBndXR0ZXJXaWR0aCArPSBwYWRkaW5nLmxlZnQgKyBwYWRkaW5nLnJpZ2h0O1xuICAgICAgICBpZiAoZ3V0dGVyV2lkdGggIT09IHRoaXMuZ3V0dGVyV2lkdGggJiYgIWlzTmFOKGd1dHRlcldpZHRoKSkge1xuICAgICAgICAgICAgdGhpcy5ndXR0ZXJXaWR0aCA9IGd1dHRlcldpZHRoO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gTWF0aC5jZWlsKHRoaXMuZ3V0dGVyV2lkdGgpICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZUd1dHRlcldpZHRoXCIsIGd1dHRlcldpZHRoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRmaXhlZFdpZHRoID0gZmFsc2U7XG4gICAgXG4gICAgdGhpcy4kc2hvd0xpbmVOdW1iZXJzID0gdHJ1ZTtcbiAgICB0aGlzLiRyZW5kZXJlciA9IFwiXCI7XG4gICAgdGhpcy5zZXRTaG93TGluZU51bWJlcnMgPSBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgIHRoaXMuJHJlbmRlcmVyID0gIXNob3cgJiYge1xuICAgICAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkge3JldHVybiBcIlwifSxcbiAgICAgICAgICAgIGdldFRleHQ6IGZ1bmN0aW9uKCkge3JldHVybiBcIlwifVxuICAgICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRTaG93TGluZU51bWJlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNob3dMaW5lTnVtYmVycztcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJHNob3dGb2xkV2lkZ2V0cyA9IHRydWU7XG4gICAgdGhpcy5zZXRTaG93Rm9sZFdpZGdldHMgPSBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgIGlmIChzaG93KVxuICAgICAgICAgICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2VfZm9sZGluZy1lbmFibGVkXCIpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb20ucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCBcImFjZV9mb2xkaW5nLWVuYWJsZWRcIik7XG5cbiAgICAgICAgdGhpcy4kc2hvd0ZvbGRXaWRnZXRzID0gc2hvdztcbiAgICAgICAgdGhpcy4kcGFkZGluZyA9IG51bGw7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldFNob3dGb2xkV2lkZ2V0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kc2hvd0ZvbGRXaWRnZXRzO1xuICAgIH07XG5cbiAgICB0aGlzLiRjb21wdXRlUGFkZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudC5maXJzdENoaWxkKVxuICAgICAgICAgICAgcmV0dXJuIHtsZWZ0OiAwLCByaWdodDogMH07XG4gICAgICAgIHZhciBzdHlsZSA9IGRvbS5jb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgdGhpcy4kcGFkZGluZyA9IHt9O1xuICAgICAgICB0aGlzLiRwYWRkaW5nLmxlZnQgPSBwYXJzZUludChzdHlsZS5wYWRkaW5nTGVmdCkgKyAxIHx8IDA7XG4gICAgICAgIHRoaXMuJHBhZGRpbmcucmlnaHQgPSBwYXJzZUludChzdHlsZS5wYWRkaW5nUmlnaHQpIHx8IDA7XG4gICAgICAgIHJldHVybiB0aGlzLiRwYWRkaW5nO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFJlZ2lvbiA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy4kcGFkZGluZyB8fCB0aGlzLiRjb21wdXRlUGFkZGluZygpO1xuICAgICAgICB2YXIgcmVjdCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHBvaW50LnggPCBwYWRkaW5nLmxlZnQgKyByZWN0LmxlZnQpXG4gICAgICAgICAgICByZXR1cm4gXCJtYXJrZXJzXCI7XG4gICAgICAgIGlmICh0aGlzLiRzaG93Rm9sZFdpZGdldHMgJiYgcG9pbnQueCA+IHJlY3QucmlnaHQgLSBwYWRkaW5nLnJpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuIFwiZm9sZFdpZGdldHNcIjtcbiAgICB9O1xuXG59KS5jYWxsKEd1dHRlci5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkd1dHRlciA9IEd1dHRlcjtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGF5ZXIvbWFya2VyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9saWIvZG9tXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG5cbnZhciBNYXJrZXIgPSBmdW5jdGlvbihwYXJlbnRFbCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBcImFjZV9sYXllciBhY2VfbWFya2VyLWxheWVyXCI7XG4gICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuJHBhZGRpbmcgPSAwO1xuXG4gICAgdGhpcy5zZXRQYWRkaW5nID0gZnVuY3Rpb24ocGFkZGluZykge1xuICAgICAgICB0aGlzLiRwYWRkaW5nID0gcGFkZGluZztcbiAgICB9O1xuICAgIHRoaXMuc2V0U2Vzc2lvbiA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2V0TWFya2VycyA9IGZ1bmN0aW9uKG1hcmtlcnMpIHtcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gbWFya2VycztcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IGNvbmZpZyB8fCB0aGlzLmNvbmZpZztcbiAgICAgICAgaWYgKCFjb25maWcpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG5cblxuICAgICAgICB2YXIgaHRtbCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5tYXJrZXJzKSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0gdGhpcy5tYXJrZXJzW2tleV07XG5cbiAgICAgICAgICAgIGlmICghbWFya2VyLnJhbmdlKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLnVwZGF0ZShodG1sLCB0aGlzLCB0aGlzLnNlc3Npb24sIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByYW5nZSA9IG1hcmtlci5yYW5nZS5jbGlwUm93cyhjb25maWcuZmlyc3RSb3csIGNvbmZpZy5sYXN0Um93KTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5pc0VtcHR5KCkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICByYW5nZSA9IHJhbmdlLnRvU2NyZWVuUmFuZ2UodGhpcy5zZXNzaW9uKTtcbiAgICAgICAgICAgIGlmIChtYXJrZXIucmVuZGVyZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9wID0gdGhpcy4kZ2V0VG9wKHJhbmdlLnN0YXJ0LnJvdywgY29uZmlnKTtcbiAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IHRoaXMuJHBhZGRpbmcgKyByYW5nZS5zdGFydC5jb2x1bW4gKiBjb25maWcuY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgbWFya2VyLnJlbmRlcmVyKGh0bWwsIHJhbmdlLCBsZWZ0LCB0b3AsIGNvbmZpZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcmtlci50eXBlID09IFwiZnVsbExpbmVcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0Z1bGxMaW5lTWFya2VyKGh0bWwsIHJhbmdlLCBtYXJrZXIuY2xhenosIGNvbmZpZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcmtlci50eXBlID09IFwic2NyZWVuTGluZVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2NyZWVuTGluZU1hcmtlcihodG1sLCByYW5nZSwgbWFya2VyLmNsYXp6LCBjb25maWcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyYW5nZS5pc011bHRpTGluZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hcmtlci50eXBlID09IFwidGV4dFwiKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdUZXh0TWFya2VyKGh0bWwsIHJhbmdlLCBtYXJrZXIuY2xhenosIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdNdWx0aUxpbmVNYXJrZXIoaHRtbCwgcmFuZ2UsIG1hcmtlci5jbGF6eiwgY29uZmlnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2luZ2xlTGluZU1hcmtlcihodG1sLCByYW5nZSwgbWFya2VyLmNsYXp6ICsgXCIgYWNlX3N0YXJ0XCIgKyBcIiBhY2VfYnIxNVwiLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSBodG1sLmpvaW4oXCJcIik7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldFRvcCA9IGZ1bmN0aW9uKHJvdywgbGF5ZXJDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIChyb3cgLSBsYXllckNvbmZpZy5maXJzdFJvd1NjcmVlbikgKiBsYXllckNvbmZpZy5saW5lSGVpZ2h0O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRCb3JkZXJDbGFzcyh0bCwgdHIsIGJyLCBibCkge1xuICAgICAgICByZXR1cm4gKHRsID8gMSA6IDApIHwgKHRyID8gMiA6IDApIHwgKGJyID8gNCA6IDApIHwgKGJsID8gOCA6IDApO1xuICAgIH1cbiAgICB0aGlzLmRyYXdUZXh0TWFya2VyID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgcmFuZ2UsIGNsYXp6LCBsYXllckNvbmZpZywgZXh0cmFTdHlsZSkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHN0YXJ0ID0gcmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICB2YXIgZW5kID0gcmFuZ2UuZW5kLnJvdztcbiAgICAgICAgdmFyIHJvdyA9IHN0YXJ0O1xuICAgICAgICB2YXIgcHJldiA9IDA7IFxuICAgICAgICB2YXIgY3VyciA9IDA7XG4gICAgICAgIHZhciBuZXh0ID0gc2Vzc2lvbi5nZXRTY3JlZW5MYXN0Um93Q29sdW1uKHJvdyk7XG4gICAgICAgIHZhciBsaW5lUmFuZ2UgPSBuZXcgUmFuZ2Uocm93LCByYW5nZS5zdGFydC5jb2x1bW4sIHJvdywgY3Vycik7XG4gICAgICAgIGZvciAoOyByb3cgPD0gZW5kOyByb3crKykge1xuICAgICAgICAgICAgbGluZVJhbmdlLnN0YXJ0LnJvdyA9IGxpbmVSYW5nZS5lbmQucm93ID0gcm93O1xuICAgICAgICAgICAgbGluZVJhbmdlLnN0YXJ0LmNvbHVtbiA9IHJvdyA9PSBzdGFydCA/IHJhbmdlLnN0YXJ0LmNvbHVtbiA6IHNlc3Npb24uZ2V0Um93V3JhcEluZGVudChyb3cpO1xuICAgICAgICAgICAgbGluZVJhbmdlLmVuZC5jb2x1bW4gPSBuZXh0O1xuICAgICAgICAgICAgcHJldiA9IGN1cnI7XG4gICAgICAgICAgICBjdXJyID0gbmV4dDtcbiAgICAgICAgICAgIG5leHQgPSByb3cgKyAxIDwgZW5kID8gc2Vzc2lvbi5nZXRTY3JlZW5MYXN0Um93Q29sdW1uKHJvdyArIDEpIDogcm93ID09IGVuZCA/IDAgOiByYW5nZS5lbmQuY29sdW1uO1xuICAgICAgICAgICAgdGhpcy5kcmF3U2luZ2xlTGluZU1hcmtlcihzdHJpbmdCdWlsZGVyLCBsaW5lUmFuZ2UsIFxuICAgICAgICAgICAgICAgIGNsYXp6ICsgKHJvdyA9PSBzdGFydCAgPyBcIiBhY2Vfc3RhcnRcIiA6IFwiXCIpICsgXCIgYWNlX2JyXCJcbiAgICAgICAgICAgICAgICAgICAgKyBnZXRCb3JkZXJDbGFzcyhyb3cgPT0gc3RhcnQgfHwgcm93ID09IHN0YXJ0ICsgMSAmJiByYW5nZS5zdGFydC5jb2x1bW4sIHByZXYgPCBjdXJyLCBjdXJyID4gbmV4dCwgcm93ID09IGVuZCksXG4gICAgICAgICAgICAgICAgbGF5ZXJDb25maWcsIHJvdyA9PSBlbmQgPyAwIDogMSwgZXh0cmFTdHlsZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZHJhd011bHRpTGluZU1hcmtlciA9IGZ1bmN0aW9uKHN0cmluZ0J1aWxkZXIsIHJhbmdlLCBjbGF6eiwgY29uZmlnLCBleHRyYVN0eWxlKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy4kcGFkZGluZztcbiAgICAgICAgdmFyIGhlaWdodCA9IGNvbmZpZy5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgdG9wID0gdGhpcy4kZ2V0VG9wKHJhbmdlLnN0YXJ0LnJvdywgY29uZmlnKTtcbiAgICAgICAgdmFyIGxlZnQgPSBwYWRkaW5nICsgcmFuZ2Uuc3RhcnQuY29sdW1uICogY29uZmlnLmNoYXJhY3RlcldpZHRoO1xuICAgICAgICBleHRyYVN0eWxlID0gZXh0cmFTdHlsZSB8fCBcIlwiO1xuXG4gICAgICAgIHN0cmluZ0J1aWxkZXIucHVzaChcbiAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nXCIsIGNsYXp6LCBcIiBhY2VfYnIxIGFjZV9zdGFydCcgc3R5bGU9J1wiLFxuICAgICAgICAgICAgXCJoZWlnaHQ6XCIsIGhlaWdodCwgXCJweDtcIixcbiAgICAgICAgICAgIFwicmlnaHQ6MDtcIixcbiAgICAgICAgICAgIFwidG9wOlwiLCB0b3AsIFwicHg7XCIsXG4gICAgICAgICAgICBcImxlZnQ6XCIsIGxlZnQsIFwicHg7XCIsIGV4dHJhU3R5bGUsIFwiJz48L2Rpdj5cIlxuICAgICAgICApO1xuICAgICAgICB0b3AgPSB0aGlzLiRnZXRUb3AocmFuZ2UuZW5kLnJvdywgY29uZmlnKTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmFuZ2UuZW5kLmNvbHVtbiAqIGNvbmZpZy5jaGFyYWN0ZXJXaWR0aDtcblxuICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2goXG4gICAgICAgICAgICBcIjxkaXYgY2xhc3M9J1wiLCBjbGF6eiwgXCIgYWNlX2JyMTInIHN0eWxlPSdcIixcbiAgICAgICAgICAgIFwiaGVpZ2h0OlwiLCBoZWlnaHQsIFwicHg7XCIsXG4gICAgICAgICAgICBcIndpZHRoOlwiLCB3aWR0aCwgXCJweDtcIixcbiAgICAgICAgICAgIFwidG9wOlwiLCB0b3AsIFwicHg7XCIsXG4gICAgICAgICAgICBcImxlZnQ6XCIsIHBhZGRpbmcsIFwicHg7XCIsIGV4dHJhU3R5bGUsIFwiJz48L2Rpdj5cIlxuICAgICAgICApO1xuICAgICAgICBoZWlnaHQgPSAocmFuZ2UuZW5kLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdyAtIDEpICogY29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgICAgIGlmIChoZWlnaHQgPD0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdG9wID0gdGhpcy4kZ2V0VG9wKHJhbmdlLnN0YXJ0LnJvdyArIDEsIGNvbmZpZyk7XG4gICAgICAgIFxuICAgICAgICB2YXIgcmFkaXVzQ2xhc3MgPSAocmFuZ2Uuc3RhcnQuY29sdW1uID8gMSA6IDApIHwgKHJhbmdlLmVuZC5jb2x1bW4gPyAwIDogOCk7XG5cbiAgICAgICAgc3RyaW5nQnVpbGRlci5wdXNoKFxuICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdcIiwgY2xhenosIChyYWRpdXNDbGFzcyA/IFwiIGFjZV9iclwiICsgcmFkaXVzQ2xhc3MgOiBcIlwiKSwgXCInIHN0eWxlPSdcIixcbiAgICAgICAgICAgIFwiaGVpZ2h0OlwiLCBoZWlnaHQsIFwicHg7XCIsXG4gICAgICAgICAgICBcInJpZ2h0OjA7XCIsXG4gICAgICAgICAgICBcInRvcDpcIiwgdG9wLCBcInB4O1wiLFxuICAgICAgICAgICAgXCJsZWZ0OlwiLCBwYWRkaW5nLCBcInB4O1wiLCBleHRyYVN0eWxlLCBcIic+PC9kaXY+XCJcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIHRoaXMuZHJhd1NpbmdsZUxpbmVNYXJrZXIgPSBmdW5jdGlvbihzdHJpbmdCdWlsZGVyLCByYW5nZSwgY2xhenosIGNvbmZpZywgZXh0cmFMZW5ndGgsIGV4dHJhU3R5bGUpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IGNvbmZpZy5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgd2lkdGggPSAocmFuZ2UuZW5kLmNvbHVtbiArIChleHRyYUxlbmd0aCB8fCAwKSAtIHJhbmdlLnN0YXJ0LmNvbHVtbikgKiBjb25maWcuY2hhcmFjdGVyV2lkdGg7XG5cbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuJGdldFRvcChyYW5nZS5zdGFydC5yb3csIGNvbmZpZyk7XG4gICAgICAgIHZhciBsZWZ0ID0gdGhpcy4kcGFkZGluZyArIHJhbmdlLnN0YXJ0LmNvbHVtbiAqIGNvbmZpZy5jaGFyYWN0ZXJXaWR0aDtcblxuICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2goXG4gICAgICAgICAgICBcIjxkaXYgY2xhc3M9J1wiLCBjbGF6eiwgXCInIHN0eWxlPSdcIixcbiAgICAgICAgICAgIFwiaGVpZ2h0OlwiLCBoZWlnaHQsIFwicHg7XCIsXG4gICAgICAgICAgICBcIndpZHRoOlwiLCB3aWR0aCwgXCJweDtcIixcbiAgICAgICAgICAgIFwidG9wOlwiLCB0b3AsIFwicHg7XCIsXG4gICAgICAgICAgICBcImxlZnQ6XCIsIGxlZnQsIFwicHg7XCIsIGV4dHJhU3R5bGUgfHwgXCJcIiwgXCInPjwvZGl2PlwiXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHRoaXMuZHJhd0Z1bGxMaW5lTWFya2VyID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgcmFuZ2UsIGNsYXp6LCBjb25maWcsIGV4dHJhU3R5bGUpIHtcbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuJGdldFRvcChyYW5nZS5zdGFydC5yb3csIGNvbmZpZyk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBjb25maWcubGluZUhlaWdodDtcbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyAhPSByYW5nZS5lbmQucm93KVxuICAgICAgICAgICAgaGVpZ2h0ICs9IHRoaXMuJGdldFRvcChyYW5nZS5lbmQucm93LCBjb25maWcpIC0gdG9wO1xuXG4gICAgICAgIHN0cmluZ0J1aWxkZXIucHVzaChcbiAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nXCIsIGNsYXp6LCBcIicgc3R5bGU9J1wiLFxuICAgICAgICAgICAgXCJoZWlnaHQ6XCIsIGhlaWdodCwgXCJweDtcIixcbiAgICAgICAgICAgIFwidG9wOlwiLCB0b3AsIFwicHg7XCIsXG4gICAgICAgICAgICBcImxlZnQ6MDtyaWdodDowO1wiLCBleHRyYVN0eWxlIHx8IFwiXCIsIFwiJz48L2Rpdj5cIlxuICAgICAgICApO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5kcmF3U2NyZWVuTGluZU1hcmtlciA9IGZ1bmN0aW9uKHN0cmluZ0J1aWxkZXIsIHJhbmdlLCBjbGF6eiwgY29uZmlnLCBleHRyYVN0eWxlKSB7XG4gICAgICAgIHZhciB0b3AgPSB0aGlzLiRnZXRUb3AocmFuZ2Uuc3RhcnQucm93LCBjb25maWcpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gY29uZmlnLmxpbmVIZWlnaHQ7XG5cbiAgICAgICAgc3RyaW5nQnVpbGRlci5wdXNoKFxuICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdcIiwgY2xhenosIFwiJyBzdHlsZT0nXCIsXG4gICAgICAgICAgICBcImhlaWdodDpcIiwgaGVpZ2h0LCBcInB4O1wiLFxuICAgICAgICAgICAgXCJ0b3A6XCIsIHRvcCwgXCJweDtcIixcbiAgICAgICAgICAgIFwibGVmdDowO3JpZ2h0OjA7XCIsIGV4dHJhU3R5bGUgfHwgXCJcIiwgXCInPjwvZGl2PlwiXG4gICAgICAgICk7XG4gICAgfTtcblxufSkuY2FsbChNYXJrZXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5NYXJrZXIgPSBNYXJrZXI7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xheWVyL3RleHRcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG52YXIgdXNlcmFnZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvdXNlcmFnZW50XCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xuXG52YXIgVGV4dCA9IGZ1bmN0aW9uKHBhcmVudEVsKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNlX2xheWVyIGFjZV90ZXh0LWxheWVyXCI7XG4gICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICB0aGlzLiR1cGRhdGVFb2xDaGFyID0gdGhpcy4kdXBkYXRlRW9sQ2hhci5iaW5kKHRoaXMpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXG4gICAgdGhpcy5FT0ZfQ0hBUiA9IFwiXFx4QjZcIjtcbiAgICB0aGlzLkVPTF9DSEFSX0xGID0gXCJcXHhBQ1wiO1xuICAgIHRoaXMuRU9MX0NIQVJfQ1JMRiA9IFwiXFx4YTRcIjtcbiAgICB0aGlzLkVPTF9DSEFSID0gdGhpcy5FT0xfQ0hBUl9MRjtcbiAgICB0aGlzLlRBQl9DSEFSID0gXCJcXHUyMDE0XCI7IC8vXCJcXHUyMUU1XCI7XG4gICAgdGhpcy5TUEFDRV9DSEFSID0gXCJcXHhCN1wiO1xuICAgIHRoaXMuJHBhZGRpbmcgPSAwO1xuXG4gICAgdGhpcy4kdXBkYXRlRW9sQ2hhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgRU9MX0NIQVIgPSB0aGlzLnNlc3Npb24uZG9jLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSA9PSBcIlxcblwiXG4gICAgICAgICAgID8gdGhpcy5FT0xfQ0hBUl9MRlxuICAgICAgICAgICA6IHRoaXMuRU9MX0NIQVJfQ1JMRjtcbiAgICAgICAgaWYgKHRoaXMuRU9MX0NIQVIgIT0gRU9MX0NIQVIpIHtcbiAgICAgICAgICAgIHRoaXMuRU9MX0NIQVIgPSBFT0xfQ0hBUjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zZXRQYWRkaW5nID0gZnVuY3Rpb24ocGFkZGluZykge1xuICAgICAgICB0aGlzLiRwYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcIjAgXCIgKyBwYWRkaW5nICsgXCJweFwiO1xuICAgIH07XG5cbiAgICB0aGlzLmdldExpbmVIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGZvbnRNZXRyaWNzLiRjaGFyYWN0ZXJTaXplLmhlaWdodCB8fCAwO1xuICAgIH07XG5cbiAgICB0aGlzLmdldENoYXJhY3RlcldpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRmb250TWV0cmljcy4kY2hhcmFjdGVyU2l6ZS53aWR0aCB8fCAwO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kc2V0Rm9udE1ldHJpY3MgPSBmdW5jdGlvbihtZWFzdXJlKSB7XG4gICAgICAgIHRoaXMuJGZvbnRNZXRyaWNzID0gbWVhc3VyZTtcbiAgICAgICAgdGhpcy4kZm9udE1ldHJpY3Mub24oXCJjaGFuZ2VDaGFyYWN0ZXJTaXplXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZUNoYXJhY3RlclNpemVcIiwgZSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuJHBvbGxTaXplQ2hhbmdlcygpO1xuICAgIH1cblxuICAgIHRoaXMuY2hlY2tGb3JTaXplQ2hhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRmb250TWV0cmljcy5jaGVja0ZvclNpemVDaGFuZ2VzKCk7XG4gICAgfTtcbiAgICB0aGlzLiRwb2xsU2l6ZUNoYW5nZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyID0gdGhpcy4kZm9udE1ldHJpY3MuJHBvbGxTaXplQ2hhbmdlcygpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTZXNzaW9uID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbilcbiAgICAgICAgICAgIHRoaXMuJGNvbXB1dGVUYWJTdHJpbmcoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zaG93SW52aXNpYmxlcyA9IGZhbHNlO1xuICAgIHRoaXMuc2V0U2hvd0ludmlzaWJsZXMgPSBmdW5jdGlvbihzaG93SW52aXNpYmxlcykge1xuICAgICAgICBpZiAodGhpcy5zaG93SW52aXNpYmxlcyA9PSBzaG93SW52aXNpYmxlcylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICB0aGlzLnNob3dJbnZpc2libGVzID0gc2hvd0ludmlzaWJsZXM7XG4gICAgICAgIHRoaXMuJGNvbXB1dGVUYWJTdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMuZGlzcGxheUluZGVudEd1aWRlcyA9IHRydWU7XG4gICAgdGhpcy5zZXREaXNwbGF5SW5kZW50R3VpZGVzID0gZnVuY3Rpb24oZGlzcGxheSkge1xuICAgICAgICBpZiAodGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzID09IGRpc3BsYXkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzID0gZGlzcGxheTtcbiAgICAgICAgdGhpcy4kY29tcHV0ZVRhYlN0cmluZygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdGFiU3RyaW5ncyA9IFtdO1xuICAgIHRoaXMub25DaGFuZ2VUYWJTaXplID1cbiAgICB0aGlzLiRjb21wdXRlVGFiU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0YWJTaXplID0gdGhpcy5zZXNzaW9uLmdldFRhYlNpemUoKTtcbiAgICAgICAgdGhpcy50YWJTaXplID0gdGFiU2l6ZTtcbiAgICAgICAgdmFyIHRhYlN0ciA9IHRoaXMuJHRhYlN0cmluZ3MgPSBbMF07XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGFiU2l6ZSArIDE7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0ludmlzaWJsZXMpIHtcbiAgICAgICAgICAgICAgICB0YWJTdHIucHVzaChcIjxzcGFuIGNsYXNzPSdhY2VfaW52aXNpYmxlIGFjZV9pbnZpc2libGVfdGFiJz5cIlxuICAgICAgICAgICAgICAgICAgICArIGxhbmcuc3RyaW5nUmVwZWF0KHRoaXMuVEFCX0NIQVIsIGkpXG4gICAgICAgICAgICAgICAgICAgICsgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YWJTdHIucHVzaChsYW5nLnN0cmluZ1JlcGVhdChcIiBcIiwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlJbmRlbnRHdWlkZXMpIHtcbiAgICAgICAgICAgIHRoaXMuJGluZGVudEd1aWRlUmUgPSAgL1xcc1xcU3wgXFx0fFxcdCB8XFxzJC87XG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gXCJhY2VfaW5kZW50LWd1aWRlXCI7XG4gICAgICAgICAgICB2YXIgc3BhY2VDbGFzcyA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgdGFiQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0ludmlzaWJsZXMpIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgKz0gXCIgYWNlX2ludmlzaWJsZVwiO1xuICAgICAgICAgICAgICAgIHNwYWNlQ2xhc3MgPSBcIiBhY2VfaW52aXNpYmxlX3NwYWNlXCI7XG4gICAgICAgICAgICAgICAgdGFiQ2xhc3MgPSBcIiBhY2VfaW52aXNpYmxlX3RhYlwiO1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZUNvbnRlbnQgPSBsYW5nLnN0cmluZ1JlcGVhdCh0aGlzLlNQQUNFX0NIQVIsIHRoaXMudGFiU2l6ZSk7XG4gICAgICAgICAgICAgICAgdmFyIHRhYkNvbnRlbnQgPSBsYW5nLnN0cmluZ1JlcGVhdCh0aGlzLlRBQl9DSEFSLCB0aGlzLnRhYlNpemUpO1xuICAgICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZUNvbnRlbnQgPSBsYW5nLnN0cmluZ1JlcGVhdChcIiBcIiwgdGhpcy50YWJTaXplKTtcbiAgICAgICAgICAgICAgICB2YXIgdGFiQ29udGVudCA9IHNwYWNlQ29udGVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kdGFiU3RyaW5nc1tcIiBcIl0gPSBcIjxzcGFuIGNsYXNzPSdcIiArIGNsYXNzTmFtZSArIHNwYWNlQ2xhc3MgKyBcIic+XCIgKyBzcGFjZUNvbnRlbnQgKyBcIjwvc3Bhbj5cIjtcbiAgICAgICAgICAgIHRoaXMuJHRhYlN0cmluZ3NbXCJcXHRcIl0gPSBcIjxzcGFuIGNsYXNzPSdcIiArIGNsYXNzTmFtZSArIHRhYkNsYXNzICsgXCInPlwiICsgdGFiQ29udGVudCArIFwiPC9zcGFuPlwiO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlTGluZXMgPSBmdW5jdGlvbihjb25maWcsIGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sYXN0Um93ICE9IGNvbmZpZy5sYXN0Um93IHx8XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5maXJzdFJvdyAhPSBjb25maWcuZmlyc3RSb3cpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGluZXMoY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgICAgICB2YXIgZmlyc3QgPSBNYXRoLm1heChmaXJzdFJvdywgY29uZmlnLmZpcnN0Um93KTtcbiAgICAgICAgdmFyIGxhc3QgPSBNYXRoLm1pbihsYXN0Um93LCBjb25maWcubGFzdFJvdyk7XG5cbiAgICAgICAgdmFyIGxpbmVFbGVtZW50cyA9IHRoaXMuZWxlbWVudC5jaGlsZE5vZGVzO1xuICAgICAgICB2YXIgbGluZUVsZW1lbnRzSWR4ID0gMDtcblxuICAgICAgICBmb3IgKHZhciByb3cgPSBjb25maWcuZmlyc3RSb3c7IHJvdyA8IGZpcnN0OyByb3crKykge1xuICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldEZvbGRMaW5lKHJvdyk7XG4gICAgICAgICAgICBpZiAoZm9sZExpbmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmUuY29udGFpbnNSb3coZmlyc3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZm9sZExpbmUuc3RhcnQucm93O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByb3cgPSBmb2xkTGluZS5lbmQucm93O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmVFbGVtZW50c0lkeCArKztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByb3cgPSBmaXJzdDtcbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShyb3cpO1xuICAgICAgICB2YXIgZm9sZFN0YXJ0ID0gZm9sZExpbmUgPyBmb2xkTGluZS5zdGFydC5yb3cgOiBJbmZpbml0eTtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHJvdyA+IGZvbGRTdGFydCkge1xuICAgICAgICAgICAgICAgIHJvdyA9IGZvbGRMaW5lLmVuZC5yb3crMTtcbiAgICAgICAgICAgICAgICBmb2xkTGluZSA9IHRoaXMuc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUocm93LCBmb2xkTGluZSk7XG4gICAgICAgICAgICAgICAgZm9sZFN0YXJ0ID0gZm9sZExpbmUgPyBmb2xkTGluZS5zdGFydC5yb3cgOkluZmluaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvdyA+IGxhc3QpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIHZhciBsaW5lRWxlbWVudCA9IGxpbmVFbGVtZW50c1tsaW5lRWxlbWVudHNJZHgrK107XG4gICAgICAgICAgICBpZiAobGluZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuJHJlbmRlckxpbmUoXG4gICAgICAgICAgICAgICAgICAgIGh0bWwsIHJvdywgIXRoaXMuJHVzZUxpbmVHcm91cHMoKSwgcm93ID09IGZvbGRTdGFydCA/IGZvbGRMaW5lIDogZmFsc2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGxpbmVFbGVtZW50LnN0eWxlLmhlaWdodCA9IGNvbmZpZy5saW5lSGVpZ2h0ICogdGhpcy5zZXNzaW9uLmdldFJvd0xlbmd0aChyb3cpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGxpbmVFbGVtZW50LmlubmVySFRNTCA9IGh0bWwuam9pbihcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvdysrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2Nyb2xsTGluZXMgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdmFyIG9sZENvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgICAgICBpZiAoIW9sZENvbmZpZyB8fCBvbGRDb25maWcubGFzdFJvdyA8IGNvbmZpZy5maXJzdFJvdylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZShjb25maWcpO1xuXG4gICAgICAgIGlmIChjb25maWcubGFzdFJvdyA8IG9sZENvbmZpZy5maXJzdFJvdylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZShjb25maWcpO1xuXG4gICAgICAgIHZhciBlbCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgaWYgKG9sZENvbmZpZy5maXJzdFJvdyA8IGNvbmZpZy5maXJzdFJvdylcbiAgICAgICAgICAgIGZvciAodmFyIHJvdz10aGlzLnNlc3Npb24uZ2V0Rm9sZGVkUm93Q291bnQob2xkQ29uZmlnLmZpcnN0Um93LCBjb25maWcuZmlyc3RSb3cgLSAxKTsgcm93PjA7IHJvdy0tKVxuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuXG4gICAgICAgIGlmIChvbGRDb25maWcubGFzdFJvdyA+IGNvbmZpZy5sYXN0Um93KVxuICAgICAgICAgICAgZm9yICh2YXIgcm93PXRoaXMuc2Vzc2lvbi5nZXRGb2xkZWRSb3dDb3VudChjb25maWcubGFzdFJvdyArIDEsIG9sZENvbmZpZy5sYXN0Um93KTsgcm93PjA7IHJvdy0tKVxuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmxhc3RDaGlsZCk7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5maXJzdFJvdyA8IG9sZENvbmZpZy5maXJzdFJvdykge1xuICAgICAgICAgICAgdmFyIGZyYWdtZW50ID0gdGhpcy4kcmVuZGVyTGluZXNGcmFnbWVudChjb25maWcsIGNvbmZpZy5maXJzdFJvdywgb2xkQ29uZmlnLmZpcnN0Um93IC0gMSk7XG4gICAgICAgICAgICBpZiAoZWwuZmlyc3RDaGlsZClcbiAgICAgICAgICAgICAgICBlbC5pbnNlcnRCZWZvcmUoZnJhZ21lbnQsIGVsLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcubGFzdFJvdyA+IG9sZENvbmZpZy5sYXN0Um93KSB7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSB0aGlzLiRyZW5kZXJMaW5lc0ZyYWdtZW50KGNvbmZpZywgb2xkQ29uZmlnLmxhc3RSb3cgKyAxLCBjb25maWcubGFzdFJvdyk7XG4gICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kcmVuZGVyTGluZXNGcmFnbWVudCA9IGZ1bmN0aW9uKGNvbmZpZywgZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICB2YXIgcm93ID0gZmlyc3RSb3c7XG4gICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUocm93KTtcbiAgICAgICAgdmFyIGZvbGRTdGFydCA9IGZvbGRMaW5lID8gZm9sZExpbmUuc3RhcnQucm93IDogSW5maW5pdHk7XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGlmIChyb3cgPiBmb2xkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICByb3cgPSBmb2xkTGluZS5lbmQucm93KzE7XG4gICAgICAgICAgICAgICAgZm9sZExpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHJvdywgZm9sZExpbmUpO1xuICAgICAgICAgICAgICAgIGZvbGRTdGFydCA9IGZvbGRMaW5lID8gZm9sZExpbmUuc3RhcnQucm93IDogSW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93ID4gbGFzdFJvdylcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICB2YXIgaHRtbCA9IFtdO1xuICAgICAgICAgICAgdGhpcy4kcmVuZGVyTGluZShodG1sLCByb3csIGZhbHNlLCByb3cgPT0gZm9sZFN0YXJ0ID8gZm9sZExpbmUgOiBmYWxzZSk7XG4gICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbC5qb2luKFwiXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJHVzZUxpbmVHcm91cHMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnYWNlX2xpbmVfZ3JvdXAnO1xuICAgICAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGNvbmZpZy5saW5lSGVpZ2h0ICogdGhpcy5zZXNzaW9uLmdldFJvd0xlbmd0aChyb3cpICsgXCJweFwiO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlKGNvbnRhaW5lci5maXJzdENoaWxkKVxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJvdysrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFnbWVudDtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG5cbiAgICAgICAgdmFyIGh0bWwgPSBbXTtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gY29uZmlnLmZpcnN0Um93LCBsYXN0Um93ID0gY29uZmlnLmxhc3RSb3c7XG5cbiAgICAgICAgdmFyIHJvdyA9IGZpcnN0Um93O1xuICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAocm93ID4gZm9sZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgcm93ID0gZm9sZExpbmUuZW5kLnJvdysxO1xuICAgICAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShyb3csIGZvbGRMaW5lKTtcbiAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6SW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93ID4gbGFzdFJvdylcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgaWYgKHRoaXMuJHVzZUxpbmVHcm91cHMoKSlcbiAgICAgICAgICAgICAgICBodG1sLnB1c2goXCI8ZGl2IGNsYXNzPSdhY2VfbGluZV9ncm91cCcgc3R5bGU9J2hlaWdodDpcIiwgY29uZmlnLmxpbmVIZWlnaHQqdGhpcy5zZXNzaW9uLmdldFJvd0xlbmd0aChyb3cpLCBcInB4Jz5cIilcblxuICAgICAgICAgICAgdGhpcy4kcmVuZGVyTGluZShodG1sLCByb3csIGZhbHNlLCByb3cgPT0gZm9sZFN0YXJ0ID8gZm9sZExpbmUgOiBmYWxzZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiR1c2VMaW5lR3JvdXBzKCkpXG4gICAgICAgICAgICAgICAgaHRtbC5wdXNoKFwiPC9kaXY+XCIpOyAvLyBlbmQgdGhlIGxpbmUgZ3JvdXBcblxuICAgICAgICAgICAgcm93Kys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IGh0bWwuam9pbihcIlwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdGV4dFRva2VuID0ge1xuICAgICAgICBcInRleHRcIjogdHJ1ZSxcbiAgICAgICAgXCJycGFyZW5cIjogdHJ1ZSxcbiAgICAgICAgXCJscGFyZW5cIjogdHJ1ZVxuICAgIH07XG5cbiAgICB0aGlzLiRyZW5kZXJUb2tlbiA9IGZ1bmN0aW9uKHN0cmluZ0J1aWxkZXIsIHNjcmVlbkNvbHVtbiwgdG9rZW4sIHZhbHVlKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHJlcGxhY2VSZWcgPSAvXFx0fCZ8PHw+fCggKyl8KFtcXHgwMC1cXHgxZlxceDgwLVxceGEwXFx4YWRcXHUxNjgwXFx1MTgwRVxcdTIwMDAtXFx1MjAwZlxcdTIwMjhcXHUyMDI5XFx1MjAyRlxcdTIwNUZcXHUzMDAwXFx1RkVGRlxcdUZGRjktXFx1RkZGQ10pfFtcXHUxMTAwLVxcdTExNUZcXHUxMUEzLVxcdTExQTdcXHUxMUZBLVxcdTExRkZcXHUyMzI5LVxcdTIzMkFcXHUyRTgwLVxcdTJFOTlcXHUyRTlCLVxcdTJFRjNcXHUyRjAwLVxcdTJGRDVcXHUyRkYwLVxcdTJGRkJcXHUzMDAwLVxcdTMwM0VcXHUzMDQxLVxcdTMwOTZcXHUzMDk5LVxcdTMwRkZcXHUzMTA1LVxcdTMxMkRcXHUzMTMxLVxcdTMxOEVcXHUzMTkwLVxcdTMxQkFcXHUzMUMwLVxcdTMxRTNcXHUzMUYwLVxcdTMyMUVcXHUzMjIwLVxcdTMyNDdcXHUzMjUwLVxcdTMyRkVcXHUzMzAwLVxcdTREQkZcXHU0RTAwLVxcdUE0OENcXHVBNDkwLVxcdUE0QzZcXHVBOTYwLVxcdUE5N0NcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBRkZcXHVGRTEwLVxcdUZFMTlcXHVGRTMwLVxcdUZFNTJcXHVGRTU0LVxcdUZFNjZcXHVGRTY4LVxcdUZFNkJcXHVGRjAxLVxcdUZGNjBcXHVGRkUwLVxcdUZGRTZdL2c7XG4gICAgICAgIHZhciByZXBsYWNlRnVuYyA9IGZ1bmN0aW9uKGMsIGEsIGIsIHRhYklkeCwgaWR4NCkge1xuICAgICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zaG93SW52aXNpYmxlc1xuICAgICAgICAgICAgICAgICAgICA/IFwiPHNwYW4gY2xhc3M9J2FjZV9pbnZpc2libGUgYWNlX2ludmlzaWJsZV9zcGFjZSc+XCIgKyBsYW5nLnN0cmluZ1JlcGVhdChzZWxmLlNQQUNFX0NIQVIsIGMubGVuZ3RoKSArIFwiPC9zcGFuPlwiXG4gICAgICAgICAgICAgICAgICAgIDogYztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PSBcIiZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIiYjMzg7XCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT0gXCI8XCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCImIzYwO1wiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09IFwiPlwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiJiM2MjtcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PSBcIlxcdFwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYlNpemUgPSBzZWxmLnNlc3Npb24uZ2V0U2NyZWVuVGFiU2l6ZShzY3JlZW5Db2x1bW4gKyB0YWJJZHgpO1xuICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiArPSB0YWJTaXplIC0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi4kdGFiU3RyaW5nc1t0YWJTaXplXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PSBcIlxcdTMwMDBcIikge1xuICAgICAgICAgICAgICAgIHZhciBjbGFzc1RvVXNlID0gc2VsZi5zaG93SW52aXNpYmxlcyA/IFwiYWNlX2NqayBhY2VfaW52aXNpYmxlIGFjZV9pbnZpc2libGVfc3BhY2VcIiA6IFwiYWNlX2Nqa1wiO1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZSA9IHNlbGYuc2hvd0ludmlzaWJsZXMgPyBzZWxmLlNQQUNFX0NIQVIgOiBcIlwiO1xuICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiArPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiBcIjxzcGFuIGNsYXNzPSdcIiArIGNsYXNzVG9Vc2UgKyBcIicgc3R5bGU9J3dpZHRoOlwiICtcbiAgICAgICAgICAgICAgICAgICAgKHNlbGYuY29uZmlnLmNoYXJhY3RlcldpZHRoICogMikgK1xuICAgICAgICAgICAgICAgICAgICBcInB4Jz5cIiArIHNwYWNlICsgXCI8L3NwYW4+XCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8c3BhbiBjbGFzcz0nYWNlX2ludmlzaWJsZSBhY2VfaW52aXNpYmxlX3NwYWNlIGFjZV9pbnZhbGlkJz5cIiArIHNlbGYuU1BBQ0VfQ0hBUiArIFwiPC9zcGFuPlwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gKz0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8c3BhbiBjbGFzcz0nYWNlX2Nqaycgc3R5bGU9J3dpZHRoOlwiICtcbiAgICAgICAgICAgICAgICAgICAgKHNlbGYuY29uZmlnLmNoYXJhY3RlcldpZHRoICogMikgK1xuICAgICAgICAgICAgICAgICAgICBcInB4Jz5cIiArIGMgKyBcIjwvc3Bhbj5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb3V0cHV0ID0gdmFsdWUucmVwbGFjZShyZXBsYWNlUmVnLCByZXBsYWNlRnVuYyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLiR0ZXh0VG9rZW5bdG9rZW4udHlwZV0pIHtcbiAgICAgICAgICAgIHZhciBjbGFzc2VzID0gXCJhY2VfXCIgKyB0b2tlbi50eXBlLnJlcGxhY2UoL1xcLi9nLCBcIiBhY2VfXCIpO1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gXCJcIjtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IFwiZm9sZFwiKVxuICAgICAgICAgICAgICAgIHN0eWxlID0gXCIgc3R5bGU9J3dpZHRoOlwiICsgKHRva2VuLnZhbHVlLmxlbmd0aCAqIHRoaXMuY29uZmlnLmNoYXJhY3RlcldpZHRoKSArIFwicHg7JyBcIjtcbiAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIucHVzaChcIjxzcGFuIGNsYXNzPSdcIiwgY2xhc3NlcywgXCInXCIsIHN0eWxlLCBcIj5cIiwgb3V0cHV0LCBcIjwvc3Bhbj5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2gob3V0cHV0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NyZWVuQ29sdW1uICsgdmFsdWUubGVuZ3RoO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbmRlckluZGVudEd1aWRlID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgdmFsdWUsIG1heCkge1xuICAgICAgICB2YXIgY29scyA9IHZhbHVlLnNlYXJjaCh0aGlzLiRpbmRlbnRHdWlkZVJlKTtcbiAgICAgICAgaWYgKGNvbHMgPD0gMCB8fCBjb2xzID49IG1heClcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlWzBdID09IFwiIFwiKSB7XG4gICAgICAgICAgICBjb2xzIC09IGNvbHMgJSB0aGlzLnRhYlNpemU7XG4gICAgICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2gobGFuZy5zdHJpbmdSZXBlYXQodGhpcy4kdGFiU3RyaW5nc1tcIiBcIl0sIGNvbHMvdGhpcy50YWJTaXplKSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyKGNvbHMpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlWzBdID09IFwiXFx0XCIpIHtcbiAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIucHVzaChsYW5nLnN0cmluZ1JlcGVhdCh0aGlzLiR0YWJTdHJpbmdzW1wiXFx0XCJdLCBjb2xzKSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyKGNvbHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kcmVuZGVyV3JhcHBlZExpbmUgPSBmdW5jdGlvbihzdHJpbmdCdWlsZGVyLCB0b2tlbnMsIHNwbGl0cywgb25seUNvbnRlbnRzKSB7XG4gICAgICAgIHZhciBjaGFycyA9IDA7XG4gICAgICAgIHZhciBzcGxpdCA9IDA7XG4gICAgICAgIHZhciBzcGxpdENoYXJzID0gc3BsaXRzWzBdO1xuICAgICAgICB2YXIgc2NyZWVuQ29sdW1uID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICBpZiAoaSA9PSAwICYmIHRoaXMuZGlzcGxheUluZGVudEd1aWRlcykge1xuICAgICAgICAgICAgICAgIGNoYXJzID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5yZW5kZXJJbmRlbnRHdWlkZShzdHJpbmdCdWlsZGVyLCB2YWx1ZSwgc3BsaXRDaGFycyk7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2hhcnMgLT0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hhcnMgKyB2YWx1ZS5sZW5ndGggPCBzcGxpdENoYXJzKSB7XG4gICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uID0gdGhpcy4kcmVuZGVyVG9rZW4oc3RyaW5nQnVpbGRlciwgc2NyZWVuQ29sdW1uLCB0b2tlbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGNoYXJzICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGNoYXJzICsgdmFsdWUubGVuZ3RoID49IHNwbGl0Q2hhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uID0gdGhpcy4kcmVuZGVyVG9rZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdCdWlsZGVyLCBzY3JlZW5Db2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiwgdmFsdWUuc3Vic3RyaW5nKDAsIHNwbGl0Q2hhcnMgLSBjaGFycylcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoc3BsaXRDaGFycyAtIGNoYXJzKTtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnMgPSBzcGxpdENoYXJzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghb25seUNvbnRlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2goXCI8L2Rpdj5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J2FjZV9saW5lJyBzdHlsZT0naGVpZ2h0OlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxpbmVIZWlnaHQsIFwicHgnPlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nQnVpbGRlci5wdXNoKGxhbmcuc3RyaW5nUmVwZWF0KFwiXFx4YTBcIiwgc3BsaXRzLmluZGVudCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNwbGl0ICsrO1xuICAgICAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSAwO1xuICAgICAgICAgICAgICAgICAgICBzcGxpdENoYXJzID0gc3BsaXRzW3NwbGl0XSB8fCBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnMgKz0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSB0aGlzLiRyZW5kZXJUb2tlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIsIHNjcmVlbkNvbHVtbiwgdG9rZW4sIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuJHJlbmRlclNpbXBsZUxpbmUgPSBmdW5jdGlvbihzdHJpbmdCdWlsZGVyLCB0b2tlbnMpIHtcbiAgICAgICAgdmFyIHNjcmVlbkNvbHVtbiA9IDA7XG4gICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1swXTtcbiAgICAgICAgdmFyIHZhbHVlID0gdG9rZW4udmFsdWU7XG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlJbmRlbnRHdWlkZXMpXG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMucmVuZGVySW5kZW50R3VpZGUoc3RyaW5nQnVpbGRlciwgdmFsdWUpO1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSB0aGlzLiRyZW5kZXJUb2tlbihzdHJpbmdCdWlsZGVyLCBzY3JlZW5Db2x1bW4sIHRva2VuLCB2YWx1ZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIHZhbHVlID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSB0aGlzLiRyZW5kZXJUb2tlbihzdHJpbmdCdWlsZGVyLCBzY3JlZW5Db2x1bW4sIHRva2VuLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuJHJlbmRlckxpbmUgPSBmdW5jdGlvbihzdHJpbmdCdWlsZGVyLCByb3csIG9ubHlDb250ZW50cywgZm9sZExpbmUpIHtcbiAgICAgICAgaWYgKCFmb2xkTGluZSAmJiBmb2xkTGluZSAhPSBmYWxzZSlcbiAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldEZvbGRMaW5lKHJvdyk7XG5cbiAgICAgICAgaWYgKGZvbGRMaW5lKVxuICAgICAgICAgICAgdmFyIHRva2VucyA9IHRoaXMuJGdldEZvbGRMaW5lVG9rZW5zKHJvdywgZm9sZExpbmUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gdGhpcy5zZXNzaW9uLmdldFRva2Vucyhyb3cpO1xuXG5cbiAgICAgICAgaWYgKCFvbmx5Q29udGVudHMpIHtcbiAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIucHVzaChcbiAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J2FjZV9saW5lJyBzdHlsZT0naGVpZ2h0OlwiLCBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubGluZUhlaWdodCAqIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHVzZUxpbmVHcm91cHMoKSA/IDEgOnRoaXMuc2Vzc2lvbi5nZXRSb3dMZW5ndGgocm93KVxuICAgICAgICAgICAgICAgICAgICApLCBcInB4Jz5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgc3BsaXRzID0gdGhpcy5zZXNzaW9uLmdldFJvd1NwbGl0RGF0YShyb3cpO1xuICAgICAgICAgICAgaWYgKHNwbGl0cyAmJiBzcGxpdHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHRoaXMuJHJlbmRlcldyYXBwZWRMaW5lKHN0cmluZ0J1aWxkZXIsIHRva2Vucywgc3BsaXRzLCBvbmx5Q29udGVudHMpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuJHJlbmRlclNpbXBsZUxpbmUoc3RyaW5nQnVpbGRlciwgdG9rZW5zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNob3dJbnZpc2libGVzKSB7XG4gICAgICAgICAgICBpZiAoZm9sZExpbmUpXG4gICAgICAgICAgICAgICAgcm93ID0gZm9sZExpbmUuZW5kLnJvd1xuXG4gICAgICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2goXG4gICAgICAgICAgICAgICAgXCI8c3BhbiBjbGFzcz0nYWNlX2ludmlzaWJsZSBhY2VfaW52aXNpYmxlX2VvbCc+XCIsXG4gICAgICAgICAgICAgICAgcm93ID09IHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKSAtIDEgPyB0aGlzLkVPRl9DSEFSIDogdGhpcy5FT0xfQ0hBUixcbiAgICAgICAgICAgICAgICBcIjwvc3Bhbj5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9ubHlDb250ZW50cylcbiAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIucHVzaChcIjwvZGl2PlwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0Rm9sZExpbmVUb2tlbnMgPSBmdW5jdGlvbihyb3csIGZvbGRMaW5lKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgcmVuZGVyVG9rZW5zID0gW107XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkVG9rZW5zKHRva2VucywgZnJvbSwgdG8pIHtcbiAgICAgICAgICAgIHZhciBpZHggPSAwLCBjb2wgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKChjb2wgKyB0b2tlbnNbaWR4XS52YWx1ZS5sZW5ndGgpIDwgZnJvbSkge1xuICAgICAgICAgICAgICAgIGNvbCArPSB0b2tlbnNbaWR4XS52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWR4Kys7XG5cbiAgICAgICAgICAgICAgICBpZiAoaWR4ID09IHRva2Vucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2wgIT0gZnJvbSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRva2Vuc1tpZHhdLnZhbHVlLnN1YnN0cmluZyhmcm9tIC0gY29sKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gKHRvIC0gZnJvbSkpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHRvIC0gZnJvbSk7XG5cbiAgICAgICAgICAgICAgICByZW5kZXJUb2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRva2Vuc1tpZHhdLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29sID0gZnJvbSArIHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKGNvbCA8IHRvICYmIGlkeCA8IHRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0b2tlbnNbaWR4XS52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoICsgY29sID4gdG8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyVG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdG9rZW5zW2lkeF0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS5zdWJzdHJpbmcoMCwgdG8gLSBjb2wpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgICByZW5kZXJUb2tlbnMucHVzaCh0b2tlbnNbaWR4XSk7XG4gICAgICAgICAgICAgICAgY29sICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b2tlbnMgPSBzZXNzaW9uLmdldFRva2Vucyhyb3cpO1xuICAgICAgICBmb2xkTGluZS53YWxrKGZ1bmN0aW9uKHBsYWNlaG9sZGVyLCByb3csIGNvbHVtbiwgbGFzdENvbHVtbiwgaXNOZXdSb3cpIHtcbiAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZvbGRcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpc05ld1JvdylcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zID0gc2Vzc2lvbi5nZXRUb2tlbnMocm93KTtcblxuICAgICAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBhZGRUb2tlbnModG9rZW5zLCBsYXN0Q29sdW1uLCBjb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmb2xkTGluZS5lbmQucm93LCB0aGlzLnNlc3Npb24uZ2V0TGluZShmb2xkTGluZS5lbmQucm93KS5sZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUb2tlbnM7XG4gICAgfTtcblxuICAgIHRoaXMuJHVzZUxpbmVHcm91cHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpO1xuICAgIH07XG5cbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcik7XG4gICAgICAgIGlmICh0aGlzLiRtZWFzdXJlTm9kZSlcbiAgICAgICAgICAgIHRoaXMuJG1lYXN1cmVOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy4kbWVhc3VyZU5vZGUpO1xuICAgICAgICBkZWxldGUgdGhpcy4kbWVhc3VyZU5vZGU7XG4gICAgfTtcblxufSkuY2FsbChUZXh0LnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuVGV4dCA9IFRleHQ7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xheWVyL2N1cnNvclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kb21cIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgZG9tID0gYWNlcXVpcmUoXCIuLi9saWIvZG9tXCIpO1xudmFyIGlzSUU4O1xuXG52YXIgQ3Vyc29yID0gZnVuY3Rpb24ocGFyZW50RWwpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2VfbGF5ZXIgYWNlX2N1cnNvci1sYXllclwiO1xuICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgXG4gICAgaWYgKGlzSUU4ID09PSB1bmRlZmluZWQpXG4gICAgICAgIGlzSUU4ID0gIShcIm9wYWNpdHlcIiBpbiB0aGlzLmVsZW1lbnQuc3R5bGUpO1xuXG4gICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLmlzQmxpbmtpbmcgPSB0cnVlO1xuICAgIHRoaXMuYmxpbmtJbnRlcnZhbCA9IDEwMDA7XG4gICAgdGhpcy5zbW9vdGhCbGlua2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5jdXJzb3JzID0gW107XG4gICAgdGhpcy5jdXJzb3IgPSB0aGlzLmFkZEN1cnNvcigpO1xuICAgIGRvbS5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsIFwiYWNlX2hpZGRlbi1jdXJzb3JzXCIpO1xuICAgIHRoaXMuJHVwZGF0ZUN1cnNvcnMgPSAoaXNJRThcbiAgICAgICAgPyB0aGlzLiR1cGRhdGVWaXNpYmlsaXR5XG4gICAgICAgIDogdGhpcy4kdXBkYXRlT3BhY2l0eSkuYmluZCh0aGlzKTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICBcbiAgICB0aGlzLiR1cGRhdGVWaXNpYmlsaXR5ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHZhciBjdXJzb3JzID0gdGhpcy5jdXJzb3JzO1xuICAgICAgICBmb3IgKHZhciBpID0gY3Vyc29ycy5sZW5ndGg7IGktLTsgKVxuICAgICAgICAgICAgY3Vyc29yc1tpXS5zdHlsZS52aXNpYmlsaXR5ID0gdmFsID8gXCJcIiA6IFwiaGlkZGVuXCI7XG4gICAgfTtcbiAgICB0aGlzLiR1cGRhdGVPcGFjaXR5ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHZhciBjdXJzb3JzID0gdGhpcy5jdXJzb3JzO1xuICAgICAgICBmb3IgKHZhciBpID0gY3Vyc29ycy5sZW5ndGg7IGktLTsgKVxuICAgICAgICAgICAgY3Vyc29yc1tpXS5zdHlsZS5vcGFjaXR5ID0gdmFsID8gXCJcIiA6IFwiMFwiO1xuICAgIH07XG4gICAgXG5cbiAgICB0aGlzLiRwYWRkaW5nID0gMDtcbiAgICB0aGlzLnNldFBhZGRpbmcgPSBmdW5jdGlvbihwYWRkaW5nKSB7XG4gICAgICAgIHRoaXMuJHBhZGRpbmcgPSBwYWRkaW5nO1xuICAgIH07XG5cbiAgICB0aGlzLnNldFNlc3Npb24gPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgfTtcblxuICAgIHRoaXMuc2V0QmxpbmtpbmcgPSBmdW5jdGlvbihibGlua2luZykge1xuICAgICAgICBpZiAoYmxpbmtpbmcgIT0gdGhpcy5pc0JsaW5raW5nKXtcbiAgICAgICAgICAgIHRoaXMuaXNCbGlua2luZyA9IGJsaW5raW5nO1xuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0VGltZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNldEJsaW5rSW50ZXJ2YWwgPSBmdW5jdGlvbihibGlua0ludGVydmFsKSB7XG4gICAgICAgIGlmIChibGlua0ludGVydmFsICE9IHRoaXMuYmxpbmtJbnRlcnZhbCl7XG4gICAgICAgICAgICB0aGlzLmJsaW5rSW50ZXJ2YWwgPSBibGlua0ludGVydmFsO1xuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0VGltZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNldFNtb290aEJsaW5raW5nID0gZnVuY3Rpb24oc21vb3RoQmxpbmtpbmcpIHtcbiAgICAgICAgaWYgKHNtb290aEJsaW5raW5nICE9IHRoaXMuc21vb3RoQmxpbmtpbmcgJiYgIWlzSUU4KSB7XG4gICAgICAgICAgICB0aGlzLnNtb290aEJsaW5raW5nID0gc21vb3RoQmxpbmtpbmc7XG4gICAgICAgICAgICBkb20uc2V0Q3NzQ2xhc3ModGhpcy5lbGVtZW50LCBcImFjZV9zbW9vdGgtYmxpbmtpbmdcIiwgc21vb3RoQmxpbmtpbmcpO1xuICAgICAgICAgICAgdGhpcy4kdXBkYXRlQ3Vyc29ycyh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZUN1cnNvcnMgPSAodGhpcy4kdXBkYXRlT3BhY2l0eSkuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucmVzdGFydFRpbWVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hZGRDdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IFwiYWNlX2N1cnNvclwiO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB0aGlzLmN1cnNvcnMucHVzaChlbCk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVDdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmN1cnNvcnMucG9wKCk7XG4gICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmhpZGVDdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2VfaGlkZGVuLWN1cnNvcnNcIik7XG4gICAgICAgIHRoaXMucmVzdGFydFRpbWVyKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2hvd0N1cnNvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIGRvbS5yZW1vdmVDc3NDbGFzcyh0aGlzLmVsZW1lbnQsIFwiYWNlX2hpZGRlbi1jdXJzb3JzXCIpO1xuICAgICAgICB0aGlzLnJlc3RhcnRUaW1lcigpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlc3RhcnRUaW1lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdXBkYXRlID0gdGhpcy4kdXBkYXRlQ3Vyc29ycztcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xuICAgICAgICBpZiAodGhpcy5zbW9vdGhCbGlua2luZykge1xuICAgICAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2Vfc21vb3RoLWJsaW5raW5nXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB1cGRhdGUodHJ1ZSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQmxpbmtpbmcgfHwgIXRoaXMuYmxpbmtJbnRlcnZhbCB8fCAhdGhpcy5pc1Zpc2libGUpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMuc21vb3RoQmxpbmtpbmcpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCBcImFjZV9zbW9vdGgtYmxpbmtpbmdcIik7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB2YXIgYmxpbmsgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZShmYWxzZSk7XG4gICAgICAgICAgICB9LCAwLjYgKiB0aGlzLmJsaW5rSW50ZXJ2YWwpO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICBibGluaygpO1xuICAgICAgICB9LCB0aGlzLmJsaW5rSW50ZXJ2YWwpO1xuXG4gICAgICAgIGJsaW5rKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0UGl4ZWxQb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBvblNjcmVlbikge1xuICAgICAgICBpZiAoIXRoaXMuY29uZmlnIHx8ICF0aGlzLnNlc3Npb24pXG4gICAgICAgICAgICByZXR1cm4ge2xlZnQgOiAwLCB0b3AgOiAwfTtcblxuICAgICAgICBpZiAoIXBvc2l0aW9uKVxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLnNlc3Npb24uc2VsZWN0aW9uLmdldEN1cnNvcigpO1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIHZhciBjdXJzb3JMZWZ0ID0gdGhpcy4kcGFkZGluZyArIHBvcy5jb2x1bW4gKiB0aGlzLmNvbmZpZy5jaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgdmFyIGN1cnNvclRvcCA9IChwb3Mucm93IC0gKG9uU2NyZWVuID8gdGhpcy5jb25maWcuZmlyc3RSb3dTY3JlZW4gOiAwKSkgKlxuICAgICAgICAgICAgdGhpcy5jb25maWcubGluZUhlaWdodDtcblxuICAgICAgICByZXR1cm4ge2xlZnQgOiBjdXJzb3JMZWZ0LCB0b3AgOiBjdXJzb3JUb3B9O1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgICAgICB2YXIgc2VsZWN0aW9ucyA9IHRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2VycztcbiAgICAgICAgdmFyIGkgPSAwLCBjdXJzb3JJbmRleCA9IDA7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbnMgPT09IHVuZGVmaW5lZCB8fCBzZWxlY3Rpb25zLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICBzZWxlY3Rpb25zID0gW3tjdXJzb3I6IG51bGx9XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gc2VsZWN0aW9ucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwaXhlbFBvcyA9IHRoaXMuZ2V0UGl4ZWxQb3NpdGlvbihzZWxlY3Rpb25zW2ldLmN1cnNvciwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoKHBpeGVsUG9zLnRvcCA+IGNvbmZpZy5oZWlnaHQgKyBjb25maWcub2Zmc2V0IHx8XG4gICAgICAgICAgICAgICAgIHBpeGVsUG9zLnRvcCA8IDApICYmIGkgPiAxKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzdHlsZSA9ICh0aGlzLmN1cnNvcnNbY3Vyc29ySW5kZXgrK10gfHwgdGhpcy5hZGRDdXJzb3IoKSkuc3R5bGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghdGhpcy5kcmF3Q3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUubGVmdCA9IHBpeGVsUG9zLmxlZnQgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgc3R5bGUudG9wID0gcGl4ZWxQb3MudG9wICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHN0eWxlLndpZHRoID0gY29uZmlnLmNoYXJhY3RlcldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHN0eWxlLmhlaWdodCA9IGNvbmZpZy5saW5lSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDdXJzb3Ioc3R5bGUsIHBpeGVsUG9zLCBjb25maWcsIHNlbGVjdGlvbnNbaV0sIHRoaXMuc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuY3Vyc29ycy5sZW5ndGggPiBjdXJzb3JJbmRleClcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ3Vyc29yKCk7XG5cbiAgICAgICAgdmFyIG92ZXJ3cml0ZSA9IHRoaXMuc2Vzc2lvbi5nZXRPdmVyd3JpdGUoKTtcbiAgICAgICAgdGhpcy4kc2V0T3ZlcndyaXRlKG92ZXJ3cml0ZSk7XG4gICAgICAgIHRoaXMuJHBpeGVsUG9zID0gcGl4ZWxQb3M7XG4gICAgICAgIHRoaXMucmVzdGFydFRpbWVyKCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmRyYXdDdXJzb3IgPSBudWxsO1xuXG4gICAgdGhpcy4kc2V0T3ZlcndyaXRlID0gZnVuY3Rpb24ob3ZlcndyaXRlKSB7XG4gICAgICAgIGlmIChvdmVyd3JpdGUgIT0gdGhpcy5vdmVyd3JpdGUpIHtcbiAgICAgICAgICAgIHRoaXMub3ZlcndyaXRlID0gb3ZlcndyaXRlO1xuICAgICAgICAgICAgaWYgKG92ZXJ3cml0ZSlcbiAgICAgICAgICAgICAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCBcImFjZV9vdmVyd3JpdGUtY3Vyc29yc1wiKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCBcImFjZV9vdmVyd3JpdGUtY3Vyc29yc1wiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xuICAgIH07XG5cbn0pLmNhbGwoQ3Vyc29yLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuQ3Vyc29yID0gQ3Vyc29yO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9zY3JvbGxiYXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi9saWIvZG9tXCIpO1xudmFyIGV2ZW50ID0gYWNlcXVpcmUoXCIuL2xpYi9ldmVudFwiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIFNjcm9sbEJhciA9IGZ1bmN0aW9uKHBhcmVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBcImFjZV9zY3JvbGxiYXIgYWNlX3Njcm9sbGJhclwiICsgdGhpcy5jbGFzc1N1ZmZpeDtcblxuICAgIHRoaXMuaW5uZXIgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmlubmVyLmNsYXNzTmFtZSA9IFwiYWNlX3Njcm9sbGJhci1pbm5lclwiO1xuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmlubmVyKTtcblxuICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuXG4gICAgdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB0aGlzLnNraXBFdmVudCA9IGZhbHNlO1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5lbGVtZW50LCBcInNjcm9sbFwiLCB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcykpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRoaXMuZWxlbWVudCwgXCJtb3VzZWRvd25cIiwgZXZlbnQucHJldmVudERlZmF1bHQpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcblxuICAgIHRoaXMuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uKGlzVmlzaWJsZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IGlzVmlzaWJsZSA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBpc1Zpc2libGU7XG4gICAgfTtcbn0pLmNhbGwoU2Nyb2xsQmFyLnByb3RvdHlwZSk7XG52YXIgVlNjcm9sbEJhciA9IGZ1bmN0aW9uKHBhcmVudCwgcmVuZGVyZXIpIHtcbiAgICBTY3JvbGxCYXIuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgIHRoaXMuc2Nyb2xsVG9wID0gMDtcbiAgICByZW5kZXJlci4kc2Nyb2xsYmFyV2lkdGggPSBcbiAgICB0aGlzLndpZHRoID0gZG9tLnNjcm9sbGJhcldpZHRoKHBhcmVudC5vd25lckRvY3VtZW50KTtcbiAgICB0aGlzLmlubmVyLnN0eWxlLndpZHRoID1cbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSAodGhpcy53aWR0aCB8fCAxNSkgKyA1ICsgXCJweFwiO1xufTtcblxub29wLmluaGVyaXRzKFZTY3JvbGxCYXIsIFNjcm9sbEJhcik7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuY2xhc3NTdWZmaXggPSAnLXYnO1xuICAgIHRoaXMub25TY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNraXBFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSB0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcInNjcm9sbFwiLCB7ZGF0YTogdGhpcy5zY3JvbGxUb3B9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNraXBFdmVudCA9IGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5nZXRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1Zpc2libGUgPyB0aGlzLndpZHRoIDogMDtcbiAgICB9O1xuICAgIHRoaXMuc2V0SGVpZ2h0ID0gZnVuY3Rpb24oaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG4gICAgfTtcbiAgICB0aGlzLnNldElubmVySGVpZ2h0ID0gZnVuY3Rpb24oaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuaW5uZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIH07XG4gICAgdGhpcy5zZXRTY3JvbGxIZWlnaHQgPSBmdW5jdGlvbihoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5pbm5lci5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG4gICAgfTtcbiAgICB0aGlzLnNldFNjcm9sbFRvcCA9IGZ1bmN0aW9uKHNjcm9sbFRvcCkge1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxUb3AgIT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICB0aGlzLnNraXBFdmVudCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvcCA9IHRoaXMuZWxlbWVudC5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KS5jYWxsKFZTY3JvbGxCYXIucHJvdG90eXBlKTtcbnZhciBIU2Nyb2xsQmFyID0gZnVuY3Rpb24ocGFyZW50LCByZW5kZXJlcikge1xuICAgIFNjcm9sbEJhci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgdGhpcy5zY3JvbGxMZWZ0ID0gMDtcbiAgICB0aGlzLmhlaWdodCA9IHJlbmRlcmVyLiRzY3JvbGxiYXJXaWR0aDtcbiAgICB0aGlzLmlubmVyLnN0eWxlLmhlaWdodCA9XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9ICh0aGlzLmhlaWdodCB8fCAxNSkgKyA1ICsgXCJweFwiO1xufTtcblxub29wLmluaGVyaXRzKEhTY3JvbGxCYXIsIFNjcm9sbEJhcik7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuY2xhc3NTdWZmaXggPSAnLWgnO1xuICAgIHRoaXMub25TY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNraXBFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxMZWZ0ID0gdGhpcy5lbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwic2Nyb2xsXCIsIHtkYXRhOiB0aGlzLnNjcm9sbExlZnR9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNraXBFdmVudCA9IGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5nZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWaXNpYmxlID8gdGhpcy5oZWlnaHQgOiAwO1xuICAgIH07XG4gICAgdGhpcy5zZXRXaWR0aCA9IGZ1bmN0aW9uKHdpZHRoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xuICAgIH07XG4gICAgdGhpcy5zZXRJbm5lcldpZHRoID0gZnVuY3Rpb24od2lkdGgpIHtcbiAgICAgICAgdGhpcy5pbm5lci5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xuICAgIH07XG4gICAgdGhpcy5zZXRTY3JvbGxXaWR0aCA9IGZ1bmN0aW9uKHdpZHRoKSB7XG4gICAgICAgIHRoaXMuaW5uZXIuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2Nyb2xsTGVmdCA9IGZ1bmN0aW9uKHNjcm9sbExlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsTGVmdCAhPSBzY3JvbGxMZWZ0KSB7XG4gICAgICAgICAgICB0aGlzLnNraXBFdmVudCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbExlZnQgPSB0aGlzLmVsZW1lbnQuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KS5jYWxsKEhTY3JvbGxCYXIucHJvdG90eXBlKTtcblxuXG5leHBvcnRzLlNjcm9sbEJhciA9IFZTY3JvbGxCYXI7IC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmV4cG9ydHMuU2Nyb2xsQmFyViA9IFZTY3JvbGxCYXI7IC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmV4cG9ydHMuU2Nyb2xsQmFySCA9IEhTY3JvbGxCYXI7IC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcblxuZXhwb3J0cy5WU2Nyb2xsQmFyID0gVlNjcm9sbEJhcjtcbmV4cG9ydHMuSFNjcm9sbEJhciA9IEhTY3JvbGxCYXI7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9yZW5kZXJsb29wXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2V2ZW50XCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGV2ZW50ID0gYWNlcXVpcmUoXCIuL2xpYi9ldmVudFwiKTtcblxuXG52YXIgUmVuZGVyTG9vcCA9IGZ1bmN0aW9uKG9uUmVuZGVyLCB3aW4pIHtcbiAgICB0aGlzLm9uUmVuZGVyID0gb25SZW5kZXI7XG4gICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy5jaGFuZ2VzID0gMDtcbiAgICB0aGlzLndpbmRvdyA9IHdpbiB8fCB3aW5kb3c7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cblxuICAgIHRoaXMuc2NoZWR1bGUgPSBmdW5jdGlvbihjaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gdGhpcy5jaGFuZ2VzIHwgY2hhbmdlO1xuICAgICAgICBpZiAoIXRoaXMucGVuZGluZyAmJiB0aGlzLmNoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgICAgICAgZXZlbnQubmV4dEZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9zZWxmLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlcztcbiAgICAgICAgICAgICAgICB3aGlsZSAoY2hhbmdlcyA9IF9zZWxmLmNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuY2hhbmdlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLm9uUmVuZGVyKGNoYW5nZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMud2luZG93KTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoUmVuZGVyTG9vcC5wcm90b3R5cGUpO1xuXG5leHBvcnRzLlJlbmRlckxvb3AgPSBSZW5kZXJMb29wO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGF5ZXIvZm9udF9tZXRyaWNzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2xpYi91c2VyYWdlbnRcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcbnZhciB1c2VyYWdlbnQgPSBhY2VxdWlyZShcIi4uL2xpYi91c2VyYWdlbnRcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gYWNlcXVpcmUoXCIuLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBDSEFSX0NPVU5UID0gMDtcblxudmFyIEZvbnRNZXRyaWNzID0gZXhwb3J0cy5Gb250TWV0cmljcyA9IGZ1bmN0aW9uKHBhcmVudEVsKSB7XG4gICAgdGhpcy5lbCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuJHNldE1lYXN1cmVOb2RlU3R5bGVzKHRoaXMuZWwuc3R5bGUsIHRydWUpO1xuICAgIFxuICAgIHRoaXMuJG1haW4gPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLiRzZXRNZWFzdXJlTm9kZVN0eWxlcyh0aGlzLiRtYWluLnN0eWxlKTtcbiAgICBcbiAgICB0aGlzLiRtZWFzdXJlTm9kZSA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuJHNldE1lYXN1cmVOb2RlU3R5bGVzKHRoaXMuJG1lYXN1cmVOb2RlLnN0eWxlKTtcbiAgICBcbiAgICBcbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuJG1haW4pO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy4kbWVhc3VyZU5vZGUpO1xuICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKHRoaXMuZWwpO1xuICAgIFxuICAgIGlmICghQ0hBUl9DT1VOVClcbiAgICAgICAgdGhpcy4kdGVzdEZyYWN0aW9uYWxSZWN0KCk7XG4gICAgdGhpcy4kbWVhc3VyZU5vZGUuaW5uZXJIVE1MID0gbGFuZy5zdHJpbmdSZXBlYXQoXCJYXCIsIENIQVJfQ09VTlQpO1xuICAgIFxuICAgIHRoaXMuJGNoYXJhY3RlclNpemUgPSB7d2lkdGg6IDAsIGhlaWdodDogMH07XG4gICAgdGhpcy5jaGVja0ZvclNpemVDaGFuZ2VzKCk7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG4gICAgICAgIFxuICAgIHRoaXMuJGNoYXJhY3RlclNpemUgPSB7d2lkdGg6IDAsIGhlaWdodDogMH07XG4gICAgXG4gICAgdGhpcy4kdGVzdEZyYWN0aW9uYWxSZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLiRzZXRNZWFzdXJlTm9kZVN0eWxlcyhlbC5zdHlsZSk7XG4gICAgICAgIGVsLnN0eWxlLndpZHRoID0gXCIwLjJweFwiO1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgdyA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgICAgICBpZiAodyA+IDAgJiYgdyA8IDEpXG4gICAgICAgICAgICBDSEFSX0NPVU5UID0gNTA7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIENIQVJfQ09VTlQgPSAxMDA7XG4gICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kc2V0TWVhc3VyZU5vZGVTdHlsZXMgPSBmdW5jdGlvbihzdHlsZSwgaXNSb290KSB7XG4gICAgICAgIHN0eWxlLndpZHRoID0gc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG4gICAgICAgIHN0eWxlLmxlZnQgPSBzdHlsZS50b3AgPSBcIjBweFwiO1xuICAgICAgICBzdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHN0eWxlLndoaXRlU3BhY2UgPSBcInByZVwiO1xuXG4gICAgICAgIGlmICh1c2VyYWdlbnQuaXNJRSA8IDgpIHtcbiAgICAgICAgICAgIHN0eWxlW1wiZm9udC1mYW1pbHlcIl0gPSBcImluaGVyaXRcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlLmZvbnQgPSBcImluaGVyaXRcIjtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZS5vdmVyZmxvdyA9IGlzUm9vdCA/IFwiaGlkZGVuXCIgOiBcInZpc2libGVcIjtcbiAgICB9O1xuXG4gICAgdGhpcy5jaGVja0ZvclNpemVDaGFuZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy4kbWVhc3VyZVNpemVzKCk7XG4gICAgICAgIGlmIChzaXplICYmICh0aGlzLiRjaGFyYWN0ZXJTaXplLndpZHRoICE9PSBzaXplLndpZHRoIHx8IHRoaXMuJGNoYXJhY3RlclNpemUuaGVpZ2h0ICE9PSBzaXplLmhlaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMuJG1lYXN1cmVOb2RlLnN0eWxlLmZvbnRXZWlnaHQgPSBcImJvbGRcIjtcbiAgICAgICAgICAgIHZhciBib2xkU2l6ZSA9IHRoaXMuJG1lYXN1cmVTaXplcygpO1xuICAgICAgICAgICAgdGhpcy4kbWVhc3VyZU5vZGUuc3R5bGUuZm9udFdlaWdodCA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLiRjaGFyYWN0ZXJTaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuY2hhclNpemVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIHRoaXMuYWxsb3dCb2xkRm9udHMgPSBib2xkU2l6ZSAmJiBib2xkU2l6ZS53aWR0aCA9PT0gc2l6ZS53aWR0aCAmJiBib2xkU2l6ZS5oZWlnaHQgPT09IHNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZUNoYXJhY3RlclNpemVcIiwge2RhdGE6IHNpemV9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRwb2xsU2l6ZUNoYW5nZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5jaGVja0ZvclNpemVDaGFuZ2VzKCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldFBvbGxpbmcgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgdGhpcy4kcG9sbFNpemVDaGFuZ2VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXIpO1xuICAgICAgICAgICAgdGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXIgPSAwO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuJG1lYXN1cmVTaXplcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoQ0hBUl9DT1VOVCA9PT0gNTApIHtcbiAgICAgICAgICAgIHZhciByZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7IFxuICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuJG1lYXN1cmVOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICByZWN0ID0ge3dpZHRoOiAwLCBoZWlnaHQ6MCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNpemUgPSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCAvIENIQVJfQ09VTlRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuJG1lYXN1cmVOb2RlLmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy4kbWVhc3VyZU5vZGUuY2xpZW50V2lkdGggLyBDSEFSX0NPVU5UXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaXplLndpZHRoID09PSAwIHx8IHNpemUuaGVpZ2h0ID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH07XG5cbiAgICB0aGlzLiRtZWFzdXJlQ2hhcldpZHRoID0gZnVuY3Rpb24oY2gpIHtcbiAgICAgICAgdGhpcy4kbWFpbi5pbm5lckhUTUwgPSBsYW5nLnN0cmluZ1JlcGVhdChjaCwgQ0hBUl9DT1VOVCk7XG4gICAgICAgIHZhciByZWN0ID0gdGhpcy4kbWFpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHJlY3Qud2lkdGggLyBDSEFSX0NPVU5UO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRDaGFyYWN0ZXJXaWR0aCA9IGZ1bmN0aW9uKGNoKSB7XG4gICAgICAgIHZhciB3ID0gdGhpcy5jaGFyU2l6ZXNbY2hdO1xuICAgICAgICBpZiAodyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3ID0gdGhpcy5jaGFyU2l6ZXNbY2hdID0gdGhpcy4kbWVhc3VyZUNoYXJXaWR0aChjaCkgLyB0aGlzLiRjaGFyYWN0ZXJTaXplLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3O1xuICAgIH07XG5cbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcik7XG4gICAgICAgIGlmICh0aGlzLmVsICYmIHRoaXMuZWwucGFyZW50Tm9kZSlcbiAgICAgICAgICAgIHRoaXMuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsKTtcbiAgICB9O1xuXG59KS5jYWxsKEZvbnRNZXRyaWNzLnByb3RvdHlwZSk7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3ZpcnR1YWxfcmVuZGVyZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL2NvbmZpZ1wiLFwiYWNlL2xpYi91c2VyYWdlbnRcIixcImFjZS9sYXllci9ndXR0ZXJcIixcImFjZS9sYXllci9tYXJrZXJcIixcImFjZS9sYXllci90ZXh0XCIsXCJhY2UvbGF5ZXIvY3Vyc29yXCIsXCJhY2Uvc2Nyb2xsYmFyXCIsXCJhY2Uvc2Nyb2xsYmFyXCIsXCJhY2UvcmVuZGVybG9vcFwiLFwiYWNlL2xheWVyL2ZvbnRfbWV0cmljc1wiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi9saWIvZG9tXCIpO1xudmFyIGNvbmZpZyA9IGFjZXF1aXJlKFwiLi9jb25maWdcIik7XG52YXIgdXNlcmFnZW50ID0gYWNlcXVpcmUoXCIuL2xpYi91c2VyYWdlbnRcIik7XG52YXIgR3V0dGVyTGF5ZXIgPSBhY2VxdWlyZShcIi4vbGF5ZXIvZ3V0dGVyXCIpLkd1dHRlcjtcbnZhciBNYXJrZXJMYXllciA9IGFjZXF1aXJlKFwiLi9sYXllci9tYXJrZXJcIikuTWFya2VyO1xudmFyIFRleHRMYXllciA9IGFjZXF1aXJlKFwiLi9sYXllci90ZXh0XCIpLlRleHQ7XG52YXIgQ3Vyc29yTGF5ZXIgPSBhY2VxdWlyZShcIi4vbGF5ZXIvY3Vyc29yXCIpLkN1cnNvcjtcbnZhciBIU2Nyb2xsQmFyID0gYWNlcXVpcmUoXCIuL3Njcm9sbGJhclwiKS5IU2Nyb2xsQmFyO1xudmFyIFZTY3JvbGxCYXIgPSBhY2VxdWlyZShcIi4vc2Nyb2xsYmFyXCIpLlZTY3JvbGxCYXI7XG52YXIgUmVuZGVyTG9vcCA9IGFjZXF1aXJlKFwiLi9yZW5kZXJsb29wXCIpLlJlbmRlckxvb3A7XG52YXIgRm9udE1ldHJpY3MgPSBhY2VxdWlyZShcIi4vbGF5ZXIvZm9udF9tZXRyaWNzXCIpLkZvbnRNZXRyaWNzO1xudmFyIEV2ZW50RW1pdHRlciA9IGFjZXF1aXJlKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG52YXIgZWRpdG9yQ3NzID0gXCIuYWNlX2VkaXRvciB7XFxcbnBvc2l0aW9uOiByZWxhdGl2ZTtcXFxub3ZlcmZsb3c6IGhpZGRlbjtcXFxuZm9udDogMTJweC9ub3JtYWwgJ01vbmFjbycsICdNZW5sbycsICdVYnVudHUgTW9ubycsICdDb25zb2xhcycsICdzb3VyY2UtY29kZS1wcm8nLCBtb25vc3BhY2U7XFxcbmRpcmVjdGlvbjogbHRyO1xcXG59XFxcbi5hY2Vfc2Nyb2xsZXIge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbm92ZXJmbG93OiBoaWRkZW47XFxcbnRvcDogMDtcXFxuYm90dG9tOiAwO1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcXG4tbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxcbi1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxcbi13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxcbnVzZXItc2VsZWN0OiBub25lO1xcXG5jdXJzb3I6IHRleHQ7XFxcbn1cXFxuLmFjZV9jb250ZW50IHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG4tbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbi13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxubWluLXdpZHRoOiAxMDAlO1xcXG59XFxcbi5hY2VfZHJhZ2dpbmcgLmFjZV9zY3JvbGxlcjpiZWZvcmV7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxudG9wOiAwO1xcXG5sZWZ0OiAwO1xcXG5yaWdodDogMDtcXFxuYm90dG9tOiAwO1xcXG5jb250ZW50OiAnJztcXFxuYmFja2dyb3VuZDogcmdiYSgyNTAsIDI1MCwgMjUwLCAwLjAxKTtcXFxuei1pbmRleDogMTAwMDtcXFxufVxcXG4uYWNlX2RyYWdnaW5nLmFjZV9kYXJrIC5hY2Vfc2Nyb2xsZXI6YmVmb3Jle1xcXG5iYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDEpO1xcXG59XFxcbi5hY2Vfc2VsZWN0aW5nLCAuYWNlX3NlbGVjdGluZyAqIHtcXFxuY3Vyc29yOiB0ZXh0ICFpbXBvcnRhbnQ7XFxcbn1cXFxuLmFjZV9ndXR0ZXIge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbm92ZXJmbG93IDogaGlkZGVuO1xcXG53aWR0aDogYXV0bztcXFxudG9wOiAwO1xcXG5ib3R0b206IDA7XFxcbmxlZnQ6IDA7XFxcbmN1cnNvcjogZGVmYXVsdDtcXFxuei1pbmRleDogNDtcXFxuLW1zLXVzZXItc2VsZWN0OiBub25lO1xcXG4tbW96LXVzZXItc2VsZWN0OiBub25lO1xcXG4td2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcXG51c2VyLXNlbGVjdDogbm9uZTtcXFxufVxcXG4uYWNlX2d1dHRlci1hY3RpdmUtbGluZSB7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxubGVmdDogMDtcXFxucmlnaHQ6IDA7XFxcbn1cXFxuLmFjZV9zY3JvbGxlci5hY2Vfc2Nyb2xsLWxlZnQge1xcXG5ib3gtc2hhZG93OiAxN3B4IDAgMTZweCAtMTZweCByZ2JhKDAsIDAsIDAsIDAuNCkgaW5zZXQ7XFxcbn1cXFxuLmFjZV9ndXR0ZXItY2VsbCB7XFxcbnBhZGRpbmctbGVmdDogMTlweDtcXFxucGFkZGluZy1yaWdodDogNnB4O1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcXG59XFxcbi5hY2VfZ3V0dGVyLWNlbGwuYWNlX2Vycm9yIHtcXFxuYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQU1BQUFBb0xROVRBQUFCT0ZCTVZFWC8vLy8vLy8vL1FSc3dGQWIvVWk0d0ZBWXdGQVl3RkFhV0dBZkRSeW16T1NIL1B4c3dGQWIvU2lVd0ZBWXdGQWJVUFJ2alFpRGxsb2c1SGhIZFJ5YnNUaTMvVHl2OVRpcitTeWovVUMzLy8vL1h1cmViTUJJd0ZBYi9SU0hiUHgvZ1V6ZmR3TDNrek1pdktCQXdGQWJidmJuaFB4NjZOaG93RkFZd0ZBYVpKZzh3RkFheEtCRFp1cmYvUkI2bU14Yi9TQ013RkFZd0ZBYnhRQjMrUkI0d0ZBYi9RaHk0T2grNFFpZmJOUmN3RkFZd0ZBWXdGQWIvUVJ6ZE5oZ3dGQVl3RkFiYXY3di9VeTdvYUU2OE1CSzVMeExld3IvcjJOWGV3THN3RkFheEp3NHdGQWJrUFJ5MlB5WXdGQWF4S2hMbTF0TXdGQWF6UGlRd0ZBYVVHQWIvUUJyZk94M2J2cnYvVkMvbWFFNHdGQWJSUEJxNk1STzhReW5ldzhEcDJ0amZ3YjB3RkFieDZlanU1K2J5NnVuczR1SDkvZjM2K3ZyL0drSGpBQUFBWW5SU1RsTUFHdCs2NHJuV3UvYm84ZUFBNEluSDMrRHdvTjdqNGVMaTR4UDk5TmZnNCtiKy91OUIvZURzMU1EMW1PNys0UEhnMk1YYTM0N2c3dkRpek1MTjRlRytQdjdpNWV2cy92Nzl5dTdTMy9EVjcvNDk4WXYyNGVIKzR1ZlEzT3p1L3Y3K3kxM3NScXdBQUFETFNVUkJWSGphWmMvWERzRmdHSUJodERyc2hsaXRtazJJcmJIRnFMMnB2WGYvKzc4RFBva2o3K0Z6OXFwVS85VVhKSWxobVBhVGFRNlFQYXowbW0rNWd3a2dvdmNWNkdaemQ1SnRDUXdnc3hvSE92Sk8xNWtsZVJMQW5NZ0hGSUVTVUVQbWF3QjluZ21lbFR0aXB3d2ZBU2lseE9MeWlWNVVWVXlWQWZiRzBjQ1BIaWcrR0JrekFFTkhTMEFzdFZGNmJhY1pJT3pnTG14c0hidDJPZWNOZ0pDODNKRVJtZVBVWXE4QVJHa0p4Nlh0RnNkZGRCUWdaRTJuUFI2Q0lDWmhhd2pBNEZiL2NodiszOTlrZlIrTU1NREdPUUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcXG5iYWNrZ3JvdW5kLXBvc2l0aW9uOiAycHggY2VudGVyO1xcXG59XFxcbi5hY2VfZ3V0dGVyLWNlbGwuYWNlX3dhcm5pbmcge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUFtVkJNVkVYLy8vOEFBQUQvLy84QUFBQUFBQUJQU3piLzVzQUFBQUIvYmxILzczei91bGtBQUFBQUFBRDg1cGtBQUFBQUFBQUNBZ1Avdkd6L3JrRGVyR2JHclY3L3BrUUlDQWYvLy8vZTBJc0FBQUQvb0VEL3FUdmhyblVBQUFEL3lIRC9uamNBQUFEdXYyci9uei8vb1RqL3AwNjRvR2YvekhBQUFBQTlOaXIvdEZJQUFBRC90bFRpdVdmL3RrSUFBQUN5blhFQUFBQUFBQUF0SVJXN3pCcEJBQUFBTTNSU1RsTUFBQlIxbTdSWE84TG4zMVozNnpUK25lWGU1T3pvb1JEZm4rVFo0cDNoMmhUZjR0M2szdWN5ck4xSzUrWGFrczUyU2ZzOUNYZ3JBQUFBamtsRVFWUjQybzNQYlErQ0lCUUZZRXdib1BoU1lnb1l1bklxcUxuNi96OHVZZEg4Vm1kbnU5dno0V3dYZ04veFRQUkQyK3NnT2NaanNnZS93aFhaZ1VhWVl2VDhRbnVKYVVyanJIVVFyZUdjenVFYWZRQ08vU0pUdWZUYnJvV3NQZ3NsbFZocTN3SkVrMmpVU3pYM0NVRURKQzg0NzA3ZGpSYzVNVEFReG9MZ3VwV1J3VzZVQjVmUysrTlY4QWJPWmduc0M3QnBFQUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcXG5iYWNrZ3JvdW5kLXBvc2l0aW9uOiAycHggY2VudGVyO1xcXG59XFxcbi5hY2VfZ3V0dGVyLWNlbGwuYWNlX2luZm8ge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBQUFBQUE2bUtDOUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBQUowVWs1VEFBQjJrODA0QUFBQVBrbEVRVlFZMDJOZ0lCNjhRdU8zdGlMem5qQXdwS1RnTnlEYk1lZ3dpc0NIWlVFVFVaVjBacU9xdUJwWGoycnRucFNKVDFBRW5uUm1MMk9nR2dBQUlLa1JRYXAyaHRnQUFBQUFTVVZPUks1Q1lJST1cXFwiKTtcXFxuYmFja2dyb3VuZC1wb3NpdGlvbjogMnB4IGNlbnRlcjtcXFxufVxcXG4uYWNlX2RhcmsgLmFjZV9ndXR0ZXItY2VsbC5hY2VfaW5mbyB7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQkFNQUFBRHQzZUpTQUFBQUpGQk1WRVVBQUFDaG9hR0FnSUFxS2lxK3ZyNnRyYTFaV1ZtVWxKU2JtNXM4UER4dWJtNTZlbnJkZ3pnM0FBQUFBWFJTVGxNQVFPYllaZ0FBQUNsSlJFRlVlTnBqWU1BUGRzTVlIZWd5SlpGUUJsc1VsTUZWQ1dVWUtrQVpNeFpBR2R4bERNUUJBRytUQlA0QjZSeUpBQUFBQUVsRlRrU3VRbUNDXFxcIik7XFxcbn1cXFxuLmFjZV9zY3JvbGxiYXIge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbnJpZ2h0OiAwO1xcXG5ib3R0b206IDA7XFxcbnotaW5kZXg6IDY7XFxcbn1cXFxuLmFjZV9zY3JvbGxiYXItaW5uZXIge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbmN1cnNvcjogdGV4dDtcXFxubGVmdDogMDtcXFxudG9wOiAwO1xcXG59XFxcbi5hY2Vfc2Nyb2xsYmFyLXZ7XFxcbm92ZXJmbG93LXg6IGhpZGRlbjtcXFxub3ZlcmZsb3cteTogc2Nyb2xsO1xcXG50b3A6IDA7XFxcbn1cXFxuLmFjZV9zY3JvbGxiYXItaCB7XFxcbm92ZXJmbG93LXg6IHNjcm9sbDtcXFxub3ZlcmZsb3cteTogaGlkZGVuO1xcXG5sZWZ0OiAwO1xcXG59XFxcbi5hY2VfcHJpbnQtbWFyZ2luIHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG5oZWlnaHQ6IDEwMCU7XFxcbn1cXFxuLmFjZV90ZXh0LWlucHV0IHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG56LWluZGV4OiAwO1xcXG53aWR0aDogMC41ZW07XFxcbmhlaWdodDogMWVtO1xcXG5vcGFjaXR5OiAwO1xcXG5iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXFxuLW1vei1hcHBlYXJhbmNlOiBub25lO1xcXG5hcHBlYXJhbmNlOiBub25lO1xcXG5ib3JkZXI6IG5vbmU7XFxcbnJlc2l6ZTogbm9uZTtcXFxub3V0bGluZTogbm9uZTtcXFxub3ZlcmZsb3c6IGhpZGRlbjtcXFxuZm9udDogaW5oZXJpdDtcXFxucGFkZGluZzogMCAxcHg7XFxcbm1hcmdpbjogMCAtMXB4O1xcXG50ZXh0LWluZGVudDogLTFlbTtcXFxuLW1zLXVzZXItc2VsZWN0OiB0ZXh0O1xcXG4tbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xcXG4td2Via2l0LXVzZXItc2VsZWN0OiB0ZXh0O1xcXG51c2VyLXNlbGVjdDogdGV4dDtcXFxud2hpdGUtc3BhY2U6IHByZSFpbXBvcnRhbnQ7XFxcbn1cXFxuLmFjZV90ZXh0LWlucHV0LmFjZV9jb21wb3NpdGlvbiB7XFxcbmJhY2tncm91bmQ6IGluaGVyaXQ7XFxcbmNvbG9yOiBpbmhlcml0O1xcXG56LWluZGV4OiAxMDAwO1xcXG5vcGFjaXR5OiAxO1xcXG50ZXh0LWluZGVudDogMDtcXFxufVxcXG4uYWNlX2xheWVyIHtcXFxuei1pbmRleDogMTtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG5vdmVyZmxvdzogaGlkZGVuO1xcXG53b3JkLXdyYXA6IG5vcm1hbDtcXFxud2hpdGUtc3BhY2U6IHByZTtcXFxuaGVpZ2h0OiAxMDAlO1xcXG53aWR0aDogMTAwJTtcXFxuLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG4td2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbmJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbnBvaW50ZXItZXZlbnRzOiBub25lO1xcXG59XFxcbi5hY2VfZ3V0dGVyLWxheWVyIHtcXFxucG9zaXRpb246IHJlbGF0aXZlO1xcXG53aWR0aDogYXV0bztcXFxudGV4dC1hbGlnbjogcmlnaHQ7XFxcbnBvaW50ZXItZXZlbnRzOiBhdXRvO1xcXG59XFxcbi5hY2VfdGV4dC1sYXllciB7XFxcbmZvbnQ6IGluaGVyaXQgIWltcG9ydGFudDtcXFxufVxcXG4uYWNlX2NqayB7XFxcbmRpc3BsYXk6IGlubGluZS1ibG9jaztcXFxudGV4dC1hbGlnbjogY2VudGVyO1xcXG59XFxcbi5hY2VfY3Vyc29yLWxheWVyIHtcXFxuei1pbmRleDogNDtcXFxufVxcXG4uYWNlX2N1cnNvciB7XFxcbnotaW5kZXg6IDQ7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG4td2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbmJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbmJvcmRlci1sZWZ0OiAycHggc29saWQ7XFxcbnRyYW5zZm9ybTogdHJhbnNsYXRleigwKTtcXFxufVxcXG4uYWNlX3NsaW0tY3Vyc29ycyAuYWNlX2N1cnNvciB7XFxcbmJvcmRlci1sZWZ0LXdpZHRoOiAxcHg7XFxcbn1cXFxuLmFjZV9vdmVyd3JpdGUtY3Vyc29ycyAuYWNlX2N1cnNvciB7XFxcbmJvcmRlci1sZWZ0LXdpZHRoOiAwO1xcXG5ib3JkZXItYm90dG9tOiAxcHggc29saWQ7XFxcbn1cXFxuLmFjZV9oaWRkZW4tY3Vyc29ycyAuYWNlX2N1cnNvciB7XFxcbm9wYWNpdHk6IDAuMjtcXFxufVxcXG4uYWNlX3Ntb290aC1ibGlua2luZyAuYWNlX2N1cnNvciB7XFxcbi13ZWJraXQtdHJhbnNpdGlvbjogb3BhY2l0eSAwLjE4cztcXFxudHJhbnNpdGlvbjogb3BhY2l0eSAwLjE4cztcXFxufVxcXG4uYWNlX2VkaXRvci5hY2VfbXVsdGlzZWxlY3QgLmFjZV9jdXJzb3Ige1xcXG5ib3JkZXItbGVmdC13aWR0aDogMXB4O1xcXG59XFxcbi5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCwgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGFjayB7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuei1pbmRleDogMztcXFxufVxcXG4uYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuei1pbmRleDogNTtcXFxufVxcXG4uYWNlX21hcmtlci1sYXllciAuYWNlX2JyYWNrZXQge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbnotaW5kZXg6IDY7XFxcbn1cXFxuLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9hY3RpdmUtbGluZSB7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuei1pbmRleDogMjtcXFxufVxcXG4uYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGVkLXdvcmQge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbnotaW5kZXg6IDQ7XFxcbi1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG5ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG59XFxcbi5hY2VfbGluZSAuYWNlX2ZvbGQge1xcXG4tbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbi13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuZGlzcGxheTogaW5saW5lLWJsb2NrO1xcXG5oZWlnaHQ6IDExcHg7XFxcbm1hcmdpbi10b3A6IC0ycHg7XFxcbnZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxcbmJhY2tncm91bmQtaW1hZ2U6XFxcbnVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCRUFBQUFKQ0FZQUFBRFU2TWNNQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFKcEpSRUZVZU5waS9QLy9Qd09sZ0FYR1lHUmtsQVZTb2tEOEdtandZMXdhc0tsalFwWUFDdHBDRmVBRGNIVlFmUXlNUUF3endBWkkzd0pLdkNMa2ZLQmFNU0NsQmxSN0JPUWlrQ0ZHUUVFcklIMFZxa2FiaUdDQXF3VWFkQXpaSlJ4UXIvMGd3aVhJYWw4elFRUG5OVlRnSjFUZGF3TDBUNWdCSVAxTVVKTmhCdjJIS29RSEhqcU5yQTRXTzR6WTBnbHlOS0xUMktJZklNQUFRc2RnR2lYdmduWUFBQUFBU1VWT1JLNUNZSUk9XFxcIiksXFxcbnVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUEzQ0FZQUFBRE5OaUE1QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFDSkpSRUZVZU5waStQLy9meGdUQXdQREJ4RHhEMDc4UlNYK1llRXlERk1DSU1BQUkzSU5tWGl3ZjJZQUFBQUFTVVZPUks1Q1lJST1cXFwiKTtcXFxuYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCwgcmVwZWF0LXg7XFxcbmJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXIsIHRvcCBsZWZ0O1xcXG5jb2xvcjogdHJhbnNwYXJlbnQ7XFxcbmJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcXG5ib3JkZXItcmFkaXVzOiAycHg7XFxcbmN1cnNvcjogcG9pbnRlcjtcXFxucG9pbnRlci1ldmVudHM6IGF1dG87XFxcbn1cXFxuLmFjZV9kYXJrIC5hY2VfZm9sZCB7XFxcbn1cXFxuLmFjZV9mb2xkOmhvdmVye1xcXG5iYWNrZ3JvdW5kLWltYWdlOlxcXG51cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkVBQUFBSkNBWUFBQURVNk1jTUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBSnBKUkVGVWVOcGkvUC8vUHdPbGdBWEdZR1JrbEFWU29rRDhHbWp3WTF3YXNLbGpRcFlBQ3RwQ0ZlQURjSFZRZlF5TVFBd3p3QVpJM3dKS3ZDTGtmS0JhTVNDbEJsUjdCT1Fpa0NGR1FFRXJJSDBWcWthYmlHQ0Fxd1VhZEF6WkpSeFFyLzBnd2lYSWFsOHpRUVBuTlZUZ0oxVGRhd0wwVDVnQklQMU1VSk5oQnYySEtvUUhIanFOckE0V080elkwZ2x5TktMVDJLSWZJTUFBUXNkZ0dpWHZnbllBQUFBQVNVVk9SSzVDWUlJPVxcXCIpLFxcXG51cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBM0NBWUFBQUROTmlBNUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBQ0JKUkVGVWVOcGkrUC8vZno0VEF3UERaeER4RDVYNGk1ZkxNRXdKZ0FBREFFUFZEYmpOdzg3WkFBQUFBRWxGVGtTdVFtQ0NcXFwiKTtcXFxufVxcXG4uYWNlX3Rvb2x0aXAge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjRkZGO1xcXG5iYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIHRyYW5zcGFyZW50LCByZ2JhKDAsIDAsIDAsIDAuMSkpO1xcXG5iYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCB0cmFuc3BhcmVudCwgcmdiYSgwLCAwLCAwLCAwLjEpKTtcXFxuYm9yZGVyOiAxcHggc29saWQgZ3JheTtcXFxuYm9yZGVyLXJhZGl1czogMXB4O1xcXG5ib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpO1xcXG5jb2xvcjogYmxhY2s7XFxcbm1heC13aWR0aDogMTAwJTtcXFxucGFkZGluZzogM3B4IDRweDtcXFxucG9zaXRpb246IGZpeGVkO1xcXG56LWluZGV4OiA5OTk5OTk7XFxcbi1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG5ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG5jdXJzb3I6IGRlZmF1bHQ7XFxcbndoaXRlLXNwYWNlOiBwcmU7XFxcbndvcmQtd3JhcDogYnJlYWstd29yZDtcXFxubGluZS1oZWlnaHQ6IG5vcm1hbDtcXFxuZm9udC1zdHlsZTogbm9ybWFsO1xcXG5mb250LXdlaWdodDogbm9ybWFsO1xcXG5sZXR0ZXItc3BhY2luZzogbm9ybWFsO1xcXG5wb2ludGVyLWV2ZW50czogbm9uZTtcXFxufVxcXG4uYWNlX2ZvbGRpbmctZW5hYmxlZCA+IC5hY2VfZ3V0dGVyLWNlbGwge1xcXG5wYWRkaW5nLXJpZ2h0OiAxM3B4O1xcXG59XFxcbi5hY2VfZm9sZC13aWRnZXQge1xcXG4tbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbi13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxubWFyZ2luOiAwIC0xMnB4IDAgMXB4O1xcXG5kaXNwbGF5OiBub25lO1xcXG53aWR0aDogMTFweDtcXFxudmVydGljYWwtYWxpZ246IHRvcDtcXFxuYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFVQUFBQUZDQVlBQUFDTmJ5YmxBQUFBTkVsRVFWUjQybVdLc1EwQU1BekM4aXhMbHJ6UWp6bUJpRWpwMEE2V3dCQ1NQZ0tBWG9Ma3FTb3Q3bk4zeU13UjdwWjMyTnpwS2tWb0RCVXhLQUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcXG5iYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxcbmJvcmRlci1yYWRpdXM6IDNweDtcXFxuYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxcbmN1cnNvcjogcG9pbnRlcjtcXFxufVxcXG4uYWNlX2ZvbGRpbmctZW5hYmxlZCAuYWNlX2ZvbGQtd2lkZ2V0IHtcXFxuZGlzcGxheTogaW5saW5lLWJsb2NrOyAgIFxcXG59XFxcbi5hY2VfZm9sZC13aWRnZXQuYWNlX2VuZCB7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQU5FbEVRVlI0Mm0zSHdRa0FNQWhEMFl6c1JjaEZLSTdzQWlrZVdrcnh3U2NFQjBuaDVlN0tUUFdpbVpraTR0WWZWYlgrTU5sNHB5WlhlalVPMVFBQUFBQkpSVTVFcmtKZ2dnPT1cXFwiKTtcXFxufVxcXG4uYWNlX2ZvbGQtd2lkZ2V0LmFjZV9jbG9zZWQge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQU1BQUFBR0NBWUFBQUFHNVNRTUFBQUFPVWxFUVZSNDJqWEt3UWtBTUFnRHdLd3FLRDRFd1EyNnNTT2tWV2pnSUlIQXpQaUNnYXFpcW5KSFpuS0lDQkVSSE4xOTRPNWI5dmJMdUFWUkwrbDBZV25aQUFBQUFFbEZUa1N1UW1DQ1hBPT1cXFwiKTtcXFxufVxcXG4uYWNlX2ZvbGQtd2lkZ2V0OmhvdmVyIHtcXFxuYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjMpO1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxcbmJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7XFxcbn1cXFxuLmFjZV9mb2xkLXdpZGdldDphY3RpdmUge1xcXG5ib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuNCk7XFxcbmJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNSk7XFxcbmJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XFxcbn1cXFxuLmFjZV9kYXJrIC5hY2VfZm9sZC13aWRnZXQge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQVVBQUFBRkNBWUFBQUNOYnlibEFBQUFIa2xFUVZRSVcyUDQvLzgvQXpvR0VRN29HQ2FMTEFoV2lTd0IxNDZCQVFDU1RQWW9jcVQwQUFBQUFFbEZUa1N1UW1DQ1xcXCIpO1xcXG59XFxcbi5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0LmFjZV9lbmQge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQVVBQUFBRkNBWUFBQUNOYnlibEFBQUFIMGxFUVZRSVcyUDQvLzgvQXhRN3dOaklBakRNZ0M0QXhqQ1ZLQmlySUFBRjBrejJybGh4cEFBQUFBQkpSVTVFcmtKZ2dnPT1cXFwiKTtcXFxufVxcXG4uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldC5hY2VfY2xvc2VkIHtcXFxuYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFNQUFBQUZDQVlBQUFDQWNWYWlBQUFBSEVsRVFWUUlXMlA0Ly8rL0F4QXpnREFEbE9PQXpuSEFLZ1BXQXdBUmppOFVJRFRmUVFBQUFBQkpSVTVFcmtKZ2dnPT1cXFwiKTtcXFxufVxcXG4uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldDpob3ZlciB7XFxcbmJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxcbmJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcXFxufVxcXG4uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldDphY3RpdmUge1xcXG5ib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcXG59XFxcbi5hY2VfZm9sZC13aWRnZXQuYWNlX2ludmFsaWQge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjRkZCNEI0O1xcXG5ib3JkZXItY29sb3I6ICNERTU1NTU7XFxcbn1cXFxuLmFjZV9mYWRlLWZvbGQtd2lkZ2V0cyAuYWNlX2ZvbGQtd2lkZ2V0IHtcXFxuLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuNHMgZWFzZSAwLjA1cztcXFxudHJhbnNpdGlvbjogb3BhY2l0eSAwLjRzIGVhc2UgMC4wNXM7XFxcbm9wYWNpdHk6IDA7XFxcbn1cXFxuLmFjZV9mYWRlLWZvbGQtd2lkZ2V0czpob3ZlciAuYWNlX2ZvbGQtd2lkZ2V0IHtcXFxuLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UgMC4wNXM7XFxcbnRyYW5zaXRpb246IG9wYWNpdHkgMC4wNXMgZWFzZSAwLjA1cztcXFxub3BhY2l0eToxO1xcXG59XFxcbi5hY2VfdW5kZXJsaW5lIHtcXFxudGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxcbn1cXFxuLmFjZV9ib2xkIHtcXFxuZm9udC13ZWlnaHQ6IGJvbGQ7XFxcbn1cXFxuLmFjZV9ub2JvbGQgLmFjZV9ib2xkIHtcXFxuZm9udC13ZWlnaHQ6IG5vcm1hbDtcXFxufVxcXG4uYWNlX2l0YWxpYyB7XFxcbmZvbnQtc3R5bGU6IGl0YWxpYztcXFxufVxcXG4uYWNlX2Vycm9yLW1hcmtlciB7XFxcbmJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAwLCAwLDAuMik7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuei1pbmRleDogOTtcXFxufVxcXG4uYWNlX2hpZ2hsaWdodC1tYXJrZXIge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAwLDAuMik7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuei1pbmRleDogODtcXFxufVxcXG4uYWNlX2JyMSB7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1cyAgICA6IDNweDt9XFxcbi5hY2VfYnIyIHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1cyAgIDogM3B4O31cXFxuLmFjZV9icjMge2JvcmRlci10b3AtbGVmdC1yYWRpdXMgICAgOiAzcHg7IGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAgICAzcHg7fVxcXG4uYWNlX2JyNCB7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDNweDt9XFxcbi5hY2VfYnI1IHtib3JkZXItdG9wLWxlZnQtcmFkaXVzICAgIDogM3B4OyBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogM3B4O31cXFxuLmFjZV9icjYge2JvcmRlci10b3AtcmlnaHQtcmFkaXVzICAgOiAzcHg7IGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7fVxcXG4uYWNlX2JyNyB7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1cyAgICA6IDNweDsgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6ICAgIDNweDsgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDNweDt9XFxcbi5hY2VfYnI4IHtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIDogM3B4O31cXFxuLmFjZV9icjkge2JvcmRlci10b3AtbGVmdC1yYWRpdXMgICAgOiAzcHg7IGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICAzcHg7fVxcXG4uYWNlX2JyMTB7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXMgICA6IDNweDsgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogIDNweDt9XFxcbi5hY2VfYnIxMXtib3JkZXItdG9wLWxlZnQtcmFkaXVzICAgIDogM3B4OyBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogICAgM3B4OyBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAgM3B4O31cXFxuLmFjZV9icjEye2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7IGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICAzcHg7fVxcXG4uYWNlX2JyMTN7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1cyAgICA6IDNweDsgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDNweDsgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogIDNweDt9XFxcbi5hY2VfYnIxNHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1cyAgIDogM3B4OyBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogM3B4OyBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAgM3B4O31cXFxuLmFjZV9icjE1e2JvcmRlci10b3AtbGVmdC1yYWRpdXMgICAgOiAzcHg7IGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAgICAzcHg7IGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7IGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDNweDt9XFxcblwiO1xuXG5kb20uaW1wb3J0Q3NzU3RyaW5nKGVkaXRvckNzcywgXCJhY2VfZWRpdG9yLmNzc1wiKTtcblxudmFyIFZpcnR1YWxSZW5kZXJlciA9IGZ1bmN0aW9uKGNvbnRhaW5lciwgdGhlbWUpIHtcbiAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3IgPSAhdXNlcmFnZW50LmlzT2xkSUU7XG5cbiAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy5jb250YWluZXIsIFwiYWNlX2VkaXRvclwiKTtcblxuICAgIHRoaXMuc2V0VGhlbWUodGhlbWUpO1xuXG4gICAgdGhpcy4kZ3V0dGVyID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy4kZ3V0dGVyLmNsYXNzTmFtZSA9IFwiYWNlX2d1dHRlclwiO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuJGd1dHRlcik7XG5cbiAgICB0aGlzLnNjcm9sbGVyID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5zY3JvbGxlci5jbGFzc05hbWUgPSBcImFjZV9zY3JvbGxlclwiO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2Nyb2xsZXIpO1xuXG4gICAgdGhpcy5jb250ZW50ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5jb250ZW50LmNsYXNzTmFtZSA9IFwiYWNlX2NvbnRlbnRcIjtcbiAgICB0aGlzLnNjcm9sbGVyLmFwcGVuZENoaWxkKHRoaXMuY29udGVudCk7XG5cbiAgICB0aGlzLiRndXR0ZXJMYXllciA9IG5ldyBHdXR0ZXJMYXllcih0aGlzLiRndXR0ZXIpO1xuICAgIHRoaXMuJGd1dHRlckxheWVyLm9uKFwiY2hhbmdlR3V0dGVyV2lkdGhcIiwgdGhpcy5vbkd1dHRlclJlc2l6ZS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuJG1hcmtlckJhY2sgPSBuZXcgTWFya2VyTGF5ZXIodGhpcy5jb250ZW50KTtcblxuICAgIHZhciB0ZXh0TGF5ZXIgPSB0aGlzLiR0ZXh0TGF5ZXIgPSBuZXcgVGV4dExheWVyKHRoaXMuY29udGVudCk7XG4gICAgdGhpcy5jYW52YXMgPSB0ZXh0TGF5ZXIuZWxlbWVudDtcblxuICAgIHRoaXMuJG1hcmtlckZyb250ID0gbmV3IE1hcmtlckxheWVyKHRoaXMuY29udGVudCk7XG5cbiAgICB0aGlzLiRjdXJzb3JMYXllciA9IG5ldyBDdXJzb3JMYXllcih0aGlzLmNvbnRlbnQpO1xuICAgIHRoaXMuJGhvcml6U2Nyb2xsID0gZmFsc2U7XG4gICAgdGhpcy4kdlNjcm9sbCA9IGZhbHNlO1xuXG4gICAgdGhpcy5zY3JvbGxCYXIgPSBcbiAgICB0aGlzLnNjcm9sbEJhclYgPSBuZXcgVlNjcm9sbEJhcih0aGlzLmNvbnRhaW5lciwgdGhpcyk7XG4gICAgdGhpcy5zY3JvbGxCYXJIID0gbmV3IEhTY3JvbGxCYXIodGhpcy5jb250YWluZXIsIHRoaXMpO1xuICAgIHRoaXMuc2Nyb2xsQmFyVi5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCFfc2VsZi4kc2Nyb2xsQW5pbWF0aW9uKVxuICAgICAgICAgICAgX3NlbGYuc2Vzc2lvbi5zZXRTY3JvbGxUb3AoZS5kYXRhIC0gX3NlbGYuc2Nyb2xsTWFyZ2luLnRvcCk7XG4gICAgfSk7XG4gICAgdGhpcy5zY3JvbGxCYXJILmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIV9zZWxmLiRzY3JvbGxBbmltYXRpb24pXG4gICAgICAgICAgICBfc2VsZi5zZXNzaW9uLnNldFNjcm9sbExlZnQoZS5kYXRhIC0gX3NlbGYuc2Nyb2xsTWFyZ2luLmxlZnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zY3JvbGxUb3AgPSAwO1xuICAgIHRoaXMuc2Nyb2xsTGVmdCA9IDA7XG5cbiAgICB0aGlzLmN1cnNvclBvcyA9IHtcbiAgICAgICAgcm93IDogMCxcbiAgICAgICAgY29sdW1uIDogMFxuICAgIH07XG5cbiAgICB0aGlzLiRmb250TWV0cmljcyA9IG5ldyBGb250TWV0cmljcyh0aGlzLmNvbnRhaW5lcik7XG4gICAgdGhpcy4kdGV4dExheWVyLiRzZXRGb250TWV0cmljcyh0aGlzLiRmb250TWV0cmljcyk7XG4gICAgdGhpcy4kdGV4dExheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VDaGFyYWN0ZXJTaXplXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgX3NlbGYudXBkYXRlQ2hhcmFjdGVyU2l6ZSgpO1xuICAgICAgICBfc2VsZi5vblJlc2l6ZSh0cnVlLCBfc2VsZi5ndXR0ZXJXaWR0aCwgX3NlbGYuJHNpemUud2lkdGgsIF9zZWxmLiRzaXplLmhlaWdodCk7XG4gICAgICAgIF9zZWxmLl9zaWduYWwoXCJjaGFuZ2VDaGFyYWN0ZXJTaXplXCIsIGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kc2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgc2Nyb2xsZXJIZWlnaHQ6IDAsXG4gICAgICAgIHNjcm9sbGVyV2lkdGg6IDAsXG4gICAgICAgICRkaXJ0eTogdHJ1ZVxuICAgIH07XG5cbiAgICB0aGlzLmxheWVyQ29uZmlnID0ge1xuICAgICAgICB3aWR0aCA6IDEsXG4gICAgICAgIHBhZGRpbmcgOiAwLFxuICAgICAgICBmaXJzdFJvdyA6IDAsXG4gICAgICAgIGZpcnN0Um93U2NyZWVuOiAwLFxuICAgICAgICBsYXN0Um93IDogMCxcbiAgICAgICAgbGluZUhlaWdodCA6IDAsXG4gICAgICAgIGNoYXJhY3RlcldpZHRoIDogMCxcbiAgICAgICAgbWluSGVpZ2h0IDogMSxcbiAgICAgICAgbWF4SGVpZ2h0IDogMSxcbiAgICAgICAgb2Zmc2V0IDogMCxcbiAgICAgICAgaGVpZ2h0IDogMSxcbiAgICAgICAgZ3V0dGVyT2Zmc2V0OiAxXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNjcm9sbE1hcmdpbiA9IHtcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICB2OiAwLFxuICAgICAgICBoOiAwXG4gICAgfTtcblxuICAgIHRoaXMuJGxvb3AgPSBuZXcgUmVuZGVyTG9vcChcbiAgICAgICAgdGhpcy4kcmVuZGVyQ2hhbmdlcy5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3XG4gICAgKTtcbiAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpO1xuXG4gICAgdGhpcy51cGRhdGVDaGFyYWN0ZXJTaXplKCk7XG4gICAgdGhpcy5zZXRQYWRkaW5nKDQpO1xuICAgIGNvbmZpZy5yZXNldE9wdGlvbnModGhpcyk7XG4gICAgY29uZmlnLl9lbWl0KFwicmVuZGVyZXJcIiwgdGhpcyk7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLkNIQU5HRV9DVVJTT1IgPSAxO1xuICAgIHRoaXMuQ0hBTkdFX01BUktFUiA9IDI7XG4gICAgdGhpcy5DSEFOR0VfR1VUVEVSID0gNDtcbiAgICB0aGlzLkNIQU5HRV9TQ1JPTEwgPSA4O1xuICAgIHRoaXMuQ0hBTkdFX0xJTkVTID0gMTY7XG4gICAgdGhpcy5DSEFOR0VfVEVYVCA9IDMyO1xuICAgIHRoaXMuQ0hBTkdFX1NJWkUgPSA2NDtcbiAgICB0aGlzLkNIQU5HRV9NQVJLRVJfQkFDSyA9IDEyODtcbiAgICB0aGlzLkNIQU5HRV9NQVJLRVJfRlJPTlQgPSAyNTY7XG4gICAgdGhpcy5DSEFOR0VfRlVMTCA9IDUxMjtcbiAgICB0aGlzLkNIQU5HRV9IX1NDUk9MTCA9IDEwMjQ7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG5cbiAgICB0aGlzLnVwZGF0ZUNoYXJhY3RlclNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJHRleHRMYXllci5hbGxvd0JvbGRGb250cyAhPSB0aGlzLiRhbGxvd0JvbGRGb250cykge1xuICAgICAgICAgICAgdGhpcy4kYWxsb3dCb2xkRm9udHMgPSB0aGlzLiR0ZXh0TGF5ZXIuYWxsb3dCb2xkRm9udHM7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKFwiYWNlX25vYm9sZFwiLCAhdGhpcy4kYWxsb3dCb2xkRm9udHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXllckNvbmZpZy5jaGFyYWN0ZXJXaWR0aCA9XG4gICAgICAgIHRoaXMuY2hhcmFjdGVyV2lkdGggPSB0aGlzLiR0ZXh0TGF5ZXIuZ2V0Q2hhcmFjdGVyV2lkdGgoKTtcbiAgICAgICAgdGhpcy5sYXllckNvbmZpZy5saW5lSGVpZ2h0ID1cbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gdGhpcy4kdGV4dExheWVyLmdldExpbmVIZWlnaHQoKTtcbiAgICAgICAgdGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2Vzc2lvbiA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbilcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kb2Mub2ZmKFwiY2hhbmdlTmV3TGluZU1vZGVcIiwgdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlKTtcbiAgICAgICAgICAgIFxuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbiAmJiB0aGlzLnNjcm9sbE1hcmdpbi50b3AgJiYgc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKSA8PSAwKVxuICAgICAgICAgICAgc2Vzc2lvbi5zZXRTY3JvbGxUb3AoLXRoaXMuc2Nyb2xsTWFyZ2luLnRvcCk7XG5cbiAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIuc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgdGhpcy4kbWFya2VyQmFjay5zZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICB0aGlzLiRtYXJrZXJGcm9udC5zZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICB0aGlzLiRndXR0ZXJMYXllci5zZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIuc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgaWYgKCFzZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLiRzZXRGb250TWV0cmljcyh0aGlzLiRmb250TWV0cmljcyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUgPSB0aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlKClcbiAgICAgICAgdGhpcy5zZXNzaW9uLmRvYy5vbihcImNoYW5nZU5ld0xpbmVNb2RlXCIsIHRoaXMub25DaGFuZ2VOZXdMaW5lTW9kZSk7XG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZUxpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3csIGZvcmNlKSB7XG4gICAgICAgIGlmIChsYXN0Um93ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBsYXN0Um93ID0gSW5maW5pdHk7XG5cbiAgICAgICAgaWYgKCF0aGlzLiRjaGFuZ2VkTGluZXMpIHtcbiAgICAgICAgICAgIHRoaXMuJGNoYW5nZWRMaW5lcyA9IHtcbiAgICAgICAgICAgICAgICBmaXJzdFJvdzogZmlyc3RSb3csXG4gICAgICAgICAgICAgICAgbGFzdFJvdzogbGFzdFJvd1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiRjaGFuZ2VkTGluZXMuZmlyc3RSb3cgPiBmaXJzdFJvdylcbiAgICAgICAgICAgICAgICB0aGlzLiRjaGFuZ2VkTGluZXMuZmlyc3RSb3cgPSBmaXJzdFJvdztcblxuICAgICAgICAgICAgaWYgKHRoaXMuJGNoYW5nZWRMaW5lcy5sYXN0Um93IDwgbGFzdFJvdylcbiAgICAgICAgICAgICAgICB0aGlzLiRjaGFuZ2VkTGluZXMubGFzdFJvdyA9IGxhc3RSb3c7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuJGNoYW5nZWRMaW5lcy5sYXN0Um93IDwgdGhpcy5sYXllckNvbmZpZy5maXJzdFJvdykge1xuICAgICAgICAgICAgaWYgKGZvcmNlKVxuICAgICAgICAgICAgICAgIHRoaXMuJGNoYW5nZWRMaW5lcy5sYXN0Um93ID0gdGhpcy5sYXllckNvbmZpZy5sYXN0Um93O1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4kY2hhbmdlZExpbmVzLmZpcnN0Um93ID4gdGhpcy5sYXllckNvbmZpZy5sYXN0Um93KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0xJTkVTKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfVEVYVCk7XG4gICAgICAgIHRoaXMuJHRleHRMYXllci4kdXBkYXRlRW9sQ2hhcigpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5vbkNoYW5nZVRhYlNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9URVhUIHwgdGhpcy5DSEFOR0VfTUFSS0VSKTtcbiAgICAgICAgdGhpcy4kdGV4dExheWVyLm9uQ2hhbmdlVGFiU2l6ZSgpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfVEVYVCk7XG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZUZ1bGwgPSBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICBpZiAoZm9yY2UpXG4gICAgICAgICAgICB0aGlzLiRyZW5kZXJDaGFuZ2VzKHRoaXMuQ0hBTkdFX0ZVTEwsIHRydWUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVGb250U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIuY2hlY2tGb3JTaXplQ2hhbmdlcygpO1xuICAgIH07XG5cbiAgICB0aGlzLiRjaGFuZ2VzID0gMDtcbiAgICB0aGlzLiR1cGRhdGVTaXplQXN5bmMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJGxvb3AucGVuZGluZylcbiAgICAgICAgICAgIHRoaXMuJHNpemUuJGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIH07XG4gICAgdGhpcy5vblJlc2l6ZSA9IGZ1bmN0aW9uKGZvcmNlLCBndXR0ZXJXaWR0aCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAodGhpcy5yZXNpemluZyA+IDIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucmVzaXppbmcgPiAwKVxuICAgICAgICAgICAgdGhpcy5yZXNpemluZysrO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnJlc2l6aW5nID0gZm9yY2UgPyAxIDogMDtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIGlmICghaGVpZ2h0KVxuICAgICAgICAgICAgaGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0IHx8IGVsLnNjcm9sbEhlaWdodDtcbiAgICAgICAgaWYgKCF3aWR0aClcbiAgICAgICAgICAgIHdpZHRoID0gZWwuY2xpZW50V2lkdGggfHwgZWwuc2Nyb2xsV2lkdGg7XG4gICAgICAgIHZhciBjaGFuZ2VzID0gdGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZShmb3JjZSwgZ3V0dGVyV2lkdGgsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIFxuICAgICAgICBpZiAoIXRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQgfHwgKCF3aWR0aCAmJiAhaGVpZ2h0KSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc2l6aW5nID0gMDtcblxuICAgICAgICBpZiAoZm9yY2UpXG4gICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci4kcGFkZGluZyA9IG51bGw7XG5cbiAgICAgICAgaWYgKGZvcmNlKVxuICAgICAgICAgICAgdGhpcy4kcmVuZGVyQ2hhbmdlcyhjaGFuZ2VzIHwgdGhpcy4kY2hhbmdlcywgdHJ1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUoY2hhbmdlcyB8IHRoaXMuJGNoYW5nZXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnJlc2l6aW5nKVxuICAgICAgICAgICAgdGhpcy5yZXNpemluZyA9IDA7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmFyVi5zY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxCYXJWLnNjcm9sbFRvcCA9IG51bGw7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiR1cGRhdGVDYWNoZWRTaXplID0gZnVuY3Rpb24oZm9yY2UsIGd1dHRlcldpZHRoLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGhlaWdodCAtPSAodGhpcy4kZXh0cmFIZWlnaHQgfHwgMCk7XG4gICAgICAgIHZhciBjaGFuZ2VzID0gMDtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLiRzaXplO1xuICAgICAgICB2YXIgb2xkU2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLmhlaWdodCxcbiAgICAgICAgICAgIHNjcm9sbGVySGVpZ2h0OiBzaXplLnNjcm9sbGVySGVpZ2h0LFxuICAgICAgICAgICAgc2Nyb2xsZXJXaWR0aDogc2l6ZS5zY3JvbGxlcldpZHRoXG4gICAgICAgIH07XG4gICAgICAgIGlmIChoZWlnaHQgJiYgKGZvcmNlIHx8IHNpemUuaGVpZ2h0ICE9IGhlaWdodCkpIHtcbiAgICAgICAgICAgIHNpemUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgY2hhbmdlcyB8PSB0aGlzLkNIQU5HRV9TSVpFO1xuXG4gICAgICAgICAgICBzaXplLnNjcm9sbGVySGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAodGhpcy4kaG9yaXpTY3JvbGwpXG4gICAgICAgICAgICAgICAgc2l6ZS5zY3JvbGxlckhlaWdodCAtPSB0aGlzLnNjcm9sbEJhckguZ2V0SGVpZ2h0KCk7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEJhclYuZWxlbWVudC5zdHlsZS5ib3R0b20gPSB0aGlzLnNjcm9sbEJhckguZ2V0SGVpZ2h0KCkgKyBcInB4XCI7XG5cbiAgICAgICAgICAgIGNoYW5nZXMgPSBjaGFuZ2VzIHwgdGhpcy5DSEFOR0VfU0NST0xMO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZHRoICYmIChmb3JjZSB8fCBzaXplLndpZHRoICE9IHdpZHRoKSkge1xuICAgICAgICAgICAgY2hhbmdlcyB8PSB0aGlzLkNIQU5HRV9TSVpFO1xuICAgICAgICAgICAgc2l6ZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZ3V0dGVyV2lkdGggPT0gbnVsbClcbiAgICAgICAgICAgICAgICBndXR0ZXJXaWR0aCA9IHRoaXMuJHNob3dHdXR0ZXIgPyB0aGlzLiRndXR0ZXIub2Zmc2V0V2lkdGggOiAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmd1dHRlcldpZHRoID0gZ3V0dGVyV2lkdGg7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQmFySC5lbGVtZW50LnN0eWxlLmxlZnQgPSBcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIuc3R5bGUubGVmdCA9IGd1dHRlcldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgc2l6ZS5zY3JvbGxlcldpZHRoID0gTWF0aC5tYXgoMCwgd2lkdGggLSBndXR0ZXJXaWR0aCAtIHRoaXMuc2Nyb2xsQmFyVi5nZXRXaWR0aCgpKTsgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnNjcm9sbEJhckguZWxlbWVudC5zdHlsZS5yaWdodCA9IFxuICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5zdHlsZS5yaWdodCA9IHRoaXMuc2Nyb2xsQmFyVi5nZXRXaWR0aCgpICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5zdHlsZS5ib3R0b20gPSB0aGlzLnNjcm9sbEJhckguZ2V0SGVpZ2h0KCkgKyBcInB4XCI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb24gJiYgdGhpcy5zZXNzaW9uLmdldFVzZVdyYXBNb2RlKCkgJiYgdGhpcy5hZGp1c3RXcmFwTGltaXQoKSB8fCBmb3JjZSlcbiAgICAgICAgICAgICAgICBjaGFuZ2VzIHw9IHRoaXMuQ0hBTkdFX0ZVTEw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNpemUuJGRpcnR5ID0gIXdpZHRoIHx8ICFoZWlnaHQ7XG5cbiAgICAgICAgaWYgKGNoYW5nZXMpXG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJyZXNpemVcIiwgb2xkU2l6ZSk7XG5cbiAgICAgICAgcmV0dXJuIGNoYW5nZXM7XG4gICAgfTtcblxuICAgIHRoaXMub25HdXR0ZXJSZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGd1dHRlcldpZHRoID0gdGhpcy4kc2hvd0d1dHRlciA/IHRoaXMuJGd1dHRlci5vZmZzZXRXaWR0aCA6IDA7XG4gICAgICAgIGlmIChndXR0ZXJXaWR0aCAhPSB0aGlzLmd1dHRlcldpZHRoKVxuICAgICAgICAgICAgdGhpcy4kY2hhbmdlcyB8PSB0aGlzLiR1cGRhdGVDYWNoZWRTaXplKHRydWUsIGd1dHRlcldpZHRoLCB0aGlzLiRzaXplLndpZHRoLCB0aGlzLiRzaXplLmhlaWdodCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpICYmIHRoaXMuYWRqdXN0V3JhcExpbWl0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy4kc2l6ZS4kZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRjb21wdXRlTGF5ZXJDb25maWcoKTtcbiAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfTUFSS0VSKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5hZGp1c3RXcmFwTGltaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGF2YWlsYWJsZVdpZHRoID0gdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoIC0gdGhpcy4kcGFkZGluZyAqIDI7XG4gICAgICAgIHZhciBsaW1pdCA9IE1hdGguZmxvb3IoYXZhaWxhYmxlV2lkdGggLyB0aGlzLmNoYXJhY3RlcldpZHRoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5hZGp1c3RXcmFwTGltaXQobGltaXQsIHRoaXMuJHNob3dQcmludE1hcmdpbiAmJiB0aGlzLiRwcmludE1hcmdpbkNvbHVtbik7XG4gICAgfTtcbiAgICB0aGlzLnNldEFuaW1hdGVkU2Nyb2xsID0gZnVuY3Rpb24oc2hvdWxkQW5pbWF0ZSl7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiYW5pbWF0ZWRTY3JvbGxcIiwgc2hvdWxkQW5pbWF0ZSk7XG4gICAgfTtcbiAgICB0aGlzLmdldEFuaW1hdGVkU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRhbmltYXRlZFNjcm9sbDtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2hvd0ludmlzaWJsZXMgPSBmdW5jdGlvbihzaG93SW52aXNpYmxlcykge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcInNob3dJbnZpc2libGVzXCIsIHNob3dJbnZpc2libGVzKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2hvd0ludmlzaWJsZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwic2hvd0ludmlzaWJsZXNcIik7XG4gICAgfTtcbiAgICB0aGlzLmdldERpc3BsYXlJbmRlbnRHdWlkZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiZGlzcGxheUluZGVudEd1aWRlc1wiKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXREaXNwbGF5SW5kZW50R3VpZGVzID0gZnVuY3Rpb24oZGlzcGxheSkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImRpc3BsYXlJbmRlbnRHdWlkZXNcIiwgZGlzcGxheSk7XG4gICAgfTtcbiAgICB0aGlzLnNldFNob3dQcmludE1hcmdpbiA9IGZ1bmN0aW9uKHNob3dQcmludE1hcmdpbikge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcInNob3dQcmludE1hcmdpblwiLCBzaG93UHJpbnRNYXJnaW4pO1xuICAgIH07XG4gICAgdGhpcy5nZXRTaG93UHJpbnRNYXJnaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwic2hvd1ByaW50TWFyZ2luXCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRQcmludE1hcmdpbkNvbHVtbiA9IGZ1bmN0aW9uKHNob3dQcmludE1hcmdpbikge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcInByaW50TWFyZ2luQ29sdW1uXCIsIHNob3dQcmludE1hcmdpbik7XG4gICAgfTtcbiAgICB0aGlzLmdldFByaW50TWFyZ2luQ29sdW1uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcInByaW50TWFyZ2luQ29sdW1uXCIpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTaG93R3V0dGVyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwic2hvd0d1dHRlclwiKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2hvd0d1dHRlciA9IGZ1bmN0aW9uKHNob3cpe1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRPcHRpb24oXCJzaG93R3V0dGVyXCIsIHNob3cpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEZhZGVGb2xkV2lkZ2V0cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcImZhZGVGb2xkV2lkZ2V0c1wiKVxuICAgIH07XG5cbiAgICB0aGlzLnNldEZhZGVGb2xkV2lkZ2V0cyA9IGZ1bmN0aW9uKHNob3cpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJmYWRlRm9sZFdpZGdldHNcIiwgc2hvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZSA9IGZ1bmN0aW9uKHNob3VsZEhpZ2hsaWdodCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImhpZ2hsaWdodEd1dHRlckxpbmVcIiwgc2hvdWxkSGlnaGxpZ2h0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRIaWdobGlnaHRHdXR0ZXJMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcImhpZ2hsaWdodEd1dHRlckxpbmVcIik7XG4gICAgfTtcblxuICAgIHRoaXMuJHVwZGF0ZUd1dHRlckxpbmVIaWdobGlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuJGN1cnNvckxheWVyLiRwaXhlbFBvcztcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMubGF5ZXJDb25maWcubGluZUhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpKSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5zZXNzaW9uLnNlbGVjdGlvbi5nZXRDdXJzb3IoKTtcbiAgICAgICAgICAgIGN1cnNvci5jb2x1bW4gPSAwO1xuICAgICAgICAgICAgcG9zID0gdGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbihjdXJzb3IsIHRydWUpO1xuICAgICAgICAgICAgaGVpZ2h0ICo9IHRoaXMuc2Vzc2lvbi5nZXRSb3dMZW5ndGgoY3Vyc29yLnJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kZ3V0dGVyTGluZUhpZ2hsaWdodC5zdHlsZS50b3AgPSBwb3MudG9wIC0gdGhpcy5sYXllckNvbmZpZy5vZmZzZXQgKyBcInB4XCI7XG4gICAgICAgIHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIH07XG5cbiAgICB0aGlzLiR1cGRhdGVQcmludE1hcmdpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuJHNob3dQcmludE1hcmdpbiAmJiAhdGhpcy4kcHJpbnRNYXJnaW5FbClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAoIXRoaXMuJHByaW50TWFyZ2luRWwpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXJFbCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgY29udGFpbmVyRWwuY2xhc3NOYW1lID0gXCJhY2VfbGF5ZXIgYWNlX3ByaW50LW1hcmdpbi1sYXllclwiO1xuICAgICAgICAgICAgdGhpcy4kcHJpbnRNYXJnaW5FbCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy4kcHJpbnRNYXJnaW5FbC5jbGFzc05hbWUgPSBcImFjZV9wcmludC1tYXJnaW5cIjtcbiAgICAgICAgICAgIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKHRoaXMuJHByaW50TWFyZ2luRWwpO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50Lmluc2VydEJlZm9yZShjb250YWluZXJFbCwgdGhpcy5jb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy4kcHJpbnRNYXJnaW5FbC5zdHlsZTtcbiAgICAgICAgc3R5bGUubGVmdCA9ICgodGhpcy5jaGFyYWN0ZXJXaWR0aCAqIHRoaXMuJHByaW50TWFyZ2luQ29sdW1uKSArIHRoaXMuJHBhZGRpbmcpICsgXCJweFwiO1xuICAgICAgICBzdHlsZS52aXNpYmlsaXR5ID0gdGhpcy4kc2hvd1ByaW50TWFyZ2luID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbiAmJiB0aGlzLnNlc3Npb24uJHdyYXAgPT0gLTEpXG4gICAgICAgICAgICB0aGlzLmFkanVzdFdyYXBMaW1pdCgpO1xuICAgIH07XG4gICAgdGhpcy5nZXRDb250YWluZXJFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TW91c2VFdmVudFRhcmdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGxlcjtcbiAgICB9O1xuICAgIHRoaXMuZ2V0VGV4dEFyZWFDb250YWluZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICAgIH07XG4gICAgdGhpcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRrZWVwVGV4dEFyZWFBdEN1cnNvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMubGF5ZXJDb25maWc7XG4gICAgICAgIHZhciBwb3NUb3AgPSB0aGlzLiRjdXJzb3JMYXllci4kcGl4ZWxQb3MudG9wO1xuICAgICAgICB2YXIgcG9zTGVmdCA9IHRoaXMuJGN1cnNvckxheWVyLiRwaXhlbFBvcy5sZWZ0O1xuICAgICAgICBwb3NUb3AgLT0gY29uZmlnLm9mZnNldDtcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnRleHRhcmVhLnN0eWxlO1xuICAgICAgICB2YXIgaCA9IHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgaWYgKHBvc1RvcCA8IDAgfHwgcG9zVG9wID4gY29uZmlnLmhlaWdodCAtIGgpIHtcbiAgICAgICAgICAgIHN0eWxlLnRvcCA9IHN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3ID0gdGhpcy5jaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgaWYgKHRoaXMuJGNvbXBvc2l0aW9uKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy50ZXh0YXJlYS52YWx1ZS5yZXBsYWNlKC9eXFx4MDErLywgXCJcIik7XG4gICAgICAgICAgICB3ICo9ICh0aGlzLnNlc3Npb24uJGdldFN0cmluZ1NjcmVlbldpZHRoKHZhbClbMF0rMik7XG4gICAgICAgICAgICBoICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgcG9zTGVmdCAtPSB0aGlzLnNjcm9sbExlZnQ7XG4gICAgICAgIGlmIChwb3NMZWZ0ID4gdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoIC0gdylcbiAgICAgICAgICAgIHBvc0xlZnQgPSB0aGlzLiRzaXplLnNjcm9sbGVyV2lkdGggLSB3O1xuXG4gICAgICAgIHBvc0xlZnQgKz0gdGhpcy5ndXR0ZXJXaWR0aDtcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gaCArIFwicHhcIjtcbiAgICAgICAgc3R5bGUud2lkdGggPSB3ICsgXCJweFwiO1xuICAgICAgICBzdHlsZS5sZWZ0ID0gTWF0aC5taW4ocG9zTGVmdCwgdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoIC0gdykgKyBcInB4XCI7XG4gICAgICAgIHN0eWxlLnRvcCA9IE1hdGgubWluKHBvc1RvcCwgdGhpcy4kc2l6ZS5oZWlnaHQgLSBoKSArIFwicHhcIjtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Rmlyc3RWaXNpYmxlUm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93O1xuICAgIH07XG4gICAgdGhpcy5nZXRGaXJzdEZ1bGx5VmlzaWJsZVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXllckNvbmZpZy5maXJzdFJvdyArICh0aGlzLmxheWVyQ29uZmlnLm9mZnNldCA9PT0gMCA/IDAgOiAxKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGFzdEZ1bGx5VmlzaWJsZVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5sYXllckNvbmZpZztcbiAgICAgICAgdmFyIGxhc3RSb3cgPSBjb25maWcubGFzdFJvd1xuICAgICAgICB2YXIgdG9wID0gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Sb3cobGFzdFJvdywgMCkgKiBjb25maWcubGluZUhlaWdodDtcbiAgICAgICAgaWYgKHRvcCAtIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKSA+IGNvbmZpZy5oZWlnaHQgLSBjb25maWcubGluZUhlaWdodClcbiAgICAgICAgICAgIHJldHVybiBsYXN0Um93IC0gMTtcbiAgICAgICAgcmV0dXJuIGxhc3RSb3c7XG4gICAgfTtcbiAgICB0aGlzLmdldExhc3RWaXNpYmxlUm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVyQ29uZmlnLmxhc3RSb3c7XG4gICAgfTtcblxuICAgIHRoaXMuJHBhZGRpbmcgPSBudWxsO1xuICAgIHRoaXMuc2V0UGFkZGluZyA9IGZ1bmN0aW9uKHBhZGRpbmcpIHtcbiAgICAgICAgdGhpcy4kcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgIHRoaXMuJHRleHRMYXllci5zZXRQYWRkaW5nKHBhZGRpbmcpO1xuICAgICAgICB0aGlzLiRjdXJzb3JMYXllci5zZXRQYWRkaW5nKHBhZGRpbmcpO1xuICAgICAgICB0aGlzLiRtYXJrZXJGcm9udC5zZXRQYWRkaW5nKHBhZGRpbmcpO1xuICAgICAgICB0aGlzLiRtYXJrZXJCYWNrLnNldFBhZGRpbmcocGFkZGluZyk7XG4gICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCk7XG4gICAgICAgIHRoaXMuJHVwZGF0ZVByaW50TWFyZ2luKCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldFNjcm9sbE1hcmdpbiA9IGZ1bmN0aW9uKHRvcCwgYm90dG9tLCBsZWZ0LCByaWdodCkge1xuICAgICAgICB2YXIgc20gPSB0aGlzLnNjcm9sbE1hcmdpbjtcbiAgICAgICAgc20udG9wID0gdG9wfDA7XG4gICAgICAgIHNtLmJvdHRvbSA9IGJvdHRvbXwwO1xuICAgICAgICBzbS5yaWdodCA9IHJpZ2h0fDA7XG4gICAgICAgIHNtLmxlZnQgPSBsZWZ0fDA7XG4gICAgICAgIHNtLnYgPSBzbS50b3AgKyBzbS5ib3R0b207XG4gICAgICAgIHNtLmggPSBzbS5sZWZ0ICsgc20ucmlnaHQ7XG4gICAgICAgIGlmIChzbS50b3AgJiYgdGhpcy5zY3JvbGxUb3AgPD0gMCAmJiB0aGlzLnNlc3Npb24pXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKC1zbS50b3ApO1xuICAgICAgICB0aGlzLnVwZGF0ZUZ1bGwoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0SFNjcm9sbEJhckFsd2F5c1Zpc2libGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlO1xuICAgIH07XG4gICAgdGhpcy5zZXRIU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZSA9IGZ1bmN0aW9uKGFsd2F5c1Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZVwiLCBhbHdheXNWaXNpYmxlKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0VlNjcm9sbEJhckFsd2F5c1Zpc2libGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHZTY3JvbGxCYXJBbHdheXNWaXNpYmxlO1xuICAgIH07XG4gICAgdGhpcy5zZXRWU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZSA9IGZ1bmN0aW9uKGFsd2F5c1Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJ2U2Nyb2xsQmFyQWx3YXlzVmlzaWJsZVwiLCBhbHdheXNWaXNpYmxlKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlU2Nyb2xsQmFyViA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5sYXllckNvbmZpZy5tYXhIZWlnaHQ7XG4gICAgICAgIHZhciBzY3JvbGxlckhlaWdodCA9IHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQ7XG4gICAgICAgIGlmICghdGhpcy4kbWF4TGluZXMgJiYgdGhpcy4kc2Nyb2xsUGFzdEVuZCkge1xuICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0IC09IChzY3JvbGxlckhlaWdodCAtIHRoaXMubGluZUhlaWdodCkgKiB0aGlzLiRzY3JvbGxQYXN0RW5kO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wID4gc2Nyb2xsSGVpZ2h0IC0gc2Nyb2xsZXJIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxIZWlnaHQgPSB0aGlzLnNjcm9sbFRvcCArIHNjcm9sbGVySGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsQmFyVi5zY3JvbGxUb3AgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Nyb2xsQmFyVi5zZXRTY3JvbGxIZWlnaHQoc2Nyb2xsSGVpZ2h0ICsgdGhpcy5zY3JvbGxNYXJnaW4udik7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmFyVi5zZXRTY3JvbGxUb3AodGhpcy5zY3JvbGxUb3AgKyB0aGlzLnNjcm9sbE1hcmdpbi50b3ApO1xuICAgIH07XG4gICAgdGhpcy4kdXBkYXRlU2Nyb2xsQmFySCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNjcm9sbEJhckguc2V0U2Nyb2xsV2lkdGgodGhpcy5sYXllckNvbmZpZy53aWR0aCArIDIgKiB0aGlzLiRwYWRkaW5nICsgdGhpcy5zY3JvbGxNYXJnaW4uaCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmFySC5zZXRTY3JvbGxMZWZ0KHRoaXMuc2Nyb2xsTGVmdCArIHRoaXMuc2Nyb2xsTWFyZ2luLmxlZnQpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kZnJvemVuID0gZmFsc2U7XG4gICAgdGhpcy5mcmVlemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZnJvemVuID0gdHJ1ZTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMudW5mcmVlemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZnJvemVuID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHRoaXMuJHJlbmRlckNoYW5nZXMgPSBmdW5jdGlvbihjaGFuZ2VzLCBmb3JjZSkge1xuICAgICAgICBpZiAodGhpcy4kY2hhbmdlcykge1xuICAgICAgICAgICAgY2hhbmdlcyB8PSB0aGlzLiRjaGFuZ2VzO1xuICAgICAgICAgICAgdGhpcy4kY2hhbmdlcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghdGhpcy5zZXNzaW9uIHx8ICF0aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCB8fCB0aGlzLiRmcm96ZW4pIHx8ICghY2hhbmdlcyAmJiAhZm9yY2UpKSB7XG4gICAgICAgICAgICB0aGlzLiRjaGFuZ2VzIHw9IGNoYW5nZXM7XG4gICAgICAgICAgICByZXR1cm47IFxuICAgICAgICB9IFxuICAgICAgICBpZiAodGhpcy4kc2l6ZS4kZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuJGNoYW5nZXMgfD0gY2hhbmdlcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9uUmVzaXplKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5saW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIuY2hlY2tGb3JTaXplQ2hhbmdlcygpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9zaWduYWwoXCJiZWZvcmVSZW5kZXJcIik7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmxheWVyQ29uZmlnO1xuICAgICAgICBpZiAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0ZVTEwgfHxcbiAgICAgICAgICAgIGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9TSVpFIHx8XG4gICAgICAgICAgICBjaGFuZ2VzICYgdGhpcy5DSEFOR0VfVEVYVCB8fFxuICAgICAgICAgICAgY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0xJTkVTIHx8XG4gICAgICAgICAgICBjaGFuZ2VzICYgdGhpcy5DSEFOR0VfU0NST0xMIHx8XG4gICAgICAgICAgICBjaGFuZ2VzICYgdGhpcy5DSEFOR0VfSF9TQ1JPTExcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjaGFuZ2VzIHw9IHRoaXMuJGNvbXB1dGVMYXllckNvbmZpZygpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5maXJzdFJvdyAhPSB0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93ICYmIGNvbmZpZy5maXJzdFJvd1NjcmVlbiA9PSB0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93U2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0ID0gdGhpcy5zY3JvbGxUb3AgKyAoY29uZmlnLmZpcnN0Um93IC0gdGhpcy5sYXllckNvbmZpZy5maXJzdFJvdykgKiB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKHN0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvcCA9IHN0O1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzID0gY2hhbmdlcyB8IHRoaXMuQ0hBTkdFX1NDUk9MTDtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlcyB8PSB0aGlzLiRjb21wdXRlTGF5ZXJDb25maWcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcgPSB0aGlzLmxheWVyQ29uZmlnO1xuICAgICAgICAgICAgdGhpcy4kdXBkYXRlU2Nyb2xsQmFyVigpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9IX1NDUk9MTClcbiAgICAgICAgICAgICAgICB0aGlzLiR1cGRhdGVTY3JvbGxCYXJIKCk7XG4gICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci5lbGVtZW50LnN0eWxlLm1hcmdpblRvcCA9ICgtY29uZmlnLm9mZnNldCkgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuc3R5bGUubWFyZ2luVG9wID0gKC1jb25maWcub2Zmc2V0KSArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5zdHlsZS53aWR0aCA9IGNvbmZpZy53aWR0aCArIDIgKiB0aGlzLiRwYWRkaW5nICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50LnN0eWxlLmhlaWdodCA9IGNvbmZpZy5taW5IZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9IX1NDUk9MTCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50LnN0eWxlLm1hcmdpbkxlZnQgPSAtdGhpcy5zY3JvbGxMZWZ0ICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5jbGFzc05hbWUgPSB0aGlzLnNjcm9sbExlZnQgPD0gMCA/IFwiYWNlX3Njcm9sbGVyXCIgOiBcImFjZV9zY3JvbGxlciBhY2Vfc2Nyb2xsLWxlZnRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0ZVTEwpIHtcbiAgICAgICAgICAgIHRoaXMuJHRleHRMYXllci51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiRzaG93R3V0dGVyKVxuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShjb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kbWFya2VyQmFjay51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuJG1hcmtlckZyb250LnVwZGF0ZShjb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpO1xuICAgICAgICAgICAgdGhpcy4kaGlnaGxpZ2h0R3V0dGVyTGluZSAmJiB0aGlzLiR1cGRhdGVHdXR0ZXJMaW5lSGlnaGxpZ2h0KCk7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJhZnRlclJlbmRlclwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX1NDUk9MTCkge1xuICAgICAgICAgICAgaWYgKGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9URVhUIHx8IGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9MSU5FUylcbiAgICAgICAgICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy4kdGV4dExheWVyLnNjcm9sbExpbmVzKGNvbmZpZyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRzaG93R3V0dGVyKVxuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShjb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kbWFya2VyQmFjay51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuJG1hcmtlckZyb250LnVwZGF0ZShjb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRHdXR0ZXJMaW5lICYmIHRoaXMuJHVwZGF0ZUd1dHRlckxpbmVIaWdobGlnaHQoKTtcbiAgICAgICAgICAgIHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCk7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJhZnRlclJlbmRlclwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfVEVYVCkge1xuICAgICAgICAgICAgdGhpcy4kdGV4dExheWVyLnVwZGF0ZShjb25maWcpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJHNob3dHdXR0ZXIpXG4gICAgICAgICAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0xJTkVTKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kdXBkYXRlTGluZXMoKSB8fCAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0dVVFRFUikgJiYgdGhpcy4kc2hvd0d1dHRlcilcbiAgICAgICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfVEVYVCB8fCBjaGFuZ2VzICYgdGhpcy5DSEFOR0VfR1VUVEVSKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2hvd0d1dHRlcilcbiAgICAgICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfQ1VSU09SKSB7XG4gICAgICAgICAgICB0aGlzLiRjdXJzb3JMYXllci51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCk7XG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRHdXR0ZXJMaW5lICYmIHRoaXMuJHVwZGF0ZUd1dHRlckxpbmVIaWdobGlnaHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VzICYgKHRoaXMuQ0hBTkdFX01BUktFUiB8IHRoaXMuQ0hBTkdFX01BUktFUl9GUk9OVCkpIHtcbiAgICAgICAgICAgIHRoaXMuJG1hcmtlckZyb250LnVwZGF0ZShjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMgJiAodGhpcy5DSEFOR0VfTUFSS0VSIHwgdGhpcy5DSEFOR0VfTUFSS0VSX0JBQ0spKSB7XG4gICAgICAgICAgICB0aGlzLiRtYXJrZXJCYWNrLnVwZGF0ZShjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiYWZ0ZXJSZW5kZXJcIik7XG4gICAgfTtcblxuICAgIFxuICAgIHRoaXMuJGF1dG9zaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLnNlc3Npb24uZ2V0U2NyZWVuTGVuZ3RoKCkgKiB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBtYXhIZWlnaHQgPSB0aGlzLiRtYXhMaW5lcyAqIHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGRlc2lyZWRIZWlnaHQgPSBNYXRoLm1heChcbiAgICAgICAgICAgICh0aGlzLiRtaW5MaW5lc3x8MSkgKiB0aGlzLmxpbmVIZWlnaHQsXG4gICAgICAgICAgICBNYXRoLm1pbihtYXhIZWlnaHQsIGhlaWdodClcbiAgICAgICAgKSArIHRoaXMuc2Nyb2xsTWFyZ2luLnYgKyAodGhpcy4kZXh0cmFIZWlnaHQgfHwgMCk7XG4gICAgICAgIGlmICh0aGlzLiRob3JpelNjcm9sbClcbiAgICAgICAgICAgIGRlc2lyZWRIZWlnaHQgKz0gdGhpcy5zY3JvbGxCYXJILmdldEhlaWdodCgpO1xuICAgICAgICB2YXIgdlNjcm9sbCA9IGhlaWdodCA+IG1heEhlaWdodDtcbiAgICAgICAgXG4gICAgICAgIGlmIChkZXNpcmVkSGVpZ2h0ICE9IHRoaXMuZGVzaXJlZEhlaWdodCB8fFxuICAgICAgICAgICAgdGhpcy4kc2l6ZS5oZWlnaHQgIT0gdGhpcy5kZXNpcmVkSGVpZ2h0IHx8IHZTY3JvbGwgIT0gdGhpcy4kdlNjcm9sbCkge1xuICAgICAgICAgICAgaWYgKHZTY3JvbGwgIT0gdGhpcy4kdlNjcm9sbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHZTY3JvbGwgPSB2U2Nyb2xsO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsQmFyVi5zZXRWaXNpYmxlKHZTY3JvbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgdyA9IHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gZGVzaXJlZEhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZUNhY2hlZFNpemUodHJ1ZSwgdGhpcy4kZ3V0dGVyV2lkdGgsIHcsIGRlc2lyZWRIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5kZXNpcmVkSGVpZ2h0ID0gZGVzaXJlZEhlaWdodDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiYXV0b3NpemVcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJGNvbXB1dGVMYXllckNvbmZpZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLiRzaXplO1xuICAgICAgICBcbiAgICAgICAgdmFyIGhpZGVTY3JvbGxiYXJzID0gc2l6ZS5oZWlnaHQgPD0gMiAqIHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgdmFyIHNjcmVlbkxpbmVzID0gdGhpcy5zZXNzaW9uLmdldFNjcmVlbkxlbmd0aCgpO1xuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gc2NyZWVuTGluZXMgKiB0aGlzLmxpbmVIZWlnaHQ7XG5cbiAgICAgICAgdmFyIGxvbmdlc3RMaW5lID0gdGhpcy4kZ2V0TG9uZ2VzdExpbmUoKTtcbiAgICAgICAgXG4gICAgICAgIHZhciBob3JpelNjcm9sbCA9ICFoaWRlU2Nyb2xsYmFycyAmJiAodGhpcy4kaFNjcm9sbEJhckFsd2F5c1Zpc2libGUgfHxcbiAgICAgICAgICAgIHNpemUuc2Nyb2xsZXJXaWR0aCAtIGxvbmdlc3RMaW5lIC0gMiAqIHRoaXMuJHBhZGRpbmcgPCAwKTtcblxuICAgICAgICB2YXIgaFNjcm9sbENoYW5nZWQgPSB0aGlzLiRob3JpelNjcm9sbCAhPT0gaG9yaXpTY3JvbGw7XG4gICAgICAgIGlmIChoU2Nyb2xsQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy4kaG9yaXpTY3JvbGwgPSBob3JpelNjcm9sbDtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQmFySC5zZXRWaXNpYmxlKGhvcml6U2Nyb2xsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdlNjcm9sbEJlZm9yZSA9IHRoaXMuJHZTY3JvbGw7IC8vIGF1dG9zaXplIGNhbiBjaGFuZ2UgdnNjcm9sbCB2YWx1ZSBpbiB3aGljaCBjYXNlIHdlIG5lZWQgdG8gdXBkYXRlIGxvbmdlc3RMaW5lXG4gICAgICAgIGlmICh0aGlzLiRtYXhMaW5lcyAmJiB0aGlzLmxpbmVIZWlnaHQgPiAxKVxuICAgICAgICAgICAgdGhpcy4kYXV0b3NpemUoKTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5zY3JvbGxUb3AgJSB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBtaW5IZWlnaHQgPSBzaXplLnNjcm9sbGVySGVpZ2h0ICsgdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgdmFyIHNjcm9sbFBhc3RFbmQgPSAhdGhpcy4kbWF4TGluZXMgJiYgdGhpcy4kc2Nyb2xsUGFzdEVuZFxuICAgICAgICAgICAgPyAoc2l6ZS5zY3JvbGxlckhlaWdodCAtIHRoaXMubGluZUhlaWdodCkgKiB0aGlzLiRzY3JvbGxQYXN0RW5kXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIG1heEhlaWdodCArPSBzY3JvbGxQYXN0RW5kO1xuICAgICAgICBcbiAgICAgICAgdmFyIHNtID0gdGhpcy5zY3JvbGxNYXJnaW47XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AoTWF0aC5tYXgoLXNtLnRvcCxcbiAgICAgICAgICAgIE1hdGgubWluKHRoaXMuc2Nyb2xsVG9wLCBtYXhIZWlnaHQgLSBzaXplLnNjcm9sbGVySGVpZ2h0ICsgc20uYm90dG9tKSkpO1xuXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KE1hdGgubWF4KC1zbS5sZWZ0LCBNYXRoLm1pbih0aGlzLnNjcm9sbExlZnQsIFxuICAgICAgICAgICAgbG9uZ2VzdExpbmUgKyAyICogdGhpcy4kcGFkZGluZyAtIHNpemUuc2Nyb2xsZXJXaWR0aCArIHNtLnJpZ2h0KSkpO1xuICAgICAgICBcbiAgICAgICAgdmFyIHZTY3JvbGwgPSAhaGlkZVNjcm9sbGJhcnMgJiYgKHRoaXMuJHZTY3JvbGxCYXJBbHdheXNWaXNpYmxlIHx8XG4gICAgICAgICAgICBzaXplLnNjcm9sbGVySGVpZ2h0IC0gbWF4SGVpZ2h0ICsgc2Nyb2xsUGFzdEVuZCA8IDAgfHwgdGhpcy5zY3JvbGxUb3AgPiBzbS50b3ApO1xuICAgICAgICB2YXIgdlNjcm9sbENoYW5nZWQgPSB2U2Nyb2xsQmVmb3JlICE9PSB2U2Nyb2xsO1xuICAgICAgICBpZiAodlNjcm9sbENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuJHZTY3JvbGwgPSB2U2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxCYXJWLnNldFZpc2libGUodlNjcm9sbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGluZUNvdW50ID0gTWF0aC5jZWlsKG1pbkhlaWdodCAvIHRoaXMubGluZUhlaWdodCkgLSAxO1xuICAgICAgICB2YXIgZmlyc3RSb3cgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKCh0aGlzLnNjcm9sbFRvcCAtIG9mZnNldCkgLyB0aGlzLmxpbmVIZWlnaHQpKTtcbiAgICAgICAgdmFyIGxhc3RSb3cgPSBmaXJzdFJvdyArIGxpbmVDb3VudDtcbiAgICAgICAgdmFyIGZpcnN0Um93U2NyZWVuLCBmaXJzdFJvd0hlaWdodDtcbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIGZpcnN0Um93ID0gc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50Um93KGZpcnN0Um93LCAwKTtcbiAgICAgICAgdmFyIGZvbGRMaW5lID0gc2Vzc2lvbi5nZXRGb2xkTGluZShmaXJzdFJvdyk7XG4gICAgICAgIGlmIChmb2xkTGluZSkge1xuICAgICAgICAgICAgZmlyc3RSb3cgPSBmb2xkTGluZS5zdGFydC5yb3c7XG4gICAgICAgIH1cblxuICAgICAgICBmaXJzdFJvd1NjcmVlbiA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblJvdyhmaXJzdFJvdywgMCk7XG4gICAgICAgIGZpcnN0Um93SGVpZ2h0ID0gc2Vzc2lvbi5nZXRSb3dMZW5ndGgoZmlyc3RSb3cpICogbGluZUhlaWdodDtcblxuICAgICAgICBsYXN0Um93ID0gTWF0aC5taW4oc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50Um93KGxhc3RSb3csIDApLCBzZXNzaW9uLmdldExlbmd0aCgpIC0gMSk7XG4gICAgICAgIG1pbkhlaWdodCA9IHNpemUuc2Nyb2xsZXJIZWlnaHQgKyBzZXNzaW9uLmdldFJvd0xlbmd0aChsYXN0Um93KSAqIGxpbmVIZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RSb3dIZWlnaHQ7XG5cbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5zY3JvbGxUb3AgLSBmaXJzdFJvd1NjcmVlbiAqIGxpbmVIZWlnaHQ7XG5cbiAgICAgICAgdmFyIGNoYW5nZXMgPSAwO1xuICAgICAgICBpZiAodGhpcy5sYXllckNvbmZpZy53aWR0aCAhPSBsb25nZXN0TGluZSkgXG4gICAgICAgICAgICBjaGFuZ2VzID0gdGhpcy5DSEFOR0VfSF9TQ1JPTEw7XG4gICAgICAgIGlmIChoU2Nyb2xsQ2hhbmdlZCB8fCB2U2Nyb2xsQ2hhbmdlZCkge1xuICAgICAgICAgICAgY2hhbmdlcyA9IHRoaXMuJHVwZGF0ZUNhY2hlZFNpemUodHJ1ZSwgdGhpcy5ndXR0ZXJXaWR0aCwgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwic2Nyb2xsYmFyVmlzaWJpbGl0eUNoYW5nZWRcIik7XG4gICAgICAgICAgICBpZiAodlNjcm9sbENoYW5nZWQpXG4gICAgICAgICAgICAgICAgbG9uZ2VzdExpbmUgPSB0aGlzLiRnZXRMb25nZXN0TGluZSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLmxheWVyQ29uZmlnID0ge1xuICAgICAgICAgICAgd2lkdGggOiBsb25nZXN0TGluZSxcbiAgICAgICAgICAgIHBhZGRpbmcgOiB0aGlzLiRwYWRkaW5nLFxuICAgICAgICAgICAgZmlyc3RSb3cgOiBmaXJzdFJvdyxcbiAgICAgICAgICAgIGZpcnN0Um93U2NyZWVuOiBmaXJzdFJvd1NjcmVlbixcbiAgICAgICAgICAgIGxhc3RSb3cgOiBsYXN0Um93LFxuICAgICAgICAgICAgbGluZUhlaWdodCA6IGxpbmVIZWlnaHQsXG4gICAgICAgICAgICBjaGFyYWN0ZXJXaWR0aCA6IHRoaXMuY2hhcmFjdGVyV2lkdGgsXG4gICAgICAgICAgICBtaW5IZWlnaHQgOiBtaW5IZWlnaHQsXG4gICAgICAgICAgICBtYXhIZWlnaHQgOiBtYXhIZWlnaHQsXG4gICAgICAgICAgICBvZmZzZXQgOiBvZmZzZXQsXG4gICAgICAgICAgICBndXR0ZXJPZmZzZXQgOiBNYXRoLm1heCgwLCBNYXRoLmNlaWwoKG9mZnNldCArIHNpemUuaGVpZ2h0IC0gc2l6ZS5zY3JvbGxlckhlaWdodCkgLyBsaW5lSGVpZ2h0KSksXG4gICAgICAgICAgICBoZWlnaHQgOiB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGNoYW5nZXM7XG4gICAgfTtcblxuICAgIHRoaXMuJHVwZGF0ZUxpbmVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBmaXJzdFJvdyA9IHRoaXMuJGNoYW5nZWRMaW5lcy5maXJzdFJvdztcbiAgICAgICAgdmFyIGxhc3RSb3cgPSB0aGlzLiRjaGFuZ2VkTGluZXMubGFzdFJvdztcbiAgICAgICAgdGhpcy4kY2hhbmdlZExpbmVzID0gbnVsbDtcblxuICAgICAgICB2YXIgbGF5ZXJDb25maWcgPSB0aGlzLmxheWVyQ29uZmlnO1xuXG4gICAgICAgIGlmIChmaXJzdFJvdyA+IGxheWVyQ29uZmlnLmxhc3RSb3cgKyAxKSB7IHJldHVybjsgfVxuICAgICAgICBpZiAobGFzdFJvdyA8IGxheWVyQ29uZmlnLmZpcnN0Um93KSB7IHJldHVybjsgfVxuICAgICAgICBpZiAobGFzdFJvdyA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiRzaG93R3V0dGVyKVxuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShsYXllckNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIudXBkYXRlKGxheWVyQ29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIudXBkYXRlTGluZXMobGF5ZXJDb25maWcsIGZpcnN0Um93LCBsYXN0Um93KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldExvbmdlc3RMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGFyQ291bnQgPSB0aGlzLnNlc3Npb24uZ2V0U2NyZWVuV2lkdGgoKTtcbiAgICAgICAgaWYgKHRoaXMuc2hvd0ludmlzaWJsZXMgJiYgIXRoaXMuc2Vzc2lvbi4kdXNlV3JhcE1vZGUpXG4gICAgICAgICAgICBjaGFyQ291bnQgKz0gMTtcblxuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoIC0gMiAqIHRoaXMuJHBhZGRpbmcsIE1hdGgucm91bmQoY2hhckNvdW50ICogdGhpcy5jaGFyYWN0ZXJXaWR0aCkpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVGcm9udE1hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbWFya2VyRnJvbnQuc2V0TWFya2Vycyh0aGlzLnNlc3Npb24uZ2V0TWFya2Vycyh0cnVlKSk7XG4gICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfTUFSS0VSX0ZST05UKTtcbiAgICB9O1xuICAgIHRoaXMudXBkYXRlQmFja01hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbWFya2VyQmFjay5zZXRNYXJrZXJzKHRoaXMuc2Vzc2lvbi5nZXRNYXJrZXJzKCkpO1xuICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX01BUktFUl9CQUNLKTtcbiAgICB9O1xuICAgIHRoaXMuYWRkR3V0dGVyRGVjb3JhdGlvbiA9IGZ1bmN0aW9uKHJvdywgY2xhc3NOYW1lKXtcbiAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIuYWRkR3V0dGVyRGVjb3JhdGlvbihyb3csIGNsYXNzTmFtZSk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUd1dHRlckRlY29yYXRpb24gPSBmdW5jdGlvbihyb3csIGNsYXNzTmFtZSl7XG4gICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnJlbW92ZUd1dHRlckRlY29yYXRpb24ocm93LCBjbGFzc05hbWUpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVCcmVha3BvaW50cyA9IGZ1bmN0aW9uKHJvd3MpIHtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uKGFubm90YXRpb25zKSB7XG4gICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnNldEFubm90YXRpb25zKGFubm90YXRpb25zKTtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVDdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9DVVJTT1IpO1xuICAgIH07XG4gICAgdGhpcy5oaWRlQ3Vyc29yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGN1cnNvckxheWVyLmhpZGVDdXJzb3IoKTtcbiAgICB9O1xuICAgIHRoaXMuc2hvd0N1cnNvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRjdXJzb3JMYXllci5zaG93Q3Vyc29yKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcgPSBmdW5jdGlvbihhbmNob3IsIGxlYWQsIG9mZnNldCkge1xuICAgICAgICB0aGlzLnNjcm9sbEN1cnNvckludG9WaWV3KGFuY2hvciwgb2Zmc2V0KTtcbiAgICAgICAgdGhpcy5zY3JvbGxDdXJzb3JJbnRvVmlldyhsZWFkLCBvZmZzZXQpO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxDdXJzb3JJbnRvVmlldyA9IGZ1bmN0aW9uKGN1cnNvciwgb2Zmc2V0LCAkdmlld01hcmdpbikge1xuICAgICAgICBpZiAodGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgcG9zID0gdGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbihjdXJzb3IpO1xuXG4gICAgICAgIHZhciBsZWZ0ID0gcG9zLmxlZnQ7XG4gICAgICAgIHZhciB0b3AgPSBwb3MudG9wO1xuICAgICAgICBcbiAgICAgICAgdmFyIHRvcE1hcmdpbiA9ICR2aWV3TWFyZ2luICYmICR2aWV3TWFyZ2luLnRvcCB8fCAwO1xuICAgICAgICB2YXIgYm90dG9tTWFyZ2luID0gJHZpZXdNYXJnaW4gJiYgJHZpZXdNYXJnaW4uYm90dG9tIHx8IDA7XG4gICAgICAgIFxuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kc2Nyb2xsQW5pbWF0aW9uID8gdGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpIDogdGhpcy5zY3JvbGxUb3A7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2Nyb2xsVG9wICsgdG9wTWFyZ2luID4gdG9wKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICYmIHNjcm9sbFRvcCArIHRvcE1hcmdpbiA+IHRvcCArIHRoaXMubGluZUhlaWdodClcbiAgICAgICAgICAgICAgICB0b3AgLT0gb2Zmc2V0ICogdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodDtcbiAgICAgICAgICAgIGlmICh0b3AgPT09IDApXG4gICAgICAgICAgICAgICAgdG9wID0gLXRoaXMuc2Nyb2xsTWFyZ2luLnRvcDtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodG9wKTtcbiAgICAgICAgfSBlbHNlIGlmIChzY3JvbGxUb3AgKyB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0IC0gYm90dG9tTWFyZ2luIDwgdG9wICsgdGhpcy5saW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICYmIHNjcm9sbFRvcCArIHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQgLSBib3R0b21NYXJnaW4gPCB0b3AgLSAgdGhpcy5saW5lSGVpZ2h0KVxuICAgICAgICAgICAgICAgIHRvcCArPSBvZmZzZXQgKiB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcCh0b3AgKyB0aGlzLmxpbmVIZWlnaHQgLSB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxMZWZ0O1xuXG4gICAgICAgIGlmIChzY3JvbGxMZWZ0ID4gbGVmdCkge1xuICAgICAgICAgICAgaWYgKGxlZnQgPCB0aGlzLiRwYWRkaW5nICsgMiAqIHRoaXMubGF5ZXJDb25maWcuY2hhcmFjdGVyV2lkdGgpXG4gICAgICAgICAgICAgICAgbGVmdCA9IC10aGlzLnNjcm9sbE1hcmdpbi5sZWZ0O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQobGVmdCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsTGVmdCArIHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aCA8IGxlZnQgKyB0aGlzLmNoYXJhY3RlcldpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChNYXRoLnJvdW5kKGxlZnQgKyB0aGlzLmNoYXJhY3RlcldpZHRoIC0gdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsTGVmdCA8PSB0aGlzLiRwYWRkaW5nICYmIGxlZnQgLSBzY3JvbGxMZWZ0IDwgdGhpcy5jaGFyYWN0ZXJXaWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQoMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0U2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcm9sbExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxMZWZ0KCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcm9sbFRvcFJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGxUb3AgLyB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcm9sbEJvdHRvbVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigodGhpcy5zY3JvbGxUb3AgKyB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0KSAvIHRoaXMubGluZUhlaWdodCkgLSAxKTtcbiAgICB9O1xuICAgIHRoaXMuc2Nyb2xsVG9Sb3cgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcChyb3cgKiB0aGlzLmxpbmVIZWlnaHQpO1xuICAgIH07XG5cbiAgICB0aGlzLmFsaWduQ3Vyc29yID0gZnVuY3Rpb24oY3Vyc29yLCBhbGlnbm1lbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjdXJzb3IgPT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIGN1cnNvciA9IHtyb3c6IGN1cnNvciwgY29sdW1uOiAwfTtcblxuICAgICAgICB2YXIgcG9zID0gdGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbihjdXJzb3IpO1xuICAgICAgICB2YXIgaCA9IHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQgLSB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBvZmZzZXQgPSBwb3MudG9wIC0gaCAqIChhbGlnbm1lbnQgfHwgMCk7XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcChvZmZzZXQpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH07XG5cbiAgICB0aGlzLlNURVBTID0gODtcbiAgICB0aGlzLiRjYWxjU3RlcHMgPSBmdW5jdGlvbihmcm9tVmFsdWUsIHRvVmFsdWUpe1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsID0gdGhpcy5TVEVQUztcbiAgICAgICAgdmFyIHN0ZXBzID0gW107XG5cbiAgICAgICAgdmFyIGZ1bmMgID0gZnVuY3Rpb24odCwgeF9taW4sIGR4KSB7XG4gICAgICAgICAgICByZXR1cm4gZHggKiAoTWF0aC5wb3codCAtIDEsIDMpICsgMSkgKyB4X21pbjtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgKytpKVxuICAgICAgICAgICAgc3RlcHMucHVzaChmdW5jKGkgLyB0aGlzLlNURVBTLCBmcm9tVmFsdWUsIHRvVmFsdWUgLSBmcm9tVmFsdWUpKTtcblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbFRvTGluZSA9IGZ1bmN0aW9uKGxpbmUsIGNlbnRlciwgYW5pbWF0ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24oe3JvdzogbGluZSwgY29sdW1uOiAwfSk7XG4gICAgICAgIHZhciBvZmZzZXQgPSBwb3MudG9wO1xuICAgICAgICBpZiAoY2VudGVyKVxuICAgICAgICAgICAgb2Zmc2V0IC09IHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQgLyAyO1xuXG4gICAgICAgIHZhciBpbml0aWFsU2Nyb2xsID0gdGhpcy5zY3JvbGxUb3A7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3Aob2Zmc2V0KTtcbiAgICAgICAgaWYgKGFuaW1hdGUgIT09IGZhbHNlKVxuICAgICAgICAgICAgdGhpcy5hbmltYXRlU2Nyb2xsaW5nKGluaXRpYWxTY3JvbGwsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hbmltYXRlU2Nyb2xsaW5nID0gZnVuY3Rpb24oZnJvbVZhbHVlLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgdG9WYWx1ZSA9IHRoaXMuc2Nyb2xsVG9wO1xuICAgICAgICBpZiAoIXRoaXMuJGFuaW1hdGVkU2Nyb2xsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZyb21WYWx1ZSA9PSB0b1ZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuJHNjcm9sbEFuaW1hdGlvbikge1xuICAgICAgICAgICAgdmFyIG9sZFN0ZXBzID0gdGhpcy4kc2Nyb2xsQW5pbWF0aW9uLnN0ZXBzO1xuICAgICAgICAgICAgaWYgKG9sZFN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZyb21WYWx1ZSA9IG9sZFN0ZXBzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tVmFsdWUgPT0gdG9WYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB2YXIgc3RlcHMgPSBfc2VsZi4kY2FsY1N0ZXBzKGZyb21WYWx1ZSwgdG9WYWx1ZSk7XG4gICAgICAgIHRoaXMuJHNjcm9sbEFuaW1hdGlvbiA9IHtmcm9tOiBmcm9tVmFsdWUsIHRvOiB0b1ZhbHVlLCBzdGVwczogc3RlcHN9O1xuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy4kdGltZXIpO1xuXG4gICAgICAgIF9zZWxmLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHN0ZXBzLnNoaWZ0KCkpO1xuICAgICAgICBfc2VsZi5zZXNzaW9uLiRzY3JvbGxUb3AgPSB0b1ZhbHVlO1xuICAgICAgICB0aGlzLiR0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIF9zZWxmLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHN0ZXBzLnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgIF9zZWxmLnNlc3Npb24uJHNjcm9sbFRvcCA9IHRvVmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRvVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9zZWxmLnNlc3Npb24uJHNjcm9sbFRvcCA9IC0xO1xuICAgICAgICAgICAgICAgIF9zZWxmLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHRvVmFsdWUpO1xuICAgICAgICAgICAgICAgIHRvVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfc2VsZi4kdGltZXIgPSBjbGVhckludGVydmFsKF9zZWxmLiR0aW1lcik7XG4gICAgICAgICAgICAgICAgX3NlbGYuJHNjcm9sbEFuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTApO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxUb1kgPSBmdW5jdGlvbihzY3JvbGxUb3ApIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wICE9PSBzY3JvbGxUb3ApIHtcbiAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfU0NST0xMKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbFRvWCA9IGZ1bmN0aW9uKHNjcm9sbExlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsTGVmdCAhPT0gc2Nyb2xsTGVmdClcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfSF9TQ1JPTEwpO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxUbyA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcCh5KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQoeSk7XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbEJ5ID0gZnVuY3Rpb24oZGVsdGFYLCBkZWx0YVkpIHtcbiAgICAgICAgZGVsdGFZICYmIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpICsgZGVsdGFZKTtcbiAgICAgICAgZGVsdGFYICYmIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxMZWZ0KCkgKyBkZWx0YVgpO1xuICAgIH07XG4gICAgdGhpcy5pc1Njcm9sbGFibGVCeSA9IGZ1bmN0aW9uKGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgICAgIGlmIChkZWx0YVkgPCAwICYmIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKSA+PSAxIC0gdGhpcy5zY3JvbGxNYXJnaW4udG9wKVxuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGRlbHRhWSA+IDAgJiYgdGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpICsgdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodFxuICAgICAgICAgICAgLSB0aGlzLmxheWVyQ29uZmlnLm1heEhlaWdodCA8IC0xICsgdGhpcy5zY3JvbGxNYXJnaW4uYm90dG9tKVxuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGRlbHRhWCA8IDAgJiYgdGhpcy5zZXNzaW9uLmdldFNjcm9sbExlZnQoKSA+PSAxIC0gdGhpcy5zY3JvbGxNYXJnaW4ubGVmdClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoZGVsdGFYID4gMCAmJiB0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpICsgdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoXG4gICAgICAgICAgICAtIHRoaXMubGF5ZXJDb25maWcud2lkdGggPCAtMSArIHRoaXMuc2Nyb2xsTWFyZ2luLnJpZ2h0KVxuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIHZhciBjYW52YXNQb3MgPSB0aGlzLnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSAoeCArIHRoaXMuc2Nyb2xsTGVmdCAtIGNhbnZhc1Bvcy5sZWZ0IC0gdGhpcy4kcGFkZGluZykgLyB0aGlzLmNoYXJhY3RlcldpZHRoO1xuICAgICAgICB2YXIgcm93ID0gTWF0aC5mbG9vcigoeSArIHRoaXMuc2Nyb2xsVG9wIC0gY2FudmFzUG9zLnRvcCkgLyB0aGlzLmxpbmVIZWlnaHQpO1xuICAgICAgICB2YXIgY29sID0gTWF0aC5yb3VuZChvZmZzZXQpO1xuXG4gICAgICAgIHJldHVybiB7cm93OiByb3csIGNvbHVtbjogY29sLCBzaWRlOiBvZmZzZXQgLSBjb2wgPiAwID8gMSA6IC0xfTtcbiAgICB9O1xuXG4gICAgdGhpcy5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgdmFyIGNhbnZhc1BvcyA9IHRoaXMuc2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdmFyIGNvbCA9IE1hdGgucm91bmQoXG4gICAgICAgICAgICAoeCArIHRoaXMuc2Nyb2xsTGVmdCAtIGNhbnZhc1Bvcy5sZWZ0IC0gdGhpcy4kcGFkZGluZykgLyB0aGlzLmNoYXJhY3RlcldpZHRoXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIHJvdyA9ICh5ICsgdGhpcy5zY3JvbGxUb3AgLSBjYW52YXNQb3MudG9wKSAvIHRoaXMubGluZUhlaWdodDtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihyb3csIE1hdGgubWF4KGNvbCwgMCkpO1xuICAgIH07XG4gICAgdGhpcy50ZXh0VG9TY3JlZW5Db29yZGluYXRlcyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciBjYW52YXNQb3MgPSB0aGlzLnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihyb3csIGNvbHVtbik7XG5cbiAgICAgICAgdmFyIHggPSB0aGlzLiRwYWRkaW5nICsgTWF0aC5yb3VuZChwb3MuY29sdW1uICogdGhpcy5jaGFyYWN0ZXJXaWR0aCk7XG4gICAgICAgIHZhciB5ID0gcG9zLnJvdyAqIHRoaXMubGluZUhlaWdodDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFnZVg6IGNhbnZhc1Bvcy5sZWZ0ICsgeCAtIHRoaXMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHBhZ2VZOiBjYW52YXNQb3MudG9wICsgeSAtIHRoaXMuc2Nyb2xsVG9wXG4gICAgICAgIH07XG4gICAgfTtcbiAgICB0aGlzLnZpc3VhbGl6ZUZvY3VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvbS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwgXCJhY2VfZm9jdXNcIik7XG4gICAgfTtcbiAgICB0aGlzLnZpc3VhbGl6ZUJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuY29udGFpbmVyLCBcImFjZV9mb2N1c1wiKTtcbiAgICB9O1xuICAgIHRoaXMuc2hvd0NvbXBvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLiRjb21wb3NpdGlvbilcbiAgICAgICAgICAgIHRoaXMuJGNvbXBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIGtlZXBUZXh0QXJlYUF0Q3Vyc29yOiB0aGlzLiRrZWVwVGV4dEFyZWFBdEN1cnNvcixcbiAgICAgICAgICAgICAgICBjc3NUZXh0OiB0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgdGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3IgPSB0cnVlO1xuICAgICAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy50ZXh0YXJlYSwgXCJhY2VfY29tcG9zaXRpb25cIik7XG4gICAgICAgIHRoaXMudGV4dGFyZWEuc3R5bGUuY3NzVGV4dCA9IFwiXCI7XG4gICAgICAgIHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldENvbXBvc2l0aW9uVGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgdGhpcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKTtcbiAgICB9O1xuICAgIHRoaXMuaGlkZUNvbXBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy4kY29tcG9zaXRpb24pXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMudGV4dGFyZWEsIFwiYWNlX2NvbXBvc2l0aW9uXCIpO1xuICAgICAgICB0aGlzLiRrZWVwVGV4dEFyZWFBdEN1cnNvciA9IHRoaXMuJGNvbXBvc2l0aW9uLmtlZXBUZXh0QXJlYUF0Q3Vyc29yO1xuICAgICAgICB0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHQgPSB0aGlzLiRjb21wb3NpdGlvbi5jc3NUZXh0O1xuICAgICAgICB0aGlzLiRjb21wb3NpdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICB0aGlzLnNldFRoZW1lID0gZnVuY3Rpb24odGhlbWUsIGNiKSB7XG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuJHRoZW1lSWQgPSB0aGVtZTtcbiAgICAgICAgX3NlbGYuX2Rpc3BhdGNoRXZlbnQoJ3RoZW1lQ2hhbmdlJyx7dGhlbWU6dGhlbWV9KTtcblxuICAgICAgICBpZiAoIXRoZW1lIHx8IHR5cGVvZiB0aGVtZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgbW9kdWxlTmFtZSA9IHRoZW1lIHx8IHRoaXMuJG9wdGlvbnMudGhlbWUuaW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoW1widGhlbWVcIiwgbW9kdWxlTmFtZV0sIGFmdGVyTG9hZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZnRlckxvYWQodGhlbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWZ0ZXJMb2FkKG1vZHVsZSkge1xuICAgICAgICAgICAgaWYgKF9zZWxmLiR0aGVtZUlkICE9IHRoZW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiBjYiAmJiBjYigpO1xuICAgICAgICAgICAgaWYgKCFtb2R1bGUuY3NzQ2xhc3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZG9tLmltcG9ydENzc1N0cmluZyhcbiAgICAgICAgICAgICAgICBtb2R1bGUuY3NzVGV4dCxcbiAgICAgICAgICAgICAgICBtb2R1bGUuY3NzQ2xhc3MsXG4gICAgICAgICAgICAgICAgX3NlbGYuY29udGFpbmVyLm93bmVyRG9jdW1lbnRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChfc2VsZi50aGVtZSlcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQ3NzQ2xhc3MoX3NlbGYuY29udGFpbmVyLCBfc2VsZi50aGVtZS5jc3NDbGFzcyk7XG5cbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gXCJwYWRkaW5nXCIgaW4gbW9kdWxlID8gbW9kdWxlLnBhZGRpbmcgXG4gICAgICAgICAgICAgICAgOiBcInBhZGRpbmdcIiBpbiAoX3NlbGYudGhlbWUgfHwge30pID8gNCA6IF9zZWxmLiRwYWRkaW5nO1xuICAgICAgICAgICAgaWYgKF9zZWxmLiRwYWRkaW5nICYmIHBhZGRpbmcgIT0gX3NlbGYuJHBhZGRpbmcpXG4gICAgICAgICAgICAgICAgX3NlbGYuc2V0UGFkZGluZyhwYWRkaW5nKTtcbiAgICAgICAgICAgIF9zZWxmLiR0aGVtZSA9IG1vZHVsZS5jc3NDbGFzcztcblxuICAgICAgICAgICAgX3NlbGYudGhlbWUgPSBtb2R1bGU7XG4gICAgICAgICAgICBkb20uYWRkQ3NzQ2xhc3MoX3NlbGYuY29udGFpbmVyLCBtb2R1bGUuY3NzQ2xhc3MpO1xuICAgICAgICAgICAgZG9tLnNldENzc0NsYXNzKF9zZWxmLmNvbnRhaW5lciwgXCJhY2VfZGFya1wiLCBtb2R1bGUuaXNEYXJrKTtcbiAgICAgICAgICAgIGlmIChfc2VsZi4kc2l6ZSkge1xuICAgICAgICAgICAgICAgIF9zZWxmLiRzaXplLndpZHRoID0gMDtcbiAgICAgICAgICAgICAgICBfc2VsZi4kdXBkYXRlU2l6ZUFzeW5jKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9zZWxmLl9kaXNwYXRjaEV2ZW50KCd0aGVtZUxvYWRlZCcsIHt0aGVtZTptb2R1bGV9KTtcbiAgICAgICAgICAgIGNiICYmIGNiKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0VGhlbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHRoZW1lSWQ7XG4gICAgfTtcbiAgICB0aGlzLnNldFN0eWxlID0gZnVuY3Rpb24oc3R5bGUsIGluY2x1ZGUpIHtcbiAgICAgICAgZG9tLnNldENzc0NsYXNzKHRoaXMuY29udGFpbmVyLCBzdHlsZSwgaW5jbHVkZSAhPT0gZmFsc2UpO1xuICAgIH07XG4gICAgdGhpcy51bnNldFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuY29udGFpbmVyLCBzdHlsZSk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldEN1cnNvclN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsZXIuc3R5bGUuY3Vyc29yICE9IHN0eWxlKVxuICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICB9O1xuICAgIHRoaXMuc2V0TW91c2VDdXJzb3IgPSBmdW5jdGlvbihjdXJzb3JTdHlsZSkge1xuICAgICAgICB0aGlzLnNjcm9sbGVyLnN0eWxlLmN1cnNvciA9IGN1cnNvclN0eWxlO1xuICAgIH07XG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJHRleHRMYXllci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuJGN1cnNvckxheWVyLmRlc3Ryb3koKTtcbiAgICB9O1xuXG59KS5jYWxsKFZpcnR1YWxSZW5kZXJlci5wcm90b3R5cGUpO1xuXG5cbmNvbmZpZy5kZWZpbmVPcHRpb25zKFZpcnR1YWxSZW5kZXJlci5wcm90b3R5cGUsIFwicmVuZGVyZXJcIiwge1xuICAgIGFuaW1hdGVkU2Nyb2xsOiB7aW5pdGlhbFZhbHVlOiBmYWxzZX0sXG4gICAgc2hvd0ludmlzaWJsZXM6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJHRleHRMYXllci5zZXRTaG93SW52aXNpYmxlcyh2YWx1ZSkpXG4gICAgICAgICAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9URVhUKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiBmYWxzZVxuICAgIH0sXG4gICAgc2hvd1ByaW50TWFyZ2luOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oKSB7IHRoaXMuJHVwZGF0ZVByaW50TWFyZ2luKCk7IH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgcHJpbnRNYXJnaW5Db2x1bW46IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbigpIHsgdGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKTsgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiA4MFxuICAgIH0sXG4gICAgcHJpbnRNYXJnaW46IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgdGhpcy4kcHJpbnRNYXJnaW5Db2x1bW4gPSB2YWw7XG4gICAgICAgICAgICB0aGlzLiRzaG93UHJpbnRNYXJnaW4gPSAhIXZhbDtcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVByaW50TWFyZ2luKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kc2hvd1ByaW50TWFyZ2luICYmIHRoaXMuJHByaW50TWFyZ2luQ29sdW1uOyBcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2hvd0d1dHRlcjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHNob3cpe1xuICAgICAgICAgICAgdGhpcy4kZ3V0dGVyLnN0eWxlLmRpc3BsYXkgPSBzaG93ID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpO1xuICAgICAgICAgICAgdGhpcy5vbkd1dHRlclJlc2l6ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IHRydWVcbiAgICB9LFxuICAgIGZhZGVGb2xkV2lkZ2V0czoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHNob3cpIHtcbiAgICAgICAgICAgIGRvbS5zZXRDc3NDbGFzcyh0aGlzLiRndXR0ZXIsIFwiYWNlX2ZhZGUtZm9sZC13aWRnZXRzXCIsIHNob3cpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBzaG93Rm9sZFdpZGdldHM6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihzaG93KSB7dGhpcy4kZ3V0dGVyTGF5ZXIuc2V0U2hvd0ZvbGRXaWRnZXRzKHNob3cpfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiB0cnVlXG4gICAgfSxcbiAgICBzaG93TGluZU51bWJlcnM6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci5zZXRTaG93TGluZU51bWJlcnMoc2hvdyk7XG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0dVVFRFUik7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgZGlzcGxheUluZGVudEd1aWRlczoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHNob3cpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiR0ZXh0TGF5ZXIuc2V0RGlzcGxheUluZGVudEd1aWRlcyhzaG93KSlcbiAgICAgICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFQpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IHRydWVcbiAgICB9LFxuICAgIGhpZ2hsaWdodEd1dHRlckxpbmU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihzaG91bGRIaWdobGlnaHQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kZ3V0dGVyTGluZUhpZ2hsaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRndXR0ZXJMaW5lSGlnaGxpZ2h0LmNsYXNzTmFtZSA9IFwiYWNlX2d1dHRlci1hY3RpdmUtbGluZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlci5hcHBlbmRDaGlsZCh0aGlzLiRndXR0ZXJMaW5lSGlnaGxpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQuc3R5bGUuZGlzcGxheSA9IHNob3VsZEhpZ2hsaWdodCA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgIGlmICh0aGlzLiRjdXJzb3JMYXllci4kcGl4ZWxQb3MpXG4gICAgICAgICAgICAgICAgdGhpcy4kdXBkYXRlR3V0dGVyTGluZUhpZ2hsaWdodCgpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgaFNjcm9sbEJhckFsd2F5c1Zpc2libGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kaFNjcm9sbEJhckFsd2F5c1Zpc2libGUgfHwgIXRoaXMuJGhvcml6U2Nyb2xsKVxuICAgICAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfU0NST0xMKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiBmYWxzZVxuICAgIH0sXG4gICAgdlNjcm9sbEJhckFsd2F5c1Zpc2libGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kdlNjcm9sbEJhckFsd2F5c1Zpc2libGUgfHwgIXRoaXMuJHZTY3JvbGwpXG4gICAgICAgICAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9TQ1JPTEwpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBmb250U2l6ZTogIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihzaXplKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNpemUgPT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBzaXplID0gc2l6ZSArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRm9udFNpemUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAxMlxuICAgIH0sXG4gICAgZm9udEZhbWlseToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmZvbnRGYW1pbHkgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGb250U2l6ZSgpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtYXhMaW5lczoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGdWxsKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1pbkxpbmVzOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZ1bGwoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2Nyb2xsUGFzdEVuZDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgdmFsID0gK3ZhbCB8fCAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuJHNjcm9sbFBhc3RFbmQgPT0gdmFsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuJHNjcm9sbFBhc3RFbmQgPSB2YWw7XG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1NDUk9MTCk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogMCxcbiAgICAgICAgaGFuZGxlc1NldDogdHJ1ZVxuICAgIH0sXG4gICAgZml4ZWRXaWR0aEd1dHRlcjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIuJGZpeGVkV2lkdGggPSAhIXZhbDtcbiAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfR1VUVEVSKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdGhlbWU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHsgdGhpcy5zZXRUaGVtZSh2YWwpIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLiR0aGVtZUlkIHx8IHRoaXMudGhlbWU7IH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogXCIuL3RoZW1lL3RleHRtYXRlXCIsXG4gICAgICAgIGhhbmRsZXNTZXQ6IHRydWVcbiAgICB9XG59KTtcblxuZXhwb3J0cy5WaXJ0dWFsUmVuZGVyZXIgPSBWaXJ0dWFsUmVuZGVyZXI7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS93b3JrZXIvd29ya2VyX2NsaWVudFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvbmV0XCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIixcImFjZS9jb25maWdcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIG5ldCA9IGFjZXF1aXJlKFwiLi4vbGliL25ldFwiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4uL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcbnZhciBjb25maWcgPSBhY2VxdWlyZShcIi4uL2NvbmZpZ1wiKTtcblxudmFyIFdvcmtlckNsaWVudCA9IGZ1bmN0aW9uKHRvcExldmVsTmFtZXNwYWNlcywgbW9kLCBjbGFzc25hbWUsIHdvcmtlclVybCkge1xuICAgIHRoaXMuJHNlbmREZWx0YVF1ZXVlID0gdGhpcy4kc2VuZERlbHRhUXVldWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoYW5nZUxpc3RlbmVyID0gdGhpcy5jaGFuZ2VMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICBpZiAoYWNlcXVpcmUubmFtZVRvVXJsICYmICFhY2VxdWlyZS50b1VybClcbiAgICAgICAgYWNlcXVpcmUudG9VcmwgPSBhY2VxdWlyZS5uYW1lVG9Vcmw7XG4gICAgXG4gICAgaWYgKGNvbmZpZy5nZXQoXCJwYWNrYWdlZFwiKSB8fCAhYWNlcXVpcmUudG9VcmwpIHtcbiAgICAgICAgd29ya2VyVXJsID0gd29ya2VyVXJsIHx8IGNvbmZpZy5tb2R1bGVVcmwobW9kLmlkLCBcIndvcmtlclwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBub3JtYWxpemVQYXRoID0gdGhpcy4kbm9ybWFsaXplUGF0aDtcbiAgICAgICAgd29ya2VyVXJsID0gd29ya2VyVXJsIHx8IG5vcm1hbGl6ZVBhdGgoYWNlcXVpcmUudG9VcmwoXCJhY2Uvd29ya2VyL3dvcmtlci5qc1wiLCBudWxsLCBcIl9cIikpO1xuXG4gICAgICAgIHZhciB0bG5zID0ge307XG4gICAgICAgIHRvcExldmVsTmFtZXNwYWNlcy5mb3JFYWNoKGZ1bmN0aW9uKG5zKSB7XG4gICAgICAgICAgICB0bG5zW25zXSA9IG5vcm1hbGl6ZVBhdGgoYWNlcXVpcmUudG9VcmwobnMsIG51bGwsIFwiX1wiKS5yZXBsYWNlKC8oXFwuanMpPyhcXD8uKik/JC8sIFwiXCIpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB3b3JrZXJTcmMgPSBtb2Quc3JjO1xuICAgIHZhciBCbG9iID0gcmVxdWlyZSgndzNjLWJsb2InKTtcbiAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFsgd29ya2VyU3JjIF0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnIH0pO1xuICAgIHZhciBibG9iVXJsID0gKHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG4gICAgdGhpcy4kd29ya2VyID0gbmV3IFdvcmtlcihibG9iVXJsKTtcblxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIHdpbmRvdy5ET01FeGNlcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBibG9iID0gdGhpcy4kd29ya2VyQmxvYih3b3JrZXJVcmwpO1xuICAgICAgICAgICAgdmFyIFVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcbiAgICAgICAgICAgIHZhciBibG9iVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuICAgICAgICAgICAgdGhpcy4kd29ya2VyID0gbmV3IFdvcmtlcihibG9iVVJMKTtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYmxvYlVSTCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGluaXQgOiB0cnVlLFxuICAgICAgICB0bG5zIDogdGxucyxcbiAgICAgICAgbW9kdWxlIDogbW9kLmlkLFxuICAgICAgICBjbGFzc25hbWUgOiBjbGFzc25hbWVcbiAgICB9KTtcblxuICAgIHRoaXMuY2FsbGJhY2tJZCA9IDE7XG4gICAgdGhpcy5jYWxsYmFja3MgPSB7fTtcblxuICAgIHRoaXMuJHdvcmtlci5vbm1lc3NhZ2UgPSB0aGlzLm9uTWVzc2FnZTtcbn07XG5cbihmdW5jdGlvbigpe1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXG4gICAgdGhpcy5vbk1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBtc2cgPSBlLmRhdGE7XG4gICAgICAgIHN3aXRjaChtc2cudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImV2ZW50XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsKG1zZy5uYW1lLCB7ZGF0YTogbXNnLmRhdGF9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjYWxsXCI6XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5jYWxsYmFja3NbbXNnLmlkXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobXNnLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWxsYmFja3NbbXNnLmlkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydEVycm9yKG1zZy5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsb2dcIjpcbiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZSAmJiBjb25zb2xlLmxvZyAmJiBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBtc2cuZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMucmVwb3J0RXJyb3IgPSBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgd2luZG93LmNvbnNvbGUgJiYgY29uc29sZS5lcnJvciAmJiBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfTtcblxuICAgIHRoaXMuJG5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBuZXQucXVhbGlmeVVSTChwYXRoKTtcbiAgICB9O1xuXG4gICAgdGhpcy50ZXJtaW5hdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwidGVybWluYXRlXCIsIHt9KTtcbiAgICAgICAgdGhpcy5kZWx0YVF1ZXVlID0gbnVsbDtcbiAgICAgICAgdGhpcy4kd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICB0aGlzLiR3b3JrZXIgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy4kZG9jKVxuICAgICAgICAgICAgdGhpcy4kZG9jLm9mZihcImNoYW5nZVwiLCB0aGlzLmNoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy4kZG9jID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5zZW5kID0gZnVuY3Rpb24oY21kLCBhcmdzKSB7XG4gICAgICAgIHRoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZDogY21kLCBhcmdzOiBhcmdzfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2FsbCA9IGZ1bmN0aW9uKGNtZCwgYXJncywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLmNhbGxiYWNrSWQrKztcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzW2lkXSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgYXJncy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbmQoY21kLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7ZXZlbnQ6IGV2ZW50LCBkYXRhOiB7ZGF0YTogZGF0YS5kYXRhfX0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGV4KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGV4LnN0YWNrKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmF0dGFjaFRvRG9jdW1lbnQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgaWYodGhpcy4kZG9jKVxuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGUoKTtcblxuICAgICAgICB0aGlzLiRkb2MgPSBkb2M7XG4gICAgICAgIHRoaXMuY2FsbChcInNldFZhbHVlXCIsIFtkb2MuZ2V0VmFsdWUoKV0pO1xuICAgICAgICBkb2Mub24oXCJjaGFuZ2VcIiwgdGhpcy5jaGFuZ2VMaXN0ZW5lcik7XG4gICAgfTtcblxuICAgIHRoaXMuY2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgICBpZiAoIXRoaXMuZGVsdGFRdWV1ZSkge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVF1ZXVlID0gW107XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuJHNlbmREZWx0YVF1ZXVlLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09IFwiaW5zZXJ0XCIpXG4gICAgICAgICAgICB0aGlzLmRlbHRhUXVldWUucHVzaChkZWx0YS5zdGFydCwgZGVsdGEubGluZXMpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmRlbHRhUXVldWUucHVzaChkZWx0YS5zdGFydCwgZGVsdGEuZW5kKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kc2VuZERlbHRhUXVldWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSB0aGlzLmRlbHRhUXVldWU7XG4gICAgICAgIGlmICghcSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmRlbHRhUXVldWUgPSBudWxsO1xuICAgICAgICBpZiAocS5sZW5ndGggPiA1MCAmJiBxLmxlbmd0aCA+IHRoaXMuJGRvYy5nZXRMZW5ndGgoKSA+PiAxKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGwoXCJzZXRWYWx1ZVwiLCBbdGhpcy4kZG9jLmdldFZhbHVlKCldKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwge2RhdGE6IHF9KTtcbiAgICB9O1xuXG4gICAgdGhpcy4kd29ya2VyQmxvYiA9IGZ1bmN0aW9uKHdvcmtlclVybCkge1xuICAgICAgICB2YXIgc2NyaXB0ID0gXCJpbXBvcnRTY3JpcHRzKCdcIiArIG5ldC5xdWFsaWZ5VVJMKHdvcmtlclVybCkgKyBcIicpO1wiO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtzY3JpcHRdLCB7XCJ0eXBlXCI6IFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwifSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgLy8gQmFja3dhcmRzLWNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgIHZhciBCbG9iQnVpbGRlciA9IHdpbmRvdy5CbG9iQnVpbGRlciB8fCB3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXIgfHwgd2luZG93Lk1vekJsb2JCdWlsZGVyO1xuICAgICAgICAgICAgdmFyIGJsb2JCdWlsZGVyID0gbmV3IEJsb2JCdWlsZGVyKCk7XG4gICAgICAgICAgICBibG9iQnVpbGRlci5hcHBlbmQoc2NyaXB0KTtcbiAgICAgICAgICAgIHJldHVybiBibG9iQnVpbGRlci5nZXRCbG9iKFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoV29ya2VyQ2xpZW50LnByb3RvdHlwZSk7XG5cblxudmFyIFVJV29ya2VyQ2xpZW50ID0gZnVuY3Rpb24odG9wTGV2ZWxOYW1lc3BhY2VzLCBtb2QsIGNsYXNzbmFtZSkge1xuICAgIHRoaXMuJHNlbmREZWx0YVF1ZXVlID0gdGhpcy4kc2VuZERlbHRhUXVldWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoYW5nZUxpc3RlbmVyID0gdGhpcy5jaGFuZ2VMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2FsbGJhY2tJZCA9IDE7XG4gICAgdGhpcy5jYWxsYmFja3MgPSB7fTtcbiAgICB0aGlzLm1lc3NhZ2VCdWZmZXIgPSBbXTtcblxuICAgIHZhciBtYWluID0gbnVsbDtcbiAgICB2YXIgZW1pdFN5bmMgPSBmYWxzZTtcbiAgICB2YXIgc2VuZGVyID0gT2JqZWN0LmNyZWF0ZShFdmVudEVtaXR0ZXIpO1xuICAgIHZhciBfc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLiR3b3JrZXIgPSB7fTtcbiAgICB0aGlzLiR3b3JrZXIudGVybWluYXRlID0gZnVuY3Rpb24oKSB7fTtcbiAgICB0aGlzLiR3b3JrZXIucG9zdE1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIF9zZWxmLm1lc3NhZ2VCdWZmZXIucHVzaChlKTtcbiAgICAgICAgaWYgKG1haW4pIHtcbiAgICAgICAgICAgIGlmIChlbWl0U3luYylcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHByb2Nlc3NOZXh0KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBwcm9jZXNzTmV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNldEVtaXRTeW5jID0gZnVuY3Rpb24odmFsKSB7IGVtaXRTeW5jID0gdmFsIH07XG5cbiAgICB2YXIgcHJvY2Vzc05leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IF9zZWxmLm1lc3NhZ2VCdWZmZXIuc2hpZnQoKTtcbiAgICAgICAgaWYgKG1zZy5jb21tYW5kKVxuICAgICAgICAgICAgbWFpblttc2cuY29tbWFuZF0uYXBwbHkobWFpbiwgbXNnLmFyZ3MpO1xuICAgICAgICBlbHNlIGlmIChtc2cuZXZlbnQpXG4gICAgICAgICAgICBzZW5kZXIuX3NpZ25hbChtc2cuZXZlbnQsIG1zZy5kYXRhKTtcbiAgICB9O1xuXG4gICAgc2VuZGVyLnBvc3RNZXNzYWdlID0gZnVuY3Rpb24obXNnKSB7XG4gICAgICAgIF9zZWxmLm9uTWVzc2FnZSh7ZGF0YTogbXNnfSk7XG4gICAgfTtcbiAgICBzZW5kZXIuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7XG4gICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe3R5cGU6IFwiY2FsbFwiLCBpZDogY2FsbGJhY2tJZCwgZGF0YTogZGF0YX0pO1xuICAgIH07XG4gICAgc2VuZGVyLmVtaXQgPSBmdW5jdGlvbihuYW1lLCBkYXRhKSB7XG4gICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe3R5cGU6IFwiZXZlbnRcIiwgbmFtZTogbmFtZSwgZGF0YTogZGF0YX0pO1xuICAgIH07XG5cbiAgICBjb25maWcubG9hZE1vZHVsZShbXCJ3b3JrZXJcIiwgbW9kXSwgZnVuY3Rpb24oTWFpbikge1xuICAgICAgICBtYWluID0gbmV3IE1haW5bY2xhc3NuYW1lXShzZW5kZXIpO1xuICAgICAgICB3aGlsZSAoX3NlbGYubWVzc2FnZUJ1ZmZlci5sZW5ndGgpXG4gICAgICAgICAgICBwcm9jZXNzTmV4dCgpO1xuICAgIH0pO1xufTtcblxuVUlXb3JrZXJDbGllbnQucHJvdG90eXBlID0gV29ya2VyQ2xpZW50LnByb3RvdHlwZTtcblxuZXhwb3J0cy5VSVdvcmtlckNsaWVudCA9IFVJV29ya2VyQ2xpZW50O1xuZXhwb3J0cy5Xb3JrZXJDbGllbnQgPSBXb3JrZXJDbGllbnQ7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3BsYWNlaG9sZGVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFwiYWNlL2xpYi9vb3BcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgRXZlbnRFbWl0dGVyID0gYWNlcXVpcmUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcbnZhciBvb3AgPSBhY2VxdWlyZShcIi4vbGliL29vcFwiKTtcblxudmFyIFBsYWNlSG9sZGVyID0gZnVuY3Rpb24oc2Vzc2lvbiwgbGVuZ3RoLCBwb3MsIG90aGVycywgbWFpbkNsYXNzLCBvdGhlcnNDbGFzcykge1xuICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICB0aGlzLmRvYyA9IHNlc3Npb24uZ2V0RG9jdW1lbnQoKTtcbiAgICB0aGlzLm1haW5DbGFzcyA9IG1haW5DbGFzcztcbiAgICB0aGlzLm90aGVyc0NsYXNzID0gb3RoZXJzQ2xhc3M7XG4gICAgdGhpcy4kb25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kb2Mub24oXCJjaGFuZ2VcIiwgdGhpcy4kb25VcGRhdGUpO1xuICAgIHRoaXMuJG90aGVycyA9IG90aGVycztcbiAgICBcbiAgICB0aGlzLiRvbkN1cnNvckNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3NlbGYub25DdXJzb3JDaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRwb3MgPSBwb3M7XG4gICAgdmFyIHVuZG9TdGFjayA9IHNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKS4kdW5kb1N0YWNrIHx8IHNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKS4kdW5kb3N0YWNrIHx8IHtsZW5ndGg6IC0xfTtcbiAgICB0aGlzLiR1bmRvU3RhY2tEZXB0aCA9IHVuZG9TdGFjay5sZW5ndGg7XG4gICAgdGhpcy5zZXR1cCgpO1xuXG4gICAgc2Vzc2lvbi5zZWxlY3Rpb24ub24oXCJjaGFuZ2VDdXJzb3JcIiwgdGhpcy4kb25DdXJzb3JDaGFuZ2UpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIHRoaXMuc2V0dXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQmVmb3JlID0gc2Vzc2lvbi5zZWxlY3Rpb24udG9KU09OKCk7XG4gICAgICAgIGlmIChzZXNzaW9uLnNlbGVjdGlvbi5pbk11bHRpU2VsZWN0TW9kZSlcbiAgICAgICAgICAgIHNlc3Npb24uc2VsZWN0aW9uLnRvU2luZ2xlUmFuZ2UoKTtcblxuICAgICAgICB0aGlzLnBvcyA9IGRvYy5jcmVhdGVBbmNob3IodGhpcy4kcG9zLnJvdywgdGhpcy4kcG9zLmNvbHVtbik7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLnBvcztcbiAgICAgICAgcG9zLiRpbnNlcnRSaWdodCA9IHRydWU7XG4gICAgICAgIHBvcy5kZXRhY2goKTtcbiAgICAgICAgcG9zLm1hcmtlcklkID0gc2Vzc2lvbi5hZGRNYXJrZXIobmV3IFJhbmdlKHBvcy5yb3csIHBvcy5jb2x1bW4sIHBvcy5yb3csIHBvcy5jb2x1bW4gKyB0aGlzLmxlbmd0aCksIHRoaXMubWFpbkNsYXNzLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIHRoaXMub3RoZXJzID0gW107XG4gICAgICAgIHRoaXMuJG90aGVycy5mb3JFYWNoKGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gZG9jLmNyZWF0ZUFuY2hvcihvdGhlci5yb3csIG90aGVyLmNvbHVtbik7XG4gICAgICAgICAgICBhbmNob3IuJGluc2VydFJpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGFuY2hvci5kZXRhY2goKTtcbiAgICAgICAgICAgIF9zZWxmLm90aGVycy5wdXNoKGFuY2hvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXNzaW9uLnNldFVuZG9TZWxlY3QoZmFsc2UpO1xuICAgIH07XG4gICAgdGhpcy5zaG93T3RoZXJNYXJrZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLm90aGVyc0FjdGl2ZSkgcmV0dXJuO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5vdGhlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLm90aGVycy5mb3JFYWNoKGZ1bmN0aW9uKGFuY2hvcikge1xuICAgICAgICAgICAgYW5jaG9yLm1hcmtlcklkID0gc2Vzc2lvbi5hZGRNYXJrZXIobmV3IFJhbmdlKGFuY2hvci5yb3csIGFuY2hvci5jb2x1bW4sIGFuY2hvci5yb3csIGFuY2hvci5jb2x1bW4rX3NlbGYubGVuZ3RoKSwgX3NlbGYub3RoZXJzQ2xhc3MsIG51bGwsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmhpZGVPdGhlck1hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLm90aGVyc0FjdGl2ZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLm90aGVyc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3RoZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlTWFya2VyKHRoaXMub3RoZXJzW2ldLm1hcmtlcklkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIGlmICh0aGlzLiR1cGRhdGluZylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUFuY2hvcnMoZGVsdGEpO1xuICAgICAgICAgICAgXG4gICAgICAgIHZhciByYW5nZSA9IGRlbHRhO1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQucm93ICE9PSByYW5nZS5lbmQucm93KSByZXR1cm47XG4gICAgICAgIGlmIChyYW5nZS5zdGFydC5yb3cgIT09IHRoaXMucG9zLnJvdykgcmV0dXJuO1xuICAgICAgICB0aGlzLiR1cGRhdGluZyA9IHRydWU7XG4gICAgICAgIHZhciBsZW5ndGhEaWZmID0gZGVsdGEuYWN0aW9uID09PSBcImluc2VydFwiID8gcmFuZ2UuZW5kLmNvbHVtbiAtIHJhbmdlLnN0YXJ0LmNvbHVtbiA6IHJhbmdlLnN0YXJ0LmNvbHVtbiAtIHJhbmdlLmVuZC5jb2x1bW47XG4gICAgICAgIHZhciBpbk1haW5SYW5nZSA9IHJhbmdlLnN0YXJ0LmNvbHVtbiA+PSB0aGlzLnBvcy5jb2x1bW4gJiYgcmFuZ2Uuc3RhcnQuY29sdW1uIDw9IHRoaXMucG9zLmNvbHVtbiArIHRoaXMubGVuZ3RoICsgMTtcbiAgICAgICAgdmFyIGRpc3RhbmNlRnJvbVN0YXJ0ID0gcmFuZ2Uuc3RhcnQuY29sdW1uIC0gdGhpcy5wb3MuY29sdW1uO1xuICAgICAgICBcbiAgICAgICAgdGhpcy51cGRhdGVBbmNob3JzKGRlbHRhKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpbk1haW5SYW5nZSlcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoICs9IGxlbmd0aERpZmY7XG5cbiAgICAgICAgaWYgKGluTWFpblJhbmdlICYmICF0aGlzLnNlc3Npb24uJGZyb21VbmRvKSB7XG4gICAgICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09PSAnaW5zZXJ0Jykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLm90aGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJQb3MgPSB0aGlzLm90aGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1BvcyA9IHtyb3c6IG90aGVyUG9zLnJvdywgY29sdW1uOiBvdGhlclBvcy5jb2x1bW4gKyBkaXN0YW5jZUZyb21TdGFydH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jLmluc2VydE1lcmdlZExpbmVzKG5ld1BvcywgZGVsdGEubGluZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVsdGEuYWN0aW9uID09PSAncmVtb3ZlJykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLm90aGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJQb3MgPSB0aGlzLm90aGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1BvcyA9IHtyb3c6IG90aGVyUG9zLnJvdywgY29sdW1uOiBvdGhlclBvcy5jb2x1bW4gKyBkaXN0YW5jZUZyb21TdGFydH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jLnJlbW92ZShuZXcgUmFuZ2UobmV3UG9zLnJvdywgbmV3UG9zLmNvbHVtbiwgbmV3UG9zLnJvdywgbmV3UG9zLmNvbHVtbiAtIGxlbmd0aERpZmYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuJHVwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudXBkYXRlTWFya2VycygpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy51cGRhdGVBbmNob3JzID0gZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgdGhpcy5wb3Mub25DaGFuZ2UoZGVsdGEpO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5vdGhlcnMubGVuZ3RoOyBpLS07KVxuICAgICAgICAgICAgdGhpcy5vdGhlcnNbaV0ub25DaGFuZ2UoZGVsdGEpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcmtlcnMoKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMudXBkYXRlTWFya2VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kdXBkYXRpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgdXBkYXRlTWFya2VyID0gZnVuY3Rpb24ocG9zLCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlTWFya2VyKHBvcy5tYXJrZXJJZCk7XG4gICAgICAgICAgICBwb3MubWFya2VySWQgPSBzZXNzaW9uLmFkZE1hcmtlcihuZXcgUmFuZ2UocG9zLnJvdywgcG9zLmNvbHVtbiwgcG9zLnJvdywgcG9zLmNvbHVtbitfc2VsZi5sZW5ndGgpLCBjbGFzc05hbWUsIG51bGwsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlTWFya2VyKHRoaXMucG9zLCB0aGlzLm1haW5DbGFzcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLm90aGVycy5sZW5ndGg7IGktLTspXG4gICAgICAgICAgICB1cGRhdGVNYXJrZXIodGhpcy5vdGhlcnNbaV0sIHRoaXMub3RoZXJzQ2xhc3MpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ3Vyc29yQ2hhbmdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuJHVwZGF0aW5nIHx8ICF0aGlzLnNlc3Npb24pIHJldHVybjtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGlmIChwb3Mucm93ID09PSB0aGlzLnBvcy5yb3cgJiYgcG9zLmNvbHVtbiA+PSB0aGlzLnBvcy5jb2x1bW4gJiYgcG9zLmNvbHVtbiA8PSB0aGlzLnBvcy5jb2x1bW4gKyB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zaG93T3RoZXJNYXJrZXJzKCk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY3Vyc29yRW50ZXJcIiwgZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oaWRlT3RoZXJNYXJrZXJzKCk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY3Vyc29yTGVhdmVcIiwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfTsgICAgXG4gICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZU1hcmtlcih0aGlzLnBvcyAmJiB0aGlzLnBvcy5tYXJrZXJJZCk7XG4gICAgICAgIHRoaXMuaGlkZU90aGVyTWFya2VycygpO1xuICAgICAgICB0aGlzLmRvYy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMuJG9uVXBkYXRlKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNlbGVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlQ3Vyc29yXCIsIHRoaXMuJG9uQ3Vyc29yQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFVuZG9TZWxlY3QodHJ1ZSk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XG4gICAgfTtcbiAgICB0aGlzLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kdW5kb1N0YWNrRGVwdGggPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgdW5kb01hbmFnZXIgPSB0aGlzLnNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKTtcbiAgICAgICAgdmFyIHVuZG9zUmVxdWlyZWQgPSAodW5kb01hbmFnZXIuJHVuZG9TdGFjayB8fCB1bmRvTWFuYWdlci4kdW5kb3N0YWNrKS5sZW5ndGggLSB0aGlzLiR1bmRvU3RhY2tEZXB0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bmRvc1JlcXVpcmVkOyBpKyspIHtcbiAgICAgICAgICAgIHVuZG9NYW5hZ2VyLnVuZG8odHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uQmVmb3JlKVxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNlbGVjdGlvbi5mcm9tSlNPTih0aGlzLnNlbGVjdGlvbkJlZm9yZSk7XG4gICAgfTtcbn0pLmNhbGwoUGxhY2VIb2xkZXIucHJvdG90eXBlKTtcblxuXG5leHBvcnRzLlBsYWNlSG9sZGVyID0gUGxhY2VIb2xkZXI7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb3VzZS9tdWx0aV9zZWxlY3RfaGFuZGxlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL2xpYi91c2VyYWdlbnRcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxudmFyIGV2ZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvZXZlbnRcIik7XG52YXIgdXNlcmFnZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvdXNlcmFnZW50XCIpO1xuZnVuY3Rpb24gaXNTYW1lUG9pbnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnJvdyA9PSBwMi5yb3cgJiYgcDEuY29sdW1uID09IHAyLmNvbHVtbjtcbn1cblxuZnVuY3Rpb24gb25Nb3VzZURvd24oZSkge1xuICAgIHZhciBldiA9IGUuZG9tRXZlbnQ7XG4gICAgdmFyIGFsdCA9IGV2LmFsdEtleTtcbiAgICB2YXIgc2hpZnQgPSBldi5zaGlmdEtleTtcbiAgICB2YXIgY3RybCA9IGV2LmN0cmxLZXk7XG4gICAgdmFyIGFjY2VsID0gZS5nZXRBY2NlbEtleSgpO1xuICAgIHZhciBidXR0b24gPSBlLmdldEJ1dHRvbigpO1xuICAgIFxuICAgIGlmIChjdHJsICYmIHVzZXJhZ2VudC5pc01hYylcbiAgICAgICAgYnV0dG9uID0gZXYuYnV0dG9uO1xuXG4gICAgaWYgKGUuZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlICYmIGJ1dHRvbiA9PSAyKSB7XG4gICAgICAgIGUuZWRpdG9yLnRleHRJbnB1dC5vbkNvbnRleHRNZW51KGUuZG9tRXZlbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICghY3RybCAmJiAhYWx0ICYmICFhY2NlbCkge1xuICAgICAgICBpZiAoYnV0dG9uID09PSAwICYmIGUuZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlKVxuICAgICAgICAgICAgZS5lZGl0b3IuZXhpdE11bHRpU2VsZWN0TW9kZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmIChidXR0b24gIT09IDApXG4gICAgICAgIHJldHVybjtcblxuICAgIHZhciBlZGl0b3IgPSBlLmVkaXRvcjtcbiAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcbiAgICB2YXIgaXNNdWx0aVNlbGVjdCA9IGVkaXRvci5pbk11bHRpU2VsZWN0TW9kZTtcbiAgICB2YXIgcG9zID0gZS5nZXREb2N1bWVudFBvc2l0aW9uKCk7XG4gICAgdmFyIGN1cnNvciA9IHNlbGVjdGlvbi5nZXRDdXJzb3IoKTtcbiAgICB2YXIgaW5TZWxlY3Rpb24gPSBlLmluU2VsZWN0aW9uKCkgfHwgKHNlbGVjdGlvbi5pc0VtcHR5KCkgJiYgaXNTYW1lUG9pbnQocG9zLCBjdXJzb3IpKTtcblxuICAgIHZhciBtb3VzZVggPSBlLngsIG1vdXNlWSA9IGUueTtcbiAgICB2YXIgb25Nb3VzZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbW91c2VYID0gZS5jbGllbnRYO1xuICAgICAgICBtb3VzZVkgPSBlLmNsaWVudFk7XG4gICAgfTtcbiAgICBcbiAgICB2YXIgc2Vzc2lvbiA9IGVkaXRvci5zZXNzaW9uO1xuICAgIHZhciBzY3JlZW5BbmNob3IgPSBlZGl0b3IucmVuZGVyZXIucGl4ZWxUb1NjcmVlbkNvb3JkaW5hdGVzKG1vdXNlWCwgbW91c2VZKTtcbiAgICB2YXIgc2NyZWVuQ3Vyc29yID0gc2NyZWVuQW5jaG9yO1xuICAgIFxuICAgIHZhciBzZWxlY3Rpb25Nb2RlO1xuICAgIGlmIChlZGl0b3IuJG1vdXNlSGFuZGxlci4kZW5hYmxlSnVtcFRvRGVmKSB7XG4gICAgICAgIGlmIChjdHJsICYmIGFsdCB8fCBhY2NlbCAmJiBhbHQpXG4gICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gc2hpZnQgPyBcImJsb2NrXCIgOiBcImFkZFwiO1xuICAgICAgICBlbHNlIGlmIChhbHQgJiYgZWRpdG9yLiRibG9ja1NlbGVjdEVuYWJsZWQpXG4gICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gXCJibG9ja1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhY2NlbCAmJiAhYWx0KSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gXCJhZGRcIjtcbiAgICAgICAgICAgIGlmICghaXNNdWx0aVNlbGVjdCAmJiBzaGlmdClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoYWx0ICYmIGVkaXRvci4kYmxvY2tTZWxlY3RFbmFibGVkKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gXCJibG9ja1wiO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChzZWxlY3Rpb25Nb2RlICYmIHVzZXJhZ2VudC5pc01hYyAmJiBldi5jdHJsS2V5KSB7XG4gICAgICAgIGVkaXRvci4kbW91c2VIYW5kbGVyLmNhbmNlbENvbnRleHRNZW51KCk7XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdGlvbk1vZGUgPT0gXCJhZGRcIikge1xuICAgICAgICBpZiAoIWlzTXVsdGlTZWxlY3QgJiYgaW5TZWxlY3Rpb24pXG4gICAgICAgICAgICByZXR1cm47IC8vIGRyYWdnaW5nXG5cbiAgICAgICAgaWYgKCFpc011bHRpU2VsZWN0KSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG4gICAgICAgICAgICBlZGl0b3IuYWRkU2VsZWN0aW9uTWFya2VyKHJhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvbGRSYW5nZSA9IHNlbGVjdGlvbi5yYW5nZUxpc3QucmFuZ2VBdFBvaW50KHBvcyk7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgZWRpdG9yLiRibG9ja1Njcm9sbGluZysrO1xuICAgICAgICBlZGl0b3IuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hpZnQpIHtcbiAgICAgICAgICAgIG9sZFJhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHJhbmdlID0gc2VsZWN0aW9uLnJhbmdlc1swXSB8fCByYW5nZTtcbiAgICAgICAgICAgIGVkaXRvci5yZW1vdmVTZWxlY3Rpb25NYXJrZXIocmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVkaXRvci5vbmNlKFwibW91c2V1cFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0bXBTZWwgPSBzZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG5cbiAgICAgICAgICAgIGlmIChvbGRSYW5nZSAmJiB0bXBTZWwuaXNFbXB0eSgpICYmIGlzU2FtZVBvaW50KG9sZFJhbmdlLmN1cnNvciwgdG1wU2VsLmN1cnNvcikpXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLnN1YnN0cmFjdFBvaW50KHRtcFNlbC5jdXJzb3IpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHNoaWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5zdWJzdHJhY3RQb2ludChyYW5nZS5jdXJzb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnJlbW92ZVNlbGVjdGlvbk1hcmtlcihyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZSh0bXBTZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWRpdG9yLiRibG9ja1Njcm9sbGluZy0tO1xuICAgICAgICAgICAgZWRpdG9yLmluVmlydHVhbFNlbGVjdGlvbk1vZGUgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbk1vZGUgPT0gXCJibG9ja1wiKSB7XG4gICAgICAgIGUuc3RvcCgpO1xuICAgICAgICBlZGl0b3IuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSA9IHRydWU7ICAgICAgICBcbiAgICAgICAgdmFyIGluaXRpYWxSYW5nZTtcbiAgICAgICAgdmFyIHJlY3RTZWwgPSBbXTtcbiAgICAgICAgdmFyIGJsb2NrU2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbmV3Q3Vyc29yID0gZWRpdG9yLnJlbmRlcmVyLnBpeGVsVG9TY3JlZW5Db29yZGluYXRlcyhtb3VzZVgsIG1vdXNlWSk7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24obmV3Q3Vyc29yLnJvdywgbmV3Q3Vyc29yLmNvbHVtbik7XG5cbiAgICAgICAgICAgIGlmIChpc1NhbWVQb2ludChzY3JlZW5DdXJzb3IsIG5ld0N1cnNvcikgJiYgaXNTYW1lUG9pbnQoY3Vyc29yLCBzZWxlY3Rpb24ubGVhZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2NyZWVuQ3Vyc29yID0gbmV3Q3Vyc29yO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBlZGl0b3IuJGJsb2NrU2Nyb2xsaW5nKys7XG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVUb1Bvc2l0aW9uKGN1cnNvcik7XG4gICAgICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKTtcblxuICAgICAgICAgICAgZWRpdG9yLnJlbW92ZVNlbGVjdGlvbk1hcmtlcnMocmVjdFNlbCk7XG4gICAgICAgICAgICByZWN0U2VsID0gc2VsZWN0aW9uLnJlY3Rhbmd1bGFyUmFuZ2VCbG9jayhzY3JlZW5DdXJzb3IsIHNjcmVlbkFuY2hvcik7XG4gICAgICAgICAgICBpZiAoZWRpdG9yLiRtb3VzZUhhbmRsZXIuJGNsaWNrU2VsZWN0aW9uICYmIHJlY3RTZWwubGVuZ3RoID09IDEgJiYgcmVjdFNlbFswXS5pc0VtcHR5KCkpXG4gICAgICAgICAgICAgICAgcmVjdFNlbFswXSA9IGVkaXRvci4kbW91c2VIYW5kbGVyLiRjbGlja1NlbGVjdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgcmVjdFNlbC5mb3JFYWNoKGVkaXRvci5hZGRTZWxlY3Rpb25NYXJrZXIsIGVkaXRvcik7XG4gICAgICAgICAgICBlZGl0b3IudXBkYXRlU2VsZWN0aW9uTWFya2VycygpO1xuICAgICAgICAgICAgZWRpdG9yLiRibG9ja1Njcm9sbGluZy0tO1xuICAgICAgICB9O1xuICAgICAgICBlZGl0b3IuJGJsb2NrU2Nyb2xsaW5nKys7XG4gICAgICAgIGlmIChpc011bHRpU2VsZWN0ICYmICFhY2NlbCkge1xuICAgICAgICAgICAgc2VsZWN0aW9uLnRvU2luZ2xlUmFuZ2UoKTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNNdWx0aVNlbGVjdCAmJiBhY2NlbCkge1xuICAgICAgICAgICAgaW5pdGlhbFJhbmdlID0gc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpO1xuICAgICAgICAgICAgZWRpdG9yLmFkZFNlbGVjdGlvbk1hcmtlcihpbml0aWFsUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hpZnQpXG4gICAgICAgICAgICBzY3JlZW5BbmNob3IgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihzZWxlY3Rpb24ubGVhZCk7ICAgICAgICAgICAgXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihwb3MpO1xuICAgICAgICBlZGl0b3IuJGJsb2NrU2Nyb2xsaW5nLS07XG4gICAgICAgIFxuICAgICAgICBzY3JlZW5DdXJzb3IgPSB7cm93OiAtMSwgY29sdW1uOiAtMX07XG5cbiAgICAgICAgdmFyIG9uTW91c2VTZWxlY3Rpb25FbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xuICAgICAgICAgICAgZWRpdG9yLnJlbW92ZVNlbGVjdGlvbk1hcmtlcnMocmVjdFNlbCk7XG4gICAgICAgICAgICBpZiAoIXJlY3RTZWwubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJlY3RTZWwgPSBbc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpXTtcbiAgICAgICAgICAgIGVkaXRvci4kYmxvY2tTY3JvbGxpbmcrKztcbiAgICAgICAgICAgIGlmIChpbml0aWFsUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVtb3ZlU2VsZWN0aW9uTWFya2VyKGluaXRpYWxSYW5nZSk7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLnRvU2luZ2xlUmFuZ2UoaW5pdGlhbFJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjdFNlbC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmVjdFNlbFtpXSk7XG4gICAgICAgICAgICBlZGl0b3IuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgZWRpdG9yLiRtb3VzZUhhbmRsZXIuJGNsaWNrU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGVkaXRvci4kYmxvY2tTY3JvbGxpbmctLTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb25TZWxlY3Rpb25JbnRlcnZhbCA9IGJsb2NrU2VsZWN0O1xuXG4gICAgICAgIGV2ZW50LmNhcHR1cmUoZWRpdG9yLmNvbnRhaW5lciwgb25Nb3VzZVNlbGVjdGlvbiwgb25Nb3VzZVNlbGVjdGlvbkVuZCk7XG4gICAgICAgIHZhciB0aW1lcklkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7b25TZWxlY3Rpb25JbnRlcnZhbCgpO30sIDIwKTtcblxuICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn1cblxuXG5leHBvcnRzLm9uTW91c2VEb3duID0gb25Nb3VzZURvd247XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2NvbW1hbmRzL211bHRpX3NlbGVjdF9jb21tYW5kc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2tleWJvYXJkL2hhc2hfaGFuZGxlclwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuZXhwb3J0cy5kZWZhdWx0Q29tbWFuZHMgPSBbe1xuICAgIG5hbWU6IFwiYWRkQ3Vyc29yQWJvdmVcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlbGVjdE1vcmVMaW5lcygtMSk7IH0sXG4gICAgYmluZEtleToge3dpbjogXCJDdHJsLUFsdC1VcFwiLCBtYWM6IFwiQ3RybC1BbHQtVXBcIn0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImFkZEN1cnNvckJlbG93XCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RNb3JlTGluZXMoMSk7IH0sXG4gICAgYmluZEtleToge3dpbjogXCJDdHJsLUFsdC1Eb3duXCIsIG1hYzogXCJDdHJsLUFsdC1Eb3duXCJ9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJhZGRDdXJzb3JBYm92ZVNraXBDdXJyZW50XCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RNb3JlTGluZXMoLTEsIHRydWUpOyB9LFxuICAgIGJpbmRLZXk6IHt3aW46IFwiQ3RybC1BbHQtU2hpZnQtVXBcIiwgbWFjOiBcIkN0cmwtQWx0LVNoaWZ0LVVwXCJ9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJhZGRDdXJzb3JCZWxvd1NraXBDdXJyZW50XCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RNb3JlTGluZXMoMSwgdHJ1ZSk7IH0sXG4gICAgYmluZEtleToge3dpbjogXCJDdHJsLUFsdC1TaGlmdC1Eb3duXCIsIG1hYzogXCJDdHJsLUFsdC1TaGlmdC1Eb3duXCJ9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RNb3JlQmVmb3JlXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RNb3JlKC0xKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LUxlZnRcIiwgbWFjOiBcIkN0cmwtQWx0LUxlZnRcIn0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdE1vcmVBZnRlclwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0TW9yZSgxKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LVJpZ2h0XCIsIG1hYzogXCJDdHJsLUFsdC1SaWdodFwifSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0TmV4dEJlZm9yZVwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0TW9yZSgtMSwgdHJ1ZSk7IH0sXG4gICAgYmluZEtleToge3dpbjogXCJDdHJsLUFsdC1TaGlmdC1MZWZ0XCIsIG1hYzogXCJDdHJsLUFsdC1TaGlmdC1MZWZ0XCJ9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3ROZXh0QWZ0ZXJcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlbGVjdE1vcmUoMSwgdHJ1ZSk7IH0sXG4gICAgYmluZEtleToge3dpbjogXCJDdHJsLUFsdC1TaGlmdC1SaWdodFwiLCBtYWM6IFwiQ3RybC1BbHQtU2hpZnQtUmlnaHRcIn0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNwbGl0SW50b0xpbmVzXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5tdWx0aVNlbGVjdC5zcGxpdEludG9MaW5lcygpOyB9LFxuICAgIGJpbmRLZXk6IHt3aW46IFwiQ3RybC1BbHQtTFwiLCBtYWM6IFwiQ3RybC1BbHQtTFwifSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiYWxpZ25DdXJzb3JzXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5hbGlnbkN1cnNvcnMoKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LUFcIiwgbWFjOiBcIkN0cmwtQWx0LUFcIn0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcImZpbmRBbGxcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmZpbmRBbGwoKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LUtcIiwgbWFjOiBcIkN0cmwtQWx0LUdcIn0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn1dO1xuZXhwb3J0cy5tdWx0aVNlbGVjdENvbW1hbmRzID0gW3tcbiAgICBuYW1lOiBcInNpbmdsZVNlbGVjdGlvblwiLFxuICAgIGJpbmRLZXk6IFwiZXNjXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5leGl0TXVsdGlTZWxlY3RNb2RlKCk7IH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWUsXG4gICAgaXNBdmFpbGFibGU6IGZ1bmN0aW9uKGVkaXRvcikge3JldHVybiBlZGl0b3IgJiYgZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlfVxufV07XG5cbnZhciBIYXNoSGFuZGxlciA9IGFjZXF1aXJlKFwiLi4va2V5Ym9hcmQvaGFzaF9oYW5kbGVyXCIpLkhhc2hIYW5kbGVyO1xuZXhwb3J0cy5rZXlib2FyZEhhbmRsZXIgPSBuZXcgSGFzaEhhbmRsZXIoZXhwb3J0cy5tdWx0aVNlbGVjdENvbW1hbmRzKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbXVsdGlfc2VsZWN0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VfbGlzdFwiLFwiYWNlL3JhbmdlXCIsXCJhY2Uvc2VsZWN0aW9uXCIsXCJhY2UvbW91c2UvbXVsdGlfc2VsZWN0X2hhbmRsZXJcIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2NvbW1hbmRzL211bHRpX3NlbGVjdF9jb21tYW5kc1wiLFwiYWNlL3NlYXJjaFwiLFwiYWNlL2VkaXRfc2Vzc2lvblwiLFwiYWNlL2VkaXRvclwiLFwiYWNlL2NvbmZpZ1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG52YXIgUmFuZ2VMaXN0ID0gYWNlcXVpcmUoXCIuL3JhbmdlX2xpc3RcIikuUmFuZ2VMaXN0O1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xudmFyIFNlbGVjdGlvbiA9IGFjZXF1aXJlKFwiLi9zZWxlY3Rpb25cIikuU2VsZWN0aW9uO1xudmFyIG9uTW91c2VEb3duID0gYWNlcXVpcmUoXCIuL21vdXNlL211bHRpX3NlbGVjdF9oYW5kbGVyXCIpLm9uTW91c2VEb3duO1xudmFyIGV2ZW50ID0gYWNlcXVpcmUoXCIuL2xpYi9ldmVudFwiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIGNvbW1hbmRzID0gYWNlcXVpcmUoXCIuL2NvbW1hbmRzL211bHRpX3NlbGVjdF9jb21tYW5kc1wiKTtcbmV4cG9ydHMuY29tbWFuZHMgPSBjb21tYW5kcy5kZWZhdWx0Q29tbWFuZHMuY29uY2F0KGNvbW1hbmRzLm11bHRpU2VsZWN0Q29tbWFuZHMpO1xudmFyIFNlYXJjaCA9IGFjZXF1aXJlKFwiLi9zZWFyY2hcIikuU2VhcmNoO1xudmFyIHNlYXJjaCA9IG5ldyBTZWFyY2goKTtcblxuZnVuY3Rpb24gZmluZChzZXNzaW9uLCBuZWVkbGUsIGRpcikge1xuICAgIHNlYXJjaC4kb3B0aW9ucy53cmFwID0gdHJ1ZTtcbiAgICBzZWFyY2guJG9wdGlvbnMubmVlZGxlID0gbmVlZGxlO1xuICAgIHNlYXJjaC4kb3B0aW9ucy5iYWNrd2FyZHMgPSBkaXIgPT0gLTE7XG4gICAgcmV0dXJuIHNlYXJjaC5maW5kKHNlc3Npb24pO1xufVxudmFyIEVkaXRTZXNzaW9uID0gYWNlcXVpcmUoXCIuL2VkaXRfc2Vzc2lvblwiKS5FZGl0U2Vzc2lvbjtcbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldFNlbGVjdGlvbk1hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNlbGVjdGlvbk1hcmtlcnM7XG4gICAgfTtcbn0pLmNhbGwoRWRpdFNlc3Npb24ucHJvdG90eXBlKTtcbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJhbmdlcyA9IG51bGw7XG4gICAgdGhpcy5yYW5nZUxpc3QgPSBudWxsO1xuICAgIHRoaXMuYWRkUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSwgJGJsb2NrQ2hhbmdlRXZlbnRzKSB7XG4gICAgICAgIGlmICghcmFuZ2UpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0aGlzLmluTXVsdGlTZWxlY3RNb2RlICYmIHRoaXMucmFuZ2VDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIG9sZFJhbmdlID0gdGhpcy50b09yaWVudGVkUmFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VMaXN0LmFkZChvbGRSYW5nZSk7XG4gICAgICAgICAgICB0aGlzLnJhbmdlTGlzdC5hZGQocmFuZ2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VMaXN0LnJhbmdlcy5sZW5ndGggIT0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VMaXN0LnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiAkYmxvY2tDaGFuZ2VFdmVudHMgfHwgdGhpcy5mcm9tT3JpZW50ZWRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJhbmdlTGlzdC5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VMaXN0LmFkZChvbGRSYW5nZSk7XG4gICAgICAgICAgICB0aGlzLiRvbkFkZFJhbmdlKG9sZFJhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmFuZ2UuY3Vyc29yKVxuICAgICAgICAgICAgcmFuZ2UuY3Vyc29yID0gcmFuZ2UuZW5kO1xuXG4gICAgICAgIHZhciByZW1vdmVkID0gdGhpcy5yYW5nZUxpc3QuYWRkKHJhbmdlKTtcblxuICAgICAgICB0aGlzLiRvbkFkZFJhbmdlKHJhbmdlKTtcblxuICAgICAgICBpZiAocmVtb3ZlZC5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLiRvblJlbW92ZVJhbmdlKHJlbW92ZWQpO1xuXG4gICAgICAgIGlmICh0aGlzLnJhbmdlQ291bnQgPiAxICYmICF0aGlzLmluTXVsdGlTZWxlY3RNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJtdWx0aVNlbGVjdFwiKTtcbiAgICAgICAgICAgIHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLiR1bmRvU2VsZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJhbmdlTGlzdC5hdHRhY2godGhpcy5zZXNzaW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAkYmxvY2tDaGFuZ2VFdmVudHMgfHwgdGhpcy5mcm9tT3JpZW50ZWRSYW5nZShyYW5nZSk7XG4gICAgfTtcblxuICAgIHRoaXMudG9TaW5nbGVSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gcmFuZ2UgfHwgdGhpcy5yYW5nZXNbMF07XG4gICAgICAgIHZhciByZW1vdmVkID0gdGhpcy5yYW5nZUxpc3QucmVtb3ZlQWxsKCk7XG4gICAgICAgIGlmIChyZW1vdmVkLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuJG9uUmVtb3ZlUmFuZ2UocmVtb3ZlZCk7XG5cbiAgICAgICAgcmFuZ2UgJiYgdGhpcy5mcm9tT3JpZW50ZWRSYW5nZShyYW5nZSk7XG4gICAgfTtcbiAgICB0aGlzLnN1YnN0cmFjdFBvaW50ID0gZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgIHZhciByZW1vdmVkID0gdGhpcy5yYW5nZUxpc3Quc3Vic3RyYWN0UG9pbnQocG9zKTtcbiAgICAgICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuJG9uUmVtb3ZlUmFuZ2UocmVtb3ZlZCk7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZFswXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5tZXJnZU92ZXJsYXBwaW5nUmFuZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZW1vdmVkID0gdGhpcy5yYW5nZUxpc3QubWVyZ2UoKTtcbiAgICAgICAgaWYgKHJlbW92ZWQubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy4kb25SZW1vdmVSYW5nZShyZW1vdmVkKTtcbiAgICAgICAgZWxzZSBpZih0aGlzLnJhbmdlc1swXSlcbiAgICAgICAgICAgIHRoaXMuZnJvbU9yaWVudGVkUmFuZ2UodGhpcy5yYW5nZXNbMF0pO1xuICAgIH07XG5cbiAgICB0aGlzLiRvbkFkZFJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdGhpcy5yYW5nZUNvdW50ID0gdGhpcy5yYW5nZUxpc3QucmFuZ2VzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5yYW5nZXMudW5zaGlmdChyYW5nZSk7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImFkZFJhbmdlXCIsIHtyYW5nZTogcmFuZ2V9KTtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25SZW1vdmVSYW5nZSA9IGZ1bmN0aW9uKHJlbW92ZWQpIHtcbiAgICAgICAgdGhpcy5yYW5nZUNvdW50ID0gdGhpcy5yYW5nZUxpc3QucmFuZ2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VDb3VudCA9PSAxICYmIHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgIHZhciBsYXN0UmFuZ2UgPSB0aGlzLnJhbmdlTGlzdC5yYW5nZXMucG9wKCk7XG4gICAgICAgICAgICByZW1vdmVkLnB1c2gobGFzdFJhbmdlKTtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VDb3VudCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gcmVtb3ZlZC5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnJhbmdlcy5pbmRleE9mKHJlbW92ZWRbaV0pO1xuICAgICAgICAgICAgdGhpcy5yYW5nZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NpZ25hbChcInJlbW92ZVJhbmdlXCIsIHtyYW5nZXM6IHJlbW92ZWR9KTtcblxuICAgICAgICBpZiAodGhpcy5yYW5nZUNvdW50ID09PSAwICYmIHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbChcInNpbmdsZVNlbGVjdFwiKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi4kdW5kb1NlbGVjdCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJhbmdlTGlzdC5kZXRhY2godGhpcy5zZXNzaW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RSYW5nZSA9IGxhc3RSYW5nZSB8fCB0aGlzLnJhbmdlc1swXTtcbiAgICAgICAgaWYgKGxhc3RSYW5nZSAmJiAhbGFzdFJhbmdlLmlzRXF1YWwodGhpcy5nZXRSYW5nZSgpKSlcbiAgICAgICAgICAgIHRoaXMuZnJvbU9yaWVudGVkUmFuZ2UobGFzdFJhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMuJGluaXRSYW5nZUxpc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VMaXN0KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMucmFuZ2VMaXN0ID0gbmV3IFJhbmdlTGlzdCgpO1xuICAgICAgICB0aGlzLnJhbmdlcyA9IFtdO1xuICAgICAgICB0aGlzLnJhbmdlQ291bnQgPSAwO1xuICAgIH07XG4gICAgdGhpcy5nZXRBbGxSYW5nZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2VDb3VudCA/IHRoaXMucmFuZ2VMaXN0LnJhbmdlcy5jb25jYXQoKSA6IFt0aGlzLmdldFJhbmdlKCldO1xuICAgIH07XG5cbiAgICB0aGlzLnNwbGl0SW50b0xpbmVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yYW5nZUNvdW50ID4gMSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMucmFuZ2VMaXN0LnJhbmdlcztcbiAgICAgICAgICAgIHZhciBsYXN0UmFuZ2UgPSByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZXNbMF0uc3RhcnQsIGxhc3RSYW5nZS5lbmQpO1xuXG4gICAgICAgICAgICB0aGlzLnRvU2luZ2xlUmFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UocmFuZ2UsIGxhc3RSYW5nZS5jdXJzb3IgPT0gbGFzdFJhbmdlLnN0YXJ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBpc0JhY2t3YXJkcyA9IHRoaXMuaXNCYWNrd2FyZHMoKTtcbiAgICAgICAgICAgIHZhciBzdGFydFJvdyA9IHJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHZhciBlbmRSb3cgPSByYW5nZS5lbmQucm93O1xuICAgICAgICAgICAgaWYgKHN0YXJ0Um93ID09IGVuZFJvdykge1xuICAgICAgICAgICAgICAgIGlmIChpc0JhY2t3YXJkcylcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcmFuZ2UuZW5kLCBlbmQgPSByYW5nZS5zdGFydDtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHJhbmdlLnN0YXJ0LCBlbmQgPSByYW5nZS5lbmQ7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSYW5nZShSYW5nZS5mcm9tUG9pbnRzKGVuZCwgZW5kKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSYW5nZShSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0LCBzdGFydCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlY3RTZWwgPSBbXTtcbiAgICAgICAgICAgIHZhciByID0gdGhpcy5nZXRMaW5lUmFuZ2Uoc3RhcnRSb3csIHRydWUpO1xuICAgICAgICAgICAgci5zdGFydC5jb2x1bW4gPSByYW5nZS5zdGFydC5jb2x1bW47XG4gICAgICAgICAgICByZWN0U2VsLnB1c2gocik7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdyArIDE7IGkgPCBlbmRSb3c7IGkrKylcbiAgICAgICAgICAgICAgICByZWN0U2VsLnB1c2godGhpcy5nZXRMaW5lUmFuZ2UoaSwgdHJ1ZSkpO1xuXG4gICAgICAgICAgICByID0gdGhpcy5nZXRMaW5lUmFuZ2UoZW5kUm93LCB0cnVlKTtcbiAgICAgICAgICAgIHIuZW5kLmNvbHVtbiA9IHJhbmdlLmVuZC5jb2x1bW47XG4gICAgICAgICAgICByZWN0U2VsLnB1c2gocik7XG5cbiAgICAgICAgICAgIHJlY3RTZWwuZm9yRWFjaCh0aGlzLmFkZFJhbmdlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy50b2dnbGVCbG9ja1NlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHZhciByYW5nZXMgPSB0aGlzLnJhbmdlTGlzdC5yYW5nZXM7XG4gICAgICAgICAgICB2YXIgbGFzdFJhbmdlID0gcmFuZ2VzW3Jhbmdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocmFuZ2VzWzBdLnN0YXJ0LCBsYXN0UmFuZ2UuZW5kKTtcblxuICAgICAgICAgICAgdGhpcy50b1NpbmdsZVJhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGlvblJhbmdlKHJhbmdlLCBsYXN0UmFuZ2UuY3Vyc29yID09IGxhc3RSYW5nZS5zdGFydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnNlbGVjdGlvbkxlYWQpO1xuICAgICAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zZWxlY3Rpb25BbmNob3IpO1xuXG4gICAgICAgICAgICB2YXIgcmVjdFNlbCA9IHRoaXMucmVjdGFuZ3VsYXJSYW5nZUJsb2NrKGN1cnNvciwgYW5jaG9yKTtcbiAgICAgICAgICAgIHJlY3RTZWwuZm9yRWFjaCh0aGlzLmFkZFJhbmdlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5yZWN0YW5ndWxhclJhbmdlQmxvY2sgPSBmdW5jdGlvbihzY3JlZW5DdXJzb3IsIHNjcmVlbkFuY2hvciwgaW5jbHVkZUVtcHR5TGluZXMpIHtcbiAgICAgICAgdmFyIHJlY3RTZWwgPSBbXTtcblxuICAgICAgICB2YXIgeEJhY2t3YXJkcyA9IHNjcmVlbkN1cnNvci5jb2x1bW4gPCBzY3JlZW5BbmNob3IuY29sdW1uO1xuICAgICAgICBpZiAoeEJhY2t3YXJkcykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0Q29sdW1uID0gc2NyZWVuQ3Vyc29yLmNvbHVtbjtcbiAgICAgICAgICAgIHZhciBlbmRDb2x1bW4gPSBzY3JlZW5BbmNob3IuY29sdW1uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHN0YXJ0Q29sdW1uID0gc2NyZWVuQW5jaG9yLmNvbHVtbjtcbiAgICAgICAgICAgIHZhciBlbmRDb2x1bW4gPSBzY3JlZW5DdXJzb3IuY29sdW1uO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHlCYWNrd2FyZHMgPSBzY3JlZW5DdXJzb3Iucm93IDwgc2NyZWVuQW5jaG9yLnJvdztcbiAgICAgICAgaWYgKHlCYWNrd2FyZHMpIHtcbiAgICAgICAgICAgIHZhciBzdGFydFJvdyA9IHNjcmVlbkN1cnNvci5yb3c7XG4gICAgICAgICAgICB2YXIgZW5kUm93ID0gc2NyZWVuQW5jaG9yLnJvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzdGFydFJvdyA9IHNjcmVlbkFuY2hvci5yb3c7XG4gICAgICAgICAgICB2YXIgZW5kUm93ID0gc2NyZWVuQ3Vyc29yLnJvdztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydENvbHVtbiA8IDApXG4gICAgICAgICAgICBzdGFydENvbHVtbiA9IDA7XG4gICAgICAgIGlmIChzdGFydFJvdyA8IDApXG4gICAgICAgICAgICBzdGFydFJvdyA9IDA7XG5cbiAgICAgICAgaWYgKHN0YXJ0Um93ID09IGVuZFJvdylcbiAgICAgICAgICAgIGluY2x1ZGVFbXB0eUxpbmVzID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKHZhciByb3cgPSBzdGFydFJvdzsgcm93IDw9IGVuZFJvdzsgcm93KyspIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMoXG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihyb3csIHN0YXJ0Q29sdW1uKSxcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHJvdywgZW5kQ29sdW1uKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jRW5kICYmIGlzU2FtZVBvaW50KHJhbmdlLmVuZCwgZG9jRW5kKSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgdmFyIGRvY0VuZCA9IHJhbmdlLmVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJhbmdlLmN1cnNvciA9IHhCYWNrd2FyZHMgPyByYW5nZS5zdGFydCA6IHJhbmdlLmVuZDtcbiAgICAgICAgICAgIHJlY3RTZWwucHVzaChyYW5nZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeUJhY2t3YXJkcylcbiAgICAgICAgICAgIHJlY3RTZWwucmV2ZXJzZSgpO1xuXG4gICAgICAgIGlmICghaW5jbHVkZUVtcHR5TGluZXMpIHtcbiAgICAgICAgICAgIHZhciBlbmQgPSByZWN0U2VsLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAocmVjdFNlbFtlbmRdLmlzRW1wdHkoKSAmJiBlbmQgPiAwKVxuICAgICAgICAgICAgICAgIGVuZC0tO1xuICAgICAgICAgICAgaWYgKGVuZCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChyZWN0U2VsW3N0YXJ0XS5pc0VtcHR5KCkpXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZW5kOyBpID49IHN0YXJ0OyBpLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjdFNlbFtpXS5pc0VtcHR5KCkpXG4gICAgICAgICAgICAgICAgICAgIHJlY3RTZWwuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlY3RTZWw7XG4gICAgfTtcbn0pLmNhbGwoU2VsZWN0aW9uLnByb3RvdHlwZSk7XG52YXIgRWRpdG9yID0gYWNlcXVpcmUoXCIuL2VkaXRvclwiKS5FZGl0b3I7XG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy51cGRhdGVTZWxlY3Rpb25NYXJrZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKTtcbiAgICB9O1xuICAgIHRoaXMuYWRkU2VsZWN0aW9uTWFya2VyID0gZnVuY3Rpb24ob3JpZW50ZWRSYW5nZSkge1xuICAgICAgICBpZiAoIW9yaWVudGVkUmFuZ2UuY3Vyc29yKVxuICAgICAgICAgICAgb3JpZW50ZWRSYW5nZS5jdXJzb3IgPSBvcmllbnRlZFJhbmdlLmVuZDtcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmdldFNlbGVjdGlvblN0eWxlKCk7XG4gICAgICAgIG9yaWVudGVkUmFuZ2UubWFya2VyID0gdGhpcy5zZXNzaW9uLmFkZE1hcmtlcihvcmllbnRlZFJhbmdlLCBcImFjZV9zZWxlY3Rpb25cIiwgc3R5bGUpO1xuXG4gICAgICAgIHRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2Vycy5wdXNoKG9yaWVudGVkUmFuZ2UpO1xuICAgICAgICB0aGlzLnNlc3Npb24uc2VsZWN0aW9uTWFya2VyQ291bnQgPSB0aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMubGVuZ3RoO1xuICAgICAgICByZXR1cm4gb3JpZW50ZWRSYW5nZTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlU2VsZWN0aW9uTWFya2VyID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgaWYgKCFyYW5nZS5tYXJrZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVNYXJrZXIocmFuZ2UubWFya2VyKTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLmluZGV4T2YocmFuZ2UpO1xuICAgICAgICBpZiAoaW5kZXggIT0gLTEpXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNlbGVjdGlvbk1hcmtlckNvdW50ID0gdGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLmxlbmd0aDtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVTZWxlY3Rpb25NYXJrZXJzID0gZnVuY3Rpb24ocmFuZ2VzKSB7XG4gICAgICAgIHZhciBtYXJrZXJMaXN0ID0gdGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzO1xuICAgICAgICBmb3IgKHZhciBpID0gcmFuZ2VzLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmICghcmFuZ2UubWFya2VyKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZU1hcmtlcihyYW5nZS5tYXJrZXIpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbWFya2VyTGlzdC5pbmRleE9mKHJhbmdlKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPSAtMSlcbiAgICAgICAgICAgICAgICBtYXJrZXJMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXNzaW9uLnNlbGVjdGlvbk1hcmtlckNvdW50ID0gbWFya2VyTGlzdC5sZW5ndGg7XG4gICAgfTtcblxuICAgIHRoaXMuJG9uQWRkUmFuZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMuYWRkU2VsZWN0aW9uTWFya2VyKGUucmFuZ2UpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCk7XG4gICAgfTtcblxuICAgIHRoaXMuJG9uUmVtb3ZlUmFuZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0aW9uTWFya2VycyhlLnJhbmdlcyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25NdWx0aVNlbGVjdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuc2V0U3R5bGUoXCJhY2VfbXVsdGlzZWxlY3RcIik7XG4gICAgICAgIHRoaXMua2V5QmluZGluZy5hZGRLZXlib2FyZEhhbmRsZXIoY29tbWFuZHMua2V5Ym9hcmRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5jb21tYW5kcy5zZXREZWZhdWx0SGFuZGxlcihcImV4ZWNcIiwgdGhpcy4kb25NdWx0aVNlbGVjdEV4ZWMpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25TaW5nbGVTZWxlY3QgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24ubXVsdGlTZWxlY3QuaW5WaXJ0dWFsTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5pbk11bHRpU2VsZWN0TW9kZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMudW5zZXRTdHlsZShcImFjZV9tdWx0aXNlbGVjdFwiKTtcbiAgICAgICAgdGhpcy5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcihjb21tYW5kcy5rZXlib2FyZEhhbmRsZXIpO1xuXG4gICAgICAgIHRoaXMuY29tbWFuZHMucmVtb3ZlRGVmYXVsdEhhbmRsZXIoXCJleGVjXCIsIHRoaXMuJG9uTXVsdGlTZWxlY3RFeGVjKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpO1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlU2VsZWN0aW9uXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLiRvbk11bHRpU2VsZWN0RXhlYyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGNvbW1hbmQgPSBlLmNvbW1hbmQ7XG4gICAgICAgIHZhciBlZGl0b3IgPSBlLmVkaXRvcjtcbiAgICAgICAgaWYgKCFlZGl0b3IubXVsdGlTZWxlY3QpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghY29tbWFuZC5tdWx0aVNlbGVjdEFjdGlvbikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbW1hbmQuZXhlYyhlZGl0b3IsIGUuYXJncyB8fCB7fSk7XG4gICAgICAgICAgICBlZGl0b3IubXVsdGlTZWxlY3QuYWRkUmFuZ2UoZWRpdG9yLm11bHRpU2VsZWN0LnRvT3JpZW50ZWRSYW5nZSgpKTtcbiAgICAgICAgICAgIGVkaXRvci5tdWx0aVNlbGVjdC5tZXJnZU92ZXJsYXBwaW5nUmFuZ2VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZC5tdWx0aVNlbGVjdEFjdGlvbiA9PSBcImZvckVhY2hcIikge1xuICAgICAgICAgICAgcmVzdWx0ID0gZWRpdG9yLmZvckVhY2hTZWxlY3Rpb24oY29tbWFuZCwgZS5hcmdzKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21tYW5kLm11bHRpU2VsZWN0QWN0aW9uID09IFwiZm9yRWFjaExpbmVcIikge1xuICAgICAgICAgICAgcmVzdWx0ID0gZWRpdG9yLmZvckVhY2hTZWxlY3Rpb24oY29tbWFuZCwgZS5hcmdzLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21tYW5kLm11bHRpU2VsZWN0QWN0aW9uID09IFwic2luZ2xlXCIpIHtcbiAgICAgICAgICAgIGVkaXRvci5leGl0TXVsdGlTZWxlY3RNb2RlKCk7XG4gICAgICAgICAgICByZXN1bHQgPSBjb21tYW5kLmV4ZWMoZWRpdG9yLCBlLmFyZ3MgfHwge30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gY29tbWFuZC5tdWx0aVNlbGVjdEFjdGlvbihlZGl0b3IsIGUuYXJncyB8fCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9OyBcbiAgICB0aGlzLmZvckVhY2hTZWxlY3Rpb24gPSBmdW5jdGlvbihjbWQsIGFyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGtlZXBPcmRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5rZWVwT3JkZXI7XG4gICAgICAgIHZhciAkYnlMaW5lcyA9IG9wdGlvbnMgPT0gdHJ1ZSB8fCBvcHRpb25zICYmIG9wdGlvbnMuJGJ5TGluZXNcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbjtcbiAgICAgICAgdmFyIHJhbmdlTGlzdCA9IHNlbGVjdGlvbi5yYW5nZUxpc3Q7XG4gICAgICAgIHZhciByYW5nZXMgPSAoa2VlcE9yZGVyID8gc2VsZWN0aW9uIDogcmFuZ2VMaXN0KS5yYW5nZXM7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gY21kLmV4ZWMgPyBjbWQuZXhlYyh0aGlzLCBhcmdzIHx8IHt9KSA6IGNtZCh0aGlzLCBhcmdzIHx8IHt9KTtcbiAgICAgICAgXG4gICAgICAgIHZhciByZWcgPSBzZWxlY3Rpb24uX2V2ZW50UmVnaXN0cnk7XG4gICAgICAgIHNlbGVjdGlvbi5fZXZlbnRSZWdpc3RyeSA9IHt9O1xuXG4gICAgICAgIHZhciB0bXBTZWwgPSBuZXcgU2VsZWN0aW9uKHNlc3Npb24pO1xuICAgICAgICB0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gcmFuZ2VzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgaWYgKCRieUxpbmVzKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPiAwICYmIHJhbmdlc1tpXS5zdGFydC5yb3cgPT0gcmFuZ2VzW2kgLSAxXS5lbmQucm93KVxuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0bXBTZWwuZnJvbU9yaWVudGVkUmFuZ2UocmFuZ2VzW2ldKTtcbiAgICAgICAgICAgIHRtcFNlbC5pbmRleCA9IGk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHNlc3Npb24uc2VsZWN0aW9uID0gdG1wU2VsO1xuICAgICAgICAgICAgdmFyIGNtZFJlc3VsdCA9IGNtZC5leGVjID8gY21kLmV4ZWModGhpcywgYXJncyB8fCB7fSkgOiBjbWQodGhpcywgYXJncyB8fCB7fSk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCAmJiBjbWRSZXN1bHQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjbWRSZXN1bHQ7XG4gICAgICAgICAgICB0bXBTZWwudG9PcmllbnRlZFJhbmdlKHJhbmdlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdG1wU2VsLmRldGFjaCgpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uID0gc2Vzc2lvbi5zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gICAgICAgIHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSA9IGZhbHNlO1xuICAgICAgICBzZWxlY3Rpb24uX2V2ZW50UmVnaXN0cnkgPSByZWc7XG4gICAgICAgIHNlbGVjdGlvbi5tZXJnZU92ZXJsYXBwaW5nUmFuZ2VzKCk7XG4gICAgICAgIFxuICAgICAgICB2YXIgYW5pbSA9IHRoaXMucmVuZGVyZXIuJHNjcm9sbEFuaW1hdGlvbjtcbiAgICAgICAgdGhpcy5vbkN1cnNvckNoYW5nZSgpO1xuICAgICAgICB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKCk7XG4gICAgICAgIGlmIChhbmltICYmIGFuaW0uZnJvbSA9PSBhbmltLnRvKVxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hbmltYXRlU2Nyb2xsaW5nKGFuaW0uZnJvbSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgdGhpcy5leGl0TXVsdGlTZWxlY3RNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5pbk11bHRpU2VsZWN0TW9kZSB8fCB0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMubXVsdGlTZWxlY3QudG9TaW5nbGVSYW5nZSgpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFNlbGVjdGVkVGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICAgIGlmICh0aGlzLmluTXVsdGlTZWxlY3RNb2RlICYmICF0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpIHtcbiAgICAgICAgICAgIHZhciByYW5nZXMgPSB0aGlzLm11bHRpU2VsZWN0LnJhbmdlTGlzdC5yYW5nZXM7XG4gICAgICAgICAgICB2YXIgYnVmID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJ1Zi5wdXNoKHRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2VzW2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmwgPSB0aGlzLnNlc3Npb24uZ2V0RG9jdW1lbnQoKS5nZXROZXdMaW5lQ2hhcmFjdGVyKCk7XG4gICAgICAgICAgICB0ZXh0ID0gYnVmLmpvaW4obmwpO1xuICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID09IChidWYubGVuZ3RoIC0gMSkgKiBubC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGV4dCA9IFwiXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdGV4dCA9IHRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJGNoZWNrTXVsdGlzZWxlY3RDaGFuZ2UgPSBmdW5jdGlvbihlLCBhbmNob3IpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgJiYgIXRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5tdWx0aVNlbGVjdC5yYW5nZXNbMF07XG4gICAgICAgICAgICBpZiAodGhpcy5tdWx0aVNlbGVjdC5pc0VtcHR5KCkgJiYgYW5jaG9yID09IHRoaXMubXVsdGlTZWxlY3QuYW5jaG9yKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBwb3MgPSBhbmNob3IgPT0gdGhpcy5tdWx0aVNlbGVjdC5hbmNob3JcbiAgICAgICAgICAgICAgICA/IHJhbmdlLmN1cnNvciA9PSByYW5nZS5zdGFydCA/IHJhbmdlLmVuZCA6IHJhbmdlLnN0YXJ0XG4gICAgICAgICAgICAgICAgOiByYW5nZS5jdXJzb3I7XG4gICAgICAgICAgICBpZiAocG9zLnJvdyAhPSBhbmNob3Iucm93IFxuICAgICAgICAgICAgICAgIHx8IHRoaXMuc2Vzc2lvbi4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChwb3Mucm93LCBwb3MuY29sdW1uKS5jb2x1bW4gIT0gYW5jaG9yLmNvbHVtbilcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpU2VsZWN0LnRvU2luZ2xlUmFuZ2UodGhpcy5tdWx0aVNlbGVjdC50b09yaWVudGVkUmFuZ2UoKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZmluZEFsbCA9IGZ1bmN0aW9uKG5lZWRsZSwgb3B0aW9ucywgYWRkaXRpdmUpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMubmVlZGxlID0gbmVlZGxlIHx8IG9wdGlvbnMubmVlZGxlO1xuICAgICAgICBpZiAob3B0aW9ucy5uZWVkbGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KClcbiAgICAgICAgICAgICAgICA/IHRoaXMuc2VsZWN0aW9uLmdldFdvcmRSYW5nZSgpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgb3B0aW9ucy5uZWVkbGUgPSB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgfSAgICBcbiAgICAgICAgdGhpcy4kc2VhcmNoLnNldChvcHRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIHZhciByYW5nZXMgPSB0aGlzLiRzZWFyY2guZmluZEFsbCh0aGlzLnNlc3Npb24pO1xuICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZyArPSAxO1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5tdWx0aVNlbGVjdDtcblxuICAgICAgICBpZiAoIWFkZGl0aXZlKVxuICAgICAgICAgICAgc2VsZWN0aW9uLnRvU2luZ2xlUmFuZ2UocmFuZ2VzWzBdKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gcmFuZ2VzLmxlbmd0aDsgaS0tOyApXG4gICAgICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2VzW2ldLCB0cnVlKTtcbiAgICAgICAgaWYgKHJhbmdlICYmIHNlbGVjdGlvbi5yYW5nZUxpc3QucmFuZ2VBdFBvaW50KHJhbmdlLnN0YXJ0KSlcbiAgICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSwgdHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZyAtPSAxO1xuXG4gICAgICAgIHJldHVybiByYW5nZXMubGVuZ3RoO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RNb3JlTGluZXMgPSBmdW5jdGlvbihkaXIsIHNraXApIHtcbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG4gICAgICAgIHZhciBpc0JhY2t3YXJkcyA9IHJhbmdlLmN1cnNvciA9PSByYW5nZS5lbmQ7XG5cbiAgICAgICAgdmFyIHNjcmVlbkxlYWQgPSB0aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHJhbmdlLmN1cnNvcik7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi4kZGVzaXJlZENvbHVtbilcbiAgICAgICAgICAgIHNjcmVlbkxlYWQuY29sdW1uID0gdGhpcy5zZWxlY3Rpb24uJGRlc2lyZWRDb2x1bW47XG5cbiAgICAgICAgdmFyIGxlYWQgPSB0aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHNjcmVlbkxlYWQucm93ICsgZGlyLCBzY3JlZW5MZWFkLmNvbHVtbik7XG5cbiAgICAgICAgaWYgKCFyYW5nZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhciBzY3JlZW5BbmNob3IgPSB0aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKGlzQmFja3dhcmRzID8gcmFuZ2UuZW5kIDogcmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuQW5jaG9yLnJvdyArIGRpciwgc2NyZWVuQW5jaG9yLmNvbHVtbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gbGVhZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0JhY2t3YXJkcykge1xuICAgICAgICAgICAgdmFyIG5ld1JhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhsZWFkLCBhbmNob3IpO1xuICAgICAgICAgICAgbmV3UmFuZ2UuY3Vyc29yID0gbmV3UmFuZ2Uuc3RhcnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbmV3UmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKGFuY2hvciwgbGVhZCk7XG4gICAgICAgICAgICBuZXdSYW5nZS5jdXJzb3IgPSBuZXdSYW5nZS5lbmQ7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdSYW5nZS5kZXNpcmVkQ29sdW1uID0gc2NyZWVuTGVhZC5jb2x1bW47XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb24uaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChza2lwKVxuICAgICAgICAgICAgICAgIHZhciB0b1JlbW92ZSA9IHJhbmdlLmN1cnNvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmFkZFJhbmdlKG5ld1JhbmdlKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlKVxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc3Vic3RyYWN0UG9pbnQodG9SZW1vdmUpO1xuICAgIH07XG4gICAgdGhpcy50cmFuc3Bvc2VTZWxlY3Rpb25zID0gZnVuY3Rpb24oZGlyKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgc2VsID0gc2Vzc2lvbi5tdWx0aVNlbGVjdDtcbiAgICAgICAgdmFyIGFsbCA9IHNlbC5yYW5nZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGFsbC5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBhbGxbaV07XG4gICAgICAgICAgICBpZiAocmFuZ2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRtcCA9IHNlc3Npb24uZ2V0V29yZFJhbmdlKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5yb3cgPSB0bXAuc3RhcnQucm93O1xuICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IHRtcC5zdGFydC5jb2x1bW47XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLnJvdyA9IHRtcC5lbmQucm93O1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gPSB0bXAuZW5kLmNvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWwubWVyZ2VPdmVybGFwcGluZ1JhbmdlcygpO1xuXG4gICAgICAgIHZhciB3b3JkcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gYWxsLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGFsbFtpXTtcbiAgICAgICAgICAgIHdvcmRzLnVuc2hpZnQoc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2UpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXIgPCAwKVxuICAgICAgICAgICAgd29yZHMudW5zaGlmdCh3b3Jkcy5wb3AoKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHdvcmRzLnB1c2god29yZHMuc2hpZnQoKSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGFsbC5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBhbGxbaV07XG4gICAgICAgICAgICB2YXIgdG1wID0gcmFuZ2UuY2xvbmUoKTtcbiAgICAgICAgICAgIHNlc3Npb24ucmVwbGFjZShyYW5nZSwgd29yZHNbaV0pO1xuICAgICAgICAgICAgcmFuZ2Uuc3RhcnQucm93ID0gdG1wLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IHRtcC5zdGFydC5jb2x1bW47XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0TW9yZSA9IGZ1bmN0aW9uKGRpciwgc2tpcCwgc3RvcEF0Rmlyc3QpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciBzZWwgPSBzZXNzaW9uLm11bHRpU2VsZWN0O1xuXG4gICAgICAgIHZhciByYW5nZSA9IHNlbC50b09yaWVudGVkUmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmFuZ2UgPSBzZXNzaW9uLmdldFdvcmRSYW5nZShyYW5nZS5zdGFydC5yb3csIHJhbmdlLnN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICByYW5nZS5jdXJzb3IgPSBkaXIgPT0gLTEgPyByYW5nZS5zdGFydCA6IHJhbmdlLmVuZDtcbiAgICAgICAgICAgIHRoaXMubXVsdGlTZWxlY3QuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgaWYgKHN0b3BBdEZpcnN0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmVlZGxlID0gc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuXG4gICAgICAgIHZhciBuZXdSYW5nZSA9IGZpbmQoc2Vzc2lvbiwgbmVlZGxlLCBkaXIpO1xuICAgICAgICBpZiAobmV3UmFuZ2UpIHtcbiAgICAgICAgICAgIG5ld1JhbmdlLmN1cnNvciA9IGRpciA9PSAtMSA/IG5ld1JhbmdlLnN0YXJ0IDogbmV3UmFuZ2UuZW5kO1xuICAgICAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgKz0gMTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi51bmZvbGQobmV3UmFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5tdWx0aVNlbGVjdC5hZGRSYW5nZShuZXdSYW5nZSk7XG4gICAgICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZyAtPSAxO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLCAwLjUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwKVxuICAgICAgICAgICAgdGhpcy5tdWx0aVNlbGVjdC5zdWJzdHJhY3RQb2ludChyYW5nZS5jdXJzb3IpO1xuICAgIH07XG4gICAgdGhpcy5hbGlnbkN1cnNvcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciBzZWwgPSBzZXNzaW9uLm11bHRpU2VsZWN0O1xuICAgICAgICB2YXIgcmFuZ2VzID0gc2VsLnJhbmdlcztcbiAgICAgICAgdmFyIHJvdyA9IC0xO1xuICAgICAgICB2YXIgc2FtZVJvd1JhbmdlcyA9IHJhbmdlcy5maWx0ZXIoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgaWYgKHIuY3Vyc29yLnJvdyA9PSByb3cpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByb3cgPSByLmN1cnNvci5yb3c7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFyYW5nZXMubGVuZ3RoIHx8IHNhbWVSb3dSYW5nZXMubGVuZ3RoID09IHJhbmdlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgdmFyIGZyID0gcmFuZ2Uuc3RhcnQucm93LCBsciA9IHJhbmdlLmVuZC5yb3c7XG4gICAgICAgICAgICB2YXIgZ3Vlc3NSYW5nZSA9IGZyID09IGxyO1xuICAgICAgICAgICAgaWYgKGd1ZXNzUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF4ID0gdGhpcy5zZXNzaW9uLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lO1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IHRoaXMuc2Vzc2lvbi5nZXRMaW5lKGxyKTtcbiAgICAgICAgICAgICAgICB9IHdoaWxlICgvWz06XS8udGVzdChsaW5lKSAmJiArK2xyIDwgbWF4KTtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TGluZShmcik7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoL1s9Ol0vLnRlc3QobGluZSkgJiYgLS1mciA+IDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChmciA8IDApIGZyID0gMDtcbiAgICAgICAgICAgICAgICBpZiAobHIgPj0gbWF4KSBsciA9IG1heCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGluZXMgPSB0aGlzLnNlc3Npb24ucmVtb3ZlRnVsbExpbmVzKGZyLCBscik7XG4gICAgICAgICAgICBsaW5lcyA9IHRoaXMuJHJlQWxpZ25UZXh0KGxpbmVzLCBndWVzc1JhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5pbnNlcnQoe3JvdzogZnIsIGNvbHVtbjogMH0sIGxpbmVzLmpvaW4oXCJcXG5cIikgKyBcIlxcblwiKTtcbiAgICAgICAgICAgIGlmICghZ3Vlc3NSYW5nZSkge1xuICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IDA7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFJhbmdlKHJhbmdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNhbWVSb3dSYW5nZXMuZm9yRWFjaChmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICAgICAgc2VsLnN1YnN0cmFjdFBvaW50KHIuY3Vyc29yKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbWF4Q29sID0gMDtcbiAgICAgICAgICAgIHZhciBtaW5TcGFjZSA9IEluZmluaXR5O1xuICAgICAgICAgICAgdmFyIHNwYWNlT2Zmc2V0cyA9IHJhbmdlcy5tYXAoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgIHZhciBwID0gci5jdXJzb3I7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocC5yb3cpO1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZU9mZnNldCA9IGxpbmUuc3Vic3RyKHAuY29sdW1uKS5zZWFyY2goL1xcUy9nKTtcbiAgICAgICAgICAgICAgICBpZiAoc3BhY2VPZmZzZXQgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlT2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgICAgIGlmIChwLmNvbHVtbiA+IG1heENvbClcbiAgICAgICAgICAgICAgICAgICAgbWF4Q29sID0gcC5jb2x1bW47XG4gICAgICAgICAgICAgICAgaWYgKHNwYWNlT2Zmc2V0IDwgbWluU3BhY2UpXG4gICAgICAgICAgICAgICAgICAgIG1pblNwYWNlID0gc3BhY2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwYWNlT2Zmc2V0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByYW5nZXMuZm9yRWFjaChmdW5jdGlvbihyLCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSByLmN1cnNvcjtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IG1heENvbCAtIHAuY29sdW1uO1xuICAgICAgICAgICAgICAgIHZhciBkID0gc3BhY2VPZmZzZXRzW2ldIC0gbWluU3BhY2U7XG4gICAgICAgICAgICAgICAgaWYgKGwgPiBkKVxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmluc2VydChwLCBsYW5nLnN0cmluZ1JlcGVhdChcIiBcIiwgbCAtIGQpKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlKG5ldyBSYW5nZShwLnJvdywgcC5jb2x1bW4sIHAucm93LCBwLmNvbHVtbiAtIGwgKyBkKSk7XG5cbiAgICAgICAgICAgICAgICByLnN0YXJ0LmNvbHVtbiA9IHIuZW5kLmNvbHVtbiA9IG1heENvbDtcbiAgICAgICAgICAgICAgICByLnN0YXJ0LnJvdyA9IHIuZW5kLnJvdyA9IHAucm93O1xuICAgICAgICAgICAgICAgIHIuY3Vyc29yID0gci5lbmQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlbC5mcm9tT3JpZW50ZWRSYW5nZShyYW5nZXNbMF0pO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRyZUFsaWduVGV4dCA9IGZ1bmN0aW9uKGxpbmVzLCBmb3JjZUxlZnQpIHtcbiAgICAgICAgdmFyIGlzTGVmdEFsaWduZWQgPSB0cnVlLCBpc1JpZ2h0QWxpZ25lZCA9IHRydWU7XG4gICAgICAgIHZhciBzdGFydFcsIHRleHRXLCBlbmRXO1xuXG4gICAgICAgIHJldHVybiBsaW5lcy5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgdmFyIG0gPSBsaW5lLm1hdGNoKC8oXFxzKikoLio/KShcXHMqKShbPTpdLiopLyk7XG4gICAgICAgICAgICBpZiAoIW0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtsaW5lXTtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0VyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRXID0gbVsxXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGV4dFcgPSBtWzJdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBlbmRXID0gbVszXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGFydFcgKyB0ZXh0VyArIGVuZFcgIT0gbVsxXS5sZW5ndGggKyBtWzJdLmxlbmd0aCArIG1bM10ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGlzUmlnaHRBbGlnbmVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc3RhcnRXICE9IG1bMV0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGlzTGVmdEFsaWduZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0VyA+IG1bMV0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHN0YXJ0VyA9IG1bMV0ubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHRleHRXIDwgbVsyXS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGV4dFcgPSBtWzJdLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChlbmRXID4gbVszXS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgZW5kVyA9IG1bM10ubGVuZ3RoO1xuXG4gICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgfSkubWFwKGZvcmNlTGVmdCA/IGFsaWduTGVmdCA6XG4gICAgICAgICAgICBpc0xlZnRBbGlnbmVkID8gaXNSaWdodEFsaWduZWQgPyBhbGlnblJpZ2h0IDogYWxpZ25MZWZ0IDogdW5BbGlnbik7XG5cbiAgICAgICAgZnVuY3Rpb24gc3BhY2VzKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nLnN0cmluZ1JlcGVhdChcIiBcIiwgbik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhbGlnbkxlZnQobSkge1xuICAgICAgICAgICAgcmV0dXJuICFtWzJdID8gbVswXSA6IHNwYWNlcyhzdGFydFcpICsgbVsyXVxuICAgICAgICAgICAgICAgICsgc3BhY2VzKHRleHRXIC0gbVsyXS5sZW5ndGggKyBlbmRXKVxuICAgICAgICAgICAgICAgICsgbVs0XS5yZXBsYWNlKC9eKFs9Ol0pXFxzKy8sIFwiJDEgXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFsaWduUmlnaHQobSkge1xuICAgICAgICAgICAgcmV0dXJuICFtWzJdID8gbVswXSA6IHNwYWNlcyhzdGFydFcgKyB0ZXh0VyAtIG1bMl0ubGVuZ3RoKSArIG1bMl1cbiAgICAgICAgICAgICAgICArIHNwYWNlcyhlbmRXLCBcIiBcIilcbiAgICAgICAgICAgICAgICArIG1bNF0ucmVwbGFjZSgvXihbPTpdKVxccysvLCBcIiQxIFwiKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB1bkFsaWduKG0pIHtcbiAgICAgICAgICAgIHJldHVybiAhbVsyXSA/IG1bMF0gOiBzcGFjZXMoc3RhcnRXKSArIG1bMl1cbiAgICAgICAgICAgICAgICArIHNwYWNlcyhlbmRXKVxuICAgICAgICAgICAgICAgICsgbVs0XS5yZXBsYWNlKC9eKFs9Ol0pXFxzKy8sIFwiJDEgXCIpO1xuICAgICAgICB9XG4gICAgfTtcbn0pLmNhbGwoRWRpdG9yLnByb3RvdHlwZSk7XG5cblxuZnVuY3Rpb24gaXNTYW1lUG9pbnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnJvdyA9PSBwMi5yb3cgJiYgcDEuY29sdW1uID09IHAyLmNvbHVtbjtcbn1cbmV4cG9ydHMub25TZXNzaW9uQ2hhbmdlID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciBzZXNzaW9uID0gZS5zZXNzaW9uO1xuICAgIGlmIChzZXNzaW9uICYmICFzZXNzaW9uLm11bHRpU2VsZWN0KSB7XG4gICAgICAgIHNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMgPSBbXTtcbiAgICAgICAgc2Vzc2lvbi5zZWxlY3Rpb24uJGluaXRSYW5nZUxpc3QoKTtcbiAgICAgICAgc2Vzc2lvbi5tdWx0aVNlbGVjdCA9IHNlc3Npb24uc2VsZWN0aW9uO1xuICAgIH1cbiAgICB0aGlzLm11bHRpU2VsZWN0ID0gc2Vzc2lvbiAmJiBzZXNzaW9uLm11bHRpU2VsZWN0O1xuXG4gICAgdmFyIG9sZFNlc3Npb24gPSBlLm9sZFNlc3Npb247XG4gICAgaWYgKG9sZFNlc3Npb24pIHtcbiAgICAgICAgb2xkU2Vzc2lvbi5tdWx0aVNlbGVjdC5vZmYoXCJhZGRSYW5nZVwiLCB0aGlzLiRvbkFkZFJhbmdlKTtcbiAgICAgICAgb2xkU2Vzc2lvbi5tdWx0aVNlbGVjdC5vZmYoXCJyZW1vdmVSYW5nZVwiLCB0aGlzLiRvblJlbW92ZVJhbmdlKTtcbiAgICAgICAgb2xkU2Vzc2lvbi5tdWx0aVNlbGVjdC5vZmYoXCJtdWx0aVNlbGVjdFwiLCB0aGlzLiRvbk11bHRpU2VsZWN0KTtcbiAgICAgICAgb2xkU2Vzc2lvbi5tdWx0aVNlbGVjdC5vZmYoXCJzaW5nbGVTZWxlY3RcIiwgdGhpcy4kb25TaW5nbGVTZWxlY3QpO1xuICAgICAgICBvbGRTZXNzaW9uLm11bHRpU2VsZWN0LmxlYWQub2ZmKFwiY2hhbmdlXCIsIHRoaXMuJGNoZWNrTXVsdGlzZWxlY3RDaGFuZ2UpO1xuICAgICAgICBvbGRTZXNzaW9uLm11bHRpU2VsZWN0LmFuY2hvci5vZmYoXCJjaGFuZ2VcIiwgdGhpcy4kY2hlY2tNdWx0aXNlbGVjdENoYW5nZSk7XG4gICAgfVxuXG4gICAgaWYgKHNlc3Npb24pIHtcbiAgICAgICAgc2Vzc2lvbi5tdWx0aVNlbGVjdC5vbihcImFkZFJhbmdlXCIsIHRoaXMuJG9uQWRkUmFuZ2UpO1xuICAgICAgICBzZXNzaW9uLm11bHRpU2VsZWN0Lm9uKFwicmVtb3ZlUmFuZ2VcIiwgdGhpcy4kb25SZW1vdmVSYW5nZSk7XG4gICAgICAgIHNlc3Npb24ubXVsdGlTZWxlY3Qub24oXCJtdWx0aVNlbGVjdFwiLCB0aGlzLiRvbk11bHRpU2VsZWN0KTtcbiAgICAgICAgc2Vzc2lvbi5tdWx0aVNlbGVjdC5vbihcInNpbmdsZVNlbGVjdFwiLCB0aGlzLiRvblNpbmdsZVNlbGVjdCk7XG4gICAgICAgIHNlc3Npb24ubXVsdGlTZWxlY3QubGVhZC5vbihcImNoYW5nZVwiLCB0aGlzLiRjaGVja011bHRpc2VsZWN0Q2hhbmdlKTtcbiAgICAgICAgc2Vzc2lvbi5tdWx0aVNlbGVjdC5hbmNob3Iub24oXCJjaGFuZ2VcIiwgdGhpcy4kY2hlY2tNdWx0aXNlbGVjdENoYW5nZSk7XG4gICAgfVxuXG4gICAgaWYgKHNlc3Npb24gJiYgdGhpcy5pbk11bHRpU2VsZWN0TW9kZSAhPSBzZXNzaW9uLnNlbGVjdGlvbi5pbk11bHRpU2VsZWN0TW9kZSkge1xuICAgICAgICBpZiAoc2Vzc2lvbi5zZWxlY3Rpb24uaW5NdWx0aVNlbGVjdE1vZGUpXG4gICAgICAgICAgICB0aGlzLiRvbk11bHRpU2VsZWN0KCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuJG9uU2luZ2xlU2VsZWN0KCk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIE11bHRpU2VsZWN0KGVkaXRvcikge1xuICAgIGlmIChlZGl0b3IuJG11bHRpc2VsZWN0T25TZXNzaW9uQ2hhbmdlKVxuICAgICAgICByZXR1cm47XG4gICAgZWRpdG9yLiRvbkFkZFJhbmdlID0gZWRpdG9yLiRvbkFkZFJhbmdlLmJpbmQoZWRpdG9yKTtcbiAgICBlZGl0b3IuJG9uUmVtb3ZlUmFuZ2UgPSBlZGl0b3IuJG9uUmVtb3ZlUmFuZ2UuYmluZChlZGl0b3IpO1xuICAgIGVkaXRvci4kb25NdWx0aVNlbGVjdCA9IGVkaXRvci4kb25NdWx0aVNlbGVjdC5iaW5kKGVkaXRvcik7XG4gICAgZWRpdG9yLiRvblNpbmdsZVNlbGVjdCA9IGVkaXRvci4kb25TaW5nbGVTZWxlY3QuYmluZChlZGl0b3IpO1xuICAgIGVkaXRvci4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2UgPSBleHBvcnRzLm9uU2Vzc2lvbkNoYW5nZS5iaW5kKGVkaXRvcik7XG4gICAgZWRpdG9yLiRjaGVja011bHRpc2VsZWN0Q2hhbmdlID0gZWRpdG9yLiRjaGVja011bHRpc2VsZWN0Q2hhbmdlLmJpbmQoZWRpdG9yKTtcblxuICAgIGVkaXRvci4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2UoZWRpdG9yKTtcbiAgICBlZGl0b3Iub24oXCJjaGFuZ2VTZXNzaW9uXCIsIGVkaXRvci4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2UpO1xuXG4gICAgZWRpdG9yLm9uKFwibW91c2Vkb3duXCIsIG9uTW91c2VEb3duKTtcbiAgICBlZGl0b3IuY29tbWFuZHMuYWRkQ29tbWFuZHMoY29tbWFuZHMuZGVmYXVsdENvbW1hbmRzKTtcblxuICAgIGFkZEFsdEN1cnNvckxpc3RlbmVycyhlZGl0b3IpO1xufVxuXG5mdW5jdGlvbiBhZGRBbHRDdXJzb3JMaXN0ZW5lcnMoZWRpdG9yKXtcbiAgICB2YXIgZWwgPSBlZGl0b3IudGV4dElucHV0LmdldEVsZW1lbnQoKTtcbiAgICB2YXIgYWx0Q3Vyc29yID0gZmFsc2U7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZWwsIFwia2V5ZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBhbHREb3duID0gZS5rZXlDb2RlID09IDE4ICYmICEoZS5jdHJsS2V5IHx8IGUuc2hpZnRLZXkgfHwgZS5tZXRhS2V5KTtcbiAgICAgICAgaWYgKGVkaXRvci4kYmxvY2tTZWxlY3RFbmFibGVkICYmIGFsdERvd24pIHtcbiAgICAgICAgICAgIGlmICghYWx0Q3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNldE1vdXNlQ3Vyc29yKFwiY3Jvc3NoYWlyXCIpO1xuICAgICAgICAgICAgICAgIGFsdEN1cnNvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWx0Q3Vyc29yKSB7XG4gICAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcihlbCwgXCJrZXl1cFwiLCByZXNldCk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZWwsIFwiYmx1clwiLCByZXNldCk7XG4gICAgZnVuY3Rpb24gcmVzZXQoZSkge1xuICAgICAgICBpZiAoYWx0Q3Vyc29yKSB7XG4gICAgICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2V0TW91c2VDdXJzb3IoXCJcIik7XG4gICAgICAgICAgICBhbHRDdXJzb3IgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0cy5NdWx0aVNlbGVjdCA9IE11bHRpU2VsZWN0O1xuXG5cbmFjZXF1aXJlKFwiLi9jb25maWdcIikuZGVmaW5lT3B0aW9ucyhFZGl0b3IucHJvdG90eXBlLCBcImVkaXRvclwiLCB7XG4gICAgZW5hYmxlTXVsdGlzZWxlY3Q6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIE11bHRpU2VsZWN0KHRoaXMpO1xuICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMub24oXCJjaGFuZ2VTZXNzaW9uXCIsIHRoaXMuJG11bHRpc2VsZWN0T25TZXNzaW9uQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uKFwibW91c2Vkb3duXCIsIG9uTW91c2VEb3duKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmYoXCJjaGFuZ2VTZXNzaW9uXCIsIHRoaXMuJG11bHRpc2VsZWN0T25TZXNzaW9uQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZihcIm1vdXNlZG93blwiLCBvbk1vdXNlRG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSxcbiAgICBlbmFibGVCbG9ja1NlbGVjdDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgdGhpcy4kYmxvY2tTZWxlY3RFbmFibGVkID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgIH1cbn0pO1xuXG5cblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi8uLi9yYW5nZVwiKS5SYW5nZTtcblxudmFyIEZvbGRNb2RlID0gZXhwb3J0cy5Gb2xkTW9kZSA9IGZ1bmN0aW9uKCkge307XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbnVsbDtcbiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gbnVsbDtcbiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgICAgICBpZiAodGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIudGVzdChsaW5lKSlcbiAgICAgICAgICAgIHJldHVybiBcInN0YXJ0XCI7XG4gICAgICAgIGlmIChmb2xkU3R5bGUgPT0gXCJtYXJrYmVnaW5lbmRcIlxuICAgICAgICAgICAgICAgICYmIHRoaXMuZm9sZGluZ1N0b3BNYXJrZXJcbiAgICAgICAgICAgICAgICAmJiB0aGlzLmZvbGRpbmdTdG9wTWFya2VyLnRlc3QobGluZSkpXG4gICAgICAgICAgICByZXR1cm4gXCJlbmRcIjtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlID0gZnVuY3Rpb24oc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHRoaXMuaW5kZW50YXRpb25CbG9jayA9IGZ1bmN0aW9uKHNlc3Npb24sIHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciByZSA9IC9cXFMvO1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgICAgICB2YXIgc3RhcnRMZXZlbCA9IGxpbmUuc2VhcmNoKHJlKTtcbiAgICAgICAgaWYgKHN0YXJ0TGV2ZWwgPT0gLTEpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHN0YXJ0Q29sdW1uID0gY29sdW1uIHx8IGxpbmUubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTtcbiAgICAgICAgdmFyIHN0YXJ0Um93ID0gcm93O1xuICAgICAgICB2YXIgZW5kUm93ID0gcm93O1xuXG4gICAgICAgIHdoaWxlICgrK3JvdyA8IG1heFJvdykge1xuICAgICAgICAgICAgdmFyIGxldmVsID0gc2Vzc2lvbi5nZXRMaW5lKHJvdykuc2VhcmNoKHJlKTtcblxuICAgICAgICAgICAgaWYgKGxldmVsID09IC0xKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAobGV2ZWwgPD0gc3RhcnRMZXZlbClcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZW5kUm93ID0gcm93O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuZFJvdyA+IHN0YXJ0Um93KSB7XG4gICAgICAgICAgICB2YXIgZW5kQ29sdW1uID0gc2Vzc2lvbi5nZXRMaW5lKGVuZFJvdykubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2sgPSBmdW5jdGlvbihzZXNzaW9uLCBicmFja2V0LCByb3csIGNvbHVtbiwgdHlwZVJlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gKyAxfTtcbiAgICAgICAgdmFyIGVuZCA9IHNlc3Npb24uJGZpbmRDbG9zaW5nQnJhY2tldChicmFja2V0LCBzdGFydCwgdHlwZVJlKTtcbiAgICAgICAgaWYgKCFlbmQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIGZ3ID0gc2Vzc2lvbi5mb2xkV2lkZ2V0c1tlbmQucm93XTtcbiAgICAgICAgaWYgKGZ3ID09IG51bGwpXG4gICAgICAgICAgICBmdyA9IHNlc3Npb24uZ2V0Rm9sZFdpZGdldChlbmQucm93KTtcblxuICAgICAgICBpZiAoZncgPT0gXCJzdGFydFwiICYmIGVuZC5yb3cgPiBzdGFydC5yb3cpIHtcbiAgICAgICAgICAgIGVuZC5yb3cgLS07XG4gICAgICAgICAgICBlbmQuY29sdW1uID0gc2Vzc2lvbi5nZXRMaW5lKGVuZC5yb3cpLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydCwgZW5kKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zaW5nQnJhY2tldEJsb2NrID0gZnVuY3Rpb24oc2Vzc2lvbiwgYnJhY2tldCwgcm93LCBjb2x1bW4sIHR5cGVSZSkge1xuICAgICAgICB2YXIgZW5kID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07XG4gICAgICAgIHZhciBzdGFydCA9IHNlc3Npb24uJGZpbmRPcGVuaW5nQnJhY2tldChicmFja2V0LCBlbmQpO1xuXG4gICAgICAgIGlmICghc3RhcnQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgc3RhcnQuY29sdW1uKys7XG4gICAgICAgIGVuZC5jb2x1bW4tLTtcblxuICAgICAgICByZXR1cm4gIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQsIGVuZCk7XG4gICAgfTtcbn0pLmNhbGwoRm9sZE1vZGUucHJvdG90eXBlKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvdGhlbWUvdGV4dG1hdGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZG9tXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5pc0RhcmsgPSBmYWxzZTtcbmV4cG9ydHMuY3NzQ2xhc3MgPSBcImFjZS10bVwiO1xuZXhwb3J0cy5jc3NUZXh0ID0gXCIuYWNlLXRtIC5hY2VfZ3V0dGVyIHtcXFxuYmFja2dyb3VuZDogI2YwZjBmMDtcXFxuY29sb3I6ICMzMzM7XFxcbn1cXFxuLmFjZS10bSAuYWNlX3ByaW50LW1hcmdpbiB7XFxcbndpZHRoOiAxcHg7XFxcbmJhY2tncm91bmQ6ICNlOGU4ZTg7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2ZvbGQge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjNkI3MkU2O1xcXG59XFxcbi5hY2UtdG0ge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xcXG5jb2xvcjogYmxhY2s7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2N1cnNvciB7XFxcbmNvbG9yOiBibGFjaztcXFxufVxcXG4uYWNlLXRtIC5hY2VfaW52aXNpYmxlIHtcXFxuY29sb3I6IHJnYigxOTEsIDE5MSwgMTkxKTtcXFxufVxcXG4uYWNlLXRtIC5hY2Vfc3RvcmFnZSxcXFxuLmFjZS10bSAuYWNlX2tleXdvcmQge1xcXG5jb2xvcjogYmx1ZTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfY29uc3RhbnQge1xcXG5jb2xvcjogcmdiKDE5NywgNiwgMTEpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9jb25zdGFudC5hY2VfYnVpbGRpbiB7XFxcbmNvbG9yOiByZ2IoODgsIDcyLCAyNDYpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9jb25zdGFudC5hY2VfbGFuZ3VhZ2Uge1xcXG5jb2xvcjogcmdiKDg4LCA5MiwgMjQ2KTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfY29uc3RhbnQuYWNlX2xpYnJhcnkge1xcXG5jb2xvcjogcmdiKDYsIDE1MCwgMTQpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9pbnZhbGlkIHtcXFxuYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDAsIDAsIDAuMSk7XFxcbmNvbG9yOiByZWQ7XFxcbn1cXFxuLmFjZS10bSAuYWNlX3N1cHBvcnQuYWNlX2Z1bmN0aW9uIHtcXFxuY29sb3I6IHJnYig2MCwgNzYsIDExNCk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50IHtcXFxuY29sb3I6IHJnYig2LCAxNTAsIDE0KTtcXFxufVxcXG4uYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfdHlwZSxcXFxuLmFjZS10bSAuYWNlX3N1cHBvcnQuYWNlX2NsYXNzIHtcXFxuY29sb3I6IHJnYigxMDksIDEyMSwgMjIyKTtcXFxufVxcXG4uYWNlLXRtIC5hY2Vfa2V5d29yZC5hY2Vfb3BlcmF0b3Ige1xcXG5jb2xvcjogcmdiKDEwNCwgMTE4LCAxMzUpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9zdHJpbmcge1xcXG5jb2xvcjogcmdiKDMsIDEwNiwgNyk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2NvbW1lbnQge1xcXG5jb2xvcjogcmdiKDc2LCAxMzYsIDEwNyk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2NvbW1lbnQuYWNlX2RvYyB7XFxcbmNvbG9yOiByZ2IoMCwgMTAyLCAyNTUpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9jb21tZW50LmFjZV9kb2MuYWNlX3RhZyB7XFxcbmNvbG9yOiByZ2IoMTI4LCAxNTksIDE5MSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2NvbnN0YW50LmFjZV9udW1lcmljIHtcXFxuY29sb3I6IHJnYigwLCAwLCAyMDUpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV92YXJpYWJsZSB7XFxcbmNvbG9yOiByZ2IoNDksIDEzMiwgMTQ5KTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfeG1sLXBlIHtcXFxuY29sb3I6IHJnYigxMDQsIDEwNCwgOTEpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9lbnRpdHkuYWNlX25hbWUuYWNlX2Z1bmN0aW9uIHtcXFxuY29sb3I6ICMwMDAwQTI7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2hlYWRpbmcge1xcXG5jb2xvcjogcmdiKDEyLCA3LCAyNTUpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9saXN0IHtcXFxuY29sb3I6cmdiKDE4NSwgNiwgMTQ0KTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWV0YS5hY2VfdGFnIHtcXFxuY29sb3I6cmdiKDAsIDIyLCAxNDIpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9zdHJpbmcuYWNlX3JlZ2V4IHtcXFxuY29sb3I6IHJnYigyNTUsIDAsIDApXFxcbn1cXFxuLmFjZS10bSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XFxcbmJhY2tncm91bmQ6IHJnYigxODEsIDIxMywgMjU1KTtcXFxufVxcXG4uYWNlLXRtLmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xcXG5ib3gtc2hhZG93OiAwIDAgM3B4IDBweCB3aGl0ZTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XFxcbmJhY2tncm91bmQ6IHJnYigyNTIsIDI1NSwgMCk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX21hcmtlci1sYXllciAuYWNlX3N0YWNrIHtcXFxuYmFja2dyb3VuZDogcmdiKDE2NCwgMjI5LCAxMDEpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHtcXFxubWFyZ2luOiAtMXB4IDAgMCAtMXB4O1xcXG5ib3JkZXI6IDFweCBzb2xpZCByZ2IoMTkyLCAxOTIsIDE5Mik7XFxcbn1cXFxuLmFjZS10bSAuYWNlX21hcmtlci1sYXllciAuYWNlX2FjdGl2ZS1saW5lIHtcXFxuYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjA3KTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfZ3V0dGVyLWFjdGl2ZS1saW5lIHtcXFxuYmFja2dyb3VuZC1jb2xvciA6ICNkY2RjZGM7XFxcbn1cXFxuLmFjZS10bSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGVkLXdvcmQge1xcXG5iYWNrZ3JvdW5kOiByZ2IoMjUwLCAyNTAsIDI1NSk7XFxcbmJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDAsIDIwMCwgMjUwKTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfaW5kZW50LWd1aWRlIHtcXFxuYmFja2dyb3VuZDogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRTBsRVFWUUltV1A0Ly8vL2Y0YkxseS8vQndBbVZnZDEvdzExL2dBQUFBQkpSVTVFcmtKZ2dnPT1cXFwiKSByaWdodCByZXBlYXQteTtcXFxufVxcXG5cIjtcblxudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbmRvbS5pbXBvcnRDc3NTdHJpbmcoZXhwb3J0cy5jc3NUZXh0LCBleHBvcnRzLmNzc0NsYXNzKTtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xpbmVfd2lkZ2V0c1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvcmFuZ2VcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgZG9tID0gYWNlcXVpcmUoXCIuL2xpYi9kb21cIik7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG5cblxuZnVuY3Rpb24gTGluZVdpZGdldHMoc2Vzc2lvbikge1xuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgdGhpcy5zZXNzaW9uLndpZGdldE1hbmFnZXIgPSB0aGlzO1xuICAgIHRoaXMuc2Vzc2lvbi5nZXRSb3dMZW5ndGggPSB0aGlzLmdldFJvd0xlbmd0aDtcbiAgICB0aGlzLnNlc3Npb24uJGdldFdpZGdldFNjcmVlbkxlbmd0aCA9IHRoaXMuJGdldFdpZGdldFNjcmVlbkxlbmd0aDtcbiAgICB0aGlzLnVwZGF0ZU9uQ2hhbmdlID0gdGhpcy51cGRhdGVPbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVuZGVyV2lkZ2V0cyA9IHRoaXMucmVuZGVyV2lkZ2V0cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWVhc3VyZVdpZGdldHMgPSB0aGlzLm1lYXN1cmVXaWRnZXRzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXNzaW9uLl9jaGFuZ2VkV2lkZ2V0cyA9IFtdO1xuICAgIHRoaXMuJG9uQ2hhbmdlRWRpdG9yID0gdGhpcy4kb25DaGFuZ2VFZGl0b3IuYmluZCh0aGlzKTtcbiAgICBcbiAgICB0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VcIiwgdGhpcy51cGRhdGVPbkNoYW5nZSk7XG4gICAgdGhpcy5zZXNzaW9uLm9uKFwiY2hhbmdlRm9sZFwiLCB0aGlzLnVwZGF0ZU9uRm9sZCk7XG4gICAgdGhpcy5zZXNzaW9uLm9uKFwiY2hhbmdlRWRpdG9yXCIsIHRoaXMuJG9uQ2hhbmdlRWRpdG9yKTtcbn1cblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0Um93TGVuZ3RoID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHZhciBoO1xuICAgICAgICBpZiAodGhpcy5saW5lV2lkZ2V0cylcbiAgICAgICAgICAgIGggPSB0aGlzLmxpbmVXaWRnZXRzW3Jvd10gJiYgdGhpcy5saW5lV2lkZ2V0c1tyb3ddLnJvd0NvdW50IHx8IDA7XG4gICAgICAgIGVsc2UgXG4gICAgICAgICAgICBoID0gMDtcbiAgICAgICAgaWYgKCF0aGlzLiR1c2VXcmFwTW9kZSB8fCAhdGhpcy4kd3JhcERhdGFbcm93XSkge1xuICAgICAgICAgICAgcmV0dXJuIDEgKyBoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHdyYXBEYXRhW3Jvd10ubGVuZ3RoICsgMSArIGg7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0V2lkZ2V0U2NyZWVuTGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzY3JlZW5Sb3dzID0gMDtcbiAgICAgICAgdGhpcy5saW5lV2lkZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKHcpe1xuICAgICAgICAgICAgaWYgKHcgJiYgdy5yb3dDb3VudCAmJiAhdy5oaWRkZW4pXG4gICAgICAgICAgICAgICAgc2NyZWVuUm93cyArPSB3LnJvd0NvdW50O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNjcmVlblJvd3M7XG4gICAgfTsgICAgXG4gICAgXG4gICAgdGhpcy4kb25DaGFuZ2VFZGl0b3IgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoKGUuZWRpdG9yKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuYXR0YWNoID0gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGlmIChlZGl0b3IgICYmIGVkaXRvci53aWRnZXRNYW5hZ2VyICYmIGVkaXRvci53aWRnZXRNYW5hZ2VyICE9IHRoaXMpXG4gICAgICAgICAgICBlZGl0b3Iud2lkZ2V0TWFuYWdlci5kZXRhY2goKTtcblxuICAgICAgICBpZiAodGhpcy5lZGl0b3IgPT0gZWRpdG9yKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVkaXRvcikge1xuICAgICAgICAgICAgZWRpdG9yLndpZGdldE1hbmFnZXIgPSB0aGlzO1xuICAgICAgICAgICAgZWRpdG9yLnJlbmRlcmVyLm9uKFwiYmVmb3JlUmVuZGVyXCIsIHRoaXMubWVhc3VyZVdpZGdldHMpO1xuICAgICAgICAgICAgZWRpdG9yLnJlbmRlcmVyLm9uKFwiYWZ0ZXJSZW5kZXJcIiwgdGhpcy5yZW5kZXJXaWRnZXRzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgaWYgKCFlZGl0b3IpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIFxuICAgICAgICB0aGlzLmVkaXRvciA9IG51bGw7XG4gICAgICAgIGVkaXRvci53aWRnZXRNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIGVkaXRvci5yZW5kZXJlci5vZmYoXCJiZWZvcmVSZW5kZXJcIiwgdGhpcy5tZWFzdXJlV2lkZ2V0cyk7XG4gICAgICAgIGVkaXRvci5yZW5kZXJlci5vZmYoXCJhZnRlclJlbmRlclwiLCB0aGlzLnJlbmRlcldpZGdldHMpO1xuICAgICAgICB2YXIgbGluZVdpZGdldHMgPSB0aGlzLnNlc3Npb24ubGluZVdpZGdldHM7XG4gICAgICAgIGxpbmVXaWRnZXRzICYmIGxpbmVXaWRnZXRzLmZvckVhY2goZnVuY3Rpb24odykge1xuICAgICAgICAgICAgaWYgKHcgJiYgdy5lbCAmJiB3LmVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICB3Ll9pbkRvY3VtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdy5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHcuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVPbkZvbGQgPSBmdW5jdGlvbihlLCBzZXNzaW9uKSB7XG4gICAgICAgIHZhciBsaW5lV2lkZ2V0cyA9IHNlc3Npb24ubGluZVdpZGdldHM7XG4gICAgICAgIGlmICghbGluZVdpZGdldHMgfHwgIWUuYWN0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZm9sZCA9IGUuZGF0YTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gZm9sZC5zdGFydC5yb3c7XG4gICAgICAgIHZhciBlbmQgPSBmb2xkLmVuZC5yb3c7XG4gICAgICAgIHZhciBoaWRlID0gZS5hY3Rpb24gPT0gXCJhZGRcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0ICsgMTsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobGluZVdpZGdldHNbaV0pXG4gICAgICAgICAgICAgICAgbGluZVdpZGdldHNbaV0uaGlkZGVuID0gaGlkZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZVdpZGdldHNbZW5kXSkge1xuICAgICAgICAgICAgaWYgKGhpZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmVXaWRnZXRzW3N0YXJ0XSlcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZGdldHNbc3RhcnRdID0gbGluZVdpZGdldHNbZW5kXTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWRnZXRzW2VuZF0uaGlkZGVuID0gaGlkZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVXaWRnZXRzW3N0YXJ0XSA9PSBsaW5lV2lkZ2V0c1tlbmRdKVxuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkZ2V0c1tzdGFydF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbGluZVdpZGdldHNbZW5kXS5oaWRkZW4gPSBoaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnVwZGF0ZU9uQ2hhbmdlID0gZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgdmFyIGxpbmVXaWRnZXRzID0gdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzO1xuICAgICAgICBpZiAoIWxpbmVXaWRnZXRzKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICB2YXIgc3RhcnRSb3cgPSBkZWx0YS5zdGFydC5yb3c7XG4gICAgICAgIHZhciBsZW4gPSBkZWx0YS5lbmQucm93IC0gc3RhcnRSb3c7XG5cbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICB9IGVsc2UgaWYgKGRlbHRhLmFjdGlvbiA9PSAncmVtb3ZlJykge1xuICAgICAgICAgICAgdmFyIHJlbW92ZWQgPSBsaW5lV2lkZ2V0cy5zcGxpY2Uoc3RhcnRSb3cgKyAxLCBsZW4pO1xuICAgICAgICAgICAgcmVtb3ZlZC5mb3JFYWNoKGZ1bmN0aW9uKHcpIHtcbiAgICAgICAgICAgICAgICB3ICYmIHRoaXMucmVtb3ZlTGluZVdpZGdldCh3KTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy4kdXBkYXRlUm93cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgICAgIGFyZ3MudW5zaGlmdChzdGFydFJvdywgMCk7XG4gICAgICAgICAgICBsaW5lV2lkZ2V0cy5zcGxpY2UuYXBwbHkobGluZVdpZGdldHMsIGFyZ3MpO1xuICAgICAgICAgICAgdGhpcy4kdXBkYXRlUm93cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiR1cGRhdGVSb3dzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsaW5lV2lkZ2V0cyA9IHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cztcbiAgICAgICAgaWYgKCFsaW5lV2lkZ2V0cykgcmV0dXJuO1xuICAgICAgICB2YXIgbm9XaWRnZXRzID0gdHJ1ZTtcbiAgICAgICAgbGluZVdpZGdldHMuZm9yRWFjaChmdW5jdGlvbih3LCBpKSB7XG4gICAgICAgICAgICBpZiAodykge1xuICAgICAgICAgICAgICAgIG5vV2lkZ2V0cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHcucm93ID0gaTtcbiAgICAgICAgICAgICAgICB3aGlsZSAody4kb2xkV2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHcuJG9sZFdpZGdldC5yb3cgPSBpO1xuICAgICAgICAgICAgICAgICAgICB3ID0gdy4kb2xkV2lkZ2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChub1dpZGdldHMpXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ubGluZVdpZGdldHMgPSBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZExpbmVXaWRnZXQgPSBmdW5jdGlvbih3KSB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzKVxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzID0gbmV3IEFycmF5KHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgb2xkID0gdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzW3cucm93XTtcbiAgICAgICAgaWYgKG9sZCkge1xuICAgICAgICAgICAgdy4kb2xkV2lkZ2V0ID0gb2xkO1xuICAgICAgICAgICAgaWYgKG9sZC5lbCAmJiBvbGQuZWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIG9sZC5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9sZC5lbCk7XG4gICAgICAgICAgICAgICAgb2xkLl9pbkRvY3VtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB0aGlzLnNlc3Npb24ubGluZVdpZGdldHNbdy5yb3ddID0gdztcbiAgICAgICAgXG4gICAgICAgIHcuc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgXG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMuZWRpdG9yLnJlbmRlcmVyO1xuICAgICAgICBpZiAody5odG1sICYmICF3LmVsKSB7XG4gICAgICAgICAgICB3LmVsID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB3LmVsLmlubmVySFRNTCA9IHcuaHRtbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAody5lbCkge1xuICAgICAgICAgICAgZG9tLmFkZENzc0NsYXNzKHcuZWwsIFwiYWNlX2xpbmVXaWRnZXRDb250YWluZXJcIik7XG4gICAgICAgICAgICB3LmVsLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgdy5lbC5zdHlsZS56SW5kZXggPSA1O1xuICAgICAgICAgICAgcmVuZGVyZXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHcuZWwpO1xuICAgICAgICAgICAgdy5faW5Eb2N1bWVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICghdy5jb3Zlckd1dHRlcikge1xuICAgICAgICAgICAgdy5lbC5zdHlsZS56SW5kZXggPSAzO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdy5waXhlbEhlaWdodCkge1xuICAgICAgICAgICAgdy5waXhlbEhlaWdodCA9IHcuZWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh3LnJvd0NvdW50ID09IG51bGwpIHtcbiAgICAgICAgICAgIHcucm93Q291bnQgPSB3LnBpeGVsSGVpZ2h0IC8gcmVuZGVyZXIubGF5ZXJDb25maWcubGluZUhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdmFyIGZvbGQgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KHcucm93LCAwKTtcbiAgICAgICAgdy4kZm9sZCA9IGZvbGQ7XG4gICAgICAgIGlmIChmb2xkKSB7XG4gICAgICAgICAgICB2YXIgbGluZVdpZGdldHMgPSB0aGlzLnNlc3Npb24ubGluZVdpZGdldHM7XG4gICAgICAgICAgICBpZiAody5yb3cgPT0gZm9sZC5lbmQucm93ICYmICFsaW5lV2lkZ2V0c1tmb2xkLnN0YXJ0LnJvd10pXG4gICAgICAgICAgICAgICAgbGluZVdpZGdldHNbZm9sZC5zdGFydC5yb3ddID0gdztcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB3LmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB0aGlzLnNlc3Npb24uX2VtaXQoXCJjaGFuZ2VGb2xkXCIsIHtkYXRhOntzdGFydDp7cm93OiB3LnJvd319fSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLiR1cGRhdGVSb3dzKCk7XG4gICAgICAgIHRoaXMucmVuZGVyV2lkZ2V0cyhudWxsLCByZW5kZXJlcik7XG4gICAgICAgIHRoaXMub25XaWRnZXRDaGFuZ2VkKHcpO1xuICAgICAgICByZXR1cm4gdztcbiAgICB9O1xuICAgIFxuICAgIHRoaXMucmVtb3ZlTGluZVdpZGdldCA9IGZ1bmN0aW9uKHcpIHtcbiAgICAgICAgdy5faW5Eb2N1bWVudCA9IGZhbHNlO1xuICAgICAgICB3LnNlc3Npb24gPSBudWxsO1xuICAgICAgICBpZiAody5lbCAmJiB3LmVsLnBhcmVudE5vZGUpXG4gICAgICAgICAgICB3LmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQody5lbCk7XG4gICAgICAgIGlmICh3LmVkaXRvciAmJiB3LmVkaXRvci5kZXN0cm95KSB0cnkge1xuICAgICAgICAgICAgdy5lZGl0b3IuZGVzdHJveSgpO1xuICAgICAgICB9IGNhdGNoKGUpe31cbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cykge1xuICAgICAgICAgICAgdmFyIHcxID0gdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzW3cucm93XVxuICAgICAgICAgICAgaWYgKHcxID09IHcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24ubGluZVdpZGdldHNbdy5yb3ddID0gdy4kb2xkV2lkZ2V0O1xuICAgICAgICAgICAgICAgIGlmICh3LiRvbGRXaWRnZXQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25XaWRnZXRDaGFuZ2VkKHcuJG9sZFdpZGdldCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlICh3MSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodzEuJG9sZFdpZGdldCA9PSB3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3MS4kb2xkV2lkZ2V0ID0gdy4kb2xkV2lkZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdzEgPSB3MS4kb2xkV2lkZ2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlc3Npb24uX2VtaXQoXCJjaGFuZ2VGb2xkXCIsIHtkYXRhOntzdGFydDp7cm93OiB3LnJvd319fSk7XG4gICAgICAgIHRoaXMuJHVwZGF0ZVJvd3MoKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0V2lkZ2V0c0F0Um93ID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHZhciBsaW5lV2lkZ2V0cyA9IHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cztcbiAgICAgICAgdmFyIHcgPSBsaW5lV2lkZ2V0cyAmJiBsaW5lV2lkZ2V0c1tyb3ddO1xuICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICB3aGlsZSAodykge1xuICAgICAgICAgICAgbGlzdC5wdXNoKHcpO1xuICAgICAgICAgICAgdyA9IHcuJG9sZFdpZGdldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMub25XaWRnZXRDaGFuZ2VkID0gZnVuY3Rpb24odykge1xuICAgICAgICB0aGlzLnNlc3Npb24uX2NoYW5nZWRXaWRnZXRzLnB1c2godyk7XG4gICAgICAgIHRoaXMuZWRpdG9yICYmIHRoaXMuZWRpdG9yLnJlbmRlcmVyLnVwZGF0ZUZ1bGwoKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMubWVhc3VyZVdpZGdldHMgPSBmdW5jdGlvbihlLCByZW5kZXJlcikge1xuICAgICAgICB2YXIgY2hhbmdlZFdpZGdldHMgPSB0aGlzLnNlc3Npb24uX2NoYW5nZWRXaWRnZXRzO1xuICAgICAgICB2YXIgY29uZmlnID0gcmVuZGVyZXIubGF5ZXJDb25maWc7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWNoYW5nZWRXaWRnZXRzIHx8ICFjaGFuZ2VkV2lkZ2V0cy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgdmFyIG1pbiA9IEluZmluaXR5O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZWRXaWRnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdyA9IGNoYW5nZWRXaWRnZXRzW2ldO1xuICAgICAgICAgICAgaWYgKCF3IHx8ICF3LmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICh3LnNlc3Npb24gIT0gdGhpcy5zZXNzaW9uKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghdy5faW5Eb2N1bWVudCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb24ubGluZVdpZGdldHNbdy5yb3ddICE9IHcpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHcuX2luRG9jdW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh3LmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdy5oID0gdy5lbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghdy5maXhlZFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdy53ID0gdy5lbC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICB3LnNjcmVlbldpZHRoID0gTWF0aC5jZWlsKHcudyAvIGNvbmZpZy5jaGFyYWN0ZXJXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciByb3dDb3VudCA9IHcuaCAvIGNvbmZpZy5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgaWYgKHcuY292ZXJMaW5lKSB7XG4gICAgICAgICAgICAgICAgcm93Q291bnQgLT0gdGhpcy5zZXNzaW9uLmdldFJvd0xpbmVDb3VudCh3LnJvdyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvd0NvdW50IDwgMClcbiAgICAgICAgICAgICAgICAgICAgcm93Q291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHcucm93Q291bnQgIT0gcm93Q291bnQpIHtcbiAgICAgICAgICAgICAgICB3LnJvd0NvdW50ID0gcm93Q291bnQ7XG4gICAgICAgICAgICAgICAgaWYgKHcucm93IDwgbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSB3LnJvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWluICE9IEluZmluaXR5KSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uX2VtaXQoXCJjaGFuZ2VGb2xkXCIsIHtkYXRhOntzdGFydDp7cm93OiBtaW59fX0pO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRXaWR0aCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXNzaW9uLl9jaGFuZ2VkV2lkZ2V0cyA9IFtdO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5yZW5kZXJXaWRnZXRzID0gZnVuY3Rpb24oZSwgcmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHJlbmRlcmVyLmxheWVyQ29uZmlnO1xuICAgICAgICB2YXIgbGluZVdpZGdldHMgPSB0aGlzLnNlc3Npb24ubGluZVdpZGdldHM7XG4gICAgICAgIGlmICghbGluZVdpZGdldHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBmaXJzdCA9IE1hdGgubWluKHRoaXMuZmlyc3RSb3csIGNvbmZpZy5maXJzdFJvdyk7XG4gICAgICAgIHZhciBsYXN0ID0gTWF0aC5tYXgodGhpcy5sYXN0Um93LCBjb25maWcubGFzdFJvdywgbGluZVdpZGdldHMubGVuZ3RoKTtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlIChmaXJzdCA+IDAgJiYgIWxpbmVXaWRnZXRzW2ZpcnN0XSlcbiAgICAgICAgICAgIGZpcnN0LS07XG4gICAgICAgIFxuICAgICAgICB0aGlzLmZpcnN0Um93ID0gY29uZmlnLmZpcnN0Um93O1xuICAgICAgICB0aGlzLmxhc3RSb3cgPSBjb25maWcubGFzdFJvdztcblxuICAgICAgICByZW5kZXJlci4kY3Vyc29yTGF5ZXIuY29uZmlnID0gY29uZmlnO1xuICAgICAgICBmb3IgKHZhciBpID0gZmlyc3Q7IGkgPD0gbGFzdDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdyA9IGxpbmVXaWRnZXRzW2ldO1xuICAgICAgICAgICAgaWYgKCF3IHx8ICF3LmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICh3LmhpZGRlbikge1xuICAgICAgICAgICAgICAgIHcuZWwuc3R5bGUudG9wID0gLTEwMCAtICh3LnBpeGVsSGVpZ2h0IHx8IDApICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF3Ll9pbkRvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgdy5faW5Eb2N1bWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHcuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRvcCA9IHJlbmRlcmVyLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKHtyb3c6IGksIGNvbHVtbjowfSwgdHJ1ZSkudG9wO1xuICAgICAgICAgICAgaWYgKCF3LmNvdmVyTGluZSlcbiAgICAgICAgICAgICAgICB0b3AgKz0gY29uZmlnLmxpbmVIZWlnaHQgKiB0aGlzLnNlc3Npb24uZ2V0Um93TGluZUNvdW50KHcucm93KTtcbiAgICAgICAgICAgIHcuZWwuc3R5bGUudG9wID0gdG9wIC0gY29uZmlnLm9mZnNldCArIFwicHhcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGxlZnQgPSB3LmNvdmVyR3V0dGVyID8gMCA6IHJlbmRlcmVyLmd1dHRlcldpZHRoO1xuICAgICAgICAgICAgaWYgKCF3LmZpeGVkV2lkdGgpXG4gICAgICAgICAgICAgICAgbGVmdCAtPSByZW5kZXJlci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgdy5lbC5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHcuZnVsbFdpZHRoICYmIHcuc2NyZWVuV2lkdGgpIHtcbiAgICAgICAgICAgICAgICB3LmVsLnN0eWxlLm1pbldpZHRoID0gY29uZmlnLndpZHRoICsgMiAqIGNvbmZpZy5wYWRkaW5nICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAody5maXhlZFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdy5lbC5zdHlsZS5yaWdodCA9IHJlbmRlcmVyLnNjcm9sbEJhci5nZXRXaWR0aCgpICsgXCJweFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3LmVsLnN0eWxlLnJpZ2h0ID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgXG59KS5jYWxsKExpbmVXaWRnZXRzLnByb3RvdHlwZSk7XG5cblxuZXhwb3J0cy5MaW5lV2lkZ2V0cyA9IExpbmVXaWRnZXRzO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9leHQvZXJyb3JfbWFya2VyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGluZV93aWRnZXRzXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBMaW5lV2lkZ2V0cyA9IGFjZXF1aXJlKFwiLi4vbGluZV93aWRnZXRzXCIpLkxpbmVXaWRnZXRzO1xudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vcmFuZ2VcIikuUmFuZ2U7XG5cbmZ1bmN0aW9uIGJpbmFyeVNlYXJjaChhcnJheSwgbmVlZGxlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGZpcnN0ID0gMDtcbiAgICB2YXIgbGFzdCA9IGFycmF5Lmxlbmd0aCAtIDE7XG5cbiAgICB3aGlsZSAoZmlyc3QgPD0gbGFzdCkge1xuICAgICAgICB2YXIgbWlkID0gKGZpcnN0ICsgbGFzdCkgPj4gMTtcbiAgICAgICAgdmFyIGMgPSBjb21wYXJhdG9yKG5lZWRsZSwgYXJyYXlbbWlkXSk7XG4gICAgICAgIGlmIChjID4gMClcbiAgICAgICAgICAgIGZpcnN0ID0gbWlkICsgMTtcbiAgICAgICAgZWxzZSBpZiAoYyA8IDApXG4gICAgICAgICAgICBsYXN0ID0gbWlkIC0gMTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG1pZDtcbiAgICB9XG4gICAgcmV0dXJuIC0oZmlyc3QgKyAxKTtcbn1cblxuZnVuY3Rpb24gZmluZEFubm90YXRpb25zKHNlc3Npb24sIHJvdywgZGlyKSB7XG4gICAgdmFyIGFubm90YXRpb25zID0gc2Vzc2lvbi5nZXRBbm5vdGF0aW9ucygpLnNvcnQoUmFuZ2UuY29tcGFyZVBvaW50cyk7XG4gICAgaWYgKCFhbm5vdGF0aW9ucy5sZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICBcbiAgICB2YXIgaSA9IGJpbmFyeVNlYXJjaChhbm5vdGF0aW9ucywge3Jvdzogcm93LCBjb2x1bW46IC0xfSwgUmFuZ2UuY29tcGFyZVBvaW50cyk7XG4gICAgaWYgKGkgPCAwKVxuICAgICAgICBpID0gLWkgLSAxO1xuICAgIFxuICAgIGlmIChpID49IGFubm90YXRpb25zLmxlbmd0aClcbiAgICAgICAgaSA9IGRpciA+IDAgPyAwIDogYW5ub3RhdGlvbnMubGVuZ3RoIC0gMTtcbiAgICBlbHNlIGlmIChpID09PSAwICYmIGRpciA8IDApXG4gICAgICAgIGkgPSBhbm5vdGF0aW9ucy5sZW5ndGggLSAxO1xuICAgIFxuICAgIHZhciBhbm5vdGF0aW9uID0gYW5ub3RhdGlvbnNbaV07XG4gICAgaWYgKCFhbm5vdGF0aW9uIHx8ICFkaXIpXG4gICAgICAgIHJldHVybjtcblxuICAgIGlmIChhbm5vdGF0aW9uLnJvdyA9PT0gcm93KSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGFubm90YXRpb24gPSBhbm5vdGF0aW9uc1tpICs9IGRpcl07XG4gICAgICAgIH0gd2hpbGUgKGFubm90YXRpb24gJiYgYW5ub3RhdGlvbi5yb3cgPT09IHJvdyk7XG4gICAgICAgIGlmICghYW5ub3RhdGlvbilcbiAgICAgICAgICAgIHJldHVybiBhbm5vdGF0aW9ucy5zbGljZSgpO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICB2YXIgbWF0Y2hlZCA9IFtdO1xuICAgIHJvdyA9IGFubm90YXRpb24ucm93O1xuICAgIGRvIHtcbiAgICAgICAgbWF0Y2hlZFtkaXIgPCAwID8gXCJ1bnNoaWZ0XCIgOiBcInB1c2hcIl0oYW5ub3RhdGlvbik7XG4gICAgICAgIGFubm90YXRpb24gPSBhbm5vdGF0aW9uc1tpICs9IGRpcl07XG4gICAgfSB3aGlsZSAoYW5ub3RhdGlvbiAmJiBhbm5vdGF0aW9uLnJvdyA9PSByb3cpO1xuICAgIHJldHVybiBtYXRjaGVkLmxlbmd0aCAmJiBtYXRjaGVkO1xufVxuXG5leHBvcnRzLnNob3dFcnJvck1hcmtlciA9IGZ1bmN0aW9uKGVkaXRvciwgZGlyKSB7XG4gICAgdmFyIHNlc3Npb24gPSBlZGl0b3Iuc2Vzc2lvbjtcbiAgICBpZiAoIXNlc3Npb24ud2lkZ2V0TWFuYWdlcikge1xuICAgICAgICBzZXNzaW9uLndpZGdldE1hbmFnZXIgPSBuZXcgTGluZVdpZGdldHMoc2Vzc2lvbik7XG4gICAgICAgIHNlc3Npb24ud2lkZ2V0TWFuYWdlci5hdHRhY2goZWRpdG9yKTtcbiAgICB9XG4gICAgXG4gICAgdmFyIHBvcyA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgIHZhciByb3cgPSBwb3Mucm93O1xuICAgIHZhciBvbGRXaWRnZXQgPSBzZXNzaW9uLndpZGdldE1hbmFnZXIuZ2V0V2lkZ2V0c0F0Um93KHJvdykuZmlsdGVyKGZ1bmN0aW9uKHcpIHtcbiAgICAgICAgcmV0dXJuIHcudHlwZSA9PSBcImVycm9yTWFya2VyXCI7XG4gICAgfSlbMF07XG4gICAgaWYgKG9sZFdpZGdldCkge1xuICAgICAgICBvbGRXaWRnZXQuZGVzdHJveSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvdyAtPSBkaXI7XG4gICAgfVxuICAgIHZhciBhbm5vdGF0aW9ucyA9IGZpbmRBbm5vdGF0aW9ucyhzZXNzaW9uLCByb3csIGRpcik7XG4gICAgdmFyIGd1dHRlckFubm87XG4gICAgaWYgKGFubm90YXRpb25zKSB7XG4gICAgICAgIHZhciBhbm5vdGF0aW9uID0gYW5ub3RhdGlvbnNbMF07XG4gICAgICAgIHBvcy5jb2x1bW4gPSAoYW5ub3RhdGlvbi5wb3MgJiYgdHlwZW9mIGFubm90YXRpb24uY29sdW1uICE9IFwibnVtYmVyXCJcbiAgICAgICAgICAgID8gYW5ub3RhdGlvbi5wb3Muc2NcbiAgICAgICAgICAgIDogYW5ub3RhdGlvbi5jb2x1bW4pIHx8IDA7XG4gICAgICAgIHBvcy5yb3cgPSBhbm5vdGF0aW9uLnJvdztcbiAgICAgICAgZ3V0dGVyQW5ubyA9IGVkaXRvci5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuJGFubm90YXRpb25zW3Bvcy5yb3ddO1xuICAgIH0gZWxzZSBpZiAob2xkV2lkZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBndXR0ZXJBbm5vID0ge1xuICAgICAgICAgICAgdGV4dDogW1wiTG9va3MgZ29vZCFcIl0sXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiYWNlX29rXCJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWRpdG9yLnNlc3Npb24udW5mb2xkKHBvcy5yb3cpO1xuICAgIGVkaXRvci5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24ocG9zKTtcbiAgICBcbiAgICB2YXIgdyA9IHtcbiAgICAgICAgcm93OiBwb3Mucm93LCBcbiAgICAgICAgZml4ZWRXaWR0aDogdHJ1ZSxcbiAgICAgICAgY292ZXJHdXR0ZXI6IHRydWUsXG4gICAgICAgIGVsOiBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgdHlwZTogXCJlcnJvck1hcmtlclwiXG4gICAgfTtcbiAgICB2YXIgZWwgPSB3LmVsLmFwcGVuZENoaWxkKGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICB2YXIgYXJyb3cgPSB3LmVsLmFwcGVuZENoaWxkKGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICBhcnJvdy5jbGFzc05hbWUgPSBcImVycm9yX3dpZGdldF9hcnJvdyBcIiArIGd1dHRlckFubm8uY2xhc3NOYW1lO1xuICAgIFxuICAgIHZhciBsZWZ0ID0gZWRpdG9yLnJlbmRlcmVyLiRjdXJzb3JMYXllclxuICAgICAgICAuZ2V0UGl4ZWxQb3NpdGlvbihwb3MpLmxlZnQ7XG4gICAgYXJyb3cuc3R5bGUubGVmdCA9IGxlZnQgKyBlZGl0b3IucmVuZGVyZXIuZ3V0dGVyV2lkdGggLSA1ICsgXCJweFwiO1xuICAgIFxuICAgIHcuZWwuY2xhc3NOYW1lID0gXCJlcnJvcl93aWRnZXRfd3JhcHBlclwiO1xuICAgIGVsLmNsYXNzTmFtZSA9IFwiZXJyb3Jfd2lkZ2V0IFwiICsgZ3V0dGVyQW5uby5jbGFzc05hbWU7XG4gICAgZWwuaW5uZXJIVE1MID0gZ3V0dGVyQW5uby50ZXh0LmpvaW4oXCI8YnI+XCIpO1xuICAgIFxuICAgIGVsLmFwcGVuZENoaWxkKGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICBcbiAgICB2YXIga2IgPSBmdW5jdGlvbihfLCBoYXNoSWQsIGtleVN0cmluZykge1xuICAgICAgICBpZiAoaGFzaElkID09PSAwICYmIChrZXlTdHJpbmcgPT09IFwiZXNjXCIgfHwga2V5U3RyaW5nID09PSBcInJldHVyblwiKSkge1xuICAgICAgICAgICAgdy5kZXN0cm95KCk7XG4gICAgICAgICAgICByZXR1cm4ge2NvbW1hbmQ6IFwibnVsbFwifTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChlZGl0b3IuJG1vdXNlSGFuZGxlci5pc01vdXNlUHJlc3NlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZWRpdG9yLmtleUJpbmRpbmcucmVtb3ZlS2V5Ym9hcmRIYW5kbGVyKGtiKTtcbiAgICAgICAgc2Vzc2lvbi53aWRnZXRNYW5hZ2VyLnJlbW92ZUxpbmVXaWRnZXQodyk7XG4gICAgICAgIGVkaXRvci5vZmYoXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdy5kZXN0cm95KTtcbiAgICAgICAgZWRpdG9yLm9mZihcImNoYW5nZVNlc3Npb25cIiwgdy5kZXN0cm95KTtcbiAgICAgICAgZWRpdG9yLm9mZihcIm1vdXNldXBcIiwgdy5kZXN0cm95KTtcbiAgICAgICAgZWRpdG9yLm9mZihcImNoYW5nZVwiLCB3LmRlc3Ryb3kpO1xuICAgIH07XG4gICAgXG4gICAgZWRpdG9yLmtleUJpbmRpbmcuYWRkS2V5Ym9hcmRIYW5kbGVyKGtiKTtcbiAgICBlZGl0b3Iub24oXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdy5kZXN0cm95KTtcbiAgICBlZGl0b3Iub24oXCJjaGFuZ2VTZXNzaW9uXCIsIHcuZGVzdHJveSk7XG4gICAgZWRpdG9yLm9uKFwibW91c2V1cFwiLCB3LmRlc3Ryb3kpO1xuICAgIGVkaXRvci5vbihcImNoYW5nZVwiLCB3LmRlc3Ryb3kpO1xuICAgIFxuICAgIGVkaXRvci5zZXNzaW9uLndpZGdldE1hbmFnZXIuYWRkTGluZVdpZGdldCh3KTtcbiAgICBcbiAgICB3LmVsLm9ubW91c2Vkb3duID0gZWRpdG9yLmZvY3VzLmJpbmQoZWRpdG9yKTtcbiAgICBcbiAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcobnVsbCwgMC41LCB7Ym90dG9tOiB3LmVsLm9mZnNldEhlaWdodH0pO1xufTtcblxuXG5kb20uaW1wb3J0Q3NzU3RyaW5nKFwiXFxcbiAgICAuZXJyb3Jfd2lkZ2V0X3dyYXBwZXIge1xcXG4gICAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XFxcbiAgICAgICAgY29sb3I6IGluaGVyaXQ7XFxcbiAgICAgICAgYm9yZGVyOm5vbmVcXFxuICAgIH1cXFxuICAgIC5lcnJvcl93aWRnZXQge1xcXG4gICAgICAgIGJvcmRlci10b3A6IHNvbGlkIDJweDtcXFxuICAgICAgICBib3JkZXItYm90dG9tOiBzb2xpZCAycHg7XFxcbiAgICAgICAgbWFyZ2luOiA1cHggMDtcXFxuICAgICAgICBwYWRkaW5nOiAxMHB4IDQwcHg7XFxcbiAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcXG4gICAgfVxcXG4gICAgLmVycm9yX3dpZGdldC5hY2VfZXJyb3IsIC5lcnJvcl93aWRnZXRfYXJyb3cuYWNlX2Vycm9ye1xcXG4gICAgICAgIGJvcmRlci1jb2xvcjogI2ZmNWE1YVxcXG4gICAgfVxcXG4gICAgLmVycm9yX3dpZGdldC5hY2Vfd2FybmluZywgLmVycm9yX3dpZGdldF9hcnJvdy5hY2Vfd2FybmluZ3tcXFxuICAgICAgICBib3JkZXItY29sb3I6ICNGMUQ4MTdcXFxuICAgIH1cXFxuICAgIC5lcnJvcl93aWRnZXQuYWNlX2luZm8sIC5lcnJvcl93aWRnZXRfYXJyb3cuYWNlX2luZm97XFxcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjNWE1YTVhXFxcbiAgICB9XFxcbiAgICAuZXJyb3Jfd2lkZ2V0LmFjZV9vaywgLmVycm9yX3dpZGdldF9hcnJvdy5hY2Vfb2t7XFxcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjNWFhYTVhXFxcbiAgICB9XFxcbiAgICAuZXJyb3Jfd2lkZ2V0X2Fycm93IHtcXFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxcbiAgICAgICAgYm9yZGVyOiBzb2xpZCA1cHg7XFxcbiAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQhaW1wb3J0YW50O1xcXG4gICAgICAgIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQhaW1wb3J0YW50O1xcXG4gICAgICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7XFxcbiAgICAgICAgdG9wOiAtNXB4O1xcXG4gICAgfVxcXG5cIiwgXCJcIik7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2FjZVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9maXhvbGRicm93c2Vyc1wiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9lZGl0b3JcIixcImFjZS9lZGl0X3Nlc3Npb25cIixcImFjZS91bmRvbWFuYWdlclwiLFwiYWNlL3ZpcnR1YWxfcmVuZGVyZXJcIixcImFjZS93b3JrZXIvd29ya2VyX2NsaWVudFwiLFwiYWNlL2tleWJvYXJkL2hhc2hfaGFuZGxlclwiLFwiYWNlL3BsYWNlaG9sZGVyXCIsXCJhY2UvbXVsdGlfc2VsZWN0XCIsXCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZVwiLFwiYWNlL3RoZW1lL3RleHRtYXRlXCIsXCJhY2UvZXh0L2Vycm9yX21hcmtlclwiLFwiYWNlL2NvbmZpZ1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFjZXF1aXJlKFwiLi9saWIvZml4b2xkYnJvd3NlcnNcIik7XG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4vbGliL2RvbVwiKTtcbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi9saWIvZXZlbnRcIik7XG5cbnZhciBFZGl0b3IgPSBhY2VxdWlyZShcIi4vZWRpdG9yXCIpLkVkaXRvcjtcbnZhciBFZGl0U2Vzc2lvbiA9IGFjZXF1aXJlKFwiLi9lZGl0X3Nlc3Npb25cIikuRWRpdFNlc3Npb247XG52YXIgVW5kb01hbmFnZXIgPSBhY2VxdWlyZShcIi4vdW5kb21hbmFnZXJcIikuVW5kb01hbmFnZXI7XG52YXIgUmVuZGVyZXIgPSBhY2VxdWlyZShcIi4vdmlydHVhbF9yZW5kZXJlclwiKS5WaXJ0dWFsUmVuZGVyZXI7XG5hY2VxdWlyZShcIi4vd29ya2VyL3dvcmtlcl9jbGllbnRcIik7XG5hY2VxdWlyZShcIi4va2V5Ym9hcmQvaGFzaF9oYW5kbGVyXCIpO1xuYWNlcXVpcmUoXCIuL3BsYWNlaG9sZGVyXCIpO1xuYWNlcXVpcmUoXCIuL211bHRpX3NlbGVjdFwiKTtcbmFjZXF1aXJlKFwiLi9tb2RlL2ZvbGRpbmcvZm9sZF9tb2RlXCIpO1xuYWNlcXVpcmUoXCIuL3RoZW1lL3RleHRtYXRlXCIpO1xuYWNlcXVpcmUoXCIuL2V4dC9lcnJvcl9tYXJrZXJcIik7XG5cbmV4cG9ydHMuY29uZmlnID0gYWNlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcbmV4cG9ydHMuYWNlcXVpcmUgPSBhY2VxdWlyZTtcbmV4cG9ydHMuZWRpdCA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgaWYgKHR5cGVvZiBlbCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHZhciBfaWQgPSBlbDtcbiAgICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChfaWQpO1xuICAgICAgICBpZiAoIWVsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYWNlLmVkaXQgY2FuJ3QgZmluZCBkaXYgI1wiICsgX2lkKTtcbiAgICB9XG5cbiAgICBpZiAoZWwgJiYgZWwuZW52ICYmIGVsLmVudi5lZGl0b3IgaW5zdGFuY2VvZiBFZGl0b3IpXG4gICAgICAgIHJldHVybiBlbC5lbnYuZWRpdG9yO1xuXG4gICAgdmFyIHZhbHVlID0gXCJcIjtcbiAgICBpZiAoZWwgJiYgL2lucHV0fHRleHRhcmVhL2kudGVzdChlbC50YWdOYW1lKSkge1xuICAgICAgICB2YXIgb2xkTm9kZSA9IGVsO1xuICAgICAgICB2YWx1ZSA9IG9sZE5vZGUudmFsdWU7XG4gICAgICAgIGVsID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XG4gICAgICAgIG9sZE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZWwsIG9sZE5vZGUpO1xuICAgIH0gZWxzZSBpZiAoZWwpIHtcbiAgICAgICAgdmFsdWUgPSBkb20uZ2V0SW5uZXJUZXh0KGVsKTtcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gXCJcIjtcbiAgICB9XG5cbiAgICB2YXIgZG9jID0gZXhwb3J0cy5jcmVhdGVFZGl0U2Vzc2lvbih2YWx1ZSk7XG5cbiAgICB2YXIgZWRpdG9yID0gbmV3IEVkaXRvcihuZXcgUmVuZGVyZXIoZWwpKTtcbiAgICBlZGl0b3Iuc2V0U2Vzc2lvbihkb2MpO1xuXG4gICAgdmFyIGVudiA9IHtcbiAgICAgICAgZG9jdW1lbnQ6IGRvYyxcbiAgICAgICAgZWRpdG9yOiBlZGl0b3IsXG4gICAgICAgIG9uUmVzaXplOiBlZGl0b3IucmVzaXplLmJpbmQoZWRpdG9yLCBudWxsKVxuICAgIH07XG4gICAgaWYgKG9sZE5vZGUpIGVudi50ZXh0YXJlYSA9IG9sZE5vZGU7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCBcInJlc2l6ZVwiLCBlbnYub25SZXNpemUpO1xuICAgIGVkaXRvci5vbihcImRlc3Ryb3lcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV2ZW50LnJlbW92ZUxpc3RlbmVyKHdpbmRvdywgXCJyZXNpemVcIiwgZW52Lm9uUmVzaXplKTtcbiAgICAgICAgZW52LmVkaXRvci5jb250YWluZXIuZW52ID0gbnVsbDsgLy8gcHJldmVudCBtZW1vcnkgbGVhayBvbiBvbGQgaWVcbiAgICB9KTtcbiAgICBlZGl0b3IuY29udGFpbmVyLmVudiA9IGVkaXRvci5lbnYgPSBlbnY7XG4gICAgcmV0dXJuIGVkaXRvcjtcbn07XG5leHBvcnRzLmNyZWF0ZUVkaXRTZXNzaW9uID0gZnVuY3Rpb24odGV4dCwgbW9kZSkge1xuICAgIHZhciBkb2MgPSBuZXcgRWRpdFNlc3Npb24odGV4dCwgbW9kZSk7XG4gICAgZG9jLnNldFVuZG9NYW5hZ2VyKG5ldyBVbmRvTWFuYWdlcigpKTtcbiAgICByZXR1cm4gZG9jO1xufVxuZXhwb3J0cy5FZGl0U2Vzc2lvbiA9IEVkaXRTZXNzaW9uO1xuZXhwb3J0cy5VbmRvTWFuYWdlciA9IFVuZG9NYW5hZ2VyO1xuZXhwb3J0cy52ZXJzaW9uID0gXCIxLjIuM1wiO1xufSk7XG4gICAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWNlLmFjZXF1aXJlKFtcImFjZS9hY2VcIl0sIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYSAmJiBhLmNvbmZpZy5pbml0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5hY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWNlID0gYTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGEpIGlmIChhLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWNlW2tleV0gPSBhW2tleV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICBcbm1vZHVsZS5leHBvcnRzID0gd2luZG93LmFjZS5hY2VxdWlyZShcImFjZS9hY2VcIik7XG59KS5jYWxsKHRoaXMscmVxdWlyZShcInBCR3ZBcFwiKSx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiLy4uL25vZGVfbW9kdWxlcy9icmFjZS9pbmRleC5qc1wiLFwiLy4uL25vZGVfbW9kdWxlcy9icmFjZVwiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9kb2NfY29tbWVudF9oaWdobGlnaHRfcnVsZXNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gYWNlcXVpcmUoXCIuL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCIpLlRleHRIaWdobGlnaHRSdWxlcztcblxudmFyIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJHJ1bGVzID0ge1xuICAgICAgICBcInN0YXJ0XCIgOiBbIHtcbiAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50LmRvYy50YWdcIixcbiAgICAgICAgICAgIHJlZ2V4IDogXCJAW1xcXFx3XFxcXGRfXStcIiAvLyBUT0RPOiBmaXggZW1haWwgYWRkcmVzc2VzXG4gICAgICAgIH0sIFxuICAgICAgICBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0VGFnUnVsZSgpLFxuICAgICAgICB7XG4gICAgICAgICAgICBkZWZhdWx0VG9rZW4gOiBcImNvbW1lbnQuZG9jXCIsXG4gICAgICAgICAgICBjYXNlSW5zZW5zaXRpdmU6IHRydWVcbiAgICAgICAgfV1cbiAgICB9O1xufTtcblxub29wLmluaGVyaXRzKERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTtcblxuRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLmdldFRhZ1J1bGUgPSBmdW5jdGlvbihzdGFydCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRva2VuIDogXCJjb21tZW50LmRvYy50YWcuc3RvcmFnZS50eXBlXCIsXG4gICAgICAgIHJlZ2V4IDogXCJcXFxcYig/OlRPRE98RklYTUV8WFhYfEhBQ0spXFxcXGJcIlxuICAgIH07XG59XG5cbkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRTdGFydFJ1bGUgPSBmdW5jdGlvbihzdGFydCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRva2VuIDogXCJjb21tZW50LmRvY1wiLCAvLyBkb2MgY29tbWVudFxuICAgICAgICByZWdleCA6IFwiXFxcXC9cXFxcKig/PVxcXFwqKVwiLFxuICAgICAgICBuZXh0ICA6IHN0YXJ0XG4gICAgfTtcbn07XG5cbkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRFbmRSdWxlID0gZnVuY3Rpb24gKHN0YXJ0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW4gOiBcImNvbW1lbnQuZG9jXCIsIC8vIGNsb3NpbmcgY29tbWVudFxuICAgICAgICByZWdleCA6IFwiXFxcXCpcXFxcL1wiLFxuICAgICAgICBuZXh0ICA6IHN0YXJ0XG4gICAgfTtcbn07XG5cblxuZXhwb3J0cy5Eb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMgPSBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXM7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvamF2YXNjcmlwdF9oaWdobGlnaHRfcnVsZXNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS9kb2NfY29tbWVudF9oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4vZG9jX2NvbW1lbnRfaGlnaGxpZ2h0X3J1bGVzXCIpLkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcztcbnZhciBUZXh0SGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4vdGV4dF9oaWdobGlnaHRfcnVsZXNcIikuVGV4dEhpZ2hsaWdodFJ1bGVzO1xudmFyIGlkZW50aWZpZXJSZSA9IFwiW2EtekEtWlxcXFwkX1xcdTAwYTEtXFx1ZmZmZl1bYS16QS1aXFxcXGRcXFxcJF9cXHUwMGExLVxcdWZmZmZdKlxcXFxiXCI7XG5cbnZhciBKYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGtleXdvcmRNYXBwZXIgPSB0aGlzLmNyZWF0ZUtleXdvcmRNYXBwZXIoe1xuICAgICAgICBcInZhcmlhYmxlLmxhbmd1YWdlXCI6XG4gICAgICAgICAgICBcIkFycmF5fEJvb2xlYW58RGF0ZXxGdW5jdGlvbnxJdGVyYXRvcnxOdW1iZXJ8T2JqZWN0fFJlZ0V4cHxTdHJpbmd8UHJveHl8XCIgICsgLy8gQ29uc3RydWN0b3JzXG4gICAgICAgICAgICBcIk5hbWVzcGFjZXxRTmFtZXxYTUx8WE1MTGlzdHxcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgLy8gRTRYXG4gICAgICAgICAgICBcIkFycmF5QnVmZmVyfEZsb2F0MzJBcnJheXxGbG9hdDY0QXJyYXl8SW50MTZBcnJheXxJbnQzMkFycmF5fEludDhBcnJheXxcIiAgICtcbiAgICAgICAgICAgIFwiVWludDE2QXJyYXl8VWludDMyQXJyYXl8VWludDhBcnJheXxVaW50OENsYW1wZWRBcnJheXxcIiAgICAgICAgICAgICAgICAgICAgK1xuICAgICAgICAgICAgXCJFcnJvcnxFdmFsRXJyb3J8SW50ZXJuYWxFcnJvcnxSYW5nZUVycm9yfFJlZmVyZW5jZUVycm9yfFN0b3BJdGVyYXRpb258XCIgICArIC8vIEVycm9yc1xuICAgICAgICAgICAgXCJTeW50YXhFcnJvcnxUeXBlRXJyb3J8VVJJRXJyb3J8XCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArXG4gICAgICAgICAgICBcImRlY29kZVVSSXxkZWNvZGVVUklDb21wb25lbnR8ZW5jb2RlVVJJfGVuY29kZVVSSUNvbXBvbmVudHxldmFsfGlzRmluaXRlfFwiICsgLy8gTm9uLWNvbnN0cnVjdG9yIGZ1bmN0aW9uc1xuICAgICAgICAgICAgXCJpc05hTnxwYXJzZUZsb2F0fHBhcnNlSW50fFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArXG4gICAgICAgICAgICBcIkpTT058TWF0aHxcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgLy8gT3RoZXJcbiAgICAgICAgICAgIFwidGhpc3xhcmd1bWVudHN8cHJvdG90eXBlfHdpbmRvd3xkb2N1bWVudFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAvLyBQc2V1ZG9cbiAgICAgICAgXCJrZXl3b3JkXCI6XG4gICAgICAgICAgICBcImNvbnN0fHlpZWxkfGltcG9ydHxnZXR8c2V0fFwiICtcbiAgICAgICAgICAgIFwiYnJlYWt8Y2FzZXxjYXRjaHxjb250aW51ZXxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGZpbmFsbHl8Zm9yfGZ1bmN0aW9ufFwiICtcbiAgICAgICAgICAgIFwiaWZ8aW58aW5zdGFuY2VvZnxuZXd8cmV0dXJufHN3aXRjaHx0aHJvd3x0cnl8dHlwZW9mfGxldHx2YXJ8d2hpbGV8d2l0aHxkZWJ1Z2dlcnxcIiArXG4gICAgICAgICAgICBcIl9fcGFyZW50X198X19jb3VudF9ffGVzY2FwZXx1bmVzY2FwZXx3aXRofF9fcHJvdG9fX3xcIiArXG4gICAgICAgICAgICBcImNsYXNzfGVudW18ZXh0ZW5kc3xzdXBlcnxleHBvcnR8aW1wbGVtZW50c3xwcml2YXRlfHB1YmxpY3xpbnRlcmZhY2V8cGFja2FnZXxwcm90ZWN0ZWR8c3RhdGljXCIsXG4gICAgICAgIFwic3RvcmFnZS50eXBlXCI6XG4gICAgICAgICAgICBcImNvbnN0fGxldHx2YXJ8ZnVuY3Rpb25cIixcbiAgICAgICAgXCJjb25zdGFudC5sYW5ndWFnZVwiOlxuICAgICAgICAgICAgXCJudWxsfEluZmluaXR5fE5hTnx1bmRlZmluZWRcIixcbiAgICAgICAgXCJzdXBwb3J0LmZ1bmN0aW9uXCI6XG4gICAgICAgICAgICBcImFsZXJ0XCIsXG4gICAgICAgIFwiY29uc3RhbnQubGFuZ3VhZ2UuYm9vbGVhblwiOiBcInRydWV8ZmFsc2VcIlxuICAgIH0sIFwiaWRlbnRpZmllclwiKTtcbiAgICB2YXIga3dCZWZvcmVSZSA9IFwiY2FzZXxkb3xlbHNlfGZpbmFsbHl8aW58aW5zdGFuY2VvZnxyZXR1cm58dGhyb3d8dHJ5fHR5cGVvZnx5aWVsZHx2b2lkXCI7XG5cbiAgICB2YXIgZXNjYXBlZFJlID0gXCJcXFxcXFxcXCg/OnhbMC05YS1mQS1GXXsyfXxcIiArIC8vIGhleFxuICAgICAgICBcInVbMC05YS1mQS1GXXs0fXxcIiArIC8vIHVuaWNvZGVcbiAgICAgICAgXCJ1e1swLTlhLWZBLUZdezEsNn19fFwiICsgLy8gZXM2IHVuaWNvZGVcbiAgICAgICAgXCJbMC0yXVswLTddezAsMn18XCIgKyAvLyBvY3RcbiAgICAgICAgXCIzWzAtN11bMC03XT98XCIgKyAvLyBvY3RcbiAgICAgICAgXCJbNC03XVswLTddP3xcIiArIC8vb2N0XG4gICAgICAgIFwiLilcIjtcblxuICAgIHRoaXMuJHJ1bGVzID0ge1xuICAgICAgICBcIm5vX3JlZ2V4XCIgOiBbXG4gICAgICAgICAgICBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0U3RhcnRSdWxlKFwiZG9jLXN0YXJ0XCIpLFxuICAgICAgICAgICAgY29tbWVudHMoXCJub19yZWdleFwiKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIicoPz0uKVwiLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJxc3RyaW5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAnXCIoPz0uKScsXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInFxc3RyaW5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubnVtZXJpY1wiLCAvLyBoZXhcbiAgICAgICAgICAgICAgICByZWdleCA6IC8wKD86W3hYXVswLTlhLWZBLUZdK3xbYkJdWzAxXSspXFxiL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb25zdGFudC5udW1lcmljXCIsIC8vIGZsb2F0XG4gICAgICAgICAgICAgICAgcmVnZXggOiAvWystXT9cXGRbXFxkX10qKD86KD86XFwuXFxkKik/KD86W2VFXVsrLV0/XFxkKyk/KT9cXGIvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcmFnZS50eXBlXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJzdXBwb3J0LmZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIixcImtleXdvcmQub3BlcmF0b3JcIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIihcIiArIGlkZW50aWZpZXJSZSArIFwiKShcXFxcLikocHJvdG90eXBlKShcXFxcLikoXCIgKyBpZGVudGlmaWVyUmUgK1wiKShcXFxccyopKD0pXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJmdW5jdGlvbl9hcmd1bWVudHNcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1xuICAgICAgICAgICAgICAgICAgICBcInN0b3JhZ2UudHlwZVwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwiZW50aXR5Lm5hbWUuZnVuY3Rpb25cIiwgXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwia2V5d29yZC5vcGVyYXRvclwiLCBcInRleHRcIiwgXCJzdG9yYWdlLnR5cGVcIiwgXCJ0ZXh0XCIsIFwicGFyZW4ubHBhcmVuXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoXCIgKyBpZGVudGlmaWVyUmUgKyBcIikoXFxcXC4pKFwiICsgaWRlbnRpZmllclJlICtcIikoXFxcXHMqKSg9KShcXFxccyopKGZ1bmN0aW9uKShcXFxccyopKFxcXFwoKVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwiZnVuY3Rpb25fYXJndW1lbnRzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIiwgXCJrZXl3b3JkLm9wZXJhdG9yXCIsIFwidGV4dFwiLCBcInN0b3JhZ2UudHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIiwgXCJwYXJlbi5scGFyZW5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIihcIiArIGlkZW50aWZpZXJSZSArXCIpKFxcXFxzKikoPSkoXFxcXHMqKShmdW5jdGlvbikoXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcmFnZS50eXBlXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJrZXl3b3JkLm9wZXJhdG9yXCIsIFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInN0b3JhZ2UudHlwZVwiLCBcInRleHRcIiwgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIiwgXCJwYXJlbi5scGFyZW5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIihcIiArIGlkZW50aWZpZXJSZSArIFwiKShcXFxcLikoXCIgKyBpZGVudGlmaWVyUmUgK1wiKShcXFxccyopKD0pKFxcXFxzKikoZnVuY3Rpb24pKFxcXFxzKykoXFxcXHcrKShcXFxccyopKFxcXFwoKVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwiZnVuY3Rpb25fYXJndW1lbnRzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJzdG9yYWdlLnR5cGVcIiwgXCJ0ZXh0XCIsIFwiZW50aXR5Lm5hbWUuZnVuY3Rpb25cIiwgXCJ0ZXh0XCIsIFwicGFyZW4ubHBhcmVuXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoZnVuY3Rpb24pKFxcXFxzKykoXCIgKyBpZGVudGlmaWVyUmUgKyBcIikoXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwiZW50aXR5Lm5hbWUuZnVuY3Rpb25cIiwgXCJ0ZXh0XCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCIsIFwic3RvcmFnZS50eXBlXCIsIFwidGV4dFwiLCBcInBhcmVuLmxwYXJlblwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKFwiICsgaWRlbnRpZmllclJlICsgXCIpKFxcXFxzKikoOikoXFxcXHMqKShmdW5jdGlvbikoXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dFwiLCBcInRleHRcIiwgXCJzdG9yYWdlLnR5cGVcIiwgXCJ0ZXh0XCIsIFwicGFyZW4ubHBhcmVuXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoOikoXFxcXHMqKShmdW5jdGlvbikoXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImtleXdvcmRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKD86XCIgKyBrd0JlZm9yZVJlICsgXCIpXFxcXGJcIixcbiAgICAgICAgICAgICAgICBuZXh0IDogXCJzdGFydFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXCJzdXBwb3J0LmNvbnN0YW50XCJdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL3RoYXRcXGIvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXCJzdG9yYWdlLnR5cGVcIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLCBcInN1cHBvcnQuZnVuY3Rpb24uZmlyZWJ1Z1wiXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IC8oY29uc29sZSkoXFwuKSh3YXJufGluZm98bG9nfGVycm9yfHRpbWV8dHJhY2V8dGltZUVuZHxhc3NlcnQpXFxiL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDoga2V5d29yZE1hcHBlcixcbiAgICAgICAgICAgICAgICByZWdleCA6IGlkZW50aWZpZXJSZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL1suXSg/IVsuXSkvLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJwcm9wZXJ0eVwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImtleXdvcmQub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC8tLXxcXCtcXCt8XFwuezN9fD09PXw9PXw9fCE9fCE9PXw8Kz0/fD4rPT98IXwmJnxcXHxcXHx8XFw/XFw6fFshJCUmKitcXC1+XFwvXl09Py8sXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC9bPzosOy5dLyxcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwic3RhcnRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJwYXJlbi5scGFyZW5cIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC9bXFxbKHtdLyxcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwic3RhcnRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJwYXJlbi5ycGFyZW5cIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC9bXFxdKX1dL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImNvbW1lbnRcIixcbiAgICAgICAgICAgICAgICByZWdleDogL14jIS4qJC9cbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcHJvcGVydHk6IFt7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXHMrXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJzdG9yYWdlLnR5cGVcIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLCBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcImtleXdvcmQub3BlcmF0b3JcIiwgXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcmFnZS50eXBlXCIsIFwidGV4dFwiLCBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLCBcInBhcmVuLmxwYXJlblwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKFwiICsgaWRlbnRpZmllclJlICsgXCIpKFxcXFwuKShcIiArIGlkZW50aWZpZXJSZSArXCIpKFxcXFxzKikoPSkoXFxcXHMqKShmdW5jdGlvbikoPzooXFxcXHMrKShcXFxcdyspKT8oXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvWy5dKD8hWy5dKS9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3VwcG9ydC5mdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogLyhzKD86aCg/OmlmdHxvdyg/Ok1vZCg/OmVsZXNzRGlhbG9nfGFsRGlhbG9nKXxIZWxwKSl8Y3JvbGwoPzpYfEJ5KD86UGFnZXN8TGluZXMpP3xZfFRvKT98dCg/Om9wfHJpa2UpfGkoPzpufHplVG9Db250ZW50fGRlYmFyfGduVGV4dCl8b3J0fHUoPzpwfGIoPzpzdHIoPzppbmcpPyk/KXxwbGkoPzpjZXx0KXxlKD86bmR8dCg/OlJlKD86c2l6YWJsZXxxdWVzdEhlYWRlcil8TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZWNvbmRzfEhvKD86dEtleXN8dXJzKXxZZWFyfEN1cnNvcnxUaW1lKD86b3V0KT98SW50ZXJ2YWx8Wk9wdGlvbnN8RGF0ZXxVVEMoPzpNKD86aSg/Om51dGVzfGxsaXNlY29uZHMpfG9udGgpfFNlY29uZHN8SG91cnN8RGF0ZXxGdWxsWWVhcil8RnVsbFllYXJ8QWN0aXZlKXxhcmNoKXxxcnR8bGljZXxhdmVQcmVmZXJlbmNlc3xtYWxsKXxoKD86b21lfGFuZGxlRXZlbnQpfG5hdmlnYXRlfGMoPzpoYXIoPzpDb2RlQXR8QXQpfG8oPzpzfG4oPzpjYXR8dGV4dHVhbHxmaXJtKXxtcGlsZSl8ZWlsfGxlYXIoPzpUaW1lb3V0fEludGVydmFsKT98YSg/OnB0dXJlRXZlbnRzfGxsKXxyZWF0ZSg/OlN0eWxlU2hlZXR8UG9wdXB8RXZlbnRPYmplY3QpKXx0KD86byg/OkdNVFN0cmluZ3xTKD86dHJpbmd8b3VyY2UpfFUoPzpUQ1N0cmluZ3xwcGVyQ2FzZSl8TG8oPzpjYWxlU3RyaW5nfHdlckNhc2UpKXxlc3R8YSg/Om58aW50KD86RW5hYmxlZCk/KSl8aSg/OnMoPzpOYU58RmluaXRlKXxuZGV4T2Z8dGFsaWNzKXxkKD86aXNhYmxlRXh0ZXJuYWxDYXB0dXJlfHVtcHxldGFjaEV2ZW50KXx1KD86big/OnNoaWZ0fHRhaW50fGVzY2FwZXx3YXRjaCl8cGRhdGVDb21tYW5kcyl8aig/Om9pbnxhdmFFbmFibGVkKXxwKD86byg/OnB8dyl8dXNofGx1Z2lucy5yZWZyZXNofGEoPzpkZGluZ3N8cnNlKD86SW50fEZsb2F0KT8pfHIoPzppbnR8b21wdHxlZmVyZW5jZSkpfGUoPzpzY2FwZXxuYWJsZUV4dGVybmFsQ2FwdHVyZXx2YWx8bGVtZW50RnJvbVBvaW50fHgoPzpwfGVjKD86U2NyaXB0fENvbW1hbmQpPykpfHZhbHVlT2Z8VVRDfHF1ZXJ5Q29tbWFuZCg/OlN0YXRlfEluZGV0ZXJtfEVuYWJsZWR8VmFsdWUpfGYoPzppKD86bmR8bGUoPzpNb2RpZmllZERhdGV8U2l6ZXxDcmVhdGVkRGF0ZXxVcGRhdGVkRGF0ZSl8eGVkKXxvKD86bnQoPzpzaXplfGNvbG9yKXxyd2FyZCl8bG9vcnxyb21DaGFyQ29kZSl8d2F0Y2h8bCg/Omlua3xvKD86YWR8Zyl8YXN0SW5kZXhPZil8YSg/OnNpbnxuY2hvcnxjb3N8dCg/OnRhY2hFdmVudHxvYnxhbig/OjIpPyl8cHBseXxsZXJ0fGIoPzpzfG9ydCkpfHIoPzpvdSg/Om5kfHRlRXZlbnRzKXxlKD86c2l6ZSg/OkJ5fFRvKXxjYWxjfHR1cm5WYWx1ZXxwbGFjZXx2ZXJzZXxsKD86b2FkfGVhc2UoPzpDYXB0dXJlfEV2ZW50cykpKXxhbmRvbSl8Zyg/Om98ZXQoPzpSZXNwb25zZUhlYWRlcnxNKD86aSg/Om51dGVzfGxsaXNlY29uZHMpfG9udGgpfFNlKD86Y29uZHN8bGVjdGlvbil8SG91cnN8WWVhcnxUaW1lKD86em9uZU9mZnNldCk/fERhKD86eXx0ZSl8VVRDKD86TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZWNvbmRzfEhvdXJzfERhKD86eXx0ZSl8RnVsbFllYXIpfEZ1bGxZZWFyfEEoPzp0dGVudGlvbnxsbFJlc3BvbnNlSGVhZGVycykpKXxtKD86aW58b3ZlKD86Qig/Onl8ZWxvdyl8VG8oPzpBYnNvbHV0ZSk/fEFib3ZlKXxlcmdlQXR0cmlidXRlc3xhKD86dGNofHJnaW5zfHgpKXxiKD86dG9hfGlnfG8oPzpsZHxyZGVyV2lkdGhzKXxsaW5rfGFjaykpXFxiKD89XFwoKS9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3VwcG9ydC5mdW5jdGlvbi5kb21cIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC8ocyg/OnViKD86c3RyaW5nRGF0YXxtaXQpfHBsaXRUZXh0fGUoPzp0KD86TmFtZWRJdGVtfEF0dHJpYnV0ZSg/Ok5vZGUpPyl8bGVjdCkpfGhhcyg/OkNoaWxkTm9kZXN8RmVhdHVyZSl8bmFtZWRJdGVtfGMoPzpsKD86aWNrfG8oPzpzZXxuZU5vZGUpKXxyZWF0ZSg/OkMoPzpvbW1lbnR8REFUQVNlY3Rpb258YXB0aW9uKXxUKD86SGVhZHxleHROb2RlfEZvb3QpfERvY3VtZW50RnJhZ21lbnR8UHJvY2Vzc2luZ0luc3RydWN0aW9ufEUoPzpudGl0eVJlZmVyZW5jZXxsZW1lbnQpfEF0dHJpYnV0ZSkpfHRhYkluZGV4fGkoPzpuc2VydCg/OlJvd3xCZWZvcmV8Q2VsbHxEYXRhKXx0ZW0pfG9wZW58ZGVsZXRlKD86Um93fEMoPzplbGx8YXB0aW9uKXxUKD86SGVhZHxGb290KXxEYXRhKXxmb2N1c3x3cml0ZSg/OmxuKT98YSg/OmRkfHBwZW5kKD86Q2hpbGR8RGF0YSkpfHJlKD86c2V0fHBsYWNlKD86Q2hpbGR8RGF0YSl8bW92ZSg/Ok5hbWVkSXRlbXxDaGlsZHxBdHRyaWJ1dGUoPzpOb2RlKT8pPyl8Z2V0KD86TmFtZWRJdGVtfEVsZW1lbnQoPzpzQnkoPzpOYW1lfFRhZ05hbWV8Q2xhc3NOYW1lKXxCeUlkKXxBdHRyaWJ1dGUoPzpOb2RlKT8pfGJsdXIpXFxiKD89XFwoKS9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6ICBcInN1cHBvcnQuY29uc3RhbnRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC8ocyg/OnlzdGVtTGFuZ3VhZ2V8Y3IoPzppcHRzfG9sbGJhcnN8ZWVuKD86WHxZfFRvcHxMZWZ0KSl8dCg/OnlsZSg/OlNoZWV0cyk/fGF0dXMoPzpUZXh0fGJhcik/KXxpYmxpbmcoPzpCZWxvd3xBYm92ZSl8b3VyY2V8dWZmaXhlc3xlKD86Y3VyaXR5KD86UG9saWN5KT98bCg/OmVjdGlvbnxmKSkpfGgoPzppc3Rvcnl8b3N0KD86bmFtZSk/fGFzKD86aHxGb2N1cykpfHl8WCg/Ok1MRG9jdW1lbnR8U0xEb2N1bWVudCl8big/OmV4dHxhbWUoPzpzcGFjZSg/OnN8VVJJKXxQcm9wKSl8TSg/OklOX1ZBTFVFfEFYX1ZBTFVFKXxjKD86aGFyYWN0ZXJTZXR8byg/Om4oPzpzdHJ1Y3Rvcnx0cm9sbGVycyl8b2tpZUVuYWJsZWR8bG9yRGVwdGh8bXAoPzpvbmVudHN8bGV0ZSkpfHVycmVudHxwdUNsYXNzfGwoPzppKD86cCg/OmJvYXJkRGF0YSk/fGVudEluZm9ybWF0aW9uKXxvc2VkfGFzc2VzKXxhbGxlKD86ZXxyKXxyeXB0byl8dCg/Om8oPzpvbGJhcnxwKXxleHQoPzpUcmFuc2Zvcm18SW5kZW50fERlY29yYXRpb258QWxpZ24pfGFncyl8U1FSVCg/OjFfMnwyKXxpKD86big/Om5lcig/OkhlaWdodHxXaWR0aCl8cHV0KXxkc3xnbm9yZUNhc2UpfHpJbmRleHxvKD86c2NwdXxuKD86cmVhZHlzdGF0ZWNoYW5nZXxMaW5lKXx1dGVyKD86SGVpZ2h0fFdpZHRoKXxwKD86c1Byb2ZpbGV8ZW5lcil8ZmZzY3JlZW5CdWZmZXJpbmcpfE5FR0FUSVZFX0lORklOSVRZfGQoPzppKD86c3BsYXl8YWxvZyg/OkhlaWdodHxUb3B8V2lkdGh8TGVmdHxBcmd1bWVudHMpfHJlY3Rvcmllcyl8ZSg/OnNjcmlwdGlvbnxmYXVsdCg/OlN0YXR1c3xDaCg/OmVja2VkfGFyc2V0KXxWaWV3KSkpfHUoPzpzZXIoPzpQcm9maWxlfExhbmd1YWdlfEFnZW50KXxuKD86aXF1ZUlEfGRlZmluZWQpfHBkYXRlSW50ZXJ2YWwpfF9jb250ZW50fHAoPzppeGVsRGVwdGh8b3J0fGVyc29uYWxiYXJ8a2NzMTF8bCg/OnVnaW5zfGF0Zm9ybSl8YSg/OnRobmFtZXxkZGluZyg/OlJpZ2h0fEJvdHRvbXxUb3B8TGVmdCl8cmVudCg/OldpbmRvd3xMYXllcik/fGdlKD86WCg/Ok9mZnNldCk/fFkoPzpPZmZzZXQpPykpfHIoPzpvKD86dG8oPzpjb2x8dHlwZSl8ZHVjdCg/OlN1Yik/fG1wdGVyKXxlKD86dmlvdXN8Zml4KSkpfGUoPzpuKD86Y29kaW5nfGFibGVkUGx1Z2luKXx4KD86dGVybmFsfHBhbmRvKXxtYmVkcyl8dig/OmlzaWJpbGl0eXxlbmRvcig/OlN1Yik/fExpbmtjb2xvcil8VVJMVW5lbmNvZGVkfFAoPzpJfE9TSVRJVkVfSU5GSU5JVFkpfGYoPzppbGVuYW1lfG8oPzpudCg/OlNpemV8RmFtaWx5fFdlaWdodCl8cm1OYW1lKXxyYW1lKD86c3xFbGVtZW50KXxnQ29sb3IpfEV8d2hpdGVTcGFjZXxsKD86aSg/OnN0U3R5bGVUeXBlfG4oPzplSGVpZ2h0fGtDb2xvcikpfG8oPzpjYSg/OnRpb24oPzpiYXIpP3xsTmFtZSl8d3NyYyl8ZSg/Om5ndGh8ZnQoPzpDb250ZXh0KT8pfGEoPzpzdCg/Ok0oPzpvZGlmaWVkfGF0Y2gpfEluZGV4fFBhcmVuKXx5ZXIoPzpzfFgpfG5ndWFnZSkpfGEoPzpwcCg/Ok1pbm9yVmVyc2lvbnxOYW1lfENvKD86ZGVOYW1lfHJlKXxWZXJzaW9uKXx2YWlsKD86SGVpZ2h0fFRvcHxXaWR0aHxMZWZ0KXxsbHxyKD86aXR5fGd1bWVudHMpfExpbmtjb2xvcnxib3ZlKXxyKD86aWdodCg/OkNvbnRleHQpP3xlKD86c3BvbnNlKD86WE1MfFRleHQpfGFkeVN0YXRlKSl8Z2xvYmFsfHh8bSg/OmltZVR5cGVzfHVsdGlsaW5lfGVudWJhcnxhcmdpbig/OlJpZ2h0fEJvdHRvbXxUb3B8TGVmdCkpfEwoPzpOKD86MTB8Mil8T0coPzoxMEV8MkUpKXxiKD86byg/OnR0b218cmRlcig/OldpZHRofFJpZ2h0V2lkdGh8Qm90dG9tV2lkdGh8U3R5bGV8Q29sb3J8VG9wV2lkdGh8TGVmdFdpZHRoKSl8dWZmZXJEZXB0aHxlbG93fGFja2dyb3VuZCg/OkNvbG9yfEltYWdlKSkpXFxiL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJpZGVudGlmaWVyXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBpZGVudGlmaWVyUmVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICByZWdleDogXCJcIixcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJlbXB0eVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcInN0YXJ0XCI6IFtcbiAgICAgICAgICAgIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRTdGFydFJ1bGUoXCJkb2Mtc3RhcnRcIiksXG4gICAgICAgICAgICBjb21tZW50cyhcInN0YXJ0XCIpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInN0cmluZy5yZWdleHBcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCJcXFxcL1wiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwicmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIlxcXFxzK3xeJFwiLFxuICAgICAgICAgICAgICAgIG5leHQgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJlbXB0eVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIlwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcInJlZ2V4XCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJyZWdleHAua2V5d29yZC5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIlxcXFxcXFxcKD86dVtcXFxcZGEtZkEtRl17NH18eFtcXFxcZGEtZkEtRl17Mn18LilcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInN0cmluZy5yZWdleHBcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCIvW3N4bmdpbXldKlwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJpbnZhbGlkXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IC9cXHtcXGQrXFxiLD9cXGQqXFx9WysqXXxbKyokXj9dWysqXXxbJF5dWz9dfFxcP3szLH0vXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiAvXFwoXFw/Wzo9IV18XFwpfFxce1xcZCtcXGIsP1xcZCpcXH18WysqXVxcP3xbKCkkXisqPy5dL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb25zdGFudC5sYW5ndWFnZS5kZWxpbWl0ZXJcIixcbiAgICAgICAgICAgICAgICByZWdleDogL1xcfC9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixcbiAgICAgICAgICAgICAgICByZWdleDogL1xcW1xcXj8vLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwicmVnZXhfY2hhcmFjdGVyX2NsYXNzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJlbXB0eVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIiRcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcIm5vX3JlZ2V4XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46IFwic3RyaW5nLnJlZ2V4cFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwicmVnZXhfY2hhcmFjdGVyX2NsYXNzXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJyZWdleHAuY2hhcmNsYXNzLmtleXdvcmQub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCJcXFxcXFxcXCg/OnVbXFxcXGRhLWZBLUZdezR9fHhbXFxcXGRhLWZBLUZdezJ9fC4pXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCJdXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJyZWdleFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiLVwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwiZW1wdHlcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCIkXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJub19yZWdleFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFRva2VuOiBcInN0cmluZy5yZWdleHAuY2hhcmFjaHRlcmNsYXNzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJmdW5jdGlvbl9hcmd1bWVudHNcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInZhcmlhYmxlLnBhcmFtZXRlclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBpZGVudGlmaWVyUmVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIlssIF0rXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIiRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImVtcHR5XCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJub19yZWdleFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwicXFzdHJpbmdcIiA6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBlc2NhcGVkUmVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIlxcXFxcXFxcJFwiLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJxcXN0cmluZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogJ1wifCQnLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJub19yZWdleFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFRva2VuOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwicXN0cmluZ1wiIDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IGVzY2FwZWRSZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXFxcXFwkXCIsXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInFzdHJpbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiJ3wkXCIsXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcIm5vX3JlZ2V4XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH07XG4gICAgXG4gICAgXG4gICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLm5vRVM2KSB7XG4gICAgICAgIHRoaXMuJHJ1bGVzLm5vX3JlZ2V4LnVuc2hpZnQoe1xuICAgICAgICAgICAgcmVnZXg6IFwiW3t9XVwiLCBvbk1hdGNoOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dCA9IHZhbCA9PSBcIntcIiA/IHRoaXMubmV4dFN0YXRlIDogXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAodmFsID09IFwie1wiICYmIHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay51bnNoaWZ0KFwic3RhcnRcIiwgc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWwgPT0gXCJ9XCIgJiYgc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dCA9IHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5leHQuaW5kZXhPZihcInN0cmluZ1wiKSAhPSAtMSB8fCB0aGlzLm5leHQuaW5kZXhPZihcImpzeFwiKSAhPSAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInBhcmVuLnF1YXNpLmVuZFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsID09IFwie1wiID8gXCJwYXJlbi5scGFyZW5cIiA6IFwicGFyZW4ucnBhcmVuXCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV4dFN0YXRlOiBcInN0YXJ0XCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZy5xdWFzaS5zdGFydFwiLFxuICAgICAgICAgICAgcmVnZXggOiAvYC8sXG4gICAgICAgICAgICBwdXNoICA6IFt7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogZXNjYXBlZFJlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInBhcmVuLnF1YXNpLnN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvXFwkey8sXG4gICAgICAgICAgICAgICAgcHVzaCAgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nLnF1YXNpLmVuZFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL2AvLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJwb3BcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogXCJzdHJpbmcucXVhc2lcIlxuICAgICAgICAgICAgfV1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMubm9KU1gpXG4gICAgICAgICAgICBKU1guY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5lbWJlZFJ1bGVzKERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcywgXCJkb2MtXCIsXG4gICAgICAgIFsgRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLmdldEVuZFJ1bGUoXCJub19yZWdleFwiKSBdKTtcbiAgICBcbiAgICB0aGlzLm5vcm1hbGl6ZVJ1bGVzKCk7XG59O1xuXG5vb3AuaW5oZXJpdHMoSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzLCBUZXh0SGlnaGxpZ2h0UnVsZXMpO1xuXG5mdW5jdGlvbiBKU1goKSB7XG4gICAgdmFyIHRhZ1JlZ2V4ID0gaWRlbnRpZmllclJlLnJlcGxhY2UoXCJcXFxcZFwiLCBcIlxcXFxkXFxcXC1cIik7XG4gICAgdmFyIGpzeFRhZyA9IHtcbiAgICAgICAgb25NYXRjaCA6IGZ1bmN0aW9uKHZhbCwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdmFsLmNoYXJBdCgxKSA9PSBcIi9cIiA/IDIgOiAxO1xuICAgICAgICAgICAgaWYgKG9mZnNldCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlICE9IHRoaXMubmV4dFN0YXRlKVxuICAgICAgICAgICAgICAgICAgICBzdGFjay51bnNoaWZ0KHRoaXMubmV4dCwgdGhpcy5uZXh0U3RhdGUsIDApO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sudW5zaGlmdCh0aGlzLm5leHQpO1xuICAgICAgICAgICAgICAgIHN0YWNrWzJdKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9mZnNldCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IHRoaXMubmV4dFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrWzFdLS07XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhY2tbMV0gfHwgc3RhY2tbMV0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwibWV0YS50YWcucHVuY3R1YXRpb24uXCIgKyAob2Zmc2V0ID09IDEgPyBcIlwiIDogXCJlbmQtXCIpICsgXCJ0YWctb3Blbi54bWxcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsLnNsaWNlKDAsIG9mZnNldClcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm1ldGEudGFnLnRhZy1uYW1lLnhtbFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwuc3Vic3RyKG9mZnNldClcbiAgICAgICAgICAgIH1dO1xuICAgICAgICB9LFxuICAgICAgICByZWdleCA6IFwiPC8/XCIgKyB0YWdSZWdleCArIFwiXCIsXG4gICAgICAgIG5leHQ6IFwianN4QXR0cmlidXRlc1wiLFxuICAgICAgICBuZXh0U3RhdGU6IFwianN4XCJcbiAgICB9O1xuICAgIHRoaXMuJHJ1bGVzLnN0YXJ0LnVuc2hpZnQoanN4VGFnKTtcbiAgICB2YXIganN4SnNSdWxlID0ge1xuICAgICAgICByZWdleDogXCJ7XCIsXG4gICAgICAgIHRva2VuOiBcInBhcmVuLnF1YXNpLnN0YXJ0XCIsXG4gICAgICAgIHB1c2g6IFwic3RhcnRcIlxuICAgIH07XG4gICAgdGhpcy4kcnVsZXMuanN4ID0gW1xuICAgICAgICBqc3hKc1J1bGUsXG4gICAgICAgIGpzeFRhZyxcbiAgICAgICAge2luY2x1ZGUgOiBcInJlZmVyZW5jZVwifSxcbiAgICAgICAge2RlZmF1bHRUb2tlbjogXCJzdHJpbmdcIn1cbiAgICBdO1xuICAgIHRoaXMuJHJ1bGVzLmpzeEF0dHJpYnV0ZXMgPSBbe1xuICAgICAgICB0b2tlbiA6IFwibWV0YS50YWcucHVuY3R1YXRpb24udGFnLWNsb3NlLnhtbFwiLCBcbiAgICAgICAgcmVnZXggOiBcIi8/PlwiLCBcbiAgICAgICAgb25NYXRjaCA6IGZ1bmN0aW9uKHZhbHVlLCBjdXJyZW50U3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09IHN0YWNrWzBdKVxuICAgICAgICAgICAgICAgIHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2tbMF0gPT0gdGhpcy5uZXh0U3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrWzFdLS07XG4gICAgICAgICAgICAgICAgaWYgKCFzdGFja1sxXSB8fCBzdGFja1sxXSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2suc3BsaWNlKDAsIDIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmV4dCA9IHN0YWNrWzBdIHx8IFwic3RhcnRcIjtcbiAgICAgICAgICAgIHJldHVybiBbe3R5cGU6IHRoaXMudG9rZW4sIHZhbHVlOiB2YWx1ZX1dO1xuICAgICAgICB9LFxuICAgICAgICBuZXh0U3RhdGU6IFwianN4XCJcbiAgICB9LCBcbiAgICBqc3hKc1J1bGUsXG4gICAgY29tbWVudHMoXCJqc3hBdHRyaWJ1dGVzXCIpLFxuICAgIHtcbiAgICAgICAgdG9rZW4gOiBcImVudGl0eS5vdGhlci5hdHRyaWJ1dGUtbmFtZS54bWxcIixcbiAgICAgICAgcmVnZXggOiB0YWdSZWdleFxuICAgIH0sIHtcbiAgICAgICAgdG9rZW4gOiBcImtleXdvcmQub3BlcmF0b3IuYXR0cmlidXRlLWVxdWFscy54bWxcIixcbiAgICAgICAgcmVnZXggOiBcIj1cIlxuICAgIH0sIHtcbiAgICAgICAgdG9rZW4gOiBcInRleHQudGFnLXdoaXRlc3BhY2UueG1sXCIsXG4gICAgICAgIHJlZ2V4IDogXCJcXFxccytcIlxuICAgIH0sIHtcbiAgICAgICAgdG9rZW4gOiBcInN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sXCIsXG4gICAgICAgIHJlZ2V4IDogXCInXCIsXG4gICAgICAgIHN0YXRlTmFtZSA6IFwianN4X2F0dHJfcVwiLFxuICAgICAgICBwdXNoIDogW1xuICAgICAgICAgICAge3Rva2VuIDogXCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwiLCByZWdleDogXCInXCIsIG5leHQ6IFwicG9wXCJ9LFxuICAgICAgICAgICAge2luY2x1ZGUgOiBcInJlZmVyZW5jZVwifSxcbiAgICAgICAgICAgIHtkZWZhdWx0VG9rZW4gOiBcInN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sXCJ9XG4gICAgICAgIF1cbiAgICB9LCB7XG4gICAgICAgIHRva2VuIDogXCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwiLFxuICAgICAgICByZWdleCA6ICdcIicsXG4gICAgICAgIHN0YXRlTmFtZSA6IFwianN4X2F0dHJfcXFcIixcbiAgICAgICAgcHVzaCA6IFtcbiAgICAgICAgICAgIHt0b2tlbiA6IFwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIiwgcmVnZXg6ICdcIicsIG5leHQ6IFwicG9wXCJ9LFxuICAgICAgICAgICAge2luY2x1ZGUgOiBcInJlZmVyZW5jZVwifSxcbiAgICAgICAgICAgIHtkZWZhdWx0VG9rZW4gOiBcInN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sXCJ9XG4gICAgICAgIF1cbiAgICB9LFxuICAgIGpzeFRhZ1xuICAgIF07XG4gICAgdGhpcy4kcnVsZXMucmVmZXJlbmNlID0gW3tcbiAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZS5yZWZlcmVuY2UueG1sXCIsXG4gICAgICAgIHJlZ2V4IDogXCIoPzomI1swLTldKzspfCg/OiYjeFswLTlhLWZBLUZdKzspfCg/OiZbYS16QS1aMC05XzpcXFxcLi1dKzspXCJcbiAgICB9XTtcbn1cblxuZnVuY3Rpb24gY29tbWVudHMobmV4dCkge1xuICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50XCIsIC8vIG11bHRpIGxpbmUgY29tbWVudFxuICAgICAgICAgICAgcmVnZXggOiAvXFwvXFwqLyxcbiAgICAgICAgICAgIG5leHQ6IFtcbiAgICAgICAgICAgICAgICBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0VGFnUnVsZSgpLFxuICAgICAgICAgICAgICAgIHt0b2tlbiA6IFwiY29tbWVudFwiLCByZWdleCA6IFwiXFxcXCpcXFxcL1wiLCBuZXh0IDogbmV4dCB8fCBcInBvcFwifSxcbiAgICAgICAgICAgICAgICB7ZGVmYXVsdFRva2VuIDogXCJjb21tZW50XCIsIGNhc2VJbnNlbnNpdGl2ZTogdHJ1ZX1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnRcIixcbiAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcL1xcXFwvXCIsXG4gICAgICAgICAgICBuZXh0OiBbXG4gICAgICAgICAgICAgICAgRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLmdldFRhZ1J1bGUoKSxcbiAgICAgICAgICAgICAgICB7dG9rZW4gOiBcImNvbW1lbnRcIiwgcmVnZXggOiBcIiR8XlwiLCBuZXh0IDogbmV4dCB8fCBcInBvcFwifSxcbiAgICAgICAgICAgICAgICB7ZGVmYXVsdFRva2VuIDogXCJjb21tZW50XCIsIGNhc2VJbnNlbnNpdGl2ZTogdHJ1ZX1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIF07XG59XG5leHBvcnRzLkphdmFTY3JpcHRIaWdobGlnaHRSdWxlcyA9IEphdmFTY3JpcHRIaWdobGlnaHRSdWxlcztcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcblxudmFyIE1hdGNoaW5nQnJhY2VPdXRkZW50ID0gZnVuY3Rpb24oKSB7fTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbihsaW5lLCBpbnB1dCkge1xuICAgICAgICBpZiAoISAvXlxccyskLy50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiAvXlxccypcXH0vLnRlc3QoaW5wdXQpO1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24oZG9jLCByb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBkb2MuZ2V0TGluZShyb3cpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxccypcXH0pLyk7XG5cbiAgICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuIDA7XG5cbiAgICAgICAgdmFyIGNvbHVtbiA9IG1hdGNoWzFdLmxlbmd0aDtcbiAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IGRvYy5maW5kTWF0Y2hpbmdCcmFja2V0KHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59KTtcblxuICAgICAgICBpZiAoIW9wZW5CcmFjZVBvcyB8fCBvcGVuQnJhY2VQb3Mucm93ID09IHJvdykgcmV0dXJuIDA7XG5cbiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChkb2MuZ2V0TGluZShvcGVuQnJhY2VQb3Mucm93KSk7XG4gICAgICAgIGRvYy5yZXBsYWNlKG5ldyBSYW5nZShyb3csIDAsIHJvdywgY29sdW1uLTEpLCBpbmRlbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLiRnZXRJbmRlbnQgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHJldHVybiBsaW5lLm1hdGNoKC9eXFxzKi8pWzBdO1xuICAgIH07XG5cbn0pLmNhbGwoTWF0Y2hpbmdCcmFjZU91dGRlbnQucHJvdG90eXBlKTtcblxuZXhwb3J0cy5NYXRjaGluZ0JyYWNlT3V0ZGVudCA9IE1hdGNoaW5nQnJhY2VPdXRkZW50O1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9iZWhhdmlvdXIvY3N0eWxlXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvYmVoYXZpb3VyXCIsXCJhY2UvdG9rZW5faXRlcmF0b3JcIixcImFjZS9saWIvbGFuZ1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuLi9iZWhhdmlvdXJcIikuQmVoYXZpb3VyO1xudmFyIFRva2VuSXRlcmF0b3IgPSBhY2VxdWlyZShcIi4uLy4uL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3I7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vLi4vbGliL2xhbmdcIik7XG5cbnZhciBTQUZFX0lOU0VSVF9JTl9UT0tFTlMgPVxuICAgIFtcInRleHRcIiwgXCJwYXJlbi5ycGFyZW5cIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiXTtcbnZhciBTQUZFX0lOU0VSVF9CRUZPUkVfVE9LRU5TID1cbiAgICBbXCJ0ZXh0XCIsIFwicGFyZW4ucnBhcmVuXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJjb21tZW50XCJdO1xuXG52YXIgY29udGV4dDtcbnZhciBjb250ZXh0Q2FjaGUgPSB7fTtcbnZhciBpbml0Q29udGV4dCA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIHZhciBpZCA9IC0xO1xuICAgIGlmIChlZGl0b3IubXVsdGlTZWxlY3QpIHtcbiAgICAgICAgaWQgPSBlZGl0b3Iuc2VsZWN0aW9uLmluZGV4O1xuICAgICAgICBpZiAoY29udGV4dENhY2hlLnJhbmdlQ291bnQgIT0gZWRpdG9yLm11bHRpU2VsZWN0LnJhbmdlQ291bnQpXG4gICAgICAgICAgICBjb250ZXh0Q2FjaGUgPSB7cmFuZ2VDb3VudDogZWRpdG9yLm11bHRpU2VsZWN0LnJhbmdlQ291bnR9O1xuICAgIH1cbiAgICBpZiAoY29udGV4dENhY2hlW2lkXSlcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPSBjb250ZXh0Q2FjaGVbaWRdO1xuICAgIGNvbnRleHQgPSBjb250ZXh0Q2FjaGVbaWRdID0ge1xuICAgICAgICBhdXRvSW5zZXJ0ZWRCcmFja2V0czogMCxcbiAgICAgICAgYXV0b0luc2VydGVkUm93OiAtMSxcbiAgICAgICAgYXV0b0luc2VydGVkTGluZUVuZDogXCJcIixcbiAgICAgICAgbWF5YmVJbnNlcnRlZEJyYWNrZXRzOiAwLFxuICAgICAgICBtYXliZUluc2VydGVkUm93OiAtMSxcbiAgICAgICAgbWF5YmVJbnNlcnRlZExpbmVTdGFydDogXCJcIixcbiAgICAgICAgbWF5YmVJbnNlcnRlZExpbmVFbmQ6IFwiXCJcbiAgICB9O1xufTtcblxudmFyIGdldFdyYXBwZWQgPSBmdW5jdGlvbihzZWxlY3Rpb24sIHNlbGVjdGVkLCBvcGVuaW5nLCBjbG9zaW5nKSB7XG4gICAgdmFyIHJvd0RpZmYgPSBzZWxlY3Rpb24uZW5kLnJvdyAtIHNlbGVjdGlvbi5zdGFydC5yb3c7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dDogb3BlbmluZyArIHNlbGVjdGVkICsgY2xvc2luZyxcbiAgICAgICAgc2VsZWN0aW9uOiBbXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uc3RhcnQuY29sdW1uICsgMSxcbiAgICAgICAgICAgICAgICByb3dEaWZmLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5lbmQuY29sdW1uICsgKHJvd0RpZmYgPyAwIDogMSlcbiAgICAgICAgICAgIF1cbiAgICB9O1xufTtcblxudmFyIENzdHlsZUJlaGF2aW91ciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYWRkKFwiYnJhY2VzXCIsIFwiaW5zZXJ0aW9uXCIsIGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgdGV4dCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgaWYgKHRleHQgPT0gJ3snKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHNlbGVjdGlvbik7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQgIT09IFwiXCIgJiYgc2VsZWN0ZWQgIT09IFwie1wiICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRXcmFwcGVkKHNlbGVjdGlvbiwgc2VsZWN0ZWQsICd7JywgJ30nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzU2FuZUluc2VydGlvbihlZGl0b3IsIHNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgaWYgKC9bXFxdXFx9XFwpXS8udGVzdChsaW5lW2N1cnNvci5jb2x1bW5dKSB8fCBlZGl0b3IuaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIn1cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAne30nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIucmVjb3JkTWF5YmVJbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIntcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAneycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCAxXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09ICd9Jykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICd9Jykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZyA9IHNlc3Npb24uJGZpbmRPcGVuaW5nQnJhY2tldCgnfScsIHtjb2x1bW46IGN1cnNvci5jb2x1bW4gKyAxLCByb3c6IGN1cnNvci5yb3d9KTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmcgIT09IG51bGwgJiYgQ3N0eWxlQmVoYXZpb3VyLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gXCJcXG5cIiB8fCB0ZXh0ID09IFwiXFxyXFxuXCIpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgY2xvc2luZyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzTWF5YmVJbnNlcnRlZENsb3NpbmcoY3Vyc29yLCBsaW5lKSkge1xuICAgICAgICAgICAgICAgIGNsb3NpbmcgPSBsYW5nLnN0cmluZ1JlcGVhdChcIn1cIiwgY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMpO1xuICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IHNlc3Npb24uZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OiBjdXJzb3Iucm93LCBjb2x1bW46IGN1cnNvci5jb2x1bW4rMX0sICd9Jyk7XG4gICAgICAgICAgICAgICAgaWYgKCFvcGVuQnJhY2VQb3MpXG4gICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dF9pbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQoc2Vzc2lvbi5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvc2luZykge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0X2luZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbmV4dF9pbmRlbnQgKyBzZXNzaW9uLmdldFRhYlN0cmluZygpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRleHQ6ICdcXG4nICsgaW5kZW50ICsgJ1xcbicgKyBuZXh0X2luZGVudCArIGNsb3NpbmcsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgaW5kZW50Lmxlbmd0aCwgMSwgaW5kZW50Lmxlbmd0aF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIuY2xlYXJNYXliZUluc2VydGVkQ2xvc2luZygpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcImJyYWNlc1wiLCBcImRlbGV0aW9uXCIsIGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgcmFuZ2UpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgaWYgKCFyYW5nZS5pc011bHRpTGluZSgpICYmIHNlbGVjdGVkID09ICd7Jykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShyYW5nZS5zdGFydC5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKHJhbmdlLmVuZC5jb2x1bW4sIHJhbmdlLmVuZC5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJwYXJlbnNcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICcoJykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRXcmFwcGVkKHNlbGVjdGlvbiwgc2VsZWN0ZWQsICcoJywgJyknKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzU2FuZUluc2VydGlvbihlZGl0b3IsIHNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIilcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJygpJyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gJyknKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJyknKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nID0gc2Vzc2lvbi4kZmluZE9wZW5pbmdCcmFja2V0KCcpJywge2NvbHVtbjogY3Vyc29yLmNvbHVtbiArIDEsIHJvdzogY3Vyc29yLnJvd30pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZyAhPT0gbnVsbCAmJiBDc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSwgdGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwicGFyZW5zXCIsIFwiZGVsZXRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgc2VsZWN0ZWQgPT0gJygnKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdyk7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uICsgMSwgcmFuZ2Uuc3RhcnQuY29sdW1uICsgMik7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICcpJykge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwiYnJhY2tldHNcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICdbJykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRXcmFwcGVkKHNlbGVjdGlvbiwgc2VsZWN0ZWQsICdbJywgJ10nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzU2FuZUluc2VydGlvbihlZGl0b3IsIHNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIl1cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1tdJyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gJ10nKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nID0gc2Vzc2lvbi4kZmluZE9wZW5pbmdCcmFja2V0KCddJywge2NvbHVtbjogY3Vyc29yLmNvbHVtbiArIDEsIHJvdzogY3Vyc29yLnJvd30pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZyAhPT0gbnVsbCAmJiBDc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSwgdGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwiYnJhY2tldHNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHJhbmdlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmICghcmFuZ2UuaXNNdWx0aUxpbmUoKSAmJiBzZWxlY3RlZCA9PSAnWycpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4gKyAxLCByYW5nZS5zdGFydC5jb2x1bW4gKyAyKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJzdHJpbmdfZHF1b3Rlc1wiLCBcImluc2VydGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHRleHQpIHtcbiAgICAgICAgaWYgKHRleHQgPT0gJ1wiJyB8fCB0ZXh0ID09IFwiJ1wiKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIHF1b3RlID0gdGV4dDtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIHNlbGVjdGVkICE9PSBcIidcIiAmJiBzZWxlY3RlZCAhPSAnXCInICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRXcmFwcGVkKHNlbGVjdGlvbiwgc2VsZWN0ZWQsIHF1b3RlLCBxdW90ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgICAgICAgICAgdmFyIGxlZnRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbi0xLCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHNlc3Npb24uZ2V0VG9rZW5BdChjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgICAgICAgICB2YXIgcmlnaHRUb2tlbiA9IHNlc3Npb24uZ2V0VG9rZW5BdChjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGxlZnRDaGFyID09IFwiXFxcXFwiICYmIHRva2VuICYmIC9lc2NhcGUvLnRlc3QodG9rZW4udHlwZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBzdHJpbmdCZWZvcmUgPSB0b2tlbiAmJiAvc3RyaW5nfGVzY2FwZS8udGVzdCh0b2tlbi50eXBlKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nQWZ0ZXIgPSAhcmlnaHRUb2tlbiB8fCAvc3RyaW5nfGVzY2FwZS8udGVzdChyaWdodFRva2VuLnR5cGUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBwYWlyO1xuICAgICAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gcXVvdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFpciA9IHN0cmluZ0JlZm9yZSAhPT0gc3RyaW5nQWZ0ZXI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ0JlZm9yZSAmJiAhc3RyaW5nQWZ0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gd3JhcCBzdHJpbmcgd2l0aCBkaWZmZXJlbnQgcXVvdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ0JlZm9yZSAmJiBzdHJpbmdBZnRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBkbyBub3QgcGFpciBxdW90ZXMgaW5zaWRlIHN0cmluZ3NcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmRSZSA9IHNlc3Npb24uJG1vZGUudG9rZW5SZTtcbiAgICAgICAgICAgICAgICAgICAgd29yZFJlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1dvcmRCZWZvcmUgPSB3b3JkUmUudGVzdChsZWZ0Q2hhcik7XG4gICAgICAgICAgICAgICAgICAgIHdvcmRSZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNXb3JkQWZ0ZXIgPSB3b3JkUmUudGVzdChsZWZ0Q2hhcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1dvcmRCZWZvcmUgfHwgaXNXb3JkQWZ0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gYmVmb3JlIG9yIGFmdGVyIGFscGhhbnVtZXJpY1xuICAgICAgICAgICAgICAgICAgICBpZiAocmlnaHRDaGFyICYmICEvW1xcczssLn0pXFxdXFxcXF0vLnRlc3QocmlnaHRDaGFyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyB0aGVyZSBpcyByaWdodENoYXIgYW5kIGl0IGlzbid0IGNsb3NpbmdcbiAgICAgICAgICAgICAgICAgICAgcGFpciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHBhaXIgPyBxdW90ZSArIHF1b3RlIDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwxXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwic3RyaW5nX2RxdW90ZXNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHJhbmdlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmICghcmFuZ2UuaXNNdWx0aUxpbmUoKSAmJiAoc2VsZWN0ZWQgPT0gJ1wiJyB8fCBzZWxlY3RlZCA9PSBcIidcIikpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4gKyAxLCByYW5nZS5zdGFydC5jb2x1bW4gKyAyKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbn07XG5cbiAgICBcbkNzdHlsZUJlaGF2aW91ci5pc1NhbmVJbnNlcnRpb24gPSBmdW5jdGlvbihlZGl0b3IsIHNlc3Npb24pIHtcbiAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgdmFyIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgaWYgKCF0aGlzLiRtYXRjaFRva2VuVHlwZShpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKSB8fCBcInRleHRcIiwgU0FGRV9JTlNFUlRfSU5fVE9LRU5TKSkge1xuICAgICAgICB2YXIgaXRlcmF0b3IyID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICBpZiAoIXRoaXMuJG1hdGNoVG9rZW5UeXBlKGl0ZXJhdG9yMi5nZXRDdXJyZW50VG9rZW4oKSB8fCBcInRleHRcIiwgU0FGRV9JTlNFUlRfSU5fVE9LRU5TKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaXRlcmF0b3Iuc3RlcEZvcndhcmQoKTtcbiAgICByZXR1cm4gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCkgIT09IGN1cnNvci5yb3cgfHxcbiAgICAgICAgdGhpcy4kbWF0Y2hUb2tlblR5cGUoaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCkgfHwgXCJ0ZXh0XCIsIFNBRkVfSU5TRVJUX0JFRk9SRV9UT0tFTlMpO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLiRtYXRjaFRva2VuVHlwZSA9IGZ1bmN0aW9uKHRva2VuLCB0eXBlcykge1xuICAgIHJldHVybiB0eXBlcy5pbmRleE9mKHRva2VuLnR5cGUgfHwgdG9rZW4pID4gLTE7XG59O1xuXG5Dc3R5bGVCZWhhdmlvdXIucmVjb3JkQXV0b0luc2VydCA9IGZ1bmN0aW9uKGVkaXRvciwgc2Vzc2lvbiwgYnJhY2tldCkge1xuICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgaWYgKCF0aGlzLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZFswXSkpXG4gICAgICAgIGNvbnRleHQuYXV0b0luc2VydGVkQnJhY2tldHMgPSAwO1xuICAgIGNvbnRleHQuYXV0b0luc2VydGVkUm93ID0gY3Vyc29yLnJvdztcbiAgICBjb250ZXh0LmF1dG9JbnNlcnRlZExpbmVFbmQgPSBicmFja2V0ICsgbGluZS5zdWJzdHIoY3Vyc29yLmNvbHVtbik7XG4gICAgY29udGV4dC5hdXRvSW5zZXJ0ZWRCcmFja2V0cysrO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLnJlY29yZE1heWJlSW5zZXJ0ID0gZnVuY3Rpb24oZWRpdG9yLCBzZXNzaW9uLCBicmFja2V0KSB7XG4gICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICBpZiAoIXRoaXMuaXNNYXliZUluc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUpKVxuICAgICAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRCcmFja2V0cyA9IDA7XG4gICAgY29udGV4dC5tYXliZUluc2VydGVkUm93ID0gY3Vyc29yLnJvdztcbiAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQgPSBsaW5lLnN1YnN0cigwLCBjdXJzb3IuY29sdW1uKSArIGJyYWNrZXQ7XG4gICAgY29udGV4dC5tYXliZUluc2VydGVkTGluZUVuZCA9IGxpbmUuc3Vic3RyKGN1cnNvci5jb2x1bW4pO1xuICAgIGNvbnRleHQubWF5YmVJbnNlcnRlZEJyYWNrZXRzKys7XG59O1xuXG5Dc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nID0gZnVuY3Rpb24oY3Vyc29yLCBsaW5lLCBicmFja2V0KSB7XG4gICAgcmV0dXJuIGNvbnRleHQuYXV0b0luc2VydGVkQnJhY2tldHMgPiAwICYmXG4gICAgICAgIGN1cnNvci5yb3cgPT09IGNvbnRleHQuYXV0b0luc2VydGVkUm93ICYmXG4gICAgICAgIGJyYWNrZXQgPT09IGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZFswXSAmJlxuICAgICAgICBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKSA9PT0gY29udGV4dC5hdXRvSW5zZXJ0ZWRMaW5lRW5kO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLmlzTWF5YmVJbnNlcnRlZENsb3NpbmcgPSBmdW5jdGlvbihjdXJzb3IsIGxpbmUpIHtcbiAgICByZXR1cm4gY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMgPiAwICYmXG4gICAgICAgIGN1cnNvci5yb3cgPT09IGNvbnRleHQubWF5YmVJbnNlcnRlZFJvdyAmJlxuICAgICAgICBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKSA9PT0gY29udGV4dC5tYXliZUluc2VydGVkTGluZUVuZCAmJlxuICAgICAgICBsaW5lLnN1YnN0cigwLCBjdXJzb3IuY29sdW1uKSA9PSBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQ7XG59O1xuXG5Dc3R5bGVCZWhhdmlvdXIucG9wQXV0b0luc2VydGVkQ2xvc2luZyA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZCA9IGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZC5zdWJzdHIoMSk7XG4gICAgY29udGV4dC5hdXRvSW5zZXJ0ZWRCcmFja2V0cy0tO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRCcmFja2V0cyA9IDA7XG4gICAgICAgIGNvbnRleHQubWF5YmVJbnNlcnRlZFJvdyA9IC0xO1xuICAgIH1cbn07XG5cblxuXG5vb3AuaW5oZXJpdHMoQ3N0eWxlQmVoYXZpb3VyLCBCZWhhdmlvdXIpO1xuXG5leHBvcnRzLkNzdHlsZUJlaGF2aW91ciA9IENzdHlsZUJlaGF2aW91cjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvZm9sZGluZy9jc3R5bGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9tb2RlL2ZvbGRpbmcvZm9sZF9tb2RlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vLi4vbGliL29vcFwiKTtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vLi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgQmFzZUZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2ZvbGRfbW9kZVwiKS5Gb2xkTW9kZTtcblxudmFyIEZvbGRNb2RlID0gZXhwb3J0cy5Gb2xkTW9kZSA9IGZ1bmN0aW9uKGNvbW1lbnRSZWdleCkge1xuICAgIGlmIChjb21tZW50UmVnZXgpIHtcbiAgICAgICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIuc291cmNlLnJlcGxhY2UoL1xcfFtefF0qPyQvLCBcInxcIiArIGNvbW1lbnRSZWdleC5zdGFydClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cXHxbXnxdKj8kLywgXCJ8XCIgKyBjb21tZW50UmVnZXguZW5kKVxuICAgICAgICApO1xuICAgIH1cbn07XG5vb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7XG5cbihmdW5jdGlvbigpIHtcbiAgICBcbiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC8oXFx7fFxcWylbXlxcfVxcXV0qJHxeXFxzKihcXC9cXCopLztcbiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL15bXlxcW1xce10qKFxcfXxcXF0pfF5bXFxzXFwqXSooXFwqXFwvKS87XG4gICAgdGhpcy5zaW5nbGVMaW5lQmxvY2tDb21tZW50UmU9IC9eXFxzKihcXC9cXCopLipcXCpcXC9cXHMqJC87XG4gICAgdGhpcy50cmlwbGVTdGFyQmxvY2tDb21tZW50UmUgPSAvXlxccyooXFwvXFwqXFwqXFwqKS4qXFwqXFwvXFxzKiQvO1xuICAgIHRoaXMuc3RhcnRSZWdpb25SZSA9IC9eXFxzKihcXC9cXCp8XFwvXFwvKSM/cmVnaW9uXFxiLztcbiAgICB0aGlzLl9nZXRGb2xkV2lkZ2V0QmFzZSA9IHRoaXMuZ2V0Rm9sZFdpZGdldDtcbiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgIFxuICAgICAgICBpZiAodGhpcy5zaW5nbGVMaW5lQmxvY2tDb21tZW50UmUudGVzdChsaW5lKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSAmJiAhdGhpcy50cmlwbGVTdGFyQmxvY2tDb21tZW50UmUudGVzdChsaW5lKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB2YXIgZncgPSB0aGlzLl9nZXRGb2xkV2lkZ2V0QmFzZShzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdyk7XG4gICAgXG4gICAgICAgIGlmICghZncgJiYgdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkpXG4gICAgICAgICAgICByZXR1cm4gXCJzdGFydFwiOyAvLyBsaW5lQ29tbWVudFJlZ2lvblN0YXJ0XG4gICAgXG4gICAgICAgIHJldHVybiBmdztcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdywgZm9yY2VNdWx0aWxpbmUpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayhzZXNzaW9uLCBsaW5lLCByb3cpO1xuICAgICAgICBcbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtYXRjaC5pbmRleDtcblxuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpICsgbWF0Y2hbMF0ubGVuZ3RoLCAxKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJhbmdlICYmICFyYW5nZS5pc011bHRpTGluZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlTXVsdGlsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRTZWN0aW9uUmFuZ2Uoc2Vzc2lvbiwgcm93KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZvbGRTdHlsZSAhPSBcImFsbFwiKVxuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb2xkU3R5bGUgPT09IFwibWFya2JlZ2luXCIpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdG9wTWFya2VyKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2hbMV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2luZ0JyYWNrZXRCbG9jayhzZXNzaW9uLCBtYXRjaFsxXSwgcm93LCBpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGksIC0xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRTZWN0aW9uUmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCByb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIHN0YXJ0SW5kZW50ID0gbGluZS5zZWFyY2goL1xcUy8pO1xuICAgICAgICB2YXIgc3RhcnRSb3cgPSByb3c7XG4gICAgICAgIHZhciBzdGFydENvbHVtbiA9IGxpbmUubGVuZ3RoO1xuICAgICAgICByb3cgPSByb3cgKyAxO1xuICAgICAgICB2YXIgZW5kUm93ID0gcm93O1xuICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTtcbiAgICAgICAgd2hpbGUgKCsrcm93IDwgbWF4Um93KSB7XG4gICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xcUy8pO1xuICAgICAgICAgICAgaWYgKGluZGVudCA9PT0gLTEpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAgKHN0YXJ0SW5kZW50ID4gaW5kZW50KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgdmFyIHN1YlJhbmdlID0gdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2Uoc2Vzc2lvbiwgXCJhbGxcIiwgcm93KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHN1YlJhbmdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YlJhbmdlLnN0YXJ0LnJvdyA8PSBzdGFydFJvdykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1YlJhbmdlLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93ID0gc3ViUmFuZ2UuZW5kLnJvdztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0SW5kZW50ID09IGluZGVudCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmRSb3cgPSByb3c7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCBlbmRSb3csIHNlc3Npb24uZ2V0TGluZShlbmRSb3cpLmxlbmd0aCk7XG4gICAgfTtcbiAgICB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayA9IGZ1bmN0aW9uKHNlc3Npb24sIGxpbmUsIHJvdykge1xuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLnNlYXJjaCgvXFxzKiQvKTtcbiAgICAgICAgdmFyIG1heFJvdyA9IHNlc3Npb24uZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHZhciBzdGFydFJvdyA9IHJvdztcbiAgICAgICAgXG4gICAgICAgIHZhciByZSA9IC9eXFxzKig/OlxcL1xcKnxcXC9cXC98LS0pIz8oZW5kKT9yZWdpb25cXGIvO1xuICAgICAgICB2YXIgZGVwdGggPSAxO1xuICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHtcbiAgICAgICAgICAgIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTtcbiAgICAgICAgICAgIGlmICghbSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAobVsxXSkgZGVwdGgtLTtcbiAgICAgICAgICAgIGVsc2UgZGVwdGgrKztcblxuICAgICAgICAgICAgaWYgKCFkZXB0aCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZW5kUm93ID0gcm93O1xuICAgICAgICBpZiAoZW5kUm93ID4gc3RhcnRSb3cpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCBlbmRSb3csIGxpbmUubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoRm9sZE1vZGUucHJvdG90eXBlKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9qYXZhc2NyaXB0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvdGV4dFwiLFwiYWNlL21vZGUvamF2YXNjcmlwdF9oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnRcIixcImFjZS9yYW5nZVwiLFwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50XCIsXCJhY2UvbW9kZS9iZWhhdmlvdXIvY3N0eWxlXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgVGV4dE1vZGUgPSBhY2VxdWlyZShcIi4vdGV4dFwiKS5Nb2RlO1xudmFyIEphdmFTY3JpcHRIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi9qYXZhc2NyaXB0X2hpZ2hsaWdodF9ydWxlc1wiKS5KYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXM7XG52YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSBhY2VxdWlyZShcIi4vbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudFwiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudDtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgV29ya2VyQ2xpZW50ID0gYWNlcXVpcmUoXCIuLi93b3JrZXIvd29ya2VyX2NsaWVudFwiKS5Xb3JrZXJDbGllbnQ7XG52YXIgQ3N0eWxlQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuL2JlaGF2aW91ci9jc3R5bGVcIikuQ3N0eWxlQmVoYXZpb3VyO1xudmFyIENTdHlsZUZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2ZvbGRpbmcvY3N0eWxlXCIpLkZvbGRNb2RlO1xuXG52YXIgTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuSGlnaGxpZ2h0UnVsZXMgPSBKYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXM7XG4gICAgXG4gICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpO1xuICAgIHRoaXMuJGJlaGF2aW91ciA9IG5ldyBDc3R5bGVCZWhhdmlvdXIoKTtcbiAgICB0aGlzLmZvbGRpbmdSdWxlcyA9IG5ldyBDU3R5bGVGb2xkTW9kZSgpO1xufTtcbm9vcC5pbmhlcml0cyhNb2RlLCBUZXh0TW9kZSk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMubGluZUNvbW1lbnRTdGFydCA9IFwiLy9cIjtcbiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IHtzdGFydDogXCIvKlwiLCBlbmQ6IFwiKi9cIn07XG5cbiAgICB0aGlzLmdldE5leHRMaW5lSW5kZW50ID0gZnVuY3Rpb24oc3RhdGUsIGxpbmUsIHRhYikge1xuICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGxpbmUpO1xuXG4gICAgICAgIHZhciB0b2tlbml6ZWRMaW5lID0gdGhpcy5nZXRUb2tlbml6ZXIoKS5nZXRMaW5lVG9rZW5zKGxpbmUsIHN0YXRlKTtcbiAgICAgICAgdmFyIHRva2VucyA9IHRva2VuaXplZExpbmUudG9rZW5zO1xuICAgICAgICB2YXIgZW5kU3RhdGUgPSB0b2tlbml6ZWRMaW5lLnN0YXRlO1xuXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoICYmIHRva2Vuc1t0b2tlbnMubGVuZ3RoLTFdLnR5cGUgPT0gXCJjb21tZW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUgPT0gXCJzdGFydFwiIHx8IHN0YXRlID09IFwibm9fcmVnZXhcIikge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCgvXi4qKD86XFxiY2FzZVxcYi4qXFw6fFtcXHtcXChcXFtdKVxccyokLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBpbmRlbnQgKz0gdGFiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09IFwiZG9jLXN0YXJ0XCIpIHtcbiAgICAgICAgICAgIGlmIChlbmRTdGF0ZSA9PSBcInN0YXJ0XCIgfHwgZW5kU3RhdGUgPT0gXCJub19yZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eXFxzKihcXC8/KVxcKi8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCArPSBcIiBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5kZW50ICs9IFwiKiBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRlbnQ7XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24oc3RhdGUsIGxpbmUsIGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRvdXRkZW50LmNoZWNrT3V0ZGVudChsaW5lLCBpbnB1dCk7XG4gICAgfTtcblxuICAgIHRoaXMuYXV0b091dGRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgZG9jLCByb3cpIHtcbiAgICAgICAgdGhpcy4kb3V0ZGVudC5hdXRvT3V0ZGVudChkb2MsIHJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbXCJhY2VcIl0sIHJlcXVpcmUoXCIuLi93b3JrZXIvamF2YXNjcmlwdFwiKSwgXCJKYXZhU2NyaXB0V29ya2VyXCIpO1xuICAgICAgICB3b3JrZXIuYXR0YWNoVG9Eb2N1bWVudChzZXNzaW9uLmdldERvY3VtZW50KCkpO1xuXG4gICAgICAgIHdvcmtlci5vbihcImFubm90YXRlXCIsIGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMocmVzdWx0cy5kYXRhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd29ya2VyLm9uKFwidGVybWluYXRlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgfTtcblxuICAgIHRoaXMuJGlkID0gXCJhY2UvbW9kZS9qYXZhc2NyaXB0XCI7XG59KS5jYWxsKE1vZGUucHJvdG90eXBlKTtcblxuZXhwb3J0cy5Nb2RlID0gTW9kZTtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvY3NzX2hpZ2hsaWdodF9ydWxlc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXNcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4uL2xpYi9sYW5nXCIpO1xudmFyIFRleHRIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiKS5UZXh0SGlnaGxpZ2h0UnVsZXM7XG52YXIgc3VwcG9ydFR5cGUgPSBleHBvcnRzLnN1cHBvcnRUeXBlID0gXCJhbGlnbi1jb250ZW50fGFsaWduLWl0ZW1zfGFsaWduLXNlbGZ8YWxsfGFuaW1hdGlvbnxhbmltYXRpb24tZGVsYXl8YW5pbWF0aW9uLWRpcmVjdGlvbnxhbmltYXRpb24tZHVyYXRpb258YW5pbWF0aW9uLWZpbGwtbW9kZXxhbmltYXRpb24taXRlcmF0aW9uLWNvdW50fGFuaW1hdGlvbi1uYW1lfGFuaW1hdGlvbi1wbGF5LXN0YXRlfGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb258YmFja2ZhY2UtdmlzaWJpbGl0eXxiYWNrZ3JvdW5kfGJhY2tncm91bmQtYXR0YWNobWVudHxiYWNrZ3JvdW5kLWJsZW5kLW1vZGV8YmFja2dyb3VuZC1jbGlwfGJhY2tncm91bmQtY29sb3J8YmFja2dyb3VuZC1pbWFnZXxiYWNrZ3JvdW5kLW9yaWdpbnxiYWNrZ3JvdW5kLXBvc2l0aW9ufGJhY2tncm91bmQtcmVwZWF0fGJhY2tncm91bmQtc2l6ZXxib3JkZXJ8Ym9yZGVyLWJvdHRvbXxib3JkZXItYm90dG9tLWNvbG9yfGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXN8Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXN8Ym9yZGVyLWJvdHRvbS1zdHlsZXxib3JkZXItYm90dG9tLXdpZHRofGJvcmRlci1jb2xsYXBzZXxib3JkZXItY29sb3J8Ym9yZGVyLWltYWdlfGJvcmRlci1pbWFnZS1vdXRzZXR8Ym9yZGVyLWltYWdlLXJlcGVhdHxib3JkZXItaW1hZ2Utc2xpY2V8Ym9yZGVyLWltYWdlLXNvdXJjZXxib3JkZXItaW1hZ2Utd2lkdGh8Ym9yZGVyLWxlZnR8Ym9yZGVyLWxlZnQtY29sb3J8Ym9yZGVyLWxlZnQtc3R5bGV8Ym9yZGVyLWxlZnQtd2lkdGh8Ym9yZGVyLXJhZGl1c3xib3JkZXItcmlnaHR8Ym9yZGVyLXJpZ2h0LWNvbG9yfGJvcmRlci1yaWdodC1zdHlsZXxib3JkZXItcmlnaHQtd2lkdGh8Ym9yZGVyLXNwYWNpbmd8Ym9yZGVyLXN0eWxlfGJvcmRlci10b3B8Ym9yZGVyLXRvcC1jb2xvcnxib3JkZXItdG9wLWxlZnQtcmFkaXVzfGJvcmRlci10b3AtcmlnaHQtcmFkaXVzfGJvcmRlci10b3Atc3R5bGV8Ym9yZGVyLXRvcC13aWR0aHxib3JkZXItd2lkdGh8Ym90dG9tfGJveC1zaGFkb3d8Ym94LXNpemluZ3xjYXB0aW9uLXNpZGV8Y2xlYXJ8Y2xpcHxjb2xvcnxjb2x1bW4tY291bnR8Y29sdW1uLWZpbGx8Y29sdW1uLWdhcHxjb2x1bW4tcnVsZXxjb2x1bW4tcnVsZS1jb2xvcnxjb2x1bW4tcnVsZS1zdHlsZXxjb2x1bW4tcnVsZS13aWR0aHxjb2x1bW4tc3Bhbnxjb2x1bW4td2lkdGh8Y29sdW1uc3xjb250ZW50fGNvdW50ZXItaW5jcmVtZW50fGNvdW50ZXItcmVzZXR8Y3Vyc29yfGRpcmVjdGlvbnxkaXNwbGF5fGVtcHR5LWNlbGxzfGZpbHRlcnxmbGV4fGZsZXgtYmFzaXN8ZmxleC1kaXJlY3Rpb258ZmxleC1mbG93fGZsZXgtZ3Jvd3xmbGV4LXNocmlua3xmbGV4LXdyYXB8ZmxvYXR8Zm9udHxmb250LWZhbWlseXxmb250LXNpemV8Zm9udC1zaXplLWFkanVzdHxmb250LXN0cmV0Y2h8Zm9udC1zdHlsZXxmb250LXZhcmlhbnR8Zm9udC13ZWlnaHR8aGFuZ2luZy1wdW5jdHVhdGlvbnxoZWlnaHR8anVzdGlmeS1jb250ZW50fGxlZnR8bGV0dGVyLXNwYWNpbmd8bGluZS1oZWlnaHR8bGlzdC1zdHlsZXxsaXN0LXN0eWxlLWltYWdlfGxpc3Qtc3R5bGUtcG9zaXRpb258bGlzdC1zdHlsZS10eXBlfG1hcmdpbnxtYXJnaW4tYm90dG9tfG1hcmdpbi1sZWZ0fG1hcmdpbi1yaWdodHxtYXJnaW4tdG9wfG1heC1oZWlnaHR8bWF4LXdpZHRofG1pbi1oZWlnaHR8bWluLXdpZHRofG5hdi1kb3dufG5hdi1pbmRleHxuYXYtbGVmdHxuYXYtcmlnaHR8bmF2LXVwfG9wYWNpdHl8b3JkZXJ8b3V0bGluZXxvdXRsaW5lLWNvbG9yfG91dGxpbmUtb2Zmc2V0fG91dGxpbmUtc3R5bGV8b3V0bGluZS13aWR0aHxvdmVyZmxvd3xvdmVyZmxvdy14fG92ZXJmbG93LXl8cGFkZGluZ3xwYWRkaW5nLWJvdHRvbXxwYWRkaW5nLWxlZnR8cGFkZGluZy1yaWdodHxwYWRkaW5nLXRvcHxwYWdlLWJyZWFrLWFmdGVyfHBhZ2UtYnJlYWstYmVmb3JlfHBhZ2UtYnJlYWstaW5zaWRlfHBlcnNwZWN0aXZlfHBlcnNwZWN0aXZlLW9yaWdpbnxwb3NpdGlvbnxxdW90ZXN8cmVzaXplfHJpZ2h0fHRhYi1zaXplfHRhYmxlLWxheW91dHx0ZXh0LWFsaWdufHRleHQtYWxpZ24tbGFzdHx0ZXh0LWRlY29yYXRpb258dGV4dC1kZWNvcmF0aW9uLWNvbG9yfHRleHQtZGVjb3JhdGlvbi1saW5lfHRleHQtZGVjb3JhdGlvbi1zdHlsZXx0ZXh0LWluZGVudHx0ZXh0LWp1c3RpZnl8dGV4dC1vdmVyZmxvd3x0ZXh0LXNoYWRvd3x0ZXh0LXRyYW5zZm9ybXx0b3B8dHJhbnNmb3JtfHRyYW5zZm9ybS1vcmlnaW58dHJhbnNmb3JtLXN0eWxlfHRyYW5zaXRpb258dHJhbnNpdGlvbi1kZWxheXx0cmFuc2l0aW9uLWR1cmF0aW9ufHRyYW5zaXRpb24tcHJvcGVydHl8dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb258dW5pY29kZS1iaWRpfHZlcnRpY2FsLWFsaWdufHZpc2liaWxpdHl8d2hpdGUtc3BhY2V8d2lkdGh8d29yZC1icmVha3x3b3JkLXNwYWNpbmd8d29yZC13cmFwfHotaW5kZXhcIjtcbnZhciBzdXBwb3J0RnVuY3Rpb24gPSBleHBvcnRzLnN1cHBvcnRGdW5jdGlvbiA9IFwicmdifHJnYmF8dXJsfGF0dHJ8Y291bnRlcnxjb3VudGVyc1wiO1xudmFyIHN1cHBvcnRDb25zdGFudCA9IGV4cG9ydHMuc3VwcG9ydENvbnN0YW50ID0gXCJhYnNvbHV0ZXxhZnRlci1lZGdlfGFmdGVyfGFsbC1zY3JvbGx8YWxsfGFscGhhYmV0aWN8YWx3YXlzfGFudGlhbGlhc2VkfGFybWVuaWFufGF1dG98YXZvaWQtY29sdW1ufGF2b2lkLXBhZ2V8YXZvaWR8YmFsYW5jZXxiYXNlbGluZXxiZWZvcmUtZWRnZXxiZWZvcmV8YmVsb3d8YmlkaS1vdmVycmlkZXxibG9jay1saW5lLWhlaWdodHxibG9ja3xib2xkfGJvbGRlcnxib3JkZXItYm94fGJvdGh8Ym90dG9tfGJveHxicmVhay1hbGx8YnJlYWstd29yZHxjYXBpdGFsaXplfGNhcHMtaGVpZ2h0fGNhcHRpb258Y2VudGVyfGNlbnRyYWx8Y2hhcnxjaXJjbGV8Y2prLWlkZW9ncmFwaGljfGNsb25lfGNsb3NlLXF1b3RlfGNvbC1yZXNpemV8Y29sbGFwc2V8Y29sdW1ufGNvbnNpZGVyLXNoaWZ0c3xjb250YWlufGNvbnRlbnQtYm94fGNvdmVyfGNyb3NzaGFpcnxjdWJpYy1iZXppZXJ8ZGFzaGVkfGRlY2ltYWwtbGVhZGluZy16ZXJvfGRlY2ltYWx8ZGVmYXVsdHxkaXNhYmxlZHxkaXNjfGRpc3JlZ2FyZC1zaGlmdHN8ZGlzdHJpYnV0ZS1hbGwtbGluZXN8ZGlzdHJpYnV0ZS1sZXR0ZXJ8ZGlzdHJpYnV0ZS1zcGFjZXxkaXN0cmlidXRlfGRvdHRlZHxkb3VibGV8ZS1yZXNpemV8ZWFzZS1pbnxlYXNlLWluLW91dHxlYXNlLW91dHxlYXNlfGVsbGlwc2lzfGVuZHxleGNsdWRlLXJ1Ynl8ZmlsbHxmaXhlZHxnZW9yZ2lhbnxnbHlwaHN8Z3JpZC1oZWlnaHR8Z3Jvb3ZlfGhhbmR8aGFuZ2luZ3xoZWJyZXd8aGVscHxoaWRkZW58aGlyYWdhbmEtaXJvaGF8aGlyYWdhbmF8aG9yaXpvbnRhbHxpY29ufGlkZW9ncmFwaC1hbHBoYXxpZGVvZ3JhcGgtbnVtZXJpY3xpZGVvZ3JhcGgtcGFyZW50aGVzaXN8aWRlb2dyYXBoLXNwYWNlfGlkZW9ncmFwaGljfGluYWN0aXZlfGluY2x1ZGUtcnVieXxpbmhlcml0fGluaXRpYWx8aW5saW5lLWJsb2NrfGlubGluZS1ib3h8aW5saW5lLWxpbmUtaGVpZ2h0fGlubGluZS10YWJsZXxpbmxpbmV8aW5zZXR8aW5zaWRlfGludGVyLWlkZW9ncmFwaHxpbnRlci13b3JkfGludmVydHxpdGFsaWN8anVzdGlmeXxrYXRha2FuYS1pcm9oYXxrYXRha2FuYXxrZWVwLWFsbHxsYXN0fGxlZnR8bGlnaHRlcnxsaW5lLWVkZ2V8bGluZS10aHJvdWdofGxpbmV8bGluZWFyfGxpc3QtaXRlbXxsb2NhbHxsb29zZXxsb3dlci1hbHBoYXxsb3dlci1ncmVla3xsb3dlci1sYXRpbnxsb3dlci1yb21hbnxsb3dlcmNhc2V8bHItdGJ8bHRyfG1hdGhlbWF0aWNhbHxtYXgtaGVpZ2h0fG1heC1zaXplfG1lZGl1bXxtZW51fG1lc3NhZ2UtYm94fG1pZGRsZXxtb3ZlfG4tcmVzaXplfG5lLXJlc2l6ZXxuZXdzcGFwZXJ8bm8tY2hhbmdlfG5vLWNsb3NlLXF1b3RlfG5vLWRyb3B8bm8tb3Blbi1xdW90ZXxuby1yZXBlYXR8bm9uZXxub3JtYWx8bm90LWFsbG93ZWR8bm93cmFwfG53LXJlc2l6ZXxvYmxpcXVlfG9wZW4tcXVvdGV8b3V0c2V0fG91dHNpZGV8b3ZlcmxpbmV8cGFkZGluZy1ib3h8cGFnZXxwb2ludGVyfHByZS1saW5lfHByZS13cmFwfHByZXxwcmVzZXJ2ZS0zZHxwcm9ncmVzc3xyZWxhdGl2ZXxyZXBlYXQteHxyZXBlYXQteXxyZXBlYXR8cmVwbGFjZWR8cmVzZXQtc2l6ZXxyaWRnZXxyaWdodHxyb3VuZHxyb3ctcmVzaXplfHJ0bHxzLXJlc2l6ZXxzY3JvbGx8c2UtcmVzaXplfHNlcGFyYXRlfHNsaWNlfHNtYWxsLWNhcHN8c21hbGwtY2FwdGlvbnxzb2xpZHxzcGFjZXxzcXVhcmV8c3RhcnR8c3RhdGljfHN0YXR1cy1iYXJ8c3RlcC1lbmR8c3RlcC1zdGFydHxzdGVwc3xzdHJldGNofHN0cmljdHxzdWJ8c3VwZXJ8c3ctcmVzaXplfHRhYmxlLWNhcHRpb258dGFibGUtY2VsbHx0YWJsZS1jb2x1bW4tZ3JvdXB8dGFibGUtY29sdW1ufHRhYmxlLWZvb3Rlci1ncm91cHx0YWJsZS1oZWFkZXItZ3JvdXB8dGFibGUtcm93LWdyb3VwfHRhYmxlLXJvd3x0YWJsZXx0Yi1ybHx0ZXh0LWFmdGVyLWVkZ2V8dGV4dC1iZWZvcmUtZWRnZXx0ZXh0LWJvdHRvbXx0ZXh0LXNpemV8dGV4dC10b3B8dGV4dHx0aGlja3x0aGlufHRyYW5zcGFyZW50fHVuZGVybGluZXx1cHBlci1hbHBoYXx1cHBlci1sYXRpbnx1cHBlci1yb21hbnx1cHBlcmNhc2V8dXNlLXNjcmlwdHx2ZXJ0aWNhbC1pZGVvZ3JhcGhpY3x2ZXJ0aWNhbC10ZXh0fHZpc2libGV8dy1yZXNpemV8d2FpdHx3aGl0ZXNwYWNlfHotaW5kZXh8emVyb1wiO1xudmFyIHN1cHBvcnRDb25zdGFudENvbG9yID0gZXhwb3J0cy5zdXBwb3J0Q29uc3RhbnRDb2xvciA9IFwiYXF1YXxibGFja3xibHVlfGZ1Y2hzaWF8Z3JheXxncmVlbnxsaW1lfG1hcm9vbnxuYXZ5fG9saXZlfG9yYW5nZXxwdXJwbGV8cmVkfHNpbHZlcnx0ZWFsfHdoaXRlfHllbGxvd1wiO1xudmFyIHN1cHBvcnRDb25zdGFudEZvbnRzID0gZXhwb3J0cy5zdXBwb3J0Q29uc3RhbnRGb250cyA9IFwiYXJpYWx8Y2VudHVyeXxjb21pY3xjb3VyaWVyfGN1cnNpdmV8ZmFudGFzeXxnYXJhbW9uZHxnZW9yZ2lhfGhlbHZldGljYXxpbXBhY3R8bHVjaWRhfHN5bWJvbHxzeXN0ZW18dGFob21hfHRpbWVzfHRyZWJ1Y2hldHx1dG9waWF8dmVyZGFuYXx3ZWJkaW5nc3xzYW5zLXNlcmlmfHNlcmlmfG1vbm9zcGFjZVwiO1xuXG52YXIgbnVtUmUgPSBleHBvcnRzLm51bVJlID0gXCJcXFxcLT8oPzooPzpbMC05XSspfCg/OlswLTldKlxcXFwuWzAtOV0rKSlcIjtcbnZhciBwc2V1ZG9FbGVtZW50cyA9IGV4cG9ydHMucHNldWRvRWxlbWVudHMgPSBcIihcXFxcOispXFxcXGIoYWZ0ZXJ8YmVmb3JlfGZpcnN0LWxldHRlcnxmaXJzdC1saW5lfG1vei1zZWxlY3Rpb258c2VsZWN0aW9uKVxcXFxiXCI7XG52YXIgcHNldWRvQ2xhc3NlcyAgPSBleHBvcnRzLnBzZXVkb0NsYXNzZXMgPSAgXCIoOilcXFxcYihhY3RpdmV8Y2hlY2tlZHxkaXNhYmxlZHxlbXB0eXxlbmFibGVkfGZpcnN0LWNoaWxkfGZpcnN0LW9mLXR5cGV8Zm9jdXN8aG92ZXJ8aW5kZXRlcm1pbmF0ZXxpbnZhbGlkfGxhc3QtY2hpbGR8bGFzdC1vZi10eXBlfGxpbmt8bm90fG50aC1jaGlsZHxudGgtbGFzdC1jaGlsZHxudGgtbGFzdC1vZi10eXBlfG50aC1vZi10eXBlfG9ubHktY2hpbGR8b25seS1vZi10eXBlfGFjZXF1aXJlZHxyb290fHRhcmdldHx2YWxpZHx2aXNpdGVkKVxcXFxiXCI7XG5cbnZhciBDc3NIaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGtleXdvcmRNYXBwZXIgPSB0aGlzLmNyZWF0ZUtleXdvcmRNYXBwZXIoe1xuICAgICAgICBcInN1cHBvcnQuZnVuY3Rpb25cIjogc3VwcG9ydEZ1bmN0aW9uLFxuICAgICAgICBcInN1cHBvcnQuY29uc3RhbnRcIjogc3VwcG9ydENvbnN0YW50LFxuICAgICAgICBcInN1cHBvcnQudHlwZVwiOiBzdXBwb3J0VHlwZSxcbiAgICAgICAgXCJzdXBwb3J0LmNvbnN0YW50LmNvbG9yXCI6IHN1cHBvcnRDb25zdGFudENvbG9yLFxuICAgICAgICBcInN1cHBvcnQuY29uc3RhbnQuZm9udHNcIjogc3VwcG9ydENvbnN0YW50Rm9udHNcbiAgICB9LCBcInRleHRcIiwgdHJ1ZSk7XG5cbiAgICB0aGlzLiRydWxlcyA9IHtcbiAgICAgICAgXCJzdGFydFwiIDogW3tcbiAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50XCIsIC8vIG11bHRpIGxpbmUgY29tbWVudFxuICAgICAgICAgICAgcmVnZXggOiBcIlxcXFwvXFxcXCpcIixcbiAgICAgICAgICAgIHB1c2ggOiBcImNvbW1lbnRcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbjogXCJwYXJlbi5scGFyZW5cIixcbiAgICAgICAgICAgIHJlZ2V4OiBcIlxcXFx7XCIsXG4gICAgICAgICAgICBwdXNoOiAgXCJydWxlc2V0XCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICByZWdleDogXCJALio/e1wiLFxuICAgICAgICAgICAgcHVzaDogIFwibWVkaWFcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbjogXCJrZXl3b3JkXCIsXG4gICAgICAgICAgICByZWdleDogXCIjW2EtejAtOS1fXStcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbjogXCJ2YXJpYWJsZVwiLFxuICAgICAgICAgICAgcmVnZXg6IFwiXFxcXC5bYS16MC05LV9dK1wiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgcmVnZXg6IFwiOlthLXowLTktX10rXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW46IFwiY29uc3RhbnRcIixcbiAgICAgICAgICAgIHJlZ2V4OiBcIlthLXowLTktX10rXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY2FzZUluc2Vuc2l0aXZlOiB0cnVlXG4gICAgICAgIH1dLFxuXG4gICAgICAgIFwibWVkaWFcIiA6IFt7XG4gICAgICAgICAgICB0b2tlbiA6IFwiY29tbWVudFwiLCAvLyBtdWx0aSBsaW5lIGNvbW1lbnRcbiAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcL1xcXFwqXCIsXG4gICAgICAgICAgICBwdXNoIDogXCJjb21tZW50XCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW46IFwicGFyZW4ubHBhcmVuXCIsXG4gICAgICAgICAgICByZWdleDogXCJcXFxce1wiLFxuICAgICAgICAgICAgcHVzaDogIFwicnVsZXNldFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgcmVnZXg6IFwiXFxcXH1cIixcbiAgICAgICAgICAgIG5leHQ6ICBcInBvcFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuOiBcImtleXdvcmRcIixcbiAgICAgICAgICAgIHJlZ2V4OiBcIiNbYS16MC05LV9dK1wiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuOiBcInZhcmlhYmxlXCIsXG4gICAgICAgICAgICByZWdleDogXCJcXFxcLlthLXowLTktX10rXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICByZWdleDogXCI6W2EtejAtOS1fXStcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbjogXCJjb25zdGFudFwiLFxuICAgICAgICAgICAgcmVnZXg6IFwiW2EtejAtOS1fXStcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjYXNlSW5zZW5zaXRpdmU6IHRydWVcbiAgICAgICAgfV0sXG5cbiAgICAgICAgXCJjb21tZW50XCIgOiBbe1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnRcIixcbiAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcKlxcXFwvXCIsXG4gICAgICAgICAgICBuZXh0IDogXCJwb3BcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0VG9rZW4gOiBcImNvbW1lbnRcIlxuICAgICAgICB9XSxcblxuICAgICAgICBcInJ1bGVzZXRcIiA6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgdG9rZW4gOiBcInBhcmVuLnJwYXJlblwiLFxuICAgICAgICAgICAgcmVnZXggOiBcIlxcXFx9XCIsXG4gICAgICAgICAgICBuZXh0OiAgIFwicG9wXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnRcIiwgLy8gbXVsdGkgbGluZSBjb21tZW50XG4gICAgICAgICAgICByZWdleCA6IFwiXFxcXC9cXFxcKlwiLFxuICAgICAgICAgICAgcHVzaCA6IFwiY29tbWVudFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmdcIiwgLy8gc2luZ2xlIGxpbmVcbiAgICAgICAgICAgIHJlZ2V4IDogJ1tcIl0oPzooPzpcXFxcXFxcXC4pfCg/OlteXCJcXFxcXFxcXF0pKSo/W1wiXSdcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLCAvLyBzaW5nbGUgbGluZVxuICAgICAgICAgICAgcmVnZXggOiBcIlsnXSg/Oig/OlxcXFxcXFxcLil8KD86W14nXFxcXFxcXFxdKSkqP1snXVwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuIDogW1wiY29uc3RhbnQubnVtZXJpY1wiLCBcImtleXdvcmRcIl0sXG4gICAgICAgICAgICByZWdleCA6IFwiKFwiICsgbnVtUmUgKyBcIikoY2h8Y218ZGVnfGVtfGV4fGZyfGdkfGdyYWR8SHp8aW58a0h6fG1tfG1zfHBjfHB0fHB4fHJhZHxyZW18c3x0dXJufHZofHZtfHZ3fCUpXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lm51bWVyaWNcIixcbiAgICAgICAgICAgIHJlZ2V4IDogbnVtUmVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lm51bWVyaWNcIiwgIC8vIGhleDYgY29sb3JcbiAgICAgICAgICAgIHJlZ2V4IDogXCIjW2EtZjAtOV17Nn1cIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubnVtZXJpY1wiLCAvLyBoZXgzIGNvbG9yXG4gICAgICAgICAgICByZWdleCA6IFwiI1thLWYwLTldezN9XCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBbXCJwdW5jdHVhdGlvblwiLCBcImVudGl0eS5vdGhlci5hdHRyaWJ1dGUtbmFtZS5wc2V1ZG8tZWxlbWVudC5jc3NcIl0sXG4gICAgICAgICAgICByZWdleCA6IHBzZXVkb0VsZW1lbnRzXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuIDogW1wicHVuY3R1YXRpb25cIiwgXCJlbnRpdHkub3RoZXIuYXR0cmlidXRlLW5hbWUucHNldWRvLWNsYXNzLmNzc1wiXSxcbiAgICAgICAgICAgIHJlZ2V4IDogcHNldWRvQ2xhc3Nlc1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbiA6IFtcInN1cHBvcnQuZnVuY3Rpb25cIiwgXCJzdHJpbmdcIiwgXCJzdXBwb3J0LmZ1bmN0aW9uXCJdLFxuICAgICAgICAgICAgcmVnZXggOiBcIih1cmxcXFxcKCkoLiopKFxcXFwpKVwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuIDoga2V5d29yZE1hcHBlcixcbiAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcLT9bYS16QS1aX11bYS16QS1aMC05X1xcXFwtXSpcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjYXNlSW5zZW5zaXRpdmU6IHRydWVcbiAgICAgICAgfV1cbiAgICB9O1xuXG4gICAgdGhpcy5ub3JtYWxpemVSdWxlcygpO1xufTtcblxub29wLmluaGVyaXRzKENzc0hpZ2hsaWdodFJ1bGVzLCBUZXh0SGlnaGxpZ2h0UnVsZXMpO1xuXG5leHBvcnRzLkNzc0hpZ2hsaWdodFJ1bGVzID0gQ3NzSGlnaGxpZ2h0UnVsZXM7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvY3NzX2NvbXBsZXRpb25zXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIHByb3BlcnR5TWFwID0ge1xuICAgIFwiYmFja2dyb3VuZFwiOiB7XCIjJDBcIjogMX0sXG4gICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IHtcIiMkMFwiOiAxLCBcInRyYW5zcGFyZW50XCI6IDEsIFwiZml4ZWRcIjogMX0sXG4gICAgXCJiYWNrZ3JvdW5kLWltYWdlXCI6IHtcInVybCgnLyQwJylcIjogMX0sXG4gICAgXCJiYWNrZ3JvdW5kLXJlcGVhdFwiOiB7XCJyZXBlYXRcIjogMSwgXCJyZXBlYXQteFwiOiAxLCBcInJlcGVhdC15XCI6IDEsIFwibm8tcmVwZWF0XCI6IDEsIFwiaW5oZXJpdFwiOiAxfSxcbiAgICBcImJhY2tncm91bmQtcG9zaXRpb25cIjoge1wiYm90dG9tXCI6MiwgXCJjZW50ZXJcIjoyLCBcImxlZnRcIjoyLCBcInJpZ2h0XCI6MiwgXCJ0b3BcIjoyLCBcImluaGVyaXRcIjoyfSxcbiAgICBcImJhY2tncm91bmQtYXR0YWNobWVudFwiOiB7XCJzY3JvbGxcIjogMSwgXCJmaXhlZFwiOiAxfSxcbiAgICBcImJhY2tncm91bmQtc2l6ZVwiOiB7XCJjb3ZlclwiOiAxLCBcImNvbnRhaW5cIjogMX0sXG4gICAgXCJiYWNrZ3JvdW5kLWNsaXBcIjoge1wiYm9yZGVyLWJveFwiOiAxLCBcInBhZGRpbmctYm94XCI6IDEsIFwiY29udGVudC1ib3hcIjogMX0sXG4gICAgXCJiYWNrZ3JvdW5kLW9yaWdpblwiOiB7XCJib3JkZXItYm94XCI6IDEsIFwicGFkZGluZy1ib3hcIjogMSwgXCJjb250ZW50LWJveFwiOiAxfSxcbiAgICBcImJvcmRlclwiOiB7XCJzb2xpZCAkMFwiOiAxLCBcImRhc2hlZCAkMFwiOiAxLCBcImRvdHRlZCAkMFwiOiAxLCBcIiMkMFwiOiAxfSxcbiAgICBcImJvcmRlci1jb2xvclwiOiB7XCIjJDBcIjogMX0sXG4gICAgXCJib3JkZXItc3R5bGVcIjoge1wic29saWRcIjoyLCBcImRhc2hlZFwiOjIsIFwiZG90dGVkXCI6MiwgXCJkb3VibGVcIjoyLCBcImdyb292ZVwiOjIsIFwiaGlkZGVuXCI6MiwgXCJpbmhlcml0XCI6MiwgXCJpbnNldFwiOjIsIFwibm9uZVwiOjIsIFwib3V0c2V0XCI6MiwgXCJyaWRnZWRcIjoyfSxcbiAgICBcImJvcmRlci1jb2xsYXBzZVwiOiB7XCJjb2xsYXBzZVwiOiAxLCBcInNlcGFyYXRlXCI6IDF9LFxuICAgIFwiYm90dG9tXCI6IHtcInB4XCI6IDEsIFwiZW1cIjogMSwgXCIlXCI6IDF9LFxuICAgIFwiY2xlYXJcIjoge1wibGVmdFwiOiAxLCBcInJpZ2h0XCI6IDEsIFwiYm90aFwiOiAxLCBcIm5vbmVcIjogMX0sXG4gICAgXCJjb2xvclwiOiB7XCIjJDBcIjogMSwgXCJyZ2IoIyQwMCwwLDApXCI6IDF9LFxuICAgIFwiY3Vyc29yXCI6IHtcImRlZmF1bHRcIjogMSwgXCJwb2ludGVyXCI6IDEsIFwibW92ZVwiOiAxLCBcInRleHRcIjogMSwgXCJ3YWl0XCI6IDEsIFwiaGVscFwiOiAxLCBcInByb2dyZXNzXCI6IDEsIFwibi1yZXNpemVcIjogMSwgXCJuZS1yZXNpemVcIjogMSwgXCJlLXJlc2l6ZVwiOiAxLCBcInNlLXJlc2l6ZVwiOiAxLCBcInMtcmVzaXplXCI6IDEsIFwic3ctcmVzaXplXCI6IDEsIFwidy1yZXNpemVcIjogMSwgXCJudy1yZXNpemVcIjogMX0sXG4gICAgXCJkaXNwbGF5XCI6IHtcIm5vbmVcIjogMSwgXCJibG9ja1wiOiAxLCBcImlubGluZVwiOiAxLCBcImlubGluZS1ibG9ja1wiOiAxLCBcInRhYmxlLWNlbGxcIjogMX0sXG4gICAgXCJlbXB0eS1jZWxsc1wiOiB7XCJzaG93XCI6IDEsIFwiaGlkZVwiOiAxfSxcbiAgICBcImZsb2F0XCI6IHtcImxlZnRcIjogMSwgXCJyaWdodFwiOiAxLCBcIm5vbmVcIjogMX0sXG4gICAgXCJmb250LWZhbWlseVwiOiB7XCJBcmlhbFwiOjIsXCJDb21pYyBTYW5zIE1TXCI6MixcIkNvbnNvbGFzXCI6MixcIkNvdXJpZXIgTmV3XCI6MixcIkNvdXJpZXJcIjoyLFwiR2VvcmdpYVwiOjIsXCJNb25vc3BhY2VcIjoyLFwiU2Fucy1TZXJpZlwiOjIsIFwiU2Vnb2UgVUlcIjoyLFwiVGFob21hXCI6MixcIlRpbWVzIE5ldyBSb21hblwiOjIsXCJUcmVidWNoZXQgTVNcIjoyLFwiVmVyZGFuYVwiOiAxfSxcbiAgICBcImZvbnQtc2l6ZVwiOiB7XCJweFwiOiAxLCBcImVtXCI6IDEsIFwiJVwiOiAxfSxcbiAgICBcImZvbnQtd2VpZ2h0XCI6IHtcImJvbGRcIjogMSwgXCJub3JtYWxcIjogMX0sXG4gICAgXCJmb250LXN0eWxlXCI6IHtcIml0YWxpY1wiOiAxLCBcIm5vcm1hbFwiOiAxfSxcbiAgICBcImZvbnQtdmFyaWFudFwiOiB7XCJub3JtYWxcIjogMSwgXCJzbWFsbC1jYXBzXCI6IDF9LFxuICAgIFwiaGVpZ2h0XCI6IHtcInB4XCI6IDEsIFwiZW1cIjogMSwgXCIlXCI6IDF9LFxuICAgIFwibGVmdFwiOiB7XCJweFwiOiAxLCBcImVtXCI6IDEsIFwiJVwiOiAxfSxcbiAgICBcImxldHRlci1zcGFjaW5nXCI6IHtcIm5vcm1hbFwiOiAxfSxcbiAgICBcImxpbmUtaGVpZ2h0XCI6IHtcIm5vcm1hbFwiOiAxfSxcbiAgICBcImxpc3Qtc3R5bGUtdHlwZVwiOiB7XCJub25lXCI6IDEsIFwiZGlzY1wiOiAxLCBcImNpcmNsZVwiOiAxLCBcInNxdWFyZVwiOiAxLCBcImRlY2ltYWxcIjogMSwgXCJkZWNpbWFsLWxlYWRpbmctemVyb1wiOiAxLCBcImxvd2VyLXJvbWFuXCI6IDEsIFwidXBwZXItcm9tYW5cIjogMSwgXCJsb3dlci1ncmVla1wiOiAxLCBcImxvd2VyLWxhdGluXCI6IDEsIFwidXBwZXItbGF0aW5cIjogMSwgXCJnZW9yZ2lhblwiOiAxLCBcImxvd2VyLWFscGhhXCI6IDEsIFwidXBwZXItYWxwaGFcIjogMX0sXG4gICAgXCJtYXJnaW5cIjoge1wicHhcIjogMSwgXCJlbVwiOiAxLCBcIiVcIjogMX0sXG4gICAgXCJtYXJnaW4tcmlnaHRcIjoge1wicHhcIjogMSwgXCJlbVwiOiAxLCBcIiVcIjogMX0sXG4gICAgXCJtYXJnaW4tbGVmdFwiOiB7XCJweFwiOiAxLCBcImVtXCI6IDEsIFwiJVwiOiAxfSxcbiAgICBcIm1hcmdpbi10b3BcIjoge1wicHhcIjogMSwgXCJlbVwiOiAxLCBcIiVcIjogMX0sXG4gICAgXCJtYXJnaW4tYm90dG9tXCI6IHtcInB4XCI6IDEsIFwiZW1cIjogMSwgXCIlXCI6IDF9LFxuICAgIFwibWF4LWhlaWdodFwiOiB7XCJweFwiOiAxLCBcImVtXCI6IDEsIFwiJVwiOiAxfSxcbiAgICBcIm1heC13aWR0aFwiOiB7XCJweFwiOiAxLCBcImVtXCI6IDEsIFwiJVwiOiAxfSxcbiAgICBcIm1pbi1oZWlnaHRcIjoge1wicHhcIjogMSwgXCJlbVwiOiAxLCBcIiVcIjogMX0sXG4gICAgXCJtaW4td2lkdGhcIjoge1wicHhcIjogMSwgXCJlbVwiOiAxLCBcIiVcIjogMX0sXG4gICAgXCJvdmVyZmxvd1wiOiB7XCJoaWRkZW5cIjogMSwgXCJ2aXNpYmxlXCI6IDEsIFwiYXV0b1wiOiAxLCBcInNjcm9sbFwiOiAxfSxcbiAgICBcIm92ZXJmbG93LXhcIjoge1wiaGlkZGVuXCI6IDEsIFwidmlzaWJsZVwiOiAxLCBcImF1dG9cIjogMSwgXCJzY3JvbGxcIjogMX0sXG4gICAgXCJvdmVyZmxvdy15XCI6IHtcImhpZGRlblwiOiAxLCBcInZpc2libGVcIjogMSwgXCJhdXRvXCI6IDEsIFwic2Nyb2xsXCI6IDF9LFxuICAgIFwicGFkZGluZ1wiOiB7XCJweFwiOiAxLCBcImVtXCI6IDEsIFwiJVwiOiAxfSxcbiAgICBcInBhZGRpbmctdG9wXCI6IHtcInB4XCI6IDEsIFwiZW1cIjogMSwgXCIlXCI6IDF9LFxuICAgIFwicGFkZGluZy1yaWdodFwiOiB7XCJweFwiOiAxLCBcImVtXCI6IDEsIFwiJVwiOiAxfSxcbiAgICBcInBhZGRpbmctYm90dG9tXCI6IHtcInB4XCI6IDEsIFwiZW1cIjogMSwgXCIlXCI6IDF9LFxuICAgIFwicGFkZGluZy1sZWZ0XCI6IHtcInB4XCI6IDEsIFwiZW1cIjogMSwgXCIlXCI6IDF9LFxuICAgIFwicGFnZS1icmVhay1hZnRlclwiOiB7XCJhdXRvXCI6IDEsIFwiYWx3YXlzXCI6IDEsIFwiYXZvaWRcIjogMSwgXCJsZWZ0XCI6IDEsIFwicmlnaHRcIjogMX0sXG4gICAgXCJwYWdlLWJyZWFrLWJlZm9yZVwiOiB7XCJhdXRvXCI6IDEsIFwiYWx3YXlzXCI6IDEsIFwiYXZvaWRcIjogMSwgXCJsZWZ0XCI6IDEsIFwicmlnaHRcIjogMX0sXG4gICAgXCJwb3NpdGlvblwiOiB7XCJhYnNvbHV0ZVwiOiAxLCBcInJlbGF0aXZlXCI6IDEsIFwiZml4ZWRcIjogMSwgXCJzdGF0aWNcIjogMX0sXG4gICAgXCJyaWdodFwiOiB7XCJweFwiOiAxLCBcImVtXCI6IDEsIFwiJVwiOiAxfSxcbiAgICBcInRhYmxlLWxheW91dFwiOiB7XCJmaXhlZFwiOiAxLCBcImF1dG9cIjogMX0sXG4gICAgXCJ0ZXh0LWRlY29yYXRpb25cIjoge1wibm9uZVwiOiAxLCBcInVuZGVybGluZVwiOiAxLCBcImxpbmUtdGhyb3VnaFwiOiAxLCBcImJsaW5rXCI6IDF9LFxuICAgIFwidGV4dC1hbGlnblwiOiB7XCJsZWZ0XCI6IDEsIFwicmlnaHRcIjogMSwgXCJjZW50ZXJcIjogMSwgXCJqdXN0aWZ5XCI6IDF9LFxuICAgIFwidGV4dC10cmFuc2Zvcm1cIjoge1wiY2FwaXRhbGl6ZVwiOiAxLCBcInVwcGVyY2FzZVwiOiAxLCBcImxvd2VyY2FzZVwiOiAxLCBcIm5vbmVcIjogMX0sXG4gICAgXCJ0b3BcIjoge1wicHhcIjogMSwgXCJlbVwiOiAxLCBcIiVcIjogMX0sXG4gICAgXCJ2ZXJ0aWNhbC1hbGlnblwiOiB7XCJ0b3BcIjogMSwgXCJib3R0b21cIjogMX0sXG4gICAgXCJ2aXNpYmlsaXR5XCI6IHtcImhpZGRlblwiOiAxLCBcInZpc2libGVcIjogMX0sXG4gICAgXCJ3aGl0ZS1zcGFjZVwiOiB7XCJub3dyYXBcIjogMSwgXCJub3JtYWxcIjogMSwgXCJwcmVcIjogMSwgXCJwcmUtbGluZVwiOiAxLCBcInByZS13cmFwXCI6IDF9LFxuICAgIFwid2lkdGhcIjoge1wicHhcIjogMSwgXCJlbVwiOiAxLCBcIiVcIjogMX0sXG4gICAgXCJ3b3JkLXNwYWNpbmdcIjoge1wibm9ybWFsXCI6IDF9LFxuICAgIFwiZmlsdGVyXCI6IHtcImFscGhhKG9wYWNpdHk9JDAxMDApXCI6IDF9LFxuXG4gICAgXCJ0ZXh0LXNoYWRvd1wiOiB7XCIkMDJweCAycHggMnB4ICM3NzdcIjogMX0sXG4gICAgXCJ0ZXh0LW92ZXJmbG93XCI6IHtcImVsbGlwc2lzLXdvcmRcIjogMSwgXCJjbGlwXCI6IDEsIFwiZWxsaXBzaXNcIjogMX0sXG4gICAgXCItbW96LWJvcmRlci1yYWRpdXNcIjogMSxcbiAgICBcIi1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodFwiOiAxLFxuICAgIFwiLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0XCI6IDEsXG4gICAgXCItbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdFwiOiAxLFxuICAgIFwiLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnRcIjogMSxcbiAgICBcIi13ZWJraXQtYm9yZGVyLXJhZGl1c1wiOiAxLFxuICAgIFwiLXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1c1wiOiAxLFxuICAgIFwiLXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzXCI6IDEsXG4gICAgXCItd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCI6IDEsXG4gICAgXCItd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXNcIjogMSxcbiAgICBcIi1tb3otYm94LXNoYWRvd1wiOiAxLFxuICAgIFwiLXdlYmtpdC1ib3gtc2hhZG93XCI6IDEsXG4gICAgXCJ0cmFuc2Zvcm1cIjoge1wicm90YXRlKCQwMGRlZylcIjogMSwgXCJza2V3KCQwMGRlZylcIjogMX0sXG4gICAgXCItbW96LXRyYW5zZm9ybVwiOiB7XCJyb3RhdGUoJDAwZGVnKVwiOiAxLCBcInNrZXcoJDAwZGVnKVwiOiAxfSxcbiAgICBcIi13ZWJraXQtdHJhbnNmb3JtXCI6IHtcInJvdGF0ZSgkMDBkZWcpXCI6IDEsIFwic2tldygkMDBkZWcpXCI6IDEgfVxufTtcblxudmFyIENzc0NvbXBsZXRpb25zID0gZnVuY3Rpb24oKSB7XG5cbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuY29tcGxldGlvbnNEZWZpbmVkID0gZmFsc2U7XG5cbiAgICB0aGlzLmRlZmluZUNvbXBsZXRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChkb2N1bWVudCkge1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYycpLnN0eWxlO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHlsZVtpXSAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICctJyArIHgudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlNYXAuaGFzT3duUHJvcGVydHkobmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5TWFwW25hbWVdID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29tcGxldGlvbnNEZWZpbmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmdldENvbXBsZXRpb25zID0gZnVuY3Rpb24oc3RhdGUsIHNlc3Npb24sIHBvcywgcHJlZml4KSB7XG4gICAgICAgIGlmICghdGhpcy5jb21wbGV0aW9uc0RlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lQ29tcGxldGlvbnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b2tlbiA9IHNlc3Npb24uZ2V0VG9rZW5BdChwb3Mucm93LCBwb3MuY29sdW1uKTtcblxuICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBpZiAoc3RhdGU9PT0ncnVsZXNldCcpe1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocG9zLnJvdykuc3Vic3RyKDAsIHBvcy5jb2x1bW4pO1xuICAgICAgICAgICAgaWYgKC86W147XSskLy50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgICAgLyhbXFx3XFwtXSspOlteOl0qJC8udGVzdChsaW5lKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5VmFsdWVDb21wbGV0aW9ucyhzdGF0ZSwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eUNvbXBsZXRpb25zKHN0YXRlLCBzZXNzaW9uLCBwb3MsIHByZWZpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW107XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0UHJvcGVydHlDb21wbGV0aW9ucyA9IGZ1bmN0aW9uKHN0YXRlLCBzZXNzaW9uLCBwb3MsIHByZWZpeCkge1xuICAgICAgICB2YXIgcHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHByb3BlcnR5TWFwKTtcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXMubWFwKGZ1bmN0aW9uKHByb3BlcnR5KXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FwdGlvbjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgc25pcHBldDogcHJvcGVydHkgKyAnOiAkMCcsXG4gICAgICAgICAgICAgICAgbWV0YTogXCJwcm9wZXJ0eVwiLFxuICAgICAgICAgICAgICAgIHNjb3JlOiBOdW1iZXIuTUFYX1ZBTFVFXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRQcm9wZXJ0eVZhbHVlQ29tcGxldGlvbnMgPSBmdW5jdGlvbihzdGF0ZSwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocG9zLnJvdykuc3Vic3RyKDAsIHBvcy5jb2x1bW4pO1xuICAgICAgICB2YXIgcHJvcGVydHkgPSAoLyhbXFx3XFwtXSspOlteOl0qJC8uZXhlYyhsaW5lKSB8fCB7fSlbMV07XG5cbiAgICAgICAgaWYgKCFwcm9wZXJ0eSlcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICBpZiAocHJvcGVydHkgaW4gcHJvcGVydHlNYXAgJiYgdHlwZW9mIHByb3BlcnR5TWFwW3Byb3BlcnR5XSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdmFsdWVzID0gT2JqZWN0LmtleXMocHJvcGVydHlNYXBbcHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzLm1hcChmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNhcHRpb246IHZhbHVlLFxuICAgICAgICAgICAgICAgIHNuaXBwZXQ6IHZhbHVlLFxuICAgICAgICAgICAgICAgIG1ldGE6IFwicHJvcGVydHkgdmFsdWVcIixcbiAgICAgICAgICAgICAgICBzY29yZTogTnVtYmVyLk1BWF9WQUxVRVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxufSkuY2FsbChDc3NDb21wbGV0aW9ucy5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkNzc0NvbXBsZXRpb25zID0gQ3NzQ29tcGxldGlvbnM7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb2RlL2JlaGF2aW91ci9jc3NcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS9iZWhhdmlvdXJcIixcImFjZS9tb2RlL2JlaGF2aW91ci9jc3R5bGVcIixcImFjZS90b2tlbl9pdGVyYXRvclwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuLi9iZWhhdmlvdXJcIikuQmVoYXZpb3VyO1xudmFyIENzdHlsZUJlaGF2aW91ciA9IGFjZXF1aXJlKFwiLi9jc3R5bGVcIikuQ3N0eWxlQmVoYXZpb3VyO1xudmFyIFRva2VuSXRlcmF0b3IgPSBhY2VxdWlyZShcIi4uLy4uL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3I7XG5cbnZhciBDc3NCZWhhdmlvdXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmluaGVyaXQoQ3N0eWxlQmVoYXZpb3VyKTtcblxuICAgIHRoaXMuYWRkKFwiY29sb25cIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgdGV4dCkge1xuICAgICAgICBpZiAodGV4dCA9PT0gJzonKSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcihzZXNzaW9uLCBjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbigpO1xuICAgICAgICAgICAgaWYgKHRva2VuICYmIHRva2VuLnZhbHVlLm1hdGNoKC9cXHMrLykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRva2VuICYmIHRva2VuLnR5cGUgPT09ICdzdXBwb3J0LnR5cGUnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCAxXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbikubWF0Y2goL15cXHMqOy8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICc6OycsXG4gICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwiY29sb25cIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgc2VsZWN0ZWQgPT09ICc6Jykge1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgICAgICAgICAgIGlmICh0b2tlbiAmJiB0b2tlbi52YWx1ZS5tYXRjaCgvXFxzKy8pKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwQmFja3dhcmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbiAmJiB0b2tlbi50eXBlID09PSAnc3VwcG9ydC50eXBlJykge1xuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShyYW5nZS5zdGFydC5yb3cpO1xuICAgICAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5lbmQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PT0gJzsnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gKys7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwic2VtaWNvbG9uXCIsIFwiaW5zZXJ0aW9uXCIsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHRleHQpIHtcbiAgICAgICAgaWYgKHRleHQgPT09ICc7Jykge1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT09ICc7Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxufVxub29wLmluaGVyaXRzKENzc0JlaGF2aW91ciwgQ3N0eWxlQmVoYXZpb3VyKTtcblxuZXhwb3J0cy5Dc3NCZWhhdmlvdXIgPSBDc3NCZWhhdmlvdXI7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb2RlL2Nzc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL3RleHRcIixcImFjZS9tb2RlL2Nzc19oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnRcIixcImFjZS93b3JrZXIvd29ya2VyX2NsaWVudFwiLFwiYWNlL21vZGUvY3NzX2NvbXBsZXRpb25zXCIsXCJhY2UvbW9kZS9iZWhhdmlvdXIvY3NzXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgVGV4dE1vZGUgPSBhY2VxdWlyZShcIi4vdGV4dFwiKS5Nb2RlO1xudmFyIENzc0hpZ2hsaWdodFJ1bGVzID0gYWNlcXVpcmUoXCIuL2Nzc19oaWdobGlnaHRfcnVsZXNcIikuQ3NzSGlnaGxpZ2h0UnVsZXM7XG52YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSBhY2VxdWlyZShcIi4vbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudFwiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudDtcbnZhciBXb3JrZXJDbGllbnQgPSBhY2VxdWlyZShcIi4uL3dvcmtlci93b3JrZXJfY2xpZW50XCIpLldvcmtlckNsaWVudDtcbnZhciBDc3NDb21wbGV0aW9ucyA9IGFjZXF1aXJlKFwiLi9jc3NfY29tcGxldGlvbnNcIikuQ3NzQ29tcGxldGlvbnM7XG52YXIgQ3NzQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuL2JlaGF2aW91ci9jc3NcIikuQ3NzQmVoYXZpb3VyO1xudmFyIENTdHlsZUZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2ZvbGRpbmcvY3N0eWxlXCIpLkZvbGRNb2RlO1xuXG52YXIgTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuSGlnaGxpZ2h0UnVsZXMgPSBDc3NIaWdobGlnaHRSdWxlcztcbiAgICB0aGlzLiRvdXRkZW50ID0gbmV3IE1hdGNoaW5nQnJhY2VPdXRkZW50KCk7XG4gICAgdGhpcy4kYmVoYXZpb3VyID0gbmV3IENzc0JlaGF2aW91cigpO1xuICAgIHRoaXMuJGNvbXBsZXRlciA9IG5ldyBDc3NDb21wbGV0aW9ucygpO1xuICAgIHRoaXMuZm9sZGluZ1J1bGVzID0gbmV3IENTdHlsZUZvbGRNb2RlKCk7XG59O1xub29wLmluaGVyaXRzKE1vZGUsIFRleHRNb2RlKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBcImNTdHlsZVwiO1xuICAgIHRoaXMuYmxvY2tDb21tZW50ID0ge3N0YXJ0OiBcIi8qXCIsIGVuZDogXCIqL1wifTtcblxuICAgIHRoaXMuZ2V0TmV4dExpbmVJbmRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgbGluZSwgdGFiKSB7XG4gICAgICAgIHZhciBpbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQobGluZSk7XG4gICAgICAgIHZhciB0b2tlbnMgPSB0aGlzLmdldFRva2VuaXplcigpLmdldExpbmVUb2tlbnMobGluZSwgc3RhdGUpLnRva2VucztcbiAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggJiYgdG9rZW5zW3Rva2Vucy5sZW5ndGgtMV0udHlwZSA9PSBcImNvbW1lbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGluZGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2goL14uKlxce1xccyokLyk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgaW5kZW50ICs9IHRhYjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRlbnQ7XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24oc3RhdGUsIGxpbmUsIGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRvdXRkZW50LmNoZWNrT3V0ZGVudChsaW5lLCBpbnB1dCk7XG4gICAgfTtcblxuICAgIHRoaXMuYXV0b091dGRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgZG9jLCByb3cpIHtcbiAgICAgICAgdGhpcy4kb3V0ZGVudC5hdXRvT3V0ZGVudChkb2MsIHJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q29tcGxldGlvbnMgPSBmdW5jdGlvbihzdGF0ZSwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNvbXBsZXRlci5nZXRDb21wbGV0aW9ucyhzdGF0ZSwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgpO1xuICAgIH07XG5cbiAgICB0aGlzLmNyZWF0ZVdvcmtlciA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgdmFyIHdvcmtlciA9IG5ldyBXb3JrZXJDbGllbnQoW1wiYWNlXCJdLCByZXF1aXJlKFwiLi4vd29ya2VyL2Nzc1wiKSwgXCJXb3JrZXJcIik7XG4gICAgICAgIHdvcmtlci5hdHRhY2hUb0RvY3VtZW50KHNlc3Npb24uZ2V0RG9jdW1lbnQoKSk7XG5cbiAgICAgICAgd29ya2VyLm9uKFwiYW5ub3RhdGVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgc2Vzc2lvbi5zZXRBbm5vdGF0aW9ucyhlLmRhdGEpO1xuICAgICAgICB9KTtcblxuICAgICAgICB3b3JrZXIub24oXCJ0ZXJtaW5hdGVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZXNzaW9uLmNsZWFyQW5ub3RhdGlvbnMoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHdvcmtlcjtcbiAgICB9O1xuXG4gICAgdGhpcy4kaWQgPSBcImFjZS9tb2RlL2Nzc1wiO1xufSkuY2FsbChNb2RlLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTW9kZSA9IE1vZGU7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUveG1sX2hpZ2hsaWdodF9ydWxlc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBUZXh0SGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4vdGV4dF9oaWdobGlnaHRfcnVsZXNcIikuVGV4dEhpZ2hsaWdodFJ1bGVzO1xuXG52YXIgWG1sSGlnaGxpZ2h0UnVsZXMgPSBmdW5jdGlvbihub3JtYWxpemUpIHtcbiAgICB2YXIgdGFnUmVnZXggPSBcIltfOmEtekEtWlxceGMwLVxcdWZmZmZdWy1fOi5hLXpBLVowLTlcXHhjMC1cXHVmZmZmXSpcIjtcblxuICAgIHRoaXMuJHJ1bGVzID0ge1xuICAgICAgICBzdGFydCA6IFtcbiAgICAgICAgICAgIHt0b2tlbiA6IFwic3RyaW5nLmNkYXRhLnhtbFwiLCByZWdleCA6IFwiPFxcXFwhXFxcXFtDREFUQVxcXFxbXCIsIG5leHQgOiBcImNkYXRhXCJ9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1wicHVuY3R1YXRpb24ueG1sLWRlY2wueG1sXCIsIFwia2V5d29yZC54bWwtZGVjbC54bWxcIl0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIig8XFxcXD8pKHhtbCkoPz1bXFxcXHNdKVwiLCBuZXh0IDogXCJ4bWxfZGVjbFwiLCBjYXNlSW5zZW5zaXRpdmU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXCJwdW5jdHVhdGlvbi5pbnN0cnVjdGlvbi54bWxcIiwgXCJrZXl3b3JkLmluc3RydWN0aW9uLnhtbFwiXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKDxcXFxcPykoXCIgKyB0YWdSZWdleCArIFwiKVwiLCBuZXh0IDogXCJwcm9jZXNzaW5nX2luc3RydWN0aW9uXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7dG9rZW4gOiBcImNvbW1lbnQueG1sXCIsIHJlZ2V4IDogXCI8XFxcXCEtLVwiLCBuZXh0IDogXCJjb21tZW50XCJ9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1wieG1sLXBlLmRvY3R5cGUueG1sXCIsIFwieG1sLXBlLmRvY3R5cGUueG1sXCJdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoPFxcXFwhKShET0NUWVBFKSg/PVtcXFxcc10pXCIsIG5leHQgOiBcImRvY3R5cGVcIiwgY2FzZUluc2Vuc2l0aXZlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge2luY2x1ZGUgOiBcInRhZ1wifSxcbiAgICAgICAgICAgIHt0b2tlbiA6IFwidGV4dC5lbmQtdGFnLW9wZW4ueG1sXCIsIHJlZ2V4OiBcIjwvXCJ9LFxuICAgICAgICAgICAge3Rva2VuIDogXCJ0ZXh0LnRhZy1vcGVuLnhtbFwiLCByZWdleDogXCI8XCJ9LFxuICAgICAgICAgICAge2luY2x1ZGUgOiBcInJlZmVyZW5jZVwifSxcbiAgICAgICAgICAgIHtkZWZhdWx0VG9rZW4gOiBcInRleHQueG1sXCJ9XG4gICAgICAgIF0sXG5cbiAgICAgICAgeG1sX2RlY2wgOiBbe1xuICAgICAgICAgICAgdG9rZW4gOiBcImVudGl0eS5vdGhlci5hdHRyaWJ1dGUtbmFtZS5kZWNsLWF0dHJpYnV0ZS1uYW1lLnhtbFwiLFxuICAgICAgICAgICAgcmVnZXggOiBcIig/OlwiICsgdGFnUmVnZXggKyBcIjopP1wiICsgdGFnUmVnZXggKyBcIlwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuIDogXCJrZXl3b3JkLm9wZXJhdG9yLmRlY2wtYXR0cmlidXRlLWVxdWFscy54bWxcIixcbiAgICAgICAgICAgIHJlZ2V4IDogXCI9XCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaW5jbHVkZTogXCJ3aGl0ZXNwYWNlXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaW5jbHVkZTogXCJzdHJpbmdcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbiA6IFwicHVuY3R1YXRpb24ueG1sLWRlY2wueG1sXCIsXG4gICAgICAgICAgICByZWdleCA6IFwiXFxcXD8+XCIsXG4gICAgICAgICAgICBuZXh0IDogXCJzdGFydFwiXG4gICAgICAgIH1dLFxuXG4gICAgICAgIHByb2Nlc3NpbmdfaW5zdHJ1Y3Rpb24gOiBbXG4gICAgICAgICAgICB7dG9rZW4gOiBcInB1bmN0dWF0aW9uLmluc3RydWN0aW9uLnhtbFwiLCByZWdleCA6IFwiXFxcXD8+XCIsIG5leHQgOiBcInN0YXJ0XCJ9LFxuICAgICAgICAgICAge2RlZmF1bHRUb2tlbiA6IFwiaW5zdHJ1Y3Rpb24ueG1sXCJ9XG4gICAgICAgIF0sXG5cbiAgICAgICAgZG9jdHlwZSA6IFtcbiAgICAgICAgICAgIHtpbmNsdWRlIDogXCJ3aGl0ZXNwYWNlXCJ9LFxuICAgICAgICAgICAge2luY2x1ZGUgOiBcInN0cmluZ1wifSxcbiAgICAgICAgICAgIHt0b2tlbiA6IFwieG1sLXBlLmRvY3R5cGUueG1sXCIsIHJlZ2V4IDogXCI+XCIsIG5leHQgOiBcInN0YXJ0XCJ9LFxuICAgICAgICAgICAge3Rva2VuIDogXCJ4bWwtcGUueG1sXCIsIHJlZ2V4IDogXCJbLV9hLXpBLVowLTk6XStcIn0sXG4gICAgICAgICAgICB7dG9rZW4gOiBcInB1bmN0dWF0aW9uLmludC1zdWJzZXRcIiwgcmVnZXggOiBcIlxcXFxbXCIsIHB1c2ggOiBcImludF9zdWJzZXRcIn1cbiAgICAgICAgXSxcblxuICAgICAgICBpbnRfc3Vic2V0IDogW3tcbiAgICAgICAgICAgIHRva2VuIDogXCJ0ZXh0LnhtbFwiLFxuICAgICAgICAgICAgcmVnZXggOiBcIlxcXFxzK1wiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuOiBcInB1bmN0dWF0aW9uLmludC1zdWJzZXQueG1sXCIsXG4gICAgICAgICAgICByZWdleDogXCJdXCIsXG4gICAgICAgICAgICBuZXh0OiBcInBvcFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuIDogW1wicHVuY3R1YXRpb24ubWFya3VwLWRlY2wueG1sXCIsIFwia2V5d29yZC5tYXJrdXAtZGVjbC54bWxcIl0sXG4gICAgICAgICAgICByZWdleCA6IFwiKDxcXFxcISkoXCIgKyB0YWdSZWdleCArIFwiKVwiLFxuICAgICAgICAgICAgcHVzaCA6IFt7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXHMrXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInB1bmN0dWF0aW9uLm1hcmt1cC1kZWNsLnhtbFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCI+XCIsXG4gICAgICAgICAgICAgICAgbmV4dCA6IFwicG9wXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7aW5jbHVkZSA6IFwic3RyaW5nXCJ9XVxuICAgICAgICB9XSxcblxuICAgICAgICBjZGF0YSA6IFtcbiAgICAgICAgICAgIHt0b2tlbiA6IFwic3RyaW5nLmNkYXRhLnhtbFwiLCByZWdleCA6IFwiXFxcXF1cXFxcXT5cIiwgbmV4dCA6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICB7dG9rZW4gOiBcInRleHQueG1sXCIsIHJlZ2V4IDogXCJcXFxccytcIn0sXG4gICAgICAgICAgICB7dG9rZW4gOiBcInRleHQueG1sXCIsIHJlZ2V4IDogXCIoPzpbXlxcXFxdXXxcXFxcXSg/IVxcXFxdPikpK1wifVxuICAgICAgICBdLFxuXG4gICAgICAgIGNvbW1lbnQgOiBbXG4gICAgICAgICAgICB7dG9rZW4gOiBcImNvbW1lbnQueG1sXCIsIHJlZ2V4IDogXCItLT5cIiwgbmV4dCA6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICB7ZGVmYXVsdFRva2VuIDogXCJjb21tZW50LnhtbFwifVxuICAgICAgICBdLFxuXG4gICAgICAgIHJlZmVyZW5jZSA6IFt7XG4gICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlLnJlZmVyZW5jZS54bWxcIixcbiAgICAgICAgICAgIHJlZ2V4IDogXCIoPzomI1swLTldKzspfCg/OiYjeFswLTlhLWZBLUZdKzspfCg/OiZbYS16QS1aMC05XzpcXFxcLi1dKzspXCJcbiAgICAgICAgfV0sXG5cbiAgICAgICAgYXR0cl9yZWZlcmVuY2UgOiBbe1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZS5yZWZlcmVuY2UuYXR0cmlidXRlLXZhbHVlLnhtbFwiLFxuICAgICAgICAgICAgcmVnZXggOiBcIig/OiYjWzAtOV0rOyl8KD86JiN4WzAtOWEtZkEtRl0rOyl8KD86JlthLXpBLVowLTlfOlxcXFwuLV0rOylcIlxuICAgICAgICB9XSxcblxuICAgICAgICB0YWcgOiBbe1xuICAgICAgICAgICAgdG9rZW4gOiBbXCJtZXRhLnRhZy5wdW5jdHVhdGlvbi50YWctb3Blbi54bWxcIiwgXCJtZXRhLnRhZy5wdW5jdHVhdGlvbi5lbmQtdGFnLW9wZW4ueG1sXCIsIFwibWV0YS50YWcudGFnLW5hbWUueG1sXCJdLFxuICAgICAgICAgICAgcmVnZXggOiBcIig/Oig8KXwoPC8pKSgoPzpcIiArIHRhZ1JlZ2V4ICsgXCI6KT9cIiArIHRhZ1JlZ2V4ICsgXCIpXCIsXG4gICAgICAgICAgICBuZXh0OiBbXG4gICAgICAgICAgICAgICAge2luY2x1ZGUgOiBcImF0dHJpYnV0ZXNcIn0sXG4gICAgICAgICAgICAgICAge3Rva2VuIDogXCJtZXRhLnRhZy5wdW5jdHVhdGlvbi50YWctY2xvc2UueG1sXCIsIHJlZ2V4IDogXCIvPz5cIiwgbmV4dCA6IFwic3RhcnRcIn1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfV0sXG5cbiAgICAgICAgdGFnX3doaXRlc3BhY2UgOiBbXG4gICAgICAgICAgICB7dG9rZW4gOiBcInRleHQudGFnLXdoaXRlc3BhY2UueG1sXCIsIHJlZ2V4IDogXCJcXFxccytcIn1cbiAgICAgICAgXSxcbiAgICAgICAgd2hpdGVzcGFjZSA6IFtcbiAgICAgICAgICAgIHt0b2tlbiA6IFwidGV4dC53aGl0ZXNwYWNlLnhtbFwiLCByZWdleCA6IFwiXFxcXHMrXCJ9XG4gICAgICAgIF0sXG4gICAgICAgIHN0cmluZzogW3tcbiAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmcueG1sXCIsXG4gICAgICAgICAgICByZWdleCA6IFwiJ1wiLFxuICAgICAgICAgICAgcHVzaCA6IFtcbiAgICAgICAgICAgICAgICB7dG9rZW4gOiBcInN0cmluZy54bWxcIiwgcmVnZXg6IFwiJ1wiLCBuZXh0OiBcInBvcFwifSxcbiAgICAgICAgICAgICAgICB7ZGVmYXVsdFRva2VuIDogXCJzdHJpbmcueG1sXCJ9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmcueG1sXCIsXG4gICAgICAgICAgICByZWdleCA6ICdcIicsXG4gICAgICAgICAgICBwdXNoIDogW1xuICAgICAgICAgICAgICAgIHt0b2tlbiA6IFwic3RyaW5nLnhtbFwiLCByZWdleDogJ1wiJywgbmV4dDogXCJwb3BcIn0sXG4gICAgICAgICAgICAgICAge2RlZmF1bHRUb2tlbiA6IFwic3RyaW5nLnhtbFwifVxuICAgICAgICAgICAgXVxuICAgICAgICB9XSxcblxuICAgICAgICBhdHRyaWJ1dGVzOiBbe1xuICAgICAgICAgICAgdG9rZW4gOiBcImVudGl0eS5vdGhlci5hdHRyaWJ1dGUtbmFtZS54bWxcIixcbiAgICAgICAgICAgIHJlZ2V4IDogXCIoPzpcIiArIHRhZ1JlZ2V4ICsgXCI6KT9cIiArIHRhZ1JlZ2V4ICsgXCJcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbiA6IFwia2V5d29yZC5vcGVyYXRvci5hdHRyaWJ1dGUtZXF1YWxzLnhtbFwiLFxuICAgICAgICAgICAgcmVnZXggOiBcIj1cIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBpbmNsdWRlOiBcInRhZ193aGl0ZXNwYWNlXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaW5jbHVkZTogXCJhdHRyaWJ1dGVfdmFsdWVcIlxuICAgICAgICB9XSxcblxuICAgICAgICBhdHRyaWJ1dGVfdmFsdWU6IFt7XG4gICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIixcbiAgICAgICAgICAgIHJlZ2V4IDogXCInXCIsXG4gICAgICAgICAgICBwdXNoIDogW1xuICAgICAgICAgICAgICAgIHt0b2tlbiA6IFwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIiwgcmVnZXg6IFwiJ1wiLCBuZXh0OiBcInBvcFwifSxcbiAgICAgICAgICAgICAgICB7aW5jbHVkZSA6IFwiYXR0cl9yZWZlcmVuY2VcIn0sXG4gICAgICAgICAgICAgICAge2RlZmF1bHRUb2tlbiA6IFwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIn1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sXCIsXG4gICAgICAgICAgICByZWdleCA6ICdcIicsXG4gICAgICAgICAgICBwdXNoIDogW1xuICAgICAgICAgICAgICAgIHt0b2tlbiA6IFwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIiwgcmVnZXg6ICdcIicsIG5leHQ6IFwicG9wXCJ9LFxuICAgICAgICAgICAgICAgIHtpbmNsdWRlIDogXCJhdHRyX3JlZmVyZW5jZVwifSxcbiAgICAgICAgICAgICAgICB7ZGVmYXVsdFRva2VuIDogXCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwifVxuICAgICAgICAgICAgXVxuICAgICAgICB9XVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciA9PT0gWG1sSGlnaGxpZ2h0UnVsZXMpXG4gICAgICAgIHRoaXMubm9ybWFsaXplUnVsZXMoKTtcbn07XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5lbWJlZFRhZ1J1bGVzID0gZnVuY3Rpb24oSGlnaGxpZ2h0UnVsZXMsIHByZWZpeCwgdGFnKXtcbiAgICAgICAgdGhpcy4kcnVsZXMudGFnLnVuc2hpZnQoe1xuICAgICAgICAgICAgdG9rZW4gOiBbXCJtZXRhLnRhZy5wdW5jdHVhdGlvbi50YWctb3Blbi54bWxcIiwgXCJtZXRhLnRhZy5cIiArIHRhZyArIFwiLnRhZy1uYW1lLnhtbFwiXSxcbiAgICAgICAgICAgIHJlZ2V4IDogXCIoPCkoXCIgKyB0YWcgKyBcIig/PVxcXFxzfD58JCkpXCIsXG4gICAgICAgICAgICBuZXh0OiBbXG4gICAgICAgICAgICAgICAge2luY2x1ZGUgOiBcImF0dHJpYnV0ZXNcIn0sXG4gICAgICAgICAgICAgICAge3Rva2VuIDogXCJtZXRhLnRhZy5wdW5jdHVhdGlvbi50YWctY2xvc2UueG1sXCIsIHJlZ2V4IDogXCIvPz5cIiwgbmV4dCA6IHByZWZpeCArIFwic3RhcnRcIn1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kcnVsZXNbdGFnICsgXCItZW5kXCJdID0gW1xuICAgICAgICAgICAge2luY2x1ZGUgOiBcImF0dHJpYnV0ZXNcIn0sXG4gICAgICAgICAgICB7dG9rZW4gOiBcIm1ldGEudGFnLnB1bmN0dWF0aW9uLnRhZy1jbG9zZS54bWxcIiwgcmVnZXggOiBcIi8/PlwiLCAgbmV4dDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgIG9uTWF0Y2ggOiBmdW5jdGlvbih2YWx1ZSwgY3VycmVudFN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5zcGxpY2UoMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgXVxuXG4gICAgICAgIHRoaXMuZW1iZWRSdWxlcyhIaWdobGlnaHRSdWxlcywgcHJlZml4LCBbe1xuICAgICAgICAgICAgdG9rZW46IFtcIm1ldGEudGFnLnB1bmN0dWF0aW9uLmVuZC10YWctb3Blbi54bWxcIiwgXCJtZXRhLnRhZy5cIiArIHRhZyArIFwiLnRhZy1uYW1lLnhtbFwiXSxcbiAgICAgICAgICAgIHJlZ2V4IDogXCIoPC8pKFwiICsgdGFnICsgXCIoPz1cXFxcc3w+fCQpKVwiLFxuICAgICAgICAgICAgbmV4dDogdGFnICsgXCItZW5kXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW46IFwic3RyaW5nLmNkYXRhLnhtbFwiLFxuICAgICAgICAgICAgcmVnZXggOiBcIjxcXFxcIVxcXFxbQ0RBVEFcXFxcW1wiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuOiBcInN0cmluZy5jZGF0YS54bWxcIixcbiAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcXVxcXFxdPlwiXG4gICAgICAgIH1dKTtcbiAgICB9O1xuXG59KS5jYWxsKFRleHRIaWdobGlnaHRSdWxlcy5wcm90b3R5cGUpO1xuXG5vb3AuaW5oZXJpdHMoWG1sSGlnaGxpZ2h0UnVsZXMsIFRleHRIaWdobGlnaHRSdWxlcyk7XG5cbmV4cG9ydHMuWG1sSGlnaGxpZ2h0UnVsZXMgPSBYbWxIaWdobGlnaHRSdWxlcztcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvaHRtbF9oaWdobGlnaHRfcnVsZXNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9tb2RlL2Nzc19oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL2phdmFzY3JpcHRfaGlnaGxpZ2h0X3J1bGVzXCIsXCJhY2UvbW9kZS94bWxfaGlnaGxpZ2h0X3J1bGVzXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcbnZhciBDc3NIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi9jc3NfaGlnaGxpZ2h0X3J1bGVzXCIpLkNzc0hpZ2hsaWdodFJ1bGVzO1xudmFyIEphdmFTY3JpcHRIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi9qYXZhc2NyaXB0X2hpZ2hsaWdodF9ydWxlc1wiKS5KYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXM7XG52YXIgWG1sSGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4veG1sX2hpZ2hsaWdodF9ydWxlc1wiKS5YbWxIaWdobGlnaHRSdWxlcztcblxudmFyIHRhZ01hcCA9IGxhbmcuY3JlYXRlTWFwKHtcbiAgICBhICAgICAgICAgICA6ICdhbmNob3InLFxuICAgIGJ1dHRvbiBcdCAgICA6ICdmb3JtJyxcbiAgICBmb3JtICAgICAgICA6ICdmb3JtJyxcbiAgICBpbWcgICAgICAgICA6ICdpbWFnZScsXG4gICAgaW5wdXQgICAgICAgOiAnZm9ybScsXG4gICAgbGFiZWwgICAgICAgOiAnZm9ybScsXG4gICAgb3B0aW9uICAgICAgOiAnZm9ybScsXG4gICAgc2NyaXB0ICAgICAgOiAnc2NyaXB0JyxcbiAgICBzZWxlY3QgICAgICA6ICdmb3JtJyxcbiAgICB0ZXh0YXJlYSAgICA6ICdmb3JtJyxcbiAgICBzdHlsZSAgICAgICA6ICdzdHlsZScsXG4gICAgdGFibGUgICAgICAgOiAndGFibGUnLFxuICAgIHRib2R5ICAgICAgIDogJ3RhYmxlJyxcbiAgICB0ZCAgICAgICAgICA6ICd0YWJsZScsXG4gICAgdGZvb3QgICAgICAgOiAndGFibGUnLFxuICAgIHRoICAgICAgICAgIDogJ3RhYmxlJyxcbiAgICB0ciAgICAgICAgICA6ICd0YWJsZSdcbn0pO1xuXG52YXIgSHRtbEhpZ2hsaWdodFJ1bGVzID0gZnVuY3Rpb24oKSB7XG4gICAgWG1sSGlnaGxpZ2h0UnVsZXMuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuYWRkUnVsZXMoe1xuICAgICAgICBhdHRyaWJ1dGVzOiBbe1xuICAgICAgICAgICAgaW5jbHVkZSA6IFwidGFnX3doaXRlc3BhY2VcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbiA6IFwiZW50aXR5Lm90aGVyLmF0dHJpYnV0ZS1uYW1lLnhtbFwiLFxuICAgICAgICAgICAgcmVnZXggOiBcIlstX2EtekEtWjAtOTouXStcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbiA6IFwia2V5d29yZC5vcGVyYXRvci5hdHRyaWJ1dGUtZXF1YWxzLnhtbFwiLFxuICAgICAgICAgICAgcmVnZXggOiBcIj1cIixcbiAgICAgICAgICAgIHB1c2ggOiBbe1xuICAgICAgICAgICAgICAgIGluY2x1ZGU6IFwidGFnX3doaXRlc3BhY2VcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmcudW5xdW90ZWQuYXR0cmlidXRlLXZhbHVlLmh0bWxcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiW148Pj0nXFxcImBcXFxcc10rXCIsXG4gICAgICAgICAgICAgICAgbmV4dCA6IFwicG9wXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiZW1wdHlcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXCIsXG4gICAgICAgICAgICAgICAgbmV4dCA6IFwicG9wXCJcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGluY2x1ZGUgOiBcImF0dHJpYnV0ZV92YWx1ZVwiXG4gICAgICAgIH1dLFxuICAgICAgICB0YWc6IFt7XG4gICAgICAgICAgICB0b2tlbiA6IGZ1bmN0aW9uKHN0YXJ0LCB0YWcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3JvdXAgPSB0YWdNYXBbdGFnXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1wibWV0YS50YWcucHVuY3R1YXRpb24uXCIgKyAoc3RhcnQgPT0gXCI8XCIgPyBcIlwiIDogXCJlbmQtXCIpICsgXCJ0YWctb3Blbi54bWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJtZXRhLnRhZ1wiICsgKGdyb3VwID8gXCIuXCIgKyBncm91cCA6IFwiXCIpICsgXCIudGFnLW5hbWUueG1sXCJdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2V4IDogXCIoPC8/KShbLV9hLXpBLVowLTk6Ll0rKVwiLFxuICAgICAgICAgICAgbmV4dDogXCJ0YWdfc3R1ZmZcIlxuICAgICAgICB9XSxcbiAgICAgICAgdGFnX3N0dWZmOiBbXG4gICAgICAgICAgICB7aW5jbHVkZSA6IFwiYXR0cmlidXRlc1wifSxcbiAgICAgICAgICAgIHt0b2tlbiA6IFwibWV0YS50YWcucHVuY3R1YXRpb24udGFnLWNsb3NlLnhtbFwiLCByZWdleCA6IFwiLz8+XCIsIG5leHQgOiBcInN0YXJ0XCJ9XG4gICAgICAgIF1cbiAgICB9KTtcblxuICAgIHRoaXMuZW1iZWRUYWdSdWxlcyhDc3NIaWdobGlnaHRSdWxlcywgXCJjc3MtXCIsIFwic3R5bGVcIik7XG4gICAgdGhpcy5lbWJlZFRhZ1J1bGVzKG5ldyBKYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXMoe25vSlNYOiB0cnVlfSkuZ2V0UnVsZXMoKSwgXCJqcy1cIiwgXCJzY3JpcHRcIik7XG5cbiAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciA9PT0gSHRtbEhpZ2hsaWdodFJ1bGVzKVxuICAgICAgICB0aGlzLm5vcm1hbGl6ZVJ1bGVzKCk7XG59O1xuXG5vb3AuaW5oZXJpdHMoSHRtbEhpZ2hsaWdodFJ1bGVzLCBYbWxIaWdobGlnaHRSdWxlcyk7XG5cbmV4cG9ydHMuSHRtbEhpZ2hsaWdodFJ1bGVzID0gSHRtbEhpZ2hsaWdodFJ1bGVzO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9iZWhhdmlvdXIveG1sXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvYmVoYXZpb3VyXCIsXCJhY2UvdG9rZW5faXRlcmF0b3JcIixcImFjZS9saWIvbGFuZ1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuLi9iZWhhdmlvdXJcIikuQmVoYXZpb3VyO1xudmFyIFRva2VuSXRlcmF0b3IgPSBhY2VxdWlyZShcIi4uLy4uL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3I7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vLi4vbGliL2xhbmdcIik7XG5cbmZ1bmN0aW9uIGlzKHRva2VuLCB0eXBlKSB7XG4gICAgcmV0dXJuIHRva2VuLnR5cGUubGFzdEluZGV4T2YodHlwZSArIFwiLnhtbFwiKSA+IC0xO1xufVxuXG52YXIgWG1sQmVoYXZpb3VyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5hZGQoXCJzdHJpbmdfZHF1b3Rlc1wiLCBcImluc2VydGlvblwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICdcIicgfHwgdGV4dCA9PSBcIidcIikge1xuICAgICAgICAgICAgdmFyIHF1b3RlID0gdGV4dDtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQgIT09IFwiXCIgJiYgc2VsZWN0ZWQgIT09IFwiJ1wiICYmIHNlbGVjdGVkICE9ICdcIicgJiYgZWRpdG9yLmdldFdyYXBCZWhhdmlvdXJzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcXVvdGUgKyBzZWxlY3RlZCArIHF1b3RlLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHNlc3Npb24sIGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4pO1xuICAgICAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG5cbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gcXVvdGUgJiYgKGlzKHRva2VuLCBcImF0dHJpYnV0ZS12YWx1ZVwiKSB8fCBpcyh0b2tlbiwgXCJzdHJpbmdcIikpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgICAgIHRva2VuID0gaXRlcmF0b3Iuc3RlcEJhY2t3YXJkKCk7XG5cbiAgICAgICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB3aGlsZSAoaXModG9rZW4sIFwidGFnLXdoaXRlc3BhY2VcIikgfHwgaXModG9rZW4sIFwid2hpdGVzcGFjZVwiKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gaXRlcmF0b3Iuc3RlcEJhY2t3YXJkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmlnaHRTcGFjZSA9ICFyaWdodENoYXIgfHwgcmlnaHRDaGFyLm1hdGNoKC9cXHMvKTtcbiAgICAgICAgICAgIGlmIChpcyh0b2tlbiwgXCJhdHRyaWJ1dGUtZXF1YWxzXCIpICYmIChyaWdodFNwYWNlIHx8IHJpZ2h0Q2hhciA9PSAnPicpIHx8IChpcyh0b2tlbiwgXCJkZWNsLWF0dHJpYnV0ZS1lcXVhbHNcIikgJiYgKHJpZ2h0U3BhY2UgfHwgcmlnaHRDaGFyID09ICc/JykpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcXVvdGUgKyBxdW90ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcInN0cmluZ19kcXVvdGVzXCIsIFwiZGVsZXRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgKHNlbGVjdGVkID09ICdcIicgfHwgc2VsZWN0ZWQgPT0gXCInXCIpKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4gKyAxLCByYW5nZS5zdGFydC5jb2x1bW4gKyAyKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcImF1dG9jbG9zaW5nXCIsIFwiaW5zZXJ0aW9uXCIsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHRleHQpIHtcbiAgICAgICAgaWYgKHRleHQgPT0gJz4nKSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHNlc3Npb24sIHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTtcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbigpIHx8IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgaWYgKCF0b2tlbiB8fCAhKGlzKHRva2VuLCBcInRhZy1uYW1lXCIpIHx8IGlzKHRva2VuLCBcInRhZy13aGl0ZXNwYWNlXCIpIHx8IGlzKHRva2VuLCBcImF0dHJpYnV0ZS1uYW1lXCIpIHx8IGlzKHRva2VuLCBcImF0dHJpYnV0ZS1lcXVhbHNcIikgfHwgaXModG9rZW4sIFwiYXR0cmlidXRlLXZhbHVlXCIpKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoaXModG9rZW4sIFwicmVmZXJlbmNlLmF0dHJpYnV0ZS12YWx1ZVwiKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoaXModG9rZW4sIFwiYXR0cmlidXRlLXZhbHVlXCIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0Q2hhciA9IHRva2VuLnZhbHVlLmNoYXJBdCgwKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RDaGFyID09ICdcIicgfHwgZmlyc3RDaGFyID09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hhciA9IHRva2VuLnZhbHVlLmNoYXJBdCh0b2tlbi52YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuRW5kID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgKyB0b2tlbi52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbkVuZCA+IHBvc2l0aW9uLmNvbHVtbiB8fCB0b2tlbkVuZCA9PSBwb3NpdGlvbi5jb2x1bW4gJiYgZmlyc3RDaGFyICE9IGxhc3RDaGFyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICghaXModG9rZW4sIFwidGFnLW5hbWVcIikpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdG9rZW5Sb3cgPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Sb3coKTtcbiAgICAgICAgICAgIHZhciB0b2tlbkNvbHVtbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpO1xuICAgICAgICAgICAgaWYgKGlzKGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpLCBcImVuZC10YWctb3BlblwiKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICBpZiAodG9rZW5Sb3cgPT0gcG9zaXRpb24ucm93KVxuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnN1YnN0cmluZygwLCBwb3NpdGlvbi5jb2x1bW4gLSB0b2tlbkNvbHVtbik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnZvaWRFbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShlbGVtZW50LnRvTG93ZXJDYXNlKCkpKVxuICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICB0ZXh0OiBcIj5cIiArIFwiPC9cIiArIGVsZW1lbnQgKyBcIj5cIixcbiAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcImF1dG9pbmRlbnRcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgdGV4dCkge1xuICAgICAgICBpZiAodGV4dCA9PSBcIlxcblwiKSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHNlc3Npb24sIGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4pO1xuICAgICAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG5cbiAgICAgICAgICAgIGlmICh0b2tlbiAmJiB0b2tlbi50eXBlLmluZGV4T2YoXCJ0YWctY2xvc2VcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IFwiLz5cIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0b2tlbiAmJiB0b2tlbi50eXBlLmluZGV4T2YoXCJ0YWctbmFtZVwiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwQmFja3dhcmQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgdGFnID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpO1xuICAgICAgICAgICAgICAgIHRva2VuID0gaXRlcmF0b3Iuc3RlcEJhY2t3YXJkKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbiB8fCB0b2tlbi50eXBlLmluZGV4T2YoXCJlbmQtdGFnXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudm9pZEVsZW1lbnRzICYmICF0aGlzLnZvaWRFbGVtZW50c1t0YWddKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0VG9rZW4gPSBzZXNzaW9uLmdldFRva2VuQXQoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbisxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRJbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRlbnQgPSBuZXh0SW5kZW50ICsgc2Vzc2lvbi5nZXRUYWJTdHJpbmcoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRva2VuICYmIG5leHRUb2tlbi52YWx1ZSA9PT0gXCI8L1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiXFxuXCIgKyBpbmRlbnQgKyBcIlxcblwiICsgbmV4dEluZGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCBpbmRlbnQubGVuZ3RoLCAxLCBpbmRlbnQubGVuZ3RoXVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJcXG5cIiArIGluZGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG59O1xuXG5vb3AuaW5oZXJpdHMoWG1sQmVoYXZpb3VyLCBCZWhhdmlvdXIpO1xuXG5leHBvcnRzLlhtbEJlaGF2aW91ciA9IFhtbEJlaGF2aW91cjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvZm9sZGluZy9taXhlZFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL2ZvbGRpbmcvZm9sZF9tb2RlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vLi4vbGliL29vcFwiKTtcbnZhciBCYXNlRm9sZE1vZGUgPSBhY2VxdWlyZShcIi4vZm9sZF9tb2RlXCIpLkZvbGRNb2RlO1xuXG52YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24oZGVmYXVsdE1vZGUsIHN1Yk1vZGVzKSB7XG4gICAgdGhpcy5kZWZhdWx0TW9kZSA9IGRlZmF1bHRNb2RlO1xuICAgIHRoaXMuc3ViTW9kZXMgPSBzdWJNb2Rlcztcbn07XG5vb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7XG5cbihmdW5jdGlvbigpIHtcblxuXG4gICAgdGhpcy4kZ2V0TW9kZSA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3RhdGUgIT0gXCJzdHJpbmdcIikgXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlWzBdO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5zdWJNb2Rlcykge1xuICAgICAgICAgICAgaWYgKHN0YXRlLmluZGV4T2Yoa2V5KSA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJNb2Rlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kdHJ5TW9kZSA9IGZ1bmN0aW9uKHN0YXRlLCBzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuJGdldE1vZGUoc3RhdGUpO1xuICAgICAgICByZXR1cm4gKG1vZGUgPyBtb2RlLmdldEZvbGRXaWRnZXQoc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIDogXCJcIik7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Rm9sZFdpZGdldCA9IGZ1bmN0aW9uKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLiR0cnlNb2RlKHNlc3Npb24uZ2V0U3RhdGUocm93LTEpLCBzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykgfHxcbiAgICAgICAgICAgIHRoaXMuJHRyeU1vZGUoc2Vzc2lvbi5nZXRTdGF0ZShyb3cpLCBzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykgfHxcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdE1vZGUuZ2V0Rm9sZFdpZGdldChzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdylcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuJGdldE1vZGUoc2Vzc2lvbi5nZXRTdGF0ZShyb3ctMSkpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFtb2RlIHx8ICFtb2RlLmdldEZvbGRXaWRnZXQoc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpKVxuICAgICAgICAgICAgbW9kZSA9IHRoaXMuJGdldE1vZGUoc2Vzc2lvbi5nZXRTdGF0ZShyb3cpKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghbW9kZSB8fCAhbW9kZS5nZXRGb2xkV2lkZ2V0KHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KSlcbiAgICAgICAgICAgIG1vZGUgPSB0aGlzLmRlZmF1bHRNb2RlO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG1vZGUuZ2V0Rm9sZFdpZGdldFJhbmdlKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KTtcbiAgICB9O1xuXG59KS5jYWxsKEZvbGRNb2RlLnByb3RvdHlwZSk7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvZm9sZGluZy94bWxcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9yYW5nZVwiLFwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGVcIixcImFjZS90b2tlbl9pdGVyYXRvclwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vLi4vbGliL2xhbmdcIik7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uLy4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIEJhc2VGb2xkTW9kZSA9IGFjZXF1aXJlKFwiLi9mb2xkX21vZGVcIikuRm9sZE1vZGU7XG52YXIgVG9rZW5JdGVyYXRvciA9IGFjZXF1aXJlKFwiLi4vLi4vdG9rZW5faXRlcmF0b3JcIikuVG9rZW5JdGVyYXRvcjtcblxudmFyIEZvbGRNb2RlID0gZXhwb3J0cy5Gb2xkTW9kZSA9IGZ1bmN0aW9uKHZvaWRFbGVtZW50cywgb3B0aW9uYWxFbmRUYWdzKSB7XG4gICAgQmFzZUZvbGRNb2RlLmNhbGwodGhpcyk7XG4gICAgdGhpcy52b2lkRWxlbWVudHMgPSB2b2lkRWxlbWVudHMgfHwge307XG4gICAgdGhpcy5vcHRpb25hbEVuZFRhZ3MgPSBvb3AubWl4aW4oe30sIHRoaXMudm9pZEVsZW1lbnRzKTtcbiAgICBpZiAob3B0aW9uYWxFbmRUYWdzKVxuICAgICAgICBvb3AubWl4aW4odGhpcy5vcHRpb25hbEVuZFRhZ3MsIG9wdGlvbmFsRW5kVGFncyk7XG4gICAgXG59O1xub29wLmluaGVyaXRzKEZvbGRNb2RlLCBCYXNlRm9sZE1vZGUpO1xuXG52YXIgVGFnID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50YWdOYW1lID0gXCJcIjtcbiAgICB0aGlzLmNsb3NpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnNlbGZDbG9zaW5nID0gZmFsc2U7XG4gICAgdGhpcy5zdGFydCA9IHtyb3c6IDAsIGNvbHVtbjogMH07XG4gICAgdGhpcy5lbmQgPSB7cm93OiAwLCBjb2x1bW46IDB9O1xufTtcblxuZnVuY3Rpb24gaXModG9rZW4sIHR5cGUpIHtcbiAgICByZXR1cm4gdG9rZW4udHlwZS5sYXN0SW5kZXhPZih0eXBlICsgXCIueG1sXCIpID4gLTE7XG59XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuZ2V0Rm9sZFdpZGdldCA9IGZ1bmN0aW9uKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KSB7XG4gICAgICAgIHZhciB0YWcgPSB0aGlzLl9nZXRGaXJzdFRhZ0luTGluZShzZXNzaW9uLCByb3cpO1xuXG4gICAgICAgIGlmICghdGFnKVxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG5cbiAgICAgICAgaWYgKHRhZy5jbG9zaW5nIHx8ICghdGFnLnRhZ05hbWUgJiYgdGFnLnNlbGZDbG9zaW5nKSlcbiAgICAgICAgICAgIHJldHVybiBmb2xkU3R5bGUgPT0gXCJtYXJrYmVnaW5lbmRcIiA/IFwiZW5kXCIgOiBcIlwiO1xuXG4gICAgICAgIGlmICghdGFnLnRhZ05hbWUgfHwgdGFnLnNlbGZDbG9zaW5nIHx8IHRoaXMudm9pZEVsZW1lbnRzLmhhc093blByb3BlcnR5KHRhZy50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKVxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZpbmRFbmRUYWdJbkxpbmUoc2Vzc2lvbiwgcm93LCB0YWcudGFnTmFtZSwgdGFnLmVuZC5jb2x1bW4pKVxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG5cbiAgICAgICAgcmV0dXJuIFwic3RhcnRcIjtcbiAgICB9O1xuICAgIHRoaXMuX2dldEZpcnN0VGFnSW5MaW5lID0gZnVuY3Rpb24oc2Vzc2lvbiwgcm93KSB7XG4gICAgICAgIHZhciB0b2tlbnMgPSBzZXNzaW9uLmdldFRva2Vucyhyb3cpO1xuICAgICAgICB2YXIgdGFnID0gbmV3IFRhZygpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICBpZiAoaXModG9rZW4sIFwidGFnLW9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICB0YWcuZW5kLmNvbHVtbiA9IHRhZy5zdGFydC5jb2x1bW4gKyB0b2tlbi52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGFnLmNsb3NpbmcgPSBpcyh0b2tlbiwgXCJlbmQtdGFnLW9wZW5cIik7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbKytpXTtcbiAgICAgICAgICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB0YWcudGFnTmFtZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRhZy5lbmQuY29sdW1uICs9IHRva2VuLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGkrKzsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdGFnLmVuZC5jb2x1bW4gKz0gdG9rZW4udmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXModG9rZW4sIFwidGFnLWNsb3NlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcuc2VsZkNsb3NpbmcgPSB0b2tlbi52YWx1ZSA9PSAnLz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhZztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXModG9rZW4sIFwidGFnLWNsb3NlXCIpKSB7XG4gICAgICAgICAgICAgICAgdGFnLnNlbGZDbG9zaW5nID0gdG9rZW4udmFsdWUgPT0gJy8+JztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFnLnN0YXJ0LmNvbHVtbiArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5fZmluZEVuZFRhZ0luTGluZSA9IGZ1bmN0aW9uKHNlc3Npb24sIHJvdywgdGFnTmFtZSwgc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgdmFyIHRva2VucyA9IHNlc3Npb24uZ2V0VG9rZW5zKHJvdyk7XG4gICAgICAgIHZhciBjb2x1bW4gPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgY29sdW1uICs9IHRva2VuLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChjb2x1bW4gPCBzdGFydENvbHVtbilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChpcyh0b2tlbiwgXCJlbmQtdGFnLW9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpICsgMV07XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuICYmIHRva2VuLnZhbHVlID09IHRhZ05hbWUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHRoaXMuX3JlYWRUYWdGb3J3YXJkID0gZnVuY3Rpb24oaXRlcmF0b3IpIHtcbiAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG4gICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgdGFnID0gbmV3IFRhZygpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoaXModG9rZW4sIFwidGFnLW9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICB0YWcuY2xvc2luZyA9IGlzKHRva2VuLCBcImVuZC10YWctb3BlblwiKTtcbiAgICAgICAgICAgICAgICB0YWcuc3RhcnQucm93ID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCk7XG4gICAgICAgICAgICAgICAgdGFnLnN0YXJ0LmNvbHVtbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpcyh0b2tlbiwgXCJ0YWctbmFtZVwiKSkge1xuICAgICAgICAgICAgICAgIHRhZy50YWdOYW1lID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzKHRva2VuLCBcInRhZy1jbG9zZVwiKSkge1xuICAgICAgICAgICAgICAgIHRhZy5zZWxmQ2xvc2luZyA9IHRva2VuLnZhbHVlID09IFwiLz5cIjtcbiAgICAgICAgICAgICAgICB0YWcuZW5kLnJvdyA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpO1xuICAgICAgICAgICAgICAgIHRhZy5lbmQuY29sdW1uID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgKyB0b2tlbi52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3Iuc3RlcEZvcndhcmQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlKHRva2VuID0gaXRlcmF0b3Iuc3RlcEZvcndhcmQoKSk7XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLl9yZWFkVGFnQmFja3dhcmQgPSBmdW5jdGlvbihpdGVyYXRvcikge1xuICAgICAgICB2YXIgdG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgICAgICAgaWYgKCF0b2tlbilcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciB0YWcgPSBuZXcgVGFnKCk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChpcyh0b2tlbiwgXCJ0YWctb3BlblwiKSkge1xuICAgICAgICAgICAgICAgIHRhZy5jbG9zaW5nID0gaXModG9rZW4sIFwiZW5kLXRhZy1vcGVuXCIpO1xuICAgICAgICAgICAgICAgIHRhZy5zdGFydC5yb3cgPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Sb3coKTtcbiAgICAgICAgICAgICAgICB0YWcuc3RhcnQuY29sdW1uID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCk7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3Iuc3RlcEJhY2t3YXJkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhZztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXModG9rZW4sIFwidGFnLW5hbWVcIikpIHtcbiAgICAgICAgICAgICAgICB0YWcudGFnTmFtZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpcyh0b2tlbiwgXCJ0YWctY2xvc2VcIikpIHtcbiAgICAgICAgICAgICAgICB0YWcuc2VsZkNsb3NpbmcgPSB0b2tlbi52YWx1ZSA9PSBcIi8+XCI7XG4gICAgICAgICAgICAgICAgdGFnLmVuZC5yb3cgPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Sb3coKTtcbiAgICAgICAgICAgICAgICB0YWcuZW5kLmNvbHVtbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpICsgdG9rZW4udmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlKHRva2VuID0gaXRlcmF0b3Iuc3RlcEJhY2t3YXJkKCkpO1xuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5fcG9wID0gZnVuY3Rpb24oc3RhY2ssIHRhZykge1xuICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciB0b3AgPSBzdGFja1tzdGFjay5sZW5ndGgtMV07XG4gICAgICAgICAgICBpZiAoIXRhZyB8fCB0b3AudGFnTmFtZSA9PSB0YWcudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9uYWxFbmRUYWdzLmhhc093blByb3BlcnR5KHRvcC50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICB2YXIgZmlyc3RUYWcgPSB0aGlzLl9nZXRGaXJzdFRhZ0luTGluZShzZXNzaW9uLCByb3cpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFmaXJzdFRhZylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBcbiAgICAgICAgdmFyIGlzQmFja3dhcmQgPSBmaXJzdFRhZy5jbG9zaW5nIHx8IGZpcnN0VGFnLnNlbGZDbG9zaW5nO1xuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICAgICAgdmFyIHRhZztcbiAgICAgICAgXG4gICAgICAgIGlmICghaXNCYWNrd2FyZCkge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgcm93LCBmaXJzdFRhZy5zdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge1xuICAgICAgICAgICAgICAgIHJvdzogcm93LFxuICAgICAgICAgICAgICAgIGNvbHVtbjogZmlyc3RUYWcuc3RhcnQuY29sdW1uICsgZmlyc3RUYWcudGFnTmFtZS5sZW5ndGggKyAyXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGZpcnN0VGFnLnN0YXJ0LnJvdyA9PSBmaXJzdFRhZy5lbmQucm93KVxuICAgICAgICAgICAgICAgIHN0YXJ0LmNvbHVtbiA9IGZpcnN0VGFnLmVuZC5jb2x1bW47XG4gICAgICAgICAgICB3aGlsZSAodGFnID0gdGhpcy5fcmVhZFRhZ0ZvcndhcmQoaXRlcmF0b3IpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhZy5zZWxmQ2xvc2luZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnLnN0YXJ0LmNvbHVtbiArPSB0YWcudGFnTmFtZS5sZW5ndGggKyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnLmVuZC5jb2x1bW4gLT0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRhZy5zdGFydCwgdGFnLmVuZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0YWcuY2xvc2luZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3Aoc3RhY2ssIHRhZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0LCB0YWcuc3RhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh0YWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHNlc3Npb24sIHJvdywgZmlyc3RUYWcuZW5kLmNvbHVtbik7XG4gICAgICAgICAgICB2YXIgZW5kID0ge1xuICAgICAgICAgICAgICAgIHJvdzogcm93LFxuICAgICAgICAgICAgICAgIGNvbHVtbjogZmlyc3RUYWcuc3RhcnQuY29sdW1uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB3aGlsZSAodGFnID0gdGhpcy5fcmVhZFRhZ0JhY2t3YXJkKGl0ZXJhdG9yKSkge1xuICAgICAgICAgICAgICAgIGlmICh0YWcuc2VsZkNsb3NpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZy5zdGFydC5jb2x1bW4gKz0gdGFnLnRhZ05hbWUubGVuZ3RoICsgMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZy5lbmQuY29sdW1uIC09IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0YWcuc3RhcnQsIHRhZy5lbmQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoIXRhZy5jbG9zaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcChzdGFjaywgdGFnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcuc3RhcnQuY29sdW1uICs9IHRhZy50YWdOYW1lLmxlbmd0aCArIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnLnN0YXJ0LnJvdyA9PSB0YWcuZW5kLnJvdyAmJiB0YWcuc3RhcnQuY29sdW1uIDwgdGFnLmVuZC5jb2x1bW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnLnN0YXJ0LmNvbHVtbiA9IHRhZy5lbmQuY29sdW1uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHModGFnLnN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHRhZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH07XG5cbn0pLmNhbGwoRm9sZE1vZGUucHJvdG90eXBlKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9mb2xkaW5nL2h0bWxcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS9mb2xkaW5nL21peGVkXCIsXCJhY2UvbW9kZS9mb2xkaW5nL3htbFwiLFwiYWNlL21vZGUvZm9sZGluZy9jc3R5bGVcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi8uLi9saWIvb29wXCIpO1xudmFyIE1peGVkRm9sZE1vZGUgPSBhY2VxdWlyZShcIi4vbWl4ZWRcIikuRm9sZE1vZGU7XG52YXIgWG1sRm9sZE1vZGUgPSBhY2VxdWlyZShcIi4veG1sXCIpLkZvbGRNb2RlO1xudmFyIENTdHlsZUZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2NzdHlsZVwiKS5Gb2xkTW9kZTtcblxudmFyIEZvbGRNb2RlID0gZXhwb3J0cy5Gb2xkTW9kZSA9IGZ1bmN0aW9uKHZvaWRFbGVtZW50cywgb3B0aW9uYWxUYWdzKSB7XG4gICAgTWl4ZWRGb2xkTW9kZS5jYWxsKHRoaXMsIG5ldyBYbWxGb2xkTW9kZSh2b2lkRWxlbWVudHMsIG9wdGlvbmFsVGFncyksIHtcbiAgICAgICAgXCJqcy1cIjogbmV3IENTdHlsZUZvbGRNb2RlKCksXG4gICAgICAgIFwiY3NzLVwiOiBuZXcgQ1N0eWxlRm9sZE1vZGUoKVxuICAgIH0pO1xufTtcblxub29wLmluaGVyaXRzKEZvbGRNb2RlLCBNaXhlZEZvbGRNb2RlKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9odG1sX2NvbXBsZXRpb25zXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvdG9rZW5faXRlcmF0b3JcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgVG9rZW5JdGVyYXRvciA9IGFjZXF1aXJlKFwiLi4vdG9rZW5faXRlcmF0b3JcIikuVG9rZW5JdGVyYXRvcjtcblxudmFyIGNvbW1vbkF0dHJpYnV0ZXMgPSBbXG4gICAgXCJhY2Nlc3NrZXlcIixcbiAgICBcImNsYXNzXCIsXG4gICAgXCJjb250ZW50ZWRpdGFibGVcIixcbiAgICBcImNvbnRleHRtZW51XCIsXG4gICAgXCJkaXJcIixcbiAgICBcImRyYWdnYWJsZVwiLFxuICAgIFwiZHJvcHpvbmVcIixcbiAgICBcImhpZGRlblwiLFxuICAgIFwiaWRcIixcbiAgICBcImluZXJ0XCIsXG4gICAgXCJpdGVtaWRcIixcbiAgICBcIml0ZW1wcm9wXCIsXG4gICAgXCJpdGVtcmVmXCIsXG4gICAgXCJpdGVtc2NvcGVcIixcbiAgICBcIml0ZW10eXBlXCIsXG4gICAgXCJsYW5nXCIsXG4gICAgXCJzcGVsbGNoZWNrXCIsXG4gICAgXCJzdHlsZVwiLFxuICAgIFwidGFiaW5kZXhcIixcbiAgICBcInRpdGxlXCIsXG4gICAgXCJ0cmFuc2xhdGVcIlxuXTtcblxudmFyIGV2ZW50QXR0cmlidXRlcyA9IFtcbiAgICBcIm9uYWJvcnRcIixcbiAgICBcIm9uYmx1clwiLFxuICAgIFwib25jYW5jZWxcIixcbiAgICBcIm9uY2FucGxheVwiLFxuICAgIFwib25jYW5wbGF5dGhyb3VnaFwiLFxuICAgIFwib25jaGFuZ2VcIixcbiAgICBcIm9uY2xpY2tcIixcbiAgICBcIm9uY2xvc2VcIixcbiAgICBcIm9uY29udGV4dG1lbnVcIixcbiAgICBcIm9uY3VlY2hhbmdlXCIsXG4gICAgXCJvbmRibGNsaWNrXCIsXG4gICAgXCJvbmRyYWdcIixcbiAgICBcIm9uZHJhZ2VuZFwiLFxuICAgIFwib25kcmFnZW50ZXJcIixcbiAgICBcIm9uZHJhZ2xlYXZlXCIsXG4gICAgXCJvbmRyYWdvdmVyXCIsXG4gICAgXCJvbmRyYWdzdGFydFwiLFxuICAgIFwib25kcm9wXCIsXG4gICAgXCJvbmR1cmF0aW9uY2hhbmdlXCIsXG4gICAgXCJvbmVtcHRpZWRcIixcbiAgICBcIm9uZW5kZWRcIixcbiAgICBcIm9uZXJyb3JcIixcbiAgICBcIm9uZm9jdXNcIixcbiAgICBcIm9uaW5wdXRcIixcbiAgICBcIm9uaW52YWxpZFwiLFxuICAgIFwib25rZXlkb3duXCIsXG4gICAgXCJvbmtleXByZXNzXCIsXG4gICAgXCJvbmtleXVwXCIsXG4gICAgXCJvbmxvYWRcIixcbiAgICBcIm9ubG9hZGVkZGF0YVwiLFxuICAgIFwib25sb2FkZWRtZXRhZGF0YVwiLFxuICAgIFwib25sb2Fkc3RhcnRcIixcbiAgICBcIm9ubW91c2Vkb3duXCIsXG4gICAgXCJvbm1vdXNlbW92ZVwiLFxuICAgIFwib25tb3VzZW91dFwiLFxuICAgIFwib25tb3VzZW92ZXJcIixcbiAgICBcIm9ubW91c2V1cFwiLFxuICAgIFwib25tb3VzZXdoZWVsXCIsXG4gICAgXCJvbnBhdXNlXCIsXG4gICAgXCJvbnBsYXlcIixcbiAgICBcIm9ucGxheWluZ1wiLFxuICAgIFwib25wcm9ncmVzc1wiLFxuICAgIFwib25yYXRlY2hhbmdlXCIsXG4gICAgXCJvbnJlc2V0XCIsXG4gICAgXCJvbnNjcm9sbFwiLFxuICAgIFwib25zZWVrZWRcIixcbiAgICBcIm9uc2Vla2luZ1wiLFxuICAgIFwib25zZWxlY3RcIixcbiAgICBcIm9uc2hvd1wiLFxuICAgIFwib25zdGFsbGVkXCIsXG4gICAgXCJvbnN1Ym1pdFwiLFxuICAgIFwib25zdXNwZW5kXCIsXG4gICAgXCJvbnRpbWV1cGRhdGVcIixcbiAgICBcIm9udm9sdW1lY2hhbmdlXCIsXG4gICAgXCJvbndhaXRpbmdcIlxuXTtcblxudmFyIGdsb2JhbEF0dHJpYnV0ZXMgPSBjb21tb25BdHRyaWJ1dGVzLmNvbmNhdChldmVudEF0dHJpYnV0ZXMpO1xuXG52YXIgYXR0cmlidXRlTWFwID0ge1xuICAgIFwiaHRtbFwiOiB7XCJtYW5pZmVzdFwiOiAxfSxcbiAgICBcImhlYWRcIjoge30sXG4gICAgXCJ0aXRsZVwiOiB7fSxcbiAgICBcImJhc2VcIjoge1wiaHJlZlwiOiAxLCBcInRhcmdldFwiOiAxfSxcbiAgICBcImxpbmtcIjoge1wiaHJlZlwiOiAxLCBcImhyZWZsYW5nXCI6IDEsIFwicmVsXCI6IHtcInN0eWxlc2hlZXRcIjogMSwgXCJpY29uXCI6IDF9LCBcIm1lZGlhXCI6IHtcImFsbFwiOiAxLCBcInNjcmVlblwiOiAxLCBcInByaW50XCI6IDF9LCBcInR5cGVcIjoge1widGV4dC9jc3NcIjogMSwgXCJpbWFnZS9wbmdcIjogMSwgXCJpbWFnZS9qcGVnXCI6IDEsIFwiaW1hZ2UvZ2lmXCI6IDF9LCBcInNpemVzXCI6IDF9LFxuICAgIFwibWV0YVwiOiB7XCJodHRwLWVxdWl2XCI6IHtcImNvbnRlbnQtdHlwZVwiOiAxfSwgXCJuYW1lXCI6IHtcImRlc2NyaXB0aW9uXCI6IDEsIFwia2V5d29yZHNcIjogMX0sIFwiY29udGVudFwiOiB7XCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcIjogMX0sIFwiY2hhcnNldFwiOiAxfSxcbiAgICBcInN0eWxlXCI6IHtcInR5cGVcIjogMSwgXCJtZWRpYVwiOiB7XCJhbGxcIjogMSwgXCJzY3JlZW5cIjogMSwgXCJwcmludFwiOiAxfSwgXCJzY29wZWRcIjogMX0sXG4gICAgXCJzY3JpcHRcIjoge1wiY2hhcnNldFwiOiAxLCBcInR5cGVcIjoge1widGV4dC9qYXZhc2NyaXB0XCI6IDF9LCBcInNyY1wiOiAxLCBcImRlZmVyXCI6IDEsIFwiYXN5bmNcIjogMX0sXG4gICAgXCJub3NjcmlwdFwiOiB7XCJocmVmXCI6IDF9LFxuICAgIFwiYm9keVwiOiB7XCJvbmFmdGVycHJpbnRcIjogMSwgXCJvbmJlZm9yZXByaW50XCI6IDEsIFwib25iZWZvcmV1bmxvYWRcIjogMSwgXCJvbmhhc2hjaGFuZ2VcIjogMSwgXCJvbm1lc3NhZ2VcIjogMSwgXCJvbm9mZmxpbmVcIjogMSwgXCJvbnBvcHN0YXRlXCI6IDEsIFwib25yZWRvXCI6IDEsIFwib25yZXNpemVcIjogMSwgXCJvbnN0b3JhZ2VcIjogMSwgXCJvbnVuZG9cIjogMSwgXCJvbnVubG9hZFwiOiAxfSxcbiAgICBcInNlY3Rpb25cIjoge30sXG4gICAgXCJuYXZcIjoge30sXG4gICAgXCJhcnRpY2xlXCI6IHtcInB1YmRhdGVcIjogMX0sXG4gICAgXCJhc2lkZVwiOiB7fSxcbiAgICBcImgxXCI6IHt9LFxuICAgIFwiaDJcIjoge30sXG4gICAgXCJoM1wiOiB7fSxcbiAgICBcImg0XCI6IHt9LFxuICAgIFwiaDVcIjoge30sXG4gICAgXCJoNlwiOiB7fSxcbiAgICBcImhlYWRlclwiOiB7fSxcbiAgICBcImZvb3RlclwiOiB7fSxcbiAgICBcImFkZHJlc3NcIjoge30sXG4gICAgXCJtYWluXCI6IHt9LFxuICAgIFwicFwiOiB7fSxcbiAgICBcImhyXCI6IHt9LFxuICAgIFwicHJlXCI6IHt9LFxuICAgIFwiYmxvY2txdW90ZVwiOiB7XCJjaXRlXCI6IDF9LFxuICAgIFwib2xcIjoge1wic3RhcnRcIjogMSwgXCJyZXZlcnNlZFwiOiAxfSxcbiAgICBcInVsXCI6IHt9LFxuICAgIFwibGlcIjoge1widmFsdWVcIjogMX0sXG4gICAgXCJkbFwiOiB7fSxcbiAgICBcImR0XCI6IHt9LFxuICAgIFwiZGRcIjoge30sXG4gICAgXCJmaWd1cmVcIjoge30sXG4gICAgXCJmaWdjYXB0aW9uXCI6IHt9LFxuICAgIFwiZGl2XCI6IHt9LFxuICAgIFwiYVwiOiB7XCJocmVmXCI6IDEsIFwidGFyZ2V0XCI6IHtcIl9ibGFua1wiOiAxLCBcInRvcFwiOiAxfSwgXCJwaW5nXCI6IDEsIFwicmVsXCI6IHtcIm5vZm9sbG93XCI6IDEsIFwiYWx0ZXJuYXRlXCI6IDEsIFwiYXV0aG9yXCI6IDEsIFwiYm9va21hcmtcIjogMSwgXCJoZWxwXCI6IDEsIFwibGljZW5zZVwiOiAxLCBcIm5leHRcIjogMSwgXCJub3JlZmVycmVyXCI6IDEsIFwicHJlZmV0Y2hcIjogMSwgXCJwcmV2XCI6IDEsIFwic2VhcmNoXCI6IDEsIFwidGFnXCI6IDF9LCBcIm1lZGlhXCI6IDEsIFwiaHJlZmxhbmdcIjogMSwgXCJ0eXBlXCI6IDF9LFxuICAgIFwiZW1cIjoge30sXG4gICAgXCJzdHJvbmdcIjoge30sXG4gICAgXCJzbWFsbFwiOiB7fSxcbiAgICBcInNcIjoge30sXG4gICAgXCJjaXRlXCI6IHt9LFxuICAgIFwicVwiOiB7XCJjaXRlXCI6IDF9LFxuICAgIFwiZGZuXCI6IHt9LFxuICAgIFwiYWJiclwiOiB7fSxcbiAgICBcImRhdGFcIjoge30sXG4gICAgXCJ0aW1lXCI6IHtcImRhdGV0aW1lXCI6IDF9LFxuICAgIFwiY29kZVwiOiB7fSxcbiAgICBcInZhclwiOiB7fSxcbiAgICBcInNhbXBcIjoge30sXG4gICAgXCJrYmRcIjoge30sXG4gICAgXCJzdWJcIjoge30sXG4gICAgXCJzdXBcIjoge30sXG4gICAgXCJpXCI6IHt9LFxuICAgIFwiYlwiOiB7fSxcbiAgICBcInVcIjoge30sXG4gICAgXCJtYXJrXCI6IHt9LFxuICAgIFwicnVieVwiOiB7fSxcbiAgICBcInJ0XCI6IHt9LFxuICAgIFwicnBcIjoge30sXG4gICAgXCJiZGlcIjoge30sXG4gICAgXCJiZG9cIjoge30sXG4gICAgXCJzcGFuXCI6IHt9LFxuICAgIFwiYnJcIjoge30sXG4gICAgXCJ3YnJcIjoge30sXG4gICAgXCJpbnNcIjoge1wiY2l0ZVwiOiAxLCBcImRhdGV0aW1lXCI6IDF9LFxuICAgIFwiZGVsXCI6IHtcImNpdGVcIjogMSwgXCJkYXRldGltZVwiOiAxfSxcbiAgICBcImltZ1wiOiB7XCJhbHRcIjogMSwgXCJzcmNcIjogMSwgXCJoZWlnaHRcIjogMSwgXCJ3aWR0aFwiOiAxLCBcInVzZW1hcFwiOiAxLCBcImlzbWFwXCI6IDF9LFxuICAgIFwiaWZyYW1lXCI6IHtcIm5hbWVcIjogMSwgXCJzcmNcIjogMSwgXCJoZWlnaHRcIjogMSwgXCJ3aWR0aFwiOiAxLCBcInNhbmRib3hcIjoge1wiYWxsb3ctc2FtZS1vcmlnaW5cIjogMSwgXCJhbGxvdy10b3AtbmF2aWdhdGlvblwiOiAxLCBcImFsbG93LWZvcm1zXCI6IDEsIFwiYWxsb3ctc2NyaXB0c1wiOiAxfSwgXCJzZWFtbGVzc1wiOiB7XCJzZWFtbGVzc1wiOiAxfX0sXG4gICAgXCJlbWJlZFwiOiB7XCJzcmNcIjogMSwgXCJoZWlnaHRcIjogMSwgXCJ3aWR0aFwiOiAxLCBcInR5cGVcIjogMX0sXG4gICAgXCJvYmplY3RcIjoge1wicGFyYW1cIjogMSwgXCJkYXRhXCI6IDEsIFwidHlwZVwiOiAxLCBcImhlaWdodFwiIDogMSwgXCJ3aWR0aFwiOiAxLCBcInVzZW1hcFwiOiAxLCBcIm5hbWVcIjogMSwgXCJmb3JtXCI6IDEsIFwiY2xhc3NpZFwiOiAxfSxcbiAgICBcInBhcmFtXCI6IHtcIm5hbWVcIjogMSwgXCJ2YWx1ZVwiOiAxfSxcbiAgICBcInZpZGVvXCI6IHtcInNyY1wiOiAxLCBcImF1dG9idWZmZXJcIjogMSwgXCJhdXRvcGxheVwiOiB7XCJhdXRvcGxheVwiOiAxfSwgXCJsb29wXCI6IHtcImxvb3BcIjogMX0sIFwiY29udHJvbHNcIjoge1wiY29udHJvbHNcIjogMX0sIFwid2lkdGhcIjogMSwgXCJoZWlnaHRcIjogMSwgXCJwb3N0ZXJcIjogMSwgXCJtdXRlZFwiOiB7XCJtdXRlZFwiOiAxfSwgXCJwcmVsb2FkXCI6IHtcImF1dG9cIjogMSwgXCJtZXRhZGF0YVwiOiAxLCBcIm5vbmVcIjogMX19LFxuICAgIFwiYXVkaW9cIjoge1wic3JjXCI6IDEsIFwiYXV0b2J1ZmZlclwiOiAxLCBcImF1dG9wbGF5XCI6IHtcImF1dG9wbGF5XCI6IDF9LCBcImxvb3BcIjoge1wibG9vcFwiOiAxfSwgXCJjb250cm9sc1wiOiB7XCJjb250cm9sc1wiOiAxfSwgXCJtdXRlZFwiOiB7XCJtdXRlZFwiOiAxfSwgXCJwcmVsb2FkXCI6IHtcImF1dG9cIjogMSwgXCJtZXRhZGF0YVwiOiAxLCBcIm5vbmVcIjogMSB9fSxcbiAgICBcInNvdXJjZVwiOiB7XCJzcmNcIjogMSwgXCJ0eXBlXCI6IDEsIFwibWVkaWFcIjogMX0sXG4gICAgXCJ0cmFja1wiOiB7XCJraW5kXCI6IDEsIFwic3JjXCI6IDEsIFwic3JjbGFuZ1wiOiAxLCBcImxhYmVsXCI6IDEsIFwiZGVmYXVsdFwiOiAxfSxcbiAgICBcImNhbnZhc1wiOiB7XCJ3aWR0aFwiOiAxLCBcImhlaWdodFwiOiAxfSxcbiAgICBcIm1hcFwiOiB7XCJuYW1lXCI6IDF9LFxuICAgIFwiYXJlYVwiOiB7XCJzaGFwZVwiOiAxLCBcImNvb3Jkc1wiOiAxLCBcImhyZWZcIjogMSwgXCJocmVmbGFuZ1wiOiAxLCBcImFsdFwiOiAxLCBcInRhcmdldFwiOiAxLCBcIm1lZGlhXCI6IDEsIFwicmVsXCI6IDEsIFwicGluZ1wiOiAxLCBcInR5cGVcIjogMX0sXG4gICAgXCJzdmdcIjoge30sXG4gICAgXCJtYXRoXCI6IHt9LFxuICAgIFwidGFibGVcIjoge1wic3VtbWFyeVwiOiAxfSxcbiAgICBcImNhcHRpb25cIjoge30sXG4gICAgXCJjb2xncm91cFwiOiB7XCJzcGFuXCI6IDF9LFxuICAgIFwiY29sXCI6IHtcInNwYW5cIjogMX0sXG4gICAgXCJ0Ym9keVwiOiB7fSxcbiAgICBcInRoZWFkXCI6IHt9LFxuICAgIFwidGZvb3RcIjoge30sXG4gICAgXCJ0clwiOiB7fSxcbiAgICBcInRkXCI6IHtcImhlYWRlcnNcIjogMSwgXCJyb3dzcGFuXCI6IDEsIFwiY29sc3BhblwiOiAxfSxcbiAgICBcInRoXCI6IHtcImhlYWRlcnNcIjogMSwgXCJyb3dzcGFuXCI6IDEsIFwiY29sc3BhblwiOiAxLCBcInNjb3BlXCI6IDF9LFxuICAgIFwiZm9ybVwiOiB7XCJhY2NlcHQtY2hhcnNldFwiOiAxLCBcImFjdGlvblwiOiAxLCBcImF1dG9jb21wbGV0ZVwiOiAxLCBcImVuY3R5cGVcIjoge1wibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiOiAxLCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOiAxfSwgXCJtZXRob2RcIjoge1wiZ2V0XCI6IDEsIFwicG9zdFwiOiAxfSwgXCJuYW1lXCI6IDEsIFwibm92YWxpZGF0ZVwiOiAxLCBcInRhcmdldFwiOiB7XCJfYmxhbmtcIjogMSwgXCJ0b3BcIjogMX19LFxuICAgIFwiZmllbGRzZXRcIjoge1wiZGlzYWJsZWRcIjogMSwgXCJmb3JtXCI6IDEsIFwibmFtZVwiOiAxfSxcbiAgICBcImxlZ2VuZFwiOiB7fSxcbiAgICBcImxhYmVsXCI6IHtcImZvcm1cIjogMSwgXCJmb3JcIjogMX0sXG4gICAgXCJpbnB1dFwiOiB7XG4gICAgICAgIFwidHlwZVwiOiB7XCJ0ZXh0XCI6IDEsIFwicGFzc3dvcmRcIjogMSwgXCJoaWRkZW5cIjogMSwgXCJjaGVja2JveFwiOiAxLCBcInN1Ym1pdFwiOiAxLCBcInJhZGlvXCI6IDEsIFwiZmlsZVwiOiAxLCBcImJ1dHRvblwiOiAxLCBcInJlc2V0XCI6IDEsIFwiaW1hZ2VcIjogMzEsIFwiY29sb3JcIjogMSwgXCJkYXRlXCI6IDEsIFwiZGF0ZXRpbWVcIjogMSwgXCJkYXRldGltZS1sb2NhbFwiOiAxLCBcImVtYWlsXCI6IDEsIFwibW9udGhcIjogMSwgXCJudW1iZXJcIjogMSwgXCJyYW5nZVwiOiAxLCBcInNlYXJjaFwiOiAxLCBcInRlbFwiOiAxLCBcInRpbWVcIjogMSwgXCJ1cmxcIjogMSwgXCJ3ZWVrXCI6IDF9LFxuICAgICAgICBcImFjY2VwdFwiOiAxLCBcImFsdFwiOiAxLCBcImF1dG9jb21wbGV0ZVwiOiB7XCJvblwiOiAxLCBcIm9mZlwiOiAxfSwgXCJhdXRvZm9jdXNcIjoge1wiYXV0b2ZvY3VzXCI6IDF9LCBcImNoZWNrZWRcIjoge1wiY2hlY2tlZFwiOiAxfSwgXCJkaXNhYmxlZFwiOiB7XCJkaXNhYmxlZFwiOiAxfSwgXCJmb3JtXCI6IDEsIFwiZm9ybWFjdGlvblwiOiAxLCBcImZvcm1lbmN0eXBlXCI6IHtcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOiAxLCBcIm11bHRpcGFydC9mb3JtLWRhdGFcIjogMSwgXCJ0ZXh0L3BsYWluXCI6IDF9LCBcImZvcm1tZXRob2RcIjoge1wiZ2V0XCI6IDEsIFwicG9zdFwiOiAxfSwgXCJmb3Jtbm92YWxpZGF0ZVwiOiB7XCJmb3Jtbm92YWxpZGF0ZVwiOiAxfSwgXCJmb3JtdGFyZ2V0XCI6IHtcIl9ibGFua1wiOiAxLCBcIl9zZWxmXCI6IDEsIFwiX3BhcmVudFwiOiAxLCBcIl90b3BcIjogMX0sIFwiaGVpZ2h0XCI6IDEsIFwibGlzdFwiOiAxLCBcIm1heFwiOiAxLCBcIm1heGxlbmd0aFwiOiAxLCBcIm1pblwiOiAxLCBcIm11bHRpcGxlXCI6IHtcIm11bHRpcGxlXCI6IDF9LCBcInBhdHRlcm5cIjogMSwgXCJwbGFjZWhvbGRlclwiOiAxLCBcInJlYWRvbmx5XCI6IHtcInJlYWRvbmx5XCI6IDF9LCBcImFjZXF1aXJlZFwiOiB7XCJhY2VxdWlyZWRcIjogMX0sIFwic2l6ZVwiOiAxLCBcInNyY1wiOiAxLCBcInN0ZXBcIjogMSwgXCJ3aWR0aFwiOiAxLCBcImZpbGVzXCI6IDEsIFwidmFsdWVcIjogMX0sXG4gICAgXCJidXR0b25cIjoge1wiYXV0b2ZvY3VzXCI6IDEsIFwiZGlzYWJsZWRcIjoge1wiZGlzYWJsZWRcIjogMX0sIFwiZm9ybVwiOiAxLCBcImZvcm1hY3Rpb25cIjogMSwgXCJmb3JtZW5jdHlwZVwiOiAxLCBcImZvcm1tZXRob2RcIjogMSwgXCJmb3Jtbm92YWxpZGF0ZVwiOiAxLCBcImZvcm10YXJnZXRcIjogMSwgXCJuYW1lXCI6IDEsIFwidmFsdWVcIjogMSwgXCJ0eXBlXCI6IHtcImJ1dHRvblwiOiAxLCBcInN1Ym1pdFwiOiAxfX0sXG4gICAgXCJzZWxlY3RcIjoge1wiYXV0b2ZvY3VzXCI6IDEsIFwiZGlzYWJsZWRcIjogMSwgXCJmb3JtXCI6IDEsIFwibXVsdGlwbGVcIjoge1wibXVsdGlwbGVcIjogMX0sIFwibmFtZVwiOiAxLCBcInNpemVcIjogMSwgXCJyZWFkb25seVwiOntcInJlYWRvbmx5XCI6IDF9fSxcbiAgICBcImRhdGFsaXN0XCI6IHt9LFxuICAgIFwib3B0Z3JvdXBcIjoge1wiZGlzYWJsZWRcIjogMSwgXCJsYWJlbFwiOiAxfSxcbiAgICBcIm9wdGlvblwiOiB7XCJkaXNhYmxlZFwiOiAxLCBcInNlbGVjdGVkXCI6IDEsIFwibGFiZWxcIjogMSwgXCJ2YWx1ZVwiOiAxfSxcbiAgICBcInRleHRhcmVhXCI6IHtcImF1dG9mb2N1c1wiOiB7XCJhdXRvZm9jdXNcIjogMX0sIFwiZGlzYWJsZWRcIjoge1wiZGlzYWJsZWRcIjogMX0sIFwiZm9ybVwiOiAxLCBcIm1heGxlbmd0aFwiOiAxLCBcIm5hbWVcIjogMSwgXCJwbGFjZWhvbGRlclwiOiAxLCBcInJlYWRvbmx5XCI6IHtcInJlYWRvbmx5XCI6IDF9LCBcImFjZXF1aXJlZFwiOiB7XCJhY2VxdWlyZWRcIjogMX0sIFwicm93c1wiOiAxLCBcImNvbHNcIjogMSwgXCJ3cmFwXCI6IHtcIm9uXCI6IDEsIFwib2ZmXCI6IDEsIFwiaGFyZFwiOiAxLCBcInNvZnRcIjogMX19LFxuICAgIFwia2V5Z2VuXCI6IHtcImF1dG9mb2N1c1wiOiAxLCBcImNoYWxsZW5nZVwiOiB7XCJjaGFsbGVuZ2VcIjogMX0sIFwiZGlzYWJsZWRcIjoge1wiZGlzYWJsZWRcIjogMX0sIFwiZm9ybVwiOiAxLCBcImtleXR5cGVcIjoge1wicnNhXCI6IDEsIFwiZHNhXCI6IDEsIFwiZWNcIjogMX0sIFwibmFtZVwiOiAxfSxcbiAgICBcIm91dHB1dFwiOiB7XCJmb3JcIjogMSwgXCJmb3JtXCI6IDEsIFwibmFtZVwiOiAxfSxcbiAgICBcInByb2dyZXNzXCI6IHtcInZhbHVlXCI6IDEsIFwibWF4XCI6IDF9LFxuICAgIFwibWV0ZXJcIjoge1widmFsdWVcIjogMSwgXCJtaW5cIjogMSwgXCJtYXhcIjogMSwgXCJsb3dcIjogMSwgXCJoaWdoXCI6IDEsIFwib3B0aW11bVwiOiAxfSxcbiAgICBcImRldGFpbHNcIjoge1wib3BlblwiOiAxfSxcbiAgICBcInN1bW1hcnlcIjoge30sXG4gICAgXCJjb21tYW5kXCI6IHtcInR5cGVcIjogMSwgXCJsYWJlbFwiOiAxLCBcImljb25cIjogMSwgXCJkaXNhYmxlZFwiOiAxLCBcImNoZWNrZWRcIjogMSwgXCJyYWRpb2dyb3VwXCI6IDEsIFwiY29tbWFuZFwiOiAxfSxcbiAgICBcIm1lbnVcIjoge1widHlwZVwiOiAxLCBcImxhYmVsXCI6IDF9LFxuICAgIFwiZGlhbG9nXCI6IHtcIm9wZW5cIjogMX1cbn07XG5cbnZhciBlbGVtZW50cyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZU1hcCk7XG5cbmZ1bmN0aW9uIGlzKHRva2VuLCB0eXBlKSB7XG4gICAgcmV0dXJuIHRva2VuLnR5cGUubGFzdEluZGV4T2YodHlwZSArIFwiLnhtbFwiKSA+IC0xO1xufVxuXG5mdW5jdGlvbiBmaW5kVGFnTmFtZShzZXNzaW9uLCBwb3MpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcihzZXNzaW9uLCBwb3Mucm93LCBwb3MuY29sdW1uKTtcbiAgICB2YXIgdG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgICB3aGlsZSAodG9rZW4gJiYgIWlzKHRva2VuLCBcInRhZy1uYW1lXCIpKXtcbiAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwQmFja3dhcmQoKTtcbiAgICB9XG4gICAgaWYgKHRva2VuKVxuICAgICAgICByZXR1cm4gdG9rZW4udmFsdWU7XG59XG5cbmZ1bmN0aW9uIGZpbmRBdHRyaWJ1dGVOYW1lKHNlc3Npb24sIHBvcykge1xuICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHNlc3Npb24sIHBvcy5yb3csIHBvcy5jb2x1bW4pO1xuICAgIHZhciB0b2tlbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbigpO1xuICAgIHdoaWxlICh0b2tlbiAmJiAhaXModG9rZW4sIFwiYXR0cmlidXRlLW5hbWVcIikpe1xuICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgIH1cbiAgICBpZiAodG9rZW4pXG4gICAgICAgIHJldHVybiB0b2tlbi52YWx1ZTtcbn1cblxudmFyIEh0bWxDb21wbGV0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmdldENvbXBsZXRpb25zID0gZnVuY3Rpb24oc3RhdGUsIHNlc3Npb24sIHBvcywgcHJlZml4KSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHNlc3Npb24uZ2V0VG9rZW5BdChwb3Mucm93LCBwb3MuY29sdW1uKTtcblxuICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBpZiAoaXModG9rZW4sIFwidGFnLW5hbWVcIikgfHwgaXModG9rZW4sIFwidGFnLW9wZW5cIikgfHwgaXModG9rZW4sIFwiZW5kLXRhZy1vcGVuXCIpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGFnQ29tcGxldGlvbnMoc3RhdGUsIHNlc3Npb24sIHBvcywgcHJlZml4KTtcbiAgICAgICAgaWYgKGlzKHRva2VuLCBcInRhZy13aGl0ZXNwYWNlXCIpIHx8IGlzKHRva2VuLCBcImF0dHJpYnV0ZS1uYW1lXCIpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlQ29tcGxldGlvbnMoc3RhdGUsIHNlc3Npb24sIHBvcywgcHJlZml4KTtcbiAgICAgICAgaWYgKGlzKHRva2VuLCBcImF0dHJpYnV0ZS12YWx1ZVwiKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZVZhbHVlQ29tcGxldGlvbnMoc3RhdGUsIHNlc3Npb24sIHBvcywgcHJlZml4KTtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocG9zLnJvdykuc3Vic3RyKDAsIHBvcy5jb2x1bW4pO1xuICAgICAgICBpZiAoLyZbQS16XSokL2kudGVzdChsaW5lKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEhUTUxFbnRpdHlDb21wbGV0aW9ucyhzdGF0ZSwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgpO1xuXG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRUYWdDb21wbGV0aW9ucyA9IGZ1bmN0aW9uKHN0YXRlLCBzZXNzaW9uLCBwb3MsIHByZWZpeCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudHMubWFwKGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZWxlbWVudCxcbiAgICAgICAgICAgICAgICBtZXRhOiBcInRhZ1wiLFxuICAgICAgICAgICAgICAgIHNjb3JlOiBOdW1iZXIuTUFYX1ZBTFVFXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRBdHRyaWJ1dGVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uKHN0YXRlLCBzZXNzaW9uLCBwb3MsIHByZWZpeCkge1xuICAgICAgICB2YXIgdGFnTmFtZSA9IGZpbmRUYWdOYW1lKHNlc3Npb24sIHBvcyk7XG4gICAgICAgIGlmICghdGFnTmFtZSlcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnbG9iYWxBdHRyaWJ1dGVzO1xuICAgICAgICBpZiAodGFnTmFtZSBpbiBhdHRyaWJ1dGVNYXApIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLmNvbmNhdChPYmplY3Qua2V5cyhhdHRyaWJ1dGVNYXBbdGFnTmFtZV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlcy5tYXAoZnVuY3Rpb24oYXR0cmlidXRlKXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FwdGlvbjogYXR0cmlidXRlLFxuICAgICAgICAgICAgICAgIHNuaXBwZXQ6IGF0dHJpYnV0ZSArICc9XCIkMFwiJyxcbiAgICAgICAgICAgICAgICBtZXRhOiBcImF0dHJpYnV0ZVwiLFxuICAgICAgICAgICAgICAgIHNjb3JlOiBOdW1iZXIuTUFYX1ZBTFVFXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRBdHRyaWJ1dGVWYWx1ZUNvbXBsZXRpb25zID0gZnVuY3Rpb24oc3RhdGUsIHNlc3Npb24sIHBvcywgcHJlZml4KSB7XG4gICAgICAgIHZhciB0YWdOYW1lID0gZmluZFRhZ05hbWUoc2Vzc2lvbiwgcG9zKTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBmaW5kQXR0cmlidXRlTmFtZShzZXNzaW9uLCBwb3MpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCF0YWdOYW1lKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIGlmICh0YWdOYW1lIGluIGF0dHJpYnV0ZU1hcCAmJiBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZU1hcFt0YWdOYW1lXSAmJiB0eXBlb2YgYXR0cmlidXRlTWFwW3RhZ05hbWVdW2F0dHJpYnV0ZU5hbWVdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVNYXBbdGFnTmFtZV1bYXR0cmlidXRlTmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXMubWFwKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FwdGlvbjogdmFsdWUsXG4gICAgICAgICAgICAgICAgc25pcHBldDogdmFsdWUsXG4gICAgICAgICAgICAgICAgbWV0YTogXCJhdHRyaWJ1dGUgdmFsdWVcIixcbiAgICAgICAgICAgICAgICBzY29yZTogTnVtYmVyLk1BWF9WQUxVRVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0SFRNTEVudGl0eUNvbXBsZXRpb25zID0gZnVuY3Rpb24oc3RhdGUsIHNlc3Npb24sIHBvcywgcHJlZml4KSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbJ0FhY3V0ZTsnLCAnYWFjdXRlOycsICdBY2lyYzsnLCAnYWNpcmM7JywgJ2FjdXRlOycsICdBRWxpZzsnLCAnYWVsaWc7JywgJ0FncmF2ZTsnLCAnYWdyYXZlOycsICdhbGVmc3ltOycsICdBbHBoYTsnLCAnYWxwaGE7JywgJ2FtcDsnLCAnYW5kOycsICdhbmc7JywgJ0FyaW5nOycsICdhcmluZzsnLCAnYXN5bXA7JywgJ0F0aWxkZTsnLCAnYXRpbGRlOycsICdBdW1sOycsICdhdW1sOycsICdiZHF1bzsnLCAnQmV0YTsnLCAnYmV0YTsnLCAnYnJ2YmFyOycsICdidWxsOycsICdjYXA7JywgJ0NjZWRpbDsnLCAnY2NlZGlsOycsICdjZWRpbDsnLCAnY2VudDsnLCAnQ2hpOycsICdjaGk7JywgJ2NpcmM7JywgJ2NsdWJzOycsICdjb25nOycsICdjb3B5OycsICdjcmFycjsnLCAnY3VwOycsICdjdXJyZW47JywgJ0RhZ2dlcjsnLCAnZGFnZ2VyOycsICdkQXJyOycsICdkYXJyOycsICdkZWc7JywgJ0RlbHRhOycsICdkZWx0YTsnLCAnZGlhbXM7JywgJ2RpdmlkZTsnLCAnRWFjdXRlOycsICdlYWN1dGU7JywgJ0VjaXJjOycsICdlY2lyYzsnLCAnRWdyYXZlOycsICdlZ3JhdmU7JywgJ2VtcHR5OycsICdlbXNwOycsICdlbnNwOycsICdFcHNpbG9uOycsICdlcHNpbG9uOycsICdlcXVpdjsnLCAnRXRhOycsICdldGE7JywgJ0VUSDsnLCAnZXRoOycsICdFdW1sOycsICdldW1sOycsICdldXJvOycsICdleGlzdDsnLCAnZm5vZjsnLCAnZm9yYWxsOycsICdmcmFjMTI7JywgJ2ZyYWMxNDsnLCAnZnJhYzM0OycsICdmcmFzbDsnLCAnR2FtbWE7JywgJ2dhbW1hOycsICdnZTsnLCAnZ3Q7JywgJ2hBcnI7JywgJ2hhcnI7JywgJ2hlYXJ0czsnLCAnaGVsbGlwOycsICdJYWN1dGU7JywgJ2lhY3V0ZTsnLCAnSWNpcmM7JywgJ2ljaXJjOycsICdpZXhjbDsnLCAnSWdyYXZlOycsICdpZ3JhdmU7JywgJ2ltYWdlOycsICdpbmZpbjsnLCAnaW50OycsICdJb3RhOycsICdpb3RhOycsICdpcXVlc3Q7JywgJ2lzaW47JywgJ0l1bWw7JywgJ2l1bWw7JywgJ0thcHBhOycsICdrYXBwYTsnLCAnTGFtYmRhOycsICdsYW1iZGE7JywgJ2xhbmc7JywgJ2xhcXVvOycsICdsQXJyOycsICdsYXJyOycsICdsY2VpbDsnLCAnbGRxdW87JywgJ2xlOycsICdsZmxvb3I7JywgJ2xvd2FzdDsnLCAnbG96OycsICdscm07JywgJ2xzYXF1bzsnLCAnbHNxdW87JywgJ2x0OycsICdtYWNyOycsICdtZGFzaDsnLCAnbWljcm87JywgJ21pZGRvdDsnLCAnbWludXM7JywgJ011OycsICdtdTsnLCAnbmFibGE7JywgJ25ic3A7JywgJ25kYXNoOycsICduZTsnLCAnbmk7JywgJ25vdDsnLCAnbm90aW47JywgJ25zdWI7JywgJ050aWxkZTsnLCAnbnRpbGRlOycsICdOdTsnLCAnbnU7JywgJ09hY3V0ZTsnLCAnb2FjdXRlOycsICdPY2lyYzsnLCAnb2NpcmM7JywgJ09FbGlnOycsICdvZWxpZzsnLCAnT2dyYXZlOycsICdvZ3JhdmU7JywgJ29saW5lOycsICdPbWVnYTsnLCAnb21lZ2E7JywgJ09taWNyb247JywgJ29taWNyb247JywgJ29wbHVzOycsICdvcjsnLCAnb3JkZjsnLCAnb3JkbTsnLCAnT3NsYXNoOycsICdvc2xhc2g7JywgJ090aWxkZTsnLCAnb3RpbGRlOycsICdvdGltZXM7JywgJ091bWw7JywgJ291bWw7JywgJ3BhcmE7JywgJ3BhcnQ7JywgJ3Blcm1pbDsnLCAncGVycDsnLCAnUGhpOycsICdwaGk7JywgJ1BpOycsICdwaTsnLCAncGl2OycsICdwbHVzbW47JywgJ3BvdW5kOycsICdQcmltZTsnLCAncHJpbWU7JywgJ3Byb2Q7JywgJ3Byb3A7JywgJ1BzaTsnLCAncHNpOycsICdxdW90OycsICdyYWRpYzsnLCAncmFuZzsnLCAncmFxdW87JywgJ3JBcnI7JywgJ3JhcnI7JywgJ3JjZWlsOycsICdyZHF1bzsnLCAncmVhbDsnLCAncmVnOycsICdyZmxvb3I7JywgJ1JobzsnLCAncmhvOycsICdybG07JywgJ3JzYXF1bzsnLCAncnNxdW87JywgJ3NicXVvOycsICdTY2Fyb247JywgJ3NjYXJvbjsnLCAnc2RvdDsnLCAnc2VjdDsnLCAnc2h5OycsICdTaWdtYTsnLCAnc2lnbWE7JywgJ3NpZ21hZjsnLCAnc2ltOycsICdzcGFkZXM7JywgJ3N1YjsnLCAnc3ViZTsnLCAnc3VtOycsICdzdXA7JywgJ3N1cDE7JywgJ3N1cDI7JywgJ3N1cDM7JywgJ3N1cGU7JywgJ3N6bGlnOycsICdUYXU7JywgJ3RhdTsnLCAndGhlcmU0OycsICdUaGV0YTsnLCAndGhldGE7JywgJ3RoZXRhc3ltOycsICd0aGluc3A7JywgJ1RIT1JOOycsICd0aG9ybjsnLCAndGlsZGU7JywgJ3RpbWVzOycsICd0cmFkZTsnLCAnVWFjdXRlOycsICd1YWN1dGU7JywgJ3VBcnI7JywgJ3VhcnI7JywgJ1VjaXJjOycsICd1Y2lyYzsnLCAnVWdyYXZlOycsICd1Z3JhdmU7JywgJ3VtbDsnLCAndXBzaWg7JywgJ1Vwc2lsb247JywgJ3Vwc2lsb247JywgJ1V1bWw7JywgJ3V1bWw7JywgJ3dlaWVycDsnLCAnWGk7JywgJ3hpOycsICdZYWN1dGU7JywgJ3lhY3V0ZTsnLCAneWVuOycsICdZdW1sOycsICd5dW1sOycsICdaZXRhOycsICd6ZXRhOycsICd6d2o7JywgJ3p3bmo7J107XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjYXB0aW9uOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBzbmlwcGV0OiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBtZXRhOiBcImh0bWwgZW50aXR5XCIsXG4gICAgICAgICAgICAgICAgc2NvcmU6IE51bWJlci5NQVhfVkFMVUVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG5cbn0pLmNhbGwoSHRtbENvbXBsZXRpb25zLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuSHRtbENvbXBsZXRpb25zID0gSHRtbENvbXBsZXRpb25zO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9odG1sXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbW9kZS90ZXh0XCIsXCJhY2UvbW9kZS9qYXZhc2NyaXB0XCIsXCJhY2UvbW9kZS9jc3NcIixcImFjZS9tb2RlL2h0bWxfaGlnaGxpZ2h0X3J1bGVzXCIsXCJhY2UvbW9kZS9iZWhhdmlvdXIveG1sXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2h0bWxcIixcImFjZS9tb2RlL2h0bWxfY29tcGxldGlvbnNcIixcImFjZS93b3JrZXIvd29ya2VyX2NsaWVudFwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG52YXIgVGV4dE1vZGUgPSBhY2VxdWlyZShcIi4vdGV4dFwiKS5Nb2RlO1xudmFyIEphdmFTY3JpcHRNb2RlID0gYWNlcXVpcmUoXCIuL2phdmFzY3JpcHRcIikuTW9kZTtcbnZhciBDc3NNb2RlID0gYWNlcXVpcmUoXCIuL2Nzc1wiKS5Nb2RlO1xudmFyIEh0bWxIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi9odG1sX2hpZ2hsaWdodF9ydWxlc1wiKS5IdG1sSGlnaGxpZ2h0UnVsZXM7XG52YXIgWG1sQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuL2JlaGF2aW91ci94bWxcIikuWG1sQmVoYXZpb3VyO1xudmFyIEh0bWxGb2xkTW9kZSA9IGFjZXF1aXJlKFwiLi9mb2xkaW5nL2h0bWxcIikuRm9sZE1vZGU7XG52YXIgSHRtbENvbXBsZXRpb25zID0gYWNlcXVpcmUoXCIuL2h0bWxfY29tcGxldGlvbnNcIikuSHRtbENvbXBsZXRpb25zO1xudmFyIFdvcmtlckNsaWVudCA9IGFjZXF1aXJlKFwiLi4vd29ya2VyL3dvcmtlcl9jbGllbnRcIikuV29ya2VyQ2xpZW50O1xudmFyIHZvaWRFbGVtZW50cyA9IFtcImFyZWFcIiwgXCJiYXNlXCIsIFwiYnJcIiwgXCJjb2xcIiwgXCJlbWJlZFwiLCBcImhyXCIsIFwiaW1nXCIsIFwiaW5wdXRcIiwgXCJrZXlnZW5cIiwgXCJsaW5rXCIsIFwibWV0YVwiLCBcIm1lbnVpdGVtXCIsIFwicGFyYW1cIiwgXCJzb3VyY2VcIiwgXCJ0cmFja1wiLCBcIndiclwiXTtcbnZhciBvcHRpb25hbEVuZFRhZ3MgPSBbXCJsaVwiLCBcImR0XCIsIFwiZGRcIiwgXCJwXCIsIFwicnRcIiwgXCJycFwiLCBcIm9wdGdyb3VwXCIsIFwib3B0aW9uXCIsIFwiY29sZ3JvdXBcIiwgXCJ0ZFwiLCBcInRoXCJdO1xuXG52YXIgTW9kZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLmZyYWdtZW50Q29udGV4dCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mcmFnbWVudENvbnRleHQ7XG4gICAgdGhpcy5IaWdobGlnaHRSdWxlcyA9IEh0bWxIaWdobGlnaHRSdWxlcztcbiAgICB0aGlzLiRiZWhhdmlvdXIgPSBuZXcgWG1sQmVoYXZpb3VyKCk7XG4gICAgdGhpcy4kY29tcGxldGVyID0gbmV3IEh0bWxDb21wbGV0aW9ucygpO1xuICAgIFxuICAgIHRoaXMuY3JlYXRlTW9kZURlbGVnYXRlcyh7XG4gICAgICAgIFwianMtXCI6IEphdmFTY3JpcHRNb2RlLFxuICAgICAgICBcImNzcy1cIjogQ3NzTW9kZVxuICAgIH0pO1xuICAgIFxuICAgIHRoaXMuZm9sZGluZ1J1bGVzID0gbmV3IEh0bWxGb2xkTW9kZSh0aGlzLnZvaWRFbGVtZW50cywgbGFuZy5hcnJheVRvTWFwKG9wdGlvbmFsRW5kVGFncykpO1xufTtcbm9vcC5pbmhlcml0cyhNb2RlLCBUZXh0TW9kZSk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuYmxvY2tDb21tZW50ID0ge3N0YXJ0OiBcIjwhLS1cIiwgZW5kOiBcIi0tPlwifTtcblxuICAgIHRoaXMudm9pZEVsZW1lbnRzID0gbGFuZy5hcnJheVRvTWFwKHZvaWRFbGVtZW50cyk7XG5cbiAgICB0aGlzLmdldE5leHRMaW5lSW5kZW50ID0gZnVuY3Rpb24oc3RhdGUsIGxpbmUsIHRhYikge1xuICAgICAgICByZXR1cm4gdGhpcy4kZ2V0SW5kZW50KGxpbmUpO1xuICAgIH07XG5cbiAgICB0aGlzLmNoZWNrT3V0ZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBsaW5lLCBpbnB1dCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q29tcGxldGlvbnMgPSBmdW5jdGlvbihzdGF0ZSwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNvbXBsZXRlci5nZXRDb21wbGV0aW9ucyhzdGF0ZSwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgpO1xuICAgIH07XG5cbiAgICB0aGlzLmNyZWF0ZVdvcmtlciA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IgIT0gTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHdvcmtlciA9IG5ldyBXb3JrZXJDbGllbnQoW1wiYWNlXCJdLCByZXF1aXJlKFwiLi4vd29ya2VyL2h0bWxcIiksIFwiV29ya2VyXCIpO1xuICAgICAgICB3b3JrZXIuYXR0YWNoVG9Eb2N1bWVudChzZXNzaW9uLmdldERvY3VtZW50KCkpO1xuXG4gICAgICAgIGlmICh0aGlzLmZyYWdtZW50Q29udGV4dClcbiAgICAgICAgICAgIHdvcmtlci5jYWxsKFwic2V0T3B0aW9uc1wiLCBbe2NvbnRleHQ6IHRoaXMuZnJhZ21lbnRDb250ZXh0fV0pO1xuXG4gICAgICAgIHdvcmtlci5vbihcImVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoZS5kYXRhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd29ya2VyLm9uKFwidGVybWluYXRlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgfTtcblxuICAgIHRoaXMuJGlkID0gXCJhY2UvbW9kZS9odG1sXCI7XG59KS5jYWxsKE1vZGUucHJvdG90eXBlKTtcblxuZXhwb3J0cy5Nb2RlID0gTW9kZTtcbn0pO1xuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcInBCR3ZBcFwiKSx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiLy4uL25vZGVfbW9kdWxlcy9icmFjZS9tb2RlL2h0bWwuanNcIixcIi8uLi9ub2RlX21vZHVsZXMvYnJhY2UvbW9kZVwiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbmFjZS5kZWZpbmUoXCJhY2UvdGhlbWUvY2xvdWRzX21pZG5pZ2h0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5leHBvcnRzLmlzRGFyayA9IHRydWU7XG5leHBvcnRzLmNzc0NsYXNzID0gXCJhY2UtY2xvdWRzLW1pZG5pZ2h0XCI7XG5leHBvcnRzLmNzc1RleHQgPSBcIi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2VfZ3V0dGVyIHtcXFxuYmFja2dyb3VuZDogIzIzMjMyMztcXFxuY29sb3I6ICM5MjkyOTJcXFxufVxcXG4uYWNlLWNsb3Vkcy1taWRuaWdodCAuYWNlX3ByaW50LW1hcmdpbiB7XFxcbndpZHRoOiAxcHg7XFxcbmJhY2tncm91bmQ6ICMyMzIzMjNcXFxufVxcXG4uYWNlLWNsb3Vkcy1taWRuaWdodCB7XFxcbmJhY2tncm91bmQtY29sb3I6ICMxOTE5MTk7XFxcbmNvbG9yOiAjOTI5MjkyXFxcbn1cXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9jdXJzb3Ige1xcXG5jb2xvcjogIzdEQTVEQ1xcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0aW9uIHtcXFxuYmFja2dyb3VuZDogIzAwMDAwMFxcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0LmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xcXG5ib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMTkxOTE5O1xcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XFxcbmJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XFxcbm1hcmdpbjogLTFweCAwIDAgLTFweDtcXFxuYm9yZGVyOiAxcHggc29saWQgI0JGQkZCRlxcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xcXG5iYWNrZ3JvdW5kOiByZ2JhKDIxNSwgMjE1LCAyMTUsIDAuMDMxKVxcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2VfZ3V0dGVyLWFjdGl2ZS1saW5lIHtcXFxuYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMTUsIDIxNSwgMjE1LCAwLjAzMSlcXFxufVxcXG4uYWNlLWNsb3Vkcy1taWRuaWdodCAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGVkLXdvcmQge1xcXG5ib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwXFxcbn1cXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9pbnZpc2libGUge1xcXG5jb2xvcjogIzY2NlxcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2Vfa2V5d29yZCxcXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9tZXRhLFxcXG4uYWNlLWNsb3Vkcy1taWRuaWdodCAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50LmFjZV9wcm9wZXJ0eS12YWx1ZSB7XFxcbmNvbG9yOiAjOTI3QzVEXFxcbn1cXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9rZXl3b3JkLmFjZV9vcGVyYXRvciB7XFxcbmNvbG9yOiAjNEI0QjRCXFxcbn1cXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9rZXl3b3JkLmFjZV9vdGhlci5hY2VfdW5pdCB7XFxcbmNvbG9yOiAjMzY2RjFBXFxcbn1cXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9jb25zdGFudC5hY2VfbGFuZ3VhZ2Uge1xcXG5jb2xvcjogIzM5OTQ2QVxcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge1xcXG5jb2xvcjogIzQ2QTYwOVxcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2VfY29uc3RhbnQuYWNlX2NoYXJhY3Rlci5hY2VfZW50aXR5IHtcXFxuY29sb3I6ICNBMTY1QUNcXFxufVxcXG4uYWNlLWNsb3Vkcy1taWRuaWdodCAuYWNlX2ludmFsaWQge1xcXG5jb2xvcjogI0ZGRkZGRjtcXFxuYmFja2dyb3VuZC1jb2xvcjogI0U5MkUyRVxcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2VfZm9sZCB7XFxcbmJhY2tncm91bmQtY29sb3I6ICM5MjdDNUQ7XFxcbmJvcmRlci1jb2xvcjogIzkyOTI5MlxcXG59XFxcbi5hY2UtY2xvdWRzLW1pZG5pZ2h0IC5hY2Vfc3RvcmFnZSxcXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9zdXBwb3J0LmFjZV9jbGFzcyxcXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbixcXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9zdXBwb3J0LmFjZV9vdGhlcixcXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9zdXBwb3J0LmFjZV90eXBlIHtcXFxuY29sb3I6ICNFOTJFMkVcXFxufVxcXG4uYWNlLWNsb3Vkcy1taWRuaWdodCAuYWNlX3N0cmluZyB7XFxcbmNvbG9yOiAjNUQ5MENEXFxcbn1cXFxuLmFjZS1jbG91ZHMtbWlkbmlnaHQgLmFjZV9jb21tZW50IHtcXFxuY29sb3I6ICMzQzQwM0JcXFxufVxcXG4uYWNlLWNsb3Vkcy1taWRuaWdodCAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfdGFnLFxcXG4uYWNlLWNsb3Vkcy1taWRuaWdodCAuYWNlX2VudGl0eS5hY2Vfb3RoZXIuYWNlX2F0dHJpYnV0ZS1uYW1lIHtcXFxuY29sb3I6ICM2MDYwNjBcXFxufVxcXG4uYWNlLWNsb3Vkcy1taWRuaWdodCAuYWNlX2luZGVudC1ndWlkZSB7XFxcbmJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRWtsRVFWUUltV05nWUdCZ1lIQjNkLzhQQUFPSUFkVUx3OHFNQUFBQUFFbEZUa1N1UW1DQykgcmlnaHQgcmVwZWF0LXlcXFxufVwiO1xuXG52YXIgZG9tID0gYWNlcXVpcmUoXCIuLi9saWIvZG9tXCIpO1xuZG9tLmltcG9ydENzc1N0cmluZyhleHBvcnRzLmNzc1RleHQsIGV4cG9ydHMuY3NzQ2xhc3MpO1xufSk7XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwicEJHdkFwXCIpLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvLi4vbm9kZV9tb2R1bGVzL2JyYWNlL3RoZW1lL2Nsb3Vkc19taWRuaWdodC5qc1wiLFwiLy4uL25vZGVfbW9kdWxlcy9icmFjZS90aGVtZVwiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbm1vZHVsZS5leHBvcnRzLmlkID0gJ2FjZS9tb2RlL2Nzc193b3JrZXInO1xubW9kdWxlLmV4cG9ydHMuc3JjID0gXCJcXFwibm8gdXNlIHN0cmljdFxcXCI7KGZ1bmN0aW9uKHdpbmRvdyl7ZnVuY3Rpb24gcmVzb2x2ZU1vZHVsZUlkKGlkLHBhdGhzKXtmb3IodmFyIHRlc3RQYXRoPWlkLHRhaWw9XFxcIlxcXCI7dGVzdFBhdGg7KXt2YXIgYWxpYXM9cGF0aHNbdGVzdFBhdGhdO2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYWxpYXMpcmV0dXJuIGFsaWFzK3RhaWw7aWYoYWxpYXMpcmV0dXJuIGFsaWFzLmxvY2F0aW9uLnJlcGxhY2UoL1xcXFwvKiQvLFxcXCIvXFxcIikrKHRhaWx8fGFsaWFzLm1haW58fGFsaWFzLm5hbWUpO2lmKGFsaWFzPT09ITEpcmV0dXJuXFxcIlxcXCI7dmFyIGk9dGVzdFBhdGgubGFzdEluZGV4T2YoXFxcIi9cXFwiKTtpZigtMT09PWkpYnJlYWs7dGFpbD10ZXN0UGF0aC5zdWJzdHIoaSkrdGFpbCx0ZXN0UGF0aD10ZXN0UGF0aC5zbGljZSgwLGkpfXJldHVybiBpZH1pZighKHZvaWQgMCE9PXdpbmRvdy53aW5kb3cmJndpbmRvdy5kb2N1bWVudHx8d2luZG93LmFjZXF1aXJlJiZ3aW5kb3cuZGVmaW5lKSl7d2luZG93LmNvbnNvbGV8fCh3aW5kb3cuY29uc29sZT1mdW5jdGlvbigpe3ZhciBtc2dzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtwb3N0TWVzc2FnZSh7dHlwZTpcXFwibG9nXFxcIixkYXRhOm1zZ3N9KX0sd2luZG93LmNvbnNvbGUuZXJyb3I9d2luZG93LmNvbnNvbGUud2Fybj13aW5kb3cuY29uc29sZS5sb2c9d2luZG93LmNvbnNvbGUudHJhY2U9d2luZG93LmNvbnNvbGUpLHdpbmRvdy53aW5kb3c9d2luZG93LHdpbmRvdy5hY2U9d2luZG93LHdpbmRvdy5vbmVycm9yPWZ1bmN0aW9uKG1lc3NhZ2UsZmlsZSxsaW5lLGNvbCxlcnIpe3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJlcnJvclxcXCIsZGF0YTp7bWVzc2FnZTptZXNzYWdlLGRhdGE6ZXJyLmRhdGEsZmlsZTpmaWxlLGxpbmU6bGluZSxjb2w6Y29sLHN0YWNrOmVyci5zdGFja319KX0sd2luZG93Lm5vcm1hbGl6ZU1vZHVsZT1mdW5jdGlvbihwYXJlbnRJZCxtb2R1bGVOYW1lKXtpZigtMSE9PW1vZHVsZU5hbWUuaW5kZXhPZihcXFwiIVxcXCIpKXt2YXIgY2h1bmtzPW1vZHVsZU5hbWUuc3BsaXQoXFxcIiFcXFwiKTtyZXR1cm4gd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCxjaHVua3NbMF0pK1xcXCIhXFxcIit3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLGNodW5rc1sxXSl9aWYoXFxcIi5cXFwiPT1tb2R1bGVOYW1lLmNoYXJBdCgwKSl7dmFyIGJhc2U9cGFyZW50SWQuc3BsaXQoXFxcIi9cXFwiKS5zbGljZSgwLC0xKS5qb2luKFxcXCIvXFxcIik7Zm9yKG1vZHVsZU5hbWU9KGJhc2U/YmFzZStcXFwiL1xcXCI6XFxcIlxcXCIpK21vZHVsZU5hbWU7LTEhPT1tb2R1bGVOYW1lLmluZGV4T2YoXFxcIi5cXFwiKSYmcHJldmlvdXMhPW1vZHVsZU5hbWU7KXt2YXIgcHJldmlvdXM9bW9kdWxlTmFtZTttb2R1bGVOYW1lPW1vZHVsZU5hbWUucmVwbGFjZSgvXlxcXFwuXFxcXC8vLFxcXCJcXFwiKS5yZXBsYWNlKC9cXFxcL1xcXFwuXFxcXC8vLFxcXCIvXFxcIikucmVwbGFjZSgvW15cXFxcL10rXFxcXC9cXFxcLlxcXFwuXFxcXC8vLFxcXCJcXFwiKX19cmV0dXJuIG1vZHVsZU5hbWV9LHdpbmRvdy5hY2VxdWlyZT1mdW5jdGlvbiBhY2VxdWlyZShwYXJlbnRJZCxpZCl7aWYoaWR8fChpZD1wYXJlbnRJZCxwYXJlbnRJZD1udWxsKSwhaWQuY2hhckF0KXRocm93IEVycm9yKFxcXCJ3b3JrZXIuanMgYWNlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzXFxcIik7aWQ9d2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCxpZCk7dmFyIG1vZHVsZT13aW5kb3cuYWNlcXVpcmUubW9kdWxlc1tpZF07aWYobW9kdWxlKXJldHVybiBtb2R1bGUuaW5pdGlhbGl6ZWR8fChtb2R1bGUuaW5pdGlhbGl6ZWQ9ITAsbW9kdWxlLmV4cG9ydHM9bW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzKSxtb2R1bGUuZXhwb3J0cztpZighd2luZG93LmFjZXF1aXJlLnRsbnMpcmV0dXJuIGNvbnNvbGUubG9nKFxcXCJ1bmFibGUgdG8gbG9hZCBcXFwiK2lkKTt2YXIgcGF0aD1yZXNvbHZlTW9kdWxlSWQoaWQsd2luZG93LmFjZXF1aXJlLnRsbnMpO3JldHVyblxcXCIuanNcXFwiIT1wYXRoLnNsaWNlKC0zKSYmKHBhdGgrPVxcXCIuanNcXFwiKSx3aW5kb3cuYWNlcXVpcmUuaWQ9aWQsd2luZG93LmFjZXF1aXJlLm1vZHVsZXNbaWRdPXt9LGltcG9ydFNjcmlwdHMocGF0aCksd2luZG93LmFjZXF1aXJlKHBhcmVudElkLGlkKX0sd2luZG93LmFjZXF1aXJlLm1vZHVsZXM9e30sd2luZG93LmFjZXF1aXJlLnRsbnM9e30sd2luZG93LmRlZmluZT1mdW5jdGlvbihpZCxkZXBzLGZhY3Rvcnkpe2lmKDI9PWFyZ3VtZW50cy5sZW5ndGg/KGZhY3Rvcnk9ZGVwcyxcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGlkJiYoZGVwcz1pZCxpZD13aW5kb3cuYWNlcXVpcmUuaWQpKToxPT1hcmd1bWVudHMubGVuZ3RoJiYoZmFjdG9yeT1pZCxkZXBzPVtdLGlkPXdpbmRvdy5hY2VxdWlyZS5pZCksXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGZhY3RvcnkpcmV0dXJuIHdpbmRvdy5hY2VxdWlyZS5tb2R1bGVzW2lkXT17ZXhwb3J0czpmYWN0b3J5LGluaXRpYWxpemVkOiEwfSx2b2lkIDA7ZGVwcy5sZW5ndGh8fChkZXBzPVtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSk7dmFyIHJlcT1mdW5jdGlvbihjaGlsZElkKXtyZXR1cm4gd2luZG93LmFjZXF1aXJlKGlkLGNoaWxkSWQpfTt3aW5kb3cuYWNlcXVpcmUubW9kdWxlc1tpZF09e2V4cG9ydHM6e30sZmFjdG9yeTpmdW5jdGlvbigpe3ZhciBtb2R1bGU9dGhpcyxyZXR1cm5FeHBvcnRzPWZhY3RvcnkuYXBwbHkodGhpcyxkZXBzLm1hcChmdW5jdGlvbihkZXApe3N3aXRjaChkZXApe2Nhc2VcXFwicmVxdWlyZVxcXCI6cmV0dXJuIHJlcTtjYXNlXFxcImV4cG9ydHNcXFwiOnJldHVybiBtb2R1bGUuZXhwb3J0cztjYXNlXFxcIm1vZHVsZVxcXCI6cmV0dXJuIG1vZHVsZTtkZWZhdWx0OnJldHVybiByZXEoZGVwKX19KSk7cmV0dXJuIHJldHVybkV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1yZXR1cm5FeHBvcnRzKSxtb2R1bGV9fX0sd2luZG93LmRlZmluZS5hbWQ9e30sYWNlcXVpcmUudGxucz17fSx3aW5kb3cuaW5pdEJhc2VVcmxzPWZ1bmN0aW9uKHRvcExldmVsTmFtZXNwYWNlcyl7Zm9yKHZhciBpIGluIHRvcExldmVsTmFtZXNwYWNlcylhY2VxdWlyZS50bG5zW2ldPXRvcExldmVsTmFtZXNwYWNlc1tpXX0sd2luZG93LmluaXRTZW5kZXI9ZnVuY3Rpb24oKXt2YXIgRXZlbnRFbWl0dGVyPXdpbmRvdy5hY2VxdWlyZShcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIikuRXZlbnRFbWl0dGVyLG9vcD13aW5kb3cuYWNlcXVpcmUoXFxcImFjZS9saWIvb29wXFxcIiksU2VuZGVyPWZ1bmN0aW9uKCl7fTtyZXR1cm4gZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLmNhbGxiYWNrPWZ1bmN0aW9uKGRhdGEsY2FsbGJhY2tJZCl7cG9zdE1lc3NhZ2Uoe3R5cGU6XFxcImNhbGxcXFwiLGlkOmNhbGxiYWNrSWQsZGF0YTpkYXRhfSl9LHRoaXMuZW1pdD1mdW5jdGlvbihuYW1lLGRhdGEpe3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJldmVudFxcXCIsbmFtZTpuYW1lLGRhdGE6ZGF0YX0pfX0uY2FsbChTZW5kZXIucHJvdG90eXBlKSxuZXcgU2VuZGVyfTt2YXIgbWFpbj13aW5kb3cubWFpbj1udWxsLHNlbmRlcj13aW5kb3cuc2VuZGVyPW51bGw7d2luZG93Lm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgbXNnPWUuZGF0YTtpZihtc2cuZXZlbnQmJnNlbmRlcilzZW5kZXIuX3NpZ25hbChtc2cuZXZlbnQsbXNnLmRhdGEpO2Vsc2UgaWYobXNnLmNvbW1hbmQpaWYobWFpblttc2cuY29tbWFuZF0pbWFpblttc2cuY29tbWFuZF0uYXBwbHkobWFpbixtc2cuYXJncyk7ZWxzZXtpZighd2luZG93W21zZy5jb21tYW5kXSl0aHJvdyBFcnJvcihcXFwiVW5rbm93biBjb21tYW5kOlxcXCIrbXNnLmNvbW1hbmQpO3dpbmRvd1ttc2cuY29tbWFuZF0uYXBwbHkod2luZG93LG1zZy5hcmdzKX1lbHNlIGlmKG1zZy5pbml0KXt3aW5kb3cuaW5pdEJhc2VVcmxzKG1zZy50bG5zKSxhY2VxdWlyZShcXFwiYWNlL2xpYi9lczUtc2hpbVxcXCIpLHNlbmRlcj13aW5kb3cuc2VuZGVyPXdpbmRvdy5pbml0U2VuZGVyKCk7dmFyIGNsYXp6PWFjZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdO21haW49d2luZG93Lm1haW49bmV3IGNsYXp6KHNlbmRlcil9fX19KSh0aGlzKSxhY2UuZGVmaW5lKFxcXCJhY2UvbGliL29vcFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLmluaGVyaXRzPWZ1bmN0aW9uKGN0b3Isc3VwZXJDdG9yKXtjdG9yLnN1cGVyXz1zdXBlckN0b3IsY3Rvci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6Y3RvcixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX0sZXhwb3J0cy5taXhpbj1mdW5jdGlvbihvYmosbWl4aW4pe2Zvcih2YXIga2V5IGluIG1peGluKW9ialtrZXldPW1peGluW2tleV07cmV0dXJuIG9ian0sZXhwb3J0cy5pbXBsZW1lbnQ9ZnVuY3Rpb24ocHJvdG8sbWl4aW4pe2V4cG9ydHMubWl4aW4ocHJvdG8sbWl4aW4pfX0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvbGFuZ1xcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLmxhc3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIGFbYS5sZW5ndGgtMV19LGV4cG9ydHMuc3RyaW5nUmV2ZXJzZT1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcuc3BsaXQoXFxcIlxcXCIpLnJldmVyc2UoKS5qb2luKFxcXCJcXFwiKX0sZXhwb3J0cy5zdHJpbmdSZXBlYXQ9ZnVuY3Rpb24oc3RyaW5nLGNvdW50KXtmb3IodmFyIHJlc3VsdD1cXFwiXFxcIjtjb3VudD4wOykxJmNvdW50JiYocmVzdWx0Kz1zdHJpbmcpLChjb3VudD4+PTEpJiYoc3RyaW5nKz1zdHJpbmcpO3JldHVybiByZXN1bHR9O3ZhciB0cmltQmVnaW5SZWdleHA9L15cXFxcc1xcXFxzKi8sdHJpbUVuZFJlZ2V4cD0vXFxcXHNcXFxccyokLztleHBvcnRzLnN0cmluZ1RyaW1MZWZ0PWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCxcXFwiXFxcIil9LGV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0PWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsXFxcIlxcXCIpfSxleHBvcnRzLmNvcHlPYmplY3Q9ZnVuY3Rpb24ob2JqKXt2YXIgY29weT17fTtmb3IodmFyIGtleSBpbiBvYmopY29weVtrZXldPW9ialtrZXldO3JldHVybiBjb3B5fSxleHBvcnRzLmNvcHlBcnJheT1mdW5jdGlvbihhcnJheSl7Zm9yKHZhciBjb3B5PVtdLGk9MCxsPWFycmF5Lmxlbmd0aDtsPmk7aSsrKWNvcHlbaV09YXJyYXlbaV0mJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgYXJyYXlbaV0/dGhpcy5jb3B5T2JqZWN0KGFycmF5W2ldKTphcnJheVtpXTtyZXR1cm4gY29weX0sZXhwb3J0cy5kZWVwQ29weT1mdW5jdGlvbiBkZWVwQ29weShvYmope2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqfHwhb2JqKXJldHVybiBvYmo7dmFyIGNvcHk7aWYoQXJyYXkuaXNBcnJheShvYmopKXtjb3B5PVtdO2Zvcih2YXIga2V5PTA7b2JqLmxlbmd0aD5rZXk7a2V5KyspY29weVtrZXldPWRlZXBDb3B5KG9ialtrZXldKTtyZXR1cm4gY29weX12YXIgY29ucz1vYmouY29uc3RydWN0b3I7aWYoY29ucz09PVJlZ0V4cClyZXR1cm4gb2JqO2NvcHk9Y29ucygpO2Zvcih2YXIga2V5IGluIG9iailjb3B5W2tleV09ZGVlcENvcHkob2JqW2tleV0pO3JldHVybiBjb3B5fSxleHBvcnRzLmFycmF5VG9NYXA9ZnVuY3Rpb24oYXJyKXtmb3IodmFyIG1hcD17fSxpPTA7YXJyLmxlbmd0aD5pO2krKyltYXBbYXJyW2ldXT0xO3JldHVybiBtYXB9LGV4cG9ydHMuY3JlYXRlTWFwPWZ1bmN0aW9uKHByb3BzKXt2YXIgbWFwPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHZhciBpIGluIHByb3BzKW1hcFtpXT1wcm9wc1tpXTtyZXR1cm4gbWFwfSxleHBvcnRzLmFycmF5UmVtb3ZlPWZ1bmN0aW9uKGFycmF5LHZhbHVlKXtmb3IodmFyIGk9MDthcnJheS5sZW5ndGg+PWk7aSsrKXZhbHVlPT09YXJyYXlbaV0mJmFycmF5LnNwbGljZShpLDEpfSxleHBvcnRzLmVzY2FwZVJlZ0V4cD1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvKFsuKis/XiR7fSgpfFtcXFxcXVxcXFwvXFxcXFxcXFxdKS9nLFxcXCJcXFxcXFxcXCQxXFxcIil9LGV4cG9ydHMuZXNjYXBlSFRNTD1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvJi9nLFxcXCImIzM4O1xcXCIpLnJlcGxhY2UoL1xcXCIvZyxcXFwiJiMzNDtcXFwiKS5yZXBsYWNlKC8nL2csXFxcIiYjMzk7XFxcIikucmVwbGFjZSgvPC9nLFxcXCImIzYwO1xcXCIpfSxleHBvcnRzLmdldE1hdGNoT2Zmc2V0cz1mdW5jdGlvbihzdHJpbmcscmVnRXhwKXt2YXIgbWF0Y2hlcz1bXTtyZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVnRXhwLGZ1bmN0aW9uKHN0cil7bWF0Y2hlcy5wdXNoKHtvZmZzZXQ6YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMl0sbGVuZ3RoOnN0ci5sZW5ndGh9KX0pLG1hdGNoZXN9LGV4cG9ydHMuZGVmZXJyZWRDYWxsPWZ1bmN0aW9uKGZjbil7dmFyIHRpbWVyPW51bGwsY2FsbGJhY2s9ZnVuY3Rpb24oKXt0aW1lcj1udWxsLGZjbigpfSxkZWZlcnJlZD1mdW5jdGlvbih0aW1lb3V0KXtyZXR1cm4gZGVmZXJyZWQuY2FuY2VsKCksdGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHwwKSxkZWZlcnJlZH07cmV0dXJuIGRlZmVycmVkLnNjaGVkdWxlPWRlZmVycmVkLGRlZmVycmVkLmNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5jZWwoKSxmY24oKSxkZWZlcnJlZH0sZGVmZXJyZWQuY2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIGNsZWFyVGltZW91dCh0aW1lciksdGltZXI9bnVsbCxkZWZlcnJlZH0sZGVmZXJyZWQuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRpbWVyfSxkZWZlcnJlZH0sZXhwb3J0cy5kZWxheWVkQ2FsbD1mdW5jdGlvbihmY24sZGVmYXVsdFRpbWVvdXQpe3ZhciB0aW1lcj1udWxsLGNhbGxiYWNrPWZ1bmN0aW9uKCl7dGltZXI9bnVsbCxmY24oKX0sX3NlbGY9ZnVuY3Rpb24odGltZW91dCl7bnVsbD09dGltZXImJih0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fGRlZmF1bHRUaW1lb3V0KSl9O3JldHVybiBfc2VsZi5kZWxheT1mdW5jdGlvbih0aW1lb3V0KXt0aW1lciYmY2xlYXJUaW1lb3V0KHRpbWVyKSx0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fGRlZmF1bHRUaW1lb3V0KX0sX3NlbGYuc2NoZWR1bGU9X3NlbGYsX3NlbGYuY2FsbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsKCksZmNuKCl9LF9zZWxmLmNhbmNlbD1mdW5jdGlvbigpe3RpbWVyJiZjbGVhclRpbWVvdXQodGltZXIpLHRpbWVyPW51bGx9LF9zZWxmLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0aW1lcn0sX3NlbGZ9fSksYWNlLmRlZmluZShcXFwiYWNlL3JhbmdlXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBjb21wYXJlUG9pbnRzPWZ1bmN0aW9uKHAxLHAyKXtyZXR1cm4gcDEucm93LXAyLnJvd3x8cDEuY29sdW1uLXAyLmNvbHVtbn0sUmFuZ2U9ZnVuY3Rpb24oc3RhcnRSb3csc3RhcnRDb2x1bW4sZW5kUm93LGVuZENvbHVtbil7dGhpcy5zdGFydD17cm93OnN0YXJ0Um93LGNvbHVtbjpzdGFydENvbHVtbn0sdGhpcy5lbmQ9e3JvdzplbmRSb3csY29sdW1uOmVuZENvbHVtbn19OyhmdW5jdGlvbigpe3RoaXMuaXNFcXVhbD1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09cmFuZ2Uuc3RhcnQucm93JiZ0aGlzLmVuZC5yb3c9PT1yYW5nZS5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXJhbmdlLnN0YXJ0LmNvbHVtbiYmdGhpcy5lbmQuY29sdW1uPT09cmFuZ2UuZW5kLmNvbHVtbn0sdGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCJSYW5nZTogW1xcXCIrdGhpcy5zdGFydC5yb3crXFxcIi9cXFwiK3RoaXMuc3RhcnQuY29sdW1uK1xcXCJdIC0+IFtcXFwiK3RoaXMuZW5kLnJvdytcXFwiL1xcXCIrdGhpcy5lbmQuY29sdW1uK1xcXCJdXFxcIn0sdGhpcy5jb250YWlucz1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pfSx0aGlzLmNvbXBhcmVSYW5nZT1mdW5jdGlvbihyYW5nZSl7dmFyIGNtcCxlbmQ9cmFuZ2UuZW5kLHN0YXJ0PXJhbmdlLnN0YXJ0O3JldHVybiBjbXA9dGhpcy5jb21wYXJlKGVuZC5yb3csZW5kLmNvbHVtbiksMT09Y21wPyhjbXA9dGhpcy5jb21wYXJlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4pLDE9PWNtcD8yOjA9PWNtcD8xOjApOi0xPT1jbXA/LTI6KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksLTE9PWNtcD8tMToxPT1jbXA/NDI6MCl9LHRoaXMuY29tcGFyZVBvaW50PWZ1bmN0aW9uKHApe3JldHVybiB0aGlzLmNvbXBhcmUocC5yb3cscC5jb2x1bW4pfSx0aGlzLmNvbnRhaW5zUmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe3JldHVybiAwPT10aGlzLmNvbXBhcmVQb2ludChyYW5nZS5zdGFydCkmJjA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCl9LHRoaXMuaW50ZXJzZWN0cz1mdW5jdGlvbihyYW5nZSl7dmFyIGNtcD10aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7cmV0dXJuLTE9PWNtcHx8MD09Y21wfHwxPT1jbXB9LHRoaXMuaXNFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbn0sdGhpcy5pc1N0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1ufSx0aGlzLnNldFN0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe1xcXCJvYmplY3RcXFwiPT10eXBlb2Ygcm93Pyh0aGlzLnN0YXJ0LmNvbHVtbj1yb3cuY29sdW1uLHRoaXMuc3RhcnQucm93PXJvdy5yb3cpOih0aGlzLnN0YXJ0LnJvdz1yb3csdGhpcy5zdGFydC5jb2x1bW49Y29sdW1uKX0sdGhpcy5zZXRFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiByb3c/KHRoaXMuZW5kLmNvbHVtbj1yb3cuY29sdW1uLHRoaXMuZW5kLnJvdz1yb3cucm93KToodGhpcy5lbmQucm93PXJvdyx0aGlzLmVuZC5jb2x1bW49Y29sdW1uKX0sdGhpcy5pbnNpZGU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIDA9PXRoaXMuY29tcGFyZShyb3csY29sdW1uKT90aGlzLmlzRW5kKHJvdyxjb2x1bW4pfHx0aGlzLmlzU3RhcnQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIDA9PXRoaXMuY29tcGFyZShyb3csY29sdW1uKT90aGlzLmlzRW5kKHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmluc2lkZUVuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5jb21wYXJlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmlzTXVsdGlMaW5lKCl8fHJvdyE9PXRoaXMuc3RhcnQucm93P3RoaXMuc3RhcnQucm93PnJvdz8tMTpyb3c+dGhpcy5lbmQucm93PzE6dGhpcy5zdGFydC5yb3c9PT1yb3c/Y29sdW1uPj10aGlzLnN0YXJ0LmNvbHVtbj8wOi0xOnRoaXMuZW5kLnJvdz09PXJvdz90aGlzLmVuZC5jb2x1bW4+PWNvbHVtbj8wOjE6MDp0aGlzLnN0YXJ0LmNvbHVtbj5jb2x1bW4/LTE6Y29sdW1uPnRoaXMuZW5kLmNvbHVtbj8xOjB9LHRoaXMuY29tcGFyZVN0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZUluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1uPzE6dGhpcy5zdGFydC5yb3c9PXJvdyYmdGhpcy5zdGFydC5jb2x1bW49PWNvbHVtbj8tMTp0aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY2xpcFJvd3M9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7aWYodGhpcy5lbmQucm93Pmxhc3RSb3cpdmFyIGVuZD17cm93Omxhc3RSb3crMSxjb2x1bW46MH07ZWxzZSBpZihmaXJzdFJvdz50aGlzLmVuZC5yb3cpdmFyIGVuZD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtpZih0aGlzLnN0YXJ0LnJvdz5sYXN0Um93KXZhciBzdGFydD17cm93Omxhc3RSb3crMSxjb2x1bW46MH07ZWxzZSBpZihmaXJzdFJvdz50aGlzLnN0YXJ0LnJvdyl2YXIgc3RhcnQ9e3JvdzpmaXJzdFJvdyxjb2x1bW46MH07cmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnR8fHRoaXMuc3RhcnQsZW5kfHx0aGlzLmVuZCl9LHRoaXMuZXh0ZW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3ZhciBjbXA9dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pO2lmKDA9PWNtcClyZXR1cm4gdGhpcztpZigtMT09Y21wKXZhciBzdGFydD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtlbHNlIHZhciBlbmQ9e3Jvdzpyb3csY29sdW1uOmNvbHVtbn07cmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnR8fHRoaXMuc3RhcnQsZW5kfHx0aGlzLmVuZCl9LHRoaXMuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09PXRoaXMuZW5kLnJvdyYmdGhpcy5zdGFydC5jb2x1bW49PT10aGlzLmVuZC5jb2x1bW59LHRoaXMuaXNNdWx0aUxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydC5yb3chPT10aGlzLmVuZC5yb3d9LHRoaXMuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LHRoaXMuZW5kKX0sdGhpcy5jb2xsYXBzZVJvd3M9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5lbmQuY29sdW1uP25ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLE1hdGgubWF4KHRoaXMuc3RhcnQucm93LHRoaXMuZW5kLnJvdy0xKSwwKTpuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csMCx0aGlzLmVuZC5yb3csMCl9LHRoaXMudG9TY3JlZW5SYW5nZT1mdW5jdGlvbihzZXNzaW9uKXt2YXIgc2NyZWVuUG9zU3RhcnQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zdGFydCksc2NyZWVuUG9zRW5kPXNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuZW5kKTtyZXR1cm4gbmV3IFJhbmdlKHNjcmVlblBvc1N0YXJ0LnJvdyxzY3JlZW5Qb3NTdGFydC5jb2x1bW4sc2NyZWVuUG9zRW5kLnJvdyxzY3JlZW5Qb3NFbmQuY29sdW1uKX0sdGhpcy5tb3ZlQnk9ZnVuY3Rpb24ocm93LGNvbHVtbil7dGhpcy5zdGFydC5yb3crPXJvdyx0aGlzLnN0YXJ0LmNvbHVtbis9Y29sdW1uLHRoaXMuZW5kLnJvdys9cm93LHRoaXMuZW5kLmNvbHVtbis9Y29sdW1ufX0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKSxSYW5nZS5mcm9tUG9pbnRzPWZ1bmN0aW9uKHN0YXJ0LGVuZCl7cmV0dXJuIG5ldyBSYW5nZShzdGFydC5yb3csc3RhcnQuY29sdW1uLGVuZC5yb3csZW5kLmNvbHVtbil9LFJhbmdlLmNvbXBhcmVQb2ludHM9Y29tcGFyZVBvaW50cyxSYW5nZS5jb21wYXJlUG9pbnRzPWZ1bmN0aW9uKHAxLHAyKXtyZXR1cm4gcDEucm93LXAyLnJvd3x8cDEuY29sdW1uLXAyLmNvbHVtbn0sZXhwb3J0cy5SYW5nZT1SYW5nZX0pLGFjZS5kZWZpbmUoXFxcImFjZS9hcHBseV9kZWx0YVxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLmFwcGx5RGVsdGE9ZnVuY3Rpb24oZG9jTGluZXMsZGVsdGEpe3ZhciByb3c9ZGVsdGEuc3RhcnQucm93LHN0YXJ0Q29sdW1uPWRlbHRhLnN0YXJ0LmNvbHVtbixsaW5lPWRvY0xpbmVzW3Jvd118fFxcXCJcXFwiO3N3aXRjaChkZWx0YS5hY3Rpb24pe2Nhc2VcXFwiaW5zZXJ0XFxcIjp2YXIgbGluZXM9ZGVsdGEubGluZXM7aWYoMT09PWxpbmVzLmxlbmd0aClkb2NMaW5lc1tyb3ddPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2RlbHRhLmxpbmVzWzBdK2xpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTtlbHNle3ZhciBhcmdzPVtyb3csMV0uY29uY2F0KGRlbHRhLmxpbmVzKTtkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsYXJncyksZG9jTGluZXNbcm93XT1saW5lLnN1YnN0cmluZygwLHN0YXJ0Q29sdW1uKStkb2NMaW5lc1tyb3ddLGRvY0xpbmVzW3JvdytkZWx0YS5saW5lcy5sZW5ndGgtMV0rPWxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKX1icmVhaztjYXNlXFxcInJlbW92ZVxcXCI6dmFyIGVuZENvbHVtbj1kZWx0YS5lbmQuY29sdW1uLGVuZFJvdz1kZWx0YS5lbmQucm93O3Jvdz09PWVuZFJvdz9kb2NMaW5lc1tyb3ddPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2xpbmUuc3Vic3RyaW5nKGVuZENvbHVtbik6ZG9jTGluZXMuc3BsaWNlKHJvdyxlbmRSb3ctcm93KzEsbGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSl9fX0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgRXZlbnRFbWl0dGVyPXt9LHN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMucHJvcGFnYXRpb25TdG9wcGVkPSEwfSxwcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH07RXZlbnRFbWl0dGVyLl9lbWl0PUV2ZW50RW1pdHRlci5fZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihldmVudE5hbWUsZSl7dGhpcy5fZXZlbnRSZWdpc3RyeXx8KHRoaXMuX2V2ZW50UmVnaXN0cnk9e30pLHRoaXMuX2RlZmF1bHRIYW5kbGVyc3x8KHRoaXMuX2RlZmF1bHRIYW5kbGVycz17fSk7dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV18fFtdLGRlZmF1bHRIYW5kbGVyPXRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdO2lmKGxpc3RlbmVycy5sZW5ndGh8fGRlZmF1bHRIYW5kbGVyKXtcXFwib2JqZWN0XFxcIj09dHlwZW9mIGUmJmV8fChlPXt9KSxlLnR5cGV8fChlLnR5cGU9ZXZlbnROYW1lKSxlLnN0b3BQcm9wYWdhdGlvbnx8KGUuc3RvcFByb3BhZ2F0aW9uPXN0b3BQcm9wYWdhdGlvbiksZS5wcmV2ZW50RGVmYXVsdHx8KGUucHJldmVudERlZmF1bHQ9cHJldmVudERlZmF1bHQpLGxpc3RlbmVycz1saXN0ZW5lcnMuc2xpY2UoKTtmb3IodmFyIGk9MDtsaXN0ZW5lcnMubGVuZ3RoPmkmJihsaXN0ZW5lcnNbaV0oZSx0aGlzKSwhZS5wcm9wYWdhdGlvblN0b3BwZWQpO2krKyk7cmV0dXJuIGRlZmF1bHRIYW5kbGVyJiYhZS5kZWZhdWx0UHJldmVudGVkP2RlZmF1bHRIYW5kbGVyKGUsdGhpcyk6dm9pZCAwfX0sRXZlbnRFbWl0dGVyLl9zaWduYWw9ZnVuY3Rpb24oZXZlbnROYW1lLGUpe3ZhciBsaXN0ZW5lcnM9KHRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9KVtldmVudE5hbWVdO2lmKGxpc3RlbmVycyl7bGlzdGVuZXJzPWxpc3RlbmVycy5zbGljZSgpO2Zvcih2YXIgaT0wO2xpc3RlbmVycy5sZW5ndGg+aTtpKyspbGlzdGVuZXJzW2ldKGUsdGhpcyl9fSxFdmVudEVtaXR0ZXIub25jZT1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBfc2VsZj10aGlzO2NhbGxiYWNrJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLGZ1bmN0aW9uIG5ld0NhbGxiYWNrKCl7X3NlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsbmV3Q2FsbGJhY2spLGNhbGxiYWNrLmFwcGx5KG51bGwsYXJndW1lbnRzKX0pfSxFdmVudEVtaXR0ZXIuc2V0RGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKGhhbmRsZXJzfHwoaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzPXtfZGlzYWJsZWRfOnt9fSksaGFuZGxlcnNbZXZlbnROYW1lXSl7dmFyIG9sZD1oYW5kbGVyc1tldmVudE5hbWVdLGRpc2FibGVkPWhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTtkaXNhYmxlZHx8KGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXT1kaXNhYmxlZD1bXSksZGlzYWJsZWQucHVzaChvbGQpO3ZhciBpPWRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOy0xIT1pJiZkaXNhYmxlZC5zcGxpY2UoaSwxKX1oYW5kbGVyc1tldmVudE5hbWVdPWNhbGxiYWNrfSxFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKGhhbmRsZXJzKXt2YXIgZGlzYWJsZWQ9aGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdO2lmKGhhbmRsZXJzW2V2ZW50TmFtZV09PWNhbGxiYWNrKWhhbmRsZXJzW2V2ZW50TmFtZV0sZGlzYWJsZWQmJnRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZXZlbnROYW1lLGRpc2FibGVkLnBvcCgpKTtlbHNlIGlmKGRpc2FibGVkKXt2YXIgaT1kaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTstMSE9aSYmZGlzYWJsZWQuc3BsaWNlKGksMSl9fX0sRXZlbnRFbWl0dGVyLm9uPUV2ZW50RW1pdHRlci5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayxjYXB0dXJpbmcpe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07cmV0dXJuIGxpc3RlbmVyc3x8KGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV09W10pLC0xPT1saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaykmJmxpc3RlbmVyc1tjYXB0dXJpbmc/XFxcInVuc2hpZnRcXFwiOlxcXCJwdXNoXFxcIl0oY2FsbGJhY2spLGNhbGxiYWNrfSxFdmVudEVtaXR0ZXIub2ZmPUV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcj1FdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07aWYobGlzdGVuZXJzKXt2YXIgaW5kZXg9bGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOy0xIT09aW5kZXgmJmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsMSl9fSxFdmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGV2ZW50TmFtZSl7dGhpcy5fZXZlbnRSZWdpc3RyeSYmKHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXT1bXSl9LGV4cG9ydHMuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcn0pLGFjZS5kZWZpbmUoXFxcImFjZS9hbmNob3JcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbGliL29vcFxcXCIsXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgb29wPWFjZXF1aXJlKFxcXCIuL2xpYi9vb3BcXFwiKSxFdmVudEVtaXR0ZXI9YWNlcXVpcmUoXFxcIi4vbGliL2V2ZW50X2VtaXR0ZXJcXFwiKS5FdmVudEVtaXR0ZXIsQW5jaG9yPWV4cG9ydHMuQW5jaG9yPWZ1bmN0aW9uKGRvYyxyb3csY29sdW1uKXt0aGlzLiRvbkNoYW5nZT10aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5hdHRhY2goZG9jKSxjb2x1bW49PT12b2lkIDA/dGhpcy5zZXRQb3NpdGlvbihyb3cucm93LHJvdy5jb2x1bW4pOnRoaXMuc2V0UG9zaXRpb24ocm93LGNvbHVtbil9OyhmdW5jdGlvbigpe2Z1bmN0aW9uICRwb2ludHNJbk9yZGVyKHBvaW50MSxwb2ludDIsZXF1YWxQb2ludHNJbk9yZGVyKXt2YXIgYkNvbElzQWZ0ZXI9ZXF1YWxQb2ludHNJbk9yZGVyP3BvaW50MS5jb2x1bW48PXBvaW50Mi5jb2x1bW46cG9pbnQxLmNvbHVtbjxwb2ludDIuY29sdW1uO3JldHVybiBwb2ludDEucm93PHBvaW50Mi5yb3d8fHBvaW50MS5yb3c9PXBvaW50Mi5yb3cmJmJDb2xJc0FmdGVyfWZ1bmN0aW9uICRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLHBvaW50LG1vdmVJZkVxdWFsKXt2YXIgZGVsdGFJc0luc2VydD1cXFwiaW5zZXJ0XFxcIj09ZGVsdGEuYWN0aW9uLGRlbHRhUm93U2hpZnQ9KGRlbHRhSXNJbnNlcnQ/MTotMSkqKGRlbHRhLmVuZC5yb3ctZGVsdGEuc3RhcnQucm93KSxkZWx0YUNvbFNoaWZ0PShkZWx0YUlzSW5zZXJ0PzE6LTEpKihkZWx0YS5lbmQuY29sdW1uLWRlbHRhLnN0YXJ0LmNvbHVtbiksZGVsdGFTdGFydD1kZWx0YS5zdGFydCxkZWx0YUVuZD1kZWx0YUlzSW5zZXJ0P2RlbHRhU3RhcnQ6ZGVsdGEuZW5kO3JldHVybiAkcG9pbnRzSW5PcmRlcihwb2ludCxkZWx0YVN0YXJ0LG1vdmVJZkVxdWFsKT97cm93OnBvaW50LnJvdyxjb2x1bW46cG9pbnQuY29sdW1ufTokcG9pbnRzSW5PcmRlcihkZWx0YUVuZCxwb2ludCwhbW92ZUlmRXF1YWwpP3tyb3c6cG9pbnQucm93K2RlbHRhUm93U2hpZnQsY29sdW1uOnBvaW50LmNvbHVtbisocG9pbnQucm93PT1kZWx0YUVuZC5yb3c/ZGVsdGFDb2xTaGlmdDowKX06e3JvdzpkZWx0YVN0YXJ0LnJvdyxjb2x1bW46ZGVsdGFTdGFydC5jb2x1bW59fW9vcC5pbXBsZW1lbnQodGhpcyxFdmVudEVtaXR0ZXIpLHRoaXMuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdyx0aGlzLmNvbHVtbil9LHRoaXMuZ2V0RG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudH0sdGhpcy4kaW5zZXJ0UmlnaHQ9ITEsdGhpcy5vbkNoYW5nZT1mdW5jdGlvbihkZWx0YSl7aWYoIShkZWx0YS5zdGFydC5yb3c9PWRlbHRhLmVuZC5yb3cmJmRlbHRhLnN0YXJ0LnJvdyE9dGhpcy5yb3d8fGRlbHRhLnN0YXJ0LnJvdz50aGlzLnJvdykpe3ZhciBwb2ludD0kZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSx7cm93OnRoaXMucm93LGNvbHVtbjp0aGlzLmNvbHVtbn0sdGhpcy4kaW5zZXJ0UmlnaHQpO3RoaXMuc2V0UG9zaXRpb24ocG9pbnQucm93LHBvaW50LmNvbHVtbiwhMCl9fSx0aGlzLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHJvdyxjb2x1bW4sbm9DbGlwKXt2YXIgcG9zO2lmKHBvcz1ub0NsaXA/e3Jvdzpyb3csY29sdW1uOmNvbHVtbn06dGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyb3csY29sdW1uKSx0aGlzLnJvdyE9cG9zLnJvd3x8dGhpcy5jb2x1bW4hPXBvcy5jb2x1bW4pe3ZhciBvbGQ9e3Jvdzp0aGlzLnJvdyxjb2x1bW46dGhpcy5jb2x1bW59O3RoaXMucm93PXBvcy5yb3csdGhpcy5jb2x1bW49cG9zLmNvbHVtbix0aGlzLl9zaWduYWwoXFxcImNoYW5nZVxcXCIse29sZDpvbGQsdmFsdWU6cG9zfSl9fSx0aGlzLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwiY2hhbmdlXFxcIix0aGlzLiRvbkNoYW5nZSl9LHRoaXMuYXR0YWNoPWZ1bmN0aW9uKGRvYyl7dGhpcy5kb2N1bWVudD1kb2N8fHRoaXMuZG9jdW1lbnQsdGhpcy5kb2N1bWVudC5vbihcXFwiY2hhbmdlXFxcIix0aGlzLiRvbkNoYW5nZSl9LHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIHBvcz17fTtyZXR1cm4gcm93Pj10aGlzLmRvY3VtZW50LmdldExlbmd0aCgpPyhwb3Mucm93PU1hdGgubWF4KDAsdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKS0xKSxwb3MuY29sdW1uPXRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgpOjA+cm93Pyhwb3Mucm93PTAscG9zLmNvbHVtbj0wKToocG9zLnJvdz1yb3cscG9zLmNvbHVtbj1NYXRoLm1pbih0aGlzLmRvY3VtZW50LmdldExpbmUocG9zLnJvdykubGVuZ3RoLE1hdGgubWF4KDAsY29sdW1uKSkpLDA+Y29sdW1uJiYocG9zLmNvbHVtbj0wKSxwb3N9fSkuY2FsbChBbmNob3IucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS9kb2N1bWVudFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL2FwcGx5X2RlbHRhXFxcIixcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIixcXFwiYWNlL3JhbmdlXFxcIixcXFwiYWNlL2FuY2hvclxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgb29wPWFjZXF1aXJlKFxcXCIuL2xpYi9vb3BcXFwiKSxhcHBseURlbHRhPWFjZXF1aXJlKFxcXCIuL2FwcGx5X2RlbHRhXFxcIikuYXBwbHlEZWx0YSxFdmVudEVtaXR0ZXI9YWNlcXVpcmUoXFxcIi4vbGliL2V2ZW50X2VtaXR0ZXJcXFwiKS5FdmVudEVtaXR0ZXIsUmFuZ2U9YWNlcXVpcmUoXFxcIi4vcmFuZ2VcXFwiKS5SYW5nZSxBbmNob3I9YWNlcXVpcmUoXFxcIi4vYW5jaG9yXFxcIikuQW5jaG9yLERvY3VtZW50PWZ1bmN0aW9uKHRleHRPckxpbmVzKXt0aGlzLiRsaW5lcz1bXFxcIlxcXCJdLDA9PT10ZXh0T3JMaW5lcy5sZW5ndGg/dGhpcy4kbGluZXM9W1xcXCJcXFwiXTpBcnJheS5pc0FycmF5KHRleHRPckxpbmVzKT90aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6MCxjb2x1bW46MH0sdGV4dE9yTGluZXMpOnRoaXMuaW5zZXJ0KHtyb3c6MCxjb2x1bW46MH0sdGV4dE9yTGluZXMpfTsoZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLnNldFZhbHVlPWZ1bmN0aW9uKHRleHQpe3ZhciBsZW49dGhpcy5nZXRMZW5ndGgoKS0xO3RoaXMucmVtb3ZlKG5ldyBSYW5nZSgwLDAsbGVuLHRoaXMuZ2V0TGluZShsZW4pLmxlbmd0aCkpLHRoaXMuaW5zZXJ0KHtyb3c6MCxjb2x1bW46MH0sdGV4dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBbGxMaW5lcygpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpfSx0aGlzLmNyZWF0ZUFuY2hvcj1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gbmV3IEFuY2hvcih0aGlzLHJvdyxjb2x1bW4pfSx0aGlzLiRzcGxpdD0wPT09XFxcImFhYVxcXCIuc3BsaXQoL2EvKS5sZW5ndGg/ZnVuY3Rpb24odGV4dCl7cmV0dXJuIHRleHQucmVwbGFjZSgvXFxcXHJcXFxcbnxcXFxcci9nLFxcXCJcXFxcblxcXCIpLnNwbGl0KFxcXCJcXFxcblxcXCIpfTpmdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5zcGxpdCgvXFxcXHJcXFxcbnxcXFxccnxcXFxcbi8pfSx0aGlzLiRkZXRlY3ROZXdMaW5lPWZ1bmN0aW9uKHRleHQpe3ZhciBtYXRjaD10ZXh0Lm1hdGNoKC9eLio/KFxcXFxyXFxcXG58XFxcXHJ8XFxcXG4pL20pO3RoaXMuJGF1dG9OZXdMaW5lPW1hdGNoP21hdGNoWzFdOlxcXCJcXFxcblxcXCIsdGhpcy5fc2lnbmFsKFxcXCJjaGFuZ2VOZXdMaW5lTW9kZVxcXCIpfSx0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXI9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy4kbmV3TGluZU1vZGUpe2Nhc2VcXFwid2luZG93c1xcXCI6cmV0dXJuXFxcIlxcXFxyXFxcXG5cXFwiO2Nhc2VcXFwidW5peFxcXCI6cmV0dXJuXFxcIlxcXFxuXFxcIjtkZWZhdWx0OnJldHVybiB0aGlzLiRhdXRvTmV3TGluZXx8XFxcIlxcXFxuXFxcIn19LHRoaXMuJGF1dG9OZXdMaW5lPVxcXCJcXFwiLHRoaXMuJG5ld0xpbmVNb2RlPVxcXCJhdXRvXFxcIix0aGlzLnNldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKG5ld0xpbmVNb2RlKXt0aGlzLiRuZXdMaW5lTW9kZSE9PW5ld0xpbmVNb2RlJiYodGhpcy4kbmV3TGluZU1vZGU9bmV3TGluZU1vZGUsdGhpcy5fc2lnbmFsKFxcXCJjaGFuZ2VOZXdMaW5lTW9kZVxcXCIpKX0sdGhpcy5nZXROZXdMaW5lTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRuZXdMaW5lTW9kZX0sdGhpcy5pc05ld0xpbmU9ZnVuY3Rpb24odGV4dCl7cmV0dXJuXFxcIlxcXFxyXFxcXG5cXFwiPT10ZXh0fHxcXFwiXFxcXHJcXFwiPT10ZXh0fHxcXFwiXFxcXG5cXFwiPT10ZXh0fSx0aGlzLmdldExpbmU9ZnVuY3Rpb24ocm93KXtyZXR1cm4gdGhpcy4kbGluZXNbcm93XXx8XFxcIlxcXCJ9LHRoaXMuZ2V0TGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7cmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LGxhc3RSb3crMSl9LHRoaXMuZ2V0QWxsTGluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMaW5lcygwLHRoaXMuZ2V0TGVuZ3RoKCkpfSx0aGlzLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRsaW5lcy5sZW5ndGh9LHRoaXMuZ2V0VGV4dFJhbmdlPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKX0sdGhpcy5nZXRMaW5lc0ZvclJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgbGluZXM7aWYocmFuZ2Uuc3RhcnQucm93PT09cmFuZ2UuZW5kLnJvdylsaW5lcz1bdGhpcy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdykuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbixyYW5nZS5lbmQuY29sdW1uKV07ZWxzZXtsaW5lcz10aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93KSxsaW5lc1swXT0obGluZXNbMF18fFxcXCJcXFwiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTt2YXIgbD1saW5lcy5sZW5ndGgtMTtyYW5nZS5lbmQucm93LXJhbmdlLnN0YXJ0LnJvdz09bCYmKGxpbmVzW2xdPWxpbmVzW2xdLnN1YnN0cmluZygwLHJhbmdlLmVuZC5jb2x1bW4pKX1yZXR1cm4gbGluZXN9LHRoaXMuaW5zZXJ0TGluZXM9ZnVuY3Rpb24ocm93LGxpbmVzKXtyZXR1cm4gY29uc29sZS53YXJuKFxcXCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSBpbnNlcnRGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuXFxcIiksdGhpcy5pbnNlcnRGdWxsTGluZXMocm93LGxpbmVzKX0sdGhpcy5yZW1vdmVMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtyZXR1cm4gY29uc29sZS53YXJuKFxcXCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuXFxcIiksdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csbGFzdFJvdyl9LHRoaXMuaW5zZXJ0TmV3TGluZT1mdW5jdGlvbihwb3NpdGlvbil7cmV0dXJuIGNvbnNvbGUud2FybihcXFwiVXNlIG9mIGRvY3VtZW50Lmluc2VydE5ld0xpbmUgaXMgZGVwcmVjYXRlZC4gVXNlIGluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbJycsICcnXSkgaW5zdGVhZC5cXFwiKSx0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLFtcXFwiXFxcIixcXFwiXFxcIl0pfSx0aGlzLmluc2VydD1mdW5jdGlvbihwb3NpdGlvbix0ZXh0KXtyZXR1cm4gMT49dGhpcy5nZXRMZW5ndGgoKSYmdGhpcy4kZGV0ZWN0TmV3TGluZSh0ZXh0KSx0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLHRoaXMuJHNwbGl0KHRleHQpKX0sdGhpcy5pbnNlcnRJbkxpbmU9ZnVuY3Rpb24ocG9zaXRpb24sdGV4dCl7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3cscG9zaXRpb24uY29sdW1uKSxlbmQ9dGhpcy5wb3MocG9zaXRpb24ucm93LHBvc2l0aW9uLmNvbHVtbit0ZXh0Lmxlbmd0aCk7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcImluc2VydFxcXCIsbGluZXM6W3RleHRdfSwhMCksdGhpcy5jbG9uZVBvcyhlbmQpfSx0aGlzLmNsaXBwZWRQb3M9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIGxlbmd0aD10aGlzLmdldExlbmd0aCgpO3ZvaWQgMD09PXJvdz9yb3c9bGVuZ3RoOjA+cm93P3Jvdz0wOnJvdz49bGVuZ3RoJiYocm93PWxlbmd0aC0xLGNvbHVtbj12b2lkIDApO3ZhciBsaW5lPXRoaXMuZ2V0TGluZShyb3cpO3JldHVybiB2b2lkIDA9PWNvbHVtbiYmKGNvbHVtbj1saW5lLmxlbmd0aCksY29sdW1uPU1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwwKSxsaW5lLmxlbmd0aCkse3Jvdzpyb3csY29sdW1uOmNvbHVtbn19LHRoaXMuY2xvbmVQb3M9ZnVuY3Rpb24ocG9zKXtyZXR1cm57cm93OnBvcy5yb3csY29sdW1uOnBvcy5jb2x1bW59fSx0aGlzLnBvcz1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm57cm93OnJvdyxjb2x1bW46Y29sdW1ufX0sdGhpcy4kY2xpcFBvc2l0aW9uPWZ1bmN0aW9uKHBvc2l0aW9uKXt2YXIgbGVuZ3RoPXRoaXMuZ2V0TGVuZ3RoKCk7cmV0dXJuIHBvc2l0aW9uLnJvdz49bGVuZ3RoPyhwb3NpdGlvbi5yb3c9TWF0aC5tYXgoMCxsZW5ndGgtMSkscG9zaXRpb24uY29sdW1uPXRoaXMuZ2V0TGluZShsZW5ndGgtMSkubGVuZ3RoKToocG9zaXRpb24ucm93PU1hdGgubWF4KDAscG9zaXRpb24ucm93KSxwb3NpdGlvbi5jb2x1bW49TWF0aC5taW4oTWF0aC5tYXgocG9zaXRpb24uY29sdW1uLDApLHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCkpLHBvc2l0aW9ufSx0aGlzLmluc2VydEZ1bGxMaW5lcz1mdW5jdGlvbihyb3csbGluZXMpe3Jvdz1NYXRoLm1pbihNYXRoLm1heChyb3csMCksdGhpcy5nZXRMZW5ndGgoKSk7dmFyIGNvbHVtbj0wO3RoaXMuZ2V0TGVuZ3RoKCk+cm93PyhsaW5lcz1saW5lcy5jb25jYXQoW1xcXCJcXFwiXSksY29sdW1uPTApOihsaW5lcz1bXFxcIlxcXCJdLmNvbmNhdChsaW5lcykscm93LS0sY29sdW1uPXRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoKSx0aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6cm93LGNvbHVtbjpjb2x1bW59LGxpbmVzKX0sdGhpcy5pbnNlcnRNZXJnZWRMaW5lcz1mdW5jdGlvbihwb3NpdGlvbixsaW5lcyl7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3cscG9zaXRpb24uY29sdW1uKSxlbmQ9e3JvdzpzdGFydC5yb3crbGluZXMubGVuZ3RoLTEsY29sdW1uOigxPT1saW5lcy5sZW5ndGg/c3RhcnQuY29sdW1uOjApK2xpbmVzW2xpbmVzLmxlbmd0aC0xXS5sZW5ndGh9O3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnN0YXJ0LGVuZDplbmQsYWN0aW9uOlxcXCJpbnNlcnRcXFwiLGxpbmVzOmxpbmVzfSksdGhpcy5jbG9uZVBvcyhlbmQpfSx0aGlzLnJlbW92ZT1mdW5jdGlvbihyYW5nZSl7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhyYW5nZS5zdGFydC5yb3cscmFuZ2Uuc3RhcnQuY29sdW1uKSxlbmQ9dGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3cscmFuZ2UuZW5kLmNvbHVtbik7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcInJlbW92ZVxcXCIsbGluZXM6dGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDpzdGFydCxlbmQ6ZW5kfSl9KSx0aGlzLmNsb25lUG9zKHN0YXJ0KX0sdGhpcy5yZW1vdmVJbkxpbmU9ZnVuY3Rpb24ocm93LHN0YXJ0Q29sdW1uLGVuZENvbHVtbil7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhyb3csc3RhcnRDb2x1bW4pLGVuZD10aGlzLmNsaXBwZWRQb3Mocm93LGVuZENvbHVtbik7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcInJlbW92ZVxcXCIsbGluZXM6dGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDpzdGFydCxlbmQ6ZW5kfSl9LCEwKSx0aGlzLmNsb25lUG9zKHN0YXJ0KX0sdGhpcy5yZW1vdmVGdWxsTGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7Zmlyc3RSb3c9TWF0aC5taW4oTWF0aC5tYXgoMCxmaXJzdFJvdyksdGhpcy5nZXRMZW5ndGgoKS0xKSxsYXN0Um93PU1hdGgubWluKE1hdGgubWF4KDAsbGFzdFJvdyksdGhpcy5nZXRMZW5ndGgoKS0xKTt2YXIgZGVsZXRlRmlyc3ROZXdMaW5lPWxhc3RSb3c9PXRoaXMuZ2V0TGVuZ3RoKCktMSYmZmlyc3RSb3c+MCxkZWxldGVMYXN0TmV3TGluZT10aGlzLmdldExlbmd0aCgpLTE+bGFzdFJvdyxzdGFydFJvdz1kZWxldGVGaXJzdE5ld0xpbmU/Zmlyc3RSb3ctMTpmaXJzdFJvdyxzdGFydENvbD1kZWxldGVGaXJzdE5ld0xpbmU/dGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGg6MCxlbmRSb3c9ZGVsZXRlTGFzdE5ld0xpbmU/bGFzdFJvdysxOmxhc3RSb3csZW5kQ29sPWRlbGV0ZUxhc3ROZXdMaW5lPzA6dGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoLHJhbmdlPW5ldyBSYW5nZShzdGFydFJvdyxzdGFydENvbCxlbmRSb3csZW5kQ29sKSxkZWxldGVkTGluZXM9dGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csbGFzdFJvdysxKTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpyYW5nZS5zdGFydCxlbmQ6cmFuZ2UuZW5kLGFjdGlvbjpcXFwicmVtb3ZlXFxcIixsaW5lczp0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpfSksZGVsZXRlZExpbmVzfSx0aGlzLnJlbW92ZU5ld0xpbmU9ZnVuY3Rpb24ocm93KXt0aGlzLmdldExlbmd0aCgpLTE+cm93JiZyb3c+PTAmJnRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dGhpcy5wb3Mocm93LHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksZW5kOnRoaXMucG9zKHJvdysxLDApLGFjdGlvbjpcXFwicmVtb3ZlXFxcIixsaW5lczpbXFxcIlxcXCIsXFxcIlxcXCJdfSl9LHRoaXMucmVwbGFjZT1mdW5jdGlvbihyYW5nZSx0ZXh0KXtpZihyYW5nZSBpbnN0YW5jZW9mIFJhbmdlfHwocmFuZ2U9UmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCxyYW5nZS5lbmQpKSwwPT09dGV4dC5sZW5ndGgmJnJhbmdlLmlzRW1wdHkoKSlyZXR1cm4gcmFuZ2Uuc3RhcnQ7aWYodGV4dD09dGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKXJldHVybiByYW5nZS5lbmQ7dGhpcy5yZW1vdmUocmFuZ2UpO3ZhciBlbmQ7cmV0dXJuIGVuZD10ZXh0P3RoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LHRleHQpOnJhbmdlLnN0YXJ0fSx0aGlzLmFwcGx5RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPTA7ZGVsdGFzLmxlbmd0aD5pO2krKyl0aGlzLmFwcGx5RGVsdGEoZGVsdGFzW2ldKX0sdGhpcy5yZXZlcnREZWx0YXM9ZnVuY3Rpb24oZGVsdGFzKXtmb3IodmFyIGk9ZGVsdGFzLmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMucmV2ZXJ0RGVsdGEoZGVsdGFzW2ldKX0sdGhpcy5hcHBseURlbHRhPWZ1bmN0aW9uKGRlbHRhLGRvTm90VmFsaWRhdGUpe3ZhciBpc0luc2VydD1cXFwiaW5zZXJ0XFxcIj09ZGVsdGEuYWN0aW9uOyhpc0luc2VydD8xPj1kZWx0YS5saW5lcy5sZW5ndGgmJiFkZWx0YS5saW5lc1swXTohUmFuZ2UuY29tcGFyZVBvaW50cyhkZWx0YS5zdGFydCxkZWx0YS5lbmQpKXx8KGlzSW5zZXJ0JiZkZWx0YS5saW5lcy5sZW5ndGg+MmU0JiZ0aGlzLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YShkZWx0YSwyZTQpLGFwcGx5RGVsdGEodGhpcy4kbGluZXMsZGVsdGEsZG9Ob3RWYWxpZGF0ZSksdGhpcy5fc2lnbmFsKFxcXCJjaGFuZ2VcXFwiLGRlbHRhKSl9LHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhPWZ1bmN0aW9uKGRlbHRhLE1BWCl7Zm9yKHZhciBsaW5lcz1kZWx0YS5saW5lcyxsPWxpbmVzLmxlbmd0aCxyb3c9ZGVsdGEuc3RhcnQucm93LGNvbHVtbj1kZWx0YS5zdGFydC5jb2x1bW4sZnJvbT0wLHRvPTA7Oyl7ZnJvbT10byx0bys9TUFYLTE7dmFyIGNodW5rPWxpbmVzLnNsaWNlKGZyb20sdG8pO2lmKHRvPmwpe2RlbHRhLmxpbmVzPWNodW5rLGRlbHRhLnN0YXJ0LnJvdz1yb3crZnJvbSxkZWx0YS5zdGFydC5jb2x1bW49Y29sdW1uO2JyZWFrfWNodW5rLnB1c2goXFxcIlxcXCIpLHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dGhpcy5wb3Mocm93K2Zyb20sY29sdW1uKSxlbmQ6dGhpcy5wb3Mocm93K3RvLGNvbHVtbj0wKSxhY3Rpb246ZGVsdGEuYWN0aW9uLGxpbmVzOmNodW5rfSwhMCl9fSx0aGlzLnJldmVydERlbHRhPWZ1bmN0aW9uKGRlbHRhKXt0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnRoaXMuY2xvbmVQb3MoZGVsdGEuc3RhcnQpLGVuZDp0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksYWN0aW9uOlxcXCJpbnNlcnRcXFwiPT1kZWx0YS5hY3Rpb24/XFxcInJlbW92ZVxcXCI6XFxcImluc2VydFxcXCIsbGluZXM6ZGVsdGEubGluZXMuc2xpY2UoKX0pfSx0aGlzLmluZGV4VG9Qb3NpdGlvbj1mdW5jdGlvbihpbmRleCxzdGFydFJvdyl7Zm9yKHZhciBsaW5lcz10aGlzLiRsaW5lc3x8dGhpcy5nZXRBbGxMaW5lcygpLG5ld2xpbmVMZW5ndGg9dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoLGk9c3RhcnRSb3d8fDAsbD1saW5lcy5sZW5ndGg7bD5pO2krKylpZihpbmRleC09bGluZXNbaV0ubGVuZ3RoK25ld2xpbmVMZW5ndGgsMD5pbmRleClyZXR1cm57cm93OmksY29sdW1uOmluZGV4K2xpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RofTtyZXR1cm57cm93OmwtMSxjb2x1bW46bGluZXNbbC0xXS5sZW5ndGh9fSx0aGlzLnBvc2l0aW9uVG9JbmRleD1mdW5jdGlvbihwb3Msc3RhcnRSb3cpe2Zvcih2YXIgbGluZXM9dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxuZXdsaW5lTGVuZ3RoPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpbmRleD0wLHJvdz1NYXRoLm1pbihwb3Mucm93LGxpbmVzLmxlbmd0aCksaT1zdGFydFJvd3x8MDtyb3c+aTsrK2kpaW5kZXgrPWxpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RoO3JldHVybiBpbmRleCtwb3MuY29sdW1ufX0pLmNhbGwoRG9jdW1lbnQucHJvdG90eXBlKSxleHBvcnRzLkRvY3VtZW50PURvY3VtZW50fSksYWNlLmRlZmluZShcXFwiYWNlL3dvcmtlci9taXJyb3JcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvcmFuZ2VcXFwiLFxcXCJhY2UvZG9jdW1lbnRcXFwiLFxcXCJhY2UvbGliL2xhbmdcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7YWNlcXVpcmUoXFxcIi4uL3JhbmdlXFxcIikuUmFuZ2U7dmFyIERvY3VtZW50PWFjZXF1aXJlKFxcXCIuLi9kb2N1bWVudFxcXCIpLkRvY3VtZW50LGxhbmc9YWNlcXVpcmUoXFxcIi4uL2xpYi9sYW5nXFxcIiksTWlycm9yPWV4cG9ydHMuTWlycm9yPWZ1bmN0aW9uKHNlbmRlcil7dGhpcy5zZW5kZXI9c2VuZGVyO3ZhciBkb2M9dGhpcy5kb2M9bmV3IERvY3VtZW50KFxcXCJcXFwiKSxkZWZlcnJlZFVwZGF0ZT10aGlzLmRlZmVycmVkVXBkYXRlPWxhbmcuZGVsYXllZENhbGwodGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpKSxfc2VsZj10aGlzO3NlbmRlci5vbihcXFwiY2hhbmdlXFxcIixmdW5jdGlvbihlKXt2YXIgZGF0YT1lLmRhdGE7aWYoZGF0YVswXS5zdGFydClkb2MuYXBwbHlEZWx0YXMoZGF0YSk7ZWxzZSBmb3IodmFyIGk9MDtkYXRhLmxlbmd0aD5pO2krPTIpe2lmKEFycmF5LmlzQXJyYXkoZGF0YVtpKzFdKSl2YXIgZD17YWN0aW9uOlxcXCJpbnNlcnRcXFwiLHN0YXJ0OmRhdGFbaV0sbGluZXM6ZGF0YVtpKzFdfTtlbHNlIHZhciBkPXthY3Rpb246XFxcInJlbW92ZVxcXCIsc3RhcnQ6ZGF0YVtpXSxlbmQ6ZGF0YVtpKzFdfTtkb2MuYXBwbHlEZWx0YShkLCEwKX1yZXR1cm4gX3NlbGYuJHRpbWVvdXQ/ZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoX3NlbGYuJHRpbWVvdXQpOihfc2VsZi5vblVwZGF0ZSgpLHZvaWQgMCl9KX07KGZ1bmN0aW9uKCl7dGhpcy4kdGltZW91dD01MDAsdGhpcy5zZXRUaW1lb3V0PWZ1bmN0aW9uKHRpbWVvdXQpe3RoaXMuJHRpbWVvdXQ9dGltZW91dH0sdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbih2YWx1ZSl7dGhpcy5kb2Muc2V0VmFsdWUodmFsdWUpLHRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUodGhpcy4kdGltZW91dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oY2FsbGJhY2tJZCl7dGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSxjYWxsYmFja0lkKX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe30sdGhpcy5pc1BlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZlcnJlZFVwZGF0ZS5pc1BlbmRpbmcoKX19KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcXFwiYWNlL21vZGUvY3NzL2Nzc2xpbnRcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzLG1vZHVsZSl7ZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobyl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKX1mdW5jdGlvbiBjbG9uZShwYXJlbnQsY2lyY3VsYXIsZGVwdGgscHJvdG90eXBlKXtmdW5jdGlvbiBfY2xvbmUocGFyZW50LGRlcHRoKXtpZihudWxsPT09cGFyZW50KXJldHVybiBudWxsO2lmKDA9PWRlcHRoKXJldHVybiBwYXJlbnQ7dmFyIGNoaWxkO2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgcGFyZW50KXJldHVybiBwYXJlbnQ7aWYodXRpbC5pc0FycmF5KHBhcmVudCkpY2hpbGQ9W107ZWxzZSBpZih1dGlsLmlzUmVnRXhwKHBhcmVudCkpY2hpbGQ9UmVnRXhwKHBhcmVudC5zb3VyY2UsdXRpbC5nZXRSZWdFeHBGbGFncyhwYXJlbnQpKSxwYXJlbnQubGFzdEluZGV4JiYoY2hpbGQubGFzdEluZGV4PXBhcmVudC5sYXN0SW5kZXgpO2Vsc2UgaWYodXRpbC5pc0RhdGUocGFyZW50KSljaGlsZD1uZXcgRGF0ZShwYXJlbnQuZ2V0VGltZSgpKTtlbHNle2lmKHVzZUJ1ZmZlciYmQnVmZmVyLmlzQnVmZmVyKHBhcmVudCkpcmV0dXJuIGNoaWxkPW5ldyBCdWZmZXIocGFyZW50Lmxlbmd0aCkscGFyZW50LmNvcHkoY2hpbGQpLGNoaWxkO2NoaWxkPXByb3RvdHlwZT09PXZvaWQgMD9PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJlbnQpKTpPYmplY3QuY3JlYXRlKHByb3RvdHlwZSl9aWYoY2lyY3VsYXIpe3ZhciBpbmRleD1hbGxQYXJlbnRzLmluZGV4T2YocGFyZW50KTtpZigtMSE9aW5kZXgpcmV0dXJuIGFsbENoaWxkcmVuW2luZGV4XTthbGxQYXJlbnRzLnB1c2gocGFyZW50KSxhbGxDaGlsZHJlbi5wdXNoKGNoaWxkKX1mb3IodmFyIGkgaW4gcGFyZW50KWNoaWxkW2ldPV9jbG9uZShwYXJlbnRbaV0sZGVwdGgtMSk7cmV0dXJuIGNoaWxkfXZhciBhbGxQYXJlbnRzPVtdLGFsbENoaWxkcmVuPVtdLHVzZUJ1ZmZlcj1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIEJ1ZmZlcjtyZXR1cm4gY2lyY3VsYXI9PT12b2lkIDAmJihjaXJjdWxhcj0hMCksZGVwdGg9PT12b2lkIDAmJihkZXB0aD0xLzApLF9jbG9uZShwYXJlbnQsZGVwdGgpfWZ1bmN0aW9uIFJlcG9ydGVyKGxpbmVzLHJ1bGVzZXQpe3RoaXMubWVzc2FnZXM9W10sdGhpcy5zdGF0cz1bXSx0aGlzLmxpbmVzPWxpbmVzLHRoaXMucnVsZXNldD1ydWxlc2V0fXZhciBwYXJzZXJsaWI9e307KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXZlbnRUYXJnZXQoKXt0aGlzLl9saXN0ZW5lcnM9e319ZnVuY3Rpb24gU3RyaW5nUmVhZGVyKHRleHQpe3RoaXMuX2lucHV0PXRleHQucmVwbGFjZSgvXFxcXG5cXFxccj8vZyxcXFwiXFxcXG5cXFwiKSx0aGlzLl9saW5lPTEsdGhpcy5fY29sPTEsdGhpcy5fY3Vyc29yPTB9ZnVuY3Rpb24gU3ludGF4RXJyb3IobWVzc2FnZSxsaW5lLGNvbCl7dGhpcy5jb2w9Y29sLHRoaXMubGluZT1saW5lLHRoaXMubWVzc2FnZT1tZXNzYWdlfWZ1bmN0aW9uIFN5bnRheFVuaXQodGV4dCxsaW5lLGNvbCx0eXBlKXt0aGlzLmNvbD1jb2wsdGhpcy5saW5lPWxpbmUsdGhpcy50ZXh0PXRleHQsdGhpcy50eXBlPXR5cGV9ZnVuY3Rpb24gVG9rZW5TdHJlYW1CYXNlKGlucHV0LHRva2VuRGF0YSl7dGhpcy5fcmVhZGVyPWlucHV0P25ldyBTdHJpbmdSZWFkZXIoXFxcIlxcXCIraW5wdXQpOm51bGwsdGhpcy5fdG9rZW49bnVsbCx0aGlzLl90b2tlbkRhdGE9dG9rZW5EYXRhLHRoaXMuX2x0PVtdLHRoaXMuX2x0SW5kZXg9MCx0aGlzLl9sdEluZGV4Q2FjaGU9W119RXZlbnRUYXJnZXQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpFdmVudFRhcmdldCxhZGRMaXN0ZW5lcjpmdW5jdGlvbih0eXBlLGxpc3RlbmVyKXt0aGlzLl9saXN0ZW5lcnNbdHlwZV18fCh0aGlzLl9saXN0ZW5lcnNbdHlwZV09W10pLHRoaXMuX2xpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKX0sZmlyZTpmdW5jdGlvbihldmVudCl7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBldmVudCYmKGV2ZW50PXt0eXBlOmV2ZW50fSksZXZlbnQudGFyZ2V0IT09dm9pZCAwJiYoZXZlbnQudGFyZ2V0PXRoaXMpLGV2ZW50LnR5cGU9PT12b2lkIDApdGhyb3cgRXJyb3IoXFxcIkV2ZW50IG9iamVjdCBtaXNzaW5nICd0eXBlJyBwcm9wZXJ0eS5cXFwiKTtpZih0aGlzLl9saXN0ZW5lcnNbZXZlbnQudHlwZV0pZm9yKHZhciBsaXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzW2V2ZW50LnR5cGVdLmNvbmNhdCgpLGk9MCxsZW49bGlzdGVuZXJzLmxlbmd0aDtsZW4+aTtpKyspbGlzdGVuZXJzW2ldLmNhbGwodGhpcyxldmVudCl9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe2lmKHRoaXMuX2xpc3RlbmVyc1t0eXBlXSlmb3IodmFyIGxpc3RlbmVycz10aGlzLl9saXN0ZW5lcnNbdHlwZV0saT0wLGxlbj1saXN0ZW5lcnMubGVuZ3RoO2xlbj5pO2krKylpZihsaXN0ZW5lcnNbaV09PT1saXN0ZW5lcil7bGlzdGVuZXJzLnNwbGljZShpLDEpO2JyZWFrfX19LFN0cmluZ1JlYWRlci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlN0cmluZ1JlYWRlcixnZXRDb2w6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sfSxnZXRMaW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmV9LGVvZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJzb3I9PXRoaXMuX2lucHV0Lmxlbmd0aH0scGVlazpmdW5jdGlvbihjb3VudCl7dmFyIGM9bnVsbDtyZXR1cm4gY291bnQ9Y291bnQ9PT12b2lkIDA/MTpjb3VudCx0aGlzLl9jdXJzb3I8dGhpcy5faW5wdXQubGVuZ3RoJiYoYz10aGlzLl9pbnB1dC5jaGFyQXQodGhpcy5fY3Vyc29yK2NvdW50LTEpKSxjfSxyZWFkOmZ1bmN0aW9uKCl7dmFyIGM9bnVsbDtyZXR1cm4gdGhpcy5fY3Vyc29yPHRoaXMuX2lucHV0Lmxlbmd0aCYmKFxcXCJcXFxcblxcXCI9PXRoaXMuX2lucHV0LmNoYXJBdCh0aGlzLl9jdXJzb3IpPyh0aGlzLl9saW5lKyssdGhpcy5fY29sPTEpOnRoaXMuX2NvbCsrLGM9dGhpcy5faW5wdXQuY2hhckF0KHRoaXMuX2N1cnNvcisrKSksY30sbWFyazpmdW5jdGlvbigpe3RoaXMuX2Jvb2ttYXJrPXtjdXJzb3I6dGhpcy5fY3Vyc29yLGxpbmU6dGhpcy5fbGluZSxjb2w6dGhpcy5fY29sfX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9ib29rbWFyayYmKHRoaXMuX2N1cnNvcj10aGlzLl9ib29rbWFyay5jdXJzb3IsdGhpcy5fbGluZT10aGlzLl9ib29rbWFyay5saW5lLHRoaXMuX2NvbD10aGlzLl9ib29rbWFyay5jb2wsZGVsZXRlIHRoaXMuX2Jvb2ttYXJrKX0scmVhZFRvOmZ1bmN0aW9uKHBhdHRlcm4pe2Zvcih2YXIgYyxidWZmZXI9XFxcIlxcXCI7YnVmZmVyLmxlbmd0aDxwYXR0ZXJuLmxlbmd0aHx8YnVmZmVyLmxhc3RJbmRleE9mKHBhdHRlcm4pIT1idWZmZXIubGVuZ3RoLXBhdHRlcm4ubGVuZ3RoOyl7aWYoYz10aGlzLnJlYWQoKSwhYyl0aHJvdyBFcnJvcignRXhwZWN0ZWQgXFxcIicrcGF0dGVybisnXFxcIiBhdCBsaW5lICcrdGhpcy5fbGluZStcXFwiLCBjb2wgXFxcIit0aGlzLl9jb2wrXFxcIi5cXFwiKTtidWZmZXIrPWN9cmV0dXJuIGJ1ZmZlcn0scmVhZFdoaWxlOmZ1bmN0aW9uKGZpbHRlcil7Zm9yKHZhciBidWZmZXI9XFxcIlxcXCIsYz10aGlzLnJlYWQoKTtudWxsIT09YyYmZmlsdGVyKGMpOylidWZmZXIrPWMsYz10aGlzLnJlYWQoKTtyZXR1cm4gYnVmZmVyfSxyZWFkTWF0Y2g6ZnVuY3Rpb24obWF0Y2hlcil7dmFyIHNvdXJjZT10aGlzLl9pbnB1dC5zdWJzdHJpbmcodGhpcy5fY3Vyc29yKSx2YWx1ZT1udWxsO3JldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2YgbWF0Y2hlcj8wPT09c291cmNlLmluZGV4T2YobWF0Y2hlcikmJih2YWx1ZT10aGlzLnJlYWRDb3VudChtYXRjaGVyLmxlbmd0aCkpOm1hdGNoZXIgaW5zdGFuY2VvZiBSZWdFeHAmJm1hdGNoZXIudGVzdChzb3VyY2UpJiYodmFsdWU9dGhpcy5yZWFkQ291bnQoUmVnRXhwLmxhc3RNYXRjaC5sZW5ndGgpKSx2YWx1ZX0scmVhZENvdW50OmZ1bmN0aW9uKGNvdW50KXtmb3IodmFyIGJ1ZmZlcj1cXFwiXFxcIjtjb3VudC0tOylidWZmZXIrPXRoaXMucmVhZCgpO3JldHVybiBidWZmZXJ9fSxTeW50YXhFcnJvci5wcm90b3R5cGU9RXJyb3IoKSxTeW50YXhVbml0LmZyb21Ub2tlbj1mdW5jdGlvbih0b2tlbil7cmV0dXJuIG5ldyBTeW50YXhVbml0KHRva2VuLnZhbHVlLHRva2VuLnN0YXJ0TGluZSx0b2tlbi5zdGFydENvbCl9LFN5bnRheFVuaXQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpTeW50YXhVbml0LHZhbHVlT2Y6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHR9fSxUb2tlblN0cmVhbUJhc2UuY3JlYXRlVG9rZW5EYXRhPWZ1bmN0aW9uKHRva2Vucyl7dmFyIG5hbWVNYXA9W10sdHlwZU1hcD17fSx0b2tlbkRhdGE9dG9rZW5zLmNvbmNhdChbXSksaT0wLGxlbj10b2tlbkRhdGEubGVuZ3RoKzE7Zm9yKHRva2VuRGF0YS5VTktOT1dOPS0xLHRva2VuRGF0YS51bnNoaWZ0KHtuYW1lOlxcXCJFT0ZcXFwifSk7bGVuPmk7aSsrKW5hbWVNYXAucHVzaCh0b2tlbkRhdGFbaV0ubmFtZSksdG9rZW5EYXRhW3Rva2VuRGF0YVtpXS5uYW1lXT1pLHRva2VuRGF0YVtpXS50ZXh0JiYodHlwZU1hcFt0b2tlbkRhdGFbaV0udGV4dF09aSk7cmV0dXJuIHRva2VuRGF0YS5uYW1lPWZ1bmN0aW9uKHR0KXtyZXR1cm4gbmFtZU1hcFt0dF19LHRva2VuRGF0YS50eXBlPWZ1bmN0aW9uKGMpe3JldHVybiB0eXBlTWFwW2NdfSx0b2tlbkRhdGF9LFRva2VuU3RyZWFtQmFzZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRva2VuU3RyZWFtQmFzZSxtYXRjaDpmdW5jdGlvbih0b2tlblR5cGVzLGNoYW5uZWwpe3Rva2VuVHlwZXMgaW5zdGFuY2VvZiBBcnJheXx8KHRva2VuVHlwZXM9W3Rva2VuVHlwZXNdKTtcXG5mb3IodmFyIHR0PXRoaXMuZ2V0KGNoYW5uZWwpLGk9MCxsZW49dG9rZW5UeXBlcy5sZW5ndGg7bGVuPmk7KWlmKHR0PT10b2tlblR5cGVzW2krK10pcmV0dXJuITA7cmV0dXJuIHRoaXMudW5nZXQoKSwhMX0sbXVzdE1hdGNoOmZ1bmN0aW9uKHRva2VuVHlwZXMpe3ZhciB0b2tlbjtpZih0b2tlblR5cGVzIGluc3RhbmNlb2YgQXJyYXl8fCh0b2tlblR5cGVzPVt0b2tlblR5cGVzXSksIXRoaXMubWF0Y2guYXBwbHkodGhpcyxhcmd1bWVudHMpKXRocm93IHRva2VuPXRoaXMuTFQoMSksbmV3IFN5bnRheEVycm9yKFxcXCJFeHBlY3RlZCBcXFwiK3RoaXMuX3Rva2VuRGF0YVt0b2tlblR5cGVzWzBdXS5uYW1lK1xcXCIgYXQgbGluZSBcXFwiK3Rva2VuLnN0YXJ0TGluZStcXFwiLCBjb2wgXFxcIit0b2tlbi5zdGFydENvbCtcXFwiLlxcXCIsdG9rZW4uc3RhcnRMaW5lLHRva2VuLnN0YXJ0Q29sKX0sYWR2YW5jZTpmdW5jdGlvbih0b2tlblR5cGVzLGNoYW5uZWwpe2Zvcig7MCE9PXRoaXMuTEEoMCkmJiF0aGlzLm1hdGNoKHRva2VuVHlwZXMsY2hhbm5lbCk7KXRoaXMuZ2V0KCk7cmV0dXJuIHRoaXMuTEEoMCl9LGdldDpmdW5jdGlvbihjaGFubmVsKXt2YXIgdG9rZW4saW5mbyx0b2tlbkluZm89dGhpcy5fdG9rZW5EYXRhLGk9KHRoaXMuX3JlYWRlciwwKTtpZih0b2tlbkluZm8ubGVuZ3RoLHRoaXMuX2x0Lmxlbmd0aCYmdGhpcy5fbHRJbmRleD49MCYmdGhpcy5fbHRJbmRleDx0aGlzLl9sdC5sZW5ndGgpe2ZvcihpKyssdGhpcy5fdG9rZW49dGhpcy5fbHRbdGhpcy5fbHRJbmRleCsrXSxpbmZvPXRva2VuSW5mb1t0aGlzLl90b2tlbi50eXBlXTt2b2lkIDAhPT1pbmZvLmNoYW5uZWwmJmNoYW5uZWwhPT1pbmZvLmNoYW5uZWwmJnRoaXMuX2x0SW5kZXg8dGhpcy5fbHQubGVuZ3RoOyl0aGlzLl90b2tlbj10aGlzLl9sdFt0aGlzLl9sdEluZGV4KytdLGluZm89dG9rZW5JbmZvW3RoaXMuX3Rva2VuLnR5cGVdLGkrKztpZigodm9pZCAwPT09aW5mby5jaGFubmVsfHxjaGFubmVsPT09aW5mby5jaGFubmVsKSYmdGhpcy5fbHRJbmRleDw9dGhpcy5fbHQubGVuZ3RoKXJldHVybiB0aGlzLl9sdEluZGV4Q2FjaGUucHVzaChpKSx0aGlzLl90b2tlbi50eXBlfXJldHVybiB0b2tlbj10aGlzLl9nZXRUb2tlbigpLHRva2VuLnR5cGU+LTEmJiF0b2tlbkluZm9bdG9rZW4udHlwZV0uaGlkZSYmKHRva2VuLmNoYW5uZWw9dG9rZW5JbmZvW3Rva2VuLnR5cGVdLmNoYW5uZWwsdGhpcy5fdG9rZW49dG9rZW4sdGhpcy5fbHQucHVzaCh0b2tlbiksdGhpcy5fbHRJbmRleENhY2hlLnB1c2godGhpcy5fbHQubGVuZ3RoLXRoaXMuX2x0SW5kZXgraSksdGhpcy5fbHQubGVuZ3RoPjUmJnRoaXMuX2x0LnNoaWZ0KCksdGhpcy5fbHRJbmRleENhY2hlLmxlbmd0aD41JiZ0aGlzLl9sdEluZGV4Q2FjaGUuc2hpZnQoKSx0aGlzLl9sdEluZGV4PXRoaXMuX2x0Lmxlbmd0aCksaW5mbz10b2tlbkluZm9bdG9rZW4udHlwZV0saW5mbyYmKGluZm8uaGlkZXx8dm9pZCAwIT09aW5mby5jaGFubmVsJiZjaGFubmVsIT09aW5mby5jaGFubmVsKT90aGlzLmdldChjaGFubmVsKTp0b2tlbi50eXBlfSxMQTpmdW5jdGlvbihpbmRleCl7dmFyIHR0LHRvdGFsPWluZGV4O2lmKGluZGV4PjApe2lmKGluZGV4PjUpdGhyb3cgRXJyb3IoXFxcIlRvbyBtdWNoIGxvb2thaGVhZC5cXFwiKTtmb3IoO3RvdGFsOyl0dD10aGlzLmdldCgpLHRvdGFsLS07Zm9yKDtpbmRleD50b3RhbDspdGhpcy51bmdldCgpLHRvdGFsKyt9ZWxzZSBpZigwPmluZGV4KXtpZighdGhpcy5fbHRbdGhpcy5fbHRJbmRleCtpbmRleF0pdGhyb3cgRXJyb3IoXFxcIlRvbyBtdWNoIGxvb2tiZWhpbmQuXFxcIik7dHQ9dGhpcy5fbHRbdGhpcy5fbHRJbmRleCtpbmRleF0udHlwZX1lbHNlIHR0PXRoaXMuX3Rva2VuLnR5cGU7cmV0dXJuIHR0fSxMVDpmdW5jdGlvbihpbmRleCl7cmV0dXJuIHRoaXMuTEEoaW5kZXgpLHRoaXMuX2x0W3RoaXMuX2x0SW5kZXgraW5kZXgtMV19LHBlZWs6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5MQSgxKX0sdG9rZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG9rZW59LHRva2VuTmFtZTpmdW5jdGlvbih0b2tlblR5cGUpe3JldHVybiAwPnRva2VuVHlwZXx8dG9rZW5UeXBlPnRoaXMuX3Rva2VuRGF0YS5sZW5ndGg/XFxcIlVOS05PV05fVE9LRU5cXFwiOnRoaXMuX3Rva2VuRGF0YVt0b2tlblR5cGVdLm5hbWV9LHRva2VuVHlwZTpmdW5jdGlvbih0b2tlbk5hbWUpe3JldHVybiB0aGlzLl90b2tlbkRhdGFbdG9rZW5OYW1lXXx8LTF9LHVuZ2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2x0SW5kZXhDYWNoZS5sZW5ndGgpdGhyb3cgRXJyb3IoXFxcIlRvbyBtdWNoIGxvb2thaGVhZC5cXFwiKTt0aGlzLl9sdEluZGV4LT10aGlzLl9sdEluZGV4Q2FjaGUucG9wKCksdGhpcy5fdG9rZW49dGhpcy5fbHRbdGhpcy5fbHRJbmRleC0xXX19LHBhcnNlcmxpYi51dGlsPXtTdHJpbmdSZWFkZXI6U3RyaW5nUmVhZGVyLFN5bnRheEVycm9yOlN5bnRheEVycm9yLFN5bnRheFVuaXQ6U3ludGF4VW5pdCxFdmVudFRhcmdldDpFdmVudFRhcmdldCxUb2tlblN0cmVhbUJhc2U6VG9rZW5TdHJlYW1CYXNlfX0pKCksZnVuY3Rpb24oKXtmdW5jdGlvbiBDb21iaW5hdG9yKHRleHQsbGluZSxjb2wpe1N5bnRheFVuaXQuY2FsbCh0aGlzLHRleHQsbGluZSxjb2wsUGFyc2VyLkNPTUJJTkFUT1JfVFlQRSksdGhpcy50eXBlPVxcXCJ1bmtub3duXFxcIiwvXlxcXFxzKyQvLnRlc3QodGV4dCk/dGhpcy50eXBlPVxcXCJkZXNjZW5kYW50XFxcIjpcXFwiPlxcXCI9PXRleHQ/dGhpcy50eXBlPVxcXCJjaGlsZFxcXCI6XFxcIitcXFwiPT10ZXh0P3RoaXMudHlwZT1cXFwiYWRqYWNlbnQtc2libGluZ1xcXCI6XFxcIn5cXFwiPT10ZXh0JiYodGhpcy50eXBlPVxcXCJzaWJsaW5nXFxcIil9ZnVuY3Rpb24gTWVkaWFGZWF0dXJlKG5hbWUsdmFsdWUpe1N5bnRheFVuaXQuY2FsbCh0aGlzLFxcXCIoXFxcIituYW1lKyhudWxsIT09dmFsdWU/XFxcIjpcXFwiK3ZhbHVlOlxcXCJcXFwiKStcXFwiKVxcXCIsbmFtZS5zdGFydExpbmUsbmFtZS5zdGFydENvbCxQYXJzZXIuTUVESUFfRkVBVFVSRV9UWVBFKSx0aGlzLm5hbWU9bmFtZSx0aGlzLnZhbHVlPXZhbHVlfWZ1bmN0aW9uIE1lZGlhUXVlcnkobW9kaWZpZXIsbWVkaWFUeXBlLGZlYXR1cmVzLGxpbmUsY29sKXtTeW50YXhVbml0LmNhbGwodGhpcywobW9kaWZpZXI/bW9kaWZpZXIrXFxcIiBcXFwiOlxcXCJcXFwiKSsobWVkaWFUeXBlP21lZGlhVHlwZTpcXFwiXFxcIikrKG1lZGlhVHlwZSYmZmVhdHVyZXMubGVuZ3RoPjA/XFxcIiBhbmQgXFxcIjpcXFwiXFxcIikrZmVhdHVyZXMuam9pbihcXFwiIGFuZCBcXFwiKSxsaW5lLGNvbCxQYXJzZXIuTUVESUFfUVVFUllfVFlQRSksdGhpcy5tb2RpZmllcj1tb2RpZmllcix0aGlzLm1lZGlhVHlwZT1tZWRpYVR5cGUsdGhpcy5mZWF0dXJlcz1mZWF0dXJlc31mdW5jdGlvbiBQYXJzZXIob3B0aW9ucyl7RXZlbnRUYXJnZXQuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnM9b3B0aW9uc3x8e30sdGhpcy5fdG9rZW5TdHJlYW09bnVsbH1mdW5jdGlvbiBQcm9wZXJ0eU5hbWUodGV4dCxoYWNrLGxpbmUsY29sKXtTeW50YXhVbml0LmNhbGwodGhpcyx0ZXh0LGxpbmUsY29sLFBhcnNlci5QUk9QRVJUWV9OQU1FX1RZUEUpLHRoaXMuaGFjaz1oYWNrfWZ1bmN0aW9uIFByb3BlcnR5VmFsdWUocGFydHMsbGluZSxjb2wpe1N5bnRheFVuaXQuY2FsbCh0aGlzLHBhcnRzLmpvaW4oXFxcIiBcXFwiKSxsaW5lLGNvbCxQYXJzZXIuUFJPUEVSVFlfVkFMVUVfVFlQRSksdGhpcy5wYXJ0cz1wYXJ0c31mdW5jdGlvbiBQcm9wZXJ0eVZhbHVlSXRlcmF0b3IodmFsdWUpe3RoaXMuX2k9MCx0aGlzLl9wYXJ0cz12YWx1ZS5wYXJ0cyx0aGlzLl9tYXJrcz1bXSx0aGlzLnZhbHVlPXZhbHVlfWZ1bmN0aW9uIFByb3BlcnR5VmFsdWVQYXJ0KHRleHQsbGluZSxjb2wpe1N5bnRheFVuaXQuY2FsbCh0aGlzLHRleHQsbGluZSxjb2wsUGFyc2VyLlBST1BFUlRZX1ZBTFVFX1BBUlRfVFlQRSksdGhpcy50eXBlPVxcXCJ1bmtub3duXFxcIjt2YXIgdGVtcDtpZigvXihbK1xcXFwtXT9bXFxcXGRcXFxcLl0rKShbYS16XSspJC9pLnRlc3QodGV4dCkpc3dpdGNoKHRoaXMudHlwZT1cXFwiZGltZW5zaW9uXFxcIix0aGlzLnZhbHVlPStSZWdFeHAuJDEsdGhpcy51bml0cz1SZWdFeHAuJDIsdGhpcy51bml0cy50b0xvd2VyQ2FzZSgpKXtjYXNlXFxcImVtXFxcIjpjYXNlXFxcInJlbVxcXCI6Y2FzZVxcXCJleFxcXCI6Y2FzZVxcXCJweFxcXCI6Y2FzZVxcXCJjbVxcXCI6Y2FzZVxcXCJtbVxcXCI6Y2FzZVxcXCJpblxcXCI6Y2FzZVxcXCJwdFxcXCI6Y2FzZVxcXCJwY1xcXCI6Y2FzZVxcXCJjaFxcXCI6Y2FzZVxcXCJ2aFxcXCI6Y2FzZVxcXCJ2d1xcXCI6Y2FzZVxcXCJ2bWF4XFxcIjpjYXNlXFxcInZtaW5cXFwiOnRoaXMudHlwZT1cXFwibGVuZ3RoXFxcIjticmVhaztjYXNlXFxcImRlZ1xcXCI6Y2FzZVxcXCJyYWRcXFwiOmNhc2VcXFwiZ3JhZFxcXCI6dGhpcy50eXBlPVxcXCJhbmdsZVxcXCI7YnJlYWs7Y2FzZVxcXCJtc1xcXCI6Y2FzZVxcXCJzXFxcIjp0aGlzLnR5cGU9XFxcInRpbWVcXFwiO2JyZWFrO2Nhc2VcXFwiaHpcXFwiOmNhc2VcXFwia2h6XFxcIjp0aGlzLnR5cGU9XFxcImZyZXF1ZW5jeVxcXCI7YnJlYWs7Y2FzZVxcXCJkcGlcXFwiOmNhc2VcXFwiZHBjbVxcXCI6dGhpcy50eXBlPVxcXCJyZXNvbHV0aW9uXFxcIn1lbHNlL14oWytcXFxcLV0/W1xcXFxkXFxcXC5dKyklJC9pLnRlc3QodGV4dCk/KHRoaXMudHlwZT1cXFwicGVyY2VudGFnZVxcXCIsdGhpcy52YWx1ZT0rUmVnRXhwLiQxKTovXihbK1xcXFwtXT9cXFxcZCspJC9pLnRlc3QodGV4dCk/KHRoaXMudHlwZT1cXFwiaW50ZWdlclxcXCIsdGhpcy52YWx1ZT0rUmVnRXhwLiQxKTovXihbK1xcXFwtXT9bXFxcXGRcXFxcLl0rKSQvaS50ZXN0KHRleHQpPyh0aGlzLnR5cGU9XFxcIm51bWJlclxcXCIsdGhpcy52YWx1ZT0rUmVnRXhwLiQxKTovXiMoW2EtZjAtOV17Myw2fSkvaS50ZXN0KHRleHQpPyh0aGlzLnR5cGU9XFxcImNvbG9yXFxcIix0ZW1wPVJlZ0V4cC4kMSwzPT10ZW1wLmxlbmd0aD8odGhpcy5yZWQ9cGFyc2VJbnQodGVtcC5jaGFyQXQoMCkrdGVtcC5jaGFyQXQoMCksMTYpLHRoaXMuZ3JlZW49cGFyc2VJbnQodGVtcC5jaGFyQXQoMSkrdGVtcC5jaGFyQXQoMSksMTYpLHRoaXMuYmx1ZT1wYXJzZUludCh0ZW1wLmNoYXJBdCgyKSt0ZW1wLmNoYXJBdCgyKSwxNikpOih0aGlzLnJlZD1wYXJzZUludCh0ZW1wLnN1YnN0cmluZygwLDIpLDE2KSx0aGlzLmdyZWVuPXBhcnNlSW50KHRlbXAuc3Vic3RyaW5nKDIsNCksMTYpLHRoaXMuYmx1ZT1wYXJzZUludCh0ZW1wLnN1YnN0cmluZyg0LDYpLDE2KSkpOi9ecmdiXFxcXChcXFxccyooXFxcXGQrKVxcXFxzKixcXFxccyooXFxcXGQrKVxcXFxzKixcXFxccyooXFxcXGQrKVxcXFxzKlxcXFwpL2kudGVzdCh0ZXh0KT8odGhpcy50eXBlPVxcXCJjb2xvclxcXCIsdGhpcy5yZWQ9K1JlZ0V4cC4kMSx0aGlzLmdyZWVuPStSZWdFeHAuJDIsdGhpcy5ibHVlPStSZWdFeHAuJDMpOi9ecmdiXFxcXChcXFxccyooXFxcXGQrKSVcXFxccyosXFxcXHMqKFxcXFxkKyklXFxcXHMqLFxcXFxzKihcXFxcZCspJVxcXFxzKlxcXFwpL2kudGVzdCh0ZXh0KT8odGhpcy50eXBlPVxcXCJjb2xvclxcXCIsdGhpcy5yZWQ9MjU1KitSZWdFeHAuJDEvMTAwLHRoaXMuZ3JlZW49MjU1KitSZWdFeHAuJDIvMTAwLHRoaXMuYmx1ZT0yNTUqK1JlZ0V4cC4kMy8xMDApOi9ecmdiYVxcXFwoXFxcXHMqKFxcXFxkKylcXFxccyosXFxcXHMqKFxcXFxkKylcXFxccyosXFxcXHMqKFxcXFxkKylcXFxccyosXFxcXHMqKFtcXFxcZFxcXFwuXSspXFxcXHMqXFxcXCkvaS50ZXN0KHRleHQpPyh0aGlzLnR5cGU9XFxcImNvbG9yXFxcIix0aGlzLnJlZD0rUmVnRXhwLiQxLHRoaXMuZ3JlZW49K1JlZ0V4cC4kMix0aGlzLmJsdWU9K1JlZ0V4cC4kMyx0aGlzLmFscGhhPStSZWdFeHAuJDQpOi9ecmdiYVxcXFwoXFxcXHMqKFxcXFxkKyklXFxcXHMqLFxcXFxzKihcXFxcZCspJVxcXFxzKixcXFxccyooXFxcXGQrKSVcXFxccyosXFxcXHMqKFtcXFxcZFxcXFwuXSspXFxcXHMqXFxcXCkvaS50ZXN0KHRleHQpPyh0aGlzLnR5cGU9XFxcImNvbG9yXFxcIix0aGlzLnJlZD0yNTUqK1JlZ0V4cC4kMS8xMDAsdGhpcy5ncmVlbj0yNTUqK1JlZ0V4cC4kMi8xMDAsdGhpcy5ibHVlPTI1NSorUmVnRXhwLiQzLzEwMCx0aGlzLmFscGhhPStSZWdFeHAuJDQpOi9eaHNsXFxcXChcXFxccyooXFxcXGQrKVxcXFxzKixcXFxccyooXFxcXGQrKSVcXFxccyosXFxcXHMqKFxcXFxkKyklXFxcXHMqXFxcXCkvaS50ZXN0KHRleHQpPyh0aGlzLnR5cGU9XFxcImNvbG9yXFxcIix0aGlzLmh1ZT0rUmVnRXhwLiQxLHRoaXMuc2F0dXJhdGlvbj0rUmVnRXhwLiQyLzEwMCx0aGlzLmxpZ2h0bmVzcz0rUmVnRXhwLiQzLzEwMCk6L15oc2xhXFxcXChcXFxccyooXFxcXGQrKVxcXFxzKixcXFxccyooXFxcXGQrKSVcXFxccyosXFxcXHMqKFxcXFxkKyklXFxcXHMqLFxcXFxzKihbXFxcXGRcXFxcLl0rKVxcXFxzKlxcXFwpL2kudGVzdCh0ZXh0KT8odGhpcy50eXBlPVxcXCJjb2xvclxcXCIsdGhpcy5odWU9K1JlZ0V4cC4kMSx0aGlzLnNhdHVyYXRpb249K1JlZ0V4cC4kMi8xMDAsdGhpcy5saWdodG5lc3M9K1JlZ0V4cC4kMy8xMDAsdGhpcy5hbHBoYT0rUmVnRXhwLiQ0KTovXnVybFxcXFwoW1xcXCInXT8oW15cXFxcKVxcXCInXSspW1xcXCInXT9cXFxcKS9pLnRlc3QodGV4dCk/KHRoaXMudHlwZT1cXFwidXJpXFxcIix0aGlzLnVyaT1SZWdFeHAuJDEpOi9eKFteXFxcXChdKylcXFxcKC9pLnRlc3QodGV4dCk/KHRoaXMudHlwZT1cXFwiZnVuY3Rpb25cXFwiLHRoaXMubmFtZT1SZWdFeHAuJDEsdGhpcy52YWx1ZT10ZXh0KTovXltcXFwiJ11bXlxcXCInXSpbXFxcIiddLy50ZXN0KHRleHQpPyh0aGlzLnR5cGU9XFxcInN0cmluZ1xcXCIsdGhpcy52YWx1ZT1ldmFsKHRleHQpKTpDb2xvcnNbdGV4dC50b0xvd2VyQ2FzZSgpXT8odGhpcy50eXBlPVxcXCJjb2xvclxcXCIsdGVtcD1Db2xvcnNbdGV4dC50b0xvd2VyQ2FzZSgpXS5zdWJzdHJpbmcoMSksdGhpcy5yZWQ9cGFyc2VJbnQodGVtcC5zdWJzdHJpbmcoMCwyKSwxNiksdGhpcy5ncmVlbj1wYXJzZUludCh0ZW1wLnN1YnN0cmluZygyLDQpLDE2KSx0aGlzLmJsdWU9cGFyc2VJbnQodGVtcC5zdWJzdHJpbmcoNCw2KSwxNikpOi9eW1xcXFwsXFxcXC9dJC8udGVzdCh0ZXh0KT8odGhpcy50eXBlPVxcXCJvcGVyYXRvclxcXCIsdGhpcy52YWx1ZT10ZXh0KTovXlthLXpcXFxcLV9cXFxcdTAwODAtXFxcXHVGRkZGXVthLXowLTlcXFxcLV9cXFxcdTAwODAtXFxcXHVGRkZGXSokL2kudGVzdCh0ZXh0KSYmKHRoaXMudHlwZT1cXFwiaWRlbnRpZmllclxcXCIsdGhpcy52YWx1ZT10ZXh0KX1mdW5jdGlvbiBTZWxlY3RvcihwYXJ0cyxsaW5lLGNvbCl7U3ludGF4VW5pdC5jYWxsKHRoaXMscGFydHMuam9pbihcXFwiIFxcXCIpLGxpbmUsY29sLFBhcnNlci5TRUxFQ1RPUl9UWVBFKSx0aGlzLnBhcnRzPXBhcnRzLHRoaXMuc3BlY2lmaWNpdHk9U3BlY2lmaWNpdHkuY2FsY3VsYXRlKHRoaXMpfWZ1bmN0aW9uIFNlbGVjdG9yUGFydChlbGVtZW50TmFtZSxtb2RpZmllcnMsdGV4dCxsaW5lLGNvbCl7U3ludGF4VW5pdC5jYWxsKHRoaXMsdGV4dCxsaW5lLGNvbCxQYXJzZXIuU0VMRUNUT1JfUEFSVF9UWVBFKSx0aGlzLmVsZW1lbnROYW1lPWVsZW1lbnROYW1lLHRoaXMubW9kaWZpZXJzPW1vZGlmaWVyc31mdW5jdGlvbiBTZWxlY3RvclN1YlBhcnQodGV4dCx0eXBlLGxpbmUsY29sKXtTeW50YXhVbml0LmNhbGwodGhpcyx0ZXh0LGxpbmUsY29sLFBhcnNlci5TRUxFQ1RPUl9TVUJfUEFSVF9UWVBFKSx0aGlzLnR5cGU9dHlwZSx0aGlzLmFyZ3M9W119ZnVuY3Rpb24gU3BlY2lmaWNpdHkoYSxiLGMsZCl7dGhpcy5hPWEsdGhpcy5iPWIsdGhpcy5jPWMsdGhpcy5kPWR9ZnVuY3Rpb24gaXNIZXhEaWdpdChjKXtyZXR1cm4gbnVsbCE9PWMmJmgudGVzdChjKX1mdW5jdGlvbiBpc0RpZ2l0KGMpe3JldHVybiBudWxsIT09YyYmL1xcXFxkLy50ZXN0KGMpfWZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjKXtyZXR1cm4gbnVsbCE9PWMmJi9cXFxccy8udGVzdChjKX1mdW5jdGlvbiBpc05ld0xpbmUoYyl7cmV0dXJuIG51bGwhPT1jJiZubC50ZXN0KGMpfWZ1bmN0aW9uIGlzTmFtZVN0YXJ0KGMpe3JldHVybiBudWxsIT09YyYmL1thLXpfXFxcXHUwMDgwLVxcXFx1RkZGRlxcXFxcXFxcXS9pLnRlc3QoYyl9ZnVuY3Rpb24gaXNOYW1lQ2hhcihjKXtyZXR1cm4gbnVsbCE9PWMmJihpc05hbWVTdGFydChjKXx8L1swLTlcXFxcLVxcXFxcXFxcXS8udGVzdChjKSl9ZnVuY3Rpb24gaXNJZGVudFN0YXJ0KGMpe3JldHVybiBudWxsIT09YyYmKGlzTmFtZVN0YXJ0KGMpfHwvXFxcXC1cXFxcXFxcXC8udGVzdChjKSl9ZnVuY3Rpb24gbWl4KHJlY2VpdmVyLHN1cHBsaWVyKXtmb3IodmFyIHByb3AgaW4gc3VwcGxpZXIpc3VwcGxpZXIuaGFzT3duUHJvcGVydHkocHJvcCkmJihyZWNlaXZlcltwcm9wXT1zdXBwbGllcltwcm9wXSk7cmV0dXJuIHJlY2VpdmVyfWZ1bmN0aW9uIFRva2VuU3RyZWFtKGlucHV0KXtUb2tlblN0cmVhbUJhc2UuY2FsbCh0aGlzLGlucHV0LFRva2Vucyl9ZnVuY3Rpb24gVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UsbGluZSxjb2wpe3RoaXMuY29sPWNvbCx0aGlzLmxpbmU9bGluZSx0aGlzLm1lc3NhZ2U9bWVzc2FnZX12YXIgRXZlbnRUYXJnZXQ9cGFyc2VybGliLnV0aWwuRXZlbnRUYXJnZXQsVG9rZW5TdHJlYW1CYXNlPXBhcnNlcmxpYi51dGlsLlRva2VuU3RyZWFtQmFzZSxTdHJpbmdSZWFkZXI9cGFyc2VybGliLnV0aWwuU3RyaW5nUmVhZGVyLFN5bnRheEVycm9yPXBhcnNlcmxpYi51dGlsLlN5bnRheEVycm9yLFN5bnRheFVuaXQ9cGFyc2VybGliLnV0aWwuU3ludGF4VW5pdCxDb2xvcnM9e2FsaWNlYmx1ZTpcXFwiI2YwZjhmZlxcXCIsYW50aXF1ZXdoaXRlOlxcXCIjZmFlYmQ3XFxcIixhcXVhOlxcXCIjMDBmZmZmXFxcIixhcXVhbWFyaW5lOlxcXCIjN2ZmZmQ0XFxcIixhenVyZTpcXFwiI2YwZmZmZlxcXCIsYmVpZ2U6XFxcIiNmNWY1ZGNcXFwiLGJpc3F1ZTpcXFwiI2ZmZTRjNFxcXCIsYmxhY2s6XFxcIiMwMDAwMDBcXFwiLGJsYW5jaGVkYWxtb25kOlxcXCIjZmZlYmNkXFxcIixibHVlOlxcXCIjMDAwMGZmXFxcIixibHVldmlvbGV0OlxcXCIjOGEyYmUyXFxcIixicm93bjpcXFwiI2E1MmEyYVxcXCIsYnVybHl3b29kOlxcXCIjZGViODg3XFxcIixjYWRldGJsdWU6XFxcIiM1ZjllYTBcXFwiLGNoYXJ0cmV1c2U6XFxcIiM3ZmZmMDBcXFwiLGNob2NvbGF0ZTpcXFwiI2QyNjkxZVxcXCIsY29yYWw6XFxcIiNmZjdmNTBcXFwiLGNvcm5mbG93ZXJibHVlOlxcXCIjNjQ5NWVkXFxcIixjb3Juc2lsazpcXFwiI2ZmZjhkY1xcXCIsY3JpbXNvbjpcXFwiI2RjMTQzY1xcXCIsY3lhbjpcXFwiIzAwZmZmZlxcXCIsZGFya2JsdWU6XFxcIiMwMDAwOGJcXFwiLGRhcmtjeWFuOlxcXCIjMDA4YjhiXFxcIixkYXJrZ29sZGVucm9kOlxcXCIjYjg4NjBiXFxcIixkYXJrZ3JheTpcXFwiI2E5YTlhOVxcXCIsZGFya2dyZXk6XFxcIiNhOWE5YTlcXFwiLGRhcmtncmVlbjpcXFwiIzAwNjQwMFxcXCIsZGFya2toYWtpOlxcXCIjYmRiNzZiXFxcIixkYXJrbWFnZW50YTpcXFwiIzhiMDA4YlxcXCIsZGFya29saXZlZ3JlZW46XFxcIiM1NTZiMmZcXFwiLGRhcmtvcmFuZ2U6XFxcIiNmZjhjMDBcXFwiLGRhcmtvcmNoaWQ6XFxcIiM5OTMyY2NcXFwiLGRhcmtyZWQ6XFxcIiM4YjAwMDBcXFwiLGRhcmtzYWxtb246XFxcIiNlOTk2N2FcXFwiLGRhcmtzZWFncmVlbjpcXFwiIzhmYmM4ZlxcXCIsZGFya3NsYXRlYmx1ZTpcXFwiIzQ4M2Q4YlxcXCIsZGFya3NsYXRlZ3JheTpcXFwiIzJmNGY0ZlxcXCIsZGFya3NsYXRlZ3JleTpcXFwiIzJmNGY0ZlxcXCIsZGFya3R1cnF1b2lzZTpcXFwiIzAwY2VkMVxcXCIsZGFya3Zpb2xldDpcXFwiIzk0MDBkM1xcXCIsZGVlcHBpbms6XFxcIiNmZjE0OTNcXFwiLGRlZXBza3libHVlOlxcXCIjMDBiZmZmXFxcIixkaW1ncmF5OlxcXCIjNjk2OTY5XFxcIixkaW1ncmV5OlxcXCIjNjk2OTY5XFxcIixkb2RnZXJibHVlOlxcXCIjMWU5MGZmXFxcIixmaXJlYnJpY2s6XFxcIiNiMjIyMjJcXFwiLGZsb3JhbHdoaXRlOlxcXCIjZmZmYWYwXFxcIixmb3Jlc3RncmVlbjpcXFwiIzIyOGIyMlxcXCIsZnVjaHNpYTpcXFwiI2ZmMDBmZlxcXCIsZ2FpbnNib3JvOlxcXCIjZGNkY2RjXFxcIixnaG9zdHdoaXRlOlxcXCIjZjhmOGZmXFxcIixnb2xkOlxcXCIjZmZkNzAwXFxcIixnb2xkZW5yb2Q6XFxcIiNkYWE1MjBcXFwiLGdyYXk6XFxcIiM4MDgwODBcXFwiLGdyZXk6XFxcIiM4MDgwODBcXFwiLGdyZWVuOlxcXCIjMDA4MDAwXFxcIixncmVlbnllbGxvdzpcXFwiI2FkZmYyZlxcXCIsaG9uZXlkZXc6XFxcIiNmMGZmZjBcXFwiLGhvdHBpbms6XFxcIiNmZjY5YjRcXFwiLGluZGlhbnJlZDpcXFwiI2NkNWM1Y1xcXCIsaW5kaWdvOlxcXCIjNGIwMDgyXFxcIixpdm9yeTpcXFwiI2ZmZmZmMFxcXCIsa2hha2k6XFxcIiNmMGU2OGNcXFwiLGxhdmVuZGVyOlxcXCIjZTZlNmZhXFxcIixsYXZlbmRlcmJsdXNoOlxcXCIjZmZmMGY1XFxcIixsYXduZ3JlZW46XFxcIiM3Y2ZjMDBcXFwiLGxlbW9uY2hpZmZvbjpcXFwiI2ZmZmFjZFxcXCIsbGlnaHRibHVlOlxcXCIjYWRkOGU2XFxcIixsaWdodGNvcmFsOlxcXCIjZjA4MDgwXFxcIixsaWdodGN5YW46XFxcIiNlMGZmZmZcXFwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlxcXCIjZmFmYWQyXFxcIixsaWdodGdyYXk6XFxcIiNkM2QzZDNcXFwiLGxpZ2h0Z3JleTpcXFwiI2QzZDNkM1xcXCIsbGlnaHRncmVlbjpcXFwiIzkwZWU5MFxcXCIsbGlnaHRwaW5rOlxcXCIjZmZiNmMxXFxcIixsaWdodHNhbG1vbjpcXFwiI2ZmYTA3YVxcXCIsbGlnaHRzZWFncmVlbjpcXFwiIzIwYjJhYVxcXCIsbGlnaHRza3libHVlOlxcXCIjODdjZWZhXFxcIixsaWdodHNsYXRlZ3JheTpcXFwiIzc3ODg5OVxcXCIsbGlnaHRzbGF0ZWdyZXk6XFxcIiM3Nzg4OTlcXFwiLGxpZ2h0c3RlZWxibHVlOlxcXCIjYjBjNGRlXFxcIixsaWdodHllbGxvdzpcXFwiI2ZmZmZlMFxcXCIsbGltZTpcXFwiIzAwZmYwMFxcXCIsbGltZWdyZWVuOlxcXCIjMzJjZDMyXFxcIixsaW5lbjpcXFwiI2ZhZjBlNlxcXCIsbWFnZW50YTpcXFwiI2ZmMDBmZlxcXCIsbWFyb29uOlxcXCIjODAwMDAwXFxcIixtZWRpdW1hcXVhbWFyaW5lOlxcXCIjNjZjZGFhXFxcIixtZWRpdW1ibHVlOlxcXCIjMDAwMGNkXFxcIixtZWRpdW1vcmNoaWQ6XFxcIiNiYTU1ZDNcXFwiLG1lZGl1bXB1cnBsZTpcXFwiIzkzNzBkOFxcXCIsbWVkaXVtc2VhZ3JlZW46XFxcIiMzY2IzNzFcXFwiLG1lZGl1bXNsYXRlYmx1ZTpcXFwiIzdiNjhlZVxcXCIsbWVkaXVtc3ByaW5nZ3JlZW46XFxcIiMwMGZhOWFcXFwiLG1lZGl1bXR1cnF1b2lzZTpcXFwiIzQ4ZDFjY1xcXCIsbWVkaXVtdmlvbGV0cmVkOlxcXCIjYzcxNTg1XFxcIixtaWRuaWdodGJsdWU6XFxcIiMxOTE5NzBcXFwiLG1pbnRjcmVhbTpcXFwiI2Y1ZmZmYVxcXCIsbWlzdHlyb3NlOlxcXCIjZmZlNGUxXFxcIixtb2NjYXNpbjpcXFwiI2ZmZTRiNVxcXCIsbmF2YWpvd2hpdGU6XFxcIiNmZmRlYWRcXFwiLG5hdnk6XFxcIiMwMDAwODBcXFwiLG9sZGxhY2U6XFxcIiNmZGY1ZTZcXFwiLG9saXZlOlxcXCIjODA4MDAwXFxcIixvbGl2ZWRyYWI6XFxcIiM2YjhlMjNcXFwiLG9yYW5nZTpcXFwiI2ZmYTUwMFxcXCIsb3JhbmdlcmVkOlxcXCIjZmY0NTAwXFxcIixvcmNoaWQ6XFxcIiNkYTcwZDZcXFwiLHBhbGVnb2xkZW5yb2Q6XFxcIiNlZWU4YWFcXFwiLHBhbGVncmVlbjpcXFwiIzk4ZmI5OFxcXCIscGFsZXR1cnF1b2lzZTpcXFwiI2FmZWVlZVxcXCIscGFsZXZpb2xldHJlZDpcXFwiI2Q4NzA5M1xcXCIscGFwYXlhd2hpcDpcXFwiI2ZmZWZkNVxcXCIscGVhY2hwdWZmOlxcXCIjZmZkYWI5XFxcIixwZXJ1OlxcXCIjY2Q4NTNmXFxcIixwaW5rOlxcXCIjZmZjMGNiXFxcIixwbHVtOlxcXCIjZGRhMGRkXFxcIixwb3dkZXJibHVlOlxcXCIjYjBlMGU2XFxcIixwdXJwbGU6XFxcIiM4MDAwODBcXFwiLHJlZDpcXFwiI2ZmMDAwMFxcXCIscm9zeWJyb3duOlxcXCIjYmM4ZjhmXFxcIixyb3lhbGJsdWU6XFxcIiM0MTY5ZTFcXFwiLHNhZGRsZWJyb3duOlxcXCIjOGI0NTEzXFxcIixzYWxtb246XFxcIiNmYTgwNzJcXFwiLHNhbmR5YnJvd246XFxcIiNmNGE0NjBcXFwiLHNlYWdyZWVuOlxcXCIjMmU4YjU3XFxcIixzZWFzaGVsbDpcXFwiI2ZmZjVlZVxcXCIsc2llbm5hOlxcXCIjYTA1MjJkXFxcIixzaWx2ZXI6XFxcIiNjMGMwYzBcXFwiLHNreWJsdWU6XFxcIiM4N2NlZWJcXFwiLHNsYXRlYmx1ZTpcXFwiIzZhNWFjZFxcXCIsc2xhdGVncmF5OlxcXCIjNzA4MDkwXFxcIixzbGF0ZWdyZXk6XFxcIiM3MDgwOTBcXFwiLHNub3c6XFxcIiNmZmZhZmFcXFwiLHNwcmluZ2dyZWVuOlxcXCIjMDBmZjdmXFxcIixzdGVlbGJsdWU6XFxcIiM0NjgyYjRcXFwiLHRhbjpcXFwiI2QyYjQ4Y1xcXCIsdGVhbDpcXFwiIzAwODA4MFxcXCIsdGhpc3RsZTpcXFwiI2Q4YmZkOFxcXCIsdG9tYXRvOlxcXCIjZmY2MzQ3XFxcIix0dXJxdW9pc2U6XFxcIiM0MGUwZDBcXFwiLHZpb2xldDpcXFwiI2VlODJlZVxcXCIsd2hlYXQ6XFxcIiNmNWRlYjNcXFwiLHdoaXRlOlxcXCIjZmZmZmZmXFxcIix3aGl0ZXNtb2tlOlxcXCIjZjVmNWY1XFxcIix5ZWxsb3c6XFxcIiNmZmZmMDBcXFwiLHllbGxvd2dyZWVuOlxcXCIjOWFjZDMyXFxcIixhY3RpdmVCb3JkZXI6XFxcIkFjdGl2ZSB3aW5kb3cgYm9yZGVyLlxcXCIsYWN0aXZlY2FwdGlvbjpcXFwiQWN0aXZlIHdpbmRvdyBjYXB0aW9uLlxcXCIsYXBwd29ya3NwYWNlOlxcXCJCYWNrZ3JvdW5kIGNvbG9yIG9mIG11bHRpcGxlIGRvY3VtZW50IGludGVyZmFjZS5cXFwiLGJhY2tncm91bmQ6XFxcIkRlc2t0b3AgYmFja2dyb3VuZC5cXFwiLGJ1dHRvbmZhY2U6XFxcIlRoZSBmYWNlIGJhY2tncm91bmQgY29sb3IgZm9yIDMtRCBlbGVtZW50cyB0aGF0IGFwcGVhciAzLUQgZHVlIHRvIG9uZSBsYXllciBvZiBzdXJyb3VuZGluZyBib3JkZXIuXFxcIixidXR0b25oaWdobGlnaHQ6XFxcIlRoZSBjb2xvciBvZiB0aGUgYm9yZGVyIGZhY2luZyB0aGUgbGlnaHQgc291cmNlIGZvciAzLUQgZWxlbWVudHMgdGhhdCBhcHBlYXIgMy1EIGR1ZSB0byBvbmUgbGF5ZXIgb2Ygc3Vycm91bmRpbmcgYm9yZGVyLlxcXCIsYnV0dG9uc2hhZG93OlxcXCJUaGUgY29sb3Igb2YgdGhlIGJvcmRlciBhd2F5IGZyb20gdGhlIGxpZ2h0IHNvdXJjZSBmb3IgMy1EIGVsZW1lbnRzIHRoYXQgYXBwZWFyIDMtRCBkdWUgdG8gb25lIGxheWVyIG9mIHN1cnJvdW5kaW5nIGJvcmRlci5cXFwiLGJ1dHRvbnRleHQ6XFxcIlRleHQgb24gcHVzaCBidXR0b25zLlxcXCIsY2FwdGlvbnRleHQ6XFxcIlRleHQgaW4gY2FwdGlvbiwgc2l6ZSBib3gsIGFuZCBzY3JvbGxiYXIgYXJyb3cgYm94LlxcXCIsZ3JheXRleHQ6XFxcIkdyYXllZCAoZGlzYWJsZWQpIHRleHQuIFRoaXMgY29sb3IgaXMgc2V0IHRvICMwMDAgaWYgdGhlIGN1cnJlbnQgZGlzcGxheSBkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydCBhIHNvbGlkIGdyYXkgY29sb3IuXFxcIixncmV5dGV4dDpcXFwiR3JleWVkIChkaXNhYmxlZCkgdGV4dC4gVGhpcyBjb2xvciBpcyBzZXQgdG8gIzAwMCBpZiB0aGUgY3VycmVudCBkaXNwbGF5IGRyaXZlciBkb2VzIG5vdCBzdXBwb3J0IGEgc29saWQgZ3JleSBjb2xvci5cXFwiLGhpZ2hsaWdodDpcXFwiSXRlbShzKSBzZWxlY3RlZCBpbiBhIGNvbnRyb2wuXFxcIixoaWdobGlnaHR0ZXh0OlxcXCJUZXh0IG9mIGl0ZW0ocykgc2VsZWN0ZWQgaW4gYSBjb250cm9sLlxcXCIsaW5hY3RpdmVib3JkZXI6XFxcIkluYWN0aXZlIHdpbmRvdyBib3JkZXIuXFxcIixpbmFjdGl2ZWNhcHRpb246XFxcIkluYWN0aXZlIHdpbmRvdyBjYXB0aW9uLlxcXCIsaW5hY3RpdmVjYXB0aW9udGV4dDpcXFwiQ29sb3Igb2YgdGV4dCBpbiBhbiBpbmFjdGl2ZSBjYXB0aW9uLlxcXCIsaW5mb2JhY2tncm91bmQ6XFxcIkJhY2tncm91bmQgY29sb3IgZm9yIHRvb2x0aXAgY29udHJvbHMuXFxcIixpbmZvdGV4dDpcXFwiVGV4dCBjb2xvciBmb3IgdG9vbHRpcCBjb250cm9scy5cXFwiLG1lbnU6XFxcIk1lbnUgYmFja2dyb3VuZC5cXFwiLG1lbnV0ZXh0OlxcXCJUZXh0IGluIG1lbnVzLlxcXCIsc2Nyb2xsYmFyOlxcXCJTY3JvbGwgYmFyIGdyYXkgYXJlYS5cXFwiLHRocmVlZGRhcmtzaGFkb3c6XFxcIlRoZSBjb2xvciBvZiB0aGUgZGFya2VyIChnZW5lcmFsbHkgb3V0ZXIpIG9mIHRoZSB0d28gYm9yZGVycyBhd2F5IGZyb20gdGhlIGxpZ2h0IHNvdXJjZSBmb3IgMy1EIGVsZW1lbnRzIHRoYXQgYXBwZWFyIDMtRCBkdWUgdG8gdHdvIGNvbmNlbnRyaWMgbGF5ZXJzIG9mIHN1cnJvdW5kaW5nIGJvcmRlci5cXFwiLHRocmVlZGZhY2U6XFxcIlRoZSBmYWNlIGJhY2tncm91bmQgY29sb3IgZm9yIDMtRCBlbGVtZW50cyB0aGF0IGFwcGVhciAzLUQgZHVlIHRvIHR3byBjb25jZW50cmljIGxheWVycyBvZiBzdXJyb3VuZGluZyBib3JkZXIuXFxcIix0aHJlZWRoaWdobGlnaHQ6XFxcIlRoZSBjb2xvciBvZiB0aGUgbGlnaHRlciAoZ2VuZXJhbGx5IG91dGVyKSBvZiB0aGUgdHdvIGJvcmRlcnMgZmFjaW5nIHRoZSBsaWdodCBzb3VyY2UgZm9yIDMtRCBlbGVtZW50cyB0aGF0IGFwcGVhciAzLUQgZHVlIHRvIHR3byBjb25jZW50cmljIGxheWVycyBvZiBzdXJyb3VuZGluZyBib3JkZXIuXFxcIix0aHJlZWRsaWdodHNoYWRvdzpcXFwiVGhlIGNvbG9yIG9mIHRoZSBkYXJrZXIgKGdlbmVyYWxseSBpbm5lcikgb2YgdGhlIHR3byBib3JkZXJzIGZhY2luZyB0aGUgbGlnaHQgc291cmNlIGZvciAzLUQgZWxlbWVudHMgdGhhdCBhcHBlYXIgMy1EIGR1ZSB0byB0d28gY29uY2VudHJpYyBsYXllcnMgb2Ygc3Vycm91bmRpbmcgYm9yZGVyLlxcXCIsdGhyZWVkc2hhZG93OlxcXCJUaGUgY29sb3Igb2YgdGhlIGxpZ2h0ZXIgKGdlbmVyYWxseSBpbm5lcikgb2YgdGhlIHR3byBib3JkZXJzIGF3YXkgZnJvbSB0aGUgbGlnaHQgc291cmNlIGZvciAzLUQgZWxlbWVudHMgdGhhdCBhcHBlYXIgMy1EIGR1ZSB0byB0d28gY29uY2VudHJpYyBsYXllcnMgb2Ygc3Vycm91bmRpbmcgYm9yZGVyLlxcXCIsd2luZG93OlxcXCJXaW5kb3cgYmFja2dyb3VuZC5cXFwiLHdpbmRvd2ZyYW1lOlxcXCJXaW5kb3cgZnJhbWUuXFxcIix3aW5kb3d0ZXh0OlxcXCJUZXh0IGluIHdpbmRvd3MuXFxcIn07Q29tYmluYXRvci5wcm90b3R5cGU9bmV3IFN5bnRheFVuaXQsQ29tYmluYXRvci5wcm90b3R5cGUuY29uc3RydWN0b3I9Q29tYmluYXRvcixNZWRpYUZlYXR1cmUucHJvdG90eXBlPW5ldyBTeW50YXhVbml0LE1lZGlhRmVhdHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3I9TWVkaWFGZWF0dXJlLE1lZGlhUXVlcnkucHJvdG90eXBlPW5ldyBTeW50YXhVbml0LE1lZGlhUXVlcnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPU1lZGlhUXVlcnksUGFyc2VyLkRFRkFVTFRfVFlQRT0wLFBhcnNlci5DT01CSU5BVE9SX1RZUEU9MSxQYXJzZXIuTUVESUFfRkVBVFVSRV9UWVBFPTIsUGFyc2VyLk1FRElBX1FVRVJZX1RZUEU9MyxQYXJzZXIuUFJPUEVSVFlfTkFNRV9UWVBFPTQsUGFyc2VyLlBST1BFUlRZX1ZBTFVFX1RZUEU9NSxQYXJzZXIuUFJPUEVSVFlfVkFMVUVfUEFSVF9UWVBFPTYsUGFyc2VyLlNFTEVDVE9SX1RZUEU9NyxQYXJzZXIuU0VMRUNUT1JfUEFSVF9UWVBFPTgsUGFyc2VyLlNFTEVDVE9SX1NVQl9QQVJUX1RZUEU9OSxQYXJzZXIucHJvdG90eXBlPWZ1bmN0aW9uKCl7dmFyIHByb3AscHJvdG89bmV3IEV2ZW50VGFyZ2V0LGFkZGl0aW9ucz17Y29uc3RydWN0b3I6UGFyc2VyLERFRkFVTFRfVFlQRTowLENPTUJJTkFUT1JfVFlQRToxLE1FRElBX0ZFQVRVUkVfVFlQRToyLE1FRElBX1FVRVJZX1RZUEU6MyxQUk9QRVJUWV9OQU1FX1RZUEU6NCxQUk9QRVJUWV9WQUxVRV9UWVBFOjUsUFJPUEVSVFlfVkFMVUVfUEFSVF9UWVBFOjYsU0VMRUNUT1JfVFlQRTo3LFNFTEVDVE9SX1BBUlRfVFlQRTo4LFNFTEVDVE9SX1NVQl9QQVJUX1RZUEU6OSxfc3R5bGVzaGVldDpmdW5jdGlvbigpe3ZhciBjb3VudCx0b2tlbix0dCx0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbTtmb3IodGhpcy5maXJlKFxcXCJzdGFydHN0eWxlc2hlZXRcXFwiKSx0aGlzLl9jaGFyc2V0KCksdGhpcy5fc2tpcENydWZ0KCk7dG9rZW5TdHJlYW0ucGVlaygpPT1Ub2tlbnMuSU1QT1JUX1NZTTspdGhpcy5faW1wb3J0KCksdGhpcy5fc2tpcENydWZ0KCk7Zm9yKDt0b2tlblN0cmVhbS5wZWVrKCk9PVRva2Vucy5OQU1FU1BBQ0VfU1lNOyl0aGlzLl9uYW1lc3BhY2UoKSx0aGlzLl9za2lwQ3J1ZnQoKTtmb3IodHQ9dG9rZW5TdHJlYW0ucGVlaygpO3R0PlRva2Vucy5FT0Y7KXt0cnl7c3dpdGNoKHR0KXtjYXNlIFRva2Vucy5NRURJQV9TWU06dGhpcy5fbWVkaWEoKSx0aGlzLl9za2lwQ3J1ZnQoKTticmVhaztjYXNlIFRva2Vucy5QQUdFX1NZTTp0aGlzLl9wYWdlKCksdGhpcy5fc2tpcENydWZ0KCk7YnJlYWs7Y2FzZSBUb2tlbnMuRk9OVF9GQUNFX1NZTTp0aGlzLl9mb250X2ZhY2UoKSx0aGlzLl9za2lwQ3J1ZnQoKTticmVhaztjYXNlIFRva2Vucy5LRVlGUkFNRVNfU1lNOnRoaXMuX2tleWZyYW1lcygpLHRoaXMuX3NraXBDcnVmdCgpO2JyZWFrO2Nhc2UgVG9rZW5zLlZJRVdQT1JUX1NZTTp0aGlzLl92aWV3cG9ydCgpLHRoaXMuX3NraXBDcnVmdCgpO2JyZWFrO2Nhc2UgVG9rZW5zLlVOS05PV05fU1lNOmlmKHRva2VuU3RyZWFtLmdldCgpLHRoaXMub3B0aW9ucy5zdHJpY3QpdGhyb3cgbmV3IFN5bnRheEVycm9yKFxcXCJVbmtub3duIEAgcnVsZS5cXFwiLHRva2VuU3RyZWFtLkxUKDApLnN0YXJ0TGluZSx0b2tlblN0cmVhbS5MVCgwKS5zdGFydENvbCk7Zm9yKHRoaXMuZmlyZSh7dHlwZTpcXFwiZXJyb3JcXFwiLGVycm9yOm51bGwsbWVzc2FnZTpcXFwiVW5rbm93biBAIHJ1bGU6IFxcXCIrdG9rZW5TdHJlYW0uTFQoMCkudmFsdWUrXFxcIi5cXFwiLGxpbmU6dG9rZW5TdHJlYW0uTFQoMCkuc3RhcnRMaW5lLGNvbDp0b2tlblN0cmVhbS5MVCgwKS5zdGFydENvbH0pLGNvdW50PTA7dG9rZW5TdHJlYW0uYWR2YW5jZShbVG9rZW5zLkxCUkFDRSxUb2tlbnMuUkJSQUNFXSk9PVRva2Vucy5MQlJBQ0U7KWNvdW50Kys7Zm9yKDtjb3VudDspdG9rZW5TdHJlYW0uYWR2YW5jZShbVG9rZW5zLlJCUkFDRV0pLGNvdW50LS07YnJlYWs7Y2FzZSBUb2tlbnMuUzp0aGlzLl9yZWFkV2hpdGVzcGFjZSgpO2JyZWFrO2RlZmF1bHQ6aWYoIXRoaXMuX3J1bGVzZXQoKSlzd2l0Y2godHQpe2Nhc2UgVG9rZW5zLkNIQVJTRVRfU1lNOnRocm93IHRva2VuPXRva2VuU3RyZWFtLkxUKDEpLHRoaXMuX2NoYXJzZXQoITEpLG5ldyBTeW50YXhFcnJvcihcXFwiQGNoYXJzZXQgbm90IGFsbG93ZWQgaGVyZS5cXFwiLHRva2VuLnN0YXJ0TGluZSx0b2tlbi5zdGFydENvbCk7Y2FzZSBUb2tlbnMuSU1QT1JUX1NZTTp0aHJvdyB0b2tlbj10b2tlblN0cmVhbS5MVCgxKSx0aGlzLl9pbXBvcnQoITEpLG5ldyBTeW50YXhFcnJvcihcXFwiQGltcG9ydCBub3QgYWxsb3dlZCBoZXJlLlxcXCIsdG9rZW4uc3RhcnRMaW5lLHRva2VuLnN0YXJ0Q29sKTtjYXNlIFRva2Vucy5OQU1FU1BBQ0VfU1lNOnRocm93IHRva2VuPXRva2VuU3RyZWFtLkxUKDEpLHRoaXMuX25hbWVzcGFjZSghMSksbmV3IFN5bnRheEVycm9yKFxcXCJAbmFtZXNwYWNlIG5vdCBhbGxvd2VkIGhlcmUuXFxcIix0b2tlbi5zdGFydExpbmUsdG9rZW4uc3RhcnRDb2wpO2RlZmF1bHQ6dG9rZW5TdHJlYW0uZ2V0KCksdGhpcy5fdW5leHBlY3RlZFRva2VuKHRva2VuU3RyZWFtLnRva2VuKCkpfX19Y2F0Y2goZXgpe2lmKCEoZXggaW5zdGFuY2VvZiBTeW50YXhFcnJvcil8fHRoaXMub3B0aW9ucy5zdHJpY3QpdGhyb3cgZXg7dGhpcy5maXJlKHt0eXBlOlxcXCJlcnJvclxcXCIsZXJyb3I6ZXgsbWVzc2FnZTpleC5tZXNzYWdlLGxpbmU6ZXgubGluZSxjb2w6ZXguY29sfSl9dHQ9dG9rZW5TdHJlYW0ucGVlaygpfXR0IT1Ub2tlbnMuRU9GJiZ0aGlzLl91bmV4cGVjdGVkVG9rZW4odG9rZW5TdHJlYW0udG9rZW4oKSksdGhpcy5maXJlKFxcXCJlbmRzdHlsZXNoZWV0XFxcIil9LF9jaGFyc2V0OmZ1bmN0aW9uKGVtaXQpe3ZhciBjaGFyc2V0LHRva2VuLGxpbmUsY29sLHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtO3Rva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5DSEFSU0VUX1NZTSkmJihsaW5lPXRva2VuU3RyZWFtLnRva2VuKCkuc3RhcnRMaW5lLGNvbD10b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0Q29sLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksdG9rZW5TdHJlYW0ubXVzdE1hdGNoKFRva2Vucy5TVFJJTkcpLHRva2VuPXRva2VuU3RyZWFtLnRva2VuKCksY2hhcnNldD10b2tlbi52YWx1ZSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuU0VNSUNPTE9OKSxlbWl0IT09ITEmJnRoaXMuZmlyZSh7dHlwZTpcXFwiY2hhcnNldFxcXCIsY2hhcnNldDpjaGFyc2V0LGxpbmU6bGluZSxjb2w6Y29sfSkpfSxfaW1wb3J0OmZ1bmN0aW9uKGVtaXQpe3ZhciB1cmksaW1wb3J0VG9rZW4sdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW0sbWVkaWFMaXN0PVtdO3Rva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuSU1QT1JUX1NZTSksaW1wb3J0VG9rZW49dG9rZW5TdHJlYW0udG9rZW4oKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRva2VuU3RyZWFtLm11c3RNYXRjaChbVG9rZW5zLlNUUklORyxUb2tlbnMuVVJJXSksdXJpPXRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUucmVwbGFjZSgvXig/OnVybFxcXFwoKT9bXFxcIiddPyhbXlxcXCInXSs/KVtcXFwiJ10/XFxcXCk/JC8sXFxcIiQxXFxcIiksdGhpcy5fcmVhZFdoaXRlc3BhY2UoKSxtZWRpYUxpc3Q9dGhpcy5fbWVkaWFfcXVlcnlfbGlzdCgpLHRva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuU0VNSUNPTE9OKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLGVtaXQhPT0hMSYmdGhpcy5maXJlKHt0eXBlOlxcXCJpbXBvcnRcXFwiLHVyaTp1cmksbWVkaWE6bWVkaWFMaXN0LGxpbmU6aW1wb3J0VG9rZW4uc3RhcnRMaW5lLGNvbDppbXBvcnRUb2tlbi5zdGFydENvbH0pfSxfbmFtZXNwYWNlOmZ1bmN0aW9uKGVtaXQpe3ZhciBsaW5lLGNvbCxwcmVmaXgsdXJpLHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtO3Rva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuTkFNRVNQQUNFX1NZTSksbGluZT10b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0TGluZSxjb2w9dG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydENvbCx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5JREVOVCkmJihwcmVmaXg9dG9rZW5TdHJlYW0udG9rZW4oKS52YWx1ZSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpKSx0b2tlblN0cmVhbS5tdXN0TWF0Y2goW1Rva2Vucy5TVFJJTkcsVG9rZW5zLlVSSV0pLHVyaT10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlLnJlcGxhY2UoLyg/OnVybFxcXFwoKT9bXFxcIiddKFteXFxcIiddKylbXFxcIiddXFxcXCk/LyxcXFwiJDFcXFwiKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuU0VNSUNPTE9OKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLGVtaXQhPT0hMSYmdGhpcy5maXJlKHt0eXBlOlxcXCJuYW1lc3BhY2VcXFwiLHByZWZpeDpwcmVmaXgsdXJpOnVyaSxsaW5lOmxpbmUsY29sOmNvbH0pfSxfbWVkaWE6ZnVuY3Rpb24oKXt2YXIgbGluZSxjb2wsbWVkaWFMaXN0LHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtO2Zvcih0b2tlblN0cmVhbS5tdXN0TWF0Y2goVG9rZW5zLk1FRElBX1NZTSksbGluZT10b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0TGluZSxjb2w9dG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydENvbCx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLG1lZGlhTGlzdD10aGlzLl9tZWRpYV9xdWVyeV9saXN0KCksdG9rZW5TdHJlYW0ubXVzdE1hdGNoKFRva2Vucy5MQlJBQ0UpLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksdGhpcy5maXJlKHt0eXBlOlxcXCJzdGFydG1lZGlhXFxcIixtZWRpYTptZWRpYUxpc3QsbGluZTpsaW5lLGNvbDpjb2x9KTs7KWlmKHRva2VuU3RyZWFtLnBlZWsoKT09VG9rZW5zLlBBR0VfU1lNKXRoaXMuX3BhZ2UoKTtlbHNlIGlmKHRva2VuU3RyZWFtLnBlZWsoKT09VG9rZW5zLkZPTlRfRkFDRV9TWU0pdGhpcy5fZm9udF9mYWNlKCk7ZWxzZSBpZih0b2tlblN0cmVhbS5wZWVrKCk9PVRva2Vucy5WSUVXUE9SVF9TWU0pdGhpcy5fdmlld3BvcnQoKTtlbHNlIGlmKCF0aGlzLl9ydWxlc2V0KCkpYnJlYWs7dG9rZW5TdHJlYW0ubXVzdE1hdGNoKFRva2Vucy5SQlJBQ0UpLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksdGhpcy5maXJlKHt0eXBlOlxcXCJlbmRtZWRpYVxcXCIsbWVkaWE6bWVkaWFMaXN0LGxpbmU6bGluZSxjb2w6Y29sfSl9LF9tZWRpYV9xdWVyeV9saXN0OmZ1bmN0aW9uKCl7dmFyIHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLG1lZGlhTGlzdD1bXTtmb3IodGhpcy5fcmVhZFdoaXRlc3BhY2UoKSwodG9rZW5TdHJlYW0ucGVlaygpPT1Ub2tlbnMuSURFTlR8fHRva2VuU3RyZWFtLnBlZWsoKT09VG9rZW5zLkxQQVJFTikmJm1lZGlhTGlzdC5wdXNoKHRoaXMuX21lZGlhX3F1ZXJ5KCkpO3Rva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5DT01NQSk7KXRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksbWVkaWFMaXN0LnB1c2godGhpcy5fbWVkaWFfcXVlcnkoKSk7cmV0dXJuIG1lZGlhTGlzdH0sX21lZGlhX3F1ZXJ5OmZ1bmN0aW9uKCl7dmFyIHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLHR5cGU9bnVsbCxpZGVudD1udWxsLHRva2VuPW51bGwsZXhwcmVzc2lvbnM9W107aWYodG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLklERU5UKSYmKGlkZW50PXRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUudG9Mb3dlckNhc2UoKSxcXFwib25seVxcXCIhPWlkZW50JiZcXFwibm90XFxcIiE9aWRlbnQ/KHRva2VuU3RyZWFtLnVuZ2V0KCksaWRlbnQ9bnVsbCk6dG9rZW49dG9rZW5TdHJlYW0udG9rZW4oKSksdGhpcy5fcmVhZFdoaXRlc3BhY2UoKSx0b2tlblN0cmVhbS5wZWVrKCk9PVRva2Vucy5JREVOVD8odHlwZT10aGlzLl9tZWRpYV90eXBlKCksbnVsbD09PXRva2VuJiYodG9rZW49dG9rZW5TdHJlYW0udG9rZW4oKSkpOnRva2VuU3RyZWFtLnBlZWsoKT09VG9rZW5zLkxQQVJFTiYmKG51bGw9PT10b2tlbiYmKHRva2VuPXRva2VuU3RyZWFtLkxUKDEpKSxleHByZXNzaW9ucy5wdXNoKHRoaXMuX21lZGlhX2V4cHJlc3Npb24oKSkpLG51bGw9PT10eXBlJiYwPT09ZXhwcmVzc2lvbnMubGVuZ3RoKXJldHVybiBudWxsO2Zvcih0aGlzLl9yZWFkV2hpdGVzcGFjZSgpO3Rva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5JREVOVCk7KVxcXCJhbmRcXFwiIT10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlLnRvTG93ZXJDYXNlKCkmJnRoaXMuX3VuZXhwZWN0ZWRUb2tlbih0b2tlblN0cmVhbS50b2tlbigpKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLGV4cHJlc3Npb25zLnB1c2godGhpcy5fbWVkaWFfZXhwcmVzc2lvbigpKTtyZXR1cm4gbmV3IE1lZGlhUXVlcnkoaWRlbnQsdHlwZSxleHByZXNzaW9ucyx0b2tlbi5zdGFydExpbmUsdG9rZW4uc3RhcnRDb2wpfSxfbWVkaWFfdHlwZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZWRpYV9mZWF0dXJlKCl9LF9tZWRpYV9leHByZXNzaW9uOmZ1bmN0aW9uKCl7dmFyIHRva2VuLHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLGZlYXR1cmU9bnVsbCxleHByZXNzaW9uPW51bGw7cmV0dXJuIHRva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuTFBBUkVOKSxmZWF0dXJlPXRoaXMuX21lZGlhX2ZlYXR1cmUoKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5DT0xPTikmJih0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRva2VuPXRva2VuU3RyZWFtLkxUKDEpLGV4cHJlc3Npb249dGhpcy5fZXhwcmVzc2lvbigpKSx0b2tlblN0cmVhbS5tdXN0TWF0Y2goVG9rZW5zLlJQQVJFTiksdGhpcy5fcmVhZFdoaXRlc3BhY2UoKSxuZXcgTWVkaWFGZWF0dXJlKGZlYXR1cmUsZXhwcmVzc2lvbj9uZXcgU3ludGF4VW5pdChleHByZXNzaW9uLHRva2VuLnN0YXJ0TGluZSx0b2tlbi5zdGFydENvbCk6bnVsbCl9LF9tZWRpYV9mZWF0dXJlOmZ1bmN0aW9uKCl7dmFyIHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtO3JldHVybiB0b2tlblN0cmVhbS5tdXN0TWF0Y2goVG9rZW5zLklERU5UKSxTeW50YXhVbml0LmZyb21Ub2tlbih0b2tlblN0cmVhbS50b2tlbigpKX0sX3BhZ2U6ZnVuY3Rpb24oKXt2YXIgbGluZSxjb2wsdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW0saWRlbnRpZmllcj1udWxsLHBzZXVkb1BhZ2U9bnVsbDt0b2tlblN0cmVhbS5tdXN0TWF0Y2goVG9rZW5zLlBBR0VfU1lNKSxsaW5lPXRva2VuU3RyZWFtLnRva2VuKCkuc3RhcnRMaW5lLGNvbD10b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0Q29sLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksdG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLklERU5UKSYmKGlkZW50aWZpZXI9dG9rZW5TdHJlYW0udG9rZW4oKS52YWx1ZSxcXFwiYXV0b1xcXCI9PT1pZGVudGlmaWVyLnRvTG93ZXJDYXNlKCkmJnRoaXMuX3VuZXhwZWN0ZWRUb2tlbih0b2tlblN0cmVhbS50b2tlbigpKSksdG9rZW5TdHJlYW0ucGVlaygpPT1Ub2tlbnMuQ09MT04mJihwc2V1ZG9QYWdlPXRoaXMuX3BzZXVkb19wYWdlKCkpLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksdGhpcy5maXJlKHt0eXBlOlxcXCJzdGFydHBhZ2VcXFwiLGlkOmlkZW50aWZpZXIscHNldWRvOnBzZXVkb1BhZ2UsbGluZTpsaW5lLGNvbDpjb2x9KSx0aGlzLl9yZWFkRGVjbGFyYXRpb25zKCEwLCEwKSx0aGlzLmZpcmUoe3R5cGU6XFxcImVuZHBhZ2VcXFwiLGlkOmlkZW50aWZpZXIscHNldWRvOnBzZXVkb1BhZ2UsbGluZTpsaW5lLGNvbDpjb2x9KX0sX21hcmdpbjpmdW5jdGlvbigpe3ZhciBsaW5lLGNvbCx0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbSxtYXJnaW5TeW09dGhpcy5fbWFyZ2luX3N5bSgpO3JldHVybiBtYXJnaW5TeW0/KGxpbmU9dG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydExpbmUsY29sPXRva2VuU3RyZWFtLnRva2VuKCkuc3RhcnRDb2wsdGhpcy5maXJlKHt0eXBlOlxcXCJzdGFydHBhZ2VtYXJnaW5cXFwiLG1hcmdpbjptYXJnaW5TeW0sbGluZTpsaW5lLGNvbDpjb2x9KSx0aGlzLl9yZWFkRGVjbGFyYXRpb25zKCEwKSx0aGlzLmZpcmUoe3R5cGU6XFxcImVuZHBhZ2VtYXJnaW5cXFwiLG1hcmdpbjptYXJnaW5TeW0sbGluZTpsaW5lLGNvbDpjb2x9KSwhMCk6ITF9LF9tYXJnaW5fc3ltOmZ1bmN0aW9uKCl7dmFyIHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtO3JldHVybiB0b2tlblN0cmVhbS5tYXRjaChbVG9rZW5zLlRPUExFRlRDT1JORVJfU1lNLFRva2Vucy5UT1BMRUZUX1NZTSxUb2tlbnMuVE9QQ0VOVEVSX1NZTSxUb2tlbnMuVE9QUklHSFRfU1lNLFRva2Vucy5UT1BSSUdIVENPUk5FUl9TWU0sVG9rZW5zLkJPVFRPTUxFRlRDT1JORVJfU1lNLFRva2Vucy5CT1RUT01MRUZUX1NZTSxUb2tlbnMuQk9UVE9NQ0VOVEVSX1NZTSxUb2tlbnMuQk9UVE9NUklHSFRfU1lNLFRva2Vucy5CT1RUT01SSUdIVENPUk5FUl9TWU0sVG9rZW5zLkxFRlRUT1BfU1lNLFRva2Vucy5MRUZUTUlERExFX1NZTSxUb2tlbnMuTEVGVEJPVFRPTV9TWU0sVG9rZW5zLlJJR0hUVE9QX1NZTSxUb2tlbnMuUklHSFRNSURETEVfU1lNLFRva2Vucy5SSUdIVEJPVFRPTV9TWU1dKT9TeW50YXhVbml0LmZyb21Ub2tlbih0b2tlblN0cmVhbS50b2tlbigpKTpudWxsfSxfcHNldWRvX3BhZ2U6ZnVuY3Rpb24oKXt2YXIgdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW07cmV0dXJuIHRva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuQ09MT04pLHRva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuSURFTlQpLHRva2VuU3RyZWFtLnRva2VuKCkudmFsdWV9LF9mb250X2ZhY2U6ZnVuY3Rpb24oKXt2YXIgbGluZSxjb2wsdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW07dG9rZW5TdHJlYW0ubXVzdE1hdGNoKFRva2Vucy5GT05UX0ZBQ0VfU1lNKSxsaW5lPXRva2VuU3RyZWFtLnRva2VuKCkuc3RhcnRMaW5lLGNvbD10b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0Q29sLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksdGhpcy5maXJlKHt0eXBlOlxcXCJzdGFydGZvbnRmYWNlXFxcIixsaW5lOmxpbmUsY29sOmNvbH0pLHRoaXMuX3JlYWREZWNsYXJhdGlvbnMoITApLHRoaXMuZmlyZSh7dHlwZTpcXFwiZW5kZm9udGZhY2VcXFwiLGxpbmU6bGluZSxjb2w6Y29sfSl9LF92aWV3cG9ydDpmdW5jdGlvbigpe3ZhciBsaW5lLGNvbCx0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbTt0b2tlblN0cmVhbS5tdXN0TWF0Y2goVG9rZW5zLlZJRVdQT1JUX1NZTSksbGluZT10b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0TGluZSxjb2w9dG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydENvbCx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRoaXMuZmlyZSh7dHlwZTpcXFwic3RhcnR2aWV3cG9ydFxcXCIsbGluZTpsaW5lLGNvbDpjb2x9KSx0aGlzLl9yZWFkRGVjbGFyYXRpb25zKCEwKSx0aGlzLmZpcmUoe3R5cGU6XFxcImVuZHZpZXdwb3J0XFxcIixsaW5lOmxpbmUsY29sOmNvbH0pfSxfb3BlcmF0b3I6ZnVuY3Rpb24oaW5GdW5jdGlvbil7dmFyIHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLHRva2VuPW51bGw7cmV0dXJuKHRva2VuU3RyZWFtLm1hdGNoKFtUb2tlbnMuU0xBU0gsVG9rZW5zLkNPTU1BXSl8fGluRnVuY3Rpb24mJnRva2VuU3RyZWFtLm1hdGNoKFtUb2tlbnMuUExVUyxUb2tlbnMuU1RBUixUb2tlbnMuTUlOVVNdKSkmJih0b2tlbj10b2tlblN0cmVhbS50b2tlbigpLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCkpLHRva2VuP1Byb3BlcnR5VmFsdWVQYXJ0LmZyb21Ub2tlbih0b2tlbik6bnVsbH0sX2NvbWJpbmF0b3I6ZnVuY3Rpb24oKXt2YXIgdG9rZW4sdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW0sdmFsdWU9bnVsbDtyZXR1cm4gdG9rZW5TdHJlYW0ubWF0Y2goW1Rva2Vucy5QTFVTLFRva2Vucy5HUkVBVEVSLFRva2Vucy5USUxERV0pJiYodG9rZW49dG9rZW5TdHJlYW0udG9rZW4oKSx2YWx1ZT1uZXcgQ29tYmluYXRvcih0b2tlbi52YWx1ZSx0b2tlbi5zdGFydExpbmUsdG9rZW4uc3RhcnRDb2wpLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCkpLHZhbHVlfSxfdW5hcnlfb3BlcmF0b3I6ZnVuY3Rpb24oKXt2YXIgdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW07cmV0dXJuIHRva2VuU3RyZWFtLm1hdGNoKFtUb2tlbnMuTUlOVVMsVG9rZW5zLlBMVVNdKT90b2tlblN0cmVhbS50b2tlbigpLnZhbHVlOm51bGx9LF9wcm9wZXJ0eTpmdW5jdGlvbigpe3ZhciB0b2tlblZhbHVlLHRva2VuLGxpbmUsY29sLHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLHZhbHVlPW51bGwsaGFjaz1udWxsO3JldHVybiB0b2tlblN0cmVhbS5wZWVrKCk9PVRva2Vucy5TVEFSJiZ0aGlzLm9wdGlvbnMuc3RhckhhY2smJih0b2tlblN0cmVhbS5nZXQoKSx0b2tlbj10b2tlblN0cmVhbS50b2tlbigpLGhhY2s9dG9rZW4udmFsdWUsbGluZT10b2tlbi5zdGFydExpbmUsY29sPXRva2VuLnN0YXJ0Q29sKSx0b2tlblN0cmVhbS5tYXRjaChUb2tlbnMuSURFTlQpJiYodG9rZW49dG9rZW5TdHJlYW0udG9rZW4oKSx0b2tlblZhbHVlPXRva2VuLnZhbHVlLFxcXCJfXFxcIj09dG9rZW5WYWx1ZS5jaGFyQXQoMCkmJnRoaXMub3B0aW9ucy51bmRlcnNjb3JlSGFjayYmKGhhY2s9XFxcIl9cXFwiLHRva2VuVmFsdWU9dG9rZW5WYWx1ZS5zdWJzdHJpbmcoMSkpLHZhbHVlPW5ldyBQcm9wZXJ0eU5hbWUodG9rZW5WYWx1ZSxoYWNrLGxpbmV8fHRva2VuLnN0YXJ0TGluZSxjb2x8fHRva2VuLnN0YXJ0Q29sKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpKSx2YWx1ZX0sX3J1bGVzZXQ6ZnVuY3Rpb24oKXt2YXIgdHQsc2VsZWN0b3JzLHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtO3RyeXtzZWxlY3RvcnM9dGhpcy5fc2VsZWN0b3JzX2dyb3VwKCl9Y2F0Y2goZXgpe2lmKCEoZXggaW5zdGFuY2VvZiBTeW50YXhFcnJvcil8fHRoaXMub3B0aW9ucy5zdHJpY3QpdGhyb3cgZXg7aWYodGhpcy5maXJlKHt0eXBlOlxcXCJlcnJvclxcXCIsZXJyb3I6ZXgsbWVzc2FnZTpleC5tZXNzYWdlLGxpbmU6ZXgubGluZSxjb2w6ZXguY29sfSksdHQ9dG9rZW5TdHJlYW0uYWR2YW5jZShbVG9rZW5zLlJCUkFDRV0pLHR0IT1Ub2tlbnMuUkJSQUNFKXRocm93IGV4O3JldHVybiEwfXJldHVybiBzZWxlY3RvcnMmJih0aGlzLmZpcmUoe3R5cGU6XFxcInN0YXJ0cnVsZVxcXCIsc2VsZWN0b3JzOnNlbGVjdG9ycyxsaW5lOnNlbGVjdG9yc1swXS5saW5lLGNvbDpzZWxlY3RvcnNbMF0uY29sfSksdGhpcy5fcmVhZERlY2xhcmF0aW9ucyghMCksdGhpcy5maXJlKHt0eXBlOlxcXCJlbmRydWxlXFxcIixzZWxlY3RvcnM6c2VsZWN0b3JzLGxpbmU6c2VsZWN0b3JzWzBdLmxpbmUsY29sOnNlbGVjdG9yc1swXS5jb2x9KSksc2VsZWN0b3JzfSxfc2VsZWN0b3JzX2dyb3VwOmZ1bmN0aW9uKCl7dmFyIHNlbGVjdG9yLHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLHNlbGVjdG9ycz1bXTtpZihzZWxlY3Rvcj10aGlzLl9zZWxlY3RvcigpLG51bGwhPT1zZWxlY3Rvcilmb3Ioc2VsZWN0b3JzLnB1c2goc2VsZWN0b3IpO3Rva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5DT01NQSk7KXRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksc2VsZWN0b3I9dGhpcy5fc2VsZWN0b3IoKSxudWxsIT09c2VsZWN0b3I/c2VsZWN0b3JzLnB1c2goc2VsZWN0b3IpOnRoaXMuX3VuZXhwZWN0ZWRUb2tlbih0b2tlblN0cmVhbS5MVCgxKSk7cmV0dXJuIHNlbGVjdG9ycy5sZW5ndGg/c2VsZWN0b3JzOm51bGx9LF9zZWxlY3RvcjpmdW5jdGlvbigpe3ZhciB0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbSxzZWxlY3Rvcj1bXSxuZXh0U2VsZWN0b3I9bnVsbCxjb21iaW5hdG9yPW51bGwsd3M9bnVsbDtpZihuZXh0U2VsZWN0b3I9dGhpcy5fc2ltcGxlX3NlbGVjdG9yX3NlcXVlbmNlKCksbnVsbD09PW5leHRTZWxlY3RvcilyZXR1cm4gbnVsbDtmb3Ioc2VsZWN0b3IucHVzaChuZXh0U2VsZWN0b3IpOzspaWYoY29tYmluYXRvcj10aGlzLl9jb21iaW5hdG9yKCksbnVsbCE9PWNvbWJpbmF0b3Ipc2VsZWN0b3IucHVzaChjb21iaW5hdG9yKSxuZXh0U2VsZWN0b3I9dGhpcy5fc2ltcGxlX3NlbGVjdG9yX3NlcXVlbmNlKCksbnVsbD09PW5leHRTZWxlY3Rvcj90aGlzLl91bmV4cGVjdGVkVG9rZW4odG9rZW5TdHJlYW0uTFQoMSkpOnNlbGVjdG9yLnB1c2gobmV4dFNlbGVjdG9yKTtlbHNle2lmKCF0aGlzLl9yZWFkV2hpdGVzcGFjZSgpKWJyZWFrO3dzPW5ldyBDb21iaW5hdG9yKHRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUsdG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydExpbmUsdG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydENvbCksY29tYmluYXRvcj10aGlzLl9jb21iaW5hdG9yKCksbmV4dFNlbGVjdG9yPXRoaXMuX3NpbXBsZV9zZWxlY3Rvcl9zZXF1ZW5jZSgpLG51bGw9PT1uZXh0U2VsZWN0b3I/bnVsbCE9PWNvbWJpbmF0b3ImJnRoaXMuX3VuZXhwZWN0ZWRUb2tlbih0b2tlblN0cmVhbS5MVCgxKSk6KG51bGwhPT1jb21iaW5hdG9yP3NlbGVjdG9yLnB1c2goY29tYmluYXRvcik6c2VsZWN0b3IucHVzaCh3cyksc2VsZWN0b3IucHVzaChuZXh0U2VsZWN0b3IpKX1yZXR1cm4gbmV3IFNlbGVjdG9yKHNlbGVjdG9yLHNlbGVjdG9yWzBdLmxpbmUsc2VsZWN0b3JbMF0uY29sKX0sX3NpbXBsZV9zZWxlY3Rvcl9zZXF1ZW5jZTpmdW5jdGlvbigpe3ZhciBsaW5lLGNvbCx0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbSxlbGVtZW50TmFtZT1udWxsLG1vZGlmaWVycz1bXSxzZWxlY3RvclRleHQ9XFxcIlxcXCIsY29tcG9uZW50cz1bZnVuY3Rpb24oKXtyZXR1cm4gdG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLkhBU0gpP25ldyBTZWxlY3RvclN1YlBhcnQodG9rZW5TdHJlYW0udG9rZW4oKS52YWx1ZSxcXFwiaWRcXFwiLHRva2VuU3RyZWFtLnRva2VuKCkuc3RhcnRMaW5lLHRva2VuU3RyZWFtLnRva2VuKCkuc3RhcnRDb2wpOm51bGx9LHRoaXMuX2NsYXNzLHRoaXMuX2F0dHJpYix0aGlzLl9wc2V1ZG8sdGhpcy5fbmVnYXRpb25dLGk9MCxsZW49Y29tcG9uZW50cy5sZW5ndGgsY29tcG9uZW50PW51bGw7Zm9yKGxpbmU9dG9rZW5TdHJlYW0uTFQoMSkuc3RhcnRMaW5lLGNvbD10b2tlblN0cmVhbS5MVCgxKS5zdGFydENvbCxlbGVtZW50TmFtZT10aGlzLl90eXBlX3NlbGVjdG9yKCksZWxlbWVudE5hbWV8fChlbGVtZW50TmFtZT10aGlzLl91bml2ZXJzYWwoKSksbnVsbCE9PWVsZW1lbnROYW1lJiYoc2VsZWN0b3JUZXh0Kz1lbGVtZW50TmFtZSk7Oyl7aWYodG9rZW5TdHJlYW0ucGVlaygpPT09VG9rZW5zLlMpYnJlYWs7Zm9yKDtsZW4+aSYmbnVsbD09PWNvbXBvbmVudDspY29tcG9uZW50PWNvbXBvbmVudHNbaSsrXS5jYWxsKHRoaXMpO2lmKG51bGw9PT1jb21wb25lbnQpe2lmKFxcXCJcXFwiPT09c2VsZWN0b3JUZXh0KXJldHVybiBudWxsO2JyZWFrfWk9MCxtb2RpZmllcnMucHVzaChjb21wb25lbnQpLHNlbGVjdG9yVGV4dCs9XFxcIlxcXCIrY29tcG9uZW50LGNvbXBvbmVudD1udWxsfXJldHVyblxcXCJcXFwiIT09c2VsZWN0b3JUZXh0P25ldyBTZWxlY3RvclBhcnQoZWxlbWVudE5hbWUsbW9kaWZpZXJzLHNlbGVjdG9yVGV4dCxsaW5lLGNvbCk6bnVsbH0sX3R5cGVfc2VsZWN0b3I6ZnVuY3Rpb24oKXt2YXIgdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW0sbnM9dGhpcy5fbmFtZXNwYWNlX3ByZWZpeCgpLGVsZW1lbnROYW1lPXRoaXMuX2VsZW1lbnRfbmFtZSgpO3JldHVybiBlbGVtZW50TmFtZT8obnMmJihlbGVtZW50TmFtZS50ZXh0PW5zK2VsZW1lbnROYW1lLnRleHQsZWxlbWVudE5hbWUuY29sLT1ucy5sZW5ndGgpLGVsZW1lbnROYW1lKToobnMmJih0b2tlblN0cmVhbS51bmdldCgpLG5zLmxlbmd0aD4xJiZ0b2tlblN0cmVhbS51bmdldCgpKSxudWxsKX0sX2NsYXNzOmZ1bmN0aW9uKCl7dmFyIHRva2VuLHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtO3JldHVybiB0b2tlblN0cmVhbS5tYXRjaChUb2tlbnMuRE9UKT8odG9rZW5TdHJlYW0ubXVzdE1hdGNoKFRva2Vucy5JREVOVCksdG9rZW49dG9rZW5TdHJlYW0udG9rZW4oKSxuZXcgU2VsZWN0b3JTdWJQYXJ0KFxcXCIuXFxcIit0b2tlbi52YWx1ZSxcXFwiY2xhc3NcXFwiLHRva2VuLnN0YXJ0TGluZSx0b2tlbi5zdGFydENvbC0xKSk6bnVsbH0sX2VsZW1lbnRfbmFtZTpmdW5jdGlvbigpe3ZhciB0b2tlbix0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbTtyZXR1cm4gdG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLklERU5UKT8odG9rZW49dG9rZW5TdHJlYW0udG9rZW4oKSxuZXcgU2VsZWN0b3JTdWJQYXJ0KHRva2VuLnZhbHVlLFxcXCJlbGVtZW50TmFtZVxcXCIsdG9rZW4uc3RhcnRMaW5lLHRva2VuLnN0YXJ0Q29sKSk6bnVsbH0sX25hbWVzcGFjZV9wcmVmaXg6ZnVuY3Rpb24oKXt2YXIgdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW0sdmFsdWU9XFxcIlxcXCI7cmV0dXJuKHRva2VuU3RyZWFtLkxBKDEpPT09VG9rZW5zLlBJUEV8fHRva2VuU3RyZWFtLkxBKDIpPT09VG9rZW5zLlBJUEUpJiYodG9rZW5TdHJlYW0ubWF0Y2goW1Rva2Vucy5JREVOVCxUb2tlbnMuU1RBUl0pJiYodmFsdWUrPXRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUpLHRva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuUElQRSksdmFsdWUrPVxcXCJ8XFxcIiksdmFsdWUubGVuZ3RoP3ZhbHVlOm51bGx9LF91bml2ZXJzYWw6ZnVuY3Rpb24oKXt2YXIgbnMsdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW0sdmFsdWU9XFxcIlxcXCI7cmV0dXJuIG5zPXRoaXMuX25hbWVzcGFjZV9wcmVmaXgoKSxucyYmKHZhbHVlKz1ucyksdG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLlNUQVIpJiYodmFsdWUrPVxcXCIqXFxcIiksdmFsdWUubGVuZ3RoP3ZhbHVlOm51bGx9LF9hdHRyaWI6ZnVuY3Rpb24oKXt2YXIgbnMsdG9rZW4sdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW0sdmFsdWU9bnVsbDtyZXR1cm4gdG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLkxCUkFDS0VUKT8odG9rZW49dG9rZW5TdHJlYW0udG9rZW4oKSx2YWx1ZT10b2tlbi52YWx1ZSx2YWx1ZSs9dGhpcy5fcmVhZFdoaXRlc3BhY2UoKSxucz10aGlzLl9uYW1lc3BhY2VfcHJlZml4KCksbnMmJih2YWx1ZSs9bnMpLHRva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuSURFTlQpLHZhbHVlKz10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlLHZhbHVlKz10aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRva2VuU3RyZWFtLm1hdGNoKFtUb2tlbnMuUFJFRklYTUFUQ0gsVG9rZW5zLlNVRkZJWE1BVENILFRva2Vucy5TVUJTVFJJTkdNQVRDSCxUb2tlbnMuRVFVQUxTLFRva2Vucy5JTkNMVURFUyxUb2tlbnMuREFTSE1BVENIXSkmJih2YWx1ZSs9dG9rZW5TdHJlYW0udG9rZW4oKS52YWx1ZSx2YWx1ZSs9dGhpcy5fcmVhZFdoaXRlc3BhY2UoKSx0b2tlblN0cmVhbS5tdXN0TWF0Y2goW1Rva2Vucy5JREVOVCxUb2tlbnMuU1RSSU5HXSksdmFsdWUrPXRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUsdmFsdWUrPXRoaXMuX3JlYWRXaGl0ZXNwYWNlKCkpLHRva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuUkJSQUNLRVQpLG5ldyBTZWxlY3RvclN1YlBhcnQodmFsdWUrXFxcIl1cXFwiLFxcXCJhdHRyaWJ1dGVcXFwiLHRva2VuLnN0YXJ0TGluZSx0b2tlbi5zdGFydENvbCkpOm51bGx9LF9wc2V1ZG86ZnVuY3Rpb24oKXt2YXIgbGluZSxjb2wsdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW0scHNldWRvPW51bGwsY29sb25zPVxcXCI6XFxcIjtyZXR1cm4gdG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLkNPTE9OKSYmKHRva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5DT0xPTikmJihjb2xvbnMrPVxcXCI6XFxcIiksdG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLklERU5UKT8ocHNldWRvPXRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUsbGluZT10b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0TGluZSxjb2w9dG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydENvbC1jb2xvbnMubGVuZ3RoKTp0b2tlblN0cmVhbS5wZWVrKCk9PVRva2Vucy5GVU5DVElPTiYmKGxpbmU9dG9rZW5TdHJlYW0uTFQoMSkuc3RhcnRMaW5lLGNvbD10b2tlblN0cmVhbS5MVCgxKS5zdGFydENvbC1jb2xvbnMubGVuZ3RoLHBzZXVkbz10aGlzLl9mdW5jdGlvbmFsX3BzZXVkbygpKSxwc2V1ZG8mJihwc2V1ZG89bmV3IFNlbGVjdG9yU3ViUGFydChjb2xvbnMrcHNldWRvLFxcXCJwc2V1ZG9cXFwiLGxpbmUsY29sKSkpLHBzZXVkb30sX2Z1bmN0aW9uYWxfcHNldWRvOmZ1bmN0aW9uKCl7dmFyIHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLHZhbHVlPW51bGw7cmV0dXJuIHRva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5GVU5DVElPTikmJih2YWx1ZT10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlLHZhbHVlKz10aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHZhbHVlKz10aGlzLl9leHByZXNzaW9uKCksdG9rZW5TdHJlYW0ubXVzdE1hdGNoKFRva2Vucy5SUEFSRU4pLHZhbHVlKz1cXFwiKVxcXCIpLHZhbHVlfSxfZXhwcmVzc2lvbjpmdW5jdGlvbigpe2Zvcih2YXIgdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW0sdmFsdWU9XFxcIlxcXCI7dG9rZW5TdHJlYW0ubWF0Y2goW1Rva2Vucy5QTFVTLFRva2Vucy5NSU5VUyxUb2tlbnMuRElNRU5TSU9OLFRva2Vucy5OVU1CRVIsVG9rZW5zLlNUUklORyxUb2tlbnMuSURFTlQsVG9rZW5zLkxFTkdUSCxUb2tlbnMuRlJFUSxUb2tlbnMuQU5HTEUsVG9rZW5zLlRJTUUsVG9rZW5zLlJFU09MVVRJT04sVG9rZW5zLlNMQVNIXSk7KXZhbHVlKz10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlLHZhbHVlKz10aGlzLl9yZWFkV2hpdGVzcGFjZSgpO3JldHVybiB2YWx1ZS5sZW5ndGg/dmFsdWU6bnVsbH0sX25lZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGxpbmUsY29sLGFyZyx0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbSx2YWx1ZT1cXFwiXFxcIixzdWJwYXJ0PW51bGw7cmV0dXJuIHRva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5OT1QpJiYodmFsdWU9dG9rZW5TdHJlYW0udG9rZW4oKS52YWx1ZSxsaW5lPXRva2VuU3RyZWFtLnRva2VuKCkuc3RhcnRMaW5lLGNvbD10b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0Q29sLHZhbHVlKz10aGlzLl9yZWFkV2hpdGVzcGFjZSgpLGFyZz10aGlzLl9uZWdhdGlvbl9hcmcoKSx2YWx1ZSs9YXJnLHZhbHVlKz10aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5SUEFSRU4pLHZhbHVlKz10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlLHN1YnBhcnQ9bmV3IFNlbGVjdG9yU3ViUGFydCh2YWx1ZSxcXFwibm90XFxcIixsaW5lLGNvbCksc3VicGFydC5hcmdzLnB1c2goYXJnKSksc3VicGFydH0sX25lZ2F0aW9uX2FyZzpmdW5jdGlvbigpe3ZhciBsaW5lLGNvbCxwYXJ0LHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLGFyZ3M9W3RoaXMuX3R5cGVfc2VsZWN0b3IsdGhpcy5fdW5pdmVyc2FsLGZ1bmN0aW9uKCl7cmV0dXJuIHRva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5IQVNIKT9uZXcgU2VsZWN0b3JTdWJQYXJ0KHRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUsXFxcImlkXFxcIix0b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0TGluZSx0b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0Q29sKTpudWxsfSx0aGlzLl9jbGFzcyx0aGlzLl9hdHRyaWIsdGhpcy5fcHNldWRvXSxhcmc9bnVsbCxpPTAsbGVuPWFyZ3MubGVuZ3RoO2ZvcihsaW5lPXRva2VuU3RyZWFtLkxUKDEpLnN0YXJ0TGluZSxjb2w9dG9rZW5TdHJlYW0uTFQoMSkuc3RhcnRDb2w7bGVuPmkmJm51bGw9PT1hcmc7KWFyZz1hcmdzW2ldLmNhbGwodGhpcyksaSsrO3JldHVybiBudWxsPT09YXJnJiZ0aGlzLl91bmV4cGVjdGVkVG9rZW4odG9rZW5TdHJlYW0uTFQoMSkpLHBhcnQ9XFxcImVsZW1lbnROYW1lXFxcIj09YXJnLnR5cGU/bmV3IFNlbGVjdG9yUGFydChhcmcsW10sXFxcIlxcXCIrYXJnLGxpbmUsY29sKTpuZXcgU2VsZWN0b3JQYXJ0KG51bGwsW2FyZ10sXFxcIlxcXCIrYXJnLGxpbmUsY29sKX0sX2RlY2xhcmF0aW9uOmZ1bmN0aW9uKCl7dmFyIHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLHByb3BlcnR5PW51bGwsZXhwcj1udWxsLHByaW89bnVsbCxpbnZhbGlkPW51bGwscHJvcGVydHlOYW1lPVxcXCJcXFwiO2lmKHByb3BlcnR5PXRoaXMuX3Byb3BlcnR5KCksbnVsbCE9PXByb3BlcnR5KXt0b2tlblN0cmVhbS5tdXN0TWF0Y2goVG9rZW5zLkNPTE9OKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLGV4cHI9dGhpcy5fZXhwcigpLGV4cHImJjAhPT1leHByLmxlbmd0aHx8dGhpcy5fdW5leHBlY3RlZFRva2VuKHRva2VuU3RyZWFtLkxUKDEpKSxwcmlvPXRoaXMuX3ByaW8oKSxwcm9wZXJ0eU5hbWU9XFxcIlxcXCIrcHJvcGVydHksKHRoaXMub3B0aW9ucy5zdGFySGFjayYmXFxcIipcXFwiPT1wcm9wZXJ0eS5oYWNrfHx0aGlzLm9wdGlvbnMudW5kZXJzY29yZUhhY2smJlxcXCJfXFxcIj09cHJvcGVydHkuaGFjaykmJihwcm9wZXJ0eU5hbWU9cHJvcGVydHkudGV4dCk7dHJ5e3RoaXMuX3ZhbGlkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLGV4cHIpfWNhdGNoKGV4KXtpbnZhbGlkPWV4fXJldHVybiB0aGlzLmZpcmUoe3R5cGU6XFxcInByb3BlcnR5XFxcIixwcm9wZXJ0eTpwcm9wZXJ0eSx2YWx1ZTpleHByLGltcG9ydGFudDpwcmlvLGxpbmU6cHJvcGVydHkubGluZSxjb2w6cHJvcGVydHkuY29sLGludmFsaWQ6aW52YWxpZH0pLCEwfXJldHVybiExfSxfcHJpbzpmdW5jdGlvbigpe3ZhciB0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbSxyZXN1bHQ9dG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLklNUE9SVEFOVF9TWU0pO3JldHVybiB0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHJlc3VsdH0sX2V4cHI6ZnVuY3Rpb24oaW5GdW5jdGlvbil7dmFyIHZhbHVlcz0odGhpcy5fdG9rZW5TdHJlYW0sW10pLHZhbHVlPW51bGwsb3BlcmF0b3I9bnVsbDtpZih2YWx1ZT10aGlzLl90ZXJtKGluRnVuY3Rpb24pLG51bGwhPT12YWx1ZSlmb3IodmFsdWVzLnB1c2godmFsdWUpOzspe2lmKG9wZXJhdG9yPXRoaXMuX29wZXJhdG9yKGluRnVuY3Rpb24pLG9wZXJhdG9yJiZ2YWx1ZXMucHVzaChvcGVyYXRvciksdmFsdWU9dGhpcy5fdGVybShpbkZ1bmN0aW9uKSxudWxsPT09dmFsdWUpYnJlYWs7XFxudmFsdWVzLnB1c2godmFsdWUpfXJldHVybiB2YWx1ZXMubGVuZ3RoPjA/bmV3IFByb3BlcnR5VmFsdWUodmFsdWVzLHZhbHVlc1swXS5saW5lLHZhbHVlc1swXS5jb2wpOm51bGx9LF90ZXJtOmZ1bmN0aW9uKGluRnVuY3Rpb24pe3ZhciB0b2tlbixsaW5lLGNvbCx0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbSx1bmFyeT1udWxsLHZhbHVlPW51bGwsZW5kQ2hhcj1udWxsO3JldHVybiB1bmFyeT10aGlzLl91bmFyeV9vcGVyYXRvcigpLG51bGwhPT11bmFyeSYmKGxpbmU9dG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydExpbmUsY29sPXRva2VuU3RyZWFtLnRva2VuKCkuc3RhcnRDb2wpLHRva2VuU3RyZWFtLnBlZWsoKT09VG9rZW5zLklFX0ZVTkNUSU9OJiZ0aGlzLm9wdGlvbnMuaWVGaWx0ZXJzPyh2YWx1ZT10aGlzLl9pZV9mdW5jdGlvbigpLG51bGw9PT11bmFyeSYmKGxpbmU9dG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydExpbmUsY29sPXRva2VuU3RyZWFtLnRva2VuKCkuc3RhcnRDb2wpKTppbkZ1bmN0aW9uJiZ0b2tlblN0cmVhbS5tYXRjaChbVG9rZW5zLkxQQVJFTixUb2tlbnMuTEJSQUNFLFRva2Vucy5MQlJBQ0tFVF0pPyh0b2tlbj10b2tlblN0cmVhbS50b2tlbigpLGVuZENoYXI9dG9rZW4uZW5kQ2hhcix2YWx1ZT10b2tlbi52YWx1ZSt0aGlzLl9leHByKGluRnVuY3Rpb24pLnRleHQsbnVsbD09PXVuYXJ5JiYobGluZT10b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0TGluZSxjb2w9dG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydENvbCksdG9rZW5TdHJlYW0ubXVzdE1hdGNoKFRva2Vucy50eXBlKGVuZENoYXIpKSx2YWx1ZSs9ZW5kQ2hhcix0aGlzLl9yZWFkV2hpdGVzcGFjZSgpKTp0b2tlblN0cmVhbS5tYXRjaChbVG9rZW5zLk5VTUJFUixUb2tlbnMuUEVSQ0VOVEFHRSxUb2tlbnMuTEVOR1RILFRva2Vucy5BTkdMRSxUb2tlbnMuVElNRSxUb2tlbnMuRlJFUSxUb2tlbnMuU1RSSU5HLFRva2Vucy5JREVOVCxUb2tlbnMuVVJJLFRva2Vucy5VTklDT0RFX1JBTkdFXSk/KHZhbHVlPXRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUsbnVsbD09PXVuYXJ5JiYobGluZT10b2tlblN0cmVhbS50b2tlbigpLnN0YXJ0TGluZSxjb2w9dG9rZW5TdHJlYW0udG9rZW4oKS5zdGFydENvbCksdGhpcy5fcmVhZFdoaXRlc3BhY2UoKSk6KHRva2VuPXRoaXMuX2hleGNvbG9yKCksbnVsbD09PXRva2VuPyhudWxsPT09dW5hcnkmJihsaW5lPXRva2VuU3RyZWFtLkxUKDEpLnN0YXJ0TGluZSxjb2w9dG9rZW5TdHJlYW0uTFQoMSkuc3RhcnRDb2wpLG51bGw9PT12YWx1ZSYmKHZhbHVlPXRva2VuU3RyZWFtLkxBKDMpPT1Ub2tlbnMuRVFVQUxTJiZ0aGlzLm9wdGlvbnMuaWVGaWx0ZXJzP3RoaXMuX2llX2Z1bmN0aW9uKCk6dGhpcy5fZnVuY3Rpb24oKSkpOih2YWx1ZT10b2tlbi52YWx1ZSxudWxsPT09dW5hcnkmJihsaW5lPXRva2VuLnN0YXJ0TGluZSxjb2w9dG9rZW4uc3RhcnRDb2wpKSksbnVsbCE9PXZhbHVlP25ldyBQcm9wZXJ0eVZhbHVlUGFydChudWxsIT09dW5hcnk/dW5hcnkrdmFsdWU6dmFsdWUsbGluZSxjb2wpOm51bGx9LF9mdW5jdGlvbjpmdW5jdGlvbigpe3ZhciBsdCx0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbSxmdW5jdGlvblRleHQ9bnVsbCxleHByPW51bGw7aWYodG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLkZVTkNUSU9OKSl7aWYoZnVuY3Rpb25UZXh0PXRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUsdGhpcy5fcmVhZFdoaXRlc3BhY2UoKSxleHByPXRoaXMuX2V4cHIoITApLGZ1bmN0aW9uVGV4dCs9ZXhwcix0aGlzLm9wdGlvbnMuaWVGaWx0ZXJzJiZ0b2tlblN0cmVhbS5wZWVrKCk9PVRva2Vucy5FUVVBTFMpZG8gZm9yKHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCkmJihmdW5jdGlvblRleHQrPXRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUpLHRva2VuU3RyZWFtLkxBKDApPT1Ub2tlbnMuQ09NTUEmJihmdW5jdGlvblRleHQrPXRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUpLHRva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5JREVOVCksZnVuY3Rpb25UZXh0Kz10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlLHRva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5FUVVBTFMpLGZ1bmN0aW9uVGV4dCs9dG9rZW5TdHJlYW0udG9rZW4oKS52YWx1ZSxsdD10b2tlblN0cmVhbS5wZWVrKCk7bHQhPVRva2Vucy5DT01NQSYmbHQhPVRva2Vucy5TJiZsdCE9VG9rZW5zLlJQQVJFTjspdG9rZW5TdHJlYW0uZ2V0KCksZnVuY3Rpb25UZXh0Kz10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlLGx0PXRva2VuU3RyZWFtLnBlZWsoKTt3aGlsZSh0b2tlblN0cmVhbS5tYXRjaChbVG9rZW5zLkNPTU1BLFRva2Vucy5TXSkpO3Rva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5SUEFSRU4pLGZ1bmN0aW9uVGV4dCs9XFxcIilcXFwiLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCl9cmV0dXJuIGZ1bmN0aW9uVGV4dH0sX2llX2Z1bmN0aW9uOmZ1bmN0aW9uKCl7dmFyIGx0LHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLGZ1bmN0aW9uVGV4dD1udWxsO2lmKHRva2VuU3RyZWFtLm1hdGNoKFtUb2tlbnMuSUVfRlVOQ1RJT04sVG9rZW5zLkZVTkNUSU9OXSkpe2Z1bmN0aW9uVGV4dD10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlO2RvIGZvcih0aGlzLl9yZWFkV2hpdGVzcGFjZSgpJiYoZnVuY3Rpb25UZXh0Kz10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlKSx0b2tlblN0cmVhbS5MQSgwKT09VG9rZW5zLkNPTU1BJiYoZnVuY3Rpb25UZXh0Kz10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlKSx0b2tlblN0cmVhbS5tYXRjaChUb2tlbnMuSURFTlQpLGZ1bmN0aW9uVGV4dCs9dG9rZW5TdHJlYW0udG9rZW4oKS52YWx1ZSx0b2tlblN0cmVhbS5tYXRjaChUb2tlbnMuRVFVQUxTKSxmdW5jdGlvblRleHQrPXRva2VuU3RyZWFtLnRva2VuKCkudmFsdWUsbHQ9dG9rZW5TdHJlYW0ucGVlaygpO2x0IT1Ub2tlbnMuQ09NTUEmJmx0IT1Ub2tlbnMuUyYmbHQhPVRva2Vucy5SUEFSRU47KXRva2VuU3RyZWFtLmdldCgpLGZ1bmN0aW9uVGV4dCs9dG9rZW5TdHJlYW0udG9rZW4oKS52YWx1ZSxsdD10b2tlblN0cmVhbS5wZWVrKCk7d2hpbGUodG9rZW5TdHJlYW0ubWF0Y2goW1Rva2Vucy5DT01NQSxUb2tlbnMuU10pKTt0b2tlblN0cmVhbS5tYXRjaChUb2tlbnMuUlBBUkVOKSxmdW5jdGlvblRleHQrPVxcXCIpXFxcIix0aGlzLl9yZWFkV2hpdGVzcGFjZSgpfXJldHVybiBmdW5jdGlvblRleHR9LF9oZXhjb2xvcjpmdW5jdGlvbigpe3ZhciBjb2xvcix0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbSx0b2tlbj1udWxsO2lmKHRva2VuU3RyZWFtLm1hdGNoKFRva2Vucy5IQVNIKSl7aWYodG9rZW49dG9rZW5TdHJlYW0udG9rZW4oKSxjb2xvcj10b2tlbi52YWx1ZSwhLyNbYS1mMC05XXszLDZ9L2kudGVzdChjb2xvcikpdGhyb3cgbmV3IFN5bnRheEVycm9yKFxcXCJFeHBlY3RlZCBhIGhleCBjb2xvciBidXQgZm91bmQgJ1xcXCIrY29sb3IrXFxcIicgYXQgbGluZSBcXFwiK3Rva2VuLnN0YXJ0TGluZStcXFwiLCBjb2wgXFxcIit0b2tlbi5zdGFydENvbCtcXFwiLlxcXCIsdG9rZW4uc3RhcnRMaW5lLHRva2VuLnN0YXJ0Q29sKTt0aGlzLl9yZWFkV2hpdGVzcGFjZSgpfXJldHVybiB0b2tlbn0sX2tleWZyYW1lczpmdW5jdGlvbigpe3ZhciB0b2tlbix0dCxuYW1lLHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtLHByZWZpeD1cXFwiXFxcIjtmb3IodG9rZW5TdHJlYW0ubXVzdE1hdGNoKFRva2Vucy5LRVlGUkFNRVNfU1lNKSx0b2tlbj10b2tlblN0cmVhbS50b2tlbigpLC9eQFxcXFwtKFteXFxcXC1dKylcXFxcLS8udGVzdCh0b2tlbi52YWx1ZSkmJihwcmVmaXg9UmVnRXhwLiQxKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLG5hbWU9dGhpcy5fa2V5ZnJhbWVfbmFtZSgpLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksdG9rZW5TdHJlYW0ubXVzdE1hdGNoKFRva2Vucy5MQlJBQ0UpLHRoaXMuZmlyZSh7dHlwZTpcXFwic3RhcnRrZXlmcmFtZXNcXFwiLG5hbWU6bmFtZSxwcmVmaXg6cHJlZml4LGxpbmU6dG9rZW4uc3RhcnRMaW5lLGNvbDp0b2tlbi5zdGFydENvbH0pLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksdHQ9dG9rZW5TdHJlYW0ucGVlaygpO3R0PT1Ub2tlbnMuSURFTlR8fHR0PT1Ub2tlbnMuUEVSQ0VOVEFHRTspdGhpcy5fa2V5ZnJhbWVfcnVsZSgpLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksdHQ9dG9rZW5TdHJlYW0ucGVlaygpO3RoaXMuZmlyZSh7dHlwZTpcXFwiZW5ka2V5ZnJhbWVzXFxcIixuYW1lOm5hbWUscHJlZml4OnByZWZpeCxsaW5lOnRva2VuLnN0YXJ0TGluZSxjb2w6dG9rZW4uc3RhcnRDb2x9KSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRva2VuU3RyZWFtLm11c3RNYXRjaChUb2tlbnMuUkJSQUNFKX0sX2tleWZyYW1lX25hbWU6ZnVuY3Rpb24oKXt2YXIgdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW07cmV0dXJuIHRva2VuU3RyZWFtLm11c3RNYXRjaChbVG9rZW5zLklERU5ULFRva2Vucy5TVFJJTkddKSxTeW50YXhVbml0LmZyb21Ub2tlbih0b2tlblN0cmVhbS50b2tlbigpKX0sX2tleWZyYW1lX3J1bGU6ZnVuY3Rpb24oKXt2YXIga2V5TGlzdD0odGhpcy5fdG9rZW5TdHJlYW0sdGhpcy5fa2V5X2xpc3QoKSk7dGhpcy5maXJlKHt0eXBlOlxcXCJzdGFydGtleWZyYW1lcnVsZVxcXCIsa2V5czprZXlMaXN0LGxpbmU6a2V5TGlzdFswXS5saW5lLGNvbDprZXlMaXN0WzBdLmNvbH0pLHRoaXMuX3JlYWREZWNsYXJhdGlvbnMoITApLHRoaXMuZmlyZSh7dHlwZTpcXFwiZW5ka2V5ZnJhbWVydWxlXFxcIixrZXlzOmtleUxpc3QsbGluZTprZXlMaXN0WzBdLmxpbmUsY29sOmtleUxpc3RbMF0uY29sfSl9LF9rZXlfbGlzdDpmdW5jdGlvbigpe3ZhciB0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbSxrZXlMaXN0PVtdO2ZvcihrZXlMaXN0LnB1c2godGhpcy5fa2V5KCkpLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCk7dG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLkNPTU1BKTspdGhpcy5fcmVhZFdoaXRlc3BhY2UoKSxrZXlMaXN0LnB1c2godGhpcy5fa2V5KCkpLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCk7cmV0dXJuIGtleUxpc3R9LF9rZXk6ZnVuY3Rpb24oKXt2YXIgdG9rZW4sdG9rZW5TdHJlYW09dGhpcy5fdG9rZW5TdHJlYW07aWYodG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLlBFUkNFTlRBR0UpKXJldHVybiBTeW50YXhVbml0LmZyb21Ub2tlbih0b2tlblN0cmVhbS50b2tlbigpKTtpZih0b2tlblN0cmVhbS5tYXRjaChUb2tlbnMuSURFTlQpKXtpZih0b2tlbj10b2tlblN0cmVhbS50b2tlbigpLC9mcm9tfHRvL2kudGVzdCh0b2tlbi52YWx1ZSkpcmV0dXJuIFN5bnRheFVuaXQuZnJvbVRva2VuKHRva2VuKTt0b2tlblN0cmVhbS51bmdldCgpfXRoaXMuX3VuZXhwZWN0ZWRUb2tlbih0b2tlblN0cmVhbS5MVCgxKSl9LF9za2lwQ3J1ZnQ6ZnVuY3Rpb24oKXtmb3IoO3RoaXMuX3Rva2VuU3RyZWFtLm1hdGNoKFtUb2tlbnMuUyxUb2tlbnMuQ0RPLFRva2Vucy5DRENdKTspO30sX3JlYWREZWNsYXJhdGlvbnM6ZnVuY3Rpb24oY2hlY2tTdGFydCxyZWFkTWFyZ2lucyl7dmFyIHR0LHRva2VuU3RyZWFtPXRoaXMuX3Rva2VuU3RyZWFtO3RoaXMuX3JlYWRXaGl0ZXNwYWNlKCksY2hlY2tTdGFydCYmdG9rZW5TdHJlYW0ubXVzdE1hdGNoKFRva2Vucy5MQlJBQ0UpLHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCk7dHJ5e2Zvcig7Oyl7aWYodG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLlNFTUlDT0xPTil8fHJlYWRNYXJnaW5zJiZ0aGlzLl9tYXJnaW4oKSk7ZWxzZXtpZighdGhpcy5fZGVjbGFyYXRpb24oKSlicmVhaztpZighdG9rZW5TdHJlYW0ubWF0Y2goVG9rZW5zLlNFTUlDT0xPTikpYnJlYWt9dGhpcy5fcmVhZFdoaXRlc3BhY2UoKX10b2tlblN0cmVhbS5tdXN0TWF0Y2goVG9rZW5zLlJCUkFDRSksdGhpcy5fcmVhZFdoaXRlc3BhY2UoKX1jYXRjaChleCl7aWYoIShleCBpbnN0YW5jZW9mIFN5bnRheEVycm9yKXx8dGhpcy5vcHRpb25zLnN0cmljdCl0aHJvdyBleDtpZih0aGlzLmZpcmUoe3R5cGU6XFxcImVycm9yXFxcIixlcnJvcjpleCxtZXNzYWdlOmV4Lm1lc3NhZ2UsbGluZTpleC5saW5lLGNvbDpleC5jb2x9KSx0dD10b2tlblN0cmVhbS5hZHZhbmNlKFtUb2tlbnMuU0VNSUNPTE9OLFRva2Vucy5SQlJBQ0VdKSx0dD09VG9rZW5zLlNFTUlDT0xPTil0aGlzLl9yZWFkRGVjbGFyYXRpb25zKCExLHJlYWRNYXJnaW5zKTtlbHNlIGlmKHR0IT1Ub2tlbnMuUkJSQUNFKXRocm93IGV4fX0sX3JlYWRXaGl0ZXNwYWNlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0b2tlblN0cmVhbT10aGlzLl90b2tlblN0cmVhbSx3cz1cXFwiXFxcIjt0b2tlblN0cmVhbS5tYXRjaChUb2tlbnMuUyk7KXdzKz10b2tlblN0cmVhbS50b2tlbigpLnZhbHVlO3JldHVybiB3c30sX3VuZXhwZWN0ZWRUb2tlbjpmdW5jdGlvbih0b2tlbil7dGhyb3cgbmV3IFN5bnRheEVycm9yKFxcXCJVbmV4cGVjdGVkIHRva2VuICdcXFwiK3Rva2VuLnZhbHVlK1xcXCInIGF0IGxpbmUgXFxcIit0b2tlbi5zdGFydExpbmUrXFxcIiwgY29sIFxcXCIrdG9rZW4uc3RhcnRDb2wrXFxcIi5cXFwiLHRva2VuLnN0YXJ0TGluZSx0b2tlbi5zdGFydENvbCl9LF92ZXJpZnlFbmQ6ZnVuY3Rpb24oKXt0aGlzLl90b2tlblN0cmVhbS5MQSgxKSE9VG9rZW5zLkVPRiYmdGhpcy5fdW5leHBlY3RlZFRva2VuKHRoaXMuX3Rva2VuU3RyZWFtLkxUKDEpKX0sX3ZhbGlkYXRlUHJvcGVydHk6ZnVuY3Rpb24ocHJvcGVydHksdmFsdWUpe1ZhbGlkYXRpb24udmFsaWRhdGUocHJvcGVydHksdmFsdWUpfSxwYXJzZTpmdW5jdGlvbihpbnB1dCl7dGhpcy5fdG9rZW5TdHJlYW09bmV3IFRva2VuU3RyZWFtKGlucHV0LFRva2VucyksdGhpcy5fc3R5bGVzaGVldCgpfSxwYXJzZVN0eWxlU2hlZXQ6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiB0aGlzLnBhcnNlKGlucHV0KX0scGFyc2VNZWRpYVF1ZXJ5OmZ1bmN0aW9uKGlucHV0KXt0aGlzLl90b2tlblN0cmVhbT1uZXcgVG9rZW5TdHJlYW0oaW5wdXQsVG9rZW5zKTt2YXIgcmVzdWx0PXRoaXMuX21lZGlhX3F1ZXJ5KCk7cmV0dXJuIHRoaXMuX3ZlcmlmeUVuZCgpLHJlc3VsdH0scGFyc2VQcm9wZXJ0eVZhbHVlOmZ1bmN0aW9uKGlucHV0KXt0aGlzLl90b2tlblN0cmVhbT1uZXcgVG9rZW5TdHJlYW0oaW5wdXQsVG9rZW5zKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpO3ZhciByZXN1bHQ9dGhpcy5fZXhwcigpO3JldHVybiB0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRoaXMuX3ZlcmlmeUVuZCgpLHJlc3VsdH0scGFyc2VSdWxlOmZ1bmN0aW9uKGlucHV0KXt0aGlzLl90b2tlblN0cmVhbT1uZXcgVG9rZW5TdHJlYW0oaW5wdXQsVG9rZW5zKSx0aGlzLl9yZWFkV2hpdGVzcGFjZSgpO3ZhciByZXN1bHQ9dGhpcy5fcnVsZXNldCgpO3JldHVybiB0aGlzLl9yZWFkV2hpdGVzcGFjZSgpLHRoaXMuX3ZlcmlmeUVuZCgpLHJlc3VsdH0scGFyc2VTZWxlY3RvcjpmdW5jdGlvbihpbnB1dCl7dGhpcy5fdG9rZW5TdHJlYW09bmV3IFRva2VuU3RyZWFtKGlucHV0LFRva2VucyksdGhpcy5fcmVhZFdoaXRlc3BhY2UoKTt2YXIgcmVzdWx0PXRoaXMuX3NlbGVjdG9yKCk7cmV0dXJuIHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCksdGhpcy5fdmVyaWZ5RW5kKCkscmVzdWx0fSxwYXJzZVN0eWxlQXR0cmlidXRlOmZ1bmN0aW9uKGlucHV0KXtpbnB1dCs9XFxcIn1cXFwiLHRoaXMuX3Rva2VuU3RyZWFtPW5ldyBUb2tlblN0cmVhbShpbnB1dCxUb2tlbnMpLHRoaXMuX3JlYWREZWNsYXJhdGlvbnMoKX19O2Zvcihwcm9wIGluIGFkZGl0aW9ucylhZGRpdGlvbnMuaGFzT3duUHJvcGVydHkocHJvcCkmJihwcm90b1twcm9wXT1hZGRpdGlvbnNbcHJvcF0pO3JldHVybiBwcm90b30oKTt2YXIgUHJvcGVydGllcz17XFxcImFsaWduLWl0ZW1zXFxcIjpcXFwiZmxleC1zdGFydCB8IGZsZXgtZW5kIHwgY2VudGVyIHwgYmFzZWxpbmUgfCBzdHJldGNoXFxcIixcXFwiYWxpZ24tY29udGVudFxcXCI6XFxcImZsZXgtc3RhcnQgfCBmbGV4LWVuZCB8IGNlbnRlciB8IHNwYWNlLWJldHdlZW4gfCBzcGFjZS1hcm91bmQgfCBzdHJldGNoXFxcIixcXFwiYWxpZ24tc2VsZlxcXCI6XFxcImF1dG8gfCBmbGV4LXN0YXJ0IHwgZmxleC1lbmQgfCBjZW50ZXIgfCBiYXNlbGluZSB8IHN0cmV0Y2hcXFwiLFxcXCItd2Via2l0LWFsaWduLWl0ZW1zXFxcIjpcXFwiZmxleC1zdGFydCB8IGZsZXgtZW5kIHwgY2VudGVyIHwgYmFzZWxpbmUgfCBzdHJldGNoXFxcIixcXFwiLXdlYmtpdC1hbGlnbi1jb250ZW50XFxcIjpcXFwiZmxleC1zdGFydCB8IGZsZXgtZW5kIHwgY2VudGVyIHwgc3BhY2UtYmV0d2VlbiB8IHNwYWNlLWFyb3VuZCB8IHN0cmV0Y2hcXFwiLFxcXCItd2Via2l0LWFsaWduLXNlbGZcXFwiOlxcXCJhdXRvIHwgZmxleC1zdGFydCB8IGZsZXgtZW5kIHwgY2VudGVyIHwgYmFzZWxpbmUgfCBzdHJldGNoXFxcIixcXFwiYWxpZ25tZW50LWFkanVzdFxcXCI6XFxcImF1dG8gfCBiYXNlbGluZSB8IGJlZm9yZS1lZGdlIHwgdGV4dC1iZWZvcmUtZWRnZSB8IG1pZGRsZSB8IGNlbnRyYWwgfCBhZnRlci1lZGdlIHwgdGV4dC1hZnRlci1lZGdlIHwgaWRlb2dyYXBoaWMgfCBhbHBoYWJldGljIHwgaGFuZ2luZyB8IG1hdGhlbWF0aWNhbCB8IDxwZXJjZW50YWdlPiB8IDxsZW5ndGg+XFxcIixcXFwiYWxpZ25tZW50LWJhc2VsaW5lXFxcIjpcXFwiYmFzZWxpbmUgfCB1c2Utc2NyaXB0IHwgYmVmb3JlLWVkZ2UgfCB0ZXh0LWJlZm9yZS1lZGdlIHwgYWZ0ZXItZWRnZSB8IHRleHQtYWZ0ZXItZWRnZSB8IGNlbnRyYWwgfCBtaWRkbGUgfCBpZGVvZ3JhcGhpYyB8IGFscGhhYmV0aWMgfCBoYW5naW5nIHwgbWF0aGVtYXRpY2FsXFxcIixhbmltYXRpb246MSxcXFwiYW5pbWF0aW9uLWRlbGF5XFxcIjp7bXVsdGk6XFxcIjx0aW1lPlxcXCIsY29tbWE6ITB9LFxcXCJhbmltYXRpb24tZGlyZWN0aW9uXFxcIjp7bXVsdGk6XFxcIm5vcm1hbCB8IGFsdGVybmF0ZVxcXCIsY29tbWE6ITB9LFxcXCJhbmltYXRpb24tZHVyYXRpb25cXFwiOnttdWx0aTpcXFwiPHRpbWU+XFxcIixjb21tYTohMH0sXFxcImFuaW1hdGlvbi1maWxsLW1vZGVcXFwiOnttdWx0aTpcXFwibm9uZSB8IGZvcndhcmRzIHwgYmFja3dhcmRzIHwgYm90aFxcXCIsY29tbWE6ITB9LFxcXCJhbmltYXRpb24taXRlcmF0aW9uLWNvdW50XFxcIjp7bXVsdGk6XFxcIjxudW1iZXI+IHwgaW5maW5pdGVcXFwiLGNvbW1hOiEwfSxcXFwiYW5pbWF0aW9uLW5hbWVcXFwiOnttdWx0aTpcXFwibm9uZSB8IDxpZGVudD5cXFwiLGNvbW1hOiEwfSxcXFwiYW5pbWF0aW9uLXBsYXktc3RhdGVcXFwiOnttdWx0aTpcXFwicnVubmluZyB8IHBhdXNlZFxcXCIsY29tbWE6ITB9LFxcXCJhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uXFxcIjoxLFxcXCItbW96LWFuaW1hdGlvbi1kZWxheVxcXCI6e211bHRpOlxcXCI8dGltZT5cXFwiLGNvbW1hOiEwfSxcXFwiLW1vei1hbmltYXRpb24tZGlyZWN0aW9uXFxcIjp7bXVsdGk6XFxcIm5vcm1hbCB8IGFsdGVybmF0ZVxcXCIsY29tbWE6ITB9LFxcXCItbW96LWFuaW1hdGlvbi1kdXJhdGlvblxcXCI6e211bHRpOlxcXCI8dGltZT5cXFwiLGNvbW1hOiEwfSxcXFwiLW1vei1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50XFxcIjp7bXVsdGk6XFxcIjxudW1iZXI+IHwgaW5maW5pdGVcXFwiLGNvbW1hOiEwfSxcXFwiLW1vei1hbmltYXRpb24tbmFtZVxcXCI6e211bHRpOlxcXCJub25lIHwgPGlkZW50PlxcXCIsY29tbWE6ITB9LFxcXCItbW96LWFuaW1hdGlvbi1wbGF5LXN0YXRlXFxcIjp7bXVsdGk6XFxcInJ1bm5pbmcgfCBwYXVzZWRcXFwiLGNvbW1hOiEwfSxcXFwiLW1zLWFuaW1hdGlvbi1kZWxheVxcXCI6e211bHRpOlxcXCI8dGltZT5cXFwiLGNvbW1hOiEwfSxcXFwiLW1zLWFuaW1hdGlvbi1kaXJlY3Rpb25cXFwiOnttdWx0aTpcXFwibm9ybWFsIHwgYWx0ZXJuYXRlXFxcIixjb21tYTohMH0sXFxcIi1tcy1hbmltYXRpb24tZHVyYXRpb25cXFwiOnttdWx0aTpcXFwiPHRpbWU+XFxcIixjb21tYTohMH0sXFxcIi1tcy1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50XFxcIjp7bXVsdGk6XFxcIjxudW1iZXI+IHwgaW5maW5pdGVcXFwiLGNvbW1hOiEwfSxcXFwiLW1zLWFuaW1hdGlvbi1uYW1lXFxcIjp7bXVsdGk6XFxcIm5vbmUgfCA8aWRlbnQ+XFxcIixjb21tYTohMH0sXFxcIi1tcy1hbmltYXRpb24tcGxheS1zdGF0ZVxcXCI6e211bHRpOlxcXCJydW5uaW5nIHwgcGF1c2VkXFxcIixjb21tYTohMH0sXFxcIi13ZWJraXQtYW5pbWF0aW9uLWRlbGF5XFxcIjp7bXVsdGk6XFxcIjx0aW1lPlxcXCIsY29tbWE6ITB9LFxcXCItd2Via2l0LWFuaW1hdGlvbi1kaXJlY3Rpb25cXFwiOnttdWx0aTpcXFwibm9ybWFsIHwgYWx0ZXJuYXRlXFxcIixjb21tYTohMH0sXFxcIi13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uXFxcIjp7bXVsdGk6XFxcIjx0aW1lPlxcXCIsY29tbWE6ITB9LFxcXCItd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGVcXFwiOnttdWx0aTpcXFwibm9uZSB8IGZvcndhcmRzIHwgYmFja3dhcmRzIHwgYm90aFxcXCIsY29tbWE6ITB9LFxcXCItd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnRcXFwiOnttdWx0aTpcXFwiPG51bWJlcj4gfCBpbmZpbml0ZVxcXCIsY29tbWE6ITB9LFxcXCItd2Via2l0LWFuaW1hdGlvbi1uYW1lXFxcIjp7bXVsdGk6XFxcIm5vbmUgfCA8aWRlbnQ+XFxcIixjb21tYTohMH0sXFxcIi13ZWJraXQtYW5pbWF0aW9uLXBsYXktc3RhdGVcXFwiOnttdWx0aTpcXFwicnVubmluZyB8IHBhdXNlZFxcXCIsY29tbWE6ITB9LFxcXCItby1hbmltYXRpb24tZGVsYXlcXFwiOnttdWx0aTpcXFwiPHRpbWU+XFxcIixjb21tYTohMH0sXFxcIi1vLWFuaW1hdGlvbi1kaXJlY3Rpb25cXFwiOnttdWx0aTpcXFwibm9ybWFsIHwgYWx0ZXJuYXRlXFxcIixjb21tYTohMH0sXFxcIi1vLWFuaW1hdGlvbi1kdXJhdGlvblxcXCI6e211bHRpOlxcXCI8dGltZT5cXFwiLGNvbW1hOiEwfSxcXFwiLW8tYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudFxcXCI6e211bHRpOlxcXCI8bnVtYmVyPiB8IGluZmluaXRlXFxcIixjb21tYTohMH0sXFxcIi1vLWFuaW1hdGlvbi1uYW1lXFxcIjp7bXVsdGk6XFxcIm5vbmUgfCA8aWRlbnQ+XFxcIixjb21tYTohMH0sXFxcIi1vLWFuaW1hdGlvbi1wbGF5LXN0YXRlXFxcIjp7bXVsdGk6XFxcInJ1bm5pbmcgfCBwYXVzZWRcXFwiLGNvbW1hOiEwfSxhcHBlYXJhbmNlOlxcXCJpY29uIHwgd2luZG93IHwgZGVza3RvcCB8IHdvcmtzcGFjZSB8IGRvY3VtZW50IHwgdG9vbHRpcCB8IGRpYWxvZyB8IGJ1dHRvbiB8IHB1c2gtYnV0dG9uIHwgaHlwZXJsaW5rIHwgcmFkaW8tYnV0dG9uIHwgY2hlY2tib3ggfCBtZW51LWl0ZW0gfCB0YWIgfCBtZW51IHwgbWVudWJhciB8IHB1bGwtZG93bi1tZW51IHwgcG9wLXVwLW1lbnUgfCBsaXN0LW1lbnUgfCByYWRpby1ncm91cCB8IGNoZWNrYm94LWdyb3VwIHwgb3V0bGluZS10cmVlIHwgcmFuZ2UgfCBmaWVsZCB8IGNvbWJvLWJveCB8IHNpZ25hdHVyZSB8IHBhc3N3b3JkIHwgbm9ybWFsIHwgbm9uZSB8IGluaGVyaXRcXFwiLGF6aW11dGg6ZnVuY3Rpb24oZXhwcmVzc2lvbil7dmFyIHBhcnQsc2ltcGxlPVxcXCI8YW5nbGU+IHwgbGVmdHdhcmRzIHwgcmlnaHR3YXJkcyB8IGluaGVyaXRcXFwiLGRpcmVjdGlvbj1cXFwibGVmdC1zaWRlIHwgZmFyLWxlZnQgfCBsZWZ0IHwgY2VudGVyLWxlZnQgfCBjZW50ZXIgfCBjZW50ZXItcmlnaHQgfCByaWdodCB8IGZhci1yaWdodCB8IHJpZ2h0LXNpZGVcXFwiLGJlaGluZD0hMSx2YWxpZD0hMTtpZihWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixzaW1wbGUpfHwoVmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24sXFxcImJlaGluZFxcXCIpJiYoYmVoaW5kPSEwLHZhbGlkPSEwKSxWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixkaXJlY3Rpb24pJiYodmFsaWQ9ITAsYmVoaW5kfHxWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixcXFwiYmVoaW5kXFxcIikpKSxleHByZXNzaW9uLmhhc05leHQoKSl0aHJvdyBwYXJ0PWV4cHJlc3Npb24ubmV4dCgpLHZhbGlkP25ldyBWYWxpZGF0aW9uRXJyb3IoXFxcIkV4cGVjdGVkIGVuZCBvZiB2YWx1ZSBidXQgZm91bmQgJ1xcXCIrcGFydCtcXFwiJy5cXFwiLHBhcnQubGluZSxwYXJ0LmNvbCk6bmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgKDwnYXppbXV0aCc+KSBidXQgZm91bmQgJ1xcXCIrcGFydCtcXFwiJy5cXFwiLHBhcnQubGluZSxwYXJ0LmNvbCl9LFxcXCJiYWNrZmFjZS12aXNpYmlsaXR5XFxcIjpcXFwidmlzaWJsZSB8IGhpZGRlblxcXCIsYmFja2dyb3VuZDoxLFxcXCJiYWNrZ3JvdW5kLWF0dGFjaG1lbnRcXFwiOnttdWx0aTpcXFwiPGF0dGFjaG1lbnQ+XFxcIixjb21tYTohMH0sXFxcImJhY2tncm91bmQtY2xpcFxcXCI6e211bHRpOlxcXCI8Ym94PlxcXCIsY29tbWE6ITB9LFxcXCJiYWNrZ3JvdW5kLWNvbG9yXFxcIjpcXFwiPGNvbG9yPiB8IGluaGVyaXRcXFwiLFxcXCJiYWNrZ3JvdW5kLWltYWdlXFxcIjp7bXVsdGk6XFxcIjxiZy1pbWFnZT5cXFwiLGNvbW1hOiEwfSxcXFwiYmFja2dyb3VuZC1vcmlnaW5cXFwiOnttdWx0aTpcXFwiPGJveD5cXFwiLGNvbW1hOiEwfSxcXFwiYmFja2dyb3VuZC1wb3NpdGlvblxcXCI6e211bHRpOlxcXCI8YmctcG9zaXRpb24+XFxcIixjb21tYTohMH0sXFxcImJhY2tncm91bmQtcmVwZWF0XFxcIjp7bXVsdGk6XFxcIjxyZXBlYXQtc3R5bGU+XFxcIn0sXFxcImJhY2tncm91bmQtc2l6ZVxcXCI6e211bHRpOlxcXCI8Ymctc2l6ZT5cXFwiLGNvbW1hOiEwfSxcXFwiYmFzZWxpbmUtc2hpZnRcXFwiOlxcXCJiYXNlbGluZSB8IHN1YiB8IHN1cGVyIHwgPHBlcmNlbnRhZ2U+IHwgPGxlbmd0aD5cXFwiLGJlaGF2aW9yOjEsYmluZGluZzoxLGJsZWVkOlxcXCI8bGVuZ3RoPlxcXCIsXFxcImJvb2ttYXJrLWxhYmVsXFxcIjpcXFwiPGNvbnRlbnQ+IHwgPGF0dHI+IHwgPHN0cmluZz5cXFwiLFxcXCJib29rbWFyay1sZXZlbFxcXCI6XFxcIm5vbmUgfCA8aW50ZWdlcj5cXFwiLFxcXCJib29rbWFyay1zdGF0ZVxcXCI6XFxcIm9wZW4gfCBjbG9zZWRcXFwiLFxcXCJib29rbWFyay10YXJnZXRcXFwiOlxcXCJub25lIHwgPHVyaT4gfCA8YXR0cj5cXFwiLGJvcmRlcjpcXFwiPGJvcmRlci13aWR0aD4gfHwgPGJvcmRlci1zdHlsZT4gfHwgPGNvbG9yPlxcXCIsXFxcImJvcmRlci1ib3R0b21cXFwiOlxcXCI8Ym9yZGVyLXdpZHRoPiB8fCA8Ym9yZGVyLXN0eWxlPiB8fCA8Y29sb3I+XFxcIixcXFwiYm9yZGVyLWJvdHRvbS1jb2xvclxcXCI6XFxcIjxjb2xvcj4gfCBpbmhlcml0XFxcIixcXFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1xcXCI6XFxcIjx4LW9uZS1yYWRpdXM+XFxcIixcXFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcXFwiOlxcXCI8eC1vbmUtcmFkaXVzPlxcXCIsXFxcImJvcmRlci1ib3R0b20tc3R5bGVcXFwiOlxcXCI8Ym9yZGVyLXN0eWxlPlxcXCIsXFxcImJvcmRlci1ib3R0b20td2lkdGhcXFwiOlxcXCI8Ym9yZGVyLXdpZHRoPlxcXCIsXFxcImJvcmRlci1jb2xsYXBzZVxcXCI6XFxcImNvbGxhcHNlIHwgc2VwYXJhdGUgfCBpbmhlcml0XFxcIixcXFwiYm9yZGVyLWNvbG9yXFxcIjp7bXVsdGk6XFxcIjxjb2xvcj4gfCBpbmhlcml0XFxcIixtYXg6NH0sXFxcImJvcmRlci1pbWFnZVxcXCI6MSxcXFwiYm9yZGVyLWltYWdlLW91dHNldFxcXCI6e211bHRpOlxcXCI8bGVuZ3RoPiB8IDxudW1iZXI+XFxcIixtYXg6NH0sXFxcImJvcmRlci1pbWFnZS1yZXBlYXRcXFwiOnttdWx0aTpcXFwic3RyZXRjaCB8IHJlcGVhdCB8IHJvdW5kXFxcIixtYXg6Mn0sXFxcImJvcmRlci1pbWFnZS1zbGljZVxcXCI6ZnVuY3Rpb24oZXhwcmVzc2lvbil7dmFyIHBhcnQsdmFsaWQ9ITEsbnVtZXJpYz1cXFwiPG51bWJlcj4gfCA8cGVyY2VudGFnZT5cXFwiLGZpbGw9ITEsY291bnQ9MCxtYXg9NDtmb3IoVmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24sXFxcImZpbGxcXFwiKSYmKGZpbGw9ITAsdmFsaWQ9ITApO2V4cHJlc3Npb24uaGFzTmV4dCgpJiZtYXg+Y291bnQmJih2YWxpZD1WYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixudW1lcmljKSk7KWNvdW50Kys7aWYoZmlsbD92YWxpZD0hMDpWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixcXFwiZmlsbFxcXCIpLGV4cHJlc3Npb24uaGFzTmV4dCgpKXRocm93IHBhcnQ9ZXhwcmVzc2lvbi5uZXh0KCksdmFsaWQ/bmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgZW5kIG9mIHZhbHVlIGJ1dCBmb3VuZCAnXFxcIitwYXJ0K1xcXCInLlxcXCIscGFydC5saW5lLHBhcnQuY29sKTpuZXcgVmFsaWRhdGlvbkVycm9yKFxcXCJFeHBlY3RlZCAoWzxudW1iZXI+IHwgPHBlcmNlbnRhZ2U+XXsxLDR9ICYmIGZpbGw/KSBidXQgZm91bmQgJ1xcXCIrcGFydCtcXFwiJy5cXFwiLHBhcnQubGluZSxwYXJ0LmNvbCl9LFxcXCJib3JkZXItaW1hZ2Utc291cmNlXFxcIjpcXFwiPGltYWdlPiB8IG5vbmVcXFwiLFxcXCJib3JkZXItaW1hZ2Utd2lkdGhcXFwiOnttdWx0aTpcXFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCA8bnVtYmVyPiB8IGF1dG9cXFwiLG1heDo0fSxcXFwiYm9yZGVyLWxlZnRcXFwiOlxcXCI8Ym9yZGVyLXdpZHRoPiB8fCA8Ym9yZGVyLXN0eWxlPiB8fCA8Y29sb3I+XFxcIixcXFwiYm9yZGVyLWxlZnQtY29sb3JcXFwiOlxcXCI8Y29sb3I+IHwgaW5oZXJpdFxcXCIsXFxcImJvcmRlci1sZWZ0LXN0eWxlXFxcIjpcXFwiPGJvcmRlci1zdHlsZT5cXFwiLFxcXCJib3JkZXItbGVmdC13aWR0aFxcXCI6XFxcIjxib3JkZXItd2lkdGg+XFxcIixcXFwiYm9yZGVyLXJhZGl1c1xcXCI6ZnVuY3Rpb24oZXhwcmVzc2lvbil7Zm9yKHZhciBwYXJ0LHZhbGlkPSExLHNpbXBsZT1cXFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBpbmhlcml0XFxcIixzbGFzaD0hMSxjb3VudD0wLG1heD04O2V4cHJlc3Npb24uaGFzTmV4dCgpJiZtYXg+Y291bnQ7KXtpZih2YWxpZD1WYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixzaW1wbGUpLCF2YWxpZCl7aWYoIShcXFwiL1xcXCI9PWV4cHJlc3Npb24ucGVlaygpJiZjb3VudD4wKXx8c2xhc2gpYnJlYWs7c2xhc2g9ITAsbWF4PWNvdW50KzUsZXhwcmVzc2lvbi5uZXh0KCl9Y291bnQrK31pZihleHByZXNzaW9uLmhhc05leHQoKSl0aHJvdyBwYXJ0PWV4cHJlc3Npb24ubmV4dCgpLHZhbGlkP25ldyBWYWxpZGF0aW9uRXJyb3IoXFxcIkV4cGVjdGVkIGVuZCBvZiB2YWx1ZSBidXQgZm91bmQgJ1xcXCIrcGFydCtcXFwiJy5cXFwiLHBhcnQubGluZSxwYXJ0LmNvbCk6bmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgKDwnYm9yZGVyLXJhZGl1cyc+KSBidXQgZm91bmQgJ1xcXCIrcGFydCtcXFwiJy5cXFwiLHBhcnQubGluZSxwYXJ0LmNvbCl9LFxcXCJib3JkZXItcmlnaHRcXFwiOlxcXCI8Ym9yZGVyLXdpZHRoPiB8fCA8Ym9yZGVyLXN0eWxlPiB8fCA8Y29sb3I+XFxcIixcXFwiYm9yZGVyLXJpZ2h0LWNvbG9yXFxcIjpcXFwiPGNvbG9yPiB8IGluaGVyaXRcXFwiLFxcXCJib3JkZXItcmlnaHQtc3R5bGVcXFwiOlxcXCI8Ym9yZGVyLXN0eWxlPlxcXCIsXFxcImJvcmRlci1yaWdodC13aWR0aFxcXCI6XFxcIjxib3JkZXItd2lkdGg+XFxcIixcXFwiYm9yZGVyLXNwYWNpbmdcXFwiOnttdWx0aTpcXFwiPGxlbmd0aD4gfCBpbmhlcml0XFxcIixtYXg6Mn0sXFxcImJvcmRlci1zdHlsZVxcXCI6e211bHRpOlxcXCI8Ym9yZGVyLXN0eWxlPlxcXCIsbWF4OjR9LFxcXCJib3JkZXItdG9wXFxcIjpcXFwiPGJvcmRlci13aWR0aD4gfHwgPGJvcmRlci1zdHlsZT4gfHwgPGNvbG9yPlxcXCIsXFxcImJvcmRlci10b3AtY29sb3JcXFwiOlxcXCI8Y29sb3I+IHwgaW5oZXJpdFxcXCIsXFxcImJvcmRlci10b3AtbGVmdC1yYWRpdXNcXFwiOlxcXCI8eC1vbmUtcmFkaXVzPlxcXCIsXFxcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXFxcIjpcXFwiPHgtb25lLXJhZGl1cz5cXFwiLFxcXCJib3JkZXItdG9wLXN0eWxlXFxcIjpcXFwiPGJvcmRlci1zdHlsZT5cXFwiLFxcXCJib3JkZXItdG9wLXdpZHRoXFxcIjpcXFwiPGJvcmRlci13aWR0aD5cXFwiLFxcXCJib3JkZXItd2lkdGhcXFwiOnttdWx0aTpcXFwiPGJvcmRlci13aWR0aD5cXFwiLG1heDo0fSxib3R0b206XFxcIjxtYXJnaW4td2lkdGg+IHwgaW5oZXJpdFxcXCIsXFxcIi1tb3otYm94LWFsaWduXFxcIjpcXFwic3RhcnQgfCBlbmQgfCBjZW50ZXIgfCBiYXNlbGluZSB8IHN0cmV0Y2hcXFwiLFxcXCItbW96LWJveC1kZWNvcmF0aW9uLWJyZWFrXFxcIjpcXFwic2xpY2UgfGNsb25lXFxcIixcXFwiLW1vei1ib3gtZGlyZWN0aW9uXFxcIjpcXFwibm9ybWFsIHwgcmV2ZXJzZSB8IGluaGVyaXRcXFwiLFxcXCItbW96LWJveC1mbGV4XFxcIjpcXFwiPG51bWJlcj5cXFwiLFxcXCItbW96LWJveC1mbGV4LWdyb3VwXFxcIjpcXFwiPGludGVnZXI+XFxcIixcXFwiLW1vei1ib3gtbGluZXNcXFwiOlxcXCJzaW5nbGUgfCBtdWx0aXBsZVxcXCIsXFxcIi1tb3otYm94LW9yZGluYWwtZ3JvdXBcXFwiOlxcXCI8aW50ZWdlcj5cXFwiLFxcXCItbW96LWJveC1vcmllbnRcXFwiOlxcXCJob3Jpem9udGFsIHwgdmVydGljYWwgfCBpbmxpbmUtYXhpcyB8IGJsb2NrLWF4aXMgfCBpbmhlcml0XFxcIixcXFwiLW1vei1ib3gtcGFja1xcXCI6XFxcInN0YXJ0IHwgZW5kIHwgY2VudGVyIHwganVzdGlmeVxcXCIsXFxcIi13ZWJraXQtYm94LWFsaWduXFxcIjpcXFwic3RhcnQgfCBlbmQgfCBjZW50ZXIgfCBiYXNlbGluZSB8IHN0cmV0Y2hcXFwiLFxcXCItd2Via2l0LWJveC1kZWNvcmF0aW9uLWJyZWFrXFxcIjpcXFwic2xpY2UgfGNsb25lXFxcIixcXFwiLXdlYmtpdC1ib3gtZGlyZWN0aW9uXFxcIjpcXFwibm9ybWFsIHwgcmV2ZXJzZSB8IGluaGVyaXRcXFwiLFxcXCItd2Via2l0LWJveC1mbGV4XFxcIjpcXFwiPG51bWJlcj5cXFwiLFxcXCItd2Via2l0LWJveC1mbGV4LWdyb3VwXFxcIjpcXFwiPGludGVnZXI+XFxcIixcXFwiLXdlYmtpdC1ib3gtbGluZXNcXFwiOlxcXCJzaW5nbGUgfCBtdWx0aXBsZVxcXCIsXFxcIi13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXBcXFwiOlxcXCI8aW50ZWdlcj5cXFwiLFxcXCItd2Via2l0LWJveC1vcmllbnRcXFwiOlxcXCJob3Jpem9udGFsIHwgdmVydGljYWwgfCBpbmxpbmUtYXhpcyB8IGJsb2NrLWF4aXMgfCBpbmhlcml0XFxcIixcXFwiLXdlYmtpdC1ib3gtcGFja1xcXCI6XFxcInN0YXJ0IHwgZW5kIHwgY2VudGVyIHwganVzdGlmeVxcXCIsXFxcImJveC1zaGFkb3dcXFwiOmZ1bmN0aW9uKGV4cHJlc3Npb24pe3ZhciBwYXJ0O2lmKFZhbGlkYXRpb25UeXBlcy5pc0FueShleHByZXNzaW9uLFxcXCJub25lXFxcIikpe2lmKGV4cHJlc3Npb24uaGFzTmV4dCgpKXRocm93IHBhcnQ9ZXhwcmVzc2lvbi5uZXh0KCksbmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgZW5kIG9mIHZhbHVlIGJ1dCBmb3VuZCAnXFxcIitwYXJ0K1xcXCInLlxcXCIscGFydC5saW5lLHBhcnQuY29sKX1lbHNlIFZhbGlkYXRpb24ubXVsdGlQcm9wZXJ0eShcXFwiPHNoYWRvdz5cXFwiLGV4cHJlc3Npb24sITAsMS8wKX0sXFxcImJveC1zaXppbmdcXFwiOlxcXCJjb250ZW50LWJveCB8IGJvcmRlci1ib3ggfCBpbmhlcml0XFxcIixcXFwiYnJlYWstYWZ0ZXJcXFwiOlxcXCJhdXRvIHwgYWx3YXlzIHwgYXZvaWQgfCBsZWZ0IHwgcmlnaHQgfCBwYWdlIHwgY29sdW1uIHwgYXZvaWQtcGFnZSB8IGF2b2lkLWNvbHVtblxcXCIsXFxcImJyZWFrLWJlZm9yZVxcXCI6XFxcImF1dG8gfCBhbHdheXMgfCBhdm9pZCB8IGxlZnQgfCByaWdodCB8IHBhZ2UgfCBjb2x1bW4gfCBhdm9pZC1wYWdlIHwgYXZvaWQtY29sdW1uXFxcIixcXFwiYnJlYWstaW5zaWRlXFxcIjpcXFwiYXV0byB8IGF2b2lkIHwgYXZvaWQtcGFnZSB8IGF2b2lkLWNvbHVtblxcXCIsXFxcImNhcHRpb24tc2lkZVxcXCI6XFxcInRvcCB8IGJvdHRvbSB8IGluaGVyaXRcXFwiLGNsZWFyOlxcXCJub25lIHwgcmlnaHQgfCBsZWZ0IHwgYm90aCB8IGluaGVyaXRcXFwiLGNsaXA6MSxjb2xvcjpcXFwiPGNvbG9yPiB8IGluaGVyaXRcXFwiLFxcXCJjb2xvci1wcm9maWxlXFxcIjoxLFxcXCJjb2x1bW4tY291bnRcXFwiOlxcXCI8aW50ZWdlcj4gfCBhdXRvXFxcIixcXFwiY29sdW1uLWZpbGxcXFwiOlxcXCJhdXRvIHwgYmFsYW5jZVxcXCIsXFxcImNvbHVtbi1nYXBcXFwiOlxcXCI8bGVuZ3RoPiB8IG5vcm1hbFxcXCIsXFxcImNvbHVtbi1ydWxlXFxcIjpcXFwiPGJvcmRlci13aWR0aD4gfHwgPGJvcmRlci1zdHlsZT4gfHwgPGNvbG9yPlxcXCIsXFxcImNvbHVtbi1ydWxlLWNvbG9yXFxcIjpcXFwiPGNvbG9yPlxcXCIsXFxcImNvbHVtbi1ydWxlLXN0eWxlXFxcIjpcXFwiPGJvcmRlci1zdHlsZT5cXFwiLFxcXCJjb2x1bW4tcnVsZS13aWR0aFxcXCI6XFxcIjxib3JkZXItd2lkdGg+XFxcIixcXFwiY29sdW1uLXNwYW5cXFwiOlxcXCJub25lIHwgYWxsXFxcIixcXFwiY29sdW1uLXdpZHRoXFxcIjpcXFwiPGxlbmd0aD4gfCBhdXRvXFxcIixjb2x1bW5zOjEsY29udGVudDoxLFxcXCJjb3VudGVyLWluY3JlbWVudFxcXCI6MSxcXFwiY291bnRlci1yZXNldFxcXCI6MSxjcm9wOlxcXCI8c2hhcGU+IHwgYXV0b1xcXCIsY3VlOlxcXCJjdWUtYWZ0ZXIgfCBjdWUtYmVmb3JlIHwgaW5oZXJpdFxcXCIsXFxcImN1ZS1hZnRlclxcXCI6MSxcXFwiY3VlLWJlZm9yZVxcXCI6MSxjdXJzb3I6MSxkaXJlY3Rpb246XFxcImx0ciB8IHJ0bCB8IGluaGVyaXRcXFwiLGRpc3BsYXk6XFxcImlubGluZSB8IGJsb2NrIHwgbGlzdC1pdGVtIHwgaW5saW5lLWJsb2NrIHwgdGFibGUgfCBpbmxpbmUtdGFibGUgfCB0YWJsZS1yb3ctZ3JvdXAgfCB0YWJsZS1oZWFkZXItZ3JvdXAgfCB0YWJsZS1mb290ZXItZ3JvdXAgfCB0YWJsZS1yb3cgfCB0YWJsZS1jb2x1bW4tZ3JvdXAgfCB0YWJsZS1jb2x1bW4gfCB0YWJsZS1jZWxsIHwgdGFibGUtY2FwdGlvbiB8IGdyaWQgfCBpbmxpbmUtZ3JpZCB8IG5vbmUgfCBpbmhlcml0IHwgLW1vei1ib3ggfCAtbW96LWlubGluZS1ibG9jayB8IC1tb3otaW5saW5lLWJveCB8IC1tb3otaW5saW5lLWdyaWQgfCAtbW96LWlubGluZS1zdGFjayB8IC1tb3otaW5saW5lLXRhYmxlIHwgLW1vei1ncmlkIHwgLW1vei1ncmlkLWdyb3VwIHwgLW1vei1ncmlkLWxpbmUgfCAtbW96LWdyb3VwYm94IHwgLW1vei1kZWNrIHwgLW1vei1wb3B1cCB8IC1tb3otc3RhY2sgfCAtbW96LW1hcmtlciB8IC13ZWJraXQtYm94IHwgLXdlYmtpdC1pbmxpbmUtYm94IHwgLW1zLWZsZXhib3ggfCAtbXMtaW5saW5lLWZsZXhib3ggfCBmbGV4IHwgLXdlYmtpdC1mbGV4IHwgaW5saW5lLWZsZXggfCAtd2Via2l0LWlubGluZS1mbGV4XFxcIixcXFwiZG9taW5hbnQtYmFzZWxpbmVcXFwiOjEsXFxcImRyb3AtaW5pdGlhbC1hZnRlci1hZGp1c3RcXFwiOlxcXCJjZW50cmFsIHwgbWlkZGxlIHwgYWZ0ZXItZWRnZSB8IHRleHQtYWZ0ZXItZWRnZSB8IGlkZW9ncmFwaGljIHwgYWxwaGFiZXRpYyB8IG1hdGhlbWF0aWNhbCB8IDxwZXJjZW50YWdlPiB8IDxsZW5ndGg+XFxcIixcXFwiZHJvcC1pbml0aWFsLWFmdGVyLWFsaWduXFxcIjpcXFwiYmFzZWxpbmUgfCB1c2Utc2NyaXB0IHwgYmVmb3JlLWVkZ2UgfCB0ZXh0LWJlZm9yZS1lZGdlIHwgYWZ0ZXItZWRnZSB8IHRleHQtYWZ0ZXItZWRnZSB8IGNlbnRyYWwgfCBtaWRkbGUgfCBpZGVvZ3JhcGhpYyB8IGFscGhhYmV0aWMgfCBoYW5naW5nIHwgbWF0aGVtYXRpY2FsXFxcIixcXFwiZHJvcC1pbml0aWFsLWJlZm9yZS1hZGp1c3RcXFwiOlxcXCJiZWZvcmUtZWRnZSB8IHRleHQtYmVmb3JlLWVkZ2UgfCBjZW50cmFsIHwgbWlkZGxlIHwgaGFuZ2luZyB8IG1hdGhlbWF0aWNhbCB8IDxwZXJjZW50YWdlPiB8IDxsZW5ndGg+XFxcIixcXFwiZHJvcC1pbml0aWFsLWJlZm9yZS1hbGlnblxcXCI6XFxcImNhcHMtaGVpZ2h0IHwgYmFzZWxpbmUgfCB1c2Utc2NyaXB0IHwgYmVmb3JlLWVkZ2UgfCB0ZXh0LWJlZm9yZS1lZGdlIHwgYWZ0ZXItZWRnZSB8IHRleHQtYWZ0ZXItZWRnZSB8IGNlbnRyYWwgfCBtaWRkbGUgfCBpZGVvZ3JhcGhpYyB8IGFscGhhYmV0aWMgfCBoYW5naW5nIHwgbWF0aGVtYXRpY2FsXFxcIixcXFwiZHJvcC1pbml0aWFsLXNpemVcXFwiOlxcXCJhdXRvIHwgbGluZSB8IDxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+XFxcIixcXFwiZHJvcC1pbml0aWFsLXZhbHVlXFxcIjpcXFwiaW5pdGlhbCB8IDxpbnRlZ2VyPlxcXCIsZWxldmF0aW9uOlxcXCI8YW5nbGU+IHwgYmVsb3cgfCBsZXZlbCB8IGFib3ZlIHwgaGlnaGVyIHwgbG93ZXIgfCBpbmhlcml0XFxcIixcXFwiZW1wdHktY2VsbHNcXFwiOlxcXCJzaG93IHwgaGlkZSB8IGluaGVyaXRcXFwiLGZpbHRlcjoxLGZpdDpcXFwiZmlsbCB8IGhpZGRlbiB8IG1lZXQgfCBzbGljZVxcXCIsXFxcImZpdC1wb3NpdGlvblxcXCI6MSxmbGV4OlxcXCI8ZmxleD5cXFwiLFxcXCJmbGV4LWJhc2lzXFxcIjpcXFwiPHdpZHRoPlxcXCIsXFxcImZsZXgtZGlyZWN0aW9uXFxcIjpcXFwicm93IHwgcm93LXJldmVyc2UgfCBjb2x1bW4gfCBjb2x1bW4tcmV2ZXJzZVxcXCIsXFxcImZsZXgtZmxvd1xcXCI6XFxcIjxmbGV4LWRpcmVjdGlvbj4gfHwgPGZsZXgtd3JhcD5cXFwiLFxcXCJmbGV4LWdyb3dcXFwiOlxcXCI8bnVtYmVyPlxcXCIsXFxcImZsZXgtc2hyaW5rXFxcIjpcXFwiPG51bWJlcj5cXFwiLFxcXCJmbGV4LXdyYXBcXFwiOlxcXCJub3dyYXAgfCB3cmFwIHwgd3JhcC1yZXZlcnNlXFxcIixcXFwiLXdlYmtpdC1mbGV4XFxcIjpcXFwiPGZsZXg+XFxcIixcXFwiLXdlYmtpdC1mbGV4LWJhc2lzXFxcIjpcXFwiPHdpZHRoPlxcXCIsXFxcIi13ZWJraXQtZmxleC1kaXJlY3Rpb25cXFwiOlxcXCJyb3cgfCByb3ctcmV2ZXJzZSB8IGNvbHVtbiB8IGNvbHVtbi1yZXZlcnNlXFxcIixcXFwiLXdlYmtpdC1mbGV4LWZsb3dcXFwiOlxcXCI8ZmxleC1kaXJlY3Rpb24+IHx8IDxmbGV4LXdyYXA+XFxcIixcXFwiLXdlYmtpdC1mbGV4LWdyb3dcXFwiOlxcXCI8bnVtYmVyPlxcXCIsXFxcIi13ZWJraXQtZmxleC1zaHJpbmtcXFwiOlxcXCI8bnVtYmVyPlxcXCIsXFxcIi13ZWJraXQtZmxleC13cmFwXFxcIjpcXFwibm93cmFwIHwgd3JhcCB8IHdyYXAtcmV2ZXJzZVxcXCIsXFxcIi1tcy1mbGV4XFxcIjpcXFwiPGZsZXg+XFxcIixcXFwiLW1zLWZsZXgtYWxpZ25cXFwiOlxcXCJzdGFydCB8IGVuZCB8IGNlbnRlciB8IHN0cmV0Y2ggfCBiYXNlbGluZVxcXCIsXFxcIi1tcy1mbGV4LWRpcmVjdGlvblxcXCI6XFxcInJvdyB8IHJvdy1yZXZlcnNlIHwgY29sdW1uIHwgY29sdW1uLXJldmVyc2UgfCBpbmhlcml0XFxcIixcXFwiLW1zLWZsZXgtb3JkZXJcXFwiOlxcXCI8bnVtYmVyPlxcXCIsXFxcIi1tcy1mbGV4LXBhY2tcXFwiOlxcXCJzdGFydCB8IGVuZCB8IGNlbnRlciB8IGp1c3RpZnlcXFwiLFxcXCItbXMtZmxleC13cmFwXFxcIjpcXFwibm93cmFwIHwgd3JhcCB8IHdyYXAtcmV2ZXJzZVxcXCIsXFxcImZsb2F0XFxcIjpcXFwibGVmdCB8IHJpZ2h0IHwgbm9uZSB8IGluaGVyaXRcXFwiLFxcXCJmbG9hdC1vZmZzZXRcXFwiOjEsZm9udDoxLFxcXCJmb250LWZhbWlseVxcXCI6MSxcXFwiZm9udC1zaXplXFxcIjpcXFwiPGFic29sdXRlLXNpemU+IHwgPHJlbGF0aXZlLXNpemU+IHwgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBpbmhlcml0XFxcIixcXFwiZm9udC1zaXplLWFkanVzdFxcXCI6XFxcIjxudW1iZXI+IHwgbm9uZSB8IGluaGVyaXRcXFwiLFxcXCJmb250LXN0cmV0Y2hcXFwiOlxcXCJub3JtYWwgfCB1bHRyYS1jb25kZW5zZWQgfCBleHRyYS1jb25kZW5zZWQgfCBjb25kZW5zZWQgfCBzZW1pLWNvbmRlbnNlZCB8IHNlbWktZXhwYW5kZWQgfCBleHBhbmRlZCB8IGV4dHJhLWV4cGFuZGVkIHwgdWx0cmEtZXhwYW5kZWQgfCBpbmhlcml0XFxcIixcXFwiZm9udC1zdHlsZVxcXCI6XFxcIm5vcm1hbCB8IGl0YWxpYyB8IG9ibGlxdWUgfCBpbmhlcml0XFxcIixcXFwiZm9udC12YXJpYW50XFxcIjpcXFwibm9ybWFsIHwgc21hbGwtY2FwcyB8IGluaGVyaXRcXFwiLFxcXCJmb250LXdlaWdodFxcXCI6XFxcIm5vcm1hbCB8IGJvbGQgfCBib2xkZXIgfCBsaWdodGVyIHwgMTAwIHwgMjAwIHwgMzAwIHwgNDAwIHwgNTAwIHwgNjAwIHwgNzAwIHwgODAwIHwgOTAwIHwgaW5oZXJpdFxcXCIsXFxcImdyaWQtY2VsbC1zdGFja2luZ1xcXCI6XFxcImNvbHVtbnMgfCByb3dzIHwgbGF5ZXJcXFwiLFxcXCJncmlkLWNvbHVtblxcXCI6MSxcXFwiZ3JpZC1jb2x1bW5zXFxcIjoxLFxcXCJncmlkLWNvbHVtbi1hbGlnblxcXCI6XFxcInN0YXJ0IHwgZW5kIHwgY2VudGVyIHwgc3RyZXRjaFxcXCIsXFxcImdyaWQtY29sdW1uLXNpemluZ1xcXCI6MSxcXFwiZ3JpZC1jb2x1bW4tc3BhblxcXCI6XFxcIjxpbnRlZ2VyPlxcXCIsXFxcImdyaWQtZmxvd1xcXCI6XFxcIm5vbmUgfCByb3dzIHwgY29sdW1uc1xcXCIsXFxcImdyaWQtbGF5ZXJcXFwiOlxcXCI8aW50ZWdlcj5cXFwiLFxcXCJncmlkLXJvd1xcXCI6MSxcXFwiZ3JpZC1yb3dzXFxcIjoxLFxcXCJncmlkLXJvdy1hbGlnblxcXCI6XFxcInN0YXJ0IHwgZW5kIHwgY2VudGVyIHwgc3RyZXRjaFxcXCIsXFxcImdyaWQtcm93LXNwYW5cXFwiOlxcXCI8aW50ZWdlcj5cXFwiLFxcXCJncmlkLXJvdy1zaXppbmdcXFwiOjEsXFxcImhhbmdpbmctcHVuY3R1YXRpb25cXFwiOjEsaGVpZ2h0OlxcXCI8bWFyZ2luLXdpZHRoPiB8IDxjb250ZW50LXNpemluZz4gfCBpbmhlcml0XFxcIixcXFwiaHlwaGVuYXRlLWFmdGVyXFxcIjpcXFwiPGludGVnZXI+IHwgYXV0b1xcXCIsXFxcImh5cGhlbmF0ZS1iZWZvcmVcXFwiOlxcXCI8aW50ZWdlcj4gfCBhdXRvXFxcIixcXFwiaHlwaGVuYXRlLWNoYXJhY3RlclxcXCI6XFxcIjxzdHJpbmc+IHwgYXV0b1xcXCIsXFxcImh5cGhlbmF0ZS1saW5lc1xcXCI6XFxcIm5vLWxpbWl0IHwgPGludGVnZXI+XFxcIixcXFwiaHlwaGVuYXRlLXJlc291cmNlXFxcIjoxLGh5cGhlbnM6XFxcIm5vbmUgfCBtYW51YWwgfCBhdXRvXFxcIixpY29uOjEsXFxcImltYWdlLW9yaWVudGF0aW9uXFxcIjpcXFwiYW5nbGUgfCBhdXRvXFxcIixcXFwiaW1hZ2UtcmVuZGVyaW5nXFxcIjoxLFxcXCJpbWFnZS1yZXNvbHV0aW9uXFxcIjoxLFxcXCJpbmxpbmUtYm94LWFsaWduXFxcIjpcXFwiaW5pdGlhbCB8IGxhc3QgfCA8aW50ZWdlcj5cXFwiLFxcXCJqdXN0aWZ5LWNvbnRlbnRcXFwiOlxcXCJmbGV4LXN0YXJ0IHwgZmxleC1lbmQgfCBjZW50ZXIgfCBzcGFjZS1iZXR3ZWVuIHwgc3BhY2UtYXJvdW5kXFxcIixcXFwiLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnRcXFwiOlxcXCJmbGV4LXN0YXJ0IHwgZmxleC1lbmQgfCBjZW50ZXIgfCBzcGFjZS1iZXR3ZWVuIHwgc3BhY2UtYXJvdW5kXFxcIixsZWZ0OlxcXCI8bWFyZ2luLXdpZHRoPiB8IGluaGVyaXRcXFwiLFxcXCJsZXR0ZXItc3BhY2luZ1xcXCI6XFxcIjxsZW5ndGg+IHwgbm9ybWFsIHwgaW5oZXJpdFxcXCIsXFxcImxpbmUtaGVpZ2h0XFxcIjpcXFwiPG51bWJlcj4gfCA8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IG5vcm1hbCB8IGluaGVyaXRcXFwiLFxcXCJsaW5lLWJyZWFrXFxcIjpcXFwiYXV0byB8IGxvb3NlIHwgbm9ybWFsIHwgc3RyaWN0XFxcIixcXFwibGluZS1zdGFja2luZ1xcXCI6MSxcXFwibGluZS1zdGFja2luZy1ydWJ5XFxcIjpcXFwiZXhjbHVkZS1ydWJ5IHwgaW5jbHVkZS1ydWJ5XFxcIixcXFwibGluZS1zdGFja2luZy1zaGlmdFxcXCI6XFxcImNvbnNpZGVyLXNoaWZ0cyB8IGRpc3JlZ2FyZC1zaGlmdHNcXFwiLFxcXCJsaW5lLXN0YWNraW5nLXN0cmF0ZWd5XFxcIjpcXFwiaW5saW5lLWxpbmUtaGVpZ2h0IHwgYmxvY2stbGluZS1oZWlnaHQgfCBtYXgtaGVpZ2h0IHwgZ3JpZC1oZWlnaHRcXFwiLFxcXCJsaXN0LXN0eWxlXFxcIjoxLFxcXCJsaXN0LXN0eWxlLWltYWdlXFxcIjpcXFwiPHVyaT4gfCBub25lIHwgaW5oZXJpdFxcXCIsXFxcImxpc3Qtc3R5bGUtcG9zaXRpb25cXFwiOlxcXCJpbnNpZGUgfCBvdXRzaWRlIHwgaW5oZXJpdFxcXCIsXFxcImxpc3Qtc3R5bGUtdHlwZVxcXCI6XFxcImRpc2MgfCBjaXJjbGUgfCBzcXVhcmUgfCBkZWNpbWFsIHwgZGVjaW1hbC1sZWFkaW5nLXplcm8gfCBsb3dlci1yb21hbiB8IHVwcGVyLXJvbWFuIHwgbG93ZXItZ3JlZWsgfCBsb3dlci1sYXRpbiB8IHVwcGVyLWxhdGluIHwgYXJtZW5pYW4gfCBnZW9yZ2lhbiB8IGxvd2VyLWFscGhhIHwgdXBwZXItYWxwaGEgfCBub25lIHwgaW5oZXJpdFxcXCIsbWFyZ2luOnttdWx0aTpcXFwiPG1hcmdpbi13aWR0aD4gfCBpbmhlcml0XFxcIixtYXg6NH0sXFxcIm1hcmdpbi1ib3R0b21cXFwiOlxcXCI8bWFyZ2luLXdpZHRoPiB8IGluaGVyaXRcXFwiLFxcXCJtYXJnaW4tbGVmdFxcXCI6XFxcIjxtYXJnaW4td2lkdGg+IHwgaW5oZXJpdFxcXCIsXFxcIm1hcmdpbi1yaWdodFxcXCI6XFxcIjxtYXJnaW4td2lkdGg+IHwgaW5oZXJpdFxcXCIsXFxcIm1hcmdpbi10b3BcXFwiOlxcXCI8bWFyZ2luLXdpZHRoPiB8IGluaGVyaXRcXFwiLG1hcms6MSxcXFwibWFyay1hZnRlclxcXCI6MSxcXFwibWFyay1iZWZvcmVcXFwiOjEsbWFya3M6MSxcXFwibWFycXVlZS1kaXJlY3Rpb25cXFwiOjEsXFxcIm1hcnF1ZWUtcGxheS1jb3VudFxcXCI6MSxcXFwibWFycXVlZS1zcGVlZFxcXCI6MSxcXFwibWFycXVlZS1zdHlsZVxcXCI6MSxcXFwibWF4LWhlaWdodFxcXCI6XFxcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgPGNvbnRlbnQtc2l6aW5nPiB8IG5vbmUgfCBpbmhlcml0XFxcIixcXFwibWF4LXdpZHRoXFxcIjpcXFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCA8Y29udGVudC1zaXppbmc+IHwgbm9uZSB8IGluaGVyaXRcXFwiLFxcXCJtaW4taGVpZ2h0XFxcIjpcXFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCA8Y29udGVudC1zaXppbmc+IHwgY29udGFpbi1mbG9hdHMgfCAtbW96LWNvbnRhaW4tZmxvYXRzIHwgLXdlYmtpdC1jb250YWluLWZsb2F0cyB8IGluaGVyaXRcXFwiLFxcXCJtaW4td2lkdGhcXFwiOlxcXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IDxjb250ZW50LXNpemluZz4gfCBjb250YWluLWZsb2F0cyB8IC1tb3otY29udGFpbi1mbG9hdHMgfCAtd2Via2l0LWNvbnRhaW4tZmxvYXRzIHwgaW5oZXJpdFxcXCIsXFxcIm1vdmUtdG9cXFwiOjEsXFxcIm5hdi1kb3duXFxcIjoxLFxcXCJuYXYtaW5kZXhcXFwiOjEsXFxcIm5hdi1sZWZ0XFxcIjoxLFxcXCJuYXYtcmlnaHRcXFwiOjEsXFxcIm5hdi11cFxcXCI6MSxvcGFjaXR5OlxcXCI8bnVtYmVyPiB8IGluaGVyaXRcXFwiLG9yZGVyOlxcXCI8aW50ZWdlcj5cXFwiLFxcXCItd2Via2l0LW9yZGVyXFxcIjpcXFwiPGludGVnZXI+XFxcIixvcnBoYW5zOlxcXCI8aW50ZWdlcj4gfCBpbmhlcml0XFxcIixvdXRsaW5lOjEsXFxcIm91dGxpbmUtY29sb3JcXFwiOlxcXCI8Y29sb3I+IHwgaW52ZXJ0IHwgaW5oZXJpdFxcXCIsXFxcIm91dGxpbmUtb2Zmc2V0XFxcIjoxLFxcXCJvdXRsaW5lLXN0eWxlXFxcIjpcXFwiPGJvcmRlci1zdHlsZT4gfCBpbmhlcml0XFxcIixcXFwib3V0bGluZS13aWR0aFxcXCI6XFxcIjxib3JkZXItd2lkdGg+IHwgaW5oZXJpdFxcXCIsb3ZlcmZsb3c6XFxcInZpc2libGUgfCBoaWRkZW4gfCBzY3JvbGwgfCBhdXRvIHwgaW5oZXJpdFxcXCIsXFxcIm92ZXJmbG93LXN0eWxlXFxcIjoxLFxcXCJvdmVyZmxvdy13cmFwXFxcIjpcXFwibm9ybWFsIHwgYnJlYWstd29yZFxcXCIsXFxcIm92ZXJmbG93LXhcXFwiOjEsXFxcIm92ZXJmbG93LXlcXFwiOjEscGFkZGluZzp7bXVsdGk6XFxcIjxwYWRkaW5nLXdpZHRoPiB8IGluaGVyaXRcXFwiLG1heDo0fSxcXFwicGFkZGluZy1ib3R0b21cXFwiOlxcXCI8cGFkZGluZy13aWR0aD4gfCBpbmhlcml0XFxcIixcXFwicGFkZGluZy1sZWZ0XFxcIjpcXFwiPHBhZGRpbmctd2lkdGg+IHwgaW5oZXJpdFxcXCIsXFxcInBhZGRpbmctcmlnaHRcXFwiOlxcXCI8cGFkZGluZy13aWR0aD4gfCBpbmhlcml0XFxcIixcXFwicGFkZGluZy10b3BcXFwiOlxcXCI8cGFkZGluZy13aWR0aD4gfCBpbmhlcml0XFxcIixwYWdlOjEsXFxcInBhZ2UtYnJlYWstYWZ0ZXJcXFwiOlxcXCJhdXRvIHwgYWx3YXlzIHwgYXZvaWQgfCBsZWZ0IHwgcmlnaHQgfCBpbmhlcml0XFxcIixcXFwicGFnZS1icmVhay1iZWZvcmVcXFwiOlxcXCJhdXRvIHwgYWx3YXlzIHwgYXZvaWQgfCBsZWZ0IHwgcmlnaHQgfCBpbmhlcml0XFxcIixcXFwicGFnZS1icmVhay1pbnNpZGVcXFwiOlxcXCJhdXRvIHwgYXZvaWQgfCBpbmhlcml0XFxcIixcXFwicGFnZS1wb2xpY3lcXFwiOjEscGF1c2U6MSxcXFwicGF1c2UtYWZ0ZXJcXFwiOjEsXFxcInBhdXNlLWJlZm9yZVxcXCI6MSxwZXJzcGVjdGl2ZToxLFxcXCJwZXJzcGVjdGl2ZS1vcmlnaW5cXFwiOjEscGhvbmVtZXM6MSxwaXRjaDoxLFxcXCJwaXRjaC1yYW5nZVxcXCI6MSxcXFwicGxheS1kdXJpbmdcXFwiOjEsXFxcInBvaW50ZXItZXZlbnRzXFxcIjpcXFwiYXV0byB8IG5vbmUgfCB2aXNpYmxlUGFpbnRlZCB8IHZpc2libGVGaWxsIHwgdmlzaWJsZVN0cm9rZSB8IHZpc2libGUgfCBwYWludGVkIHwgZmlsbCB8IHN0cm9rZSB8IGFsbCB8IGluaGVyaXRcXFwiLHBvc2l0aW9uOlxcXCJzdGF0aWMgfCByZWxhdGl2ZSB8IGFic29sdXRlIHwgZml4ZWQgfCBpbmhlcml0XFxcIixcXFwicHJlc2VudGF0aW9uLWxldmVsXFxcIjoxLFxcXCJwdW5jdHVhdGlvbi10cmltXFxcIjoxLHF1b3RlczoxLFxcXCJyZW5kZXJpbmctaW50ZW50XFxcIjoxLHJlc2l6ZToxLHJlc3Q6MSxcXFwicmVzdC1hZnRlclxcXCI6MSxcXFwicmVzdC1iZWZvcmVcXFwiOjEscmljaG5lc3M6MSxyaWdodDpcXFwiPG1hcmdpbi13aWR0aD4gfCBpbmhlcml0XFxcIixyb3RhdGlvbjoxLFxcXCJyb3RhdGlvbi1wb2ludFxcXCI6MSxcXFwicnVieS1hbGlnblxcXCI6MSxcXFwicnVieS1vdmVyaGFuZ1xcXCI6MSxcXFwicnVieS1wb3NpdGlvblxcXCI6MSxcXFwicnVieS1zcGFuXFxcIjoxLHNpemU6MSxzcGVhazpcXFwibm9ybWFsIHwgbm9uZSB8IHNwZWxsLW91dCB8IGluaGVyaXRcXFwiLFxcXCJzcGVhay1oZWFkZXJcXFwiOlxcXCJvbmNlIHwgYWx3YXlzIHwgaW5oZXJpdFxcXCIsXFxcInNwZWFrLW51bWVyYWxcXFwiOlxcXCJkaWdpdHMgfCBjb250aW51b3VzIHwgaW5oZXJpdFxcXCIsXFxcInNwZWFrLXB1bmN0dWF0aW9uXFxcIjpcXFwiY29kZSB8IG5vbmUgfCBpbmhlcml0XFxcIixcXFwic3BlZWNoLXJhdGVcXFwiOjEsc3JjOjEsc3RyZXNzOjEsXFxcInN0cmluZy1zZXRcXFwiOjEsXFxcInRhYmxlLWxheW91dFxcXCI6XFxcImF1dG8gfCBmaXhlZCB8IGluaGVyaXRcXFwiLFxcXCJ0YWItc2l6ZVxcXCI6XFxcIjxpbnRlZ2VyPiB8IDxsZW5ndGg+XFxcIix0YXJnZXQ6MSxcXFwidGFyZ2V0LW5hbWVcXFwiOjEsXFxcInRhcmdldC1uZXdcXFwiOjEsXFxcInRhcmdldC1wb3NpdGlvblxcXCI6MSxcXFwidGV4dC1hbGlnblxcXCI6XFxcImxlZnQgfCByaWdodCB8IGNlbnRlciB8IGp1c3RpZnkgfCBpbmhlcml0XFxcIixcXFwidGV4dC1hbGlnbi1sYXN0XFxcIjoxLFxcXCJ0ZXh0LWRlY29yYXRpb25cXFwiOjEsXFxcInRleHQtZW1waGFzaXNcXFwiOjEsXFxcInRleHQtaGVpZ2h0XFxcIjoxLFxcXCJ0ZXh0LWluZGVudFxcXCI6XFxcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgaW5oZXJpdFxcXCIsXFxcInRleHQtanVzdGlmeVxcXCI6XFxcImF1dG8gfCBub25lIHwgaW50ZXItd29yZCB8IGludGVyLWlkZW9ncmFwaCB8IGludGVyLWNsdXN0ZXIgfCBkaXN0cmlidXRlIHwga2FzaGlkYVxcXCIsXFxcInRleHQtb3V0bGluZVxcXCI6MSxcXFwidGV4dC1vdmVyZmxvd1xcXCI6MSxcXFwidGV4dC1yZW5kZXJpbmdcXFwiOlxcXCJhdXRvIHwgb3B0aW1pemVTcGVlZCB8IG9wdGltaXplTGVnaWJpbGl0eSB8IGdlb21ldHJpY1ByZWNpc2lvbiB8IGluaGVyaXRcXFwiLFxcXCJ0ZXh0LXNoYWRvd1xcXCI6MSxcXFwidGV4dC10cmFuc2Zvcm1cXFwiOlxcXCJjYXBpdGFsaXplIHwgdXBwZXJjYXNlIHwgbG93ZXJjYXNlIHwgbm9uZSB8IGluaGVyaXRcXFwiLFxcXCJ0ZXh0LXdyYXBcXFwiOlxcXCJub3JtYWwgfCBub25lIHwgYXZvaWRcXFwiLHRvcDpcXFwiPG1hcmdpbi13aWR0aD4gfCBpbmhlcml0XFxcIixcXFwiLW1zLXRvdWNoLWFjdGlvblxcXCI6XFxcImF1dG8gfCBub25lIHwgcGFuLXggfCBwYW4teVxcXCIsXFxcInRvdWNoLWFjdGlvblxcXCI6XFxcImF1dG8gfCBub25lIHwgcGFuLXggfCBwYW4teVxcXCIsdHJhbnNmb3JtOjEsXFxcInRyYW5zZm9ybS1vcmlnaW5cXFwiOjEsXFxcInRyYW5zZm9ybS1zdHlsZVxcXCI6MSx0cmFuc2l0aW9uOjEsXFxcInRyYW5zaXRpb24tZGVsYXlcXFwiOjEsXFxcInRyYW5zaXRpb24tZHVyYXRpb25cXFwiOjEsXFxcInRyYW5zaXRpb24tcHJvcGVydHlcXFwiOjEsXFxcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXFxcIjoxLFxcXCJ1bmljb2RlLWJpZGlcXFwiOlxcXCJub3JtYWwgfCBlbWJlZCB8IGlzb2xhdGUgfCBiaWRpLW92ZXJyaWRlIHwgaXNvbGF0ZS1vdmVycmlkZSB8IHBsYWludGV4dCB8IGluaGVyaXRcXFwiLFxcXCJ1c2VyLW1vZGlmeVxcXCI6XFxcInJlYWQtb25seSB8IHJlYWQtd3JpdGUgfCB3cml0ZS1vbmx5IHwgaW5oZXJpdFxcXCIsXFxcInVzZXItc2VsZWN0XFxcIjpcXFwibm9uZSB8IHRleHQgfCB0b2dnbGUgfCBlbGVtZW50IHwgZWxlbWVudHMgfCBhbGwgfCBpbmhlcml0XFxcIixcXFwidmVydGljYWwtYWxpZ25cXFwiOlxcXCJhdXRvIHwgdXNlLXNjcmlwdCB8IGJhc2VsaW5lIHwgc3ViIHwgc3VwZXIgfCB0b3AgfCB0ZXh0LXRvcCB8IGNlbnRyYWwgfCBtaWRkbGUgfCBib3R0b20gfCB0ZXh0LWJvdHRvbSB8IDxwZXJjZW50YWdlPiB8IDxsZW5ndGg+XFxcIix2aXNpYmlsaXR5OlxcXCJ2aXNpYmxlIHwgaGlkZGVuIHwgY29sbGFwc2UgfCBpbmhlcml0XFxcIixcXFwidm9pY2UtYmFsYW5jZVxcXCI6MSxcXFwidm9pY2UtZHVyYXRpb25cXFwiOjEsXFxcInZvaWNlLWZhbWlseVxcXCI6MSxcXFwidm9pY2UtcGl0Y2hcXFwiOjEsXFxcInZvaWNlLXBpdGNoLXJhbmdlXFxcIjoxLFxcXCJ2b2ljZS1yYXRlXFxcIjoxLFxcXCJ2b2ljZS1zdHJlc3NcXFwiOjEsXFxcInZvaWNlLXZvbHVtZVxcXCI6MSx2b2x1bWU6MSxcXFwid2hpdGUtc3BhY2VcXFwiOlxcXCJub3JtYWwgfCBwcmUgfCBub3dyYXAgfCBwcmUtd3JhcCB8IHByZS1saW5lIHwgaW5oZXJpdCB8IC1wcmUtd3JhcCB8IC1vLXByZS13cmFwIHwgLW1vei1wcmUtd3JhcCB8IC1ocC1wcmUtd3JhcFxcXCIsXFxcIndoaXRlLXNwYWNlLWNvbGxhcHNlXFxcIjoxLHdpZG93czpcXFwiPGludGVnZXI+IHwgaW5oZXJpdFxcXCIsd2lkdGg6XFxcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgPGNvbnRlbnQtc2l6aW5nPiB8IGF1dG8gfCBpbmhlcml0XFxcIixcXFwid29yZC1icmVha1xcXCI6XFxcIm5vcm1hbCB8IGtlZXAtYWxsIHwgYnJlYWstYWxsXFxcIixcXFwid29yZC1zcGFjaW5nXFxcIjpcXFwiPGxlbmd0aD4gfCBub3JtYWwgfCBpbmhlcml0XFxcIixcXFwid29yZC13cmFwXFxcIjpcXFwibm9ybWFsIHwgYnJlYWstd29yZFxcXCIsXFxcIndyaXRpbmctbW9kZVxcXCI6XFxcImhvcml6b250YWwtdGIgfCB2ZXJ0aWNhbC1ybCB8IHZlcnRpY2FsLWxyIHwgbHItdGIgfCBybC10YiB8IHRiLXJsIHwgYnQtcmwgfCB0Yi1sciB8IGJ0LWxyIHwgbHItYnQgfCBybC1idCB8IGxyIHwgcmwgfCB0YiB8IGluaGVyaXRcXFwiLFxcXCJ6LWluZGV4XFxcIjpcXFwiPGludGVnZXI+IHwgYXV0byB8IGluaGVyaXRcXFwiLHpvb206XFxcIjxudW1iZXI+IHwgPHBlcmNlbnRhZ2U+IHwgbm9ybWFsXFxcIn07UHJvcGVydHlOYW1lLnByb3RvdHlwZT1uZXcgU3ludGF4VW5pdCxQcm9wZXJ0eU5hbWUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVByb3BlcnR5TmFtZSxQcm9wZXJ0eU5hbWUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaGFjaz90aGlzLmhhY2s6XFxcIlxcXCIpK3RoaXMudGV4dH0sUHJvcGVydHlWYWx1ZS5wcm90b3R5cGU9bmV3IFN5bnRheFVuaXQsUHJvcGVydHlWYWx1ZS5wcm90b3R5cGUuY29uc3RydWN0b3I9UHJvcGVydHlWYWx1ZSxQcm9wZXJ0eVZhbHVlSXRlcmF0b3IucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRzLmxlbmd0aH0sUHJvcGVydHlWYWx1ZUl0ZXJhdG9yLnByb3RvdHlwZS5pc0ZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9pfSxQcm9wZXJ0eVZhbHVlSXRlcmF0b3IucHJvdG90eXBlLmhhc05leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faTx0aGlzLl9wYXJ0cy5sZW5ndGh9LFByb3BlcnR5VmFsdWVJdGVyYXRvci5wcm90b3R5cGUubWFyaz1mdW5jdGlvbigpe3RoaXMuX21hcmtzLnB1c2godGhpcy5faSl9LFByb3BlcnR5VmFsdWVJdGVyYXRvci5wcm90b3R5cGUucGVlaz1mdW5jdGlvbihjb3VudCl7cmV0dXJuIHRoaXMuaGFzTmV4dCgpP3RoaXMuX3BhcnRzW3RoaXMuX2krKGNvdW50fHwwKV06bnVsbH0sUHJvcGVydHlWYWx1ZUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzTmV4dCgpP3RoaXMuX3BhcnRzW3RoaXMuX2krK106bnVsbH0sUHJvcGVydHlWYWx1ZUl0ZXJhdG9yLnByb3RvdHlwZS5wcmV2aW91cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pPjA/dGhpcy5fcGFydHNbLS10aGlzLl9pXTpudWxsfSxQcm9wZXJ0eVZhbHVlSXRlcmF0b3IucHJvdG90eXBlLnJlc3RvcmU9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrcy5sZW5ndGgmJih0aGlzLl9pPXRoaXMuX21hcmtzLnBvcCgpKX0sUHJvcGVydHlWYWx1ZVBhcnQucHJvdG90eXBlPW5ldyBTeW50YXhVbml0LFByb3BlcnR5VmFsdWVQYXJ0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1Qcm9wZXJ0eVZhbHVlUGFydCxQcm9wZXJ0eVZhbHVlUGFydC5mcm9tVG9rZW49ZnVuY3Rpb24odG9rZW4pe3JldHVybiBuZXcgUHJvcGVydHlWYWx1ZVBhcnQodG9rZW4udmFsdWUsdG9rZW4uc3RhcnRMaW5lLHRva2VuLnN0YXJ0Q29sKX07dmFyIFBzZXVkb3M9e1xcXCI6Zmlyc3QtbGV0dGVyXFxcIjoxLFxcXCI6Zmlyc3QtbGluZVxcXCI6MSxcXFwiOmJlZm9yZVxcXCI6MSxcXFwiOmFmdGVyXFxcIjoxfTtQc2V1ZG9zLkVMRU1FTlQ9MSxQc2V1ZG9zLkNMQVNTPTIsUHNldWRvcy5pc0VsZW1lbnQ9ZnVuY3Rpb24ocHNldWRvKXtyZXR1cm4gMD09PXBzZXVkby5pbmRleE9mKFxcXCI6OlxcXCIpfHxQc2V1ZG9zW3BzZXVkby50b0xvd2VyQ2FzZSgpXT09UHNldWRvcy5FTEVNRU5UfSxTZWxlY3Rvci5wcm90b3R5cGU9bmV3IFN5bnRheFVuaXQsU2VsZWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPVNlbGVjdG9yLFNlbGVjdG9yUGFydC5wcm90b3R5cGU9bmV3IFN5bnRheFVuaXQsU2VsZWN0b3JQYXJ0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TZWxlY3RvclBhcnQsU2VsZWN0b3JTdWJQYXJ0LnByb3RvdHlwZT1uZXcgU3ludGF4VW5pdCxTZWxlY3RvclN1YlBhcnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPVNlbGVjdG9yU3ViUGFydCxTcGVjaWZpY2l0eS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlNwZWNpZmljaXR5LGNvbXBhcmU6ZnVuY3Rpb24ob3RoZXIpe3ZhciBpLGxlbixjb21wcz1bXFxcImFcXFwiLFxcXCJiXFxcIixcXFwiY1xcXCIsXFxcImRcXFwiXTtmb3IoaT0wLGxlbj1jb21wcy5sZW5ndGg7bGVuPmk7aSsrKXtpZih0aGlzW2NvbXBzW2ldXTxvdGhlcltjb21wc1tpXV0pcmV0dXJuLTE7aWYodGhpc1tjb21wc1tpXV0+b3RoZXJbY29tcHNbaV1dKXJldHVybiAxfXJldHVybiAwfSx2YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuIDFlMyp0aGlzLmErMTAwKnRoaXMuYisxMCp0aGlzLmMrdGhpcy5kfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmErXFxcIixcXFwiK3RoaXMuYitcXFwiLFxcXCIrdGhpcy5jK1xcXCIsXFxcIit0aGlzLmR9fSxTcGVjaWZpY2l0eS5jYWxjdWxhdGU9ZnVuY3Rpb24oc2VsZWN0b3Ipe2Z1bmN0aW9uIHVwZGF0ZVZhbHVlcyhwYXJ0KXt2YXIgaSxqLGxlbixudW0sbW9kaWZpZXIsZWxlbWVudE5hbWU9cGFydC5lbGVtZW50TmFtZT9wYXJ0LmVsZW1lbnROYW1lLnRleHQ6XFxcIlxcXCI7Zm9yKGVsZW1lbnROYW1lJiZcXFwiKlxcXCIhPWVsZW1lbnROYW1lLmNoYXJBdChlbGVtZW50TmFtZS5sZW5ndGgtMSkmJmQrKyxpPTAsbGVuPXBhcnQubW9kaWZpZXJzLmxlbmd0aDtsZW4+aTtpKyspc3dpdGNoKG1vZGlmaWVyPXBhcnQubW9kaWZpZXJzW2ldLG1vZGlmaWVyLnR5cGUpe2Nhc2VcXFwiY2xhc3NcXFwiOmNhc2VcXFwiYXR0cmlidXRlXFxcIjpjKys7YnJlYWs7Y2FzZVxcXCJpZFxcXCI6YisrO2JyZWFrO2Nhc2VcXFwicHNldWRvXFxcIjpQc2V1ZG9zLmlzRWxlbWVudChtb2RpZmllci50ZXh0KT9kKys6YysrO2JyZWFrO2Nhc2VcXFwibm90XFxcIjpmb3Ioaj0wLG51bT1tb2RpZmllci5hcmdzLmxlbmd0aDtudW0+ajtqKyspdXBkYXRlVmFsdWVzKG1vZGlmaWVyLmFyZ3Nbal0pfX12YXIgaSxsZW4scGFydCxiPTAsYz0wLGQ9MDtmb3IoaT0wLGxlbj1zZWxlY3Rvci5wYXJ0cy5sZW5ndGg7bGVuPmk7aSsrKXBhcnQ9c2VsZWN0b3IucGFydHNbaV0scGFydCBpbnN0YW5jZW9mIFNlbGVjdG9yUGFydCYmdXBkYXRlVmFsdWVzKHBhcnQpO3JldHVybiBuZXcgU3BlY2lmaWNpdHkoMCxiLGMsZCl9O3ZhciBoPS9eWzAtOWEtZkEtRl0kLyxub25hc2NpaT0vXltcXFxcdTAwODAtXFxcXHVGRkZGXSQvLG5sPS9cXFxcbnxcXFxcclxcXFxufFxcXFxyfFxcXFxmLztUb2tlblN0cmVhbS5wcm90b3R5cGU9bWl4KG5ldyBUb2tlblN0cmVhbUJhc2Use19nZXRUb2tlbjpmdW5jdGlvbigpe3ZhciBjLHJlYWRlcj10aGlzLl9yZWFkZXIsdG9rZW49bnVsbCxzdGFydExpbmU9cmVhZGVyLmdldExpbmUoKSxzdGFydENvbD1yZWFkZXIuZ2V0Q29sKCk7Zm9yKGM9cmVhZGVyLnJlYWQoKTtjOyl7c3dpdGNoKGMpe2Nhc2VcXFwiL1xcXCI6dG9rZW49XFxcIipcXFwiPT1yZWFkZXIucGVlaygpP3RoaXMuY29tbWVudFRva2VuKGMsc3RhcnRMaW5lLHN0YXJ0Q29sKTp0aGlzLmNoYXJUb2tlbihjLHN0YXJ0TGluZSxzdGFydENvbCk7YnJlYWs7Y2FzZVxcXCJ8XFxcIjpjYXNlXFxcIn5cXFwiOmNhc2VcXFwiXlxcXCI6Y2FzZVxcXCIkXFxcIjpjYXNlXFxcIipcXFwiOnRva2VuPVxcXCI9XFxcIj09cmVhZGVyLnBlZWsoKT90aGlzLmNvbXBhcmlzb25Ub2tlbihjLHN0YXJ0TGluZSxzdGFydENvbCk6dGhpcy5jaGFyVG9rZW4oYyxzdGFydExpbmUsc3RhcnRDb2wpO2JyZWFrO2Nhc2UnXFxcIic6Y2FzZVxcXCInXFxcIjp0b2tlbj10aGlzLnN0cmluZ1Rva2VuKGMsc3RhcnRMaW5lLHN0YXJ0Q29sKTticmVhaztjYXNlXFxcIiNcXFwiOnRva2VuPWlzTmFtZUNoYXIocmVhZGVyLnBlZWsoKSk/dGhpcy5oYXNoVG9rZW4oYyxzdGFydExpbmUsc3RhcnRDb2wpOnRoaXMuY2hhclRva2VuKGMsc3RhcnRMaW5lLHN0YXJ0Q29sKTticmVhaztjYXNlXFxcIi5cXFwiOnRva2VuPWlzRGlnaXQocmVhZGVyLnBlZWsoKSk/dGhpcy5udW1iZXJUb2tlbihjLHN0YXJ0TGluZSxzdGFydENvbCk6dGhpcy5jaGFyVG9rZW4oYyxzdGFydExpbmUsc3RhcnRDb2wpO2JyZWFrO2Nhc2VcXFwiLVxcXCI6dG9rZW49XFxcIi1cXFwiPT1yZWFkZXIucGVlaygpP3RoaXMuaHRtbENvbW1lbnRFbmRUb2tlbihjLHN0YXJ0TGluZSxzdGFydENvbCk6aXNOYW1lU3RhcnQocmVhZGVyLnBlZWsoKSk/dGhpcy5pZGVudE9yRnVuY3Rpb25Ub2tlbihjLHN0YXJ0TGluZSxzdGFydENvbCk6dGhpcy5jaGFyVG9rZW4oYyxzdGFydExpbmUsc3RhcnRDb2wpO2JyZWFrO2Nhc2VcXFwiIVxcXCI6dG9rZW49dGhpcy5pbXBvcnRhbnRUb2tlbihjLHN0YXJ0TGluZSxzdGFydENvbCk7YnJlYWs7Y2FzZVxcXCJAXFxcIjp0b2tlbj10aGlzLmF0UnVsZVRva2VuKGMsc3RhcnRMaW5lLHN0YXJ0Q29sKTticmVhaztjYXNlXFxcIjpcXFwiOnRva2VuPXRoaXMubm90VG9rZW4oYyxzdGFydExpbmUsc3RhcnRDb2wpO2JyZWFrO2Nhc2VcXFwiPFxcXCI6dG9rZW49dGhpcy5odG1sQ29tbWVudFN0YXJ0VG9rZW4oYyxzdGFydExpbmUsc3RhcnRDb2wpO2JyZWFrO2Nhc2VcXFwiVVxcXCI6Y2FzZVxcXCJ1XFxcIjppZihcXFwiK1xcXCI9PXJlYWRlci5wZWVrKCkpe3Rva2VuPXRoaXMudW5pY29kZVJhbmdlVG9rZW4oYyxzdGFydExpbmUsc3RhcnRDb2wpO2JyZWFrfWRlZmF1bHQ6dG9rZW49aXNEaWdpdChjKT90aGlzLm51bWJlclRva2VuKGMsc3RhcnRMaW5lLHN0YXJ0Q29sKTppc1doaXRlc3BhY2UoYyk/dGhpcy53aGl0ZXNwYWNlVG9rZW4oYyxzdGFydExpbmUsc3RhcnRDb2wpOmlzSWRlbnRTdGFydChjKT90aGlzLmlkZW50T3JGdW5jdGlvblRva2VuKGMsc3RhcnRMaW5lLHN0YXJ0Q29sKTp0aGlzLmNoYXJUb2tlbihjLHN0YXJ0TGluZSxzdGFydENvbCl9YnJlYWt9cmV0dXJuIHRva2VufHxudWxsIT09Y3x8KHRva2VuPXRoaXMuY3JlYXRlVG9rZW4oVG9rZW5zLkVPRixudWxsLHN0YXJ0TGluZSxzdGFydENvbCkpLHRva2VufSxjcmVhdGVUb2tlbjpmdW5jdGlvbih0dCx2YWx1ZSxzdGFydExpbmUsc3RhcnRDb2wsb3B0aW9ucyl7dmFyIHJlYWRlcj10aGlzLl9yZWFkZXI7cmV0dXJuIG9wdGlvbnM9b3B0aW9uc3x8e30se3ZhbHVlOnZhbHVlLHR5cGU6dHQsY2hhbm5lbDpvcHRpb25zLmNoYW5uZWwsZW5kQ2hhcjpvcHRpb25zLmVuZENoYXIsaGlkZTpvcHRpb25zLmhpZGV8fCExLHN0YXJ0TGluZTpzdGFydExpbmUsc3RhcnRDb2w6c3RhcnRDb2wsZW5kTGluZTpyZWFkZXIuZ2V0TGluZSgpLGVuZENvbDpyZWFkZXIuZ2V0Q29sKCl9fSxhdFJ1bGVUb2tlbjpmdW5jdGlvbihmaXJzdCxzdGFydExpbmUsc3RhcnRDb2wpe3ZhciBpZGVudCxydWxlPWZpcnN0LHJlYWRlcj10aGlzLl9yZWFkZXIsdHQ9VG9rZW5zLkNIQVI7cmV0dXJuIHJlYWRlci5tYXJrKCksaWRlbnQ9dGhpcy5yZWFkTmFtZSgpLHJ1bGU9Zmlyc3QraWRlbnQsdHQ9VG9rZW5zLnR5cGUocnVsZS50b0xvd2VyQ2FzZSgpKSwodHQ9PVRva2Vucy5DSEFSfHx0dD09VG9rZW5zLlVOS05PV04pJiYocnVsZS5sZW5ndGg+MT90dD1Ub2tlbnMuVU5LTk9XTl9TWU06KHR0PVRva2Vucy5DSEFSLHJ1bGU9Zmlyc3QscmVhZGVyLnJlc2V0KCkpKSx0aGlzLmNyZWF0ZVRva2VuKHR0LHJ1bGUsc3RhcnRMaW5lLHN0YXJ0Q29sKX0sY2hhclRva2VuOmZ1bmN0aW9uKGMsc3RhcnRMaW5lLHN0YXJ0Q29sKXt2YXIgdHQ9VG9rZW5zLnR5cGUoYyksb3B0cz17fTtyZXR1cm4tMT09dHQ/dHQ9VG9rZW5zLkNIQVI6b3B0cy5lbmRDaGFyPVRva2Vuc1t0dF0uZW5kQ2hhcix0aGlzLmNyZWF0ZVRva2VuKHR0LGMsc3RhcnRMaW5lLHN0YXJ0Q29sLG9wdHMpfSxjb21tZW50VG9rZW46ZnVuY3Rpb24oZmlyc3Qsc3RhcnRMaW5lLHN0YXJ0Q29sKXt2YXIgY29tbWVudD0odGhpcy5fcmVhZGVyLHRoaXMucmVhZENvbW1lbnQoZmlyc3QpKTtyZXR1cm4gdGhpcy5jcmVhdGVUb2tlbihUb2tlbnMuQ09NTUVOVCxjb21tZW50LHN0YXJ0TGluZSxzdGFydENvbCl9LGNvbXBhcmlzb25Ub2tlbjpmdW5jdGlvbihjLHN0YXJ0TGluZSxzdGFydENvbCl7dmFyIHJlYWRlcj10aGlzLl9yZWFkZXIsY29tcGFyaXNvbj1jK3JlYWRlci5yZWFkKCksdHQ9VG9rZW5zLnR5cGUoY29tcGFyaXNvbil8fFRva2Vucy5DSEFSO3JldHVybiB0aGlzLmNyZWF0ZVRva2VuKHR0LGNvbXBhcmlzb24sc3RhcnRMaW5lLHN0YXJ0Q29sKX0saGFzaFRva2VuOmZ1bmN0aW9uKGZpcnN0LHN0YXJ0TGluZSxzdGFydENvbCl7dmFyIG5hbWU9KHRoaXMuX3JlYWRlcix0aGlzLnJlYWROYW1lKGZpcnN0KSk7cmV0dXJuIHRoaXMuY3JlYXRlVG9rZW4oVG9rZW5zLkhBU0gsbmFtZSxzdGFydExpbmUsc3RhcnRDb2wpXFxufSxodG1sQ29tbWVudFN0YXJ0VG9rZW46ZnVuY3Rpb24oZmlyc3Qsc3RhcnRMaW5lLHN0YXJ0Q29sKXt2YXIgcmVhZGVyPXRoaXMuX3JlYWRlcix0ZXh0PWZpcnN0O3JldHVybiByZWFkZXIubWFyaygpLHRleHQrPXJlYWRlci5yZWFkQ291bnQoMyksXFxcIjwhLS1cXFwiPT10ZXh0P3RoaXMuY3JlYXRlVG9rZW4oVG9rZW5zLkNETyx0ZXh0LHN0YXJ0TGluZSxzdGFydENvbCk6KHJlYWRlci5yZXNldCgpLHRoaXMuY2hhclRva2VuKGZpcnN0LHN0YXJ0TGluZSxzdGFydENvbCkpfSxodG1sQ29tbWVudEVuZFRva2VuOmZ1bmN0aW9uKGZpcnN0LHN0YXJ0TGluZSxzdGFydENvbCl7dmFyIHJlYWRlcj10aGlzLl9yZWFkZXIsdGV4dD1maXJzdDtyZXR1cm4gcmVhZGVyLm1hcmsoKSx0ZXh0Kz1yZWFkZXIucmVhZENvdW50KDIpLFxcXCItLT5cXFwiPT10ZXh0P3RoaXMuY3JlYXRlVG9rZW4oVG9rZW5zLkNEQyx0ZXh0LHN0YXJ0TGluZSxzdGFydENvbCk6KHJlYWRlci5yZXNldCgpLHRoaXMuY2hhclRva2VuKGZpcnN0LHN0YXJ0TGluZSxzdGFydENvbCkpfSxpZGVudE9yRnVuY3Rpb25Ub2tlbjpmdW5jdGlvbihmaXJzdCxzdGFydExpbmUsc3RhcnRDb2wpe3ZhciByZWFkZXI9dGhpcy5fcmVhZGVyLGlkZW50PXRoaXMucmVhZE5hbWUoZmlyc3QpLHR0PVRva2Vucy5JREVOVDtyZXR1cm5cXFwiKFxcXCI9PXJlYWRlci5wZWVrKCk/KGlkZW50Kz1yZWFkZXIucmVhZCgpLFxcXCJ1cmwoXFxcIj09aWRlbnQudG9Mb3dlckNhc2UoKT8odHQ9VG9rZW5zLlVSSSxpZGVudD10aGlzLnJlYWRVUkkoaWRlbnQpLFxcXCJ1cmwoXFxcIj09aWRlbnQudG9Mb3dlckNhc2UoKSYmKHR0PVRva2Vucy5GVU5DVElPTikpOnR0PVRva2Vucy5GVU5DVElPTik6XFxcIjpcXFwiPT1yZWFkZXIucGVlaygpJiZcXFwicHJvZ2lkXFxcIj09aWRlbnQudG9Mb3dlckNhc2UoKSYmKGlkZW50Kz1yZWFkZXIucmVhZFRvKFxcXCIoXFxcIiksdHQ9VG9rZW5zLklFX0ZVTkNUSU9OKSx0aGlzLmNyZWF0ZVRva2VuKHR0LGlkZW50LHN0YXJ0TGluZSxzdGFydENvbCl9LGltcG9ydGFudFRva2VuOmZ1bmN0aW9uKGZpcnN0LHN0YXJ0TGluZSxzdGFydENvbCl7dmFyIHRlbXAsYyxyZWFkZXI9dGhpcy5fcmVhZGVyLGltcG9ydGFudD1maXJzdCx0dD1Ub2tlbnMuQ0hBUjtmb3IocmVhZGVyLm1hcmsoKSxjPXJlYWRlci5yZWFkKCk7Yzspe2lmKFxcXCIvXFxcIj09Yyl7aWYoXFxcIipcXFwiIT1yZWFkZXIucGVlaygpKWJyZWFrO2lmKHRlbXA9dGhpcy5yZWFkQ29tbWVudChjKSxcXFwiXFxcIj09PXRlbXApYnJlYWt9ZWxzZXtpZighaXNXaGl0ZXNwYWNlKGMpKXtpZigvaS9pLnRlc3QoYykpe3RlbXA9cmVhZGVyLnJlYWRDb3VudCg4KSwvbXBvcnRhbnQvaS50ZXN0KHRlbXApJiYoaW1wb3J0YW50Kz1jK3RlbXAsdHQ9VG9rZW5zLklNUE9SVEFOVF9TWU0pO2JyZWFrfWJyZWFrfWltcG9ydGFudCs9Yyt0aGlzLnJlYWRXaGl0ZXNwYWNlKCl9Yz1yZWFkZXIucmVhZCgpfXJldHVybiB0dD09VG9rZW5zLkNIQVI/KHJlYWRlci5yZXNldCgpLHRoaXMuY2hhclRva2VuKGZpcnN0LHN0YXJ0TGluZSxzdGFydENvbCkpOnRoaXMuY3JlYXRlVG9rZW4odHQsaW1wb3J0YW50LHN0YXJ0TGluZSxzdGFydENvbCl9LG5vdFRva2VuOmZ1bmN0aW9uKGZpcnN0LHN0YXJ0TGluZSxzdGFydENvbCl7dmFyIHJlYWRlcj10aGlzLl9yZWFkZXIsdGV4dD1maXJzdDtyZXR1cm4gcmVhZGVyLm1hcmsoKSx0ZXh0Kz1yZWFkZXIucmVhZENvdW50KDQpLFxcXCI6bm90KFxcXCI9PXRleHQudG9Mb3dlckNhc2UoKT90aGlzLmNyZWF0ZVRva2VuKFRva2Vucy5OT1QsdGV4dCxzdGFydExpbmUsc3RhcnRDb2wpOihyZWFkZXIucmVzZXQoKSx0aGlzLmNoYXJUb2tlbihmaXJzdCxzdGFydExpbmUsc3RhcnRDb2wpKX0sbnVtYmVyVG9rZW46ZnVuY3Rpb24oZmlyc3Qsc3RhcnRMaW5lLHN0YXJ0Q29sKXt2YXIgaWRlbnQscmVhZGVyPXRoaXMuX3JlYWRlcix2YWx1ZT10aGlzLnJlYWROdW1iZXIoZmlyc3QpLHR0PVRva2Vucy5OVU1CRVIsYz1yZWFkZXIucGVlaygpO3JldHVybiBpc0lkZW50U3RhcnQoYyk/KGlkZW50PXRoaXMucmVhZE5hbWUocmVhZGVyLnJlYWQoKSksdmFsdWUrPWlkZW50LHR0PS9eZW0kfF5leCR8XnB4JHxeZ2QkfF5yZW0kfF52dyR8XnZoJHxedm1heCR8XnZtaW4kfF5jaCR8XmNtJHxebW0kfF5pbiR8XnB0JHxecGMkL2kudGVzdChpZGVudCk/VG9rZW5zLkxFTkdUSDovXmRlZ3xecmFkJHxeZ3JhZCQvaS50ZXN0KGlkZW50KT9Ub2tlbnMuQU5HTEU6L15tcyR8XnMkL2kudGVzdChpZGVudCk/VG9rZW5zLlRJTUU6L15oeiR8XmtoeiQvaS50ZXN0KGlkZW50KT9Ub2tlbnMuRlJFUTovXmRwaSR8XmRwY20kL2kudGVzdChpZGVudCk/VG9rZW5zLlJFU09MVVRJT046VG9rZW5zLkRJTUVOU0lPTik6XFxcIiVcXFwiPT1jJiYodmFsdWUrPXJlYWRlci5yZWFkKCksdHQ9VG9rZW5zLlBFUkNFTlRBR0UpLHRoaXMuY3JlYXRlVG9rZW4odHQsdmFsdWUsc3RhcnRMaW5lLHN0YXJ0Q29sKX0sc3RyaW5nVG9rZW46ZnVuY3Rpb24oZmlyc3Qsc3RhcnRMaW5lLHN0YXJ0Q29sKXtmb3IodmFyIGRlbGltPWZpcnN0LHN0cmluZz1maXJzdCxyZWFkZXI9dGhpcy5fcmVhZGVyLHByZXY9Zmlyc3QsdHQ9VG9rZW5zLlNUUklORyxjPXJlYWRlci5yZWFkKCk7YyYmKHN0cmluZys9YyxjIT1kZWxpbXx8XFxcIlxcXFxcXFxcXFxcIj09cHJldik7KXtpZihpc05ld0xpbmUocmVhZGVyLnBlZWsoKSkmJlxcXCJcXFxcXFxcXFxcXCIhPWMpe3R0PVRva2Vucy5JTlZBTElEO2JyZWFrfXByZXY9YyxjPXJlYWRlci5yZWFkKCl9cmV0dXJuIG51bGw9PT1jJiYodHQ9VG9rZW5zLklOVkFMSUQpLHRoaXMuY3JlYXRlVG9rZW4odHQsc3RyaW5nLHN0YXJ0TGluZSxzdGFydENvbCl9LHVuaWNvZGVSYW5nZVRva2VuOmZ1bmN0aW9uKGZpcnN0LHN0YXJ0TGluZSxzdGFydENvbCl7dmFyIHRlbXAscmVhZGVyPXRoaXMuX3JlYWRlcix2YWx1ZT1maXJzdCx0dD1Ub2tlbnMuQ0hBUjtyZXR1cm5cXFwiK1xcXCI9PXJlYWRlci5wZWVrKCkmJihyZWFkZXIubWFyaygpLHZhbHVlKz1yZWFkZXIucmVhZCgpLHZhbHVlKz10aGlzLnJlYWRVbmljb2RlUmFuZ2VQYXJ0KCEwKSwyPT12YWx1ZS5sZW5ndGg/cmVhZGVyLnJlc2V0KCk6KHR0PVRva2Vucy5VTklDT0RFX1JBTkdFLC0xPT12YWx1ZS5pbmRleE9mKFxcXCI/XFxcIikmJlxcXCItXFxcIj09cmVhZGVyLnBlZWsoKSYmKHJlYWRlci5tYXJrKCksdGVtcD1yZWFkZXIucmVhZCgpLHRlbXArPXRoaXMucmVhZFVuaWNvZGVSYW5nZVBhcnQoITEpLDE9PXRlbXAubGVuZ3RoP3JlYWRlci5yZXNldCgpOnZhbHVlKz10ZW1wKSkpLHRoaXMuY3JlYXRlVG9rZW4odHQsdmFsdWUsc3RhcnRMaW5lLHN0YXJ0Q29sKX0sd2hpdGVzcGFjZVRva2VuOmZ1bmN0aW9uKGZpcnN0LHN0YXJ0TGluZSxzdGFydENvbCl7dmFyIHZhbHVlPSh0aGlzLl9yZWFkZXIsZmlyc3QrdGhpcy5yZWFkV2hpdGVzcGFjZSgpKTtyZXR1cm4gdGhpcy5jcmVhdGVUb2tlbihUb2tlbnMuUyx2YWx1ZSxzdGFydExpbmUsc3RhcnRDb2wpfSxyZWFkVW5pY29kZVJhbmdlUGFydDpmdW5jdGlvbihhbGxvd1F1ZXN0aW9uTWFyayl7Zm9yKHZhciByZWFkZXI9dGhpcy5fcmVhZGVyLHBhcnQ9XFxcIlxcXCIsYz1yZWFkZXIucGVlaygpO2lzSGV4RGlnaXQoYykmJjY+cGFydC5sZW5ndGg7KXJlYWRlci5yZWFkKCkscGFydCs9YyxjPXJlYWRlci5wZWVrKCk7aWYoYWxsb3dRdWVzdGlvbk1hcmspZm9yKDtcXFwiP1xcXCI9PWMmJjY+cGFydC5sZW5ndGg7KXJlYWRlci5yZWFkKCkscGFydCs9YyxjPXJlYWRlci5wZWVrKCk7cmV0dXJuIHBhcnR9LHJlYWRXaGl0ZXNwYWNlOmZ1bmN0aW9uKCl7Zm9yKHZhciByZWFkZXI9dGhpcy5fcmVhZGVyLHdoaXRlc3BhY2U9XFxcIlxcXCIsYz1yZWFkZXIucGVlaygpO2lzV2hpdGVzcGFjZShjKTspcmVhZGVyLnJlYWQoKSx3aGl0ZXNwYWNlKz1jLGM9cmVhZGVyLnBlZWsoKTtyZXR1cm4gd2hpdGVzcGFjZX0scmVhZE51bWJlcjpmdW5jdGlvbihmaXJzdCl7Zm9yKHZhciByZWFkZXI9dGhpcy5fcmVhZGVyLG51bWJlcj1maXJzdCxoYXNEb3Q9XFxcIi5cXFwiPT1maXJzdCxjPXJlYWRlci5wZWVrKCk7Yzspe2lmKGlzRGlnaXQoYykpbnVtYmVyKz1yZWFkZXIucmVhZCgpO2Vsc2V7aWYoXFxcIi5cXFwiIT1jKWJyZWFrO2lmKGhhc0RvdClicmVhaztoYXNEb3Q9ITAsbnVtYmVyKz1yZWFkZXIucmVhZCgpfWM9cmVhZGVyLnBlZWsoKX1yZXR1cm4gbnVtYmVyfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciByZWFkZXI9dGhpcy5fcmVhZGVyLGRlbGltPXJlYWRlci5yZWFkKCksc3RyaW5nPWRlbGltLHByZXY9ZGVsaW0sYz1yZWFkZXIucGVlaygpO2MmJihjPXJlYWRlci5yZWFkKCksc3RyaW5nKz1jLGMhPWRlbGltfHxcXFwiXFxcXFxcXFxcXFwiPT1wcmV2KTspe2lmKGlzTmV3TGluZShyZWFkZXIucGVlaygpKSYmXFxcIlxcXFxcXFxcXFxcIiE9Yyl7c3RyaW5nPVxcXCJcXFwiO2JyZWFrfXByZXY9YyxjPXJlYWRlci5wZWVrKCl9cmV0dXJuIG51bGw9PT1jJiYoc3RyaW5nPVxcXCJcXFwiKSxzdHJpbmd9LHJlYWRVUkk6ZnVuY3Rpb24oZmlyc3Qpe3ZhciByZWFkZXI9dGhpcy5fcmVhZGVyLHVyaT1maXJzdCxpbm5lcj1cXFwiXFxcIixjPXJlYWRlci5wZWVrKCk7Zm9yKHJlYWRlci5tYXJrKCk7YyYmaXNXaGl0ZXNwYWNlKGMpOylyZWFkZXIucmVhZCgpLGM9cmVhZGVyLnBlZWsoKTtmb3IoaW5uZXI9XFxcIidcXFwiPT1jfHwnXFxcIic9PWM/dGhpcy5yZWFkU3RyaW5nKCk6dGhpcy5yZWFkVVJMKCksYz1yZWFkZXIucGVlaygpO2MmJmlzV2hpdGVzcGFjZShjKTspcmVhZGVyLnJlYWQoKSxjPXJlYWRlci5wZWVrKCk7cmV0dXJuXFxcIlxcXCI9PT1pbm5lcnx8XFxcIilcXFwiIT1jPyh1cmk9Zmlyc3QscmVhZGVyLnJlc2V0KCkpOnVyaSs9aW5uZXIrcmVhZGVyLnJlYWQoKSx1cml9LHJlYWRVUkw6ZnVuY3Rpb24oKXtmb3IodmFyIHJlYWRlcj10aGlzLl9yZWFkZXIsdXJsPVxcXCJcXFwiLGM9cmVhZGVyLnBlZWsoKTsvXlshIyQlJlxcXFxcXFxcKi1+XSQvLnRlc3QoYyk7KXVybCs9cmVhZGVyLnJlYWQoKSxjPXJlYWRlci5wZWVrKCk7cmV0dXJuIHVybH0scmVhZE5hbWU6ZnVuY3Rpb24oZmlyc3Qpe2Zvcih2YXIgcmVhZGVyPXRoaXMuX3JlYWRlcixpZGVudD1maXJzdHx8XFxcIlxcXCIsYz1yZWFkZXIucGVlaygpOzspaWYoXFxcIlxcXFxcXFxcXFxcIj09YylpZGVudCs9dGhpcy5yZWFkRXNjYXBlKHJlYWRlci5yZWFkKCkpLGM9cmVhZGVyLnBlZWsoKTtlbHNle2lmKCFjfHwhaXNOYW1lQ2hhcihjKSlicmVhaztpZGVudCs9cmVhZGVyLnJlYWQoKSxjPXJlYWRlci5wZWVrKCl9cmV0dXJuIGlkZW50fSxyZWFkRXNjYXBlOmZ1bmN0aW9uKGZpcnN0KXt2YXIgcmVhZGVyPXRoaXMuX3JlYWRlcixjc3NFc2NhcGU9Zmlyc3R8fFxcXCJcXFwiLGk9MCxjPXJlYWRlci5wZWVrKCk7aWYoaXNIZXhEaWdpdChjKSlkbyBjc3NFc2NhcGUrPXJlYWRlci5yZWFkKCksYz1yZWFkZXIucGVlaygpO3doaWxlKGMmJmlzSGV4RGlnaXQoYykmJjY+KytpKTtyZXR1cm4gMz09Y3NzRXNjYXBlLmxlbmd0aCYmL1xcXFxzLy50ZXN0KGMpfHw3PT1jc3NFc2NhcGUubGVuZ3RofHwxPT1jc3NFc2NhcGUubGVuZ3RoP3JlYWRlci5yZWFkKCk6Yz1cXFwiXFxcIixjc3NFc2NhcGUrY30scmVhZENvbW1lbnQ6ZnVuY3Rpb24oZmlyc3Qpe3ZhciByZWFkZXI9dGhpcy5fcmVhZGVyLGNvbW1lbnQ9Zmlyc3R8fFxcXCJcXFwiLGM9cmVhZGVyLnJlYWQoKTtpZihcXFwiKlxcXCI9PWMpe2Zvcig7Yzspe2lmKGNvbW1lbnQrPWMsY29tbWVudC5sZW5ndGg+MiYmXFxcIipcXFwiPT1jJiZcXFwiL1xcXCI9PXJlYWRlci5wZWVrKCkpe2NvbW1lbnQrPXJlYWRlci5yZWFkKCk7YnJlYWt9Yz1yZWFkZXIucmVhZCgpfXJldHVybiBjb21tZW50fXJldHVyblxcXCJcXFwifX0pO3ZhciBUb2tlbnM9W3tuYW1lOlxcXCJDRE9cXFwifSx7bmFtZTpcXFwiQ0RDXFxcIn0se25hbWU6XFxcIlNcXFwiLHdoaXRlc3BhY2U6ITB9LHtuYW1lOlxcXCJDT01NRU5UXFxcIixjb21tZW50OiEwLGhpZGU6ITAsY2hhbm5lbDpcXFwiY29tbWVudFxcXCJ9LHtuYW1lOlxcXCJJTkNMVURFU1xcXCIsdGV4dDpcXFwifj1cXFwifSx7bmFtZTpcXFwiREFTSE1BVENIXFxcIix0ZXh0OlxcXCJ8PVxcXCJ9LHtuYW1lOlxcXCJQUkVGSVhNQVRDSFxcXCIsdGV4dDpcXFwiXj1cXFwifSx7bmFtZTpcXFwiU1VGRklYTUFUQ0hcXFwiLHRleHQ6XFxcIiQ9XFxcIn0se25hbWU6XFxcIlNVQlNUUklOR01BVENIXFxcIix0ZXh0OlxcXCIqPVxcXCJ9LHtuYW1lOlxcXCJTVFJJTkdcXFwifSx7bmFtZTpcXFwiSURFTlRcXFwifSx7bmFtZTpcXFwiSEFTSFxcXCJ9LHtuYW1lOlxcXCJJTVBPUlRfU1lNXFxcIix0ZXh0OlxcXCJAaW1wb3J0XFxcIn0se25hbWU6XFxcIlBBR0VfU1lNXFxcIix0ZXh0OlxcXCJAcGFnZVxcXCJ9LHtuYW1lOlxcXCJNRURJQV9TWU1cXFwiLHRleHQ6XFxcIkBtZWRpYVxcXCJ9LHtuYW1lOlxcXCJGT05UX0ZBQ0VfU1lNXFxcIix0ZXh0OlxcXCJAZm9udC1mYWNlXFxcIn0se25hbWU6XFxcIkNIQVJTRVRfU1lNXFxcIix0ZXh0OlxcXCJAY2hhcnNldFxcXCJ9LHtuYW1lOlxcXCJOQU1FU1BBQ0VfU1lNXFxcIix0ZXh0OlxcXCJAbmFtZXNwYWNlXFxcIn0se25hbWU6XFxcIlZJRVdQT1JUX1NZTVxcXCIsdGV4dDpbXFxcIkB2aWV3cG9ydFxcXCIsXFxcIkAtbXMtdmlld3BvcnRcXFwiXX0se25hbWU6XFxcIlVOS05PV05fU1lNXFxcIn0se25hbWU6XFxcIktFWUZSQU1FU19TWU1cXFwiLHRleHQ6W1xcXCJAa2V5ZnJhbWVzXFxcIixcXFwiQC13ZWJraXQta2V5ZnJhbWVzXFxcIixcXFwiQC1tb3ota2V5ZnJhbWVzXFxcIixcXFwiQC1vLWtleWZyYW1lc1xcXCJdfSx7bmFtZTpcXFwiSU1QT1JUQU5UX1NZTVxcXCJ9LHtuYW1lOlxcXCJMRU5HVEhcXFwifSx7bmFtZTpcXFwiQU5HTEVcXFwifSx7bmFtZTpcXFwiVElNRVxcXCJ9LHtuYW1lOlxcXCJGUkVRXFxcIn0se25hbWU6XFxcIkRJTUVOU0lPTlxcXCJ9LHtuYW1lOlxcXCJQRVJDRU5UQUdFXFxcIn0se25hbWU6XFxcIk5VTUJFUlxcXCJ9LHtuYW1lOlxcXCJVUklcXFwifSx7bmFtZTpcXFwiRlVOQ1RJT05cXFwifSx7bmFtZTpcXFwiVU5JQ09ERV9SQU5HRVxcXCJ9LHtuYW1lOlxcXCJJTlZBTElEXFxcIn0se25hbWU6XFxcIlBMVVNcXFwiLHRleHQ6XFxcIitcXFwifSx7bmFtZTpcXFwiR1JFQVRFUlxcXCIsdGV4dDpcXFwiPlxcXCJ9LHtuYW1lOlxcXCJDT01NQVxcXCIsdGV4dDpcXFwiLFxcXCJ9LHtuYW1lOlxcXCJUSUxERVxcXCIsdGV4dDpcXFwiflxcXCJ9LHtuYW1lOlxcXCJOT1RcXFwifSx7bmFtZTpcXFwiVE9QTEVGVENPUk5FUl9TWU1cXFwiLHRleHQ6XFxcIkB0b3AtbGVmdC1jb3JuZXJcXFwifSx7bmFtZTpcXFwiVE9QTEVGVF9TWU1cXFwiLHRleHQ6XFxcIkB0b3AtbGVmdFxcXCJ9LHtuYW1lOlxcXCJUT1BDRU5URVJfU1lNXFxcIix0ZXh0OlxcXCJAdG9wLWNlbnRlclxcXCJ9LHtuYW1lOlxcXCJUT1BSSUdIVF9TWU1cXFwiLHRleHQ6XFxcIkB0b3AtcmlnaHRcXFwifSx7bmFtZTpcXFwiVE9QUklHSFRDT1JORVJfU1lNXFxcIix0ZXh0OlxcXCJAdG9wLXJpZ2h0LWNvcm5lclxcXCJ9LHtuYW1lOlxcXCJCT1RUT01MRUZUQ09STkVSX1NZTVxcXCIsdGV4dDpcXFwiQGJvdHRvbS1sZWZ0LWNvcm5lclxcXCJ9LHtuYW1lOlxcXCJCT1RUT01MRUZUX1NZTVxcXCIsdGV4dDpcXFwiQGJvdHRvbS1sZWZ0XFxcIn0se25hbWU6XFxcIkJPVFRPTUNFTlRFUl9TWU1cXFwiLHRleHQ6XFxcIkBib3R0b20tY2VudGVyXFxcIn0se25hbWU6XFxcIkJPVFRPTVJJR0hUX1NZTVxcXCIsdGV4dDpcXFwiQGJvdHRvbS1yaWdodFxcXCJ9LHtuYW1lOlxcXCJCT1RUT01SSUdIVENPUk5FUl9TWU1cXFwiLHRleHQ6XFxcIkBib3R0b20tcmlnaHQtY29ybmVyXFxcIn0se25hbWU6XFxcIkxFRlRUT1BfU1lNXFxcIix0ZXh0OlxcXCJAbGVmdC10b3BcXFwifSx7bmFtZTpcXFwiTEVGVE1JRERMRV9TWU1cXFwiLHRleHQ6XFxcIkBsZWZ0LW1pZGRsZVxcXCJ9LHtuYW1lOlxcXCJMRUZUQk9UVE9NX1NZTVxcXCIsdGV4dDpcXFwiQGxlZnQtYm90dG9tXFxcIn0se25hbWU6XFxcIlJJR0hUVE9QX1NZTVxcXCIsdGV4dDpcXFwiQHJpZ2h0LXRvcFxcXCJ9LHtuYW1lOlxcXCJSSUdIVE1JRERMRV9TWU1cXFwiLHRleHQ6XFxcIkByaWdodC1taWRkbGVcXFwifSx7bmFtZTpcXFwiUklHSFRCT1RUT01fU1lNXFxcIix0ZXh0OlxcXCJAcmlnaHQtYm90dG9tXFxcIn0se25hbWU6XFxcIlJFU09MVVRJT05cXFwiLHN0YXRlOlxcXCJtZWRpYVxcXCJ9LHtuYW1lOlxcXCJJRV9GVU5DVElPTlxcXCJ9LHtuYW1lOlxcXCJDSEFSXFxcIn0se25hbWU6XFxcIlBJUEVcXFwiLHRleHQ6XFxcInxcXFwifSx7bmFtZTpcXFwiU0xBU0hcXFwiLHRleHQ6XFxcIi9cXFwifSx7bmFtZTpcXFwiTUlOVVNcXFwiLHRleHQ6XFxcIi1cXFwifSx7bmFtZTpcXFwiU1RBUlxcXCIsdGV4dDpcXFwiKlxcXCJ9LHtuYW1lOlxcXCJMQlJBQ0VcXFwiLGVuZENoYXI6XFxcIn1cXFwiLHRleHQ6XFxcIntcXFwifSx7bmFtZTpcXFwiUkJSQUNFXFxcIix0ZXh0OlxcXCJ9XFxcIn0se25hbWU6XFxcIkxCUkFDS0VUXFxcIixlbmRDaGFyOlxcXCJdXFxcIix0ZXh0OlxcXCJbXFxcIn0se25hbWU6XFxcIlJCUkFDS0VUXFxcIix0ZXh0OlxcXCJdXFxcIn0se25hbWU6XFxcIkVRVUFMU1xcXCIsdGV4dDpcXFwiPVxcXCJ9LHtuYW1lOlxcXCJDT0xPTlxcXCIsdGV4dDpcXFwiOlxcXCJ9LHtuYW1lOlxcXCJTRU1JQ09MT05cXFwiLHRleHQ6XFxcIjtcXFwifSx7bmFtZTpcXFwiTFBBUkVOXFxcIixlbmRDaGFyOlxcXCIpXFxcIix0ZXh0OlxcXCIoXFxcIn0se25hbWU6XFxcIlJQQVJFTlxcXCIsdGV4dDpcXFwiKVxcXCJ9LHtuYW1lOlxcXCJET1RcXFwiLHRleHQ6XFxcIi5cXFwifV07KGZ1bmN0aW9uKCl7dmFyIG5hbWVNYXA9W10sdHlwZU1hcD17fTtUb2tlbnMuVU5LTk9XTj0tMSxUb2tlbnMudW5zaGlmdCh7bmFtZTpcXFwiRU9GXFxcIn0pO2Zvcih2YXIgaT0wLGxlbj1Ub2tlbnMubGVuZ3RoO2xlbj5pO2krKylpZihuYW1lTWFwLnB1c2goVG9rZW5zW2ldLm5hbWUpLFRva2Vuc1tUb2tlbnNbaV0ubmFtZV09aSxUb2tlbnNbaV0udGV4dClpZihUb2tlbnNbaV0udGV4dCBpbnN0YW5jZW9mIEFycmF5KWZvcih2YXIgaj0wO1Rva2Vuc1tpXS50ZXh0Lmxlbmd0aD5qO2orKyl0eXBlTWFwW1Rva2Vuc1tpXS50ZXh0W2pdXT1pO2Vsc2UgdHlwZU1hcFtUb2tlbnNbaV0udGV4dF09aTtUb2tlbnMubmFtZT1mdW5jdGlvbih0dCl7cmV0dXJuIG5hbWVNYXBbdHRdfSxUb2tlbnMudHlwZT1mdW5jdGlvbihjKXtyZXR1cm4gdHlwZU1hcFtjXXx8LTF9fSkoKTt2YXIgVmFsaWRhdGlvbj17dmFsaWRhdGU6ZnVuY3Rpb24ocHJvcGVydHksdmFsdWUpe3ZhciBuYW1lPShcXFwiXFxcIitwcm9wZXJ0eSkudG9Mb3dlckNhc2UoKSxleHByZXNzaW9uPSh2YWx1ZS5wYXJ0cyxuZXcgUHJvcGVydHlWYWx1ZUl0ZXJhdG9yKHZhbHVlKSksc3BlYz1Qcm9wZXJ0aWVzW25hbWVdO2lmKHNwZWMpXFxcIm51bWJlclxcXCIhPXR5cGVvZiBzcGVjJiYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBzcGVjP3NwZWMuaW5kZXhPZihcXFwifHxcXFwiKT4tMT90aGlzLmdyb3VwUHJvcGVydHkoc3BlYyxleHByZXNzaW9uKTp0aGlzLnNpbmdsZVByb3BlcnR5KHNwZWMsZXhwcmVzc2lvbiwxKTpzcGVjLm11bHRpP3RoaXMubXVsdGlQcm9wZXJ0eShzcGVjLm11bHRpLGV4cHJlc3Npb24sc3BlYy5jb21tYSxzcGVjLm1heHx8MS8wKTpcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2Ygc3BlYyYmc3BlYyhleHByZXNzaW9uKSk7ZWxzZSBpZigwIT09bmFtZS5pbmRleE9mKFxcXCItXFxcIikpdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcXFwiVW5rbm93biBwcm9wZXJ0eSAnXFxcIitwcm9wZXJ0eStcXFwiJy5cXFwiLHByb3BlcnR5LmxpbmUscHJvcGVydHkuY29sKX0sc2luZ2xlUHJvcGVydHk6ZnVuY3Rpb24odHlwZXMsZXhwcmVzc2lvbixtYXgpe2Zvcih2YXIgcGFydCxyZXN1bHQ9ITEsdmFsdWU9ZXhwcmVzc2lvbi52YWx1ZSxjb3VudD0wO2V4cHJlc3Npb24uaGFzTmV4dCgpJiZtYXg+Y291bnQmJihyZXN1bHQ9VmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24sdHlwZXMpKTspY291bnQrKztpZighcmVzdWx0KXRocm93IGV4cHJlc3Npb24uaGFzTmV4dCgpJiYhZXhwcmVzc2lvbi5pc0ZpcnN0KCk/KHBhcnQ9ZXhwcmVzc2lvbi5wZWVrKCksbmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgZW5kIG9mIHZhbHVlIGJ1dCBmb3VuZCAnXFxcIitwYXJ0K1xcXCInLlxcXCIscGFydC5saW5lLHBhcnQuY29sKSk6bmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgKFxcXCIrdHlwZXMrXFxcIikgYnV0IGZvdW5kICdcXFwiK3ZhbHVlK1xcXCInLlxcXCIsdmFsdWUubGluZSx2YWx1ZS5jb2wpO2lmKGV4cHJlc3Npb24uaGFzTmV4dCgpKXRocm93IHBhcnQ9ZXhwcmVzc2lvbi5uZXh0KCksbmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgZW5kIG9mIHZhbHVlIGJ1dCBmb3VuZCAnXFxcIitwYXJ0K1xcXCInLlxcXCIscGFydC5saW5lLHBhcnQuY29sKX0sbXVsdGlQcm9wZXJ0eTpmdW5jdGlvbih0eXBlcyxleHByZXNzaW9uLGNvbW1hLG1heCl7Zm9yKHZhciBwYXJ0LHJlc3VsdD0hMSx2YWx1ZT1leHByZXNzaW9uLnZhbHVlLGNvdW50PTA7ZXhwcmVzc2lvbi5oYXNOZXh0KCkmJiFyZXN1bHQmJm1heD5jb3VudCYmVmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24sdHlwZXMpOylpZihjb3VudCsrLGV4cHJlc3Npb24uaGFzTmV4dCgpKXtpZihjb21tYSl7aWYoXFxcIixcXFwiIT1leHByZXNzaW9uLnBlZWsoKSlicmVhaztwYXJ0PWV4cHJlc3Npb24ubmV4dCgpfX1lbHNlIHJlc3VsdD0hMDtpZighcmVzdWx0KXRocm93IGV4cHJlc3Npb24uaGFzTmV4dCgpJiYhZXhwcmVzc2lvbi5pc0ZpcnN0KCk/KHBhcnQ9ZXhwcmVzc2lvbi5wZWVrKCksbmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgZW5kIG9mIHZhbHVlIGJ1dCBmb3VuZCAnXFxcIitwYXJ0K1xcXCInLlxcXCIscGFydC5saW5lLHBhcnQuY29sKSk6KHBhcnQ9ZXhwcmVzc2lvbi5wcmV2aW91cygpLGNvbW1hJiZcXFwiLFxcXCI9PXBhcnQ/bmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgZW5kIG9mIHZhbHVlIGJ1dCBmb3VuZCAnXFxcIitwYXJ0K1xcXCInLlxcXCIscGFydC5saW5lLHBhcnQuY29sKTpuZXcgVmFsaWRhdGlvbkVycm9yKFxcXCJFeHBlY3RlZCAoXFxcIit0eXBlcytcXFwiKSBidXQgZm91bmQgJ1xcXCIrdmFsdWUrXFxcIicuXFxcIix2YWx1ZS5saW5lLHZhbHVlLmNvbCkpO2lmKGV4cHJlc3Npb24uaGFzTmV4dCgpKXRocm93IHBhcnQ9ZXhwcmVzc2lvbi5uZXh0KCksbmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgZW5kIG9mIHZhbHVlIGJ1dCBmb3VuZCAnXFxcIitwYXJ0K1xcXCInLlxcXCIscGFydC5saW5lLHBhcnQuY29sKX0sZ3JvdXBQcm9wZXJ0eTpmdW5jdGlvbih0eXBlcyxleHByZXNzaW9uKXtmb3IodmFyIG5hbWUscGFydCxyZXN1bHQ9ITEsdmFsdWU9ZXhwcmVzc2lvbi52YWx1ZSx0eXBlQ291bnQ9dHlwZXMuc3BsaXQoXFxcInx8XFxcIikubGVuZ3RoLGdyb3Vwcz17Y291bnQ6MH0scGFydGlhbD0hMTtleHByZXNzaW9uLmhhc05leHQoKSYmIXJlc3VsdCYmKG5hbWU9VmFsaWRhdGlvblR5cGVzLmlzQW55T2ZHcm91cChleHByZXNzaW9uLHR5cGVzKSkmJiFncm91cHNbbmFtZV07KWdyb3Vwc1tuYW1lXT0xLGdyb3Vwcy5jb3VudCsrLHBhcnRpYWw9ITAsZ3JvdXBzLmNvdW50IT10eXBlQ291bnQmJmV4cHJlc3Npb24uaGFzTmV4dCgpfHwocmVzdWx0PSEwKTtpZighcmVzdWx0KXRocm93IHBhcnRpYWwmJmV4cHJlc3Npb24uaGFzTmV4dCgpPyhwYXJ0PWV4cHJlc3Npb24ucGVlaygpLG5ldyBWYWxpZGF0aW9uRXJyb3IoXFxcIkV4cGVjdGVkIGVuZCBvZiB2YWx1ZSBidXQgZm91bmQgJ1xcXCIrcGFydCtcXFwiJy5cXFwiLHBhcnQubGluZSxwYXJ0LmNvbCkpOm5ldyBWYWxpZGF0aW9uRXJyb3IoXFxcIkV4cGVjdGVkIChcXFwiK3R5cGVzK1xcXCIpIGJ1dCBmb3VuZCAnXFxcIit2YWx1ZStcXFwiJy5cXFwiLHZhbHVlLmxpbmUsdmFsdWUuY29sKTtpZihleHByZXNzaW9uLmhhc05leHQoKSl0aHJvdyBwYXJ0PWV4cHJlc3Npb24ubmV4dCgpLG5ldyBWYWxpZGF0aW9uRXJyb3IoXFxcIkV4cGVjdGVkIGVuZCBvZiB2YWx1ZSBidXQgZm91bmQgJ1xcXCIrcGFydCtcXFwiJy5cXFwiLHBhcnQubGluZSxwYXJ0LmNvbCl9fTtWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlPUVycm9yKCk7dmFyIFZhbGlkYXRpb25UeXBlcz17aXNMaXRlcmFsOmZ1bmN0aW9uKHBhcnQsbGl0ZXJhbHMpe3ZhciBpLGxlbix0ZXh0PShcXFwiXFxcIitwYXJ0LnRleHQpLnRvTG93ZXJDYXNlKCksYXJncz1saXRlcmFscy5zcGxpdChcXFwiIHwgXFxcIiksZm91bmQ9ITE7Zm9yKGk9MCxsZW49YXJncy5sZW5ndGg7bGVuPmkmJiFmb3VuZDtpKyspdGV4dD09YXJnc1tpXS50b0xvd2VyQ2FzZSgpJiYoZm91bmQ9ITApO3JldHVybiBmb3VuZH0saXNTaW1wbGU6ZnVuY3Rpb24odHlwZSl7cmV0dXJuISF0aGlzLnNpbXBsZVt0eXBlXX0saXNDb21wbGV4OmZ1bmN0aW9uKHR5cGUpe3JldHVybiEhdGhpcy5jb21wbGV4W3R5cGVdfSxpc0FueTpmdW5jdGlvbihleHByZXNzaW9uLHR5cGVzKXt2YXIgaSxsZW4sYXJncz10eXBlcy5zcGxpdChcXFwiIHwgXFxcIiksZm91bmQ9ITE7Zm9yKGk9MCxsZW49YXJncy5sZW5ndGg7bGVuPmkmJiFmb3VuZCYmZXhwcmVzc2lvbi5oYXNOZXh0KCk7aSsrKWZvdW5kPXRoaXMuaXNUeXBlKGV4cHJlc3Npb24sYXJnc1tpXSk7cmV0dXJuIGZvdW5kfSxpc0FueU9mR3JvdXA6ZnVuY3Rpb24oZXhwcmVzc2lvbix0eXBlcyl7dmFyIGksbGVuLGFyZ3M9dHlwZXMuc3BsaXQoXFxcIiB8fCBcXFwiKSxmb3VuZD0hMTtmb3IoaT0wLGxlbj1hcmdzLmxlbmd0aDtsZW4+aSYmIWZvdW5kO2krKylmb3VuZD10aGlzLmlzVHlwZShleHByZXNzaW9uLGFyZ3NbaV0pO3JldHVybiBmb3VuZD9hcmdzW2ktMV06ITF9LGlzVHlwZTpmdW5jdGlvbihleHByZXNzaW9uLHR5cGUpe3ZhciBwYXJ0PWV4cHJlc3Npb24ucGVlaygpLHJlc3VsdD0hMTtyZXR1cm5cXFwiPFxcXCIhPXR5cGUuY2hhckF0KDApPyhyZXN1bHQ9dGhpcy5pc0xpdGVyYWwocGFydCx0eXBlKSxyZXN1bHQmJmV4cHJlc3Npb24ubmV4dCgpKTp0aGlzLnNpbXBsZVt0eXBlXT8ocmVzdWx0PXRoaXMuc2ltcGxlW3R5cGVdKHBhcnQpLHJlc3VsdCYmZXhwcmVzc2lvbi5uZXh0KCkpOnJlc3VsdD10aGlzLmNvbXBsZXhbdHlwZV0oZXhwcmVzc2lvbikscmVzdWx0fSxzaW1wbGU6e1xcXCI8YWJzb2x1dGUtc2l6ZT5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVybiBWYWxpZGF0aW9uVHlwZXMuaXNMaXRlcmFsKHBhcnQsXFxcInh4LXNtYWxsIHwgeC1zbWFsbCB8IHNtYWxsIHwgbWVkaXVtIHwgbGFyZ2UgfCB4LWxhcmdlIHwgeHgtbGFyZ2VcXFwiKX0sXFxcIjxhdHRhY2htZW50PlxcXCI6ZnVuY3Rpb24ocGFydCl7cmV0dXJuIFZhbGlkYXRpb25UeXBlcy5pc0xpdGVyYWwocGFydCxcXFwic2Nyb2xsIHwgZml4ZWQgfCBsb2NhbFxcXCIpfSxcXFwiPGF0dHI+XFxcIjpmdW5jdGlvbihwYXJ0KXtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT1wYXJ0LnR5cGUmJlxcXCJhdHRyXFxcIj09cGFydC5uYW1lfSxcXFwiPGJnLWltYWdlPlxcXCI6ZnVuY3Rpb24ocGFydCl7cmV0dXJuIHRoaXNbXFxcIjxpbWFnZT5cXFwiXShwYXJ0KXx8dGhpc1tcXFwiPGdyYWRpZW50PlxcXCJdKHBhcnQpfHxcXFwibm9uZVxcXCI9PXBhcnR9LFxcXCI8Z3JhZGllbnQ+XFxcIjpmdW5jdGlvbihwYXJ0KXtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT1wYXJ0LnR5cGUmJi9eKD86XFxcXC0oPzptc3xtb3p8b3x3ZWJraXQpXFxcXC0pPyg/OnJlcGVhdGluZ1xcXFwtKT8oPzpyYWRpYWxcXFxcLXxsaW5lYXJcXFxcLSk/Z3JhZGllbnQvaS50ZXN0KHBhcnQpfSxcXFwiPGJveD5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVybiBWYWxpZGF0aW9uVHlwZXMuaXNMaXRlcmFsKHBhcnQsXFxcInBhZGRpbmctYm94IHwgYm9yZGVyLWJveCB8IGNvbnRlbnQtYm94XFxcIil9LFxcXCI8Y29udGVudD5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXBhcnQudHlwZSYmXFxcImNvbnRlbnRcXFwiPT1wYXJ0Lm5hbWV9LFxcXCI8cmVsYXRpdmUtc2l6ZT5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVybiBWYWxpZGF0aW9uVHlwZXMuaXNMaXRlcmFsKHBhcnQsXFxcInNtYWxsZXIgfCBsYXJnZXJcXFwiKX0sXFxcIjxpZGVudD5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVyblxcXCJpZGVudGlmaWVyXFxcIj09cGFydC50eXBlfSxcXFwiPGxlbmd0aD5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXBhcnQudHlwZSYmL14oPzpcXFxcLSg/Om1zfG1venxvfHdlYmtpdClcXFxcLSk/Y2FsYy9pLnRlc3QocGFydCk/ITA6XFxcImxlbmd0aFxcXCI9PXBhcnQudHlwZXx8XFxcIm51bWJlclxcXCI9PXBhcnQudHlwZXx8XFxcImludGVnZXJcXFwiPT1wYXJ0LnR5cGV8fFxcXCIwXFxcIj09cGFydH0sXFxcIjxjb2xvcj5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVyblxcXCJjb2xvclxcXCI9PXBhcnQudHlwZXx8XFxcInRyYW5zcGFyZW50XFxcIj09cGFydH0sXFxcIjxudW1iZXI+XFxcIjpmdW5jdGlvbihwYXJ0KXtyZXR1cm5cXFwibnVtYmVyXFxcIj09cGFydC50eXBlfHx0aGlzW1xcXCI8aW50ZWdlcj5cXFwiXShwYXJ0KX0sXFxcIjxpbnRlZ2VyPlxcXCI6ZnVuY3Rpb24ocGFydCl7cmV0dXJuXFxcImludGVnZXJcXFwiPT1wYXJ0LnR5cGV9LFxcXCI8bGluZT5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVyblxcXCJpbnRlZ2VyXFxcIj09cGFydC50eXBlfSxcXFwiPGFuZ2xlPlxcXCI6ZnVuY3Rpb24ocGFydCl7cmV0dXJuXFxcImFuZ2xlXFxcIj09cGFydC50eXBlfSxcXFwiPHVyaT5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVyblxcXCJ1cmlcXFwiPT1wYXJ0LnR5cGV9LFxcXCI8aW1hZ2U+XFxcIjpmdW5jdGlvbihwYXJ0KXtyZXR1cm4gdGhpc1tcXFwiPHVyaT5cXFwiXShwYXJ0KX0sXFxcIjxwZXJjZW50YWdlPlxcXCI6ZnVuY3Rpb24ocGFydCl7cmV0dXJuXFxcInBlcmNlbnRhZ2VcXFwiPT1wYXJ0LnR5cGV8fFxcXCIwXFxcIj09cGFydH0sXFxcIjxib3JkZXItd2lkdGg+XFxcIjpmdW5jdGlvbihwYXJ0KXtyZXR1cm4gdGhpc1tcXFwiPGxlbmd0aD5cXFwiXShwYXJ0KXx8VmFsaWRhdGlvblR5cGVzLmlzTGl0ZXJhbChwYXJ0LFxcXCJ0aGluIHwgbWVkaXVtIHwgdGhpY2tcXFwiKX0sXFxcIjxib3JkZXItc3R5bGU+XFxcIjpmdW5jdGlvbihwYXJ0KXtyZXR1cm4gVmFsaWRhdGlvblR5cGVzLmlzTGl0ZXJhbChwYXJ0LFxcXCJub25lIHwgaGlkZGVuIHwgZG90dGVkIHwgZGFzaGVkIHwgc29saWQgfCBkb3VibGUgfCBncm9vdmUgfCByaWRnZSB8IGluc2V0IHwgb3V0c2V0XFxcIil9LFxcXCI8Y29udGVudC1zaXppbmc+XFxcIjpmdW5jdGlvbihwYXJ0KXtyZXR1cm4gVmFsaWRhdGlvblR5cGVzLmlzTGl0ZXJhbChwYXJ0LFxcXCJmaWxsLWF2YWlsYWJsZSB8IC1tb3otYXZhaWxhYmxlIHwgLXdlYmtpdC1maWxsLWF2YWlsYWJsZSB8IG1heC1jb250ZW50IHwgLW1vei1tYXgtY29udGVudCB8IC13ZWJraXQtbWF4LWNvbnRlbnQgfCBtaW4tY29udGVudCB8IC1tb3otbWluLWNvbnRlbnQgfCAtd2Via2l0LW1pbi1jb250ZW50IHwgZml0LWNvbnRlbnQgfCAtbW96LWZpdC1jb250ZW50IHwgLXdlYmtpdC1maXQtY29udGVudFxcXCIpfSxcXFwiPG1hcmdpbi13aWR0aD5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVybiB0aGlzW1xcXCI8bGVuZ3RoPlxcXCJdKHBhcnQpfHx0aGlzW1xcXCI8cGVyY2VudGFnZT5cXFwiXShwYXJ0KXx8VmFsaWRhdGlvblR5cGVzLmlzTGl0ZXJhbChwYXJ0LFxcXCJhdXRvXFxcIil9LFxcXCI8cGFkZGluZy13aWR0aD5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVybiB0aGlzW1xcXCI8bGVuZ3RoPlxcXCJdKHBhcnQpfHx0aGlzW1xcXCI8cGVyY2VudGFnZT5cXFwiXShwYXJ0KX0sXFxcIjxzaGFwZT5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXBhcnQudHlwZSYmKFxcXCJyZWN0XFxcIj09cGFydC5uYW1lfHxcXFwiaW5zZXQtcmVjdFxcXCI9PXBhcnQubmFtZSl9LFxcXCI8dGltZT5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVyblxcXCJ0aW1lXFxcIj09cGFydC50eXBlfSxcXFwiPGZsZXgtZ3Jvdz5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVybiB0aGlzW1xcXCI8bnVtYmVyPlxcXCJdKHBhcnQpfSxcXFwiPGZsZXgtc2hyaW5rPlxcXCI6ZnVuY3Rpb24ocGFydCl7cmV0dXJuIHRoaXNbXFxcIjxudW1iZXI+XFxcIl0ocGFydCl9LFxcXCI8d2lkdGg+XFxcIjpmdW5jdGlvbihwYXJ0KXtyZXR1cm4gdGhpc1tcXFwiPG1hcmdpbi13aWR0aD5cXFwiXShwYXJ0KX0sXFxcIjxmbGV4LWJhc2lzPlxcXCI6ZnVuY3Rpb24ocGFydCl7cmV0dXJuIHRoaXNbXFxcIjx3aWR0aD5cXFwiXShwYXJ0KX0sXFxcIjxmbGV4LWRpcmVjdGlvbj5cXFwiOmZ1bmN0aW9uKHBhcnQpe3JldHVybiBWYWxpZGF0aW9uVHlwZXMuaXNMaXRlcmFsKHBhcnQsXFxcInJvdyB8IHJvdy1yZXZlcnNlIHwgY29sdW1uIHwgY29sdW1uLXJldmVyc2VcXFwiKX0sXFxcIjxmbGV4LXdyYXA+XFxcIjpmdW5jdGlvbihwYXJ0KXtyZXR1cm4gVmFsaWRhdGlvblR5cGVzLmlzTGl0ZXJhbChwYXJ0LFxcXCJub3dyYXAgfCB3cmFwIHwgd3JhcC1yZXZlcnNlXFxcIil9fSxjb21wbGV4OntcXFwiPGJnLXBvc2l0aW9uPlxcXCI6ZnVuY3Rpb24oZXhwcmVzc2lvbil7Zm9yKHZhciByZXN1bHQ9ITEsbnVtZXJpYz1cXFwiPHBlcmNlbnRhZ2U+IHwgPGxlbmd0aD5cXFwiLHhEaXI9XFxcImxlZnQgfCByaWdodFxcXCIseURpcj1cXFwidG9wIHwgYm90dG9tXFxcIixjb3VudD0wO2V4cHJlc3Npb24ucGVlayhjb3VudCkmJlxcXCIsXFxcIiE9ZXhwcmVzc2lvbi5wZWVrKGNvdW50KTspY291bnQrKztyZXR1cm4gMz5jb3VudD9WYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbix4RGlyK1xcXCIgfCBjZW50ZXIgfCBcXFwiK251bWVyaWMpPyhyZXN1bHQ9ITAsVmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24seURpcitcXFwiIHwgY2VudGVyIHwgXFxcIitudW1lcmljKSk6VmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24seURpcikmJihyZXN1bHQ9ITAsVmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24seERpcitcXFwiIHwgY2VudGVyXFxcIikpOlZhbGlkYXRpb25UeXBlcy5pc0FueShleHByZXNzaW9uLHhEaXIpP1ZhbGlkYXRpb25UeXBlcy5pc0FueShleHByZXNzaW9uLHlEaXIpPyhyZXN1bHQ9ITAsVmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24sbnVtZXJpYykpOlZhbGlkYXRpb25UeXBlcy5pc0FueShleHByZXNzaW9uLG51bWVyaWMpJiYoVmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24seURpcik/KHJlc3VsdD0hMCxWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixudW1lcmljKSk6VmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24sXFxcImNlbnRlclxcXCIpJiYocmVzdWx0PSEwKSk6VmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24seURpcik/VmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24seERpcik/KHJlc3VsdD0hMCxWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixudW1lcmljKSk6VmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24sbnVtZXJpYykmJihWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbix4RGlyKT8ocmVzdWx0PSEwLFZhbGlkYXRpb25UeXBlcy5pc0FueShleHByZXNzaW9uLG51bWVyaWMpKTpWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixcXFwiY2VudGVyXFxcIikmJihyZXN1bHQ9ITApKTpWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixcXFwiY2VudGVyXFxcIikmJlZhbGlkYXRpb25UeXBlcy5pc0FueShleHByZXNzaW9uLHhEaXIrXFxcIiB8IFxcXCIreURpcikmJihyZXN1bHQ9ITAsVmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24sbnVtZXJpYykpLHJlc3VsdH0sXFxcIjxiZy1zaXplPlxcXCI6ZnVuY3Rpb24oZXhwcmVzc2lvbil7dmFyIHJlc3VsdD0hMSxudW1lcmljPVxcXCI8cGVyY2VudGFnZT4gfCA8bGVuZ3RoPiB8IGF1dG9cXFwiO3JldHVybiBWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixcXFwiY292ZXIgfCBjb250YWluXFxcIik/cmVzdWx0PSEwOlZhbGlkYXRpb25UeXBlcy5pc0FueShleHByZXNzaW9uLG51bWVyaWMpJiYocmVzdWx0PSEwLFZhbGlkYXRpb25UeXBlcy5pc0FueShleHByZXNzaW9uLG51bWVyaWMpKSxyZXN1bHR9LFxcXCI8cmVwZWF0LXN0eWxlPlxcXCI6ZnVuY3Rpb24oZXhwcmVzc2lvbil7dmFyIHBhcnQscmVzdWx0PSExLHZhbHVlcz1cXFwicmVwZWF0IHwgc3BhY2UgfCByb3VuZCB8IG5vLXJlcGVhdFxcXCI7cmV0dXJuIGV4cHJlc3Npb24uaGFzTmV4dCgpJiYocGFydD1leHByZXNzaW9uLm5leHQoKSxWYWxpZGF0aW9uVHlwZXMuaXNMaXRlcmFsKHBhcnQsXFxcInJlcGVhdC14IHwgcmVwZWF0LXlcXFwiKT9yZXN1bHQ9ITA6VmFsaWRhdGlvblR5cGVzLmlzTGl0ZXJhbChwYXJ0LHZhbHVlcykmJihyZXN1bHQ9ITAsZXhwcmVzc2lvbi5oYXNOZXh0KCkmJlZhbGlkYXRpb25UeXBlcy5pc0xpdGVyYWwoZXhwcmVzc2lvbi5wZWVrKCksdmFsdWVzKSYmZXhwcmVzc2lvbi5uZXh0KCkpKSxyZXN1bHR9LFxcXCI8c2hhZG93PlxcXCI6ZnVuY3Rpb24oZXhwcmVzc2lvbil7dmFyIHJlc3VsdD0hMSxjb3VudD0wLGluc2V0PSExLGNvbG9yPSExO2lmKGV4cHJlc3Npb24uaGFzTmV4dCgpKXtmb3IoVmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24sXFxcImluc2V0XFxcIikmJihpbnNldD0hMCksVmFsaWRhdGlvblR5cGVzLmlzQW55KGV4cHJlc3Npb24sXFxcIjxjb2xvcj5cXFwiKSYmKGNvbG9yPSEwKTtWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixcXFwiPGxlbmd0aD5cXFwiKSYmND5jb3VudDspY291bnQrKztleHByZXNzaW9uLmhhc05leHQoKSYmKGNvbG9yfHxWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixcXFwiPGNvbG9yPlxcXCIpLGluc2V0fHxWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixcXFwiaW5zZXRcXFwiKSkscmVzdWx0PWNvdW50Pj0yJiY0Pj1jb3VudH1yZXR1cm4gcmVzdWx0fSxcXFwiPHgtb25lLXJhZGl1cz5cXFwiOmZ1bmN0aW9uKGV4cHJlc3Npb24pe3ZhciByZXN1bHQ9ITEsc2ltcGxlPVxcXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IGluaGVyaXRcXFwiO3JldHVybiBWYWxpZGF0aW9uVHlwZXMuaXNBbnkoZXhwcmVzc2lvbixzaW1wbGUpJiYocmVzdWx0PSEwLFZhbGlkYXRpb25UeXBlcy5pc0FueShleHByZXNzaW9uLHNpbXBsZSkpLHJlc3VsdH0sXFxcIjxmbGV4PlxcXCI6ZnVuY3Rpb24oZXhwcmVzc2lvbil7dmFyIHBhcnQscmVzdWx0PSExO2lmKFZhbGlkYXRpb25UeXBlcy5pc0FueShleHByZXNzaW9uLFxcXCJub25lIHwgaW5oZXJpdFxcXCIpP3Jlc3VsdD0hMDpWYWxpZGF0aW9uVHlwZXMuaXNUeXBlKGV4cHJlc3Npb24sXFxcIjxmbGV4LWdyb3c+XFxcIik/ZXhwcmVzc2lvbi5wZWVrKCk/VmFsaWRhdGlvblR5cGVzLmlzVHlwZShleHByZXNzaW9uLFxcXCI8ZmxleC1zaHJpbms+XFxcIik/cmVzdWx0PWV4cHJlc3Npb24ucGVlaygpP1ZhbGlkYXRpb25UeXBlcy5pc1R5cGUoZXhwcmVzc2lvbixcXFwiPGZsZXgtYmFzaXM+XFxcIik6ITA6VmFsaWRhdGlvblR5cGVzLmlzVHlwZShleHByZXNzaW9uLFxcXCI8ZmxleC1iYXNpcz5cXFwiKSYmKHJlc3VsdD1udWxsPT09ZXhwcmVzc2lvbi5wZWVrKCkpOnJlc3VsdD0hMDpWYWxpZGF0aW9uVHlwZXMuaXNUeXBlKGV4cHJlc3Npb24sXFxcIjxmbGV4LWJhc2lzPlxcXCIpJiYocmVzdWx0PSEwKSwhcmVzdWx0KXRocm93IHBhcnQ9ZXhwcmVzc2lvbi5wZWVrKCksbmV3IFZhbGlkYXRpb25FcnJvcihcXFwiRXhwZWN0ZWQgKG5vbmUgfCBbIDxmbGV4LWdyb3c+IDxmbGV4LXNocmluaz4/IHx8IDxmbGV4LWJhc2lzPiBdKSBidXQgZm91bmQgJ1xcXCIrZXhwcmVzc2lvbi52YWx1ZS50ZXh0K1xcXCInLlxcXCIscGFydC5saW5lLHBhcnQuY29sKTtyZXR1cm4gcmVzdWx0fX19O3BhcnNlcmxpYi5jc3M9e0NvbG9yczpDb2xvcnMsQ29tYmluYXRvcjpDb21iaW5hdG9yLFBhcnNlcjpQYXJzZXIsUHJvcGVydHlOYW1lOlByb3BlcnR5TmFtZSxQcm9wZXJ0eVZhbHVlOlByb3BlcnR5VmFsdWUsUHJvcGVydHlWYWx1ZVBhcnQ6UHJvcGVydHlWYWx1ZVBhcnQsTWVkaWFGZWF0dXJlOk1lZGlhRmVhdHVyZSxNZWRpYVF1ZXJ5Ok1lZGlhUXVlcnksU2VsZWN0b3I6U2VsZWN0b3IsU2VsZWN0b3JQYXJ0OlNlbGVjdG9yUGFydCxTZWxlY3RvclN1YlBhcnQ6U2VsZWN0b3JTdWJQYXJ0LFNwZWNpZmljaXR5OlNwZWNpZmljaXR5LFRva2VuU3RyZWFtOlRva2VuU3RyZWFtLFRva2VuczpUb2tlbnMsVmFsaWRhdGlvbkVycm9yOlZhbGlkYXRpb25FcnJvcn19KCksZnVuY3Rpb24oKXtmb3IodmFyIHByb3AgaW4gcGFyc2VybGliKWV4cG9ydHNbcHJvcF09cGFyc2VybGliW3Byb3BdfSgpO3ZhciB1dGlsPXtpc0FycmF5OmZ1bmN0aW9uKGFyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShhcil8fFxcXCJvYmplY3RcXFwiPT10eXBlb2YgYXImJlxcXCJbb2JqZWN0IEFycmF5XVxcXCI9PT1vYmplY3RUb1N0cmluZyhhcil9LGlzRGF0ZTpmdW5jdGlvbihkKXtyZXR1cm5cXFwib2JqZWN0XFxcIj09dHlwZW9mIGQmJlxcXCJbb2JqZWN0IERhdGVdXFxcIj09PW9iamVjdFRvU3RyaW5nKGQpfSxpc1JlZ0V4cDpmdW5jdGlvbihyZSl7cmV0dXJuXFxcIm9iamVjdFxcXCI9PXR5cGVvZiByZSYmXFxcIltvYmplY3QgUmVnRXhwXVxcXCI9PT1vYmplY3RUb1N0cmluZyhyZSl9LGdldFJlZ0V4cEZsYWdzOmZ1bmN0aW9uKHJlKXt2YXIgZmxhZ3M9XFxcIlxcXCI7cmV0dXJuIHJlLmdsb2JhbCYmKGZsYWdzKz1cXFwiZ1xcXCIpLHJlLmlnbm9yZUNhc2UmJihmbGFncys9XFxcImlcXFwiKSxyZS5tdWx0aWxpbmUmJihmbGFncys9XFxcIm1cXFwiKSxmbGFnc319O1xcXCJvYmplY3RcXFwiPT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9Y2xvbmUpLGNsb25lLmNsb25lUHJvdG90eXBlPWZ1bmN0aW9uKHBhcmVudCl7aWYobnVsbD09PXBhcmVudClyZXR1cm4gbnVsbDt2YXIgYz1mdW5jdGlvbigpe307cmV0dXJuIGMucHJvdG90eXBlPXBhcmVudCxuZXcgY307dmFyIENTU0xpbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhcHBseUVtYmVkZGVkUnVsZXNldCh0ZXh0LHJ1bGVzZXQpe3ZhciB2YWx1ZU1hcCxlbWJlZGRlZD10ZXh0JiZ0ZXh0Lm1hdGNoKGVtYmVkZGVkUnVsZXNldCkscnVsZXM9ZW1iZWRkZWQmJmVtYmVkZGVkWzFdO3JldHVybiBydWxlcyYmKHZhbHVlTWFwPXtcXFwidHJ1ZVxcXCI6MixcXFwiXFxcIjoxLFxcXCJmYWxzZVxcXCI6MCwyOjIsMToxLDA6MH0scnVsZXMudG9Mb3dlckNhc2UoKS5zcGxpdChcXFwiLFxcXCIpLmZvckVhY2goZnVuY3Rpb24ocnVsZSl7dmFyIHBhaXI9cnVsZS5zcGxpdChcXFwiOlxcXCIpLHByb3BlcnR5PXBhaXJbMF18fFxcXCJcXFwiLHZhbHVlPXBhaXJbMV18fFxcXCJcXFwiO3J1bGVzZXRbcHJvcGVydHkudHJpbSgpXT12YWx1ZU1hcFt2YWx1ZS50cmltKCldfSkpLHJ1bGVzZXR9dmFyIHJ1bGVzPVtdLGZvcm1hdHRlcnM9W10sZW1iZWRkZWRSdWxlc2V0PS9cXFxcL1xcXFwqY3NzbGludChbXlxcXFwqXSopXFxcXCpcXFxcLy8sYXBpPW5ldyBwYXJzZXJsaWIudXRpbC5FdmVudFRhcmdldDtyZXR1cm4gYXBpLnZlcnNpb249XFxcIkBWRVJTSU9OQFxcXCIsYXBpLmFkZFJ1bGU9ZnVuY3Rpb24ocnVsZSl7cnVsZXMucHVzaChydWxlKSxydWxlc1tydWxlLmlkXT1ydWxlfSxhcGkuY2xlYXJSdWxlcz1mdW5jdGlvbigpe3J1bGVzPVtdfSxhcGkuZ2V0UnVsZXM9ZnVuY3Rpb24oKXtyZXR1cm5bXS5jb25jYXQocnVsZXMpLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5pZD5iLmlkPzE6MH0pfSxhcGkuZ2V0UnVsZXNldD1mdW5jdGlvbigpe2Zvcih2YXIgcnVsZXNldD17fSxpPTAsbGVuPXJ1bGVzLmxlbmd0aDtsZW4+aTspcnVsZXNldFtydWxlc1tpKytdLmlkXT0xO3JldHVybiBydWxlc2V0fSxhcGkuYWRkRm9ybWF0dGVyPWZ1bmN0aW9uKGZvcm1hdHRlcil7Zm9ybWF0dGVyc1tmb3JtYXR0ZXIuaWRdPWZvcm1hdHRlcn0sYXBpLmdldEZvcm1hdHRlcj1mdW5jdGlvbihmb3JtYXRJZCl7cmV0dXJuIGZvcm1hdHRlcnNbZm9ybWF0SWRdfSxhcGkuZm9ybWF0PWZ1bmN0aW9uKHJlc3VsdHMsZmlsZW5hbWUsZm9ybWF0SWQsb3B0aW9ucyl7dmFyIGZvcm1hdHRlcj10aGlzLmdldEZvcm1hdHRlcihmb3JtYXRJZCkscmVzdWx0PW51bGw7cmV0dXJuIGZvcm1hdHRlciYmKHJlc3VsdD1mb3JtYXR0ZXIuc3RhcnRGb3JtYXQoKSxyZXN1bHQrPWZvcm1hdHRlci5mb3JtYXRSZXN1bHRzKHJlc3VsdHMsZmlsZW5hbWUsb3B0aW9uc3x8e30pLHJlc3VsdCs9Zm9ybWF0dGVyLmVuZEZvcm1hdCgpKSxyZXN1bHR9LGFwaS5oYXNGb3JtYXQ9ZnVuY3Rpb24oZm9ybWF0SWQpe3JldHVybiBmb3JtYXR0ZXJzLmhhc093blByb3BlcnR5KGZvcm1hdElkKX0sYXBpLnZlcmlmeT1mdW5jdGlvbih0ZXh0LHJ1bGVzZXQpe3ZhciByZXBvcnRlcixsaW5lcyxyZXBvcnQsaT0wLHBhcnNlcj1uZXcgcGFyc2VybGliLmNzcy5QYXJzZXIoe3N0YXJIYWNrOiEwLGllRmlsdGVyczohMCx1bmRlcnNjb3JlSGFjazohMCxzdHJpY3Q6ITF9KTtsaW5lcz10ZXh0LnJlcGxhY2UoL1xcXFxuXFxcXHI/L2csXFxcIiRzcGxpdCRcXFwiKS5zcGxpdChcXFwiJHNwbGl0JFxcXCIpLHJ1bGVzZXR8fChydWxlc2V0PXRoaXMuZ2V0UnVsZXNldCgpKSxlbWJlZGRlZFJ1bGVzZXQudGVzdCh0ZXh0KSYmKHJ1bGVzZXQ9Y2xvbmUocnVsZXNldCkscnVsZXNldD1hcHBseUVtYmVkZGVkUnVsZXNldCh0ZXh0LHJ1bGVzZXQpKSxyZXBvcnRlcj1uZXcgUmVwb3J0ZXIobGluZXMscnVsZXNldCkscnVsZXNldC5lcnJvcnM9Mjtmb3IoaSBpbiBydWxlc2V0KXJ1bGVzZXQuaGFzT3duUHJvcGVydHkoaSkmJnJ1bGVzZXRbaV0mJnJ1bGVzW2ldJiZydWxlc1tpXS5pbml0KHBhcnNlcixyZXBvcnRlcik7dHJ5e3BhcnNlci5wYXJzZSh0ZXh0KX1jYXRjaChleCl7cmVwb3J0ZXIuZXJyb3IoXFxcIkZhdGFsIGVycm9yLCBjYW5ub3QgY29udGludWU6IFxcXCIrZXgubWVzc2FnZSxleC5saW5lLGV4LmNvbCx7fSl9cmV0dXJuIHJlcG9ydD17bWVzc2FnZXM6cmVwb3J0ZXIubWVzc2FnZXMsc3RhdHM6cmVwb3J0ZXIuc3RhdHMscnVsZXNldDpyZXBvcnRlci5ydWxlc2V0fSxyZXBvcnQubWVzc2FnZXMuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnJvbGx1cCYmIWIucm9sbHVwPzE6IWEucm9sbHVwJiZiLnJvbGx1cD8tMTphLmxpbmUtYi5saW5lfSkscmVwb3J0fSxhcGl9KCk7UmVwb3J0ZXIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpSZXBvcnRlcixlcnJvcjpmdW5jdGlvbihtZXNzYWdlLGxpbmUsY29sLHJ1bGUpe3RoaXMubWVzc2FnZXMucHVzaCh7dHlwZTpcXFwiZXJyb3JcXFwiLGxpbmU6bGluZSxjb2w6Y29sLG1lc3NhZ2U6bWVzc2FnZSxldmlkZW5jZTp0aGlzLmxpbmVzW2xpbmUtMV0scnVsZTpydWxlfHx7fX0pfSx3YXJuOmZ1bmN0aW9uKG1lc3NhZ2UsbGluZSxjb2wscnVsZSl7dGhpcy5yZXBvcnQobWVzc2FnZSxsaW5lLGNvbCxydWxlKX0scmVwb3J0OmZ1bmN0aW9uKG1lc3NhZ2UsbGluZSxjb2wscnVsZSl7dGhpcy5tZXNzYWdlcy5wdXNoKHt0eXBlOjI9PT10aGlzLnJ1bGVzZXRbcnVsZS5pZF0/XFxcImVycm9yXFxcIjpcXFwid2FybmluZ1xcXCIsbGluZTpsaW5lLGNvbDpjb2wsbWVzc2FnZTptZXNzYWdlLGV2aWRlbmNlOnRoaXMubGluZXNbbGluZS0xXSxydWxlOnJ1bGV9KX0saW5mbzpmdW5jdGlvbihtZXNzYWdlLGxpbmUsY29sLHJ1bGUpe3RoaXMubWVzc2FnZXMucHVzaCh7dHlwZTpcXFwiaW5mb1xcXCIsbGluZTpsaW5lLGNvbDpjb2wsbWVzc2FnZTptZXNzYWdlLGV2aWRlbmNlOnRoaXMubGluZXNbbGluZS0xXSxydWxlOnJ1bGV9KX0scm9sbHVwRXJyb3I6ZnVuY3Rpb24obWVzc2FnZSxydWxlKXt0aGlzLm1lc3NhZ2VzLnB1c2goe3R5cGU6XFxcImVycm9yXFxcIixyb2xsdXA6ITAsbWVzc2FnZTptZXNzYWdlLHJ1bGU6cnVsZX0pfSxyb2xsdXBXYXJuOmZ1bmN0aW9uKG1lc3NhZ2UscnVsZSl7dGhpcy5tZXNzYWdlcy5wdXNoKHt0eXBlOlxcXCJ3YXJuaW5nXFxcIixyb2xsdXA6ITAsbWVzc2FnZTptZXNzYWdlLHJ1bGU6cnVsZX0pfSxzdGF0OmZ1bmN0aW9uKG5hbWUsdmFsdWUpe3RoaXMuc3RhdHNbbmFtZV09dmFsdWV9fSxDU1NMaW50Ll9SZXBvcnRlcj1SZXBvcnRlcixDU1NMaW50LlV0aWw9e21peDpmdW5jdGlvbihyZWNlaXZlcixzdXBwbGllcil7dmFyIHByb3A7Zm9yKHByb3AgaW4gc3VwcGxpZXIpc3VwcGxpZXIuaGFzT3duUHJvcGVydHkocHJvcCkmJihyZWNlaXZlcltwcm9wXT1zdXBwbGllcltwcm9wXSk7cmV0dXJuIHByb3B9LGluZGV4T2Y6ZnVuY3Rpb24odmFsdWVzLHZhbHVlKXtpZih2YWx1ZXMuaW5kZXhPZilyZXR1cm4gdmFsdWVzLmluZGV4T2YodmFsdWUpO2Zvcih2YXIgaT0wLGxlbj12YWx1ZXMubGVuZ3RoO2xlbj5pO2krKylpZih2YWx1ZXNbaV09PT12YWx1ZSlyZXR1cm4gaTtyZXR1cm4tMX0sZm9yRWFjaDpmdW5jdGlvbih2YWx1ZXMsZnVuYyl7aWYodmFsdWVzLmZvckVhY2gpcmV0dXJuIHZhbHVlcy5mb3JFYWNoKGZ1bmMpO2Zvcih2YXIgaT0wLGxlbj12YWx1ZXMubGVuZ3RoO2xlbj5pO2krKylmdW5jKHZhbHVlc1tpXSxpLHZhbHVlcyl9fSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJhZGpvaW5pbmctY2xhc3Nlc1xcXCIsbmFtZTpcXFwiRGlzYWxsb3cgYWRqb2luaW5nIGNsYXNzZXNcXFwiLGRlc2M6XFxcIkRvbid0IHVzZSBhZGpvaW5pbmcgY2xhc3Nlcy5cXFwiLGJyb3dzZXJzOlxcXCJJRTZcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRydWxlXFxcIixmdW5jdGlvbihldmVudCl7dmFyIHNlbGVjdG9yLHBhcnQsbW9kaWZpZXIsY2xhc3NDb3VudCxpLGosayxzZWxlY3RvcnM9ZXZlbnQuc2VsZWN0b3JzO2ZvcihpPTA7c2VsZWN0b3JzLmxlbmd0aD5pO2krKylmb3Ioc2VsZWN0b3I9c2VsZWN0b3JzW2ldLGo9MDtzZWxlY3Rvci5wYXJ0cy5sZW5ndGg+ajtqKyspaWYocGFydD1zZWxlY3Rvci5wYXJ0c1tqXSxwYXJ0LnR5cGU9PT1wYXJzZXIuU0VMRUNUT1JfUEFSVF9UWVBFKWZvcihjbGFzc0NvdW50PTAsaz0wO3BhcnQubW9kaWZpZXJzLmxlbmd0aD5rO2srKyltb2RpZmllcj1wYXJ0Lm1vZGlmaWVyc1trXSxcXFwiY2xhc3NcXFwiPT09bW9kaWZpZXIudHlwZSYmY2xhc3NDb3VudCsrLGNsYXNzQ291bnQ+MSYmcmVwb3J0ZXIucmVwb3J0KFxcXCJEb24ndCB1c2UgYWRqb2luaW5nIGNsYXNzZXMuXFxcIixwYXJ0LmxpbmUscGFydC5jb2wscnVsZSl9KX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJib3gtbW9kZWxcXFwiLG5hbWU6XFxcIkJld2FyZSBvZiBicm9rZW4gYm94IHNpemVcXFwiLGRlc2M6XFxcIkRvbid0IHVzZSB3aWR0aCBvciBoZWlnaHQgd2hlbiB1c2luZyBwYWRkaW5nIG9yIGJvcmRlci5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXtmdW5jdGlvbiBzdGFydFJ1bGUoKXtwcm9wZXJ0aWVzPXt9LGJveFNpemluZz0hMX1mdW5jdGlvbiBlbmRSdWxlKCl7dmFyIHByb3AsdmFsdWU7aWYoIWJveFNpemluZyl7aWYocHJvcGVydGllcy5oZWlnaHQpZm9yKHByb3AgaW4gaGVpZ2h0UHJvcGVydGllcyloZWlnaHRQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3ApJiZwcm9wZXJ0aWVzW3Byb3BdJiYodmFsdWU9cHJvcGVydGllc1twcm9wXS52YWx1ZSwoXFxcInBhZGRpbmdcXFwiIT09cHJvcHx8MiE9PXZhbHVlLnBhcnRzLmxlbmd0aHx8MCE9PXZhbHVlLnBhcnRzWzBdLnZhbHVlKSYmcmVwb3J0ZXIucmVwb3J0KFxcXCJVc2luZyBoZWlnaHQgd2l0aCBcXFwiK3Byb3ArXFxcIiBjYW4gc29tZXRpbWVzIG1ha2UgZWxlbWVudHMgbGFyZ2VyIHRoYW4geW91IGV4cGVjdC5cXFwiLHByb3BlcnRpZXNbcHJvcF0ubGluZSxwcm9wZXJ0aWVzW3Byb3BdLmNvbCxydWxlKSk7aWYocHJvcGVydGllcy53aWR0aClmb3IocHJvcCBpbiB3aWR0aFByb3BlcnRpZXMpd2lkdGhQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3ApJiZwcm9wZXJ0aWVzW3Byb3BdJiYodmFsdWU9cHJvcGVydGllc1twcm9wXS52YWx1ZSwoXFxcInBhZGRpbmdcXFwiIT09cHJvcHx8MiE9PXZhbHVlLnBhcnRzLmxlbmd0aHx8MCE9PXZhbHVlLnBhcnRzWzFdLnZhbHVlKSYmcmVwb3J0ZXIucmVwb3J0KFxcXCJVc2luZyB3aWR0aCB3aXRoIFxcXCIrcHJvcCtcXFwiIGNhbiBzb21ldGltZXMgbWFrZSBlbGVtZW50cyBsYXJnZXIgdGhhbiB5b3UgZXhwZWN0LlxcXCIscHJvcGVydGllc1twcm9wXS5saW5lLHByb3BlcnRpZXNbcHJvcF0uY29sLHJ1bGUpKX19dmFyIHByb3BlcnRpZXMscnVsZT10aGlzLHdpZHRoUHJvcGVydGllcz17Ym9yZGVyOjEsXFxcImJvcmRlci1sZWZ0XFxcIjoxLFxcXCJib3JkZXItcmlnaHRcXFwiOjEscGFkZGluZzoxLFxcXCJwYWRkaW5nLWxlZnRcXFwiOjEsXFxcInBhZGRpbmctcmlnaHRcXFwiOjF9LGhlaWdodFByb3BlcnRpZXM9e2JvcmRlcjoxLFxcXCJib3JkZXItYm90dG9tXFxcIjoxLFxcXCJib3JkZXItdG9wXFxcIjoxLHBhZGRpbmc6MSxcXFwicGFkZGluZy1ib3R0b21cXFwiOjEsXFxcInBhZGRpbmctdG9wXFxcIjoxfSxib3hTaXppbmc9ITE7cGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHJ1bGVcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydGZvbnRmYWNlXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRwYWdlXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRwYWdlbWFyZ2luXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRrZXlmcmFtZXJ1bGVcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJwcm9wZXJ0eVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBuYW1lPWV2ZW50LnByb3BlcnR5LnRleHQudG9Mb3dlckNhc2UoKTtoZWlnaHRQcm9wZXJ0aWVzW25hbWVdfHx3aWR0aFByb3BlcnRpZXNbbmFtZV0/L14wXFxcXFMqJC8udGVzdChldmVudC52YWx1ZSl8fFxcXCJib3JkZXJcXFwiPT09bmFtZSYmXFxcIm5vbmVcXFwiPT1cXFwiXFxcIitldmVudC52YWx1ZXx8KHByb3BlcnRpZXNbbmFtZV09e2xpbmU6ZXZlbnQucHJvcGVydHkubGluZSxjb2w6ZXZlbnQucHJvcGVydHkuY29sLHZhbHVlOmV2ZW50LnZhbHVlfSk6L14od2lkdGh8aGVpZ2h0KS9pLnRlc3QobmFtZSkmJi9eKGxlbmd0aHxwZXJjZW50YWdlKS8udGVzdChldmVudC52YWx1ZS5wYXJ0c1swXS50eXBlKT9wcm9wZXJ0aWVzW25hbWVdPTE6XFxcImJveC1zaXppbmdcXFwiPT09bmFtZSYmKGJveFNpemluZz0hMCl9KSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImVuZHJ1bGVcXFwiLGVuZFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kZm9udGZhY2VcXFwiLGVuZFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kcGFnZVxcXCIsZW5kUnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRwYWdlbWFyZ2luXFxcIixlbmRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImVuZGtleWZyYW1lcnVsZVxcXCIsZW5kUnVsZSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwiYm94LXNpemluZ1xcXCIsbmFtZTpcXFwiRGlzYWxsb3cgdXNlIG9mIGJveC1zaXppbmdcXFwiLGRlc2M6XFxcIlRoZSBib3gtc2l6aW5nIHByb3BlcnRpZXMgaXNuJ3Qgc3VwcG9ydGVkIGluIElFNiBhbmQgSUU3LlxcXCIsYnJvd3NlcnM6XFxcIklFNiwgSUU3XFxcIix0YWdzOltcXFwiQ29tcGF0aWJpbGl0eVxcXCJdLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwicHJvcGVydHlcXFwiLGZ1bmN0aW9uKGV2ZW50KXt2YXIgbmFtZT1ldmVudC5wcm9wZXJ0eS50ZXh0LnRvTG93ZXJDYXNlKCk7XFxcImJveC1zaXppbmdcXFwiPT09bmFtZSYmcmVwb3J0ZXIucmVwb3J0KFxcXCJUaGUgYm94LXNpemluZyBwcm9wZXJ0eSBpc24ndCBzdXBwb3J0ZWQgaW4gSUU2IGFuZCBJRTcuXFxcIixldmVudC5saW5lLGV2ZW50LmNvbCxydWxlKX0pfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcImJ1bGxldHByb29mLWZvbnQtZmFjZVxcXCIsbmFtZTpcXFwiVXNlIHRoZSBidWxsZXRwcm9vZiBAZm9udC1mYWNlIHN5bnRheFxcXCIsZGVzYzpcXFwiVXNlIHRoZSBidWxsZXRwcm9vZiBAZm9udC1mYWNlIHN5bnRheCB0byBhdm9pZCA0MDQncyBpbiBvbGQgSUUgKGh0dHA6Ly93d3cuZm9udHNwcmluZy5jb20vYmxvZy90aGUtbmV3LWJ1bGxldHByb29mLWZvbnQtZmFjZS1zeW50YXgpLlxcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe3ZhciBsaW5lLGNvbCxydWxlPXRoaXMsZm9udEZhY2VSdWxlPSExLGZpcnN0U3JjPSEwLHJ1bGVGYWlsZWQ9ITE7cGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydGZvbnRmYWNlXFxcIixmdW5jdGlvbigpe2ZvbnRGYWNlUnVsZT0hMH0pLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwicHJvcGVydHlcXFwiLGZ1bmN0aW9uKGV2ZW50KXtpZihmb250RmFjZVJ1bGUpe3ZhciBwcm9wZXJ0eU5hbWU9KFxcXCJcXFwiK2V2ZW50LnByb3BlcnR5KS50b0xvd2VyQ2FzZSgpLHZhbHVlPVxcXCJcXFwiK2V2ZW50LnZhbHVlO2lmKGxpbmU9ZXZlbnQubGluZSxjb2w9ZXZlbnQuY29sLFxcXCJzcmNcXFwiPT09cHJvcGVydHlOYW1lKXt2YXIgcmVnZXg9L15cXFxccz91cmxcXFxcKFsnXFxcIl0uK1xcXFwuZW90XFxcXD8uKlsnXFxcIl1cXFxcKVxcXFxzKmZvcm1hdFxcXFwoWydcXFwiXWVtYmVkZGVkLW9wZW50eXBlWydcXFwiXVxcXFwpLiokL2k7IXZhbHVlLm1hdGNoKHJlZ2V4KSYmZmlyc3RTcmM/KHJ1bGVGYWlsZWQ9ITAsZmlyc3RTcmM9ITEpOnZhbHVlLm1hdGNoKHJlZ2V4KSYmIWZpcnN0U3JjJiYocnVsZUZhaWxlZD0hMSl9fX0pLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kZm9udGZhY2VcXFwiLGZ1bmN0aW9uKCl7Zm9udEZhY2VSdWxlPSExLHJ1bGVGYWlsZWQmJnJlcG9ydGVyLnJlcG9ydChcXFwiQGZvbnQtZmFjZSBkZWNsYXJhdGlvbiBkb2Vzbid0IGZvbGxvdyB0aGUgZm9udHNwcmluZyBidWxsZXRwcm9vZiBzeW50YXguXFxcIixsaW5lLGNvbCxydWxlKX0pfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcImNvbXBhdGlibGUtdmVuZG9yLXByZWZpeGVzXFxcIixuYW1lOlxcXCJSZXF1aXJlIGNvbXBhdGlibGUgdmVuZG9yIHByZWZpeGVzXFxcIixkZXNjOlxcXCJJbmNsdWRlIGFsbCBjb21wYXRpYmxlIHZlbmRvciBwcmVmaXhlcyB0byByZWFjaCBhIHdpZGVyIHJhbmdlIG9mIHVzZXJzLlxcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe3ZhciBjb21wYXRpYmxlUHJlZml4ZXMscHJvcGVydGllcyxwcm9wLHZhcmlhdGlvbnMscHJlZml4ZWQsaSxsZW4scnVsZT10aGlzLGluS2V5RnJhbWU9ITEsYXJyYXlQdXNoPUFycmF5LnByb3RvdHlwZS5wdXNoLGFwcGx5VG89W107Y29tcGF0aWJsZVByZWZpeGVzPXthbmltYXRpb246XFxcIndlYmtpdCBtb3pcXFwiLFxcXCJhbmltYXRpb24tZGVsYXlcXFwiOlxcXCJ3ZWJraXQgbW96XFxcIixcXFwiYW5pbWF0aW9uLWRpcmVjdGlvblxcXCI6XFxcIndlYmtpdCBtb3pcXFwiLFxcXCJhbmltYXRpb24tZHVyYXRpb25cXFwiOlxcXCJ3ZWJraXQgbW96XFxcIixcXFwiYW5pbWF0aW9uLWZpbGwtbW9kZVxcXCI6XFxcIndlYmtpdCBtb3pcXFwiLFxcXCJhbmltYXRpb24taXRlcmF0aW9uLWNvdW50XFxcIjpcXFwid2Via2l0IG1velxcXCIsXFxcImFuaW1hdGlvbi1uYW1lXFxcIjpcXFwid2Via2l0IG1velxcXCIsXFxcImFuaW1hdGlvbi1wbGF5LXN0YXRlXFxcIjpcXFwid2Via2l0IG1velxcXCIsXFxcImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb25cXFwiOlxcXCJ3ZWJraXQgbW96XFxcIixhcHBlYXJhbmNlOlxcXCJ3ZWJraXQgbW96XFxcIixcXFwiYm9yZGVyLWVuZFxcXCI6XFxcIndlYmtpdCBtb3pcXFwiLFxcXCJib3JkZXItZW5kLWNvbG9yXFxcIjpcXFwid2Via2l0IG1velxcXCIsXFxcImJvcmRlci1lbmQtc3R5bGVcXFwiOlxcXCJ3ZWJraXQgbW96XFxcIixcXFwiYm9yZGVyLWVuZC13aWR0aFxcXCI6XFxcIndlYmtpdCBtb3pcXFwiLFxcXCJib3JkZXItaW1hZ2VcXFwiOlxcXCJ3ZWJraXQgbW96IG9cXFwiLFxcXCJib3JkZXItcmFkaXVzXFxcIjpcXFwid2Via2l0XFxcIixcXFwiYm9yZGVyLXN0YXJ0XFxcIjpcXFwid2Via2l0IG1velxcXCIsXFxcImJvcmRlci1zdGFydC1jb2xvclxcXCI6XFxcIndlYmtpdCBtb3pcXFwiLFxcXCJib3JkZXItc3RhcnQtc3R5bGVcXFwiOlxcXCJ3ZWJraXQgbW96XFxcIixcXFwiYm9yZGVyLXN0YXJ0LXdpZHRoXFxcIjpcXFwid2Via2l0IG1velxcXCIsXFxcImJveC1hbGlnblxcXCI6XFxcIndlYmtpdCBtb3ogbXNcXFwiLFxcXCJib3gtZGlyZWN0aW9uXFxcIjpcXFwid2Via2l0IG1veiBtc1xcXCIsXFxcImJveC1mbGV4XFxcIjpcXFwid2Via2l0IG1veiBtc1xcXCIsXFxcImJveC1saW5lc1xcXCI6XFxcIndlYmtpdCBtc1xcXCIsXFxcImJveC1vcmRpbmFsLWdyb3VwXFxcIjpcXFwid2Via2l0IG1veiBtc1xcXCIsXFxcImJveC1vcmllbnRcXFwiOlxcXCJ3ZWJraXQgbW96IG1zXFxcIixcXFwiYm94LXBhY2tcXFwiOlxcXCJ3ZWJraXQgbW96IG1zXFxcIixcXFwiYm94LXNpemluZ1xcXCI6XFxcIndlYmtpdCBtb3pcXFwiLFxcXCJib3gtc2hhZG93XFxcIjpcXFwid2Via2l0IG1velxcXCIsXFxcImNvbHVtbi1jb3VudFxcXCI6XFxcIndlYmtpdCBtb3ogbXNcXFwiLFxcXCJjb2x1bW4tZ2FwXFxcIjpcXFwid2Via2l0IG1veiBtc1xcXCIsXFxcImNvbHVtbi1ydWxlXFxcIjpcXFwid2Via2l0IG1veiBtc1xcXCIsXFxcImNvbHVtbi1ydWxlLWNvbG9yXFxcIjpcXFwid2Via2l0IG1veiBtc1xcXCIsXFxcImNvbHVtbi1ydWxlLXN0eWxlXFxcIjpcXFwid2Via2l0IG1veiBtc1xcXCIsXFxcImNvbHVtbi1ydWxlLXdpZHRoXFxcIjpcXFwid2Via2l0IG1veiBtc1xcXCIsXFxcImNvbHVtbi13aWR0aFxcXCI6XFxcIndlYmtpdCBtb3ogbXNcXFwiLGh5cGhlbnM6XFxcImVwdWIgbW96XFxcIixcXFwibGluZS1icmVha1xcXCI6XFxcIndlYmtpdCBtc1xcXCIsXFxcIm1hcmdpbi1lbmRcXFwiOlxcXCJ3ZWJraXQgbW96XFxcIixcXFwibWFyZ2luLXN0YXJ0XFxcIjpcXFwid2Via2l0IG1velxcXCIsXFxcIm1hcnF1ZWUtc3BlZWRcXFwiOlxcXCJ3ZWJraXQgd2FwXFxcIixcXFwibWFycXVlZS1zdHlsZVxcXCI6XFxcIndlYmtpdCB3YXBcXFwiLFxcXCJwYWRkaW5nLWVuZFxcXCI6XFxcIndlYmtpdCBtb3pcXFwiLFxcXCJwYWRkaW5nLXN0YXJ0XFxcIjpcXFwid2Via2l0IG1velxcXCIsXFxcInRhYi1zaXplXFxcIjpcXFwibW96IG9cXFwiLFxcXCJ0ZXh0LXNpemUtYWRqdXN0XFxcIjpcXFwid2Via2l0IG1zXFxcIix0cmFuc2Zvcm06XFxcIndlYmtpdCBtb3ogbXMgb1xcXCIsXFxcInRyYW5zZm9ybS1vcmlnaW5cXFwiOlxcXCJ3ZWJraXQgbW96IG1zIG9cXFwiLHRyYW5zaXRpb246XFxcIndlYmtpdCBtb3ogb1xcXCIsXFxcInRyYW5zaXRpb24tZGVsYXlcXFwiOlxcXCJ3ZWJraXQgbW96IG9cXFwiLFxcXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXFxcIjpcXFwid2Via2l0IG1veiBvXFxcIixcXFwidHJhbnNpdGlvbi1wcm9wZXJ0eVxcXCI6XFxcIndlYmtpdCBtb3ogb1xcXCIsXFxcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXFxcIjpcXFwid2Via2l0IG1veiBvXFxcIixcXFwidXNlci1tb2RpZnlcXFwiOlxcXCJ3ZWJraXQgbW96XFxcIixcXFwidXNlci1zZWxlY3RcXFwiOlxcXCJ3ZWJraXQgbW96IG1zXFxcIixcXFwid29yZC1icmVha1xcXCI6XFxcImVwdWIgbXNcXFwiLFxcXCJ3cml0aW5nLW1vZGVcXFwiOlxcXCJlcHViIG1zXFxcIn07Zm9yKHByb3AgaW4gY29tcGF0aWJsZVByZWZpeGVzKWlmKGNvbXBhdGlibGVQcmVmaXhlcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSl7Zm9yKHZhcmlhdGlvbnM9W10scHJlZml4ZWQ9Y29tcGF0aWJsZVByZWZpeGVzW3Byb3BdLnNwbGl0KFxcXCIgXFxcIiksaT0wLGxlbj1wcmVmaXhlZC5sZW5ndGg7bGVuPmk7aSsrKXZhcmlhdGlvbnMucHVzaChcXFwiLVxcXCIrcHJlZml4ZWRbaV0rXFxcIi1cXFwiK3Byb3ApO2NvbXBhdGlibGVQcmVmaXhlc1twcm9wXT12YXJpYXRpb25zLGFycmF5UHVzaC5hcHBseShhcHBseVRvLHZhcmlhdGlvbnMpfXBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRydWxlXFxcIixmdW5jdGlvbigpe3Byb3BlcnRpZXM9W119KSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0a2V5ZnJhbWVzXFxcIixmdW5jdGlvbihldmVudCl7aW5LZXlGcmFtZT1ldmVudC5wcmVmaXh8fCEwfSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRrZXlmcmFtZXNcXFwiLGZ1bmN0aW9uKCl7aW5LZXlGcmFtZT0hMX0pLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwicHJvcGVydHlcXFwiLGZ1bmN0aW9uKGV2ZW50KXt2YXIgbmFtZT1ldmVudC5wcm9wZXJ0eTtDU1NMaW50LlV0aWwuaW5kZXhPZihhcHBseVRvLG5hbWUudGV4dCk+LTEmJihpbktleUZyYW1lJiZcXFwic3RyaW5nXFxcIj09dHlwZW9mIGluS2V5RnJhbWUmJjA9PT1uYW1lLnRleHQuaW5kZXhPZihcXFwiLVxcXCIraW5LZXlGcmFtZStcXFwiLVxcXCIpfHxwcm9wZXJ0aWVzLnB1c2gobmFtZSkpfSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRydWxlXFxcIixmdW5jdGlvbigpe2lmKHByb3BlcnRpZXMubGVuZ3RoKXt2YXIgaSxsZW4sbmFtZSxwcm9wLHZhcmlhdGlvbnMsdmFsdWUsZnVsbCxhY3R1YWwsaXRlbSxwcm9wZXJ0aWVzU3BlY2lmaWVkLHByb3BlcnR5R3JvdXBzPXt9O2ZvcihpPTAsbGVuPXByb3BlcnRpZXMubGVuZ3RoO2xlbj5pO2krKyl7bmFtZT1wcm9wZXJ0aWVzW2ldO2Zvcihwcm9wIGluIGNvbXBhdGlibGVQcmVmaXhlcyljb21wYXRpYmxlUHJlZml4ZXMuaGFzT3duUHJvcGVydHkocHJvcCkmJih2YXJpYXRpb25zPWNvbXBhdGlibGVQcmVmaXhlc1twcm9wXSxDU1NMaW50LlV0aWwuaW5kZXhPZih2YXJpYXRpb25zLG5hbWUudGV4dCk+LTEmJihwcm9wZXJ0eUdyb3Vwc1twcm9wXXx8KHByb3BlcnR5R3JvdXBzW3Byb3BdPXtmdWxsOnZhcmlhdGlvbnMuc2xpY2UoMCksYWN0dWFsOltdLGFjdHVhbE5vZGVzOltdfSksLTE9PT1DU1NMaW50LlV0aWwuaW5kZXhPZihwcm9wZXJ0eUdyb3Vwc1twcm9wXS5hY3R1YWwsbmFtZS50ZXh0KSYmKHByb3BlcnR5R3JvdXBzW3Byb3BdLmFjdHVhbC5wdXNoKG5hbWUudGV4dCkscHJvcGVydHlHcm91cHNbcHJvcF0uYWN0dWFsTm9kZXMucHVzaChuYW1lKSkpKX1mb3IocHJvcCBpbiBwcm9wZXJ0eUdyb3VwcylpZihwcm9wZXJ0eUdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSYmKHZhbHVlPXByb3BlcnR5R3JvdXBzW3Byb3BdLGZ1bGw9dmFsdWUuZnVsbCxhY3R1YWw9dmFsdWUuYWN0dWFsLGZ1bGwubGVuZ3RoPmFjdHVhbC5sZW5ndGgpKWZvcihpPTAsbGVuPWZ1bGwubGVuZ3RoO2xlbj5pO2krKylpdGVtPWZ1bGxbaV0sLTE9PT1DU1NMaW50LlV0aWwuaW5kZXhPZihhY3R1YWwsaXRlbSkmJihwcm9wZXJ0aWVzU3BlY2lmaWVkPTE9PT1hY3R1YWwubGVuZ3RoP2FjdHVhbFswXToyPT09YWN0dWFsLmxlbmd0aD9hY3R1YWwuam9pbihcXFwiIGFuZCBcXFwiKTphY3R1YWwuam9pbihcXFwiLCBcXFwiKSxyZXBvcnRlci5yZXBvcnQoXFxcIlRoZSBwcm9wZXJ0eSBcXFwiK2l0ZW0rXFxcIiBpcyBjb21wYXRpYmxlIHdpdGggXFxcIitwcm9wZXJ0aWVzU3BlY2lmaWVkK1xcXCIgYW5kIHNob3VsZCBiZSBpbmNsdWRlZCBhcyB3ZWxsLlxcXCIsdmFsdWUuYWN0dWFsTm9kZXNbMF0ubGluZSx2YWx1ZS5hY3R1YWxOb2Rlc1swXS5jb2wscnVsZSkpfX0pfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcImRpc3BsYXktcHJvcGVydHktZ3JvdXBpbmdcXFwiLG5hbWU6XFxcIlJlcXVpcmUgcHJvcGVydGllcyBhcHByb3ByaWF0ZSBmb3IgZGlzcGxheVxcXCIsZGVzYzpcXFwiQ2VydGFpbiBwcm9wZXJ0aWVzIHNob3VsZG4ndCBiZSB1c2VkIHdpdGggY2VydGFpbiBkaXNwbGF5IHByb3BlcnR5IHZhbHVlcy5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXtmdW5jdGlvbiByZXBvcnRQcm9wZXJ0eShuYW1lLGRpc3BsYXksbXNnKXtwcm9wZXJ0aWVzW25hbWVdJiYoXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBwcm9wZXJ0aWVzVG9DaGVja1tuYW1lXXx8cHJvcGVydGllc1tuYW1lXS52YWx1ZS50b0xvd2VyQ2FzZSgpIT09cHJvcGVydGllc1RvQ2hlY2tbbmFtZV0pJiZyZXBvcnRlci5yZXBvcnQobXNnfHxuYW1lK1xcXCIgY2FuJ3QgYmUgdXNlZCB3aXRoIGRpc3BsYXk6IFxcXCIrZGlzcGxheStcXFwiLlxcXCIscHJvcGVydGllc1tuYW1lXS5saW5lLHByb3BlcnRpZXNbbmFtZV0uY29sLHJ1bGUpfWZ1bmN0aW9uIHN0YXJ0UnVsZSgpe3Byb3BlcnRpZXM9e319ZnVuY3Rpb24gZW5kUnVsZSgpe3ZhciBkaXNwbGF5PXByb3BlcnRpZXMuZGlzcGxheT9wcm9wZXJ0aWVzLmRpc3BsYXkudmFsdWU6bnVsbDtpZihkaXNwbGF5KXN3aXRjaChkaXNwbGF5KXtjYXNlXFxcImlubGluZVxcXCI6cmVwb3J0UHJvcGVydHkoXFxcImhlaWdodFxcXCIsZGlzcGxheSkscmVwb3J0UHJvcGVydHkoXFxcIndpZHRoXFxcIixkaXNwbGF5KSxyZXBvcnRQcm9wZXJ0eShcXFwibWFyZ2luXFxcIixkaXNwbGF5KSxyZXBvcnRQcm9wZXJ0eShcXFwibWFyZ2luLXRvcFxcXCIsZGlzcGxheSkscmVwb3J0UHJvcGVydHkoXFxcIm1hcmdpbi1ib3R0b21cXFwiLGRpc3BsYXkpLHJlcG9ydFByb3BlcnR5KFxcXCJmbG9hdFxcXCIsZGlzcGxheSxcXFwiZGlzcGxheTppbmxpbmUgaGFzIG5vIGVmZmVjdCBvbiBmbG9hdGVkIGVsZW1lbnRzIChidXQgbWF5IGJlIHVzZWQgdG8gZml4IHRoZSBJRTYgZG91YmxlLW1hcmdpbiBidWcpLlxcXCIpO2JyZWFrO2Nhc2VcXFwiYmxvY2tcXFwiOnJlcG9ydFByb3BlcnR5KFxcXCJ2ZXJ0aWNhbC1hbGlnblxcXCIsZGlzcGxheSk7YnJlYWs7Y2FzZVxcXCJpbmxpbmUtYmxvY2tcXFwiOnJlcG9ydFByb3BlcnR5KFxcXCJmbG9hdFxcXCIsZGlzcGxheSk7YnJlYWs7ZGVmYXVsdDowPT09ZGlzcGxheS5pbmRleE9mKFxcXCJ0YWJsZS1cXFwiKSYmKHJlcG9ydFByb3BlcnR5KFxcXCJtYXJnaW5cXFwiLGRpc3BsYXkpLHJlcG9ydFByb3BlcnR5KFxcXCJtYXJnaW4tbGVmdFxcXCIsZGlzcGxheSkscmVwb3J0UHJvcGVydHkoXFxcIm1hcmdpbi1yaWdodFxcXCIsZGlzcGxheSkscmVwb3J0UHJvcGVydHkoXFxcIm1hcmdpbi10b3BcXFwiLGRpc3BsYXkpLHJlcG9ydFByb3BlcnR5KFxcXCJtYXJnaW4tYm90dG9tXFxcIixkaXNwbGF5KSxyZXBvcnRQcm9wZXJ0eShcXFwiZmxvYXRcXFwiLGRpc3BsYXkpKVxcbn19dmFyIHByb3BlcnRpZXMscnVsZT10aGlzLHByb3BlcnRpZXNUb0NoZWNrPXtkaXNwbGF5OjEsXFxcImZsb2F0XFxcIjpcXFwibm9uZVxcXCIsaGVpZ2h0OjEsd2lkdGg6MSxtYXJnaW46MSxcXFwibWFyZ2luLWxlZnRcXFwiOjEsXFxcIm1hcmdpbi1yaWdodFxcXCI6MSxcXFwibWFyZ2luLWJvdHRvbVxcXCI6MSxcXFwibWFyZ2luLXRvcFxcXCI6MSxwYWRkaW5nOjEsXFxcInBhZGRpbmctbGVmdFxcXCI6MSxcXFwicGFkZGluZy1yaWdodFxcXCI6MSxcXFwicGFkZGluZy1ib3R0b21cXFwiOjEsXFxcInBhZGRpbmctdG9wXFxcIjoxLFxcXCJ2ZXJ0aWNhbC1hbGlnblxcXCI6MX07cGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHJ1bGVcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydGZvbnRmYWNlXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRrZXlmcmFtZXJ1bGVcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHBhZ2VtYXJnaW5cXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHBhZ2VcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJwcm9wZXJ0eVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBuYW1lPWV2ZW50LnByb3BlcnR5LnRleHQudG9Mb3dlckNhc2UoKTtwcm9wZXJ0aWVzVG9DaGVja1tuYW1lXSYmKHByb3BlcnRpZXNbbmFtZV09e3ZhbHVlOmV2ZW50LnZhbHVlLnRleHQsbGluZTpldmVudC5wcm9wZXJ0eS5saW5lLGNvbDpldmVudC5wcm9wZXJ0eS5jb2x9KX0pLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kcnVsZVxcXCIsZW5kUnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRmb250ZmFjZVxcXCIsZW5kUnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRrZXlmcmFtZXJ1bGVcXFwiLGVuZFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kcGFnZW1hcmdpblxcXCIsZW5kUnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRwYWdlXFxcIixlbmRSdWxlKX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJkdXBsaWNhdGUtYmFja2dyb3VuZC1pbWFnZXNcXFwiLG5hbWU6XFxcIkRpc2FsbG93IGR1cGxpY2F0ZSBiYWNrZ3JvdW5kIGltYWdlc1xcXCIsZGVzYzpcXFwiRXZlcnkgYmFja2dyb3VuZC1pbWFnZSBzaG91bGQgYmUgdW5pcXVlLiBVc2UgYSBjb21tb24gY2xhc3MgZm9yIGUuZy4gc3ByaXRlcy5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzLHN0YWNrPXt9O3BhcnNlci5hZGRMaXN0ZW5lcihcXFwicHJvcGVydHlcXFwiLGZ1bmN0aW9uKGV2ZW50KXt2YXIgaSxsZW4sbmFtZT1ldmVudC5wcm9wZXJ0eS50ZXh0LHZhbHVlPWV2ZW50LnZhbHVlO2lmKG5hbWUubWF0Y2goL2JhY2tncm91bmQvaSkpZm9yKGk9MCxsZW49dmFsdWUucGFydHMubGVuZ3RoO2xlbj5pO2krKylcXFwidXJpXFxcIj09PXZhbHVlLnBhcnRzW2ldLnR5cGUmJihzdGFja1t2YWx1ZS5wYXJ0c1tpXS51cmldPT09dm9pZCAwP3N0YWNrW3ZhbHVlLnBhcnRzW2ldLnVyaV09ZXZlbnQ6cmVwb3J0ZXIucmVwb3J0KFxcXCJCYWNrZ3JvdW5kIGltYWdlICdcXFwiK3ZhbHVlLnBhcnRzW2ldLnVyaStcXFwiJyB3YXMgdXNlZCBtdWx0aXBsZSB0aW1lcywgZmlyc3QgZGVjbGFyZWQgYXQgbGluZSBcXFwiK3N0YWNrW3ZhbHVlLnBhcnRzW2ldLnVyaV0ubGluZStcXFwiLCBjb2wgXFxcIitzdGFja1t2YWx1ZS5wYXJ0c1tpXS51cmldLmNvbCtcXFwiLlxcXCIsZXZlbnQubGluZSxldmVudC5jb2wscnVsZSkpfSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwiZHVwbGljYXRlLXByb3BlcnRpZXNcXFwiLG5hbWU6XFxcIkRpc2FsbG93IGR1cGxpY2F0ZSBwcm9wZXJ0aWVzXFxcIixkZXNjOlxcXCJEdXBsaWNhdGUgcHJvcGVydGllcyBtdXN0IGFwcGVhciBvbmUgYWZ0ZXIgdGhlIG90aGVyLlxcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe2Z1bmN0aW9uIHN0YXJ0UnVsZSgpe3Byb3BlcnRpZXM9e319dmFyIHByb3BlcnRpZXMsbGFzdFByb3BlcnR5LHJ1bGU9dGhpcztwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0cnVsZVxcXCIsc3RhcnRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0Zm9udGZhY2VcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHBhZ2VcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHBhZ2VtYXJnaW5cXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydGtleWZyYW1lcnVsZVxcXCIsc3RhcnRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInByb3BlcnR5XFxcIixmdW5jdGlvbihldmVudCl7dmFyIHByb3BlcnR5PWV2ZW50LnByb3BlcnR5LG5hbWU9cHJvcGVydHkudGV4dC50b0xvd2VyQ2FzZSgpOyFwcm9wZXJ0aWVzW25hbWVdfHxsYXN0UHJvcGVydHk9PT1uYW1lJiZwcm9wZXJ0aWVzW25hbWVdIT09ZXZlbnQudmFsdWUudGV4dHx8cmVwb3J0ZXIucmVwb3J0KFxcXCJEdXBsaWNhdGUgcHJvcGVydHkgJ1xcXCIrZXZlbnQucHJvcGVydHkrXFxcIicgZm91bmQuXFxcIixldmVudC5saW5lLGV2ZW50LmNvbCxydWxlKSxwcm9wZXJ0aWVzW25hbWVdPWV2ZW50LnZhbHVlLnRleHQsbGFzdFByb3BlcnR5PW5hbWV9KX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJlbXB0eS1ydWxlc1xcXCIsbmFtZTpcXFwiRGlzYWxsb3cgZW1wdHkgcnVsZXNcXFwiLGRlc2M6XFxcIlJ1bGVzIHdpdGhvdXQgYW55IHByb3BlcnRpZXMgc3BlY2lmaWVkIHNob3VsZCBiZSByZW1vdmVkLlxcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe3ZhciBydWxlPXRoaXMsY291bnQ9MDtwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0cnVsZVxcXCIsZnVuY3Rpb24oKXtjb3VudD0wfSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJwcm9wZXJ0eVxcXCIsZnVuY3Rpb24oKXtjb3VudCsrfSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRydWxlXFxcIixmdW5jdGlvbihldmVudCl7dmFyIHNlbGVjdG9ycz1ldmVudC5zZWxlY3RvcnM7MD09PWNvdW50JiZyZXBvcnRlci5yZXBvcnQoXFxcIlJ1bGUgaXMgZW1wdHkuXFxcIixzZWxlY3RvcnNbMF0ubGluZSxzZWxlY3RvcnNbMF0uY29sLHJ1bGUpfSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwiZXJyb3JzXFxcIixuYW1lOlxcXCJQYXJzaW5nIEVycm9yc1xcXCIsZGVzYzpcXFwiVGhpcyBydWxlIGxvb2tzIGZvciByZWNvdmVyYWJsZSBzeW50YXggZXJyb3JzLlxcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe3ZhciBydWxlPXRoaXM7cGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlcnJvclxcXCIsZnVuY3Rpb24oZXZlbnQpe3JlcG9ydGVyLmVycm9yKGV2ZW50Lm1lc3NhZ2UsZXZlbnQubGluZSxldmVudC5jb2wscnVsZSl9KX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJmYWxsYmFjay1jb2xvcnNcXFwiLG5hbWU6XFxcIlJlcXVpcmUgZmFsbGJhY2sgY29sb3JzXFxcIixkZXNjOlxcXCJGb3Igb2xkZXIgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IFJHQkEsIEhTTCwgb3IgSFNMQSwgcHJvdmlkZSBhIGZhbGxiYWNrIGNvbG9yLlxcXCIsYnJvd3NlcnM6XFxcIklFNixJRTcsSUU4XFxcIixpbml0OmZ1bmN0aW9uKHBhcnNlcixyZXBvcnRlcil7ZnVuY3Rpb24gc3RhcnRSdWxlKCl7cHJvcGVydGllcz17fSxsYXN0UHJvcGVydHk9bnVsbH12YXIgbGFzdFByb3BlcnR5LHByb3BlcnRpZXMscnVsZT10aGlzLHByb3BlcnRpZXNUb0NoZWNrPXtjb2xvcjoxLGJhY2tncm91bmQ6MSxcXFwiYm9yZGVyLWNvbG9yXFxcIjoxLFxcXCJib3JkZXItdG9wLWNvbG9yXFxcIjoxLFxcXCJib3JkZXItcmlnaHQtY29sb3JcXFwiOjEsXFxcImJvcmRlci1ib3R0b20tY29sb3JcXFwiOjEsXFxcImJvcmRlci1sZWZ0LWNvbG9yXFxcIjoxLGJvcmRlcjoxLFxcXCJib3JkZXItdG9wXFxcIjoxLFxcXCJib3JkZXItcmlnaHRcXFwiOjEsXFxcImJvcmRlci1ib3R0b21cXFwiOjEsXFxcImJvcmRlci1sZWZ0XFxcIjoxLFxcXCJiYWNrZ3JvdW5kLWNvbG9yXFxcIjoxfTtwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0cnVsZVxcXCIsc3RhcnRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0Zm9udGZhY2VcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHBhZ2VcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHBhZ2VtYXJnaW5cXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydGtleWZyYW1lcnVsZVxcXCIsc3RhcnRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInByb3BlcnR5XFxcIixmdW5jdGlvbihldmVudCl7dmFyIHByb3BlcnR5PWV2ZW50LnByb3BlcnR5LG5hbWU9cHJvcGVydHkudGV4dC50b0xvd2VyQ2FzZSgpLHBhcnRzPWV2ZW50LnZhbHVlLnBhcnRzLGk9MCxjb2xvclR5cGU9XFxcIlxcXCIsbGVuPXBhcnRzLmxlbmd0aDtpZihwcm9wZXJ0aWVzVG9DaGVja1tuYW1lXSlmb3IoO2xlbj5pOylcXFwiY29sb3JcXFwiPT09cGFydHNbaV0udHlwZSYmKFxcXCJhbHBoYVxcXCJpbiBwYXJ0c1tpXXx8XFxcImh1ZVxcXCJpbiBwYXJ0c1tpXT8oLyhbXlxcXFwpXSspXFxcXCgvLnRlc3QocGFydHNbaV0pJiYoY29sb3JUeXBlPVJlZ0V4cC4kMS50b1VwcGVyQ2FzZSgpKSxsYXN0UHJvcGVydHkmJmxhc3RQcm9wZXJ0eS5wcm9wZXJ0eS50ZXh0LnRvTG93ZXJDYXNlKCk9PT1uYW1lJiZcXFwiY29tcGF0XFxcIj09PWxhc3RQcm9wZXJ0eS5jb2xvclR5cGV8fHJlcG9ydGVyLnJlcG9ydChcXFwiRmFsbGJhY2sgXFxcIituYW1lK1xcXCIgKGhleCBvciBSR0IpIHNob3VsZCBwcmVjZWRlIFxcXCIrY29sb3JUeXBlK1xcXCIgXFxcIituYW1lK1xcXCIuXFxcIixldmVudC5saW5lLGV2ZW50LmNvbCxydWxlKSk6ZXZlbnQuY29sb3JUeXBlPVxcXCJjb21wYXRcXFwiKSxpKys7bGFzdFByb3BlcnR5PWV2ZW50fSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwiZmxvYXRzXFxcIixuYW1lOlxcXCJEaXNhbGxvdyB0b28gbWFueSBmbG9hdHNcXFwiLGRlc2M6XFxcIlRoaXMgcnVsZSB0ZXN0cyBpZiB0aGUgZmxvYXQgcHJvcGVydHkgaXMgdXNlZCB0b28gbWFueSB0aW1lc1xcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe3ZhciBydWxlPXRoaXMsY291bnQ9MDtwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInByb3BlcnR5XFxcIixmdW5jdGlvbihldmVudCl7XFxcImZsb2F0XFxcIj09PWV2ZW50LnByb3BlcnR5LnRleHQudG9Mb3dlckNhc2UoKSYmXFxcIm5vbmVcXFwiIT09ZXZlbnQudmFsdWUudGV4dC50b0xvd2VyQ2FzZSgpJiZjb3VudCsrfSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRzdHlsZXNoZWV0XFxcIixmdW5jdGlvbigpe3JlcG9ydGVyLnN0YXQoXFxcImZsb2F0c1xcXCIsY291bnQpLGNvdW50Pj0xMCYmcmVwb3J0ZXIucm9sbHVwV2FybihcXFwiVG9vIG1hbnkgZmxvYXRzIChcXFwiK2NvdW50K1xcXCIpLCB5b3UncmUgcHJvYmFibHkgdXNpbmcgdGhlbSBmb3IgbGF5b3V0LiBDb25zaWRlciB1c2luZyBhIGdyaWQgc3lzdGVtIGluc3RlYWQuXFxcIixydWxlKX0pfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcImZvbnQtZmFjZXNcXFwiLG5hbWU6XFxcIkRvbid0IHVzZSB0b28gbWFueSB3ZWIgZm9udHNcXFwiLGRlc2M6XFxcIlRvbyBtYW55IGRpZmZlcmVudCB3ZWIgZm9udHMgaW4gdGhlIHNhbWUgc3R5bGVzaGVldC5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzLGNvdW50PTA7cGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydGZvbnRmYWNlXFxcIixmdW5jdGlvbigpe2NvdW50Kyt9KSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImVuZHN0eWxlc2hlZXRcXFwiLGZ1bmN0aW9uKCl7Y291bnQ+NSYmcmVwb3J0ZXIucm9sbHVwV2FybihcXFwiVG9vIG1hbnkgQGZvbnQtZmFjZSBkZWNsYXJhdGlvbnMgKFxcXCIrY291bnQrXFxcIikuXFxcIixydWxlKX0pfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcImZvbnQtc2l6ZXNcXFwiLG5hbWU6XFxcIkRpc2FsbG93IHRvbyBtYW55IGZvbnQgc2l6ZXNcXFwiLGRlc2M6XFxcIkNoZWNrcyB0aGUgbnVtYmVyIG9mIGZvbnQtc2l6ZSBkZWNsYXJhdGlvbnMuXFxcIixicm93c2VyczpcXFwiQWxsXFxcIixpbml0OmZ1bmN0aW9uKHBhcnNlcixyZXBvcnRlcil7dmFyIHJ1bGU9dGhpcyxjb3VudD0wO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwicHJvcGVydHlcXFwiLGZ1bmN0aW9uKGV2ZW50KXtcXFwiZm9udC1zaXplXFxcIj09XFxcIlxcXCIrZXZlbnQucHJvcGVydHkmJmNvdW50Kyt9KSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImVuZHN0eWxlc2hlZXRcXFwiLGZ1bmN0aW9uKCl7cmVwb3J0ZXIuc3RhdChcXFwiZm9udC1zaXplc1xcXCIsY291bnQpLGNvdW50Pj0xMCYmcmVwb3J0ZXIucm9sbHVwV2FybihcXFwiVG9vIG1hbnkgZm9udC1zaXplIGRlY2xhcmF0aW9ucyAoXFxcIitjb3VudCtcXFwiKSwgYWJzdHJhY3Rpb24gbmVlZGVkLlxcXCIscnVsZSl9KX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJncmFkaWVudHNcXFwiLG5hbWU6XFxcIlJlcXVpcmUgYWxsIGdyYWRpZW50IGRlZmluaXRpb25zXFxcIixkZXNjOlxcXCJXaGVuIHVzaW5nIGEgdmVuZG9yLXByZWZpeGVkIGdyYWRpZW50LCBtYWtlIHN1cmUgdG8gdXNlIHRoZW0gYWxsLlxcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe3ZhciBncmFkaWVudHMscnVsZT10aGlzO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRydWxlXFxcIixmdW5jdGlvbigpe2dyYWRpZW50cz17bW96OjAsd2Via2l0OjAsb2xkV2Via2l0OjAsbzowfX0pLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwicHJvcGVydHlcXFwiLGZ1bmN0aW9uKGV2ZW50KXsvXFxcXC0obW96fG98d2Via2l0KSg/OlxcXFwtKD86bGluZWFyfHJhZGlhbCkpXFxcXC1ncmFkaWVudC9pLnRlc3QoZXZlbnQudmFsdWUpP2dyYWRpZW50c1tSZWdFeHAuJDFdPTE6L1xcXFwtd2Via2l0XFxcXC1ncmFkaWVudC9pLnRlc3QoZXZlbnQudmFsdWUpJiYoZ3JhZGllbnRzLm9sZFdlYmtpdD0xKX0pLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kcnVsZVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBtaXNzaW5nPVtdO2dyYWRpZW50cy5tb3p8fG1pc3NpbmcucHVzaChcXFwiRmlyZWZveCAzLjYrXFxcIiksZ3JhZGllbnRzLndlYmtpdHx8bWlzc2luZy5wdXNoKFxcXCJXZWJraXQgKFNhZmFyaSA1KywgQ2hyb21lKVxcXCIpLGdyYWRpZW50cy5vbGRXZWJraXR8fG1pc3NpbmcucHVzaChcXFwiT2xkIFdlYmtpdCAoU2FmYXJpIDQrLCBDaHJvbWUpXFxcIiksZ3JhZGllbnRzLm98fG1pc3NpbmcucHVzaChcXFwiT3BlcmEgMTEuMStcXFwiKSxtaXNzaW5nLmxlbmd0aCYmND5taXNzaW5nLmxlbmd0aCYmcmVwb3J0ZXIucmVwb3J0KFxcXCJNaXNzaW5nIHZlbmRvci1wcmVmaXhlZCBDU1MgZ3JhZGllbnRzIGZvciBcXFwiK21pc3Npbmcuam9pbihcXFwiLCBcXFwiKStcXFwiLlxcXCIsZXZlbnQuc2VsZWN0b3JzWzBdLmxpbmUsZXZlbnQuc2VsZWN0b3JzWzBdLmNvbCxydWxlKX0pfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcImlkc1xcXCIsbmFtZTpcXFwiRGlzYWxsb3cgSURzIGluIHNlbGVjdG9yc1xcXCIsZGVzYzpcXFwiU2VsZWN0b3JzIHNob3VsZCBub3QgY29udGFpbiBJRHMuXFxcIixicm93c2VyczpcXFwiQWxsXFxcIixpbml0OmZ1bmN0aW9uKHBhcnNlcixyZXBvcnRlcil7dmFyIHJ1bGU9dGhpcztwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0cnVsZVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBzZWxlY3RvcixwYXJ0LG1vZGlmaWVyLGlkQ291bnQsaSxqLGssc2VsZWN0b3JzPWV2ZW50LnNlbGVjdG9ycztmb3IoaT0wO3NlbGVjdG9ycy5sZW5ndGg+aTtpKyspe2ZvcihzZWxlY3Rvcj1zZWxlY3RvcnNbaV0saWRDb3VudD0wLGo9MDtzZWxlY3Rvci5wYXJ0cy5sZW5ndGg+ajtqKyspaWYocGFydD1zZWxlY3Rvci5wYXJ0c1tqXSxwYXJ0LnR5cGU9PT1wYXJzZXIuU0VMRUNUT1JfUEFSVF9UWVBFKWZvcihrPTA7cGFydC5tb2RpZmllcnMubGVuZ3RoPms7aysrKW1vZGlmaWVyPXBhcnQubW9kaWZpZXJzW2tdLFxcXCJpZFxcXCI9PT1tb2RpZmllci50eXBlJiZpZENvdW50Kys7MT09PWlkQ291bnQ/cmVwb3J0ZXIucmVwb3J0KFxcXCJEb24ndCB1c2UgSURzIGluIHNlbGVjdG9ycy5cXFwiLHNlbGVjdG9yLmxpbmUsc2VsZWN0b3IuY29sLHJ1bGUpOmlkQ291bnQ+MSYmcmVwb3J0ZXIucmVwb3J0KGlkQ291bnQrXFxcIiBJRHMgaW4gdGhlIHNlbGVjdG9yLCByZWFsbHk/XFxcIixzZWxlY3Rvci5saW5lLHNlbGVjdG9yLmNvbCxydWxlKX19KX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJpbXBvcnRcXFwiLG5hbWU6XFxcIkRpc2FsbG93IEBpbXBvcnRcXFwiLGRlc2M6XFxcIkRvbid0IHVzZSBAaW1wb3J0LCB1c2UgPGxpbms+IGluc3RlYWQuXFxcIixicm93c2VyczpcXFwiQWxsXFxcIixpbml0OmZ1bmN0aW9uKHBhcnNlcixyZXBvcnRlcil7dmFyIHJ1bGU9dGhpcztwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImltcG9ydFxcXCIsZnVuY3Rpb24oZXZlbnQpe3JlcG9ydGVyLnJlcG9ydChcXFwiQGltcG9ydCBwcmV2ZW50cyBwYXJhbGxlbCBkb3dubG9hZHMsIHVzZSA8bGluaz4gaW5zdGVhZC5cXFwiLGV2ZW50LmxpbmUsZXZlbnQuY29sLHJ1bGUpfSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwiaW1wb3J0YW50XFxcIixuYW1lOlxcXCJEaXNhbGxvdyAhaW1wb3J0YW50XFxcIixkZXNjOlxcXCJCZSBjYXJlZnVsIHdoZW4gdXNpbmcgIWltcG9ydGFudCBkZWNsYXJhdGlvblxcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe3ZhciBydWxlPXRoaXMsY291bnQ9MDtwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInByb3BlcnR5XFxcIixmdW5jdGlvbihldmVudCl7ZXZlbnQuaW1wb3J0YW50PT09ITAmJihjb3VudCsrLHJlcG9ydGVyLnJlcG9ydChcXFwiVXNlIG9mICFpbXBvcnRhbnRcXFwiLGV2ZW50LmxpbmUsZXZlbnQuY29sLHJ1bGUpKX0pLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kc3R5bGVzaGVldFxcXCIsZnVuY3Rpb24oKXtyZXBvcnRlci5zdGF0KFxcXCJpbXBvcnRhbnRcXFwiLGNvdW50KSxjb3VudD49MTAmJnJlcG9ydGVyLnJvbGx1cFdhcm4oXFxcIlRvbyBtYW55ICFpbXBvcnRhbnQgZGVjbGFyYXRpb25zIChcXFwiK2NvdW50K1xcXCIpLCB0cnkgdG8gdXNlIGxlc3MgdGhhbiAxMCB0byBhdm9pZCBzcGVjaWZpY2l0eSBpc3N1ZXMuXFxcIixydWxlKX0pfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcImtub3duLXByb3BlcnRpZXNcXFwiLG5hbWU6XFxcIlJlcXVpcmUgdXNlIG9mIGtub3duIHByb3BlcnRpZXNcXFwiLGRlc2M6XFxcIlByb3BlcnRpZXMgc2hvdWxkIGJlIGtub3duIChsaXN0ZWQgaW4gQ1NTMyBzcGVjaWZpY2F0aW9uKSBvciBiZSBhIHZlbmRvci1wcmVmaXhlZCBwcm9wZXJ0eS5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwicHJvcGVydHlcXFwiLGZ1bmN0aW9uKGV2ZW50KXtldmVudC5pbnZhbGlkJiZyZXBvcnRlci5yZXBvcnQoZXZlbnQuaW52YWxpZC5tZXNzYWdlLGV2ZW50LmxpbmUsZXZlbnQuY29sLHJ1bGUpfSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwib3JkZXItYWxwaGFiZXRpY2FsXFxcIixuYW1lOlxcXCJBbHBoYWJldGljYWwgb3JkZXJcXFwiLGRlc2M6XFxcIkFzc3VyZSBwcm9wZXJ0aWVzIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcHJvcGVydGllcyxydWxlPXRoaXMsc3RhcnRSdWxlPWZ1bmN0aW9uKCl7cHJvcGVydGllcz1bXX07cGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHJ1bGVcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydGZvbnRmYWNlXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRwYWdlXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRwYWdlbWFyZ2luXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRrZXlmcmFtZXJ1bGVcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJwcm9wZXJ0eVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBuYW1lPWV2ZW50LnByb3BlcnR5LnRleHQsbG93ZXJDYXNlUHJlZml4TGVzc05hbWU9bmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL14tLio/LS8sXFxcIlxcXCIpO3Byb3BlcnRpZXMucHVzaChsb3dlckNhc2VQcmVmaXhMZXNzTmFtZSl9KSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImVuZHJ1bGVcXFwiLGZ1bmN0aW9uKGV2ZW50KXt2YXIgY3VycmVudFByb3BlcnRpZXM9cHJvcGVydGllcy5qb2luKFxcXCIsXFxcIiksZXhwZWN0ZWRQcm9wZXJ0aWVzPXByb3BlcnRpZXMuc29ydCgpLmpvaW4oXFxcIixcXFwiKTtjdXJyZW50UHJvcGVydGllcyE9PWV4cGVjdGVkUHJvcGVydGllcyYmcmVwb3J0ZXIucmVwb3J0KFxcXCJSdWxlIGRvZXNuJ3QgaGF2ZSBhbGwgaXRzIHByb3BlcnRpZXMgaW4gYWxwaGFiZXRpY2FsIG9yZGVyZWQuXFxcIixldmVudC5saW5lLGV2ZW50LmNvbCxydWxlKX0pfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcIm91dGxpbmUtbm9uZVxcXCIsbmFtZTpcXFwiRGlzYWxsb3cgb3V0bGluZTogbm9uZVxcXCIsZGVzYzpcXFwiVXNlIG9mIG91dGxpbmU6IG5vbmUgb3Igb3V0bGluZTogMCBzaG91bGQgYmUgbGltaXRlZCB0byA6Zm9jdXMgcnVsZXMuXFxcIixicm93c2VyczpcXFwiQWxsXFxcIix0YWdzOltcXFwiQWNjZXNzaWJpbGl0eVxcXCJdLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXtmdW5jdGlvbiBzdGFydFJ1bGUoZXZlbnQpe2xhc3RSdWxlPWV2ZW50LnNlbGVjdG9ycz97bGluZTpldmVudC5saW5lLGNvbDpldmVudC5jb2wsc2VsZWN0b3JzOmV2ZW50LnNlbGVjdG9ycyxwcm9wQ291bnQ6MCxvdXRsaW5lOiExfTpudWxsfWZ1bmN0aW9uIGVuZFJ1bGUoKXtsYXN0UnVsZSYmbGFzdFJ1bGUub3V0bGluZSYmKC0xPT09KFxcXCJcXFwiK2xhc3RSdWxlLnNlbGVjdG9ycykudG9Mb3dlckNhc2UoKS5pbmRleE9mKFxcXCI6Zm9jdXNcXFwiKT9yZXBvcnRlci5yZXBvcnQoXFxcIk91dGxpbmVzIHNob3VsZCBvbmx5IGJlIG1vZGlmaWVkIHVzaW5nIDpmb2N1cy5cXFwiLGxhc3RSdWxlLmxpbmUsbGFzdFJ1bGUuY29sLHJ1bGUpOjE9PT1sYXN0UnVsZS5wcm9wQ291bnQmJnJlcG9ydGVyLnJlcG9ydChcXFwiT3V0bGluZXMgc2hvdWxkbid0IGJlIGhpZGRlbiB1bmxlc3Mgb3RoZXIgdmlzdWFsIGNoYW5nZXMgYXJlIG1hZGUuXFxcIixsYXN0UnVsZS5saW5lLGxhc3RSdWxlLmNvbCxydWxlKSl9dmFyIGxhc3RSdWxlLHJ1bGU9dGhpcztwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0cnVsZVxcXCIsc3RhcnRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0Zm9udGZhY2VcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHBhZ2VcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHBhZ2VtYXJnaW5cXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydGtleWZyYW1lcnVsZVxcXCIsc3RhcnRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInByb3BlcnR5XFxcIixmdW5jdGlvbihldmVudCl7dmFyIG5hbWU9ZXZlbnQucHJvcGVydHkudGV4dC50b0xvd2VyQ2FzZSgpLHZhbHVlPWV2ZW50LnZhbHVlO2xhc3RSdWxlJiYobGFzdFJ1bGUucHJvcENvdW50KyssXFxcIm91dGxpbmVcXFwiIT09bmFtZXx8XFxcIm5vbmVcXFwiIT1cXFwiXFxcIit2YWx1ZSYmXFxcIjBcXFwiIT1cXFwiXFxcIit2YWx1ZXx8KGxhc3RSdWxlLm91dGxpbmU9ITApKX0pLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kcnVsZVxcXCIsZW5kUnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRmb250ZmFjZVxcXCIsZW5kUnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRwYWdlXFxcIixlbmRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImVuZHBhZ2VtYXJnaW5cXFwiLGVuZFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5ka2V5ZnJhbWVydWxlXFxcIixlbmRSdWxlKX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJvdmVycXVhbGlmaWVkLWVsZW1lbnRzXFxcIixuYW1lOlxcXCJEaXNhbGxvdyBvdmVycXVhbGlmaWVkIGVsZW1lbnRzXFxcIixkZXNjOlxcXCJEb24ndCB1c2UgY2xhc3NlcyBvciBJRHMgd2l0aCBlbGVtZW50cyAoYS5mb28gb3IgYSNmb28pLlxcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe3ZhciBydWxlPXRoaXMsY2xhc3Nlcz17fTtwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0cnVsZVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBzZWxlY3RvcixwYXJ0LG1vZGlmaWVyLGksaixrLHNlbGVjdG9ycz1ldmVudC5zZWxlY3RvcnM7Zm9yKGk9MDtzZWxlY3RvcnMubGVuZ3RoPmk7aSsrKWZvcihzZWxlY3Rvcj1zZWxlY3RvcnNbaV0saj0wO3NlbGVjdG9yLnBhcnRzLmxlbmd0aD5qO2orKylpZihwYXJ0PXNlbGVjdG9yLnBhcnRzW2pdLHBhcnQudHlwZT09PXBhcnNlci5TRUxFQ1RPUl9QQVJUX1RZUEUpZm9yKGs9MDtwYXJ0Lm1vZGlmaWVycy5sZW5ndGg+aztrKyspbW9kaWZpZXI9cGFydC5tb2RpZmllcnNba10scGFydC5lbGVtZW50TmFtZSYmXFxcImlkXFxcIj09PW1vZGlmaWVyLnR5cGU/cmVwb3J0ZXIucmVwb3J0KFxcXCJFbGVtZW50IChcXFwiK3BhcnQrXFxcIikgaXMgb3ZlcnF1YWxpZmllZCwganVzdCB1c2UgXFxcIittb2RpZmllcitcXFwiIHdpdGhvdXQgZWxlbWVudCBuYW1lLlxcXCIscGFydC5saW5lLHBhcnQuY29sLHJ1bGUpOlxcXCJjbGFzc1xcXCI9PT1tb2RpZmllci50eXBlJiYoY2xhc3Nlc1ttb2RpZmllcl18fChjbGFzc2VzW21vZGlmaWVyXT1bXSksY2xhc3Nlc1ttb2RpZmllcl0ucHVzaCh7bW9kaWZpZXI6bW9kaWZpZXIscGFydDpwYXJ0fSkpfSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRzdHlsZXNoZWV0XFxcIixmdW5jdGlvbigpe3ZhciBwcm9wO2Zvcihwcm9wIGluIGNsYXNzZXMpY2xhc3Nlcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSYmMT09PWNsYXNzZXNbcHJvcF0ubGVuZ3RoJiZjbGFzc2VzW3Byb3BdWzBdLnBhcnQuZWxlbWVudE5hbWUmJnJlcG9ydGVyLnJlcG9ydChcXFwiRWxlbWVudCAoXFxcIitjbGFzc2VzW3Byb3BdWzBdLnBhcnQrXFxcIikgaXMgb3ZlcnF1YWxpZmllZCwganVzdCB1c2UgXFxcIitjbGFzc2VzW3Byb3BdWzBdLm1vZGlmaWVyK1xcXCIgd2l0aG91dCBlbGVtZW50IG5hbWUuXFxcIixjbGFzc2VzW3Byb3BdWzBdLnBhcnQubGluZSxjbGFzc2VzW3Byb3BdWzBdLnBhcnQuY29sLHJ1bGUpfSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwicXVhbGlmaWVkLWhlYWRpbmdzXFxcIixuYW1lOlxcXCJEaXNhbGxvdyBxdWFsaWZpZWQgaGVhZGluZ3NcXFwiLGRlc2M6XFxcIkhlYWRpbmdzIHNob3VsZCBub3QgYmUgcXVhbGlmaWVkIChuYW1lc3BhY2VkKS5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRydWxlXFxcIixmdW5jdGlvbihldmVudCl7dmFyIHNlbGVjdG9yLHBhcnQsaSxqLHNlbGVjdG9ycz1ldmVudC5zZWxlY3RvcnM7Zm9yKGk9MDtzZWxlY3RvcnMubGVuZ3RoPmk7aSsrKWZvcihzZWxlY3Rvcj1zZWxlY3RvcnNbaV0saj0wO3NlbGVjdG9yLnBhcnRzLmxlbmd0aD5qO2orKylwYXJ0PXNlbGVjdG9yLnBhcnRzW2pdLHBhcnQudHlwZT09PXBhcnNlci5TRUxFQ1RPUl9QQVJUX1RZUEUmJnBhcnQuZWxlbWVudE5hbWUmJi9oWzEtNl0vLnRlc3QoXFxcIlxcXCIrcGFydC5lbGVtZW50TmFtZSkmJmo+MCYmcmVwb3J0ZXIucmVwb3J0KFxcXCJIZWFkaW5nIChcXFwiK3BhcnQuZWxlbWVudE5hbWUrXFxcIikgc2hvdWxkIG5vdCBiZSBxdWFsaWZpZWQuXFxcIixwYXJ0LmxpbmUscGFydC5jb2wscnVsZSl9KX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJyZWdleC1zZWxlY3RvcnNcXFwiLG5hbWU6XFxcIkRpc2FsbG93IHNlbGVjdG9ycyB0aGF0IGxvb2sgbGlrZSByZWdleHNcXFwiLGRlc2M6XFxcIlNlbGVjdG9ycyB0aGF0IGxvb2sgbGlrZSByZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBzbG93IGFuZCBzaG91bGQgYmUgYXZvaWRlZC5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRydWxlXFxcIixmdW5jdGlvbihldmVudCl7dmFyIHNlbGVjdG9yLHBhcnQsbW9kaWZpZXIsaSxqLGssc2VsZWN0b3JzPWV2ZW50LnNlbGVjdG9ycztmb3IoaT0wO3NlbGVjdG9ycy5sZW5ndGg+aTtpKyspZm9yKHNlbGVjdG9yPXNlbGVjdG9yc1tpXSxqPTA7c2VsZWN0b3IucGFydHMubGVuZ3RoPmo7aisrKWlmKHBhcnQ9c2VsZWN0b3IucGFydHNbal0scGFydC50eXBlPT09cGFyc2VyLlNFTEVDVE9SX1BBUlRfVFlQRSlmb3Ioaz0wO3BhcnQubW9kaWZpZXJzLmxlbmd0aD5rO2srKyltb2RpZmllcj1wYXJ0Lm1vZGlmaWVyc1trXSxcXFwiYXR0cmlidXRlXFxcIj09PW1vZGlmaWVyLnR5cGUmJi8oW1xcXFx+XFxcXHxcXFxcXlxcXFwkXFxcXCpdPSkvLnRlc3QobW9kaWZpZXIpJiZyZXBvcnRlci5yZXBvcnQoXFxcIkF0dHJpYnV0ZSBzZWxlY3RvcnMgd2l0aCBcXFwiK1JlZ0V4cC4kMStcXFwiIGFyZSBzbG93IVxcXCIsbW9kaWZpZXIubGluZSxtb2RpZmllci5jb2wscnVsZSl9KX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJydWxlcy1jb3VudFxcXCIsbmFtZTpcXFwiUnVsZXMgQ291bnRcXFwiLGRlc2M6XFxcIlRyYWNrIGhvdyBtYW55IHJ1bGVzIHRoZXJlIGFyZS5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgY291bnQ9MDtwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0cnVsZVxcXCIsZnVuY3Rpb24oKXtjb3VudCsrfSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRzdHlsZXNoZWV0XFxcIixmdW5jdGlvbigpe3JlcG9ydGVyLnN0YXQoXFxcInJ1bGUtY291bnRcXFwiLGNvdW50KX0pfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcInNlbGVjdG9yLW1heC1hcHByb2FjaGluZ1xcXCIsbmFtZTpcXFwiV2FybiB3aGVuIGFwcHJvYWNoaW5nIHRoZSA0MDk1IHNlbGVjdG9yIGxpbWl0IGZvciBJRVxcXCIsZGVzYzpcXFwiV2lsbCB3YXJuIHdoZW4gc2VsZWN0b3IgY291bnQgaXMgPj0gMzgwMCBzZWxlY3RvcnMuXFxcIixicm93c2VyczpcXFwiSUVcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzLGNvdW50PTA7cGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHJ1bGVcXFwiLGZ1bmN0aW9uKGV2ZW50KXtjb3VudCs9ZXZlbnQuc2VsZWN0b3JzLmxlbmd0aH0pLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kc3R5bGVzaGVldFxcXCIsZnVuY3Rpb24oKXtjb3VudD49MzgwMCYmcmVwb3J0ZXIucmVwb3J0KFxcXCJZb3UgaGF2ZSBcXFwiK2NvdW50K1xcXCIgc2VsZWN0b3JzLiBJbnRlcm5ldCBFeHBsb3JlciBzdXBwb3J0cyBhIG1heGltdW0gb2YgNDA5NSBzZWxlY3RvcnMgcGVyIHN0eWxlc2hlZXQuIENvbnNpZGVyIHJlZmFjdG9yaW5nLlxcXCIsMCwwLHJ1bGUpfSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwic2VsZWN0b3ItbWF4XFxcIixuYW1lOlxcXCJFcnJvciB3aGVuIHBhc3QgdGhlIDQwOTUgc2VsZWN0b3IgbGltaXQgZm9yIElFXFxcIixkZXNjOlxcXCJXaWxsIGVycm9yIHdoZW4gc2VsZWN0b3IgY291bnQgaXMgPiA0MDk1LlxcXCIsYnJvd3NlcnM6XFxcIklFXFxcIixpbml0OmZ1bmN0aW9uKHBhcnNlcixyZXBvcnRlcil7dmFyIHJ1bGU9dGhpcyxjb3VudD0wO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRydWxlXFxcIixmdW5jdGlvbihldmVudCl7Y291bnQrPWV2ZW50LnNlbGVjdG9ycy5sZW5ndGh9KSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImVuZHN0eWxlc2hlZXRcXFwiLGZ1bmN0aW9uKCl7Y291bnQ+NDA5NSYmcmVwb3J0ZXIucmVwb3J0KFxcXCJZb3UgaGF2ZSBcXFwiK2NvdW50K1xcXCIgc2VsZWN0b3JzLiBJbnRlcm5ldCBFeHBsb3JlciBzdXBwb3J0cyBhIG1heGltdW0gb2YgNDA5NSBzZWxlY3RvcnMgcGVyIHN0eWxlc2hlZXQuIENvbnNpZGVyIHJlZmFjdG9yaW5nLlxcXCIsMCwwLHJ1bGUpfSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwic2VsZWN0b3ItbmV3bGluZVxcXCIsbmFtZTpcXFwiRGlzYWxsb3cgbmV3LWxpbmUgY2hhcmFjdGVycyBpbiBzZWxlY3RvcnNcXFwiLGRlc2M6XFxcIk5ldy1saW5lIGNoYXJhY3RlcnMgaW4gc2VsZWN0b3JzIGFyZSB1c3VhbGx5IGEgZm9yZ290dGVuIGNvbW1hIGFuZCBub3QgYSBkZXNjZW5kYW50IGNvbWJpbmF0b3IuXFxcIixicm93c2VyczpcXFwiQWxsXFxcIixpbml0OmZ1bmN0aW9uKHBhcnNlcixyZXBvcnRlcil7ZnVuY3Rpb24gc3RhcnRSdWxlKGV2ZW50KXt2YXIgaSxsZW4sc2VsZWN0b3IscCxuLHBMZW4scGFydCxwYXJ0Mix0eXBlLGN1cnJlbnRMaW5lLG5leHRMaW5lLHNlbGVjdG9ycz1ldmVudC5zZWxlY3RvcnM7Zm9yKGk9MCxsZW49c2VsZWN0b3JzLmxlbmd0aDtsZW4+aTtpKyspZm9yKHNlbGVjdG9yPXNlbGVjdG9yc1tpXSxwPTAscExlbj1zZWxlY3Rvci5wYXJ0cy5sZW5ndGg7cExlbj5wO3ArKylmb3Iobj1wKzE7cExlbj5uO24rKylwYXJ0PXNlbGVjdG9yLnBhcnRzW3BdLHBhcnQyPXNlbGVjdG9yLnBhcnRzW25dLHR5cGU9cGFydC50eXBlLGN1cnJlbnRMaW5lPXBhcnQubGluZSxuZXh0TGluZT1wYXJ0Mi5saW5lLFxcXCJkZXNjZW5kYW50XFxcIj09PXR5cGUmJm5leHRMaW5lPmN1cnJlbnRMaW5lJiZyZXBvcnRlci5yZXBvcnQoXFxcIm5ld2xpbmUgY2hhcmFjdGVyIGZvdW5kIGluIHNlbGVjdG9yIChmb3Jnb3QgYSBjb21tYT8pXFxcIixjdXJyZW50TGluZSxzZWxlY3RvcnNbaV0ucGFydHNbMF0uY29sLHJ1bGUpfXZhciBydWxlPXRoaXM7cGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHJ1bGVcXFwiLHN0YXJ0UnVsZSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwic2hvcnRoYW5kXFxcIixuYW1lOlxcXCJSZXF1aXJlIHNob3J0aGFuZCBwcm9wZXJ0aWVzXFxcIixkZXNjOlxcXCJVc2Ugc2hvcnRoYW5kIHByb3BlcnRpZXMgd2hlcmUgcG9zc2libGUuXFxcIixicm93c2VyczpcXFwiQWxsXFxcIixpbml0OmZ1bmN0aW9uKHBhcnNlcixyZXBvcnRlcil7ZnVuY3Rpb24gc3RhcnRSdWxlKCl7cHJvcGVydGllcz17fX1mdW5jdGlvbiBlbmRSdWxlKGV2ZW50KXt2YXIgcHJvcCxpLGxlbix0b3RhbDtmb3IocHJvcCBpbiBtYXBwaW5nKWlmKG1hcHBpbmcuaGFzT3duUHJvcGVydHkocHJvcCkpe2Zvcih0b3RhbD0wLGk9MCxsZW49bWFwcGluZ1twcm9wXS5sZW5ndGg7bGVuPmk7aSsrKXRvdGFsKz1wcm9wZXJ0aWVzW21hcHBpbmdbcHJvcF1baV1dPzE6MDt0b3RhbD09PW1hcHBpbmdbcHJvcF0ubGVuZ3RoJiZyZXBvcnRlci5yZXBvcnQoXFxcIlRoZSBwcm9wZXJ0aWVzIFxcXCIrbWFwcGluZ1twcm9wXS5qb2luKFxcXCIsIFxcXCIpK1xcXCIgY2FuIGJlIHJlcGxhY2VkIGJ5IFxcXCIrcHJvcCtcXFwiLlxcXCIsZXZlbnQubGluZSxldmVudC5jb2wscnVsZSl9fXZhciBwcm9wLGksbGVuLHByb3BlcnRpZXMscnVsZT10aGlzLHByb3BlcnRpZXNUb0NoZWNrPXt9LG1hcHBpbmc9e21hcmdpbjpbXFxcIm1hcmdpbi10b3BcXFwiLFxcXCJtYXJnaW4tYm90dG9tXFxcIixcXFwibWFyZ2luLWxlZnRcXFwiLFxcXCJtYXJnaW4tcmlnaHRcXFwiXSxwYWRkaW5nOltcXFwicGFkZGluZy10b3BcXFwiLFxcXCJwYWRkaW5nLWJvdHRvbVxcXCIsXFxcInBhZGRpbmctbGVmdFxcXCIsXFxcInBhZGRpbmctcmlnaHRcXFwiXX07Zm9yKHByb3AgaW4gbWFwcGluZylpZihtYXBwaW5nLmhhc093blByb3BlcnR5KHByb3ApKWZvcihpPTAsbGVuPW1hcHBpbmdbcHJvcF0ubGVuZ3RoO2xlbj5pO2krKylwcm9wZXJ0aWVzVG9DaGVja1ttYXBwaW5nW3Byb3BdW2ldXT1wcm9wO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRydWxlXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRmb250ZmFjZVxcXCIsc3RhcnRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInByb3BlcnR5XFxcIixmdW5jdGlvbihldmVudCl7dmFyIG5hbWU9KFxcXCJcXFwiK2V2ZW50LnByb3BlcnR5KS50b0xvd2VyQ2FzZSgpO3Byb3BlcnRpZXNUb0NoZWNrW25hbWVdJiYocHJvcGVydGllc1tuYW1lXT0xKX0pLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kcnVsZVxcXCIsZW5kUnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRmb250ZmFjZVxcXCIsZW5kUnVsZSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwic3Rhci1wcm9wZXJ0eS1oYWNrXFxcIixuYW1lOlxcXCJEaXNhbGxvdyBwcm9wZXJ0aWVzIHdpdGggYSBzdGFyIHByZWZpeFxcXCIsZGVzYzpcXFwiQ2hlY2tzIGZvciB0aGUgc3RhciBwcm9wZXJ0eSBoYWNrICh0YXJnZXRzIElFNi83KVxcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe3ZhciBydWxlPXRoaXM7cGFyc2VyLmFkZExpc3RlbmVyKFxcXCJwcm9wZXJ0eVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBwcm9wZXJ0eT1ldmVudC5wcm9wZXJ0eTtcXFwiKlxcXCI9PT1wcm9wZXJ0eS5oYWNrJiZyZXBvcnRlci5yZXBvcnQoXFxcIlByb3BlcnR5IHdpdGggc3RhciBwcmVmaXggZm91bmQuXFxcIixldmVudC5wcm9wZXJ0eS5saW5lLGV2ZW50LnByb3BlcnR5LmNvbCxydWxlKX0pfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcInRleHQtaW5kZW50XFxcIixuYW1lOlxcXCJEaXNhbGxvdyBuZWdhdGl2ZSB0ZXh0LWluZGVudFxcXCIsZGVzYzpcXFwiQ2hlY2tzIGZvciB0ZXh0IGluZGVudCBsZXNzIHRoYW4gLTk5cHhcXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXtmdW5jdGlvbiBzdGFydFJ1bGUoKXt0ZXh0SW5kZW50PSExLGRpcmVjdGlvbj1cXFwiaW5oZXJpdFxcXCJ9ZnVuY3Rpb24gZW5kUnVsZSgpe3RleHRJbmRlbnQmJlxcXCJsdHJcXFwiIT09ZGlyZWN0aW9uJiZyZXBvcnRlci5yZXBvcnQoXFxcIk5lZ2F0aXZlIHRleHQtaW5kZW50IGRvZXNuJ3Qgd29yayB3ZWxsIHdpdGggUlRMLiBJZiB5b3UgdXNlIHRleHQtaW5kZW50IGZvciBpbWFnZSByZXBsYWNlbWVudCBleHBsaWNpdGx5IHNldCBkaXJlY3Rpb24gZm9yIHRoYXQgaXRlbSB0byBsdHIuXFxcIix0ZXh0SW5kZW50LmxpbmUsdGV4dEluZGVudC5jb2wscnVsZSl9dmFyIHRleHRJbmRlbnQsZGlyZWN0aW9uLHJ1bGU9dGhpcztwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0cnVsZVxcXCIsc3RhcnRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0Zm9udGZhY2VcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJwcm9wZXJ0eVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBuYW1lPShcXFwiXFxcIitldmVudC5wcm9wZXJ0eSkudG9Mb3dlckNhc2UoKSx2YWx1ZT1ldmVudC52YWx1ZTtcXFwidGV4dC1pbmRlbnRcXFwiPT09bmFtZSYmLTk5PnZhbHVlLnBhcnRzWzBdLnZhbHVlP3RleHRJbmRlbnQ9ZXZlbnQucHJvcGVydHk6XFxcImRpcmVjdGlvblxcXCI9PT1uYW1lJiZcXFwibHRyXFxcIj09XFxcIlxcXCIrdmFsdWUmJihkaXJlY3Rpb249XFxcImx0clxcXCIpfSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRydWxlXFxcIixlbmRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImVuZGZvbnRmYWNlXFxcIixlbmRSdWxlKX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJ1bmRlcnNjb3JlLXByb3BlcnR5LWhhY2tcXFwiLG5hbWU6XFxcIkRpc2FsbG93IHByb3BlcnRpZXMgd2l0aCBhbiB1bmRlcnNjb3JlIHByZWZpeFxcXCIsZGVzYzpcXFwiQ2hlY2tzIGZvciB0aGUgdW5kZXJzY29yZSBwcm9wZXJ0eSBoYWNrICh0YXJnZXRzIElFNilcXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwicHJvcGVydHlcXFwiLGZ1bmN0aW9uKGV2ZW50KXt2YXIgcHJvcGVydHk9ZXZlbnQucHJvcGVydHk7XFxcIl9cXFwiPT09cHJvcGVydHkuaGFjayYmcmVwb3J0ZXIucmVwb3J0KFxcXCJQcm9wZXJ0eSB3aXRoIHVuZGVyc2NvcmUgcHJlZml4IGZvdW5kLlxcXCIsZXZlbnQucHJvcGVydHkubGluZSxldmVudC5wcm9wZXJ0eS5jb2wscnVsZSl9KX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJ1bmlxdWUtaGVhZGluZ3NcXFwiLG5hbWU6XFxcIkhlYWRpbmdzIHNob3VsZCBvbmx5IGJlIGRlZmluZWQgb25jZVxcXCIsZGVzYzpcXFwiSGVhZGluZ3Mgc2hvdWxkIGJlIGRlZmluZWQgb25seSBvbmNlLlxcXCIsYnJvd3NlcnM6XFxcIkFsbFxcXCIsaW5pdDpmdW5jdGlvbihwYXJzZXIscmVwb3J0ZXIpe3ZhciBydWxlPXRoaXMsaGVhZGluZ3M9e2gxOjAsaDI6MCxoMzowLGg0OjAsaDU6MCxoNjowfTtwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0cnVsZVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBzZWxlY3RvcixwYXJ0LHBzZXVkbyxpLGosc2VsZWN0b3JzPWV2ZW50LnNlbGVjdG9ycztmb3IoaT0wO3NlbGVjdG9ycy5sZW5ndGg+aTtpKyspaWYoc2VsZWN0b3I9c2VsZWN0b3JzW2ldLHBhcnQ9c2VsZWN0b3IucGFydHNbc2VsZWN0b3IucGFydHMubGVuZ3RoLTFdLHBhcnQuZWxlbWVudE5hbWUmJi8oaFsxLTZdKS9pLnRlc3QoXFxcIlxcXCIrcGFydC5lbGVtZW50TmFtZSkpe2ZvcihqPTA7cGFydC5tb2RpZmllcnMubGVuZ3RoPmo7aisrKWlmKFxcXCJwc2V1ZG9cXFwiPT09cGFydC5tb2RpZmllcnNbal0udHlwZSl7cHNldWRvPSEwO2JyZWFrfXBzZXVkb3x8KGhlYWRpbmdzW1JlZ0V4cC4kMV0rKyxoZWFkaW5nc1tSZWdFeHAuJDFdPjEmJnJlcG9ydGVyLnJlcG9ydChcXFwiSGVhZGluZyAoXFxcIitwYXJ0LmVsZW1lbnROYW1lK1xcXCIpIGhhcyBhbHJlYWR5IGJlZW4gZGVmaW5lZC5cXFwiLHBhcnQubGluZSxwYXJ0LmNvbCxydWxlKSl9fSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRzdHlsZXNoZWV0XFxcIixmdW5jdGlvbigpe3ZhciBwcm9wLG1lc3NhZ2VzPVtdO2Zvcihwcm9wIGluIGhlYWRpbmdzKWhlYWRpbmdzLmhhc093blByb3BlcnR5KHByb3ApJiZoZWFkaW5nc1twcm9wXT4xJiZtZXNzYWdlcy5wdXNoKGhlYWRpbmdzW3Byb3BdK1xcXCIgXFxcIitwcm9wK1xcXCJzXFxcIik7bWVzc2FnZXMubGVuZ3RoJiZyZXBvcnRlci5yb2xsdXBXYXJuKFxcXCJZb3UgaGF2ZSBcXFwiK21lc3NhZ2VzLmpvaW4oXFxcIiwgXFxcIikrXFxcIiBkZWZpbmVkIGluIHRoaXMgc3R5bGVzaGVldC5cXFwiLHJ1bGUpfSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwidW5pdmVyc2FsLXNlbGVjdG9yXFxcIixuYW1lOlxcXCJEaXNhbGxvdyB1bml2ZXJzYWwgc2VsZWN0b3JcXFwiLGRlc2M6XFxcIlRoZSB1bml2ZXJzYWwgc2VsZWN0b3IgKCopIGlzIGtub3duIHRvIGJlIHNsb3cuXFxcIixicm93c2VyczpcXFwiQWxsXFxcIixpbml0OmZ1bmN0aW9uKHBhcnNlcixyZXBvcnRlcil7dmFyIHJ1bGU9dGhpcztwYXJzZXIuYWRkTGlzdGVuZXIoXFxcInN0YXJ0cnVsZVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBzZWxlY3RvcixwYXJ0LGksc2VsZWN0b3JzPWV2ZW50LnNlbGVjdG9ycztmb3IoaT0wO3NlbGVjdG9ycy5sZW5ndGg+aTtpKyspc2VsZWN0b3I9c2VsZWN0b3JzW2ldLHBhcnQ9c2VsZWN0b3IucGFydHNbc2VsZWN0b3IucGFydHMubGVuZ3RoLTFdLFxcXCIqXFxcIj09PXBhcnQuZWxlbWVudE5hbWUmJnJlcG9ydGVyLnJlcG9ydChydWxlLmRlc2MscGFydC5saW5lLHBhcnQuY29sLHJ1bGUpfSl9fSksQ1NTTGludC5hZGRSdWxlKHtpZDpcXFwidW5xdWFsaWZpZWQtYXR0cmlidXRlc1xcXCIsbmFtZTpcXFwiRGlzYWxsb3cgdW5xdWFsaWZpZWQgYXR0cmlidXRlIHNlbGVjdG9yc1xcXCIsZGVzYzpcXFwiVW5xdWFsaWZpZWQgYXR0cmlidXRlIHNlbGVjdG9ycyBhcmUga25vd24gdG8gYmUgc2xvdy5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRydWxlXFxcIixmdW5jdGlvbihldmVudCl7dmFyIHNlbGVjdG9yLHBhcnQsbW9kaWZpZXIsaSxrLHNlbGVjdG9ycz1ldmVudC5zZWxlY3RvcnM7Zm9yKGk9MDtzZWxlY3RvcnMubGVuZ3RoPmk7aSsrKWlmKHNlbGVjdG9yPXNlbGVjdG9yc1tpXSxwYXJ0PXNlbGVjdG9yLnBhcnRzW3NlbGVjdG9yLnBhcnRzLmxlbmd0aC0xXSxwYXJ0LnR5cGU9PT1wYXJzZXIuU0VMRUNUT1JfUEFSVF9UWVBFKWZvcihrPTA7cGFydC5tb2RpZmllcnMubGVuZ3RoPms7aysrKW1vZGlmaWVyPXBhcnQubW9kaWZpZXJzW2tdLFxcXCJhdHRyaWJ1dGVcXFwiIT09bW9kaWZpZXIudHlwZXx8cGFydC5lbGVtZW50TmFtZSYmXFxcIipcXFwiIT09cGFydC5lbGVtZW50TmFtZXx8cmVwb3J0ZXIucmVwb3J0KHJ1bGUuZGVzYyxwYXJ0LmxpbmUscGFydC5jb2wscnVsZSl9KX19KSxDU1NMaW50LmFkZFJ1bGUoe2lkOlxcXCJ2ZW5kb3ItcHJlZml4XFxcIixuYW1lOlxcXCJSZXF1aXJlIHN0YW5kYXJkIHByb3BlcnR5IHdpdGggdmVuZG9yIHByZWZpeFxcXCIsZGVzYzpcXFwiV2hlbiB1c2luZyBhIHZlbmRvci1wcmVmaXhlZCBwcm9wZXJ0eSwgbWFrZSBzdXJlIHRvIGluY2x1ZGUgdGhlIHN0YW5kYXJkIG9uZS5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXtmdW5jdGlvbiBzdGFydFJ1bGUoKXtwcm9wZXJ0aWVzPXt9LG51bT0xfWZ1bmN0aW9uIGVuZFJ1bGUoKXt2YXIgcHJvcCxpLGxlbixuZWVkZWQsYWN0dWFsLG5lZWRzU3RhbmRhcmQ9W107Zm9yKHByb3AgaW4gcHJvcGVydGllcylwcm9wZXJ0aWVzVG9DaGVja1twcm9wXSYmbmVlZHNTdGFuZGFyZC5wdXNoKHthY3R1YWw6cHJvcCxuZWVkZWQ6cHJvcGVydGllc1RvQ2hlY2tbcHJvcF19KTtmb3IoaT0wLGxlbj1uZWVkc1N0YW5kYXJkLmxlbmd0aDtsZW4+aTtpKyspbmVlZGVkPW5lZWRzU3RhbmRhcmRbaV0ubmVlZGVkLGFjdHVhbD1uZWVkc1N0YW5kYXJkW2ldLmFjdHVhbCxwcm9wZXJ0aWVzW25lZWRlZF0/cHJvcGVydGllc1tuZWVkZWRdWzBdLnBvczxwcm9wZXJ0aWVzW2FjdHVhbF1bMF0ucG9zJiZyZXBvcnRlci5yZXBvcnQoXFxcIlN0YW5kYXJkIHByb3BlcnR5ICdcXFwiK25lZWRlZCtcXFwiJyBzaG91bGQgY29tZSBhZnRlciB2ZW5kb3ItcHJlZml4ZWQgcHJvcGVydHkgJ1xcXCIrYWN0dWFsK1xcXCInLlxcXCIscHJvcGVydGllc1thY3R1YWxdWzBdLm5hbWUubGluZSxwcm9wZXJ0aWVzW2FjdHVhbF1bMF0ubmFtZS5jb2wscnVsZSk6cmVwb3J0ZXIucmVwb3J0KFxcXCJNaXNzaW5nIHN0YW5kYXJkIHByb3BlcnR5ICdcXFwiK25lZWRlZCtcXFwiJyB0byBnbyBhbG9uZyB3aXRoICdcXFwiK2FjdHVhbCtcXFwiJy5cXFwiLHByb3BlcnRpZXNbYWN0dWFsXVswXS5uYW1lLmxpbmUscHJvcGVydGllc1thY3R1YWxdWzBdLm5hbWUuY29sLHJ1bGUpfXZhciBwcm9wZXJ0aWVzLG51bSxydWxlPXRoaXMscHJvcGVydGllc1RvQ2hlY2s9e1xcXCItd2Via2l0LWJvcmRlci1yYWRpdXNcXFwiOlxcXCJib3JkZXItcmFkaXVzXFxcIixcXFwiLXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzXFxcIjpcXFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1xcXCIsXFxcIi13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXNcXFwiOlxcXCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1c1xcXCIsXFxcIi13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1xcXCI6XFxcImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXNcXFwiLFxcXCItd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXFxcIjpcXFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcXFwiLFxcXCItby1ib3JkZXItcmFkaXVzXFxcIjpcXFwiYm9yZGVyLXJhZGl1c1xcXCIsXFxcIi1vLWJvcmRlci10b3AtbGVmdC1yYWRpdXNcXFwiOlxcXCJib3JkZXItdG9wLWxlZnQtcmFkaXVzXFxcIixcXFwiLW8tYm9yZGVyLXRvcC1yaWdodC1yYWRpdXNcXFwiOlxcXCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1c1xcXCIsXFxcIi1vLWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXNcXFwiOlxcXCJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzXFxcIixcXFwiLW8tYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcXFwiOlxcXCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1c1xcXCIsXFxcIi1tb3otYm9yZGVyLXJhZGl1c1xcXCI6XFxcImJvcmRlci1yYWRpdXNcXFwiLFxcXCItbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdFxcXCI6XFxcImJvcmRlci10b3AtbGVmdC1yYWRpdXNcXFwiLFxcXCItbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHRcXFwiOlxcXCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1c1xcXCIsXFxcIi1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0XFxcIjpcXFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1xcXCIsXFxcIi1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodFxcXCI6XFxcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXFxcIixcXFwiLW1vei1jb2x1bW4tY291bnRcXFwiOlxcXCJjb2x1bW4tY291bnRcXFwiLFxcXCItd2Via2l0LWNvbHVtbi1jb3VudFxcXCI6XFxcImNvbHVtbi1jb3VudFxcXCIsXFxcIi1tb3otY29sdW1uLWdhcFxcXCI6XFxcImNvbHVtbi1nYXBcXFwiLFxcXCItd2Via2l0LWNvbHVtbi1nYXBcXFwiOlxcXCJjb2x1bW4tZ2FwXFxcIixcXFwiLW1vei1jb2x1bW4tcnVsZVxcXCI6XFxcImNvbHVtbi1ydWxlXFxcIixcXFwiLXdlYmtpdC1jb2x1bW4tcnVsZVxcXCI6XFxcImNvbHVtbi1ydWxlXFxcIixcXFwiLW1vei1jb2x1bW4tcnVsZS1zdHlsZVxcXCI6XFxcImNvbHVtbi1ydWxlLXN0eWxlXFxcIixcXFwiLXdlYmtpdC1jb2x1bW4tcnVsZS1zdHlsZVxcXCI6XFxcImNvbHVtbi1ydWxlLXN0eWxlXFxcIixcXFwiLW1vei1jb2x1bW4tcnVsZS1jb2xvclxcXCI6XFxcImNvbHVtbi1ydWxlLWNvbG9yXFxcIixcXFwiLXdlYmtpdC1jb2x1bW4tcnVsZS1jb2xvclxcXCI6XFxcImNvbHVtbi1ydWxlLWNvbG9yXFxcIixcXFwiLW1vei1jb2x1bW4tcnVsZS13aWR0aFxcXCI6XFxcImNvbHVtbi1ydWxlLXdpZHRoXFxcIixcXFwiLXdlYmtpdC1jb2x1bW4tcnVsZS13aWR0aFxcXCI6XFxcImNvbHVtbi1ydWxlLXdpZHRoXFxcIixcXFwiLW1vei1jb2x1bW4td2lkdGhcXFwiOlxcXCJjb2x1bW4td2lkdGhcXFwiLFxcXCItd2Via2l0LWNvbHVtbi13aWR0aFxcXCI6XFxcImNvbHVtbi13aWR0aFxcXCIsXFxcIi13ZWJraXQtY29sdW1uLXNwYW5cXFwiOlxcXCJjb2x1bW4tc3BhblxcXCIsXFxcIi13ZWJraXQtY29sdW1uc1xcXCI6XFxcImNvbHVtbnNcXFwiLFxcXCItbW96LWJveC1zaGFkb3dcXFwiOlxcXCJib3gtc2hhZG93XFxcIixcXFwiLXdlYmtpdC1ib3gtc2hhZG93XFxcIjpcXFwiYm94LXNoYWRvd1xcXCIsXFxcIi1tb3otdHJhbnNmb3JtXFxcIjpcXFwidHJhbnNmb3JtXFxcIixcXFwiLXdlYmtpdC10cmFuc2Zvcm1cXFwiOlxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCItby10cmFuc2Zvcm1cXFwiOlxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCItbXMtdHJhbnNmb3JtXFxcIjpcXFwidHJhbnNmb3JtXFxcIixcXFwiLW1vei10cmFuc2Zvcm0tb3JpZ2luXFxcIjpcXFwidHJhbnNmb3JtLW9yaWdpblxcXCIsXFxcIi13ZWJraXQtdHJhbnNmb3JtLW9yaWdpblxcXCI6XFxcInRyYW5zZm9ybS1vcmlnaW5cXFwiLFxcXCItby10cmFuc2Zvcm0tb3JpZ2luXFxcIjpcXFwidHJhbnNmb3JtLW9yaWdpblxcXCIsXFxcIi1tcy10cmFuc2Zvcm0tb3JpZ2luXFxcIjpcXFwidHJhbnNmb3JtLW9yaWdpblxcXCIsXFxcIi1tb3otYm94LXNpemluZ1xcXCI6XFxcImJveC1zaXppbmdcXFwiLFxcXCItd2Via2l0LWJveC1zaXppbmdcXFwiOlxcXCJib3gtc2l6aW5nXFxcIn07cGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydHJ1bGVcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJzdGFydGZvbnRmYWNlXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRwYWdlXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRwYWdlbWFyZ2luXFxcIixzdGFydFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwic3RhcnRrZXlmcmFtZXJ1bGVcXFwiLHN0YXJ0UnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJwcm9wZXJ0eVxcXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBuYW1lPWV2ZW50LnByb3BlcnR5LnRleHQudG9Mb3dlckNhc2UoKTtwcm9wZXJ0aWVzW25hbWVdfHwocHJvcGVydGllc1tuYW1lXT1bXSkscHJvcGVydGllc1tuYW1lXS5wdXNoKHtuYW1lOmV2ZW50LnByb3BlcnR5LHZhbHVlOmV2ZW50LnZhbHVlLHBvczpudW0rK30pfSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRydWxlXFxcIixlbmRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImVuZGZvbnRmYWNlXFxcIixlbmRSdWxlKSxwYXJzZXIuYWRkTGlzdGVuZXIoXFxcImVuZHBhZ2VcXFwiLGVuZFJ1bGUpLHBhcnNlci5hZGRMaXN0ZW5lcihcXFwiZW5kcGFnZW1hcmdpblxcXCIsZW5kUnVsZSkscGFyc2VyLmFkZExpc3RlbmVyKFxcXCJlbmRrZXlmcmFtZXJ1bGVcXFwiLGVuZFJ1bGUpfX0pLENTU0xpbnQuYWRkUnVsZSh7aWQ6XFxcInplcm8tdW5pdHNcXFwiLG5hbWU6XFxcIkRpc2FsbG93IHVuaXRzIGZvciAwIHZhbHVlc1xcXCIsZGVzYzpcXFwiWW91IGRvbid0IG5lZWQgdG8gc3BlY2lmeSB1bml0cyB3aGVuIGEgdmFsdWUgaXMgMC5cXFwiLGJyb3dzZXJzOlxcXCJBbGxcXFwiLGluaXQ6ZnVuY3Rpb24ocGFyc2VyLHJlcG9ydGVyKXt2YXIgcnVsZT10aGlzO3BhcnNlci5hZGRMaXN0ZW5lcihcXFwicHJvcGVydHlcXFwiLGZ1bmN0aW9uKGV2ZW50KXtmb3IodmFyIHBhcnRzPWV2ZW50LnZhbHVlLnBhcnRzLGk9MCxsZW49cGFydHMubGVuZ3RoO2xlbj5pOykhcGFydHNbaV0udW5pdHMmJlxcXCJwZXJjZW50YWdlXFxcIiE9PXBhcnRzW2ldLnR5cGV8fDAhPT1wYXJ0c1tpXS52YWx1ZXx8XFxcInRpbWVcXFwiPT09cGFydHNbaV0udHlwZXx8cmVwb3J0ZXIucmVwb3J0KFxcXCJWYWx1ZXMgb2YgMCBzaG91bGRuJ3QgaGF2ZSB1bml0cyBzcGVjaWZpZWQuXFxcIixwYXJ0c1tpXS5saW5lLHBhcnRzW2ldLmNvbCxydWxlKSxpKyt9KX19KSxmdW5jdGlvbigpe3ZhciB4bWxFc2NhcGU9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyJiZzdHIuY29uc3RydWN0b3I9PT1TdHJpbmc/c3RyLnJlcGxhY2UoL1tcXFxcXFxcIiY+PF0vZyxmdW5jdGlvbihtYXRjaCl7c3dpdGNoKG1hdGNoKXtjYXNlJ1xcXCInOnJldHVyblxcXCImcXVvdDtcXFwiO2Nhc2VcXFwiJlxcXCI6cmV0dXJuXFxcIiZhbXA7XFxcIjtjYXNlXFxcIjxcXFwiOnJldHVyblxcXCImbHQ7XFxcIjtjYXNlXFxcIj5cXFwiOnJldHVyblxcXCImZ3Q7XFxcIn19KTpcXFwiXFxcIn07Q1NTTGludC5hZGRGb3JtYXR0ZXIoe2lkOlxcXCJjaGVja3N0eWxlLXhtbFxcXCIsbmFtZTpcXFwiQ2hlY2tzdHlsZSBYTUwgZm9ybWF0XFxcIixzdGFydEZvcm1hdDpmdW5jdGlvbigpe3JldHVybic8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJ1dGYtOFxcXCI/PjxjaGVja3N0eWxlPid9LGVuZEZvcm1hdDpmdW5jdGlvbigpe3JldHVyblxcXCI8L2NoZWNrc3R5bGU+XFxcIn0scmVhZEVycm9yOmZ1bmN0aW9uKGZpbGVuYW1lLG1lc3NhZ2Upe3JldHVybic8ZmlsZSBuYW1lPVxcXCInK3htbEVzY2FwZShmaWxlbmFtZSkrJ1xcXCI+PGVycm9yIGxpbmU9XFxcIjBcXFwiIGNvbHVtbj1cXFwiMFxcXCIgc2V2ZXJ0eT1cXFwiZXJyb3JcXFwiIG1lc3NhZ2U9XFxcIicreG1sRXNjYXBlKG1lc3NhZ2UpKydcXFwiPjwvZXJyb3I+PC9maWxlPid9LGZvcm1hdFJlc3VsdHM6ZnVuY3Rpb24ocmVzdWx0cyxmaWxlbmFtZSl7dmFyIG1lc3NhZ2VzPXJlc3VsdHMubWVzc2FnZXMsb3V0cHV0PVtdLGdlbmVyYXRlU291cmNlPWZ1bmN0aW9uKHJ1bGUpe3JldHVybiBydWxlJiZcXFwibmFtZVxcXCJpbiBydWxlP1xcXCJuZXQuY3NzbGludC5cXFwiK3J1bGUubmFtZS5yZXBsYWNlKC9cXFxccy9nLFxcXCJcXFwiKTpcXFwiXFxcIn07cmV0dXJuIG1lc3NhZ2VzLmxlbmd0aD4wJiYob3V0cHV0LnB1c2goJzxmaWxlIG5hbWU9XFxcIicrZmlsZW5hbWUrJ1xcXCI+JyksQ1NTTGludC5VdGlsLmZvckVhY2gobWVzc2FnZXMsZnVuY3Rpb24obWVzc2FnZSl7bWVzc2FnZS5yb2xsdXB8fG91dHB1dC5wdXNoKCc8ZXJyb3IgbGluZT1cXFwiJyttZXNzYWdlLmxpbmUrJ1xcXCIgY29sdW1uPVxcXCInK21lc3NhZ2UuY29sKydcXFwiIHNldmVyaXR5PVxcXCInK21lc3NhZ2UudHlwZSsnXFxcIicrJyBtZXNzYWdlPVxcXCInK3htbEVzY2FwZShtZXNzYWdlLm1lc3NhZ2UpKydcXFwiIHNvdXJjZT1cXFwiJytnZW5lcmF0ZVNvdXJjZShtZXNzYWdlLnJ1bGUpKydcXFwiLz4nKX0pLG91dHB1dC5wdXNoKFxcXCI8L2ZpbGU+XFxcIikpLG91dHB1dC5qb2luKFxcXCJcXFwiKX19KX0oKSxDU1NMaW50LmFkZEZvcm1hdHRlcih7aWQ6XFxcImNvbXBhY3RcXFwiLG5hbWU6XFxcIkNvbXBhY3QsICdwb3JjZWxhaW4nIGZvcm1hdFxcXCIsc3RhcnRGb3JtYXQ6ZnVuY3Rpb24oKXtyZXR1cm5cXFwiXFxcIn0sZW5kRm9ybWF0OmZ1bmN0aW9uKCl7cmV0dXJuXFxcIlxcXCJ9LGZvcm1hdFJlc3VsdHM6ZnVuY3Rpb24ocmVzdWx0cyxmaWxlbmFtZSxvcHRpb25zKXt2YXIgbWVzc2FnZXM9cmVzdWx0cy5tZXNzYWdlcyxvdXRwdXQ9XFxcIlxcXCI7b3B0aW9ucz1vcHRpb25zfHx7fTt2YXIgY2FwaXRhbGl6ZT1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrc3RyLnNsaWNlKDEpfTtyZXR1cm4gMD09PW1lc3NhZ2VzLmxlbmd0aD9vcHRpb25zLnF1aWV0P1xcXCJcXFwiOmZpbGVuYW1lK1xcXCI6IExpbnQgRnJlZSFcXFwiOihDU1NMaW50LlV0aWwuZm9yRWFjaChtZXNzYWdlcyxmdW5jdGlvbihtZXNzYWdlKXtvdXRwdXQrPW1lc3NhZ2Uucm9sbHVwP2ZpbGVuYW1lK1xcXCI6IFxcXCIrY2FwaXRhbGl6ZShtZXNzYWdlLnR5cGUpK1xcXCIgLSBcXFwiK21lc3NhZ2UubWVzc2FnZStcXFwiXFxcXG5cXFwiOmZpbGVuYW1lK1xcXCI6IFxcXCIrXFxcImxpbmUgXFxcIittZXNzYWdlLmxpbmUrXFxcIiwgY29sIFxcXCIrbWVzc2FnZS5jb2wrXFxcIiwgXFxcIitjYXBpdGFsaXplKG1lc3NhZ2UudHlwZSkrXFxcIiAtIFxcXCIrbWVzc2FnZS5tZXNzYWdlK1xcXCIgKFxcXCIrbWVzc2FnZS5ydWxlLmlkK1xcXCIpXFxcXG5cXFwifSksb3V0cHV0KX19KSxDU1NMaW50LmFkZEZvcm1hdHRlcih7aWQ6XFxcImNzc2xpbnQteG1sXFxcIixuYW1lOlxcXCJDU1NMaW50IFhNTCBmb3JtYXRcXFwiLHN0YXJ0Rm9ybWF0OmZ1bmN0aW9uKCl7cmV0dXJuJzw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcInV0Zi04XFxcIj8+PGNzc2xpbnQ+J30sZW5kRm9ybWF0OmZ1bmN0aW9uKCl7cmV0dXJuXFxcIjwvY3NzbGludD5cXFwifSxmb3JtYXRSZXN1bHRzOmZ1bmN0aW9uKHJlc3VsdHMsZmlsZW5hbWUpe3ZhciBtZXNzYWdlcz1yZXN1bHRzLm1lc3NhZ2VzLG91dHB1dD1bXSxlc2NhcGVTcGVjaWFsQ2hhcmFjdGVycz1mdW5jdGlvbihzdHIpe3JldHVybiBzdHImJnN0ci5jb25zdHJ1Y3Rvcj09PVN0cmluZz9zdHIucmVwbGFjZSgvXFxcXFxcXCIvZyxcXFwiJ1xcXCIpLnJlcGxhY2UoLyYvZyxcXFwiJmFtcDtcXFwiKS5yZXBsYWNlKC88L2csXFxcIiZsdDtcXFwiKS5yZXBsYWNlKC8+L2csXFxcIiZndDtcXFwiKTpcXFwiXFxcIn07cmV0dXJuIG1lc3NhZ2VzLmxlbmd0aD4wJiYob3V0cHV0LnB1c2goJzxmaWxlIG5hbWU9XFxcIicrZmlsZW5hbWUrJ1xcXCI+JyksQ1NTTGludC5VdGlsLmZvckVhY2gobWVzc2FnZXMsZnVuY3Rpb24obWVzc2FnZSl7bWVzc2FnZS5yb2xsdXA/b3V0cHV0LnB1c2goJzxpc3N1ZSBzZXZlcml0eT1cXFwiJyttZXNzYWdlLnR5cGUrJ1xcXCIgcmVhc29uPVxcXCInK2VzY2FwZVNwZWNpYWxDaGFyYWN0ZXJzKG1lc3NhZ2UubWVzc2FnZSkrJ1xcXCIgZXZpZGVuY2U9XFxcIicrZXNjYXBlU3BlY2lhbENoYXJhY3RlcnMobWVzc2FnZS5ldmlkZW5jZSkrJ1xcXCIvPicpOm91dHB1dC5wdXNoKCc8aXNzdWUgbGluZT1cXFwiJyttZXNzYWdlLmxpbmUrJ1xcXCIgY2hhcj1cXFwiJyttZXNzYWdlLmNvbCsnXFxcIiBzZXZlcml0eT1cXFwiJyttZXNzYWdlLnR5cGUrJ1xcXCInKycgcmVhc29uPVxcXCInK2VzY2FwZVNwZWNpYWxDaGFyYWN0ZXJzKG1lc3NhZ2UubWVzc2FnZSkrJ1xcXCIgZXZpZGVuY2U9XFxcIicrZXNjYXBlU3BlY2lhbENoYXJhY3RlcnMobWVzc2FnZS5ldmlkZW5jZSkrJ1xcXCIvPicpfSksb3V0cHV0LnB1c2goXFxcIjwvZmlsZT5cXFwiKSksb3V0cHV0LmpvaW4oXFxcIlxcXCIpfX0pLENTU0xpbnQuYWRkRm9ybWF0dGVyKHtpZDpcXFwianVuaXQteG1sXFxcIixuYW1lOlxcXCJKVU5JVCBYTUwgZm9ybWF0XFxcIixzdGFydEZvcm1hdDpmdW5jdGlvbigpe3JldHVybic8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJ1dGYtOFxcXCI/Pjx0ZXN0c3VpdGVzPid9LGVuZEZvcm1hdDpmdW5jdGlvbigpe3JldHVyblxcXCI8L3Rlc3RzdWl0ZXM+XFxcIn0sZm9ybWF0UmVzdWx0czpmdW5jdGlvbihyZXN1bHRzLGZpbGVuYW1lKXt2YXIgbWVzc2FnZXM9cmVzdWx0cy5tZXNzYWdlcyxvdXRwdXQ9W10sdGVzdHM9e2Vycm9yOjAsZmFpbHVyZTowfSxnZW5lcmF0ZVNvdXJjZT1mdW5jdGlvbihydWxlKXtyZXR1cm4gcnVsZSYmXFxcIm5hbWVcXFwiaW4gcnVsZT9cXFwibmV0LmNzc2xpbnQuXFxcIitydWxlLm5hbWUucmVwbGFjZSgvXFxcXHMvZyxcXFwiXFxcIik6XFxcIlxcXCJ9LGVzY2FwZVNwZWNpYWxDaGFyYWN0ZXJzPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ciYmc3RyLmNvbnN0cnVjdG9yPT09U3RyaW5nP3N0ci5yZXBsYWNlKC9cXFxcXFxcIi9nLFxcXCInXFxcIikucmVwbGFjZSgvPC9nLFxcXCImbHQ7XFxcIikucmVwbGFjZSgvPi9nLFxcXCImZ3Q7XFxcIik6XFxcIlxcXCJ9O3JldHVybiBtZXNzYWdlcy5sZW5ndGg+MCYmKG1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24obWVzc2FnZSl7dmFyIHR5cGU9XFxcIndhcm5pbmdcXFwiPT09bWVzc2FnZS50eXBlP1xcXCJlcnJvclxcXCI6bWVzc2FnZS50eXBlO21lc3NhZ2Uucm9sbHVwfHwob3V0cHV0LnB1c2goJzx0ZXN0Y2FzZSB0aW1lPVxcXCIwXFxcIiBuYW1lPVxcXCInK2dlbmVyYXRlU291cmNlKG1lc3NhZ2UucnVsZSkrJ1xcXCI+Jyksb3V0cHV0LnB1c2goXFxcIjxcXFwiK3R5cGUrJyBtZXNzYWdlPVxcXCInK2VzY2FwZVNwZWNpYWxDaGFyYWN0ZXJzKG1lc3NhZ2UubWVzc2FnZSkrJ1xcXCI+PCFbQ0RBVEFbJyttZXNzYWdlLmxpbmUrXFxcIjpcXFwiK21lc3NhZ2UuY29sK1xcXCI6XFxcIitlc2NhcGVTcGVjaWFsQ2hhcmFjdGVycyhtZXNzYWdlLmV2aWRlbmNlKStcXFwiXV0+PC9cXFwiK3R5cGUrXFxcIj5cXFwiKSxvdXRwdXQucHVzaChcXFwiPC90ZXN0Y2FzZT5cXFwiKSx0ZXN0c1t0eXBlXSs9MSl9KSxvdXRwdXQudW5zaGlmdCgnPHRlc3RzdWl0ZSB0aW1lPVxcXCIwXFxcIiB0ZXN0cz1cXFwiJyttZXNzYWdlcy5sZW5ndGgrJ1xcXCIgc2tpcHBlZD1cXFwiMFxcXCIgZXJyb3JzPVxcXCInK3Rlc3RzLmVycm9yKydcXFwiIGZhaWx1cmVzPVxcXCInK3Rlc3RzLmZhaWx1cmUrJ1xcXCIgcGFja2FnZT1cXFwibmV0LmNzc2xpbnRcXFwiIG5hbWU9XFxcIicrZmlsZW5hbWUrJ1xcXCI+Jyksb3V0cHV0LnB1c2goXFxcIjwvdGVzdHN1aXRlPlxcXCIpKSxvdXRwdXQuam9pbihcXFwiXFxcIil9fSksQ1NTTGludC5hZGRGb3JtYXR0ZXIoe2lkOlxcXCJsaW50LXhtbFxcXCIsbmFtZTpcXFwiTGludCBYTUwgZm9ybWF0XFxcIixzdGFydEZvcm1hdDpmdW5jdGlvbigpe3JldHVybic8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJ1dGYtOFxcXCI/PjxsaW50Pid9LGVuZEZvcm1hdDpmdW5jdGlvbigpe3JldHVyblxcXCI8L2xpbnQ+XFxcIn0sZm9ybWF0UmVzdWx0czpmdW5jdGlvbihyZXN1bHRzLGZpbGVuYW1lKXt2YXIgbWVzc2FnZXM9cmVzdWx0cy5tZXNzYWdlcyxvdXRwdXQ9W10sZXNjYXBlU3BlY2lhbENoYXJhY3RlcnM9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyJiZzdHIuY29uc3RydWN0b3I9PT1TdHJpbmc/c3RyLnJlcGxhY2UoL1xcXFxcXFwiL2csXFxcIidcXFwiKS5yZXBsYWNlKC8mL2csXFxcIiZhbXA7XFxcIikucmVwbGFjZSgvPC9nLFxcXCImbHQ7XFxcIikucmVwbGFjZSgvPi9nLFxcXCImZ3Q7XFxcIik6XFxcIlxcXCJ9O3JldHVybiBtZXNzYWdlcy5sZW5ndGg+MCYmKG91dHB1dC5wdXNoKCc8ZmlsZSBuYW1lPVxcXCInK2ZpbGVuYW1lKydcXFwiPicpLENTU0xpbnQuVXRpbC5mb3JFYWNoKG1lc3NhZ2VzLGZ1bmN0aW9uKG1lc3NhZ2Upe21lc3NhZ2Uucm9sbHVwP291dHB1dC5wdXNoKCc8aXNzdWUgc2V2ZXJpdHk9XFxcIicrbWVzc2FnZS50eXBlKydcXFwiIHJlYXNvbj1cXFwiJytlc2NhcGVTcGVjaWFsQ2hhcmFjdGVycyhtZXNzYWdlLm1lc3NhZ2UpKydcXFwiIGV2aWRlbmNlPVxcXCInK2VzY2FwZVNwZWNpYWxDaGFyYWN0ZXJzKG1lc3NhZ2UuZXZpZGVuY2UpKydcXFwiLz4nKTpvdXRwdXQucHVzaCgnPGlzc3VlIGxpbmU9XFxcIicrbWVzc2FnZS5saW5lKydcXFwiIGNoYXI9XFxcIicrbWVzc2FnZS5jb2wrJ1xcXCIgc2V2ZXJpdHk9XFxcIicrbWVzc2FnZS50eXBlKydcXFwiJysnIHJlYXNvbj1cXFwiJytlc2NhcGVTcGVjaWFsQ2hhcmFjdGVycyhtZXNzYWdlLm1lc3NhZ2UpKydcXFwiIGV2aWRlbmNlPVxcXCInK2VzY2FwZVNwZWNpYWxDaGFyYWN0ZXJzKG1lc3NhZ2UuZXZpZGVuY2UpKydcXFwiLz4nKX0pLG91dHB1dC5wdXNoKFxcXCI8L2ZpbGU+XFxcIikpLG91dHB1dC5qb2luKFxcXCJcXFwiKX19KSxDU1NMaW50LmFkZEZvcm1hdHRlcih7aWQ6XFxcInRleHRcXFwiLG5hbWU6XFxcIlBsYWluIFRleHRcXFwiLHN0YXJ0Rm9ybWF0OmZ1bmN0aW9uKCl7cmV0dXJuXFxcIlxcXCJ9LGVuZEZvcm1hdDpmdW5jdGlvbigpe3JldHVyblxcXCJcXFwifSxmb3JtYXRSZXN1bHRzOmZ1bmN0aW9uKHJlc3VsdHMsZmlsZW5hbWUsb3B0aW9ucyl7dmFyIG1lc3NhZ2VzPXJlc3VsdHMubWVzc2FnZXMsb3V0cHV0PVxcXCJcXFwiO2lmKG9wdGlvbnM9b3B0aW9uc3x8e30sMD09PW1lc3NhZ2VzLmxlbmd0aClyZXR1cm4gb3B0aW9ucy5xdWlldD9cXFwiXFxcIjpcXFwiXFxcXG5cXFxcbmNzc2xpbnQ6IE5vIGVycm9ycyBpbiBcXFwiK2ZpbGVuYW1lK1xcXCIuXFxcIjtvdXRwdXQ9XFxcIlxcXFxuXFxcXG5jc3NsaW50OiBUaGVyZSBcXFwiLG91dHB1dCs9MT09PW1lc3NhZ2VzLmxlbmd0aD9cXFwiaXMgMSBwcm9ibGVtXFxcIjpcXFwiYXJlIFxcXCIrbWVzc2FnZXMubGVuZ3RoK1xcXCIgcHJvYmxlbXNcXFwiLG91dHB1dCs9XFxcIiBpbiBcXFwiK2ZpbGVuYW1lK1xcXCIuXFxcIjt2YXIgcG9zPWZpbGVuYW1lLmxhc3RJbmRleE9mKFxcXCIvXFxcIiksc2hvcnRGaWxlbmFtZT1maWxlbmFtZTtyZXR1cm4tMT09PXBvcyYmKHBvcz1maWxlbmFtZS5sYXN0SW5kZXhPZihcXFwiXFxcXFxcXFxcXFwiKSkscG9zPi0xJiYoc2hvcnRGaWxlbmFtZT1maWxlbmFtZS5zdWJzdHJpbmcocG9zKzEpKSxDU1NMaW50LlV0aWwuZm9yRWFjaChtZXNzYWdlcyxmdW5jdGlvbihtZXNzYWdlLGkpe291dHB1dD1vdXRwdXQrXFxcIlxcXFxuXFxcXG5cXFwiK3Nob3J0RmlsZW5hbWUsbWVzc2FnZS5yb2xsdXA/KG91dHB1dCs9XFxcIlxcXFxuXFxcIisoaSsxKStcXFwiOiBcXFwiK21lc3NhZ2UudHlwZSxvdXRwdXQrPVxcXCJcXFxcblxcXCIrbWVzc2FnZS5tZXNzYWdlKToob3V0cHV0Kz1cXFwiXFxcXG5cXFwiKyhpKzEpK1xcXCI6IFxcXCIrbWVzc2FnZS50eXBlK1xcXCIgYXQgbGluZSBcXFwiK21lc3NhZ2UubGluZStcXFwiLCBjb2wgXFxcIittZXNzYWdlLmNvbCxvdXRwdXQrPVxcXCJcXFxcblxcXCIrbWVzc2FnZS5tZXNzYWdlLG91dHB1dCs9XFxcIlxcXFxuXFxcIittZXNzYWdlLmV2aWRlbmNlKX0pLG91dHB1dH19KSxtb2R1bGUuZXhwb3J0cy5DU1NMaW50PUNTU0xpbnR9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9jc3Nfd29ya2VyXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL2xpYi9vb3BcXFwiLFxcXCJhY2UvbGliL2xhbmdcXFwiLFxcXCJhY2Uvd29ya2VyL21pcnJvclxcXCIsXFxcImFjZS9tb2RlL2Nzcy9jc3NsaW50XFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBvb3A9YWNlcXVpcmUoXFxcIi4uL2xpYi9vb3BcXFwiKSxsYW5nPWFjZXF1aXJlKFxcXCIuLi9saWIvbGFuZ1xcXCIpLE1pcnJvcj1hY2VxdWlyZShcXFwiLi4vd29ya2VyL21pcnJvclxcXCIpLk1pcnJvcixDU1NMaW50PWFjZXF1aXJlKFxcXCIuL2Nzcy9jc3NsaW50XFxcIikuQ1NTTGludCxXb3JrZXI9ZXhwb3J0cy5Xb3JrZXI9ZnVuY3Rpb24oc2VuZGVyKXtNaXJyb3IuY2FsbCh0aGlzLHNlbmRlciksdGhpcy5zZXRUaW1lb3V0KDQwMCksdGhpcy5ydWxlc2V0PW51bGwsdGhpcy5zZXREaXNhYmxlZFJ1bGVzKFxcXCJpZHN8b3JkZXItYWxwaGFiZXRpY2FsXFxcIiksdGhpcy5zZXRJbmZvUnVsZXMoXFxcImFkam9pbmluZy1jbGFzc2VzfHF1YWxpZmllZC1oZWFkaW5nc3x6ZXJvLXVuaXRzfGdyYWRpZW50c3xpbXBvcnR8b3V0bGluZS1ub25lfHZlbmRvci1wcmVmaXhcXFwiKX07b29wLmluaGVyaXRzKFdvcmtlcixNaXJyb3IpLGZ1bmN0aW9uKCl7dGhpcy5zZXRJbmZvUnVsZXM9ZnVuY3Rpb24ocnVsZU5hbWVzKXtcXFwic3RyaW5nXFxcIj09dHlwZW9mIHJ1bGVOYW1lcyYmKHJ1bGVOYW1lcz1ydWxlTmFtZXMuc3BsaXQoXFxcInxcXFwiKSksdGhpcy5pbmZvUnVsZXM9bGFuZy5hcnJheVRvTWFwKHJ1bGVOYW1lcyksdGhpcy5kb2MuZ2V0VmFsdWUoKSYmdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSgxMDApfSx0aGlzLnNldERpc2FibGVkUnVsZXM9ZnVuY3Rpb24ocnVsZU5hbWVzKXtpZihydWxlTmFtZXMpe1xcXCJzdHJpbmdcXFwiPT10eXBlb2YgcnVsZU5hbWVzJiYocnVsZU5hbWVzPXJ1bGVOYW1lcy5zcGxpdChcXFwifFxcXCIpKTt2YXIgYWxsPXt9O0NTU0xpbnQuZ2V0UnVsZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHgpe2FsbFt4LmlkXT0hMH0pLHJ1bGVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKHgpe2RlbGV0ZSBhbGxbeF19KSx0aGlzLnJ1bGVzZXQ9YWxsfWVsc2UgdGhpcy5ydWxlc2V0PW51bGw7dGhpcy5kb2MuZ2V0VmFsdWUoKSYmdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSgxMDApfSx0aGlzLm9uVXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHZhbHVlPXRoaXMuZG9jLmdldFZhbHVlKCk7XFxuaWYoIXZhbHVlKXJldHVybiB0aGlzLnNlbmRlci5lbWl0KFxcXCJhbm5vdGF0ZVxcXCIsW10pO3ZhciBpbmZvUnVsZXM9dGhpcy5pbmZvUnVsZXMscmVzdWx0PUNTU0xpbnQudmVyaWZ5KHZhbHVlLHRoaXMucnVsZXNldCk7dGhpcy5zZW5kZXIuZW1pdChcXFwiYW5ub3RhdGVcXFwiLHJlc3VsdC5tZXNzYWdlcy5tYXAoZnVuY3Rpb24obXNnKXtyZXR1cm57cm93Om1zZy5saW5lLTEsY29sdW1uOm1zZy5jb2wtMSx0ZXh0Om1zZy5tZXNzYWdlLHR5cGU6aW5mb1J1bGVzW21zZy5ydWxlLmlkXT9cXFwiaW5mb1xcXCI6bXNnLnR5cGUscnVsZTptc2cucnVsZS5uYW1lfX0pKX19LmNhbGwoV29ya2VyLnByb3RvdHlwZSl9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbGliL2VzNS1zaGltXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oKXtmdW5jdGlvbiBFbXB0eSgpe31mdW5jdGlvbiBkb2VzRGVmaW5lUHJvcGVydHlXb3JrKG9iamVjdCl7dHJ5e3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LFxcXCJzZW50aW5lbFxcXCIse30pLFxcXCJzZW50aW5lbFxcXCJpbiBvYmplY3R9Y2F0Y2goZXhjZXB0aW9uKXt9fWZ1bmN0aW9uIHRvSW50ZWdlcihuKXtyZXR1cm4gbj0rbixuIT09bj9uPTA6MCE9PW4mJm4hPT0xLzAmJm4hPT0tKDEvMCkmJihuPShuPjB8fC0xKSpNYXRoLmZsb29yKE1hdGguYWJzKG4pKSksbn1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHRoYXQpe3ZhciB0YXJnZXQ9dGhpcztpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgdGFyZ2V0KXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgXFxcIit0YXJnZXQpO3ZhciBhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGJvdW5kPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIGJvdW5kKXt2YXIgcmVzdWx0PXRhcmdldC5hcHBseSh0aGlzLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QocmVzdWx0KT09PXJlc3VsdD9yZXN1bHQ6dGhpc31yZXR1cm4gdGFyZ2V0LmFwcGx5KHRoYXQsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiB0YXJnZXQucHJvdG90eXBlJiYoRW1wdHkucHJvdG90eXBlPXRhcmdldC5wcm90b3R5cGUsYm91bmQucHJvdG90eXBlPW5ldyBFbXB0eSxFbXB0eS5wcm90b3R5cGU9bnVsbCksYm91bmR9KTt2YXIgZGVmaW5lR2V0dGVyLGRlZmluZVNldHRlcixsb29rdXBHZXR0ZXIsbG9va3VwU2V0dGVyLHN1cHBvcnRzQWNjZXNzb3JzLGNhbGw9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwscHJvdG90eXBlT2ZBcnJheT1BcnJheS5wcm90b3R5cGUscHJvdG90eXBlT2ZPYmplY3Q9T2JqZWN0LnByb3RvdHlwZSxzbGljZT1wcm90b3R5cGVPZkFycmF5LnNsaWNlLF90b1N0cmluZz1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QudG9TdHJpbmcpLG93bnM9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Lmhhc093blByb3BlcnR5KTtpZigoc3VwcG9ydHNBY2Nlc3NvcnM9b3ducyhwcm90b3R5cGVPZk9iamVjdCxcXFwiX19kZWZpbmVHZXR0ZXJfX1xcXCIpKSYmKGRlZmluZUdldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVHZXR0ZXJfXyksZGVmaW5lU2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZVNldHRlcl9fKSxsb29rdXBHZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fbG9va3VwR2V0dGVyX18pLGxvb2t1cFNldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBTZXR0ZXJfXykpLDIhPVsxLDJdLnNwbGljZSgwKS5sZW5ndGgpaWYoZnVuY3Rpb24oKXtmdW5jdGlvbiBtYWtlQXJyYXkobCl7dmFyIGE9QXJyYXkobCsyKTtyZXR1cm4gYVswXT1hWzFdPTAsYX12YXIgbGVuZ3RoQmVmb3JlLGFycmF5PVtdO3JldHVybiBhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksbWFrZUFycmF5KDIwKSksYXJyYXkuc3BsaWNlLmFwcGx5KGFycmF5LG1ha2VBcnJheSgyNikpLGxlbmd0aEJlZm9yZT1hcnJheS5sZW5ndGgsYXJyYXkuc3BsaWNlKDUsMCxcXFwiWFhYXFxcIiksbGVuZ3RoQmVmb3JlKzE9PWFycmF5Lmxlbmd0aCxsZW5ndGhCZWZvcmUrMT09YXJyYXkubGVuZ3RoPyEwOnZvaWQgMH0oKSl7dmFyIGFycmF5X3NwbGljZT1BcnJheS5wcm90b3R5cGUuc3BsaWNlO0FycmF5LnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24oc3RhcnQsZGVsZXRlQ291bnQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2FycmF5X3NwbGljZS5hcHBseSh0aGlzLFt2b2lkIDA9PT1zdGFydD8wOnN0YXJ0LHZvaWQgMD09PWRlbGV0ZUNvdW50P3RoaXMubGVuZ3RoLXN0YXJ0OmRlbGV0ZUNvdW50XS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsMikpKTpbXX19ZWxzZSBBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKHBvcyxyZW1vdmVDb3VudCl7dmFyIGxlbmd0aD10aGlzLmxlbmd0aDtwb3M+MD9wb3M+bGVuZ3RoJiYocG9zPWxlbmd0aCk6dm9pZCAwPT1wb3M/cG9zPTA6MD5wb3MmJihwb3M9TWF0aC5tYXgobGVuZ3RoK3BvcywwKSksbGVuZ3RoPnBvcytyZW1vdmVDb3VudHx8KHJlbW92ZUNvdW50PWxlbmd0aC1wb3MpO3ZhciByZW1vdmVkPXRoaXMuc2xpY2UocG9zLHBvcytyZW1vdmVDb3VudCksaW5zZXJ0PXNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGFkZD1pbnNlcnQubGVuZ3RoO2lmKHBvcz09PWxlbmd0aClhZGQmJnRoaXMucHVzaC5hcHBseSh0aGlzLGluc2VydCk7ZWxzZXt2YXIgcmVtb3ZlPU1hdGgubWluKHJlbW92ZUNvdW50LGxlbmd0aC1wb3MpLHRhaWxPbGRQb3M9cG9zK3JlbW92ZSx0YWlsTmV3UG9zPXRhaWxPbGRQb3MrYWRkLXJlbW92ZSx0YWlsQ291bnQ9bGVuZ3RoLXRhaWxPbGRQb3MsbGVuZ3RoQWZ0ZXJSZW1vdmU9bGVuZ3RoLXJlbW92ZTtpZih0YWlsT2xkUG9zPnRhaWxOZXdQb3MpZm9yKHZhciBpPTA7dGFpbENvdW50Pmk7KytpKXRoaXNbdGFpbE5ld1BvcytpXT10aGlzW3RhaWxPbGRQb3MraV07ZWxzZSBpZih0YWlsTmV3UG9zPnRhaWxPbGRQb3MpZm9yKGk9dGFpbENvdW50O2ktLTspdGhpc1t0YWlsTmV3UG9zK2ldPXRoaXNbdGFpbE9sZFBvcytpXTtpZihhZGQmJnBvcz09PWxlbmd0aEFmdGVyUmVtb3ZlKXRoaXMubGVuZ3RoPWxlbmd0aEFmdGVyUmVtb3ZlLHRoaXMucHVzaC5hcHBseSh0aGlzLGluc2VydCk7ZWxzZSBmb3IodGhpcy5sZW5ndGg9bGVuZ3RoQWZ0ZXJSZW1vdmUrYWRkLGk9MDthZGQ+aTsrK2kpdGhpc1twb3MraV09aW5zZXJ0W2ldfXJldHVybiByZW1vdmVkfTtBcnJheS5pc0FycmF5fHwoQXJyYXkuaXNBcnJheT1mdW5jdGlvbihvYmope3JldHVyblxcXCJbb2JqZWN0IEFycmF5XVxcXCI9PV90b1N0cmluZyhvYmopfSk7dmFyIGJveGVkU3RyaW5nPU9iamVjdChcXFwiYVxcXCIpLHNwbGl0U3RyaW5nPVxcXCJhXFxcIiE9Ym94ZWRTdHJpbmdbMF18fCEoMCBpbiBib3hlZFN0cmluZyk7aWYoQXJyYXkucHJvdG90eXBlLmZvckVhY2h8fChBcnJheS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsdGhpc3A9YXJndW1lbnRzWzFdLGk9LTEsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcig7bGVuZ3RoPisraTspaSBpbiBzZWxmJiZmdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KX0pLEFycmF5LnByb3RvdHlwZS5tYXB8fChBcnJheS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHJlc3VsdD1BcnJheShsZW5ndGgpLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHJlc3VsdFtpXT1mdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5maWx0ZXJ8fChBcnJheS5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKGZ1bil7dmFyIHZhbHVlLG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHJlc3VsdD1bXSx0aGlzcD1hcmd1bWVudHNbMV07aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJih2YWx1ZT1zZWxmW2ldLGZ1bi5jYWxsKHRoaXNwLHZhbHVlLGksb2JqZWN0KSYmcmVzdWx0LnB1c2godmFsdWUpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmV2ZXJ5fHwoQXJyYXkucHJvdG90eXBlLmV2ZXJ5PWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmIWZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKXJldHVybiExO3JldHVybiEwfSksQXJyYXkucHJvdG90eXBlLnNvbWV8fChBcnJheS5wcm90b3R5cGUuc29tZT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCx0aGlzcD1hcmd1bWVudHNbMV07aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpZihpIGluIHNlbGYmJmZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKXJldHVybiEwO3JldHVybiExfSksQXJyYXkucHJvdG90eXBlLnJlZHVjZXx8KEFycmF5LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2lmKCFsZW5ndGgmJjE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpO3ZhciByZXN1bHQsaT0wO2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpcmVzdWx0PWFyZ3VtZW50c1sxXTtlbHNlIGZvcig7Oyl7aWYoaSBpbiBzZWxmKXtyZXN1bHQ9c2VsZltpKytdO2JyZWFrfWlmKCsraT49bGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKX1mb3IoO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJihyZXN1bHQ9ZnVuLmNhbGwodm9pZCAwLHJlc3VsdCxzZWxmW2ldLGksb2JqZWN0KSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodHx8KEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7aWYoIWxlbmd0aCYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKTt2YXIgcmVzdWx0LGk9bGVuZ3RoLTE7aWYoYXJndW1lbnRzLmxlbmd0aD49MilyZXN1bHQ9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihpIGluIHNlbGYpe3Jlc3VsdD1zZWxmW2ktLV07YnJlYWt9aWYoMD4tLWkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIil9ZG8gaSBpbiB0aGlzJiYocmVzdWx0PWZ1bi5jYWxsKHZvaWQgMCxyZXN1bHQsc2VsZltpXSxpLG9iamVjdCkpO3doaWxlKGktLSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mJiYtMT09WzAsMV0uaW5kZXhPZigxLDIpfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oc291Z2h0KXt2YXIgc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTp0b09iamVjdCh0aGlzKSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCFsZW5ndGgpcmV0dXJuLTE7dmFyIGk9MDtmb3IoYXJndW1lbnRzLmxlbmd0aD4xJiYoaT10b0ludGVnZXIoYXJndW1lbnRzWzFdKSksaT1pPj0wP2k6TWF0aC5tYXgoMCxsZW5ndGgraSk7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmc2VsZltpXT09PXNvdWdodClyZXR1cm4gaTtyZXR1cm4tMX0pLEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiYmLTE9PVswLDFdLmxhc3RJbmRleE9mKDAsLTMpfHwoQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHNvdWdodCl7dmFyIHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6dG9PYmplY3QodGhpcyksbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZighbGVuZ3RoKXJldHVybi0xO3ZhciBpPWxlbmd0aC0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPU1hdGgubWluKGksdG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpKSxpPWk+PTA/aTpsZW5ndGgtTWF0aC5hYnMoaSk7aT49MDtpLS0paWYoaSBpbiBzZWxmJiZzb3VnaHQ9PT1zZWxmW2ldKXJldHVybiBpO3JldHVybi0xfSksT2JqZWN0LmdldFByb3RvdHlwZU9mfHwoT2JqZWN0LmdldFByb3RvdHlwZU9mPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdC5fX3Byb3RvX198fChvYmplY3QuY29uc3RydWN0b3I/b2JqZWN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZTpwcm90b3R5cGVPZk9iamVjdCl9KSwhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcil7dmFyIEVSUl9OT05fT0JKRUNUPVxcXCJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGNhbGxlZCBvbiBhIG5vbi1vYmplY3Q6IFxcXCI7T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcj1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqZWN0JiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2Ygb2JqZWN0fHxudWxsPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1Qrb2JqZWN0KTtpZihvd25zKG9iamVjdCxwcm9wZXJ0eSkpe3ZhciBkZXNjcmlwdG9yLGdldHRlcixzZXR0ZXI7aWYoZGVzY3JpcHRvcj17ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9LHN1cHBvcnRzQWNjZXNzb3JzKXt2YXIgcHJvdG90eXBlPW9iamVjdC5fX3Byb3RvX187b2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGVPZk9iamVjdDt2YXIgZ2V0dGVyPWxvb2t1cEdldHRlcihvYmplY3QscHJvcGVydHkpLHNldHRlcj1sb29rdXBTZXR0ZXIob2JqZWN0LHByb3BlcnR5KTtpZihvYmplY3QuX19wcm90b19fPXByb3RvdHlwZSxnZXR0ZXJ8fHNldHRlcilyZXR1cm4gZ2V0dGVyJiYoZGVzY3JpcHRvci5nZXQ9Z2V0dGVyKSxzZXR0ZXImJihkZXNjcmlwdG9yLnNldD1zZXR0ZXIpLGRlc2NyaXB0b3J9cmV0dXJuIGRlc2NyaXB0b3IudmFsdWU9b2JqZWN0W3Byb3BlcnR5XSxkZXNjcmlwdG9yfX19aWYoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBPYmplY3Qua2V5cyhvYmplY3QpfSksIU9iamVjdC5jcmVhdGUpe3ZhciBjcmVhdGVFbXB0eTtjcmVhdGVFbXB0eT1udWxsPT09T2JqZWN0LnByb3RvdHlwZS5fX3Byb3RvX18/ZnVuY3Rpb24oKXtyZXR1cm57X19wcm90b19fOm51bGx9fTpmdW5jdGlvbigpe3ZhciBlbXB0eT17fTtmb3IodmFyIGkgaW4gZW1wdHkpZW1wdHlbaV09bnVsbDtyZXR1cm4gZW1wdHkuY29uc3RydWN0b3I9ZW1wdHkuaGFzT3duUHJvcGVydHk9ZW1wdHkucHJvcGVydHlJc0VudW1lcmFibGU9ZW1wdHkuaXNQcm90b3R5cGVPZj1lbXB0eS50b0xvY2FsZVN0cmluZz1lbXB0eS50b1N0cmluZz1lbXB0eS52YWx1ZU9mPWVtcHR5Ll9fcHJvdG9fXz1udWxsLGVtcHR5fSxPYmplY3QuY3JlYXRlPWZ1bmN0aW9uKHByb3RvdHlwZSxwcm9wZXJ0aWVzKXt2YXIgb2JqZWN0O2lmKG51bGw9PT1wcm90b3R5cGUpb2JqZWN0PWNyZWF0ZUVtcHR5KCk7ZWxzZXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIHByb3RvdHlwZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJ0eXBlb2YgcHJvdG90eXBlW1xcXCIrdHlwZW9mIHByb3RvdHlwZStcXFwiXSAhPSAnb2JqZWN0J1xcXCIpO3ZhciBUeXBlPWZ1bmN0aW9uKCl7fTtUeXBlLnByb3RvdHlwZT1wcm90b3R5cGUsb2JqZWN0PW5ldyBUeXBlLG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlfXJldHVybiB2b2lkIDAhPT1wcm9wZXJ0aWVzJiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmplY3QscHJvcGVydGllcyksb2JqZWN0fX1pZihPYmplY3QuZGVmaW5lUHJvcGVydHkpe3ZhciBkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3Q9ZG9lc0RlZmluZVByb3BlcnR5V29yayh7fSksZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tPVxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZG9jdW1lbnR8fGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiZGl2XFxcIikpO2lmKCFkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3R8fCFkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb20pdmFyIGRlZmluZVByb3BlcnR5RmFsbGJhY2s9T2JqZWN0LmRlZmluZVByb3BlcnR5fWlmKCFPYmplY3QuZGVmaW5lUHJvcGVydHl8fGRlZmluZVByb3BlcnR5RmFsbGJhY2spe3ZhciBFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SPVxcXCJQcm9wZXJ0eSBkZXNjcmlwdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogXFxcIixFUlJfTk9OX09CSkVDVF9UQVJHRVQ9XFxcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxsZWQgb24gbm9uLW9iamVjdDogXFxcIixFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQ9XFxcImdldHRlcnMgJiBzZXR0ZXJzIGNhbiBub3QgYmUgZGVmaW5lZCBvbiB0aGlzIGphdmFzY3JpcHQgZW5naW5lXFxcIjtPYmplY3QuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3Ipe2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqZWN0JiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2Ygb2JqZWN0fHxudWxsPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1RfVEFSR0VUK29iamVjdCk7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBkZXNjcmlwdG9yJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZGVzY3JpcHRvcnx8bnVsbD09PWRlc2NyaXB0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SK2Rlc2NyaXB0b3IpO2lmKGRlZmluZVByb3BlcnR5RmFsbGJhY2spdHJ5e3JldHVybiBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrLmNhbGwoT2JqZWN0LG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yKX1jYXRjaChleGNlcHRpb24pe31pZihvd25zKGRlc2NyaXB0b3IsXFxcInZhbHVlXFxcIikpaWYoc3VwcG9ydHNBY2Nlc3NvcnMmJihsb29rdXBHZXR0ZXIob2JqZWN0LHByb3BlcnR5KXx8bG9va3VwU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSkpKXt2YXIgcHJvdG90eXBlPW9iamVjdC5fX3Byb3RvX187b2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGVPZk9iamVjdCxkZWxldGUgb2JqZWN0W3Byb3BlcnR5XSxvYmplY3RbcHJvcGVydHldPWRlc2NyaXB0b3IudmFsdWUsb2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGV9ZWxzZSBvYmplY3RbcHJvcGVydHldPWRlc2NyaXB0b3IudmFsdWU7ZWxzZXtpZighc3VwcG9ydHNBY2Nlc3NvcnMpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQpO293bnMoZGVzY3JpcHRvcixcXFwiZ2V0XFxcIikmJmRlZmluZUdldHRlcihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvci5nZXQpLG93bnMoZGVzY3JpcHRvcixcXFwic2V0XFxcIikmJmRlZmluZVNldHRlcihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvci5zZXQpfXJldHVybiBvYmplY3R9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzfHwoT2JqZWN0LmRlZmluZVByb3BlcnRpZXM9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnRpZXMpe2Zvcih2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcylvd25zKHByb3BlcnRpZXMscHJvcGVydHkpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LHByb3BlcnR5LHByb3BlcnRpZXNbcHJvcGVydHldKTtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LnNlYWx8fChPYmplY3Quc2VhbD1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KSxPYmplY3QuZnJlZXplfHwoT2JqZWN0LmZyZWV6ZT1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KTt0cnl7T2JqZWN0LmZyZWV6ZShmdW5jdGlvbigpe30pfWNhdGNoKGV4Y2VwdGlvbil7T2JqZWN0LmZyZWV6ZT1mdW5jdGlvbihmcmVlemVPYmplY3Qpe3JldHVybiBmdW5jdGlvbihvYmplY3Qpe3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBvYmplY3Q/b2JqZWN0OmZyZWV6ZU9iamVjdChvYmplY3QpfX0oT2JqZWN0LmZyZWV6ZSl9aWYoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zfHwoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5pc1NlYWxlZHx8KE9iamVjdC5pc1NlYWxlZD1mdW5jdGlvbigpe3JldHVybiExfSksT2JqZWN0LmlzRnJvemVufHwoT2JqZWN0LmlzRnJvemVuPWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxPYmplY3QuaXNFeHRlbnNpYmxlfHwoT2JqZWN0LmlzRXh0ZW5zaWJsZT1mdW5jdGlvbihvYmplY3Qpe2lmKE9iamVjdChvYmplY3QpPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKHZhciBuYW1lPVxcXCJcXFwiO293bnMob2JqZWN0LG5hbWUpOyluYW1lKz1cXFwiP1xcXCI7b2JqZWN0W25hbWVdPSEwO3ZhciByZXR1cm5WYWx1ZT1vd25zKG9iamVjdCxuYW1lKTtyZXR1cm4gZGVsZXRlIG9iamVjdFtuYW1lXSxyZXR1cm5WYWx1ZX0pLCFPYmplY3Qua2V5cyl7dmFyIGhhc0RvbnRFbnVtQnVnPSEwLGRvbnRFbnVtcz1bXFxcInRvU3RyaW5nXFxcIixcXFwidG9Mb2NhbGVTdHJpbmdcXFwiLFxcXCJ2YWx1ZU9mXFxcIixcXFwiaGFzT3duUHJvcGVydHlcXFwiLFxcXCJpc1Byb3RvdHlwZU9mXFxcIixcXFwicHJvcGVydHlJc0VudW1lcmFibGVcXFwiLFxcXCJjb25zdHJ1Y3RvclxcXCJdLGRvbnRFbnVtc0xlbmd0aD1kb250RW51bXMubGVuZ3RoO2Zvcih2YXIga2V5IGlue3RvU3RyaW5nOm51bGx9KWhhc0RvbnRFbnVtQnVnPSExO09iamVjdC5rZXlzPWZ1bmN0aW9uKG9iamVjdCl7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdFxcXCIpO3ZhciBrZXlzPVtdO2Zvcih2YXIgbmFtZSBpbiBvYmplY3Qpb3ducyhvYmplY3QsbmFtZSkmJmtleXMucHVzaChuYW1lKTtpZihoYXNEb250RW51bUJ1Zylmb3IodmFyIGk9MCxpaT1kb250RW51bXNMZW5ndGg7aWk+aTtpKyspe3ZhciBkb250RW51bT1kb250RW51bXNbaV07b3ducyhvYmplY3QsZG9udEVudW0pJiZrZXlzLnB1c2goZG9udEVudW0pfXJldHVybiBrZXlzfX1EYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt2YXIgd3M9XFxcIlxcdFxcXFxuXFx1MDAwYlxcXFxmXFxcXHIgwqDhmoDhoI7igIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXFxcdTIwMjhcXFxcdTIwMjnvu79cXFwiO2lmKCFTdHJpbmcucHJvdG90eXBlLnRyaW18fHdzLnRyaW0oKSl7d3M9XFxcIltcXFwiK3dzK1xcXCJdXFxcIjt2YXIgdHJpbUJlZ2luUmVnZXhwPVJlZ0V4cChcXFwiXlxcXCIrd3Mrd3MrXFxcIipcXFwiKSx0cmltRW5kUmVnZXhwPVJlZ0V4cCh3cyt3cytcXFwiKiRcXFwiKTtTdHJpbmcucHJvdG90eXBlLnRyaW09ZnVuY3Rpb24oKXtyZXR1cm4odGhpcytcXFwiXFxcIikucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsXFxcIlxcXCIpLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCxcXFwiXFxcIil9fXZhciB0b09iamVjdD1mdW5jdGlvbihvKXtpZihudWxsPT1vKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcImNhbid0IGNvbnZlcnQgXFxcIitvK1xcXCIgdG8gb2JqZWN0XFxcIik7cmV0dXJuIE9iamVjdChvKX19KTtcIjtcbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwicEJHdkFwXCIpLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvLi4vbm9kZV9tb2R1bGVzL2JyYWNlL3dvcmtlci9jc3MuanNcIixcIi8uLi9ub2RlX21vZHVsZXMvYnJhY2Uvd29ya2VyXCIpIiwiKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCxCdWZmZXIsX19hcmd1bWVudDAsX19hcmd1bWVudDEsX19hcmd1bWVudDIsX19hcmd1bWVudDMsX19maWxlbmFtZSxfX2Rpcm5hbWUpe1xubW9kdWxlLmV4cG9ydHMuaWQgPSAnYWNlL21vZGUvaHRtbF93b3JrZXInO1xubW9kdWxlLmV4cG9ydHMuc3JjID0gXCJcXFwibm8gdXNlIHN0cmljdFxcXCI7KGZ1bmN0aW9uKHdpbmRvdyl7ZnVuY3Rpb24gcmVzb2x2ZU1vZHVsZUlkKGlkLHBhdGhzKXtmb3IodmFyIHRlc3RQYXRoPWlkLHRhaWw9XFxcIlxcXCI7dGVzdFBhdGg7KXt2YXIgYWxpYXM9cGF0aHNbdGVzdFBhdGhdO2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYWxpYXMpcmV0dXJuIGFsaWFzK3RhaWw7aWYoYWxpYXMpcmV0dXJuIGFsaWFzLmxvY2F0aW9uLnJlcGxhY2UoL1xcXFwvKiQvLFxcXCIvXFxcIikrKHRhaWx8fGFsaWFzLm1haW58fGFsaWFzLm5hbWUpO2lmKGFsaWFzPT09ITEpcmV0dXJuXFxcIlxcXCI7dmFyIGk9dGVzdFBhdGgubGFzdEluZGV4T2YoXFxcIi9cXFwiKTtpZigtMT09PWkpYnJlYWs7dGFpbD10ZXN0UGF0aC5zdWJzdHIoaSkrdGFpbCx0ZXN0UGF0aD10ZXN0UGF0aC5zbGljZSgwLGkpfXJldHVybiBpZH1pZighKHZvaWQgMCE9PXdpbmRvdy53aW5kb3cmJndpbmRvdy5kb2N1bWVudHx8d2luZG93LmFjZXF1aXJlJiZ3aW5kb3cuZGVmaW5lKSl7d2luZG93LmNvbnNvbGV8fCh3aW5kb3cuY29uc29sZT1mdW5jdGlvbigpe3ZhciBtc2dzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtwb3N0TWVzc2FnZSh7dHlwZTpcXFwibG9nXFxcIixkYXRhOm1zZ3N9KX0sd2luZG93LmNvbnNvbGUuZXJyb3I9d2luZG93LmNvbnNvbGUud2Fybj13aW5kb3cuY29uc29sZS5sb2c9d2luZG93LmNvbnNvbGUudHJhY2U9d2luZG93LmNvbnNvbGUpLHdpbmRvdy53aW5kb3c9d2luZG93LHdpbmRvdy5hY2U9d2luZG93LHdpbmRvdy5vbmVycm9yPWZ1bmN0aW9uKG1lc3NhZ2UsZmlsZSxsaW5lLGNvbCxlcnIpe3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJlcnJvclxcXCIsZGF0YTp7bWVzc2FnZTptZXNzYWdlLGRhdGE6ZXJyLmRhdGEsZmlsZTpmaWxlLGxpbmU6bGluZSxjb2w6Y29sLHN0YWNrOmVyci5zdGFja319KX0sd2luZG93Lm5vcm1hbGl6ZU1vZHVsZT1mdW5jdGlvbihwYXJlbnRJZCxtb2R1bGVOYW1lKXtpZigtMSE9PW1vZHVsZU5hbWUuaW5kZXhPZihcXFwiIVxcXCIpKXt2YXIgY2h1bmtzPW1vZHVsZU5hbWUuc3BsaXQoXFxcIiFcXFwiKTtyZXR1cm4gd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCxjaHVua3NbMF0pK1xcXCIhXFxcIit3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLGNodW5rc1sxXSl9aWYoXFxcIi5cXFwiPT1tb2R1bGVOYW1lLmNoYXJBdCgwKSl7dmFyIGJhc2U9cGFyZW50SWQuc3BsaXQoXFxcIi9cXFwiKS5zbGljZSgwLC0xKS5qb2luKFxcXCIvXFxcIik7Zm9yKG1vZHVsZU5hbWU9KGJhc2U/YmFzZStcXFwiL1xcXCI6XFxcIlxcXCIpK21vZHVsZU5hbWU7LTEhPT1tb2R1bGVOYW1lLmluZGV4T2YoXFxcIi5cXFwiKSYmcHJldmlvdXMhPW1vZHVsZU5hbWU7KXt2YXIgcHJldmlvdXM9bW9kdWxlTmFtZTttb2R1bGVOYW1lPW1vZHVsZU5hbWUucmVwbGFjZSgvXlxcXFwuXFxcXC8vLFxcXCJcXFwiKS5yZXBsYWNlKC9cXFxcL1xcXFwuXFxcXC8vLFxcXCIvXFxcIikucmVwbGFjZSgvW15cXFxcL10rXFxcXC9cXFxcLlxcXFwuXFxcXC8vLFxcXCJcXFwiKX19cmV0dXJuIG1vZHVsZU5hbWV9LHdpbmRvdy5hY2VxdWlyZT1mdW5jdGlvbiBhY2VxdWlyZShwYXJlbnRJZCxpZCl7aWYoaWR8fChpZD1wYXJlbnRJZCxwYXJlbnRJZD1udWxsKSwhaWQuY2hhckF0KXRocm93IEVycm9yKFxcXCJ3b3JrZXIuanMgYWNlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzXFxcIik7aWQ9d2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCxpZCk7dmFyIG1vZHVsZT13aW5kb3cuYWNlcXVpcmUubW9kdWxlc1tpZF07aWYobW9kdWxlKXJldHVybiBtb2R1bGUuaW5pdGlhbGl6ZWR8fChtb2R1bGUuaW5pdGlhbGl6ZWQ9ITAsbW9kdWxlLmV4cG9ydHM9bW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzKSxtb2R1bGUuZXhwb3J0cztpZighd2luZG93LmFjZXF1aXJlLnRsbnMpcmV0dXJuIGNvbnNvbGUubG9nKFxcXCJ1bmFibGUgdG8gbG9hZCBcXFwiK2lkKTt2YXIgcGF0aD1yZXNvbHZlTW9kdWxlSWQoaWQsd2luZG93LmFjZXF1aXJlLnRsbnMpO3JldHVyblxcXCIuanNcXFwiIT1wYXRoLnNsaWNlKC0zKSYmKHBhdGgrPVxcXCIuanNcXFwiKSx3aW5kb3cuYWNlcXVpcmUuaWQ9aWQsd2luZG93LmFjZXF1aXJlLm1vZHVsZXNbaWRdPXt9LGltcG9ydFNjcmlwdHMocGF0aCksd2luZG93LmFjZXF1aXJlKHBhcmVudElkLGlkKX0sd2luZG93LmFjZXF1aXJlLm1vZHVsZXM9e30sd2luZG93LmFjZXF1aXJlLnRsbnM9e30sd2luZG93LmRlZmluZT1mdW5jdGlvbihpZCxkZXBzLGZhY3Rvcnkpe2lmKDI9PWFyZ3VtZW50cy5sZW5ndGg/KGZhY3Rvcnk9ZGVwcyxcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGlkJiYoZGVwcz1pZCxpZD13aW5kb3cuYWNlcXVpcmUuaWQpKToxPT1hcmd1bWVudHMubGVuZ3RoJiYoZmFjdG9yeT1pZCxkZXBzPVtdLGlkPXdpbmRvdy5hY2VxdWlyZS5pZCksXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGZhY3RvcnkpcmV0dXJuIHdpbmRvdy5hY2VxdWlyZS5tb2R1bGVzW2lkXT17ZXhwb3J0czpmYWN0b3J5LGluaXRpYWxpemVkOiEwfSx2b2lkIDA7ZGVwcy5sZW5ndGh8fChkZXBzPVtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSk7dmFyIHJlcT1mdW5jdGlvbihjaGlsZElkKXtyZXR1cm4gd2luZG93LmFjZXF1aXJlKGlkLGNoaWxkSWQpfTt3aW5kb3cuYWNlcXVpcmUubW9kdWxlc1tpZF09e2V4cG9ydHM6e30sZmFjdG9yeTpmdW5jdGlvbigpe3ZhciBtb2R1bGU9dGhpcyxyZXR1cm5FeHBvcnRzPWZhY3RvcnkuYXBwbHkodGhpcyxkZXBzLm1hcChmdW5jdGlvbihkZXApe3N3aXRjaChkZXApe2Nhc2VcXFwicmVxdWlyZVxcXCI6cmV0dXJuIHJlcTtjYXNlXFxcImV4cG9ydHNcXFwiOnJldHVybiBtb2R1bGUuZXhwb3J0cztjYXNlXFxcIm1vZHVsZVxcXCI6cmV0dXJuIG1vZHVsZTtkZWZhdWx0OnJldHVybiByZXEoZGVwKX19KSk7cmV0dXJuIHJldHVybkV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1yZXR1cm5FeHBvcnRzKSxtb2R1bGV9fX0sd2luZG93LmRlZmluZS5hbWQ9e30sYWNlcXVpcmUudGxucz17fSx3aW5kb3cuaW5pdEJhc2VVcmxzPWZ1bmN0aW9uKHRvcExldmVsTmFtZXNwYWNlcyl7Zm9yKHZhciBpIGluIHRvcExldmVsTmFtZXNwYWNlcylhY2VxdWlyZS50bG5zW2ldPXRvcExldmVsTmFtZXNwYWNlc1tpXX0sd2luZG93LmluaXRTZW5kZXI9ZnVuY3Rpb24oKXt2YXIgRXZlbnRFbWl0dGVyPXdpbmRvdy5hY2VxdWlyZShcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIikuRXZlbnRFbWl0dGVyLG9vcD13aW5kb3cuYWNlcXVpcmUoXFxcImFjZS9saWIvb29wXFxcIiksU2VuZGVyPWZ1bmN0aW9uKCl7fTtyZXR1cm4gZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLmNhbGxiYWNrPWZ1bmN0aW9uKGRhdGEsY2FsbGJhY2tJZCl7cG9zdE1lc3NhZ2Uoe3R5cGU6XFxcImNhbGxcXFwiLGlkOmNhbGxiYWNrSWQsZGF0YTpkYXRhfSl9LHRoaXMuZW1pdD1mdW5jdGlvbihuYW1lLGRhdGEpe3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJldmVudFxcXCIsbmFtZTpuYW1lLGRhdGE6ZGF0YX0pfX0uY2FsbChTZW5kZXIucHJvdG90eXBlKSxuZXcgU2VuZGVyfTt2YXIgbWFpbj13aW5kb3cubWFpbj1udWxsLHNlbmRlcj13aW5kb3cuc2VuZGVyPW51bGw7d2luZG93Lm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgbXNnPWUuZGF0YTtpZihtc2cuZXZlbnQmJnNlbmRlcilzZW5kZXIuX3NpZ25hbChtc2cuZXZlbnQsbXNnLmRhdGEpO2Vsc2UgaWYobXNnLmNvbW1hbmQpaWYobWFpblttc2cuY29tbWFuZF0pbWFpblttc2cuY29tbWFuZF0uYXBwbHkobWFpbixtc2cuYXJncyk7ZWxzZXtpZighd2luZG93W21zZy5jb21tYW5kXSl0aHJvdyBFcnJvcihcXFwiVW5rbm93biBjb21tYW5kOlxcXCIrbXNnLmNvbW1hbmQpO3dpbmRvd1ttc2cuY29tbWFuZF0uYXBwbHkod2luZG93LG1zZy5hcmdzKX1lbHNlIGlmKG1zZy5pbml0KXt3aW5kb3cuaW5pdEJhc2VVcmxzKG1zZy50bG5zKSxhY2VxdWlyZShcXFwiYWNlL2xpYi9lczUtc2hpbVxcXCIpLHNlbmRlcj13aW5kb3cuc2VuZGVyPXdpbmRvdy5pbml0U2VuZGVyKCk7dmFyIGNsYXp6PWFjZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdO21haW49d2luZG93Lm1haW49bmV3IGNsYXp6KHNlbmRlcil9fX19KSh0aGlzKSxhY2UuZGVmaW5lKFxcXCJhY2UvbGliL29vcFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLmluaGVyaXRzPWZ1bmN0aW9uKGN0b3Isc3VwZXJDdG9yKXtjdG9yLnN1cGVyXz1zdXBlckN0b3IsY3Rvci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6Y3RvcixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX0sZXhwb3J0cy5taXhpbj1mdW5jdGlvbihvYmosbWl4aW4pe2Zvcih2YXIga2V5IGluIG1peGluKW9ialtrZXldPW1peGluW2tleV07cmV0dXJuIG9ian0sZXhwb3J0cy5pbXBsZW1lbnQ9ZnVuY3Rpb24ocHJvdG8sbWl4aW4pe2V4cG9ydHMubWl4aW4ocHJvdG8sbWl4aW4pfX0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvbGFuZ1xcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLmxhc3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIGFbYS5sZW5ndGgtMV19LGV4cG9ydHMuc3RyaW5nUmV2ZXJzZT1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcuc3BsaXQoXFxcIlxcXCIpLnJldmVyc2UoKS5qb2luKFxcXCJcXFwiKX0sZXhwb3J0cy5zdHJpbmdSZXBlYXQ9ZnVuY3Rpb24oc3RyaW5nLGNvdW50KXtmb3IodmFyIHJlc3VsdD1cXFwiXFxcIjtjb3VudD4wOykxJmNvdW50JiYocmVzdWx0Kz1zdHJpbmcpLChjb3VudD4+PTEpJiYoc3RyaW5nKz1zdHJpbmcpO3JldHVybiByZXN1bHR9O3ZhciB0cmltQmVnaW5SZWdleHA9L15cXFxcc1xcXFxzKi8sdHJpbUVuZFJlZ2V4cD0vXFxcXHNcXFxccyokLztleHBvcnRzLnN0cmluZ1RyaW1MZWZ0PWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCxcXFwiXFxcIil9LGV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0PWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsXFxcIlxcXCIpfSxleHBvcnRzLmNvcHlPYmplY3Q9ZnVuY3Rpb24ob2JqKXt2YXIgY29weT17fTtmb3IodmFyIGtleSBpbiBvYmopY29weVtrZXldPW9ialtrZXldO3JldHVybiBjb3B5fSxleHBvcnRzLmNvcHlBcnJheT1mdW5jdGlvbihhcnJheSl7Zm9yKHZhciBjb3B5PVtdLGk9MCxsPWFycmF5Lmxlbmd0aDtsPmk7aSsrKWNvcHlbaV09YXJyYXlbaV0mJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgYXJyYXlbaV0/dGhpcy5jb3B5T2JqZWN0KGFycmF5W2ldKTphcnJheVtpXTtyZXR1cm4gY29weX0sZXhwb3J0cy5kZWVwQ29weT1mdW5jdGlvbiBkZWVwQ29weShvYmope2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqfHwhb2JqKXJldHVybiBvYmo7dmFyIGNvcHk7aWYoQXJyYXkuaXNBcnJheShvYmopKXtjb3B5PVtdO2Zvcih2YXIga2V5PTA7b2JqLmxlbmd0aD5rZXk7a2V5KyspY29weVtrZXldPWRlZXBDb3B5KG9ialtrZXldKTtyZXR1cm4gY29weX12YXIgY29ucz1vYmouY29uc3RydWN0b3I7aWYoY29ucz09PVJlZ0V4cClyZXR1cm4gb2JqO2NvcHk9Y29ucygpO2Zvcih2YXIga2V5IGluIG9iailjb3B5W2tleV09ZGVlcENvcHkob2JqW2tleV0pO3JldHVybiBjb3B5fSxleHBvcnRzLmFycmF5VG9NYXA9ZnVuY3Rpb24oYXJyKXtmb3IodmFyIG1hcD17fSxpPTA7YXJyLmxlbmd0aD5pO2krKyltYXBbYXJyW2ldXT0xO3JldHVybiBtYXB9LGV4cG9ydHMuY3JlYXRlTWFwPWZ1bmN0aW9uKHByb3BzKXt2YXIgbWFwPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHZhciBpIGluIHByb3BzKW1hcFtpXT1wcm9wc1tpXTtyZXR1cm4gbWFwfSxleHBvcnRzLmFycmF5UmVtb3ZlPWZ1bmN0aW9uKGFycmF5LHZhbHVlKXtmb3IodmFyIGk9MDthcnJheS5sZW5ndGg+PWk7aSsrKXZhbHVlPT09YXJyYXlbaV0mJmFycmF5LnNwbGljZShpLDEpfSxleHBvcnRzLmVzY2FwZVJlZ0V4cD1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvKFsuKis/XiR7fSgpfFtcXFxcXVxcXFwvXFxcXFxcXFxdKS9nLFxcXCJcXFxcXFxcXCQxXFxcIil9LGV4cG9ydHMuZXNjYXBlSFRNTD1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvJi9nLFxcXCImIzM4O1xcXCIpLnJlcGxhY2UoL1xcXCIvZyxcXFwiJiMzNDtcXFwiKS5yZXBsYWNlKC8nL2csXFxcIiYjMzk7XFxcIikucmVwbGFjZSgvPC9nLFxcXCImIzYwO1xcXCIpfSxleHBvcnRzLmdldE1hdGNoT2Zmc2V0cz1mdW5jdGlvbihzdHJpbmcscmVnRXhwKXt2YXIgbWF0Y2hlcz1bXTtyZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVnRXhwLGZ1bmN0aW9uKHN0cil7bWF0Y2hlcy5wdXNoKHtvZmZzZXQ6YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMl0sbGVuZ3RoOnN0ci5sZW5ndGh9KX0pLG1hdGNoZXN9LGV4cG9ydHMuZGVmZXJyZWRDYWxsPWZ1bmN0aW9uKGZjbil7dmFyIHRpbWVyPW51bGwsY2FsbGJhY2s9ZnVuY3Rpb24oKXt0aW1lcj1udWxsLGZjbigpfSxkZWZlcnJlZD1mdW5jdGlvbih0aW1lb3V0KXtyZXR1cm4gZGVmZXJyZWQuY2FuY2VsKCksdGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHwwKSxkZWZlcnJlZH07cmV0dXJuIGRlZmVycmVkLnNjaGVkdWxlPWRlZmVycmVkLGRlZmVycmVkLmNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5jZWwoKSxmY24oKSxkZWZlcnJlZH0sZGVmZXJyZWQuY2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIGNsZWFyVGltZW91dCh0aW1lciksdGltZXI9bnVsbCxkZWZlcnJlZH0sZGVmZXJyZWQuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRpbWVyfSxkZWZlcnJlZH0sZXhwb3J0cy5kZWxheWVkQ2FsbD1mdW5jdGlvbihmY24sZGVmYXVsdFRpbWVvdXQpe3ZhciB0aW1lcj1udWxsLGNhbGxiYWNrPWZ1bmN0aW9uKCl7dGltZXI9bnVsbCxmY24oKX0sX3NlbGY9ZnVuY3Rpb24odGltZW91dCl7bnVsbD09dGltZXImJih0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fGRlZmF1bHRUaW1lb3V0KSl9O3JldHVybiBfc2VsZi5kZWxheT1mdW5jdGlvbih0aW1lb3V0KXt0aW1lciYmY2xlYXJUaW1lb3V0KHRpbWVyKSx0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fGRlZmF1bHRUaW1lb3V0KX0sX3NlbGYuc2NoZWR1bGU9X3NlbGYsX3NlbGYuY2FsbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsKCksZmNuKCl9LF9zZWxmLmNhbmNlbD1mdW5jdGlvbigpe3RpbWVyJiZjbGVhclRpbWVvdXQodGltZXIpLHRpbWVyPW51bGx9LF9zZWxmLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0aW1lcn0sX3NlbGZ9fSksYWNlLmRlZmluZShcXFwiYWNlL3JhbmdlXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBjb21wYXJlUG9pbnRzPWZ1bmN0aW9uKHAxLHAyKXtyZXR1cm4gcDEucm93LXAyLnJvd3x8cDEuY29sdW1uLXAyLmNvbHVtbn0sUmFuZ2U9ZnVuY3Rpb24oc3RhcnRSb3csc3RhcnRDb2x1bW4sZW5kUm93LGVuZENvbHVtbil7dGhpcy5zdGFydD17cm93OnN0YXJ0Um93LGNvbHVtbjpzdGFydENvbHVtbn0sdGhpcy5lbmQ9e3JvdzplbmRSb3csY29sdW1uOmVuZENvbHVtbn19OyhmdW5jdGlvbigpe3RoaXMuaXNFcXVhbD1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09cmFuZ2Uuc3RhcnQucm93JiZ0aGlzLmVuZC5yb3c9PT1yYW5nZS5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXJhbmdlLnN0YXJ0LmNvbHVtbiYmdGhpcy5lbmQuY29sdW1uPT09cmFuZ2UuZW5kLmNvbHVtbn0sdGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCJSYW5nZTogW1xcXCIrdGhpcy5zdGFydC5yb3crXFxcIi9cXFwiK3RoaXMuc3RhcnQuY29sdW1uK1xcXCJdIC0+IFtcXFwiK3RoaXMuZW5kLnJvdytcXFwiL1xcXCIrdGhpcy5lbmQuY29sdW1uK1xcXCJdXFxcIn0sdGhpcy5jb250YWlucz1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pfSx0aGlzLmNvbXBhcmVSYW5nZT1mdW5jdGlvbihyYW5nZSl7dmFyIGNtcCxlbmQ9cmFuZ2UuZW5kLHN0YXJ0PXJhbmdlLnN0YXJ0O3JldHVybiBjbXA9dGhpcy5jb21wYXJlKGVuZC5yb3csZW5kLmNvbHVtbiksMT09Y21wPyhjbXA9dGhpcy5jb21wYXJlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4pLDE9PWNtcD8yOjA9PWNtcD8xOjApOi0xPT1jbXA/LTI6KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksLTE9PWNtcD8tMToxPT1jbXA/NDI6MCl9LHRoaXMuY29tcGFyZVBvaW50PWZ1bmN0aW9uKHApe3JldHVybiB0aGlzLmNvbXBhcmUocC5yb3cscC5jb2x1bW4pfSx0aGlzLmNvbnRhaW5zUmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe3JldHVybiAwPT10aGlzLmNvbXBhcmVQb2ludChyYW5nZS5zdGFydCkmJjA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCl9LHRoaXMuaW50ZXJzZWN0cz1mdW5jdGlvbihyYW5nZSl7dmFyIGNtcD10aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7cmV0dXJuLTE9PWNtcHx8MD09Y21wfHwxPT1jbXB9LHRoaXMuaXNFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbn0sdGhpcy5pc1N0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1ufSx0aGlzLnNldFN0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe1xcXCJvYmplY3RcXFwiPT10eXBlb2Ygcm93Pyh0aGlzLnN0YXJ0LmNvbHVtbj1yb3cuY29sdW1uLHRoaXMuc3RhcnQucm93PXJvdy5yb3cpOih0aGlzLnN0YXJ0LnJvdz1yb3csdGhpcy5zdGFydC5jb2x1bW49Y29sdW1uKX0sdGhpcy5zZXRFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiByb3c/KHRoaXMuZW5kLmNvbHVtbj1yb3cuY29sdW1uLHRoaXMuZW5kLnJvdz1yb3cucm93KToodGhpcy5lbmQucm93PXJvdyx0aGlzLmVuZC5jb2x1bW49Y29sdW1uKX0sdGhpcy5pbnNpZGU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIDA9PXRoaXMuY29tcGFyZShyb3csY29sdW1uKT90aGlzLmlzRW5kKHJvdyxjb2x1bW4pfHx0aGlzLmlzU3RhcnQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIDA9PXRoaXMuY29tcGFyZShyb3csY29sdW1uKT90aGlzLmlzRW5kKHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmluc2lkZUVuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5jb21wYXJlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmlzTXVsdGlMaW5lKCl8fHJvdyE9PXRoaXMuc3RhcnQucm93P3RoaXMuc3RhcnQucm93PnJvdz8tMTpyb3c+dGhpcy5lbmQucm93PzE6dGhpcy5zdGFydC5yb3c9PT1yb3c/Y29sdW1uPj10aGlzLnN0YXJ0LmNvbHVtbj8wOi0xOnRoaXMuZW5kLnJvdz09PXJvdz90aGlzLmVuZC5jb2x1bW4+PWNvbHVtbj8wOjE6MDp0aGlzLnN0YXJ0LmNvbHVtbj5jb2x1bW4/LTE6Y29sdW1uPnRoaXMuZW5kLmNvbHVtbj8xOjB9LHRoaXMuY29tcGFyZVN0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZUluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1uPzE6dGhpcy5zdGFydC5yb3c9PXJvdyYmdGhpcy5zdGFydC5jb2x1bW49PWNvbHVtbj8tMTp0aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY2xpcFJvd3M9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7aWYodGhpcy5lbmQucm93Pmxhc3RSb3cpdmFyIGVuZD17cm93Omxhc3RSb3crMSxjb2x1bW46MH07ZWxzZSBpZihmaXJzdFJvdz50aGlzLmVuZC5yb3cpdmFyIGVuZD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtpZih0aGlzLnN0YXJ0LnJvdz5sYXN0Um93KXZhciBzdGFydD17cm93Omxhc3RSb3crMSxjb2x1bW46MH07ZWxzZSBpZihmaXJzdFJvdz50aGlzLnN0YXJ0LnJvdyl2YXIgc3RhcnQ9e3JvdzpmaXJzdFJvdyxjb2x1bW46MH07cmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnR8fHRoaXMuc3RhcnQsZW5kfHx0aGlzLmVuZCl9LHRoaXMuZXh0ZW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3ZhciBjbXA9dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pO2lmKDA9PWNtcClyZXR1cm4gdGhpcztpZigtMT09Y21wKXZhciBzdGFydD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtlbHNlIHZhciBlbmQ9e3Jvdzpyb3csY29sdW1uOmNvbHVtbn07cmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnR8fHRoaXMuc3RhcnQsZW5kfHx0aGlzLmVuZCl9LHRoaXMuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09PXRoaXMuZW5kLnJvdyYmdGhpcy5zdGFydC5jb2x1bW49PT10aGlzLmVuZC5jb2x1bW59LHRoaXMuaXNNdWx0aUxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydC5yb3chPT10aGlzLmVuZC5yb3d9LHRoaXMuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LHRoaXMuZW5kKX0sdGhpcy5jb2xsYXBzZVJvd3M9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5lbmQuY29sdW1uP25ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLE1hdGgubWF4KHRoaXMuc3RhcnQucm93LHRoaXMuZW5kLnJvdy0xKSwwKTpuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csMCx0aGlzLmVuZC5yb3csMCl9LHRoaXMudG9TY3JlZW5SYW5nZT1mdW5jdGlvbihzZXNzaW9uKXt2YXIgc2NyZWVuUG9zU3RhcnQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zdGFydCksc2NyZWVuUG9zRW5kPXNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuZW5kKTtyZXR1cm4gbmV3IFJhbmdlKHNjcmVlblBvc1N0YXJ0LnJvdyxzY3JlZW5Qb3NTdGFydC5jb2x1bW4sc2NyZWVuUG9zRW5kLnJvdyxzY3JlZW5Qb3NFbmQuY29sdW1uKX0sdGhpcy5tb3ZlQnk9ZnVuY3Rpb24ocm93LGNvbHVtbil7dGhpcy5zdGFydC5yb3crPXJvdyx0aGlzLnN0YXJ0LmNvbHVtbis9Y29sdW1uLHRoaXMuZW5kLnJvdys9cm93LHRoaXMuZW5kLmNvbHVtbis9Y29sdW1ufX0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKSxSYW5nZS5mcm9tUG9pbnRzPWZ1bmN0aW9uKHN0YXJ0LGVuZCl7cmV0dXJuIG5ldyBSYW5nZShzdGFydC5yb3csc3RhcnQuY29sdW1uLGVuZC5yb3csZW5kLmNvbHVtbil9LFJhbmdlLmNvbXBhcmVQb2ludHM9Y29tcGFyZVBvaW50cyxSYW5nZS5jb21wYXJlUG9pbnRzPWZ1bmN0aW9uKHAxLHAyKXtyZXR1cm4gcDEucm93LXAyLnJvd3x8cDEuY29sdW1uLXAyLmNvbHVtbn0sZXhwb3J0cy5SYW5nZT1SYW5nZX0pLGFjZS5kZWZpbmUoXFxcImFjZS9hcHBseV9kZWx0YVxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLmFwcGx5RGVsdGE9ZnVuY3Rpb24oZG9jTGluZXMsZGVsdGEpe3ZhciByb3c9ZGVsdGEuc3RhcnQucm93LHN0YXJ0Q29sdW1uPWRlbHRhLnN0YXJ0LmNvbHVtbixsaW5lPWRvY0xpbmVzW3Jvd118fFxcXCJcXFwiO3N3aXRjaChkZWx0YS5hY3Rpb24pe2Nhc2VcXFwiaW5zZXJ0XFxcIjp2YXIgbGluZXM9ZGVsdGEubGluZXM7aWYoMT09PWxpbmVzLmxlbmd0aClkb2NMaW5lc1tyb3ddPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2RlbHRhLmxpbmVzWzBdK2xpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTtlbHNle3ZhciBhcmdzPVtyb3csMV0uY29uY2F0KGRlbHRhLmxpbmVzKTtkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsYXJncyksZG9jTGluZXNbcm93XT1saW5lLnN1YnN0cmluZygwLHN0YXJ0Q29sdW1uKStkb2NMaW5lc1tyb3ddLGRvY0xpbmVzW3JvdytkZWx0YS5saW5lcy5sZW5ndGgtMV0rPWxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKX1icmVhaztjYXNlXFxcInJlbW92ZVxcXCI6dmFyIGVuZENvbHVtbj1kZWx0YS5lbmQuY29sdW1uLGVuZFJvdz1kZWx0YS5lbmQucm93O3Jvdz09PWVuZFJvdz9kb2NMaW5lc1tyb3ddPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2xpbmUuc3Vic3RyaW5nKGVuZENvbHVtbik6ZG9jTGluZXMuc3BsaWNlKHJvdyxlbmRSb3ctcm93KzEsbGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSl9fX0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgRXZlbnRFbWl0dGVyPXt9LHN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMucHJvcGFnYXRpb25TdG9wcGVkPSEwfSxwcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH07RXZlbnRFbWl0dGVyLl9lbWl0PUV2ZW50RW1pdHRlci5fZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihldmVudE5hbWUsZSl7dGhpcy5fZXZlbnRSZWdpc3RyeXx8KHRoaXMuX2V2ZW50UmVnaXN0cnk9e30pLHRoaXMuX2RlZmF1bHRIYW5kbGVyc3x8KHRoaXMuX2RlZmF1bHRIYW5kbGVycz17fSk7dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV18fFtdLGRlZmF1bHRIYW5kbGVyPXRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdO2lmKGxpc3RlbmVycy5sZW5ndGh8fGRlZmF1bHRIYW5kbGVyKXtcXFwib2JqZWN0XFxcIj09dHlwZW9mIGUmJmV8fChlPXt9KSxlLnR5cGV8fChlLnR5cGU9ZXZlbnROYW1lKSxlLnN0b3BQcm9wYWdhdGlvbnx8KGUuc3RvcFByb3BhZ2F0aW9uPXN0b3BQcm9wYWdhdGlvbiksZS5wcmV2ZW50RGVmYXVsdHx8KGUucHJldmVudERlZmF1bHQ9cHJldmVudERlZmF1bHQpLGxpc3RlbmVycz1saXN0ZW5lcnMuc2xpY2UoKTtmb3IodmFyIGk9MDtsaXN0ZW5lcnMubGVuZ3RoPmkmJihsaXN0ZW5lcnNbaV0oZSx0aGlzKSwhZS5wcm9wYWdhdGlvblN0b3BwZWQpO2krKyk7cmV0dXJuIGRlZmF1bHRIYW5kbGVyJiYhZS5kZWZhdWx0UHJldmVudGVkP2RlZmF1bHRIYW5kbGVyKGUsdGhpcyk6dm9pZCAwfX0sRXZlbnRFbWl0dGVyLl9zaWduYWw9ZnVuY3Rpb24oZXZlbnROYW1lLGUpe3ZhciBsaXN0ZW5lcnM9KHRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9KVtldmVudE5hbWVdO2lmKGxpc3RlbmVycyl7bGlzdGVuZXJzPWxpc3RlbmVycy5zbGljZSgpO2Zvcih2YXIgaT0wO2xpc3RlbmVycy5sZW5ndGg+aTtpKyspbGlzdGVuZXJzW2ldKGUsdGhpcyl9fSxFdmVudEVtaXR0ZXIub25jZT1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBfc2VsZj10aGlzO2NhbGxiYWNrJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLGZ1bmN0aW9uIG5ld0NhbGxiYWNrKCl7X3NlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsbmV3Q2FsbGJhY2spLGNhbGxiYWNrLmFwcGx5KG51bGwsYXJndW1lbnRzKX0pfSxFdmVudEVtaXR0ZXIuc2V0RGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKGhhbmRsZXJzfHwoaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzPXtfZGlzYWJsZWRfOnt9fSksaGFuZGxlcnNbZXZlbnROYW1lXSl7dmFyIG9sZD1oYW5kbGVyc1tldmVudE5hbWVdLGRpc2FibGVkPWhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTtkaXNhYmxlZHx8KGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXT1kaXNhYmxlZD1bXSksZGlzYWJsZWQucHVzaChvbGQpO3ZhciBpPWRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOy0xIT1pJiZkaXNhYmxlZC5zcGxpY2UoaSwxKX1oYW5kbGVyc1tldmVudE5hbWVdPWNhbGxiYWNrfSxFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKGhhbmRsZXJzKXt2YXIgZGlzYWJsZWQ9aGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdO2lmKGhhbmRsZXJzW2V2ZW50TmFtZV09PWNhbGxiYWNrKWhhbmRsZXJzW2V2ZW50TmFtZV0sZGlzYWJsZWQmJnRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZXZlbnROYW1lLGRpc2FibGVkLnBvcCgpKTtlbHNlIGlmKGRpc2FibGVkKXt2YXIgaT1kaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTstMSE9aSYmZGlzYWJsZWQuc3BsaWNlKGksMSl9fX0sRXZlbnRFbWl0dGVyLm9uPUV2ZW50RW1pdHRlci5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayxjYXB0dXJpbmcpe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07cmV0dXJuIGxpc3RlbmVyc3x8KGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV09W10pLC0xPT1saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaykmJmxpc3RlbmVyc1tjYXB0dXJpbmc/XFxcInVuc2hpZnRcXFwiOlxcXCJwdXNoXFxcIl0oY2FsbGJhY2spLGNhbGxiYWNrfSxFdmVudEVtaXR0ZXIub2ZmPUV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcj1FdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07aWYobGlzdGVuZXJzKXt2YXIgaW5kZXg9bGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOy0xIT09aW5kZXgmJmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsMSl9fSxFdmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGV2ZW50TmFtZSl7dGhpcy5fZXZlbnRSZWdpc3RyeSYmKHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXT1bXSl9LGV4cG9ydHMuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcn0pLGFjZS5kZWZpbmUoXFxcImFjZS9hbmNob3JcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbGliL29vcFxcXCIsXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgb29wPWFjZXF1aXJlKFxcXCIuL2xpYi9vb3BcXFwiKSxFdmVudEVtaXR0ZXI9YWNlcXVpcmUoXFxcIi4vbGliL2V2ZW50X2VtaXR0ZXJcXFwiKS5FdmVudEVtaXR0ZXIsQW5jaG9yPWV4cG9ydHMuQW5jaG9yPWZ1bmN0aW9uKGRvYyxyb3csY29sdW1uKXt0aGlzLiRvbkNoYW5nZT10aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5hdHRhY2goZG9jKSxjb2x1bW49PT12b2lkIDA/dGhpcy5zZXRQb3NpdGlvbihyb3cucm93LHJvdy5jb2x1bW4pOnRoaXMuc2V0UG9zaXRpb24ocm93LGNvbHVtbil9OyhmdW5jdGlvbigpe2Z1bmN0aW9uICRwb2ludHNJbk9yZGVyKHBvaW50MSxwb2ludDIsZXF1YWxQb2ludHNJbk9yZGVyKXt2YXIgYkNvbElzQWZ0ZXI9ZXF1YWxQb2ludHNJbk9yZGVyP3BvaW50MS5jb2x1bW48PXBvaW50Mi5jb2x1bW46cG9pbnQxLmNvbHVtbjxwb2ludDIuY29sdW1uO3JldHVybiBwb2ludDEucm93PHBvaW50Mi5yb3d8fHBvaW50MS5yb3c9PXBvaW50Mi5yb3cmJmJDb2xJc0FmdGVyfWZ1bmN0aW9uICRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLHBvaW50LG1vdmVJZkVxdWFsKXt2YXIgZGVsdGFJc0luc2VydD1cXFwiaW5zZXJ0XFxcIj09ZGVsdGEuYWN0aW9uLGRlbHRhUm93U2hpZnQ9KGRlbHRhSXNJbnNlcnQ/MTotMSkqKGRlbHRhLmVuZC5yb3ctZGVsdGEuc3RhcnQucm93KSxkZWx0YUNvbFNoaWZ0PShkZWx0YUlzSW5zZXJ0PzE6LTEpKihkZWx0YS5lbmQuY29sdW1uLWRlbHRhLnN0YXJ0LmNvbHVtbiksZGVsdGFTdGFydD1kZWx0YS5zdGFydCxkZWx0YUVuZD1kZWx0YUlzSW5zZXJ0P2RlbHRhU3RhcnQ6ZGVsdGEuZW5kO3JldHVybiAkcG9pbnRzSW5PcmRlcihwb2ludCxkZWx0YVN0YXJ0LG1vdmVJZkVxdWFsKT97cm93OnBvaW50LnJvdyxjb2x1bW46cG9pbnQuY29sdW1ufTokcG9pbnRzSW5PcmRlcihkZWx0YUVuZCxwb2ludCwhbW92ZUlmRXF1YWwpP3tyb3c6cG9pbnQucm93K2RlbHRhUm93U2hpZnQsY29sdW1uOnBvaW50LmNvbHVtbisocG9pbnQucm93PT1kZWx0YUVuZC5yb3c/ZGVsdGFDb2xTaGlmdDowKX06e3JvdzpkZWx0YVN0YXJ0LnJvdyxjb2x1bW46ZGVsdGFTdGFydC5jb2x1bW59fW9vcC5pbXBsZW1lbnQodGhpcyxFdmVudEVtaXR0ZXIpLHRoaXMuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdyx0aGlzLmNvbHVtbil9LHRoaXMuZ2V0RG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudH0sdGhpcy4kaW5zZXJ0UmlnaHQ9ITEsdGhpcy5vbkNoYW5nZT1mdW5jdGlvbihkZWx0YSl7aWYoIShkZWx0YS5zdGFydC5yb3c9PWRlbHRhLmVuZC5yb3cmJmRlbHRhLnN0YXJ0LnJvdyE9dGhpcy5yb3d8fGRlbHRhLnN0YXJ0LnJvdz50aGlzLnJvdykpe3ZhciBwb2ludD0kZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSx7cm93OnRoaXMucm93LGNvbHVtbjp0aGlzLmNvbHVtbn0sdGhpcy4kaW5zZXJ0UmlnaHQpO3RoaXMuc2V0UG9zaXRpb24ocG9pbnQucm93LHBvaW50LmNvbHVtbiwhMCl9fSx0aGlzLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHJvdyxjb2x1bW4sbm9DbGlwKXt2YXIgcG9zO2lmKHBvcz1ub0NsaXA/e3Jvdzpyb3csY29sdW1uOmNvbHVtbn06dGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyb3csY29sdW1uKSx0aGlzLnJvdyE9cG9zLnJvd3x8dGhpcy5jb2x1bW4hPXBvcy5jb2x1bW4pe3ZhciBvbGQ9e3Jvdzp0aGlzLnJvdyxjb2x1bW46dGhpcy5jb2x1bW59O3RoaXMucm93PXBvcy5yb3csdGhpcy5jb2x1bW49cG9zLmNvbHVtbix0aGlzLl9zaWduYWwoXFxcImNoYW5nZVxcXCIse29sZDpvbGQsdmFsdWU6cG9zfSl9fSx0aGlzLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwiY2hhbmdlXFxcIix0aGlzLiRvbkNoYW5nZSl9LHRoaXMuYXR0YWNoPWZ1bmN0aW9uKGRvYyl7dGhpcy5kb2N1bWVudD1kb2N8fHRoaXMuZG9jdW1lbnQsdGhpcy5kb2N1bWVudC5vbihcXFwiY2hhbmdlXFxcIix0aGlzLiRvbkNoYW5nZSl9LHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIHBvcz17fTtyZXR1cm4gcm93Pj10aGlzLmRvY3VtZW50LmdldExlbmd0aCgpPyhwb3Mucm93PU1hdGgubWF4KDAsdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKS0xKSxwb3MuY29sdW1uPXRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgpOjA+cm93Pyhwb3Mucm93PTAscG9zLmNvbHVtbj0wKToocG9zLnJvdz1yb3cscG9zLmNvbHVtbj1NYXRoLm1pbih0aGlzLmRvY3VtZW50LmdldExpbmUocG9zLnJvdykubGVuZ3RoLE1hdGgubWF4KDAsY29sdW1uKSkpLDA+Y29sdW1uJiYocG9zLmNvbHVtbj0wKSxwb3N9fSkuY2FsbChBbmNob3IucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS9kb2N1bWVudFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL2FwcGx5X2RlbHRhXFxcIixcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIixcXFwiYWNlL3JhbmdlXFxcIixcXFwiYWNlL2FuY2hvclxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgb29wPWFjZXF1aXJlKFxcXCIuL2xpYi9vb3BcXFwiKSxhcHBseURlbHRhPWFjZXF1aXJlKFxcXCIuL2FwcGx5X2RlbHRhXFxcIikuYXBwbHlEZWx0YSxFdmVudEVtaXR0ZXI9YWNlcXVpcmUoXFxcIi4vbGliL2V2ZW50X2VtaXR0ZXJcXFwiKS5FdmVudEVtaXR0ZXIsUmFuZ2U9YWNlcXVpcmUoXFxcIi4vcmFuZ2VcXFwiKS5SYW5nZSxBbmNob3I9YWNlcXVpcmUoXFxcIi4vYW5jaG9yXFxcIikuQW5jaG9yLERvY3VtZW50PWZ1bmN0aW9uKHRleHRPckxpbmVzKXt0aGlzLiRsaW5lcz1bXFxcIlxcXCJdLDA9PT10ZXh0T3JMaW5lcy5sZW5ndGg/dGhpcy4kbGluZXM9W1xcXCJcXFwiXTpBcnJheS5pc0FycmF5KHRleHRPckxpbmVzKT90aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6MCxjb2x1bW46MH0sdGV4dE9yTGluZXMpOnRoaXMuaW5zZXJ0KHtyb3c6MCxjb2x1bW46MH0sdGV4dE9yTGluZXMpfTsoZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLnNldFZhbHVlPWZ1bmN0aW9uKHRleHQpe3ZhciBsZW49dGhpcy5nZXRMZW5ndGgoKS0xO3RoaXMucmVtb3ZlKG5ldyBSYW5nZSgwLDAsbGVuLHRoaXMuZ2V0TGluZShsZW4pLmxlbmd0aCkpLHRoaXMuaW5zZXJ0KHtyb3c6MCxjb2x1bW46MH0sdGV4dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBbGxMaW5lcygpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpfSx0aGlzLmNyZWF0ZUFuY2hvcj1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gbmV3IEFuY2hvcih0aGlzLHJvdyxjb2x1bW4pfSx0aGlzLiRzcGxpdD0wPT09XFxcImFhYVxcXCIuc3BsaXQoL2EvKS5sZW5ndGg/ZnVuY3Rpb24odGV4dCl7cmV0dXJuIHRleHQucmVwbGFjZSgvXFxcXHJcXFxcbnxcXFxcci9nLFxcXCJcXFxcblxcXCIpLnNwbGl0KFxcXCJcXFxcblxcXCIpfTpmdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5zcGxpdCgvXFxcXHJcXFxcbnxcXFxccnxcXFxcbi8pfSx0aGlzLiRkZXRlY3ROZXdMaW5lPWZ1bmN0aW9uKHRleHQpe3ZhciBtYXRjaD10ZXh0Lm1hdGNoKC9eLio/KFxcXFxyXFxcXG58XFxcXHJ8XFxcXG4pL20pO3RoaXMuJGF1dG9OZXdMaW5lPW1hdGNoP21hdGNoWzFdOlxcXCJcXFxcblxcXCIsdGhpcy5fc2lnbmFsKFxcXCJjaGFuZ2VOZXdMaW5lTW9kZVxcXCIpfSx0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXI9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy4kbmV3TGluZU1vZGUpe2Nhc2VcXFwid2luZG93c1xcXCI6cmV0dXJuXFxcIlxcXFxyXFxcXG5cXFwiO2Nhc2VcXFwidW5peFxcXCI6cmV0dXJuXFxcIlxcXFxuXFxcIjtkZWZhdWx0OnJldHVybiB0aGlzLiRhdXRvTmV3TGluZXx8XFxcIlxcXFxuXFxcIn19LHRoaXMuJGF1dG9OZXdMaW5lPVxcXCJcXFwiLHRoaXMuJG5ld0xpbmVNb2RlPVxcXCJhdXRvXFxcIix0aGlzLnNldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKG5ld0xpbmVNb2RlKXt0aGlzLiRuZXdMaW5lTW9kZSE9PW5ld0xpbmVNb2RlJiYodGhpcy4kbmV3TGluZU1vZGU9bmV3TGluZU1vZGUsdGhpcy5fc2lnbmFsKFxcXCJjaGFuZ2VOZXdMaW5lTW9kZVxcXCIpKX0sdGhpcy5nZXROZXdMaW5lTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRuZXdMaW5lTW9kZX0sdGhpcy5pc05ld0xpbmU9ZnVuY3Rpb24odGV4dCl7cmV0dXJuXFxcIlxcXFxyXFxcXG5cXFwiPT10ZXh0fHxcXFwiXFxcXHJcXFwiPT10ZXh0fHxcXFwiXFxcXG5cXFwiPT10ZXh0fSx0aGlzLmdldExpbmU9ZnVuY3Rpb24ocm93KXtyZXR1cm4gdGhpcy4kbGluZXNbcm93XXx8XFxcIlxcXCJ9LHRoaXMuZ2V0TGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7cmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LGxhc3RSb3crMSl9LHRoaXMuZ2V0QWxsTGluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMaW5lcygwLHRoaXMuZ2V0TGVuZ3RoKCkpfSx0aGlzLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRsaW5lcy5sZW5ndGh9LHRoaXMuZ2V0VGV4dFJhbmdlPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKX0sdGhpcy5nZXRMaW5lc0ZvclJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgbGluZXM7aWYocmFuZ2Uuc3RhcnQucm93PT09cmFuZ2UuZW5kLnJvdylsaW5lcz1bdGhpcy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdykuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbixyYW5nZS5lbmQuY29sdW1uKV07ZWxzZXtsaW5lcz10aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93KSxsaW5lc1swXT0obGluZXNbMF18fFxcXCJcXFwiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTt2YXIgbD1saW5lcy5sZW5ndGgtMTtyYW5nZS5lbmQucm93LXJhbmdlLnN0YXJ0LnJvdz09bCYmKGxpbmVzW2xdPWxpbmVzW2xdLnN1YnN0cmluZygwLHJhbmdlLmVuZC5jb2x1bW4pKX1yZXR1cm4gbGluZXN9LHRoaXMuaW5zZXJ0TGluZXM9ZnVuY3Rpb24ocm93LGxpbmVzKXtyZXR1cm4gY29uc29sZS53YXJuKFxcXCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSBpbnNlcnRGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuXFxcIiksdGhpcy5pbnNlcnRGdWxsTGluZXMocm93LGxpbmVzKX0sdGhpcy5yZW1vdmVMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtyZXR1cm4gY29uc29sZS53YXJuKFxcXCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuXFxcIiksdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csbGFzdFJvdyl9LHRoaXMuaW5zZXJ0TmV3TGluZT1mdW5jdGlvbihwb3NpdGlvbil7cmV0dXJuIGNvbnNvbGUud2FybihcXFwiVXNlIG9mIGRvY3VtZW50Lmluc2VydE5ld0xpbmUgaXMgZGVwcmVjYXRlZC4gVXNlIGluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbJycsICcnXSkgaW5zdGVhZC5cXFwiKSx0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLFtcXFwiXFxcIixcXFwiXFxcIl0pfSx0aGlzLmluc2VydD1mdW5jdGlvbihwb3NpdGlvbix0ZXh0KXtyZXR1cm4gMT49dGhpcy5nZXRMZW5ndGgoKSYmdGhpcy4kZGV0ZWN0TmV3TGluZSh0ZXh0KSx0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLHRoaXMuJHNwbGl0KHRleHQpKX0sdGhpcy5pbnNlcnRJbkxpbmU9ZnVuY3Rpb24ocG9zaXRpb24sdGV4dCl7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3cscG9zaXRpb24uY29sdW1uKSxlbmQ9dGhpcy5wb3MocG9zaXRpb24ucm93LHBvc2l0aW9uLmNvbHVtbit0ZXh0Lmxlbmd0aCk7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcImluc2VydFxcXCIsbGluZXM6W3RleHRdfSwhMCksdGhpcy5jbG9uZVBvcyhlbmQpfSx0aGlzLmNsaXBwZWRQb3M9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIGxlbmd0aD10aGlzLmdldExlbmd0aCgpO3ZvaWQgMD09PXJvdz9yb3c9bGVuZ3RoOjA+cm93P3Jvdz0wOnJvdz49bGVuZ3RoJiYocm93PWxlbmd0aC0xLGNvbHVtbj12b2lkIDApO3ZhciBsaW5lPXRoaXMuZ2V0TGluZShyb3cpO3JldHVybiB2b2lkIDA9PWNvbHVtbiYmKGNvbHVtbj1saW5lLmxlbmd0aCksY29sdW1uPU1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwwKSxsaW5lLmxlbmd0aCkse3Jvdzpyb3csY29sdW1uOmNvbHVtbn19LHRoaXMuY2xvbmVQb3M9ZnVuY3Rpb24ocG9zKXtyZXR1cm57cm93OnBvcy5yb3csY29sdW1uOnBvcy5jb2x1bW59fSx0aGlzLnBvcz1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm57cm93OnJvdyxjb2x1bW46Y29sdW1ufX0sdGhpcy4kY2xpcFBvc2l0aW9uPWZ1bmN0aW9uKHBvc2l0aW9uKXt2YXIgbGVuZ3RoPXRoaXMuZ2V0TGVuZ3RoKCk7cmV0dXJuIHBvc2l0aW9uLnJvdz49bGVuZ3RoPyhwb3NpdGlvbi5yb3c9TWF0aC5tYXgoMCxsZW5ndGgtMSkscG9zaXRpb24uY29sdW1uPXRoaXMuZ2V0TGluZShsZW5ndGgtMSkubGVuZ3RoKToocG9zaXRpb24ucm93PU1hdGgubWF4KDAscG9zaXRpb24ucm93KSxwb3NpdGlvbi5jb2x1bW49TWF0aC5taW4oTWF0aC5tYXgocG9zaXRpb24uY29sdW1uLDApLHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCkpLHBvc2l0aW9ufSx0aGlzLmluc2VydEZ1bGxMaW5lcz1mdW5jdGlvbihyb3csbGluZXMpe3Jvdz1NYXRoLm1pbihNYXRoLm1heChyb3csMCksdGhpcy5nZXRMZW5ndGgoKSk7dmFyIGNvbHVtbj0wO3RoaXMuZ2V0TGVuZ3RoKCk+cm93PyhsaW5lcz1saW5lcy5jb25jYXQoW1xcXCJcXFwiXSksY29sdW1uPTApOihsaW5lcz1bXFxcIlxcXCJdLmNvbmNhdChsaW5lcykscm93LS0sY29sdW1uPXRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoKSx0aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6cm93LGNvbHVtbjpjb2x1bW59LGxpbmVzKX0sdGhpcy5pbnNlcnRNZXJnZWRMaW5lcz1mdW5jdGlvbihwb3NpdGlvbixsaW5lcyl7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3cscG9zaXRpb24uY29sdW1uKSxlbmQ9e3JvdzpzdGFydC5yb3crbGluZXMubGVuZ3RoLTEsY29sdW1uOigxPT1saW5lcy5sZW5ndGg/c3RhcnQuY29sdW1uOjApK2xpbmVzW2xpbmVzLmxlbmd0aC0xXS5sZW5ndGh9O3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnN0YXJ0LGVuZDplbmQsYWN0aW9uOlxcXCJpbnNlcnRcXFwiLGxpbmVzOmxpbmVzfSksdGhpcy5jbG9uZVBvcyhlbmQpfSx0aGlzLnJlbW92ZT1mdW5jdGlvbihyYW5nZSl7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhyYW5nZS5zdGFydC5yb3cscmFuZ2Uuc3RhcnQuY29sdW1uKSxlbmQ9dGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3cscmFuZ2UuZW5kLmNvbHVtbik7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcInJlbW92ZVxcXCIsbGluZXM6dGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDpzdGFydCxlbmQ6ZW5kfSl9KSx0aGlzLmNsb25lUG9zKHN0YXJ0KX0sdGhpcy5yZW1vdmVJbkxpbmU9ZnVuY3Rpb24ocm93LHN0YXJ0Q29sdW1uLGVuZENvbHVtbil7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhyb3csc3RhcnRDb2x1bW4pLGVuZD10aGlzLmNsaXBwZWRQb3Mocm93LGVuZENvbHVtbik7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcInJlbW92ZVxcXCIsbGluZXM6dGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDpzdGFydCxlbmQ6ZW5kfSl9LCEwKSx0aGlzLmNsb25lUG9zKHN0YXJ0KX0sdGhpcy5yZW1vdmVGdWxsTGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7Zmlyc3RSb3c9TWF0aC5taW4oTWF0aC5tYXgoMCxmaXJzdFJvdyksdGhpcy5nZXRMZW5ndGgoKS0xKSxsYXN0Um93PU1hdGgubWluKE1hdGgubWF4KDAsbGFzdFJvdyksdGhpcy5nZXRMZW5ndGgoKS0xKTt2YXIgZGVsZXRlRmlyc3ROZXdMaW5lPWxhc3RSb3c9PXRoaXMuZ2V0TGVuZ3RoKCktMSYmZmlyc3RSb3c+MCxkZWxldGVMYXN0TmV3TGluZT10aGlzLmdldExlbmd0aCgpLTE+bGFzdFJvdyxzdGFydFJvdz1kZWxldGVGaXJzdE5ld0xpbmU/Zmlyc3RSb3ctMTpmaXJzdFJvdyxzdGFydENvbD1kZWxldGVGaXJzdE5ld0xpbmU/dGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGg6MCxlbmRSb3c9ZGVsZXRlTGFzdE5ld0xpbmU/bGFzdFJvdysxOmxhc3RSb3csZW5kQ29sPWRlbGV0ZUxhc3ROZXdMaW5lPzA6dGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoLHJhbmdlPW5ldyBSYW5nZShzdGFydFJvdyxzdGFydENvbCxlbmRSb3csZW5kQ29sKSxkZWxldGVkTGluZXM9dGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csbGFzdFJvdysxKTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpyYW5nZS5zdGFydCxlbmQ6cmFuZ2UuZW5kLGFjdGlvbjpcXFwicmVtb3ZlXFxcIixsaW5lczp0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpfSksZGVsZXRlZExpbmVzfSx0aGlzLnJlbW92ZU5ld0xpbmU9ZnVuY3Rpb24ocm93KXt0aGlzLmdldExlbmd0aCgpLTE+cm93JiZyb3c+PTAmJnRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dGhpcy5wb3Mocm93LHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksZW5kOnRoaXMucG9zKHJvdysxLDApLGFjdGlvbjpcXFwicmVtb3ZlXFxcIixsaW5lczpbXFxcIlxcXCIsXFxcIlxcXCJdfSl9LHRoaXMucmVwbGFjZT1mdW5jdGlvbihyYW5nZSx0ZXh0KXtpZihyYW5nZSBpbnN0YW5jZW9mIFJhbmdlfHwocmFuZ2U9UmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCxyYW5nZS5lbmQpKSwwPT09dGV4dC5sZW5ndGgmJnJhbmdlLmlzRW1wdHkoKSlyZXR1cm4gcmFuZ2Uuc3RhcnQ7aWYodGV4dD09dGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKXJldHVybiByYW5nZS5lbmQ7dGhpcy5yZW1vdmUocmFuZ2UpO3ZhciBlbmQ7cmV0dXJuIGVuZD10ZXh0P3RoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LHRleHQpOnJhbmdlLnN0YXJ0fSx0aGlzLmFwcGx5RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPTA7ZGVsdGFzLmxlbmd0aD5pO2krKyl0aGlzLmFwcGx5RGVsdGEoZGVsdGFzW2ldKX0sdGhpcy5yZXZlcnREZWx0YXM9ZnVuY3Rpb24oZGVsdGFzKXtmb3IodmFyIGk9ZGVsdGFzLmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMucmV2ZXJ0RGVsdGEoZGVsdGFzW2ldKX0sdGhpcy5hcHBseURlbHRhPWZ1bmN0aW9uKGRlbHRhLGRvTm90VmFsaWRhdGUpe3ZhciBpc0luc2VydD1cXFwiaW5zZXJ0XFxcIj09ZGVsdGEuYWN0aW9uOyhpc0luc2VydD8xPj1kZWx0YS5saW5lcy5sZW5ndGgmJiFkZWx0YS5saW5lc1swXTohUmFuZ2UuY29tcGFyZVBvaW50cyhkZWx0YS5zdGFydCxkZWx0YS5lbmQpKXx8KGlzSW5zZXJ0JiZkZWx0YS5saW5lcy5sZW5ndGg+MmU0JiZ0aGlzLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YShkZWx0YSwyZTQpLGFwcGx5RGVsdGEodGhpcy4kbGluZXMsZGVsdGEsZG9Ob3RWYWxpZGF0ZSksdGhpcy5fc2lnbmFsKFxcXCJjaGFuZ2VcXFwiLGRlbHRhKSl9LHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhPWZ1bmN0aW9uKGRlbHRhLE1BWCl7Zm9yKHZhciBsaW5lcz1kZWx0YS5saW5lcyxsPWxpbmVzLmxlbmd0aCxyb3c9ZGVsdGEuc3RhcnQucm93LGNvbHVtbj1kZWx0YS5zdGFydC5jb2x1bW4sZnJvbT0wLHRvPTA7Oyl7ZnJvbT10byx0bys9TUFYLTE7dmFyIGNodW5rPWxpbmVzLnNsaWNlKGZyb20sdG8pO2lmKHRvPmwpe2RlbHRhLmxpbmVzPWNodW5rLGRlbHRhLnN0YXJ0LnJvdz1yb3crZnJvbSxkZWx0YS5zdGFydC5jb2x1bW49Y29sdW1uO2JyZWFrfWNodW5rLnB1c2goXFxcIlxcXCIpLHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dGhpcy5wb3Mocm93K2Zyb20sY29sdW1uKSxlbmQ6dGhpcy5wb3Mocm93K3RvLGNvbHVtbj0wKSxhY3Rpb246ZGVsdGEuYWN0aW9uLGxpbmVzOmNodW5rfSwhMCl9fSx0aGlzLnJldmVydERlbHRhPWZ1bmN0aW9uKGRlbHRhKXt0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnRoaXMuY2xvbmVQb3MoZGVsdGEuc3RhcnQpLGVuZDp0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksYWN0aW9uOlxcXCJpbnNlcnRcXFwiPT1kZWx0YS5hY3Rpb24/XFxcInJlbW92ZVxcXCI6XFxcImluc2VydFxcXCIsbGluZXM6ZGVsdGEubGluZXMuc2xpY2UoKX0pfSx0aGlzLmluZGV4VG9Qb3NpdGlvbj1mdW5jdGlvbihpbmRleCxzdGFydFJvdyl7Zm9yKHZhciBsaW5lcz10aGlzLiRsaW5lc3x8dGhpcy5nZXRBbGxMaW5lcygpLG5ld2xpbmVMZW5ndGg9dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoLGk9c3RhcnRSb3d8fDAsbD1saW5lcy5sZW5ndGg7bD5pO2krKylpZihpbmRleC09bGluZXNbaV0ubGVuZ3RoK25ld2xpbmVMZW5ndGgsMD5pbmRleClyZXR1cm57cm93OmksY29sdW1uOmluZGV4K2xpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RofTtyZXR1cm57cm93OmwtMSxjb2x1bW46bGluZXNbbC0xXS5sZW5ndGh9fSx0aGlzLnBvc2l0aW9uVG9JbmRleD1mdW5jdGlvbihwb3Msc3RhcnRSb3cpe2Zvcih2YXIgbGluZXM9dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxuZXdsaW5lTGVuZ3RoPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpbmRleD0wLHJvdz1NYXRoLm1pbihwb3Mucm93LGxpbmVzLmxlbmd0aCksaT1zdGFydFJvd3x8MDtyb3c+aTsrK2kpaW5kZXgrPWxpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RoO3JldHVybiBpbmRleCtwb3MuY29sdW1ufX0pLmNhbGwoRG9jdW1lbnQucHJvdG90eXBlKSxleHBvcnRzLkRvY3VtZW50PURvY3VtZW50fSksYWNlLmRlZmluZShcXFwiYWNlL3dvcmtlci9taXJyb3JcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvcmFuZ2VcXFwiLFxcXCJhY2UvZG9jdW1lbnRcXFwiLFxcXCJhY2UvbGliL2xhbmdcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7YWNlcXVpcmUoXFxcIi4uL3JhbmdlXFxcIikuUmFuZ2U7dmFyIERvY3VtZW50PWFjZXF1aXJlKFxcXCIuLi9kb2N1bWVudFxcXCIpLkRvY3VtZW50LGxhbmc9YWNlcXVpcmUoXFxcIi4uL2xpYi9sYW5nXFxcIiksTWlycm9yPWV4cG9ydHMuTWlycm9yPWZ1bmN0aW9uKHNlbmRlcil7dGhpcy5zZW5kZXI9c2VuZGVyO3ZhciBkb2M9dGhpcy5kb2M9bmV3IERvY3VtZW50KFxcXCJcXFwiKSxkZWZlcnJlZFVwZGF0ZT10aGlzLmRlZmVycmVkVXBkYXRlPWxhbmcuZGVsYXllZENhbGwodGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpKSxfc2VsZj10aGlzO3NlbmRlci5vbihcXFwiY2hhbmdlXFxcIixmdW5jdGlvbihlKXt2YXIgZGF0YT1lLmRhdGE7aWYoZGF0YVswXS5zdGFydClkb2MuYXBwbHlEZWx0YXMoZGF0YSk7ZWxzZSBmb3IodmFyIGk9MDtkYXRhLmxlbmd0aD5pO2krPTIpe2lmKEFycmF5LmlzQXJyYXkoZGF0YVtpKzFdKSl2YXIgZD17YWN0aW9uOlxcXCJpbnNlcnRcXFwiLHN0YXJ0OmRhdGFbaV0sbGluZXM6ZGF0YVtpKzFdfTtlbHNlIHZhciBkPXthY3Rpb246XFxcInJlbW92ZVxcXCIsc3RhcnQ6ZGF0YVtpXSxlbmQ6ZGF0YVtpKzFdfTtkb2MuYXBwbHlEZWx0YShkLCEwKX1yZXR1cm4gX3NlbGYuJHRpbWVvdXQ/ZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoX3NlbGYuJHRpbWVvdXQpOihfc2VsZi5vblVwZGF0ZSgpLHZvaWQgMCl9KX07KGZ1bmN0aW9uKCl7dGhpcy4kdGltZW91dD01MDAsdGhpcy5zZXRUaW1lb3V0PWZ1bmN0aW9uKHRpbWVvdXQpe3RoaXMuJHRpbWVvdXQ9dGltZW91dH0sdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbih2YWx1ZSl7dGhpcy5kb2Muc2V0VmFsdWUodmFsdWUpLHRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUodGhpcy4kdGltZW91dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oY2FsbGJhY2tJZCl7dGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSxjYWxsYmFja0lkKX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe30sdGhpcy5pc1BlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZlcnJlZFVwZGF0ZS5pc1BlbmRpbmcoKX19KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcXFwiYWNlL21vZGUvaHRtbC9zYXhwYXJzZXJcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzLG1vZHVsZSl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGFjZXF1aXJlJiZhY2VxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IEVycm9yKFxcXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1xcXCIrbytcXFwiJ1xcXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9Zm9yKHZhciBpPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBhY2VxdWlyZSYmYWNlcXVpcmUsbz0wO3IubGVuZ3RoPm87bysrKXMocltvXSk7cmV0dXJuIHN9KHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBpc1Njb3BlTWFya2VyKG5vZGUpe3JldHVyblxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIj09PW5vZGUubmFtZXNwYWNlVVJJP1xcXCJhcHBsZXRcXFwiPT09bm9kZS5sb2NhbE5hbWV8fFxcXCJjYXB0aW9uXFxcIj09PW5vZGUubG9jYWxOYW1lfHxcXFwibWFycXVlZVxcXCI9PT1ub2RlLmxvY2FsTmFtZXx8XFxcIm9iamVjdFxcXCI9PT1ub2RlLmxvY2FsTmFtZXx8XFxcInRhYmxlXFxcIj09PW5vZGUubG9jYWxOYW1lfHxcXFwidGRcXFwiPT09bm9kZS5sb2NhbE5hbWV8fFxcXCJ0aFxcXCI9PT1ub2RlLmxvY2FsTmFtZTpcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFxcXCI9PT1ub2RlLm5hbWVzcGFjZVVSST9cXFwibWlcXFwiPT09bm9kZS5sb2NhbE5hbWV8fFxcXCJtb1xcXCI9PT1ub2RlLmxvY2FsTmFtZXx8XFxcIm1uXFxcIj09PW5vZGUubG9jYWxOYW1lfHxcXFwibXNcXFwiPT09bm9kZS5sb2NhbE5hbWV8fFxcXCJtdGV4dFxcXCI9PT1ub2RlLmxvY2FsTmFtZXx8XFxcImFubm90YXRpb24teG1sXFxcIj09PW5vZGUubG9jYWxOYW1lOlxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI9PT1ub2RlLm5hbWVzcGFjZVVSST9cXFwiZm9yZWlnbk9iamVjdFxcXCI9PT1ub2RlLmxvY2FsTmFtZXx8XFxcImRlc2NcXFwiPT09bm9kZS5sb2NhbE5hbWV8fFxcXCJ0aXRsZVxcXCI9PT1ub2RlLmxvY2FsTmFtZTp2b2lkIDB9ZnVuY3Rpb24gaXNMaXN0SXRlbVNjb3BlTWFya2VyKG5vZGUpe3JldHVybiBpc1Njb3BlTWFya2VyKG5vZGUpfHxcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCI9PT1ub2RlLm5hbWVzcGFjZVVSSSYmXFxcIm9sXFxcIj09PW5vZGUubG9jYWxOYW1lfHxcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCI9PT1ub2RlLm5hbWVzcGFjZVVSSSYmXFxcInVsXFxcIj09PW5vZGUubG9jYWxOYW1lfWZ1bmN0aW9uIGlzVGFibGVTY29wZU1hcmtlcihub2RlKXtyZXR1cm5cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCI9PT1ub2RlLm5hbWVzcGFjZVVSSSYmXFxcInRhYmxlXFxcIj09PW5vZGUubG9jYWxOYW1lfHxcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCI9PT1ub2RlLm5hbWVzcGFjZVVSSSYmXFxcImh0bWxcXFwiPT09bm9kZS5sb2NhbE5hbWV9ZnVuY3Rpb24gaXNUYWJsZUJvZHlTY29wZU1hcmtlcihub2RlKXtyZXR1cm5cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCI9PT1ub2RlLm5hbWVzcGFjZVVSSSYmXFxcInRib2R5XFxcIj09PW5vZGUubG9jYWxOYW1lfHxcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCI9PT1ub2RlLm5hbWVzcGFjZVVSSSYmXFxcInRmb290XFxcIj09PW5vZGUubG9jYWxOYW1lfHxcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCI9PT1ub2RlLm5hbWVzcGFjZVVSSSYmXFxcInRoZWFkXFxcIj09PW5vZGUubG9jYWxOYW1lfHxcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCI9PT1ub2RlLm5hbWVzcGFjZVVSSSYmXFxcImh0bWxcXFwiPT09bm9kZS5sb2NhbE5hbWV9ZnVuY3Rpb24gaXNUYWJsZVJvd1Njb3BlTWFya2VyKG5vZGUpe3JldHVyblxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIj09PW5vZGUubmFtZXNwYWNlVVJJJiZcXFwidHJcXFwiPT09bm9kZS5sb2NhbE5hbWV8fFxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIj09PW5vZGUubmFtZXNwYWNlVVJJJiZcXFwiaHRtbFxcXCI9PT1ub2RlLmxvY2FsTmFtZX1mdW5jdGlvbiBpc0J1dHRvblNjb3BlTWFya2VyKG5vZGUpe3JldHVybiBpc1Njb3BlTWFya2VyKG5vZGUpfHxcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCI9PT1ub2RlLm5hbWVzcGFjZVVSSSYmXFxcImJ1dHRvblxcXCI9PT1ub2RlLmxvY2FsTmFtZX1mdW5jdGlvbiBpc1NlbGVjdFNjb3BlTWFya2VyKG5vZGUpe3JldHVybiEoXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwiPT09bm9kZS5uYW1lc3BhY2VVUkkmJlxcXCJvcHRncm91cFxcXCI9PT1ub2RlLmxvY2FsTmFtZXx8XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwiPT09bm9kZS5uYW1lc3BhY2VVUkkmJlxcXCJvcHRpb25cXFwiPT09bm9kZS5sb2NhbE5hbWUpfWZ1bmN0aW9uIEVsZW1lbnRTdGFjaygpe3RoaXMuZWxlbWVudHM9W10sdGhpcy5yb290Tm9kZT1udWxsLHRoaXMuaGVhZEVsZW1lbnQ9bnVsbCx0aGlzLmJvZHlFbGVtZW50PW51bGx9RWxlbWVudFN0YWNrLnByb3RvdHlwZS5faW5TY29wZT1mdW5jdGlvbihsb2NhbE5hbWUsaXNNYXJrZXIpe2Zvcih2YXIgaT10aGlzLmVsZW1lbnRzLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbm9kZT10aGlzLmVsZW1lbnRzW2ldO2lmKG5vZGUubG9jYWxOYW1lPT09bG9jYWxOYW1lKXJldHVybiEwO2lmKGlzTWFya2VyKG5vZGUpKXJldHVybiExfX0sRWxlbWVudFN0YWNrLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGl0ZW0pe3RoaXMuZWxlbWVudHMucHVzaChpdGVtKX0sRWxlbWVudFN0YWNrLnByb3RvdHlwZS5wdXNoSHRtbEVsZW1lbnQ9ZnVuY3Rpb24oaXRlbSl7dGhpcy5yb290Tm9kZT1pdGVtLm5vZGUsdGhpcy5wdXNoKGl0ZW0pfSxFbGVtZW50U3RhY2sucHJvdG90eXBlLnB1c2hIZWFkRWxlbWVudD1mdW5jdGlvbihpdGVtKXt0aGlzLmhlYWRFbGVtZW50PWl0ZW0ubm9kZSx0aGlzLnB1c2goaXRlbSl9LEVsZW1lbnRTdGFjay5wcm90b3R5cGUucHVzaEJvZHlFbGVtZW50PWZ1bmN0aW9uKGl0ZW0pe3RoaXMuYm9keUVsZW1lbnQ9aXRlbS5ub2RlLHRoaXMucHVzaChpdGVtKX0sRWxlbWVudFN0YWNrLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50cy5wb3AoKX0sRWxlbWVudFN0YWNrLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oaXRlbSl7dGhpcy5lbGVtZW50cy5zcGxpY2UodGhpcy5lbGVtZW50cy5pbmRleE9mKGl0ZW0pLDEpfSxFbGVtZW50U3RhY2sucHJvdG90eXBlLnBvcFVudGlsUG9wcGVkPWZ1bmN0aW9uKGxvY2FsTmFtZSl7dmFyIGVsZW1lbnQ7ZG8gZWxlbWVudD10aGlzLnBvcCgpO3doaWxlKGVsZW1lbnQubG9jYWxOYW1lIT1sb2NhbE5hbWUpfSxFbGVtZW50U3RhY2sucHJvdG90eXBlLnBvcFVudGlsVGFibGVTY29wZU1hcmtlcj1mdW5jdGlvbigpe2Zvcig7IWlzVGFibGVTY29wZU1hcmtlcih0aGlzLnRvcCk7KXRoaXMucG9wKCl9LEVsZW1lbnRTdGFjay5wcm90b3R5cGUucG9wVW50aWxUYWJsZUJvZHlTY29wZU1hcmtlcj1mdW5jdGlvbigpe2Zvcig7IWlzVGFibGVCb2R5U2NvcGVNYXJrZXIodGhpcy50b3ApOyl0aGlzLnBvcCgpfSxFbGVtZW50U3RhY2sucHJvdG90eXBlLnBvcFVudGlsVGFibGVSb3dTY29wZU1hcmtlcj1mdW5jdGlvbigpe2Zvcig7IWlzVGFibGVSb3dTY29wZU1hcmtlcih0aGlzLnRvcCk7KXRoaXMucG9wKCl9LEVsZW1lbnRTdGFjay5wcm90b3R5cGUuaXRlbT1mdW5jdGlvbihpbmRleCl7cmV0dXJuIHRoaXMuZWxlbWVudHNbaW5kZXhdfSxFbGVtZW50U3RhY2sucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybi0xIT09dGhpcy5lbGVtZW50cy5pbmRleE9mKGVsZW1lbnQpfSxFbGVtZW50U3RhY2sucHJvdG90eXBlLmluU2NvcGU9ZnVuY3Rpb24obG9jYWxOYW1lKXtyZXR1cm4gdGhpcy5faW5TY29wZShsb2NhbE5hbWUsaXNTY29wZU1hcmtlcil9LEVsZW1lbnRTdGFjay5wcm90b3R5cGUuaW5MaXN0SXRlbVNjb3BlPWZ1bmN0aW9uKGxvY2FsTmFtZSl7cmV0dXJuIHRoaXMuX2luU2NvcGUobG9jYWxOYW1lLGlzTGlzdEl0ZW1TY29wZU1hcmtlcil9LEVsZW1lbnRTdGFjay5wcm90b3R5cGUuaW5UYWJsZVNjb3BlPWZ1bmN0aW9uKGxvY2FsTmFtZSl7cmV0dXJuIHRoaXMuX2luU2NvcGUobG9jYWxOYW1lLGlzVGFibGVTY29wZU1hcmtlcil9LEVsZW1lbnRTdGFjay5wcm90b3R5cGUuaW5CdXR0b25TY29wZT1mdW5jdGlvbihsb2NhbE5hbWUpe3JldHVybiB0aGlzLl9pblNjb3BlKGxvY2FsTmFtZSxpc0J1dHRvblNjb3BlTWFya2VyKX0sRWxlbWVudFN0YWNrLnByb3RvdHlwZS5pblNlbGVjdFNjb3BlPWZ1bmN0aW9uKGxvY2FsTmFtZSl7cmV0dXJuIHRoaXMuX2luU2NvcGUobG9jYWxOYW1lLGlzU2VsZWN0U2NvcGVNYXJrZXIpfSxFbGVtZW50U3RhY2sucHJvdG90eXBlLmhhc051bWJlcmVkSGVhZGVyRWxlbWVudEluU2NvcGU9ZnVuY3Rpb24oKXtmb3IodmFyIGk9dGhpcy5lbGVtZW50cy5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIG5vZGU9dGhpcy5lbGVtZW50c1tpXTtpZihub2RlLmlzTnVtYmVyZWRIZWFkZXIoKSlyZXR1cm4hMDtpZihpc1Njb3BlTWFya2VyKG5vZGUpKXJldHVybiExfX0sRWxlbWVudFN0YWNrLnByb3RvdHlwZS5mdXJ0aGVzdEJsb2NrRm9yRm9ybWF0dGluZ0VsZW1lbnQ9ZnVuY3Rpb24oZWxlbWVudCl7Zm9yKHZhciBmdXJ0aGVzdEJsb2NrPW51bGwsaT10aGlzLmVsZW1lbnRzLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbm9kZT10aGlzLmVsZW1lbnRzW2ldO1xcbmlmKG5vZGUubm9kZT09PWVsZW1lbnQpYnJlYWs7bm9kZS5pc1NwZWNpYWwoKSYmKGZ1cnRoZXN0QmxvY2s9bm9kZSl9cmV0dXJuIGZ1cnRoZXN0QmxvY2t9LEVsZW1lbnRTdGFjay5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGxvY2FsTmFtZSl7Zm9yKHZhciBpPXRoaXMuZWxlbWVudHMubGVuZ3RoLTE7aT49MDtpLS0paWYodGhpcy5lbGVtZW50c1tpXS5sb2NhbE5hbWU9PWxvY2FsTmFtZSlyZXR1cm4gaTtyZXR1cm4tMX0sRWxlbWVudFN0YWNrLnByb3RvdHlwZS5yZW1vdmVfb3BlbkVsZW1lbnRzX3VudGlsPWZ1bmN0aW9uKGNhbGxiYWNrKXtmb3IodmFyIGVsZW1lbnQsZmluaXNoZWQ9ITE7IWZpbmlzaGVkOyllbGVtZW50PXRoaXMuZWxlbWVudHMucG9wKCksZmluaXNoZWQ9Y2FsbGJhY2soZWxlbWVudCk7cmV0dXJuIGVsZW1lbnR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50U3RhY2sucHJvdG90eXBlLFxcXCJ0b3BcXFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50c1t0aGlzLmVsZW1lbnRzLmxlbmd0aC0xXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudFN0YWNrLnByb3RvdHlwZSxcXFwibGVuZ3RoXFxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudHMubGVuZ3RofX0pLGV4cG9ydHMuRWxlbWVudFN0YWNrPUVsZW1lbnRTdGFja30se31dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe2Z1bmN0aW9uIGlzQWxwaGFOdW1lcmljKGMpe3JldHVybiBjPj1cXFwiMFxcXCImJlxcXCI5XFxcIj49Y3x8Yz49XFxcImFcXFwiJiZcXFwielxcXCI+PWN8fGM+PVxcXCJBXFxcIiYmXFxcIlpcXFwiPj1jfWZ1bmN0aW9uIGlzSGV4RGlnaXQoYyl7cmV0dXJuIGM+PVxcXCIwXFxcIiYmXFxcIjlcXFwiPj1jfHxjPj1cXFwiYVxcXCImJlxcXCJmXFxcIj49Y3x8Yz49XFxcIkFcXFwiJiZcXFwiRlxcXCI+PWN9ZnVuY3Rpb24gaXNEZWNpbWFsRGlnaXQoYyl7cmV0dXJuIGM+PVxcXCIwXFxcIiYmXFxcIjlcXFwiPj1jfXZhciBlbnRpdGllcz1fZGVyZXFfKFxcXCJodG1sNS1lbnRpdGllc1xcXCIpLElucHV0U3RyZWFtPV9kZXJlcV8oXFxcIi4vSW5wdXRTdHJlYW1cXFwiKS5JbnB1dFN0cmVhbSxuYW1lZEVudGl0eVByZWZpeGVzPXt9O09iamVjdC5rZXlzKGVudGl0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uKGVudGl0eUtleSl7Zm9yKHZhciBpPTA7ZW50aXR5S2V5Lmxlbmd0aD5pO2krKyluYW1lZEVudGl0eVByZWZpeGVzW2VudGl0eUtleS5zdWJzdHJpbmcoMCxpKzEpXT0hMH0pO3ZhciBFbnRpdHlQYXJzZXI9e307RW50aXR5UGFyc2VyLmNvbnN1bWVFbnRpdHk9ZnVuY3Rpb24oYnVmZmVyLHRva2VuaXplcixhZGRpdGlvbmFsQWxsb3dlZENoYXJhY3Rlcil7dmFyIGRlY29kZWRDaGFyYWN0ZXI9XFxcIlxcXCIsY29uc3VtZWRDaGFyYWN0ZXJzPVxcXCJcXFwiLGNoPWJ1ZmZlci5jaGFyKCk7aWYoY2g9PT1JbnB1dFN0cmVhbS5FT0YpcmV0dXJuITE7aWYoY29uc3VtZWRDaGFyYWN0ZXJzKz1jaCxcXFwiXFx0XFxcIj09Y2h8fFxcXCJcXFxcblxcXCI9PWNofHxcXFwiXFx1MDAwYlxcXCI9PWNofHxcXFwiIFxcXCI9PWNofHxcXFwiPFxcXCI9PWNofHxcXFwiJlxcXCI9PWNoKXJldHVybiBidWZmZXIudW5nZXQoY29uc3VtZWRDaGFyYWN0ZXJzKSwhMTtpZihhZGRpdGlvbmFsQWxsb3dlZENoYXJhY3Rlcj09PWNoKXJldHVybiBidWZmZXIudW5nZXQoY29uc3VtZWRDaGFyYWN0ZXJzKSwhMTtpZihcXFwiI1xcXCI9PWNoKXtpZihjaD1idWZmZXIuc2hpZnQoMSksY2g9PT1JbnB1dFN0cmVhbS5FT0YpcmV0dXJuIHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtbnVtZXJpYy1lbnRpdHktYnV0LWdvdC1lb2ZcXFwiKSxidWZmZXIudW5nZXQoY29uc3VtZWRDaGFyYWN0ZXJzKSwhMTtjb25zdW1lZENoYXJhY3RlcnMrPWNoO3ZhciByYWRpeD0xMCxpc0RpZ2l0PWlzRGVjaW1hbERpZ2l0O2lmKFxcXCJ4XFxcIj09Y2h8fFxcXCJYXFxcIj09Y2gpe2lmKHJhZGl4PTE2LGlzRGlnaXQ9aXNIZXhEaWdpdCxjaD1idWZmZXIuc2hpZnQoMSksY2g9PT1JbnB1dFN0cmVhbS5FT0YpcmV0dXJuIHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtbnVtZXJpYy1lbnRpdHktYnV0LWdvdC1lb2ZcXFwiKSxidWZmZXIudW5nZXQoY29uc3VtZWRDaGFyYWN0ZXJzKSwhMTtjb25zdW1lZENoYXJhY3RlcnMrPWNofWlmKGlzRGlnaXQoY2gpKXtmb3IodmFyIGNvZGU9XFxcIlxcXCI7Y2ghPT1JbnB1dFN0cmVhbS5FT0YmJmlzRGlnaXQoY2gpOyljb2RlKz1jaCxjaD1idWZmZXIuY2hhcigpO2NvZGU9cGFyc2VJbnQoY29kZSxyYWRpeCk7dmFyIHJlcGxhY2VtZW50PXRoaXMucmVwbGFjZUVudGl0eU51bWJlcnMoY29kZSk7aWYocmVwbGFjZW1lbnQmJih0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImludmFsaWQtbnVtZXJpYy1lbnRpdHktcmVwbGFjZWRcXFwiKSxjb2RlPXJlcGxhY2VtZW50KSxjb2RlPjY1NTM1JiYxMTE0MTExPj1jb2RlKXtjb2RlLT02NTUzNjt2YXIgZmlyc3Q9KCgxMDQ3NTUyJmNvZGUpPj4xMCkrNTUyOTYsc2Vjb25kPSgxMDIzJmNvZGUpKzU2MzIwO2RlY29kZWRDaGFyYWN0ZXI9U3RyaW5nLmZyb21DaGFyQ29kZShmaXJzdCxzZWNvbmQpfWVsc2UgZGVjb2RlZENoYXJhY3Rlcj1TdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO3JldHVyblxcXCI7XFxcIiE9PWNoJiYodG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJudW1lcmljLWVudGl0eS13aXRob3V0LXNlbWljb2xvblxcXCIpLGJ1ZmZlci51bmdldChjaCkpLGRlY29kZWRDaGFyYWN0ZXJ9cmV0dXJuIGJ1ZmZlci51bmdldChjb25zdW1lZENoYXJhY3RlcnMpLHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtbnVtZXJpYy1lbnRpdHlcXFwiKSwhMX1pZihjaD49XFxcImFcXFwiJiZcXFwielxcXCI+PWNofHxjaD49XFxcIkFcXFwiJiZcXFwiWlxcXCI+PWNoKXtmb3IodmFyIG1vc3RSZWNlbnRNYXRjaD1cXFwiXFxcIjtuYW1lZEVudGl0eVByZWZpeGVzW2NvbnN1bWVkQ2hhcmFjdGVyc10mJihlbnRpdGllc1tjb25zdW1lZENoYXJhY3RlcnNdJiYobW9zdFJlY2VudE1hdGNoPWNvbnN1bWVkQ2hhcmFjdGVycyksXFxcIjtcXFwiIT1jaCkmJihjaD1idWZmZXIuY2hhcigpLGNoIT09SW5wdXRTdHJlYW0uRU9GKTspY29uc3VtZWRDaGFyYWN0ZXJzKz1jaDtyZXR1cm4gbW9zdFJlY2VudE1hdGNoPyhkZWNvZGVkQ2hhcmFjdGVyPWVudGl0aWVzW21vc3RSZWNlbnRNYXRjaF0sXFxcIjtcXFwiPT09Y2h8fCFhZGRpdGlvbmFsQWxsb3dlZENoYXJhY3Rlcnx8IWlzQWxwaGFOdW1lcmljKGNoKSYmXFxcIj1cXFwiIT09Y2g/KGNvbnN1bWVkQ2hhcmFjdGVycy5sZW5ndGg+bW9zdFJlY2VudE1hdGNoLmxlbmd0aCYmYnVmZmVyLnVuZ2V0KGNvbnN1bWVkQ2hhcmFjdGVycy5zdWJzdHJpbmcobW9zdFJlY2VudE1hdGNoLmxlbmd0aCkpLFxcXCI7XFxcIiE9PWNoJiZ0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcIm5hbWVkLWVudGl0eS13aXRob3V0LXNlbWljb2xvblxcXCIpLGRlY29kZWRDaGFyYWN0ZXIpOihidWZmZXIudW5nZXQoY29uc3VtZWRDaGFyYWN0ZXJzKSwhMSkpOih0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImV4cGVjdGVkLW5hbWVkLWVudGl0eVxcXCIpLGJ1ZmZlci51bmdldChjb25zdW1lZENoYXJhY3RlcnMpLCExKX19LEVudGl0eVBhcnNlci5yZXBsYWNlRW50aXR5TnVtYmVycz1mdW5jdGlvbihjKXtzd2l0Y2goYyl7Y2FzZSAwOnJldHVybiA2NTUzMztjYXNlIDE5OnJldHVybiAxNjtjYXNlIDEyODpyZXR1cm4gODM2NDtjYXNlIDEyOTpyZXR1cm4gMTI5O2Nhc2UgMTMwOnJldHVybiA4MjE4O2Nhc2UgMTMxOnJldHVybiA0MDI7Y2FzZSAxMzI6cmV0dXJuIDgyMjI7Y2FzZSAxMzM6cmV0dXJuIDgyMzA7Y2FzZSAxMzQ6cmV0dXJuIDgyMjQ7Y2FzZSAxMzU6cmV0dXJuIDgyMjU7Y2FzZSAxMzY6cmV0dXJuIDcxMDtjYXNlIDEzNzpyZXR1cm4gODI0MDtjYXNlIDEzODpyZXR1cm4gMzUyO2Nhc2UgMTM5OnJldHVybiA4MjQ5O2Nhc2UgMTQwOnJldHVybiAzMzg7Y2FzZSAxNDE6cmV0dXJuIDE0MTtjYXNlIDE0MjpyZXR1cm4gMzgxO2Nhc2UgMTQzOnJldHVybiAxNDM7Y2FzZSAxNDQ6cmV0dXJuIDE0NDtjYXNlIDE0NTpyZXR1cm4gODIxNjtjYXNlIDE0NjpyZXR1cm4gODIxNztjYXNlIDE0NzpyZXR1cm4gODIyMDtjYXNlIDE0ODpyZXR1cm4gODIyMTtjYXNlIDE0OTpyZXR1cm4gODIyNjtjYXNlIDE1MDpyZXR1cm4gODIxMTtjYXNlIDE1MTpyZXR1cm4gODIxMjtjYXNlIDE1MjpyZXR1cm4gNzMyO2Nhc2UgMTUzOnJldHVybiA4NDgyO2Nhc2UgMTU0OnJldHVybiAzNTM7Y2FzZSAxNTU6cmV0dXJuIDgyNTA7Y2FzZSAxNTY6cmV0dXJuIDMzOTtjYXNlIDE1NzpyZXR1cm4gMTU3O2Nhc2UgMTU4OnJldHVybiAzODI7Y2FzZSAxNTk6cmV0dXJuIDM3NjtkZWZhdWx0OmlmKGM+PTU1Mjk2JiY1NzM0Mz49Y3x8Yz4xMTE0MTExKXJldHVybiA2NTUzMztpZihjPj0xJiY4Pj1jfHxjPj0xNCYmMzE+PWN8fGM+PTEyNyYmMTU5Pj1jfHxjPj02NDk3NiYmNjUwMDc+PWN8fDExPT1jfHw2NTUzND09Y3x8MTMxMDcwPT1jfHwzMTQ1NzI2PT1jfHwxOTY2MDc9PWN8fDI2MjE0Mj09Y3x8MjYyMTQzPT1jfHwzMjc2Nzg9PWN8fDMyNzY3OT09Y3x8MzkzMjE0PT1jfHwzOTMyMTU9PWN8fDQ1ODc1MD09Y3x8NDU4NzUxPT1jfHw1MjQyODY9PWN8fDUyNDI4Nz09Y3x8NTg5ODIyPT1jfHw1ODk4MjM9PWN8fDY1NTM1OD09Y3x8NjU1MzU5PT1jfHw3MjA4OTQ9PWN8fDcyMDg5NT09Y3x8Nzg2NDMwPT1jfHw3ODY0MzE9PWN8fDg1MTk2Nj09Y3x8ODUxOTY3PT1jfHw5MTc1MDI9PWN8fDkxNzUwMz09Y3x8OTgzMDM4PT1jfHw5ODMwMzk9PWN8fDEwNDg1NzQ9PWN8fDEwNDg1NzU9PWN8fDExMTQxMTA9PWN8fDExMTQxMTE9PWMpcmV0dXJuIGN9fSxleHBvcnRzLkVudGl0eVBhcnNlcj1FbnRpdHlQYXJzZXJ9LHtcXFwiLi9JbnB1dFN0cmVhbVxcXCI6MyxcXFwiaHRtbDUtZW50aXRpZXNcXFwiOjEyfV0sMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7ZnVuY3Rpb24gSW5wdXRTdHJlYW0oKXt0aGlzLmRhdGE9XFxcIlxcXCIsdGhpcy5zdGFydD0wLHRoaXMuY29tbWl0dGVkPTAsdGhpcy5lb2Y9ITEsdGhpcy5sYXN0TG9jYXRpb249e2xpbmU6MCxjb2x1bW46MH19SW5wdXRTdHJlYW0uRU9GPS0xLElucHV0U3RyZWFtLkRSQUlOPS0yLElucHV0U3RyZWFtLnByb3RvdHlwZT17c2xpY2U6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXJ0Pj10aGlzLmRhdGEubGVuZ3RoKXtpZighdGhpcy5lb2YpdGhyb3cgSW5wdXRTdHJlYW0uRFJBSU47cmV0dXJuIElucHV0U3RyZWFtLkVPRn1yZXR1cm4gdGhpcy5kYXRhLnNsaWNlKHRoaXMuc3RhcnQsdGhpcy5kYXRhLmxlbmd0aCl9LFxcXCJjaGFyXFxcIjpmdW5jdGlvbigpe2lmKCF0aGlzLmVvZiYmdGhpcy5zdGFydD49dGhpcy5kYXRhLmxlbmd0aC0xKXRocm93IElucHV0U3RyZWFtLkRSQUlOO2lmKHRoaXMuc3RhcnQ+PXRoaXMuZGF0YS5sZW5ndGgpcmV0dXJuIElucHV0U3RyZWFtLkVPRjt2YXIgY2g9dGhpcy5kYXRhW3RoaXMuc3RhcnQrK107cmV0dXJuXFxcIlxcXFxyXFxcIj09PWNoJiYoY2g9XFxcIlxcXFxuXFxcIiksY2h9LGFkdmFuY2U6ZnVuY3Rpb24oYW1vdW50KXtpZih0aGlzLnN0YXJ0Kz1hbW91bnQsdGhpcy5zdGFydD49dGhpcy5kYXRhLmxlbmd0aCl7aWYoIXRoaXMuZW9mKXRocm93IElucHV0U3RyZWFtLkRSQUlOO3JldHVybiBJbnB1dFN0cmVhbS5FT0Z9dGhpcy5jb21taXR0ZWQ+dGhpcy5kYXRhLmxlbmd0aC8yJiYodGhpcy5sYXN0TG9jYXRpb249dGhpcy5sb2NhdGlvbigpLHRoaXMuZGF0YT10aGlzLmRhdGEuc2xpY2UodGhpcy5jb21taXR0ZWQpLHRoaXMuc3RhcnQ9dGhpcy5zdGFydC10aGlzLmNvbW1pdHRlZCx0aGlzLmNvbW1pdHRlZD0wKX0sbWF0Y2hXaGlsZTpmdW5jdGlvbihyZSl7aWYodGhpcy5lb2YmJnRoaXMuc3RhcnQ+PXRoaXMuZGF0YS5sZW5ndGgpcmV0dXJuXFxcIlxcXCI7dmFyIHI9UmVnRXhwKFxcXCJeXFxcIityZStcXFwiK1xcXCIpLG09ci5leGVjKHRoaXMuc2xpY2UoKSk7aWYobSl7aWYoIXRoaXMuZW9mJiZtWzBdLmxlbmd0aD09dGhpcy5kYXRhLmxlbmd0aC10aGlzLnN0YXJ0KXRocm93IElucHV0U3RyZWFtLkRSQUlOO3JldHVybiB0aGlzLmFkdmFuY2UobVswXS5sZW5ndGgpLG1bMF19cmV0dXJuXFxcIlxcXCJ9LG1hdGNoVW50aWw6ZnVuY3Rpb24ocmUpe3ZhciBtLHM7aWYocz10aGlzLnNsaWNlKCkscz09PUlucHV0U3RyZWFtLkVPRilyZXR1cm5cXFwiXFxcIjtpZihtPVJlZ0V4cChyZSsodGhpcy5lb2Y/XFxcInwkXFxcIjpcXFwiXFxcIikpLmV4ZWMocykpe3ZhciB0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnN0YXJ0LHRoaXMuc3RhcnQrbS5pbmRleCk7cmV0dXJuIHRoaXMuYWR2YW5jZShtLmluZGV4KSx0LnJlcGxhY2UoL1xcXFxyL2csXFxcIlxcXFxuXFxcIikucmVwbGFjZSgvXFxcXG57Mix9L2csXFxcIlxcXFxuXFxcIil9dGhyb3cgSW5wdXRTdHJlYW0uRFJBSU59LGFwcGVuZDpmdW5jdGlvbihkYXRhKXt0aGlzLmRhdGErPWRhdGF9LHNoaWZ0OmZ1bmN0aW9uKG4pe2lmKCF0aGlzLmVvZiYmdGhpcy5zdGFydCtuPj10aGlzLmRhdGEubGVuZ3RoKXRocm93IElucHV0U3RyZWFtLkRSQUlOO2lmKHRoaXMuZW9mJiZ0aGlzLnN0YXJ0Pj10aGlzLmRhdGEubGVuZ3RoKXJldHVybiBJbnB1dFN0cmVhbS5FT0Y7dmFyIGQ9XFxcIlxcXCIrdGhpcy5kYXRhLnNsaWNlKHRoaXMuc3RhcnQsdGhpcy5zdGFydCtuKTtyZXR1cm4gdGhpcy5hZHZhbmNlKE1hdGgubWluKG4sdGhpcy5kYXRhLmxlbmd0aC10aGlzLnN0YXJ0KSksZH0scGVlazpmdW5jdGlvbihuKXtpZighdGhpcy5lb2YmJnRoaXMuc3RhcnQrbj49dGhpcy5kYXRhLmxlbmd0aCl0aHJvdyBJbnB1dFN0cmVhbS5EUkFJTjtyZXR1cm4gdGhpcy5lb2YmJnRoaXMuc3RhcnQ+PXRoaXMuZGF0YS5sZW5ndGg/SW5wdXRTdHJlYW0uRU9GOlxcXCJcXFwiK3RoaXMuZGF0YS5zbGljZSh0aGlzLnN0YXJ0LE1hdGgubWluKHRoaXMuc3RhcnQrbix0aGlzLmRhdGEubGVuZ3RoKSl9LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RoLXRoaXMuc3RhcnQtMX0sdW5nZXQ6ZnVuY3Rpb24oZCl7ZCE9PUlucHV0U3RyZWFtLkVPRiYmKHRoaXMuc3RhcnQtPWQubGVuZ3RoKX0sdW5kbzpmdW5jdGlvbigpe3RoaXMuc3RhcnQ9dGhpcy5jb21taXR0ZWR9LGNvbW1pdDpmdW5jdGlvbigpe3RoaXMuY29tbWl0dGVkPXRoaXMuc3RhcnR9LGxvY2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGxhc3RMaW5lPXRoaXMubGFzdExvY2F0aW9uLmxpbmUsbGFzdENvbHVtbj10aGlzLmxhc3RMb2NhdGlvbi5jb2x1bW4scmVhZD10aGlzLmRhdGEuc2xpY2UoMCx0aGlzLmNvbW1pdHRlZCksbmV3bGluZXM9cmVhZC5tYXRjaCgvXFxcXG4vZyksbGluZT1uZXdsaW5lcz9sYXN0TGluZStuZXdsaW5lcy5sZW5ndGg6bGFzdExpbmUsY29sdW1uPW5ld2xpbmVzP3JlYWQubGVuZ3RoLXJlYWQubGFzdEluZGV4T2YoXFxcIlxcXFxuXFxcIiktMTpsYXN0Q29sdW1uK3JlYWQubGVuZ3RoO3JldHVybntsaW5lOmxpbmUsY29sdW1uOmNvbHVtbn19fSxleHBvcnRzLklucHV0U3RyZWFtPUlucHV0U3RyZWFtfSx7fV0sNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7ZnVuY3Rpb24gU3RhY2tJdGVtKG5hbWVzcGFjZVVSSSxsb2NhbE5hbWUsYXR0cmlidXRlcyxub2RlKXt0aGlzLmxvY2FsTmFtZT1sb2NhbE5hbWUsdGhpcy5uYW1lc3BhY2VVUkk9bmFtZXNwYWNlVVJJLHRoaXMuYXR0cmlidXRlcz1hdHRyaWJ1dGVzLHRoaXMubm9kZT1ub2RlfWZ1bmN0aW9uIGdldEF0dHJpYnV0ZShpdGVtLG5hbWUpe2Zvcih2YXIgaT0wO2l0ZW0uYXR0cmlidXRlcy5sZW5ndGg+aTtpKyspaWYoaXRlbS5hdHRyaWJ1dGVzW2ldLm5vZGVOYW1lPT1uYW1lKXJldHVybiBpdGVtLmF0dHJpYnV0ZXNbaV0ubm9kZVZhbHVlO3JldHVybiBudWxsfXZhciBTcGVjaWFsRWxlbWVudHM9e1xcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIjpbXFxcImFkZHJlc3NcXFwiLFxcXCJhcHBsZXRcXFwiLFxcXCJhcmVhXFxcIixcXFwiYXJ0aWNsZVxcXCIsXFxcImFzaWRlXFxcIixcXFwiYmFzZVxcXCIsXFxcImJhc2Vmb250XFxcIixcXFwiYmdzb3VuZFxcXCIsXFxcImJsb2NrcXVvdGVcXFwiLFxcXCJib2R5XFxcIixcXFwiYnJcXFwiLFxcXCJidXR0b25cXFwiLFxcXCJjYXB0aW9uXFxcIixcXFwiY2VudGVyXFxcIixcXFwiY29sXFxcIixcXFwiY29sZ3JvdXBcXFwiLFxcXCJkZFxcXCIsXFxcImRldGFpbHNcXFwiLFxcXCJkaXJcXFwiLFxcXCJkaXZcXFwiLFxcXCJkbFxcXCIsXFxcImR0XFxcIixcXFwiZW1iZWRcXFwiLFxcXCJmaWVsZHNldFxcXCIsXFxcImZpZ2NhcHRpb25cXFwiLFxcXCJmaWd1cmVcXFwiLFxcXCJmb290ZXJcXFwiLFxcXCJmb3JtXFxcIixcXFwiZnJhbWVcXFwiLFxcXCJmcmFtZXNldFxcXCIsXFxcImgxXFxcIixcXFwiaDJcXFwiLFxcXCJoM1xcXCIsXFxcImg0XFxcIixcXFwiaDVcXFwiLFxcXCJoNlxcXCIsXFxcImhlYWRcXFwiLFxcXCJoZWFkZXJcXFwiLFxcXCJoZ3JvdXBcXFwiLFxcXCJoclxcXCIsXFxcImh0bWxcXFwiLFxcXCJpZnJhbWVcXFwiLFxcXCJpbWdcXFwiLFxcXCJpbnB1dFxcXCIsXFxcImlzaW5kZXhcXFwiLFxcXCJsaVxcXCIsXFxcImxpbmtcXFwiLFxcXCJsaXN0aW5nXFxcIixcXFwibWFpblxcXCIsXFxcIm1hcnF1ZWVcXFwiLFxcXCJtZW51XFxcIixcXFwibWVudWl0ZW1cXFwiLFxcXCJtZXRhXFxcIixcXFwibmF2XFxcIixcXFwibm9lbWJlZFxcXCIsXFxcIm5vZnJhbWVzXFxcIixcXFwibm9zY3JpcHRcXFwiLFxcXCJvYmplY3RcXFwiLFxcXCJvbFxcXCIsXFxcInBcXFwiLFxcXCJwYXJhbVxcXCIsXFxcInBsYWludGV4dFxcXCIsXFxcInByZVxcXCIsXFxcInNjcmlwdFxcXCIsXFxcInNlY3Rpb25cXFwiLFxcXCJzZWxlY3RcXFwiLFxcXCJzb3VyY2VcXFwiLFxcXCJzdHlsZVxcXCIsXFxcInN1bW1hcnlcXFwiLFxcXCJ0YWJsZVxcXCIsXFxcInRib2R5XFxcIixcXFwidGRcXFwiLFxcXCJ0ZXh0YXJlYVxcXCIsXFxcInRmb290XFxcIixcXFwidGhcXFwiLFxcXCJ0aGVhZFxcXCIsXFxcInRpdGxlXFxcIixcXFwidHJcXFwiLFxcXCJ0cmFja1xcXCIsXFxcInVsXFxcIixcXFwid2JyXFxcIixcXFwieG1wXFxcIl0sXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcXFwiOltcXFwibWlcXFwiLFxcXCJtb1xcXCIsXFxcIm1uXFxcIixcXFwibXNcXFwiLFxcXCJtdGV4dFxcXCIsXFxcImFubm90YXRpb24teG1sXFxcIl0sXFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIjpbXFxcImZvcmVpZ25PYmplY3RcXFwiLFxcXCJkZXNjXFxcIixcXFwidGl0bGVcXFwiXX07U3RhY2tJdGVtLnByb3RvdHlwZS5pc1NwZWNpYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lc3BhY2VVUkkgaW4gU3BlY2lhbEVsZW1lbnRzJiZTcGVjaWFsRWxlbWVudHNbdGhpcy5uYW1lc3BhY2VVUkldLmluZGV4T2YodGhpcy5sb2NhbE5hbWUpPi0xfSxTdGFja0l0ZW0ucHJvdG90eXBlLmlzRm9zdGVyUGFyZW50aW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwiPT09dGhpcy5uYW1lc3BhY2VVUkk/XFxcInRhYmxlXFxcIj09PXRoaXMubG9jYWxOYW1lfHxcXFwidGJvZHlcXFwiPT09dGhpcy5sb2NhbE5hbWV8fFxcXCJ0Zm9vdFxcXCI9PT10aGlzLmxvY2FsTmFtZXx8XFxcInRoZWFkXFxcIj09PXRoaXMubG9jYWxOYW1lfHxcXFwidHJcXFwiPT09dGhpcy5sb2NhbE5hbWU6ITF9LFN0YWNrSXRlbS5wcm90b3R5cGUuaXNOdW1iZXJlZEhlYWRlcj1mdW5jdGlvbigpe3JldHVyblxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIj09PXRoaXMubmFtZXNwYWNlVVJJP1xcXCJoMVxcXCI9PT10aGlzLmxvY2FsTmFtZXx8XFxcImgyXFxcIj09PXRoaXMubG9jYWxOYW1lfHxcXFwiaDNcXFwiPT09dGhpcy5sb2NhbE5hbWV8fFxcXCJoNFxcXCI9PT10aGlzLmxvY2FsTmFtZXx8XFxcImg1XFxcIj09PXRoaXMubG9jYWxOYW1lfHxcXFwiaDZcXFwiPT09dGhpcy5sb2NhbE5hbWU6ITF9LFN0YWNrSXRlbS5wcm90b3R5cGUuaXNGb3JlaWduPWZ1bmN0aW9uKCl7cmV0dXJuXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwiIT10aGlzLm5hbWVzcGFjZVVSSX0sU3RhY2tJdGVtLnByb3RvdHlwZS5pc0h0bWxJbnRlZ3JhdGlvblBvaW50PWZ1bmN0aW9uKCl7aWYoXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcXFwiPT09dGhpcy5uYW1lc3BhY2VVUkkpe2lmKFxcXCJhbm5vdGF0aW9uLXhtbFxcXCIhPT10aGlzLmxvY2FsTmFtZSlyZXR1cm4hMTt2YXIgZW5jb2Rpbmc9Z2V0QXR0cmlidXRlKHRoaXMsXFxcImVuY29kaW5nXFxcIik7cmV0dXJuIGVuY29kaW5nPyhlbmNvZGluZz1lbmNvZGluZy50b0xvd2VyQ2FzZSgpLFxcXCJ0ZXh0L2h0bWxcXFwiPT09ZW5jb2Rpbmd8fFxcXCJhcHBsaWNhdGlvbi94aHRtbCt4bWxcXFwiPT09ZW5jb2RpbmcpOiExfXJldHVyblxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI9PT10aGlzLm5hbWVzcGFjZVVSST9cXFwiZm9yZWlnbk9iamVjdFxcXCI9PT10aGlzLmxvY2FsTmFtZXx8XFxcImRlc2NcXFwiPT09dGhpcy5sb2NhbE5hbWV8fFxcXCJ0aXRsZVxcXCI9PT10aGlzLmxvY2FsTmFtZTohMX0sU3RhY2tJdGVtLnByb3RvdHlwZS5pc01hdGhNTFRleHRJbnRlZ3JhdGlvblBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcXFwiPT09dGhpcy5uYW1lc3BhY2VVUkk/XFxcIm1pXFxcIj09PXRoaXMubG9jYWxOYW1lfHxcXFwibW9cXFwiPT09dGhpcy5sb2NhbE5hbWV8fFxcXCJtblxcXCI9PT10aGlzLmxvY2FsTmFtZXx8XFxcIm1zXFxcIj09PXRoaXMubG9jYWxOYW1lfHxcXFwibXRleHRcXFwiPT09dGhpcy5sb2NhbE5hbWU6ITF9LGV4cG9ydHMuU3RhY2tJdGVtPVN0YWNrSXRlbX0se31dLDU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe2Z1bmN0aW9uIGlzV2hpdGVzcGFjZShjKXtyZXR1cm5cXFwiIFxcXCI9PT1jfHxcXFwiXFxcXG5cXFwiPT09Y3x8XFxcIlxcdFxcXCI9PT1jfHxcXFwiXFxcXHJcXFwiPT09Y3x8XFxcIlxcXFxmXFxcIj09PWN9ZnVuY3Rpb24gaXNBbHBoYShjKXtyZXR1cm4gYz49XFxcIkFcXFwiJiZcXFwiWlxcXCI+PWN8fGM+PVxcXCJhXFxcIiYmXFxcInpcXFwiPj1jfWZ1bmN0aW9uIFRva2VuaXplcih0b2tlbkhhbmRsZXIpe3RoaXMuX3Rva2VuSGFuZGxlcj10b2tlbkhhbmRsZXIsdGhpcy5fc3RhdGU9VG9rZW5pemVyLkRBVEEsdGhpcy5faW5wdXRTdHJlYW09bmV3IElucHV0U3RyZWFtLHRoaXMuX2N1cnJlbnRUb2tlbj1udWxsLHRoaXMuX3RlbXBvcmFyeUJ1ZmZlcj1cXFwiXFxcIix0aGlzLl9hZGRpdGlvbmFsQWxsb3dlZENoYXJhY3Rlcj1cXFwiXFxcIn12YXIgSW5wdXRTdHJlYW09X2RlcmVxXyhcXFwiLi9JbnB1dFN0cmVhbVxcXCIpLklucHV0U3RyZWFtLEVudGl0eVBhcnNlcj1fZGVyZXFfKFxcXCIuL0VudGl0eVBhcnNlclxcXCIpLkVudGl0eVBhcnNlcjtUb2tlbml6ZXIucHJvdG90eXBlLl9wYXJzZUVycm9yPWZ1bmN0aW9uKGNvZGUsYXJncyl7dGhpcy5fdG9rZW5IYW5kbGVyLnBhcnNlRXJyb3IoY29kZSxhcmdzKX0sVG9rZW5pemVyLnByb3RvdHlwZS5fZW1pdFRva2VuPWZ1bmN0aW9uKHRva2VuKXtpZihcXFwiU3RhcnRUYWdcXFwiPT09dG9rZW4udHlwZSlmb3IodmFyIGk9MTt0b2tlbi5kYXRhLmxlbmd0aD5pO2krKyl0b2tlbi5kYXRhW2ldLm5vZGVOYW1lfHx0b2tlbi5kYXRhLnNwbGljZShpLS0sMSk7ZWxzZVxcXCJFbmRUYWdcXFwiPT09dG9rZW4udHlwZSYmKHRva2VuLnNlbGZDbG9zaW5nJiZ0aGlzLl9wYXJzZUVycm9yKFxcXCJzZWxmLWNsb3NpbmctZmxhZy1vbi1lbmQtdGFnXFxcIiksMCE9PXRva2VuLmRhdGEubGVuZ3RoJiZ0aGlzLl9wYXJzZUVycm9yKFxcXCJhdHRyaWJ1dGVzLWluLWVuZC10YWdcXFwiKSk7dGhpcy5fdG9rZW5IYW5kbGVyLnByb2Nlc3NUb2tlbih0b2tlbiksXFxcIlN0YXJ0VGFnXFxcIj09PXRva2VuLnR5cGUmJnRva2VuLnNlbGZDbG9zaW5nJiYhdGhpcy5fdG9rZW5IYW5kbGVyLmlzU2VsZkNsb3NpbmdGbGFnQWNrbm93bGVkZ2VkKCkmJnRoaXMuX3BhcnNlRXJyb3IoXFxcIm5vbi12b2lkLWVsZW1lbnQtd2l0aC10cmFpbGluZy1zb2xpZHVzXFxcIix7bmFtZTp0b2tlbi5uYW1lfSl9LFRva2VuaXplci5wcm90b3R5cGUuX2VtaXRDdXJyZW50VG9rZW49ZnVuY3Rpb24oKXt0aGlzLl9zdGF0ZT1Ub2tlbml6ZXIuREFUQSx0aGlzLl9lbWl0VG9rZW4odGhpcy5fY3VycmVudFRva2VuKX0sVG9rZW5pemVyLnByb3RvdHlwZS5fY3VycmVudEF0dHJpYnV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50VG9rZW4uZGF0YVt0aGlzLl9jdXJyZW50VG9rZW4uZGF0YS5sZW5ndGgtMV19LFRva2VuaXplci5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oc3RhdGUpe3RoaXMuX3N0YXRlPXN0YXRlfSxUb2tlbml6ZXIucHJvdG90eXBlLnRva2VuaXplPWZ1bmN0aW9uKHNvdXJjZSl7ZnVuY3Rpb24gZGF0YV9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7aWYoZGF0YT09PUlucHV0U3RyZWFtLkVPRilyZXR1cm4gdG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkVPRlxcXCIsZGF0YTpudWxsfSksITE7aWYoXFxcIiZcXFwiPT09ZGF0YSl0b2tlbml6ZXIuc2V0U3RhdGUoY2hhcmFjdGVyX3JlZmVyZW5jZV9pbl9kYXRhX3N0YXRlKTtlbHNlIGlmKFxcXCI8XFxcIj09PWRhdGEpdG9rZW5pemVyLnNldFN0YXRlKHRhZ19vcGVuX3N0YXRlKTtlbHNlIGlmKFxcXCJcXFxcMFxcXCI9PT1kYXRhKXRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOmRhdGF9KSxidWZmZXIuY29tbWl0KCk7ZWxzZXt2YXIgY2hhcnM9YnVmZmVyLm1hdGNoVW50aWwoXFxcIiZ8PHxcXFxcMFxcXCIpO3Rva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOmRhdGErY2hhcnN9KSxidWZmZXIuY29tbWl0KCl9cmV0dXJuITB9ZnVuY3Rpb24gY2hhcmFjdGVyX3JlZmVyZW5jZV9pbl9kYXRhX3N0YXRlKGJ1ZmZlcil7dmFyIGNoYXJhY3Rlcj1FbnRpdHlQYXJzZXIuY29uc3VtZUVudGl0eShidWZmZXIsdG9rZW5pemVyKTtyZXR1cm4gdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpLHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOmNoYXJhY3Rlcnx8XFxcIiZcXFwifSksITB9ZnVuY3Rpb24gcmNkYXRhX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtpZihkYXRhPT09SW5wdXRTdHJlYW0uRU9GKXJldHVybiB0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiRU9GXFxcIixkYXRhOm51bGx9KSwhMTtpZihcXFwiJlxcXCI9PT1kYXRhKXRva2VuaXplci5zZXRTdGF0ZShjaGFyYWN0ZXJfcmVmZXJlbmNlX2luX3JjZGF0YV9zdGF0ZSk7ZWxzZSBpZihcXFwiPFxcXCI9PT1kYXRhKXRva2VuaXplci5zZXRTdGF0ZShyY2RhdGFfbGVzc190aGFuX3NpZ25fc3RhdGUpO2Vsc2UgaWYoXFxcIlxcXFwwXFxcIj09PWRhdGEpdG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJpbnZhbGlkLWNvZGVwb2ludFxcXCIpLHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOlxcXCLvv71cXFwifSksYnVmZmVyLmNvbW1pdCgpO2Vsc2V7dmFyIGNoYXJzPWJ1ZmZlci5tYXRjaFVudGlsKFxcXCImfDx8XFxcXDBcXFwiKTt0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpkYXRhK2NoYXJzfSksYnVmZmVyLmNvbW1pdCgpfXJldHVybiEwfWZ1bmN0aW9uIGNoYXJhY3Rlcl9yZWZlcmVuY2VfaW5fcmNkYXRhX3N0YXRlKGJ1ZmZlcil7dmFyIGNoYXJhY3Rlcj1FbnRpdHlQYXJzZXIuY29uc3VtZUVudGl0eShidWZmZXIsdG9rZW5pemVyKTtyZXR1cm4gdG9rZW5pemVyLnNldFN0YXRlKHJjZGF0YV9zdGF0ZSksdG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6Y2hhcmFjdGVyfHxcXFwiJlxcXCJ9KSwhMH1mdW5jdGlvbiByYXd0ZXh0X3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtpZihkYXRhPT09SW5wdXRTdHJlYW0uRU9GKXJldHVybiB0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiRU9GXFxcIixkYXRhOm51bGx9KSwhMTtpZihcXFwiPFxcXCI9PT1kYXRhKXRva2VuaXplci5zZXRTdGF0ZShyYXd0ZXh0X2xlc3NfdGhhbl9zaWduX3N0YXRlKTtlbHNlIGlmKFxcXCJcXFxcMFxcXCI9PT1kYXRhKXRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwi77+9XFxcIn0pLGJ1ZmZlci5jb21taXQoKTtlbHNle3ZhciBjaGFycz1idWZmZXIubWF0Y2hVbnRpbChcXFwiPHxcXFxcMFxcXCIpO3Rva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOmRhdGErY2hhcnN9KX1yZXR1cm4hMH1mdW5jdGlvbiBwbGFpbnRleHRfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO2lmKGRhdGE9PT1JbnB1dFN0cmVhbS5FT0YpcmV0dXJuIHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJFT0ZcXFwiLGRhdGE6bnVsbH0pLCExO2lmKFxcXCJcXFxcMFxcXCI9PT1kYXRhKXRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwi77+9XFxcIn0pLGJ1ZmZlci5jb21taXQoKTtlbHNle3ZhciBjaGFycz1idWZmZXIubWF0Y2hVbnRpbChcXFwiXFxcXDBcXFwiKTt0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpkYXRhK2NoYXJzfSl9cmV0dXJuITB9ZnVuY3Rpb24gc2NyaXB0X2RhdGFfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO2lmKGRhdGE9PT1JbnB1dFN0cmVhbS5FT0YpcmV0dXJuIHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJFT0ZcXFwiLGRhdGE6bnVsbH0pLCExO2lmKFxcXCI8XFxcIj09PWRhdGEpdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2xlc3NfdGhhbl9zaWduX3N0YXRlKTtlbHNlIGlmKFxcXCJcXFxcMFxcXCI9PT1kYXRhKXRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwi77+9XFxcIn0pLGJ1ZmZlci5jb21taXQoKTtlbHNle3ZhciBjaGFycz1idWZmZXIubWF0Y2hVbnRpbChcXFwiPHxcXFxcMFxcXCIpO3Rva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOmRhdGErY2hhcnN9KX1yZXR1cm4hMH1mdW5jdGlvbiByY2RhdGFfbGVzc190aGFuX3NpZ25fc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVyblxcXCIvXFxcIj09PWRhdGE/KHRoaXMuX3RlbXBvcmFyeUJ1ZmZlcj1cXFwiXFxcIix0b2tlbml6ZXIuc2V0U3RhdGUocmNkYXRhX2VuZF90YWdfb3Blbl9zdGF0ZSkpOih0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiPFxcXCJ9KSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKHJjZGF0YV9zdGF0ZSkpLCEwfWZ1bmN0aW9uIHJjZGF0YV9lbmRfdGFnX29wZW5fc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBpc0FscGhhKGRhdGEpPyh0aGlzLl90ZW1wb3JhcnlCdWZmZXIrPWRhdGEsdG9rZW5pemVyLnNldFN0YXRlKHJjZGF0YV9lbmRfdGFnX25hbWVfc3RhdGUpKToodG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjwvXFxcIn0pLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUocmNkYXRhX3N0YXRlKSksITB9ZnVuY3Rpb24gcmNkYXRhX2VuZF90YWdfbmFtZV9zdGF0ZShidWZmZXIpe3ZhciBhcHByb3ByaWF0ZT10b2tlbml6ZXIuX2N1cnJlbnRUb2tlbiYmdG9rZW5pemVyLl9jdXJyZW50VG9rZW4ubmFtZT09PXRoaXMuX3RlbXBvcmFyeUJ1ZmZlci50b0xvd2VyQ2FzZSgpLGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm4gaXNXaGl0ZXNwYWNlKGRhdGEpJiZhcHByb3ByaWF0ZT8odG9rZW5pemVyLl9jdXJyZW50VG9rZW49e3R5cGU6XFxcIkVuZFRhZ1xcXCIsbmFtZTp0aGlzLl90ZW1wb3JhcnlCdWZmZXIsZGF0YTpbXSxzZWxmQ2xvc2luZzohMX0sdG9rZW5pemVyLnNldFN0YXRlKGJlZm9yZV9hdHRyaWJ1dGVfbmFtZV9zdGF0ZSkpOlxcXCIvXFxcIj09PWRhdGEmJmFwcHJvcHJpYXRlPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbj17dHlwZTpcXFwiRW5kVGFnXFxcIixuYW1lOnRoaXMuX3RlbXBvcmFyeUJ1ZmZlcixkYXRhOltdLHNlbGZDbG9zaW5nOiExfSx0b2tlbml6ZXIuc2V0U3RhdGUoc2VsZl9jbG9zaW5nX3RhZ19zdGF0ZSkpOlxcXCI+XFxcIj09PWRhdGEmJmFwcHJvcHJpYXRlPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbj17dHlwZTpcXFwiRW5kVGFnXFxcIixuYW1lOnRoaXMuX3RlbXBvcmFyeUJ1ZmZlcixkYXRhOltdLHNlbGZDbG9zaW5nOiExfSx0b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOmlzQWxwaGEoZGF0YSk/KHRoaXMuX3RlbXBvcmFyeUJ1ZmZlcis9ZGF0YSxidWZmZXIuY29tbWl0KCkpOih0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiPC9cXFwiK3RoaXMuX3RlbXBvcmFyeUJ1ZmZlcn0pLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUocmNkYXRhX3N0YXRlKSksITB9ZnVuY3Rpb24gcmF3dGV4dF9sZXNzX3RoYW5fc2lnbl9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuXFxcIi9cXFwiPT09ZGF0YT8odGhpcy5fdGVtcG9yYXJ5QnVmZmVyPVxcXCJcXFwiLHRva2VuaXplci5zZXRTdGF0ZShyYXd0ZXh0X2VuZF90YWdfb3Blbl9zdGF0ZSkpOih0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiPFxcXCJ9KSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKHJhd3RleHRfc3RhdGUpKSwhMH1mdW5jdGlvbiByYXd0ZXh0X2VuZF90YWdfb3Blbl9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGlzQWxwaGEoZGF0YSk/KHRoaXMuX3RlbXBvcmFyeUJ1ZmZlcis9ZGF0YSx0b2tlbml6ZXIuc2V0U3RhdGUocmF3dGV4dF9lbmRfdGFnX25hbWVfc3RhdGUpKToodG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjwvXFxcIn0pLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUocmF3dGV4dF9zdGF0ZSkpLCEwfWZ1bmN0aW9uIHJhd3RleHRfZW5kX3RhZ19uYW1lX3N0YXRlKGJ1ZmZlcil7dmFyIGFwcHJvcHJpYXRlPXRva2VuaXplci5fY3VycmVudFRva2VuJiZ0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5uYW1lPT09dGhpcy5fdGVtcG9yYXJ5QnVmZmVyLnRvTG93ZXJDYXNlKCksZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBpc1doaXRlc3BhY2UoZGF0YSkmJmFwcHJvcHJpYXRlPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbj17dHlwZTpcXFwiRW5kVGFnXFxcIixuYW1lOnRoaXMuX3RlbXBvcmFyeUJ1ZmZlcixkYXRhOltdLHNlbGZDbG9zaW5nOiExfSx0b2tlbml6ZXIuc2V0U3RhdGUoYmVmb3JlX2F0dHJpYnV0ZV9uYW1lX3N0YXRlKSk6XFxcIi9cXFwiPT09ZGF0YSYmYXBwcm9wcmlhdGU/KHRva2VuaXplci5fY3VycmVudFRva2VuPXt0eXBlOlxcXCJFbmRUYWdcXFwiLG5hbWU6dGhpcy5fdGVtcG9yYXJ5QnVmZmVyLGRhdGE6W10sc2VsZkNsb3Npbmc6ITF9LHRva2VuaXplci5zZXRTdGF0ZShzZWxmX2Nsb3NpbmdfdGFnX3N0YXRlKSk6XFxcIj5cXFwiPT09ZGF0YSYmYXBwcm9wcmlhdGU/KHRva2VuaXplci5fY3VycmVudFRva2VuPXt0eXBlOlxcXCJFbmRUYWdcXFwiLG5hbWU6dGhpcy5fdGVtcG9yYXJ5QnVmZmVyLGRhdGE6W10sc2VsZkNsb3Npbmc6ITF9LHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6aXNBbHBoYShkYXRhKT8odGhpcy5fdGVtcG9yYXJ5QnVmZmVyKz1kYXRhLGJ1ZmZlci5jb21taXQoKSk6KHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOlxcXCI8L1xcXCIrdGhpcy5fdGVtcG9yYXJ5QnVmZmVyfSksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShyYXd0ZXh0X3N0YXRlKSksITB9ZnVuY3Rpb24gc2NyaXB0X2RhdGFfbGVzc190aGFuX3NpZ25fc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVyblxcXCIvXFxcIj09PWRhdGE/KHRoaXMuX3RlbXBvcmFyeUJ1ZmZlcj1cXFwiXFxcIix0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZW5kX3RhZ19vcGVuX3N0YXRlKSk6XFxcIiFcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjwhXFxcIn0pLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9lc2NhcGVfc3RhcnRfc3RhdGUpKToodG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjxcXFwifSksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9zdGF0ZSkpLCEwfWZ1bmN0aW9uIHNjcmlwdF9kYXRhX2VuZF90YWdfb3Blbl9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGlzQWxwaGEoZGF0YSk/KHRoaXMuX3RlbXBvcmFyeUJ1ZmZlcis9ZGF0YSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZW5kX3RhZ19uYW1lX3N0YXRlKSk6KHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOlxcXCI8L1xcXCJ9KSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX3N0YXRlKSksITB9ZnVuY3Rpb24gc2NyaXB0X2RhdGFfZW5kX3RhZ19uYW1lX3N0YXRlKGJ1ZmZlcil7dmFyIGFwcHJvcHJpYXRlPXRva2VuaXplci5fY3VycmVudFRva2VuJiZ0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5uYW1lPT09dGhpcy5fdGVtcG9yYXJ5QnVmZmVyLnRvTG93ZXJDYXNlKCksZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBpc1doaXRlc3BhY2UoZGF0YSkmJmFwcHJvcHJpYXRlPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbj17dHlwZTpcXFwiRW5kVGFnXFxcIixuYW1lOlxcXCJzY3JpcHRcXFwiLGRhdGE6W10sc2VsZkNsb3Npbmc6ITF9LHRva2VuaXplci5zZXRTdGF0ZShiZWZvcmVfYXR0cmlidXRlX25hbWVfc3RhdGUpKTpcXFwiL1xcXCI9PT1kYXRhJiZhcHByb3ByaWF0ZT8odG9rZW5pemVyLl9jdXJyZW50VG9rZW49e3R5cGU6XFxcIkVuZFRhZ1xcXCIsbmFtZTpcXFwic2NyaXB0XFxcIixkYXRhOltdLHNlbGZDbG9zaW5nOiExfSx0b2tlbml6ZXIuc2V0U3RhdGUoc2VsZl9jbG9zaW5nX3RhZ19zdGF0ZSkpOlxcXCI+XFxcIj09PWRhdGEmJmFwcHJvcHJpYXRlPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbj17dHlwZTpcXFwiRW5kVGFnXFxcIixuYW1lOlxcXCJzY3JpcHRcXFwiLGRhdGE6W10sc2VsZkNsb3Npbmc6ITF9LHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpKTppc0FscGhhKGRhdGEpPyh0aGlzLl90ZW1wb3JhcnlCdWZmZXIrPWRhdGEsYnVmZmVyLmNvbW1pdCgpKToodG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjwvXFxcIit0aGlzLl90ZW1wb3JhcnlCdWZmZXJ9KSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX3N0YXRlKSksITB9ZnVuY3Rpb24gc2NyaXB0X2RhdGFfZXNjYXBlX3N0YXJ0X3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm5cXFwiLVxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiLVxcXCJ9KSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZXNjYXBlX3N0YXJ0X2Rhc2hfc3RhdGUpKTooYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9zdGF0ZSkpLCEwfWZ1bmN0aW9uIHNjcmlwdF9kYXRhX2VzY2FwZV9zdGFydF9kYXNoX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm5cXFwiLVxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiLVxcXCJ9KSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZXNjYXBlZF9kYXNoX2Rhc2hfc3RhdGUpKTooYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9zdGF0ZSkpLCEwfWZ1bmN0aW9uIHNjcmlwdF9kYXRhX2VzY2FwZWRfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO2lmKGRhdGE9PT1JbnB1dFN0cmVhbS5FT0YpYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKTtlbHNlIGlmKFxcXCItXFxcIj09PWRhdGEpdG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIi1cXFwifSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2VzY2FwZWRfZGFzaF9zdGF0ZSk7ZWxzZSBpZihcXFwiPFxcXCI9PT1kYXRhKXRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9lc2NhcGVkX2xlc3NfdGhlbl9zaWduX3N0YXRlKTtlbHNlIGlmKFxcXCJcXFxcMFxcXCI9PT1kYXRhKXRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwi77+9XFxcIn0pLGJ1ZmZlci5jb21taXQoKTtlbHNle3ZhciBjaGFycz1idWZmZXIubWF0Y2hVbnRpbChcXFwiPHwtfFxcXFwwXFxcIik7dG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6ZGF0YStjaGFyc30pfXJldHVybiEwfWZ1bmN0aW9uIHNjcmlwdF9kYXRhX2VzY2FwZWRfZGFzaF9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOlxcXCItXFxcIj09PWRhdGE/KHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOlxcXCItXFxcIn0pLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9lc2NhcGVkX2Rhc2hfZGFzaF9zdGF0ZSkpOlxcXCI8XFxcIj09PWRhdGE/dG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2VzY2FwZWRfbGVzc190aGVuX3NpZ25fc3RhdGUpOlxcXCJcXFxcMFxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImludmFsaWQtY29kZXBvaW50XFxcIiksdG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIu+/vVxcXCJ9KSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZXNjYXBlZF9zdGF0ZSkpOih0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpkYXRhfSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2VzY2FwZWRfc3RhdGUpKSwhMH1mdW5jdGlvbiBzY3JpcHRfZGF0YV9lc2NhcGVkX2Rhc2hfZGFzaF9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWluLXNjcmlwdFxcXCIpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOlxcXCI8XFxcIj09PWRhdGE/dG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2VzY2FwZWRfbGVzc190aGVuX3NpZ25fc3RhdGUpOlxcXCI+XFxcIj09PWRhdGE/KHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOlxcXCI+XFxcIn0pLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9zdGF0ZSkpOlxcXCJcXFxcMFxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImludmFsaWQtY29kZXBvaW50XFxcIiksdG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIu+/vVxcXCJ9KSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZXNjYXBlZF9zdGF0ZSkpOih0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpkYXRhfSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2VzY2FwZWRfc3RhdGUpKSwhMH1mdW5jdGlvbiBzY3JpcHRfZGF0YV9lc2NhcGVkX2xlc3NfdGhlbl9zaWduX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm5cXFwiL1xcXCI9PT1kYXRhPyh0aGlzLl90ZW1wb3JhcnlCdWZmZXI9XFxcIlxcXCIsdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2VzY2FwZWRfZW5kX3RhZ19vcGVuX3N0YXRlKSk6aXNBbHBoYShkYXRhKT8odG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjxcXFwiK2RhdGF9KSx0aGlzLl90ZW1wb3JhcnlCdWZmZXI9ZGF0YSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZG91YmxlX2VzY2FwZV9zdGFydF9zdGF0ZSkpOih0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiPFxcXCJ9KSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2VzY2FwZWRfc3RhdGUpKSwhMH1mdW5jdGlvbiBzY3JpcHRfZGF0YV9lc2NhcGVkX2VuZF90YWdfb3Blbl9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGlzQWxwaGEoZGF0YSk/KHRoaXMuX3RlbXBvcmFyeUJ1ZmZlcj1kYXRhLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9lc2NhcGVkX2VuZF90YWdfbmFtZV9zdGF0ZSkpOih0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiPC9cXFwifSksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9lc2NhcGVkX3N0YXRlKSksITB9ZnVuY3Rpb24gc2NyaXB0X2RhdGFfZXNjYXBlZF9lbmRfdGFnX25hbWVfc3RhdGUoYnVmZmVyKXt2YXIgYXBwcm9wcmlhdGU9dG9rZW5pemVyLl9jdXJyZW50VG9rZW4mJnRva2VuaXplci5fY3VycmVudFRva2VuLm5hbWU9PT10aGlzLl90ZW1wb3JhcnlCdWZmZXIudG9Mb3dlckNhc2UoKSxkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGlzV2hpdGVzcGFjZShkYXRhKSYmYXBwcm9wcmlhdGU/KHRva2VuaXplci5fY3VycmVudFRva2VuPXt0eXBlOlxcXCJFbmRUYWdcXFwiLG5hbWU6XFxcInNjcmlwdFxcXCIsZGF0YTpbXSxzZWxmQ2xvc2luZzohMX0sdG9rZW5pemVyLnNldFN0YXRlKGJlZm9yZV9hdHRyaWJ1dGVfbmFtZV9zdGF0ZSkpOlxcXCIvXFxcIj09PWRhdGEmJmFwcHJvcHJpYXRlPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbj17dHlwZTpcXFwiRW5kVGFnXFxcIixuYW1lOlxcXCJzY3JpcHRcXFwiLGRhdGE6W10sc2VsZkNsb3Npbmc6ITF9LHRva2VuaXplci5zZXRTdGF0ZShzZWxmX2Nsb3NpbmdfdGFnX3N0YXRlKSk6XFxcIj5cXFwiPT09ZGF0YSYmYXBwcm9wcmlhdGU/KHRva2VuaXplci5fY3VycmVudFRva2VuPXt0eXBlOlxcXCJFbmRUYWdcXFwiLG5hbWU6XFxcInNjcmlwdFxcXCIsZGF0YTpbXSxzZWxmQ2xvc2luZzohMX0sdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpKTppc0FscGhhKGRhdGEpPyh0aGlzLl90ZW1wb3JhcnlCdWZmZXIrPWRhdGEsYnVmZmVyLmNvbW1pdCgpKToodG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjwvXFxcIit0aGlzLl90ZW1wb3JhcnlCdWZmZXJ9KSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2VzY2FwZWRfc3RhdGUpKSwhMH1mdW5jdGlvbiBzY3JpcHRfZGF0YV9kb3VibGVfZXNjYXBlX3N0YXJ0X3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm4gaXNXaGl0ZXNwYWNlKGRhdGEpfHxcXFwiL1xcXCI9PT1kYXRhfHxcXFwiPlxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpkYXRhfSksXFxcInNjcmlwdFxcXCI9PT10aGlzLl90ZW1wb3JhcnlCdWZmZXIudG9Mb3dlckNhc2UoKT90b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZG91YmxlX2VzY2FwZWRfc3RhdGUpOnRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9lc2NhcGVkX3N0YXRlKSk6aXNBbHBoYShkYXRhKT8odG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6ZGF0YX0pLHRoaXMuX3RlbXBvcmFyeUJ1ZmZlcis9ZGF0YSxidWZmZXIuY29tbWl0KCkpOihidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2VzY2FwZWRfc3RhdGUpKSwhMH1mdW5jdGlvbiBzY3JpcHRfZGF0YV9kb3VibGVfZXNjYXBlZF9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWluLXNjcmlwdFxcXCIpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOlxcXCItXFxcIj09PWRhdGE/KHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOlxcXCItXFxcIn0pLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9kb3VibGVfZXNjYXBlZF9kYXNoX3N0YXRlKSk6XFxcIjxcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjxcXFwifSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2RvdWJsZV9lc2NhcGVkX2xlc3NfdGhhbl9zaWduX3N0YXRlKSk6XFxcIlxcXFwwXFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwi77+9XFxcIn0pLGJ1ZmZlci5jb21taXQoKSk6KHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOmRhdGF9KSxidWZmZXIuY29tbWl0KCkpLCEwfWZ1bmN0aW9uIHNjcmlwdF9kYXRhX2RvdWJsZV9lc2NhcGVkX2Rhc2hfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1zY3JpcHRcXFwiKSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKTpcXFwiLVxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiLVxcXCJ9KSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZG91YmxlX2VzY2FwZWRfZGFzaF9kYXNoX3N0YXRlKSk6XFxcIjxcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjxcXFwifSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2RvdWJsZV9lc2NhcGVkX2xlc3NfdGhhbl9zaWduX3N0YXRlKSk6XFxcIlxcXFwwXFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwi77+9XFxcIn0pLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9kb3VibGVfZXNjYXBlZF9zdGF0ZSkpOih0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpkYXRhfSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2RvdWJsZV9lc2NhcGVkX3N0YXRlKSksITB9ZnVuY3Rpb24gc2NyaXB0X2RhdGFfZG91YmxlX2VzY2FwZWRfZGFzaF9kYXNoX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm4gZGF0YT09PUlucHV0U3RyZWFtLkVPRj8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJlb2YtaW4tc2NyaXB0XFxcIiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6XFxcIi1cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIi1cXFwifSksYnVmZmVyLmNvbW1pdCgpKTpcXFwiPFxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiPFxcXCJ9KSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZG91YmxlX2VzY2FwZWRfbGVzc190aGFuX3NpZ25fc3RhdGUpKTpcXFwiPlxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiPlxcXCJ9KSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfc3RhdGUpKTpcXFwiXFxcXDBcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJpbnZhbGlkLWNvZGVwb2ludFxcXCIpLHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOlxcXCLvv71cXFwifSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2RvdWJsZV9lc2NhcGVkX3N0YXRlKSk6KHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOmRhdGF9KSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZG91YmxlX2VzY2FwZWRfc3RhdGUpKSwhMH1mdW5jdGlvbiBzY3JpcHRfZGF0YV9kb3VibGVfZXNjYXBlZF9sZXNzX3RoYW5fc2lnbl9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuXFxcIi9cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIi9cXFwifSksdGhpcy5fdGVtcG9yYXJ5QnVmZmVyPVxcXCJcXFwiLHRva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9kb3VibGVfZXNjYXBlX2VuZF9zdGF0ZSkpOihidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKHNjcmlwdF9kYXRhX2RvdWJsZV9lc2NhcGVkX3N0YXRlKSksITB9ZnVuY3Rpb24gc2NyaXB0X2RhdGFfZG91YmxlX2VzY2FwZV9lbmRfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBpc1doaXRlc3BhY2UoZGF0YSl8fFxcXCIvXFxcIj09PWRhdGF8fFxcXCI+XFxcIj09PWRhdGE/KHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOmRhdGF9KSxcXFwic2NyaXB0XFxcIj09PXRoaXMuX3RlbXBvcmFyeUJ1ZmZlci50b0xvd2VyQ2FzZSgpP3Rva2VuaXplci5zZXRTdGF0ZShzY3JpcHRfZGF0YV9lc2NhcGVkX3N0YXRlKTp0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZG91YmxlX2VzY2FwZWRfc3RhdGUpKTppc0FscGhhKGRhdGEpPyh0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpkYXRhfSksdGhpcy5fdGVtcG9yYXJ5QnVmZmVyKz1kYXRhLGJ1ZmZlci5jb21taXQoKSk6KGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoc2NyaXB0X2RhdGFfZG91YmxlX2VzY2FwZWRfc3RhdGUpKSwhMH1mdW5jdGlvbiB0YWdfb3Blbl9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiYmFyZS1sZXNzLXRoYW4tc2lnbi1hdC1lb2ZcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiPFxcXCJ9KSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKTppc0FscGhhKGRhdGEpPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbj17dHlwZTpcXFwiU3RhcnRUYWdcXFwiLG5hbWU6ZGF0YS50b0xvd2VyQ2FzZSgpLGRhdGE6W119LHRva2VuaXplci5zZXRTdGF0ZSh0YWdfbmFtZV9zdGF0ZSkpOlxcXCIhXFxcIj09PWRhdGE/dG9rZW5pemVyLnNldFN0YXRlKG1hcmt1cF9kZWNsYXJhdGlvbl9vcGVuX3N0YXRlKTpcXFwiL1xcXCI9PT1kYXRhP3Rva2VuaXplci5zZXRTdGF0ZShjbG9zZV90YWdfb3Blbl9zdGF0ZSk6XFxcIj5cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJleHBlY3RlZC10YWctbmFtZS1idXQtZ290LXJpZ2h0LWJyYWNrZXRcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih7dHlwZTpcXFwiQ2hhcmFjdGVyc1xcXCIsZGF0YTpcXFwiPD5cXFwifSksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKTpcXFwiP1xcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImV4cGVjdGVkLXRhZy1uYW1lLWJ1dC1nb3QtcXVlc3Rpb24tbWFya1xcXCIpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoYm9ndXNfY29tbWVudF9zdGF0ZSkpOih0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImV4cGVjdGVkLXRhZy1uYW1lXFxcIiksdG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjxcXFwifSksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSksITB9ZnVuY3Rpb24gY2xvc2VfdGFnX29wZW5fc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImV4cGVjdGVkLWNsb3NpbmctdGFnLWJ1dC1nb3QtZW9mXFxcIiksdG9rZW5pemVyLl9lbWl0VG9rZW4oe3R5cGU6XFxcIkNoYXJhY3RlcnNcXFwiLGRhdGE6XFxcIjwvXFxcIn0pLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOmlzQWxwaGEoZGF0YSk/KHRva2VuaXplci5fY3VycmVudFRva2VuPXt0eXBlOlxcXCJFbmRUYWdcXFwiLG5hbWU6ZGF0YS50b0xvd2VyQ2FzZSgpLGRhdGE6W119LHRva2VuaXplci5zZXRTdGF0ZSh0YWdfbmFtZV9zdGF0ZSkpOlxcXCI+XFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtY2xvc2luZy10YWctYnV0LWdvdC1yaWdodC1icmFja2V0XFxcIiksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKToodG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJleHBlY3RlZC1jbG9zaW5nLXRhZy1idXQtZ290LWNoYXJcXFwiLHtkYXRhOmRhdGF9KSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKGJvZ3VzX2NvbW1lbnRfc3RhdGUpKSwhMH1mdW5jdGlvbiB0YWdfbmFtZV9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWluLXRhZy1uYW1lXFxcIiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6aXNXaGl0ZXNwYWNlKGRhdGEpP3Rva2VuaXplci5zZXRTdGF0ZShiZWZvcmVfYXR0cmlidXRlX25hbWVfc3RhdGUpOmlzQWxwaGEoZGF0YSk/dG9rZW5pemVyLl9jdXJyZW50VG9rZW4ubmFtZSs9ZGF0YS50b0xvd2VyQ2FzZSgpOlxcXCI+XFxcIj09PWRhdGE/dG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCk6XFxcIi9cXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoc2VsZl9jbG9zaW5nX3RhZ19zdGF0ZSk6XFxcIlxcXFwwXFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5uYW1lKz1cXFwi77+9XFxcIik6dG9rZW5pemVyLl9jdXJyZW50VG9rZW4ubmFtZSs9ZGF0YSxidWZmZXIuY29tbWl0KCksITB9ZnVuY3Rpb24gYmVmb3JlX2F0dHJpYnV0ZV9uYW1lX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtpZihkYXRhPT09SW5wdXRTdHJlYW0uRU9GKXRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtYXR0cmlidXRlLW5hbWUtYnV0LWdvdC1lb2ZcXFwiKSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpO2Vsc2V7aWYoaXNXaGl0ZXNwYWNlKGRhdGEpKXJldHVybiEwO2lzQWxwaGEoZGF0YSk/KHRva2VuaXplci5fY3VycmVudFRva2VuLmRhdGEucHVzaCh7bm9kZU5hbWU6ZGF0YS50b0xvd2VyQ2FzZSgpLG5vZGVWYWx1ZTpcXFwiXFxcIn0pLHRva2VuaXplci5zZXRTdGF0ZShhdHRyaWJ1dGVfbmFtZV9zdGF0ZSkpOlxcXCI+XFxcIj09PWRhdGE/dG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCk6XFxcIi9cXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoc2VsZl9jbG9zaW5nX3RhZ19zdGF0ZSk6XFxcIidcXFwiPT09ZGF0YXx8J1xcXCInPT09ZGF0YXx8XFxcIj1cXFwiPT09ZGF0YXx8XFxcIjxcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJpbnZhbGlkLWNoYXJhY3Rlci1pbi1hdHRyaWJ1dGUtbmFtZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmRhdGEucHVzaCh7bm9kZU5hbWU6ZGF0YSxub2RlVmFsdWU6XFxcIlxcXCJ9KSx0b2tlbml6ZXIuc2V0U3RhdGUoYXR0cmlidXRlX25hbWVfc3RhdGUpKTpcXFwiXFxcXDBcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJpbnZhbGlkLWNvZGVwb2ludFxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmRhdGEucHVzaCh7bm9kZU5hbWU6XFxcIu+/vVxcXCIsbm9kZVZhbHVlOlxcXCJcXFwifSkpOih0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5kYXRhLnB1c2goe25vZGVOYW1lOmRhdGEsbm9kZVZhbHVlOlxcXCJcXFwifSksdG9rZW5pemVyLnNldFN0YXRlKGF0dHJpYnV0ZV9uYW1lX3N0YXRlKSl9cmV0dXJuITB9ZnVuY3Rpb24gYXR0cmlidXRlX25hbWVfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpLGxlYXZpbmdUaGlzU3RhdGU9ITAsc2hvdWxkRW1pdD0hMTtpZihkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1hdHRyaWJ1dGUtbmFtZVxcXCIpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSksc2hvdWxkRW1pdD0hMCk6XFxcIj1cXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoYmVmb3JlX2F0dHJpYnV0ZV92YWx1ZV9zdGF0ZSk6aXNBbHBoYShkYXRhKT8odG9rZW5pemVyLl9jdXJyZW50QXR0cmlidXRlKCkubm9kZU5hbWUrPWRhdGEudG9Mb3dlckNhc2UoKSxsZWF2aW5nVGhpc1N0YXRlPSExKTpcXFwiPlxcXCI9PT1kYXRhP3Nob3VsZEVtaXQ9ITA6aXNXaGl0ZXNwYWNlKGRhdGEpP3Rva2VuaXplci5zZXRTdGF0ZShhZnRlcl9hdHRyaWJ1dGVfbmFtZV9zdGF0ZSk6XFxcIi9cXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoc2VsZl9jbG9zaW5nX3RhZ19zdGF0ZSk6XFxcIidcXFwiPT09ZGF0YXx8J1xcXCInPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJpbnZhbGlkLWNoYXJhY3Rlci1pbi1hdHRyaWJ1dGUtbmFtZVxcXCIpLHRva2VuaXplci5fY3VycmVudEF0dHJpYnV0ZSgpLm5vZGVOYW1lKz1kYXRhLGxlYXZpbmdUaGlzU3RhdGU9ITEpOlxcXCJcXFxcMFxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImludmFsaWQtY29kZXBvaW50XFxcIiksdG9rZW5pemVyLl9jdXJyZW50QXR0cmlidXRlKCkubm9kZU5hbWUrPVxcXCLvv71cXFwiKToodG9rZW5pemVyLl9jdXJyZW50QXR0cmlidXRlKCkubm9kZU5hbWUrPWRhdGEsbGVhdmluZ1RoaXNTdGF0ZT0hMSksbGVhdmluZ1RoaXNTdGF0ZSl7Zm9yKHZhciBhdHRyaWJ1dGVzPXRva2VuaXplci5fY3VycmVudFRva2VuLmRhdGEsY3VycmVudEF0dHJpYnV0ZT1hdHRyaWJ1dGVzW2F0dHJpYnV0ZXMubGVuZ3RoLTFdLGk9YXR0cmlidXRlcy5sZW5ndGgtMjtpPj0wO2ktLSlpZihjdXJyZW50QXR0cmlidXRlLm5vZGVOYW1lPT09YXR0cmlidXRlc1tpXS5ub2RlTmFtZSl7dG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJkdXBsaWNhdGUtYXR0cmlidXRlXFxcIix7bmFtZTpjdXJyZW50QXR0cmlidXRlLm5vZGVOYW1lfSksY3VycmVudEF0dHJpYnV0ZS5ub2RlTmFtZT1udWxsO2JyZWFrfXNob3VsZEVtaXQmJnRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpfWVsc2UgYnVmZmVyLmNvbW1pdCgpO3JldHVybiEwfWZ1bmN0aW9uIGFmdGVyX2F0dHJpYnV0ZV9uYW1lX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtpZihkYXRhPT09SW5wdXRTdHJlYW0uRU9GKXRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtZW5kLW9mLXRhZy1idXQtZ290LWVvZlxcXCIpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSk7ZWxzZXtpZihpc1doaXRlc3BhY2UoZGF0YSkpcmV0dXJuITA7XFxcIj1cXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoYmVmb3JlX2F0dHJpYnV0ZV92YWx1ZV9zdGF0ZSk6XFxcIj5cXFwiPT09ZGF0YT90b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKTppc0FscGhhKGRhdGEpPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5kYXRhLnB1c2goe25vZGVOYW1lOmRhdGEsbm9kZVZhbHVlOlxcXCJcXFwifSksdG9rZW5pemVyLnNldFN0YXRlKGF0dHJpYnV0ZV9uYW1lX3N0YXRlKSk6XFxcIi9cXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoc2VsZl9jbG9zaW5nX3RhZ19zdGF0ZSk6XFxcIidcXFwiPT09ZGF0YXx8J1xcXCInPT09ZGF0YXx8XFxcIjxcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJpbnZhbGlkLWNoYXJhY3Rlci1hZnRlci1hdHRyaWJ1dGUtbmFtZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmRhdGEucHVzaCh7bm9kZU5hbWU6ZGF0YSxub2RlVmFsdWU6XFxcIlxcXCJ9KSx0b2tlbml6ZXIuc2V0U3RhdGUoYXR0cmlidXRlX25hbWVfc3RhdGUpKTpcXFwiXFxcXDBcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJpbnZhbGlkLWNvZGVwb2ludFxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmRhdGEucHVzaCh7bm9kZU5hbWU6XFxcIu+/vVxcXCIsbm9kZVZhbHVlOlxcXCJcXFwifSkpOih0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5kYXRhLnB1c2goe25vZGVOYW1lOmRhdGEsbm9kZVZhbHVlOlxcXCJcXFwifSksdG9rZW5pemVyLnNldFN0YXRlKGF0dHJpYnV0ZV9uYW1lX3N0YXRlKSl9cmV0dXJuITB9ZnVuY3Rpb24gYmVmb3JlX2F0dHJpYnV0ZV92YWx1ZV9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7aWYoZGF0YT09PUlucHV0U3RyZWFtLkVPRil0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImV4cGVjdGVkLWF0dHJpYnV0ZS12YWx1ZS1idXQtZ290LWVvZlxcXCIpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSk7ZWxzZXtpZihpc1doaXRlc3BhY2UoZGF0YSkpcmV0dXJuITA7J1xcXCInPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoYXR0cmlidXRlX3ZhbHVlX2RvdWJsZV9xdW90ZWRfc3RhdGUpOlxcXCImXFxcIj09PWRhdGE/KHRva2VuaXplci5zZXRTdGF0ZShhdHRyaWJ1dGVfdmFsdWVfdW5xdW90ZWRfc3RhdGUpLGJ1ZmZlci51bmdldChkYXRhKSk6XFxcIidcXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoYXR0cmlidXRlX3ZhbHVlX3NpbmdsZV9xdW90ZWRfc3RhdGUpOlxcXCI+XFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtYXR0cmlidXRlLXZhbHVlLWJ1dC1nb3QtcmlnaHQtYnJhY2tldFxcXCIpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpKTpcXFwiPVxcXCI9PT1kYXRhfHxcXFwiPFxcXCI9PT1kYXRhfHxcXFwiYFxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtY2hhcmFjdGVyLWluLXVucXVvdGVkLWF0dHJpYnV0ZS12YWx1ZVxcXCIpLHRva2VuaXplci5fY3VycmVudEF0dHJpYnV0ZSgpLm5vZGVWYWx1ZSs9ZGF0YSx0b2tlbml6ZXIuc2V0U3RhdGUoYXR0cmlidXRlX3ZhbHVlX3VucXVvdGVkX3N0YXRlKSk6XFxcIlxcXFwwXFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRBdHRyaWJ1dGUoKS5ub2RlVmFsdWUrPVxcXCLvv71cXFwiKToodG9rZW5pemVyLl9jdXJyZW50QXR0cmlidXRlKCkubm9kZVZhbHVlKz1kYXRhLHRva2VuaXplci5zZXRTdGF0ZShhdHRyaWJ1dGVfdmFsdWVfdW5xdW90ZWRfc3RhdGUpKX1yZXR1cm4hMFxcbn1mdW5jdGlvbiBhdHRyaWJ1dGVfdmFsdWVfZG91YmxlX3F1b3RlZF9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7aWYoZGF0YT09PUlucHV0U3RyZWFtLkVPRil0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1hdHRyaWJ1dGUtdmFsdWUtZG91YmxlLXF1b3RlXFxcIiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKTtlbHNlIGlmKCdcXFwiJz09PWRhdGEpdG9rZW5pemVyLnNldFN0YXRlKGFmdGVyX2F0dHJpYnV0ZV92YWx1ZV9zdGF0ZSk7ZWxzZSBpZihcXFwiJlxcXCI9PT1kYXRhKXRoaXMuX2FkZGl0aW9uYWxBbGxvd2VkQ2hhcmFjdGVyPSdcXFwiJyx0b2tlbml6ZXIuc2V0U3RhdGUoY2hhcmFjdGVyX3JlZmVyZW5jZV9pbl9hdHRyaWJ1dGVfdmFsdWVfc3RhdGUpO2Vsc2UgaWYoXFxcIlxcXFwwXFxcIj09PWRhdGEpdG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJpbnZhbGlkLWNvZGVwb2ludFxcXCIpLHRva2VuaXplci5fY3VycmVudEF0dHJpYnV0ZSgpLm5vZGVWYWx1ZSs9XFxcIu+/vVxcXCI7ZWxzZXt2YXIgcz1idWZmZXIubWF0Y2hVbnRpbCgnW1xcXFwwXFxcIiZdJyk7ZGF0YSs9cyx0b2tlbml6ZXIuX2N1cnJlbnRBdHRyaWJ1dGUoKS5ub2RlVmFsdWUrPWRhdGF9cmV0dXJuITB9ZnVuY3Rpb24gYXR0cmlidXRlX3ZhbHVlX3NpbmdsZV9xdW90ZWRfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1hdHRyaWJ1dGUtdmFsdWUtc2luZ2xlLXF1b3RlXFxcIiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6XFxcIidcXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoYWZ0ZXJfYXR0cmlidXRlX3ZhbHVlX3N0YXRlKTpcXFwiJlxcXCI9PT1kYXRhPyh0aGlzLl9hZGRpdGlvbmFsQWxsb3dlZENoYXJhY3Rlcj1cXFwiJ1xcXCIsdG9rZW5pemVyLnNldFN0YXRlKGNoYXJhY3Rlcl9yZWZlcmVuY2VfaW5fYXR0cmlidXRlX3ZhbHVlX3N0YXRlKSk6XFxcIlxcXFwwXFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRBdHRyaWJ1dGUoKS5ub2RlVmFsdWUrPVxcXCLvv71cXFwiKTp0b2tlbml6ZXIuX2N1cnJlbnRBdHRyaWJ1dGUoKS5ub2RlVmFsdWUrPWRhdGErYnVmZmVyLm1hdGNoVW50aWwoXFxcIlxcXFwwfFsnJl1cXFwiKSwhMH1mdW5jdGlvbiBhdHRyaWJ1dGVfdmFsdWVfdW5xdW90ZWRfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO2lmKGRhdGE9PT1JbnB1dFN0cmVhbS5FT0YpdG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJlb2YtYWZ0ZXItYXR0cmlidXRlLXZhbHVlXFxcIiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKTtlbHNlIGlmKGlzV2hpdGVzcGFjZShkYXRhKSl0b2tlbml6ZXIuc2V0U3RhdGUoYmVmb3JlX2F0dHJpYnV0ZV9uYW1lX3N0YXRlKTtlbHNlIGlmKFxcXCImXFxcIj09PWRhdGEpdGhpcy5fYWRkaXRpb25hbEFsbG93ZWRDaGFyYWN0ZXI9XFxcIj5cXFwiLHRva2VuaXplci5zZXRTdGF0ZShjaGFyYWN0ZXJfcmVmZXJlbmNlX2luX2F0dHJpYnV0ZV92YWx1ZV9zdGF0ZSk7ZWxzZSBpZihcXFwiPlxcXCI9PT1kYXRhKXRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpO2Vsc2UgaWYoJ1xcXCInPT09ZGF0YXx8XFxcIidcXFwiPT09ZGF0YXx8XFxcIj1cXFwiPT09ZGF0YXx8XFxcImBcXFwiPT09ZGF0YXx8XFxcIjxcXFwiPT09ZGF0YSl0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtY2hhcmFjdGVyLWluLXVucXVvdGVkLWF0dHJpYnV0ZS12YWx1ZVxcXCIpLHRva2VuaXplci5fY3VycmVudEF0dHJpYnV0ZSgpLm5vZGVWYWx1ZSs9ZGF0YSxidWZmZXIuY29tbWl0KCk7ZWxzZSBpZihcXFwiXFxcXDBcXFwiPT09ZGF0YSl0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImludmFsaWQtY29kZXBvaW50XFxcIiksdG9rZW5pemVyLl9jdXJyZW50QXR0cmlidXRlKCkubm9kZVZhbHVlKz1cXFwi77+9XFxcIjtlbHNle3ZhciBvPWJ1ZmZlci5tYXRjaFVudGlsKFxcXCJcXFxcMHxbXFx0XFxcXG5cXHUwMDBiXFxcXGYgXFxcXHImPD5cXFxcXFxcIic9YF1cXFwiKTtvPT09SW5wdXRTdHJlYW0uRU9GJiYodG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJlb2YtaW4tYXR0cmlidXRlLXZhbHVlLW5vLXF1b3Rlc1xcXCIpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpKSxidWZmZXIuY29tbWl0KCksdG9rZW5pemVyLl9jdXJyZW50QXR0cmlidXRlKCkubm9kZVZhbHVlKz1kYXRhK299cmV0dXJuITB9ZnVuY3Rpb24gY2hhcmFjdGVyX3JlZmVyZW5jZV9pbl9hdHRyaWJ1dGVfdmFsdWVfc3RhdGUoYnVmZmVyKXt2YXIgY2hhcmFjdGVyPUVudGl0eVBhcnNlci5jb25zdW1lRW50aXR5KGJ1ZmZlcix0b2tlbml6ZXIsdGhpcy5fYWRkaXRpb25hbEFsbG93ZWRDaGFyYWN0ZXIpO3JldHVybiB0aGlzLl9jdXJyZW50QXR0cmlidXRlKCkubm9kZVZhbHVlKz1jaGFyYWN0ZXJ8fFxcXCImXFxcIiwnXFxcIic9PT10aGlzLl9hZGRpdGlvbmFsQWxsb3dlZENoYXJhY3Rlcj90b2tlbml6ZXIuc2V0U3RhdGUoYXR0cmlidXRlX3ZhbHVlX2RvdWJsZV9xdW90ZWRfc3RhdGUpOlxcXCInXFxcIj09PXRoaXMuX2FkZGl0aW9uYWxBbGxvd2VkQ2hhcmFjdGVyP3Rva2VuaXplci5zZXRTdGF0ZShhdHRyaWJ1dGVfdmFsdWVfc2luZ2xlX3F1b3RlZF9zdGF0ZSk6XFxcIj5cXFwiPT09dGhpcy5fYWRkaXRpb25hbEFsbG93ZWRDaGFyYWN0ZXImJnRva2VuaXplci5zZXRTdGF0ZShhdHRyaWJ1dGVfdmFsdWVfdW5xdW90ZWRfc3RhdGUpLCEwfWZ1bmN0aW9uIGFmdGVyX2F0dHJpYnV0ZV92YWx1ZV9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWFmdGVyLWF0dHJpYnV0ZS12YWx1ZVxcXCIpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOmlzV2hpdGVzcGFjZShkYXRhKT90b2tlbml6ZXIuc2V0U3RhdGUoYmVmb3JlX2F0dHJpYnV0ZV9uYW1lX3N0YXRlKTpcXFwiPlxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSksdG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCkpOlxcXCIvXFxcIj09PWRhdGE/dG9rZW5pemVyLnNldFN0YXRlKHNlbGZfY2xvc2luZ190YWdfc3RhdGUpOih0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtY2hhcmFjdGVyLWFmdGVyLWF0dHJpYnV0ZS12YWx1ZVxcXCIpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoYmVmb3JlX2F0dHJpYnV0ZV9uYW1lX3N0YXRlKSksITB9ZnVuY3Rpb24gc2VsZl9jbG9zaW5nX3RhZ19zdGF0ZShidWZmZXIpe3ZhciBjPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGM9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lb2YtYWZ0ZXItc29saWR1cy1pbi10YWdcXFwiKSxidWZmZXIudW5nZXQoYyksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKTpcXFwiPlxcXCI9PT1jPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5zZWxmQ2xvc2luZz0hMCx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSksdG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCkpOih0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtY2hhcmFjdGVyLWFmdGVyLXNvbGlkdXMtaW4tdGFnXFxcIiksYnVmZmVyLnVuZ2V0KGMpLHRva2VuaXplci5zZXRTdGF0ZShiZWZvcmVfYXR0cmlidXRlX25hbWVfc3RhdGUpKSwhMH1mdW5jdGlvbiBib2d1c19jb21tZW50X3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLm1hdGNoVW50aWwoXFxcIj5cXFwiKTtyZXR1cm4gZGF0YT1kYXRhLnJlcGxhY2UoL1xcXFx1MDAwMC9nLFxcXCLvv71cXFwiKSxidWZmZXIuY2hhcigpLHRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDb21tZW50XFxcIixkYXRhOmRhdGF9KSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSksITB9ZnVuY3Rpb24gbWFya3VwX2RlY2xhcmF0aW9uX29wZW5fc3RhdGUoYnVmZmVyKXt2YXIgY2hhcnM9YnVmZmVyLnNoaWZ0KDIpO2lmKFxcXCItLVxcXCI9PT1jaGFycyl0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbj17dHlwZTpcXFwiQ29tbWVudFxcXCIsZGF0YTpcXFwiXFxcIn0sdG9rZW5pemVyLnNldFN0YXRlKGNvbW1lbnRfc3RhcnRfc3RhdGUpO2Vsc2V7dmFyIG5ld2NoYXJzPWJ1ZmZlci5zaGlmdCg1KTtpZihuZXdjaGFycz09PUlucHV0U3RyZWFtLkVPRnx8Y2hhcnM9PT1JbnB1dFN0cmVhbS5FT0YpcmV0dXJuIHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtZGFzaGVzLW9yLWRvY3R5cGVcXFwiKSx0b2tlbml6ZXIuc2V0U3RhdGUoYm9ndXNfY29tbWVudF9zdGF0ZSksYnVmZmVyLnVuZ2V0KGNoYXJzKSwhMDtjaGFycys9bmV3Y2hhcnMsXFxcIkRPQ1RZUEVcXFwiPT09Y2hhcnMudG9VcHBlckNhc2UoKT8odG9rZW5pemVyLl9jdXJyZW50VG9rZW49e3R5cGU6XFxcIkRvY3R5cGVcXFwiLG5hbWU6XFxcIlxcXCIscHVibGljSWQ6bnVsbCxzeXN0ZW1JZDpudWxsLGZvcmNlUXVpcmtzOiExfSx0b2tlbml6ZXIuc2V0U3RhdGUoZG9jdHlwZV9zdGF0ZSkpOnRva2VuaXplci5fdG9rZW5IYW5kbGVyLmlzQ2RhdGFTZWN0aW9uQWxsb3dlZCgpJiZcXFwiW0NEQVRBW1xcXCI9PT1jaGFycz90b2tlbml6ZXIuc2V0U3RhdGUoY2RhdGFfc2VjdGlvbl9zdGF0ZSk6KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtZGFzaGVzLW9yLWRvY3R5cGVcXFwiKSxidWZmZXIudW5nZXQoY2hhcnMpLHRva2VuaXplci5zZXRTdGF0ZShib2d1c19jb21tZW50X3N0YXRlKSl9cmV0dXJuITB9ZnVuY3Rpb24gY2RhdGFfc2VjdGlvbl9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5tYXRjaFVudGlsKFxcXCJdXT5cXFwiKTtyZXR1cm4gYnVmZmVyLnNoaWZ0KDMpLGRhdGEmJnRva2VuaXplci5fZW1pdFRva2VuKHt0eXBlOlxcXCJDaGFyYWN0ZXJzXFxcIixkYXRhOmRhdGF9KSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSksITB9ZnVuY3Rpb24gY29tbWVudF9zdGFydF9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWluLWNvbW1lbnRcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6XFxcIi1cXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoY29tbWVudF9zdGFydF9kYXNoX3N0YXRlKTpcXFwiPlxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImluY29ycmVjdC1jb21tZW50XFxcIiksdG9rZW5pemVyLl9lbWl0VG9rZW4odG9rZW5pemVyLl9jdXJyZW50VG9rZW4pLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6XFxcIlxcXFwwXFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5kYXRhKz1cXFwi77+9XFxcIik6KHRva2VuaXplci5fY3VycmVudFRva2VuLmRhdGErPWRhdGEsdG9rZW5pemVyLnNldFN0YXRlKGNvbW1lbnRfc3RhdGUpKSwhMH1mdW5jdGlvbiBjb21tZW50X3N0YXJ0X2Rhc2hfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1jb21tZW50XFxcIiksdG9rZW5pemVyLl9lbWl0VG9rZW4odG9rZW5pemVyLl9jdXJyZW50VG9rZW4pLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOlxcXCItXFxcIj09PWRhdGE/dG9rZW5pemVyLnNldFN0YXRlKGNvbW1lbnRfZW5kX3N0YXRlKTpcXFwiPlxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImluY29ycmVjdC1jb21tZW50XFxcIiksdG9rZW5pemVyLl9lbWl0VG9rZW4odG9rZW5pemVyLl9jdXJyZW50VG9rZW4pLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6XFxcIlxcXFwwXFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5kYXRhKz1cXFwi77+9XFxcIik6KHRva2VuaXplci5fY3VycmVudFRva2VuLmRhdGErPVxcXCItXFxcIitkYXRhLHRva2VuaXplci5zZXRTdGF0ZShjb21tZW50X3N0YXRlKSksITB9ZnVuY3Rpb24gY29tbWVudF9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWluLWNvbW1lbnRcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6XFxcIi1cXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoY29tbWVudF9lbmRfZGFzaF9zdGF0ZSk6XFxcIlxcXFwwXFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5kYXRhKz1cXFwi77+9XFxcIik6KHRva2VuaXplci5fY3VycmVudFRva2VuLmRhdGErPWRhdGEsYnVmZmVyLmNvbW1pdCgpKSwhMH1mdW5jdGlvbiBjb21tZW50X2VuZF9kYXNoX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm4gZGF0YT09PUlucHV0U3RyZWFtLkVPRj8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJlb2YtaW4tY29tbWVudC1lbmQtZGFzaFxcXCIpLHRva2VuaXplci5fZW1pdFRva2VuKHRva2VuaXplci5fY3VycmVudFRva2VuKSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKTpcXFwiLVxcXCI9PT1kYXRhP3Rva2VuaXplci5zZXRTdGF0ZShjb21tZW50X2VuZF9zdGF0ZSk6XFxcIlxcXFwwXFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5kYXRhKz1cXFwiLe+/vVxcXCIsdG9rZW5pemVyLnNldFN0YXRlKGNvbW1lbnRfc3RhdGUpKToodG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZGF0YSs9XFxcIi1cXFwiK2RhdGErYnVmZmVyLm1hdGNoVW50aWwoXFxcIlxcXFwwfC1cXFwiKSxidWZmZXIuY2hhcigpKSwhMH1mdW5jdGlvbiBjb21tZW50X2VuZF9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWluLWNvbW1lbnQtZG91YmxlLWRhc2hcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6XFxcIj5cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9lbWl0VG9rZW4odG9rZW5pemVyLl9jdXJyZW50VG9rZW4pLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6XFxcIiFcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWJhbmctYWZ0ZXItZG91YmxlLWRhc2gtaW4tY29tbWVudFxcXCIpLHRva2VuaXplci5zZXRTdGF0ZShjb21tZW50X2VuZF9iYW5nX3N0YXRlKSk6XFxcIi1cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWRhc2gtYWZ0ZXItZG91YmxlLWRhc2gtaW4tY29tbWVudFxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmRhdGErPWRhdGEpOlxcXCJcXFxcMFxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImludmFsaWQtY29kZXBvaW50XFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZGF0YSs9XFxcIi0t77+9XFxcIix0b2tlbml6ZXIuc2V0U3RhdGUoY29tbWVudF9zdGF0ZSkpOih0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtY2hhci1pbi1jb21tZW50XFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZGF0YSs9XFxcIi0tXFxcIitkYXRhLHRva2VuaXplci5zZXRTdGF0ZShjb21tZW50X3N0YXRlKSksITB9ZnVuY3Rpb24gY29tbWVudF9lbmRfYmFuZ19zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWluLWNvbW1lbnQtZW5kLWJhbmctc3RhdGVcXFwiKSx0b2tlbml6ZXIuX2VtaXRUb2tlbih0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6XFxcIj5cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9lbWl0VG9rZW4odG9rZW5pemVyLl9jdXJyZW50VG9rZW4pLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6XFxcIi1cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZGF0YSs9XFxcIi0tIVxcXCIsdG9rZW5pemVyLnNldFN0YXRlKGNvbW1lbnRfZW5kX2Rhc2hfc3RhdGUpKToodG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZGF0YSs9XFxcIi0tIVxcXCIrZGF0YSx0b2tlbml6ZXIuc2V0U3RhdGUoY29tbWVudF9zdGF0ZSkpLCEwfWZ1bmN0aW9uIGRvY3R5cGVfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImV4cGVjdGVkLWRvY3R5cGUtbmFtZS1idXQtZ290LWVvZlxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmZvcmNlUXVpcmtzPSEwLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSksdG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCkpOmlzV2hpdGVzcGFjZShkYXRhKT90b2tlbml6ZXIuc2V0U3RhdGUoYmVmb3JlX2RvY3R5cGVfbmFtZV9zdGF0ZSk6KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwibmVlZC1zcGFjZS1hZnRlci1kb2N0eXBlXFxcIiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShiZWZvcmVfZG9jdHlwZV9uYW1lX3N0YXRlKSksITB9ZnVuY3Rpb24gYmVmb3JlX2RvY3R5cGVfbmFtZV9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtZG9jdHlwZS1uYW1lLWJ1dC1nb3QtZW9mXFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZm9yY2VRdWlya3M9ITAsYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSx0b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKSk6aXNXaGl0ZXNwYWNlKGRhdGEpfHwoXFxcIj5cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJleHBlY3RlZC1kb2N0eXBlLW5hbWUtYnV0LWdvdC1yaWdodC1icmFja2V0XFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZm9yY2VRdWlya3M9ITAsdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpKTooaXNBbHBoYShkYXRhKSYmKGRhdGE9ZGF0YS50b0xvd2VyQ2FzZSgpKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5uYW1lPWRhdGEsdG9rZW5pemVyLnNldFN0YXRlKGRvY3R5cGVfbmFtZV9zdGF0ZSkpKSwhMH1mdW5jdGlvbiBkb2N0eXBlX25hbWVfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5mb3JjZVF1aXJrcz0hMCxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJlb2YtaW4tZG9jdHlwZS1uYW1lXFxcIiksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpKTppc1doaXRlc3BhY2UoZGF0YSk/dG9rZW5pemVyLnNldFN0YXRlKGFmdGVyX2RvY3R5cGVfbmFtZV9zdGF0ZSk6XFxcIj5cXFwiPT09ZGF0YT8odG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpKTooaXNBbHBoYShkYXRhKSYmKGRhdGE9ZGF0YS50b0xvd2VyQ2FzZSgpKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5uYW1lKz1kYXRhLGJ1ZmZlci5jb21taXQoKSksITB9ZnVuY3Rpb24gYWZ0ZXJfZG9jdHlwZV9uYW1lX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtpZihkYXRhPT09SW5wdXRTdHJlYW0uRU9GKXRva2VuaXplci5fY3VycmVudFRva2VuLmZvcmNlUXVpcmtzPSEwLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1kb2N0eXBlXFxcIiksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpO2Vsc2UgaWYoaXNXaGl0ZXNwYWNlKGRhdGEpKTtlbHNlIGlmKFxcXCI+XFxcIj09PWRhdGEpdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpO2Vsc2V7aWYoW1xcXCJwXFxcIixcXFwiUFxcXCJdLmluZGV4T2YoZGF0YSk+LTEpe3ZhciBleHBlY3RlZD1bW1xcXCJ1XFxcIixcXFwiVVxcXCJdLFtcXFwiYlxcXCIsXFxcIkJcXFwiXSxbXFxcImxcXFwiLFxcXCJMXFxcIl0sW1xcXCJpXFxcIixcXFwiSVxcXCJdLFtcXFwiY1xcXCIsXFxcIkNcXFwiXV0sbWF0Y2hlZD1leHBlY3RlZC5ldmVyeShmdW5jdGlvbihleHBlY3RlZCl7cmV0dXJuIGRhdGE9YnVmZmVyLmNoYXIoKSxleHBlY3RlZC5pbmRleE9mKGRhdGEpPi0xfSk7aWYobWF0Y2hlZClyZXR1cm4gdG9rZW5pemVyLnNldFN0YXRlKGFmdGVyX2RvY3R5cGVfcHVibGljX2tleXdvcmRfc3RhdGUpLCEwfWVsc2UgaWYoW1xcXCJzXFxcIixcXFwiU1xcXCJdLmluZGV4T2YoZGF0YSk+LTEpe3ZhciBleHBlY3RlZD1bW1xcXCJ5XFxcIixcXFwiWVxcXCJdLFtcXFwic1xcXCIsXFxcIlNcXFwiXSxbXFxcInRcXFwiLFxcXCJUXFxcIl0sW1xcXCJlXFxcIixcXFwiRVxcXCJdLFtcXFwibVxcXCIsXFxcIk1cXFwiXV0sbWF0Y2hlZD1leHBlY3RlZC5ldmVyeShmdW5jdGlvbihleHBlY3RlZCl7cmV0dXJuIGRhdGE9YnVmZmVyLmNoYXIoKSxleHBlY3RlZC5pbmRleE9mKGRhdGEpPi0xfSk7aWYobWF0Y2hlZClyZXR1cm4gdG9rZW5pemVyLnNldFN0YXRlKGFmdGVyX2RvY3R5cGVfc3lzdGVtX2tleXdvcmRfc3RhdGUpLCEwfWJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5mb3JjZVF1aXJrcz0hMCxkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1kb2N0eXBlXFxcIiksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSx0b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKSk6KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtc3BhY2Utb3ItcmlnaHQtYnJhY2tldC1pbi1kb2N0eXBlXFxcIix7ZGF0YTpkYXRhfSksdG9rZW5pemVyLnNldFN0YXRlKGJvZ3VzX2RvY3R5cGVfc3RhdGUpKX1yZXR1cm4hMH1mdW5jdGlvbiBhZnRlcl9kb2N0eXBlX3B1YmxpY19rZXl3b3JkX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm4gZGF0YT09PUlucHV0U3RyZWFtLkVPRj8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJlb2YtaW4tZG9jdHlwZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmZvcmNlUXVpcmtzPSEwLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSksdG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCkpOmlzV2hpdGVzcGFjZShkYXRhKT90b2tlbml6ZXIuc2V0U3RhdGUoYmVmb3JlX2RvY3R5cGVfcHVibGljX2lkZW50aWZpZXJfc3RhdGUpOlxcXCInXFxcIj09PWRhdGF8fCdcXFwiJz09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1jaGFyLWluLWRvY3R5cGVcXFwiKSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKGJlZm9yZV9kb2N0eXBlX3B1YmxpY19pZGVudGlmaWVyX3N0YXRlKSk6KGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoYmVmb3JlX2RvY3R5cGVfcHVibGljX2lkZW50aWZpZXJfc3RhdGUpKSwhMH1mdW5jdGlvbiBiZWZvcmVfZG9jdHlwZV9wdWJsaWNfaWRlbnRpZmllcl9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWluLWRvY3R5cGVcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5mb3JjZVF1aXJrcz0hMCxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpKTppc1doaXRlc3BhY2UoZGF0YSl8fCgnXFxcIic9PT1kYXRhPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5wdWJsaWNJZD1cXFwiXFxcIix0b2tlbml6ZXIuc2V0U3RhdGUoZG9jdHlwZV9wdWJsaWNfaWRlbnRpZmllcl9kb3VibGVfcXVvdGVkX3N0YXRlKSk6XFxcIidcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9jdXJyZW50VG9rZW4ucHVibGljSWQ9XFxcIlxcXCIsdG9rZW5pemVyLnNldFN0YXRlKGRvY3R5cGVfcHVibGljX2lkZW50aWZpZXJfc2luZ2xlX3F1b3RlZF9zdGF0ZSkpOlxcXCI+XFxcIj09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtb2YtZG9jdHlwZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmZvcmNlUXVpcmtzPSEwLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSx0b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKSk6KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1jaGFyLWluLWRvY3R5cGVcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5mb3JjZVF1aXJrcz0hMCx0b2tlbml6ZXIuc2V0U3RhdGUoYm9ndXNfZG9jdHlwZV9zdGF0ZSkpKSwhMH1mdW5jdGlvbiBkb2N0eXBlX3B1YmxpY19pZGVudGlmaWVyX2RvdWJsZV9xdW90ZWRfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1kb2N0eXBlXFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZm9yY2VRdWlya3M9ITAsYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSx0b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKSk6J1xcXCInPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoYWZ0ZXJfZG9jdHlwZV9wdWJsaWNfaWRlbnRpZmllcl9zdGF0ZSk6XFxcIj5cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC1vZi1kb2N0eXBlXFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZm9yY2VRdWlya3M9ITAsdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpKTp0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5wdWJsaWNJZCs9ZGF0YSwhMH1mdW5jdGlvbiBkb2N0eXBlX3B1YmxpY19pZGVudGlmaWVyX3NpbmdsZV9xdW90ZWRfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1kb2N0eXBlXFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZm9yY2VRdWlya3M9ITAsYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSx0b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKSk6XFxcIidcXFwiPT09ZGF0YT90b2tlbml6ZXIuc2V0U3RhdGUoYWZ0ZXJfZG9jdHlwZV9wdWJsaWNfaWRlbnRpZmllcl9zdGF0ZSk6XFxcIj5cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC1vZi1kb2N0eXBlXFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZm9yY2VRdWlya3M9ITAsdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpKTp0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5wdWJsaWNJZCs9ZGF0YSwhMH1mdW5jdGlvbiBhZnRlcl9kb2N0eXBlX3B1YmxpY19pZGVudGlmaWVyX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm4gZGF0YT09PUlucHV0U3RyZWFtLkVPRj8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJlb2YtaW4tZG9jdHlwZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmZvcmNlUXVpcmtzPSEwLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOmlzV2hpdGVzcGFjZShkYXRhKT90b2tlbml6ZXIuc2V0U3RhdGUoYmV0d2Vlbl9kb2N0eXBlX3B1YmxpY19hbmRfc3lzdGVtX2lkZW50aWZpZXJzX3N0YXRlKTpcXFwiPlxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSksdG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCkpOidcXFwiJz09PWRhdGE/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1jaGFyLWluLWRvY3R5cGVcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5zeXN0ZW1JZD1cXFwiXFxcIix0b2tlbml6ZXIuc2V0U3RhdGUoZG9jdHlwZV9zeXN0ZW1faWRlbnRpZmllcl9kb3VibGVfcXVvdGVkX3N0YXRlKSk6XFxcIidcXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWNoYXItaW4tZG9jdHlwZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLnN5c3RlbUlkPVxcXCJcXFwiLHRva2VuaXplci5zZXRTdGF0ZShkb2N0eXBlX3N5c3RlbV9pZGVudGlmaWVyX3NpbmdsZV9xdW90ZWRfc3RhdGUpKToodG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWNoYXItaW4tZG9jdHlwZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmZvcmNlUXVpcmtzPSEwLHRva2VuaXplci5zZXRTdGF0ZShib2d1c19kb2N0eXBlX3N0YXRlKSksITB9ZnVuY3Rpb24gYmV0d2Vlbl9kb2N0eXBlX3B1YmxpY19hbmRfc3lzdGVtX2lkZW50aWZpZXJzX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm4gZGF0YT09PUlucHV0U3RyZWFtLkVPRj8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJlb2YtaW4tZG9jdHlwZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmZvcmNlUXVpcmtzPSEwLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOmlzV2hpdGVzcGFjZShkYXRhKXx8KFxcXCI+XFxcIj09PWRhdGE/KHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6J1xcXCInPT09ZGF0YT8odG9rZW5pemVyLl9jdXJyZW50VG9rZW4uc3lzdGVtSWQ9XFxcIlxcXCIsdG9rZW5pemVyLnNldFN0YXRlKGRvY3R5cGVfc3lzdGVtX2lkZW50aWZpZXJfZG91YmxlX3F1b3RlZF9zdGF0ZSkpOlxcXCInXFxcIj09PWRhdGE/KHRva2VuaXplci5fY3VycmVudFRva2VuLnN5c3RlbUlkPVxcXCJcXFwiLHRva2VuaXplci5zZXRTdGF0ZShkb2N0eXBlX3N5c3RlbV9pZGVudGlmaWVyX3NpbmdsZV9xdW90ZWRfc3RhdGUpKToodG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWNoYXItaW4tZG9jdHlwZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmZvcmNlUXVpcmtzPSEwLHRva2VuaXplci5zZXRTdGF0ZShib2d1c19kb2N0eXBlX3N0YXRlKSkpLCEwfWZ1bmN0aW9uIGFmdGVyX2RvY3R5cGVfc3lzdGVtX2tleXdvcmRfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1kb2N0eXBlXFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZm9yY2VRdWlya3M9ITAsdG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6aXNXaGl0ZXNwYWNlKGRhdGEpP3Rva2VuaXplci5zZXRTdGF0ZShiZWZvcmVfZG9jdHlwZV9zeXN0ZW1faWRlbnRpZmllcl9zdGF0ZSk6XFxcIidcXFwiPT09ZGF0YXx8J1xcXCInPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWNoYXItaW4tZG9jdHlwZVxcXCIpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoYmVmb3JlX2RvY3R5cGVfc3lzdGVtX2lkZW50aWZpZXJfc3RhdGUpKTooYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShiZWZvcmVfZG9jdHlwZV9zeXN0ZW1faWRlbnRpZmllcl9zdGF0ZSkpLCEwfWZ1bmN0aW9uIGJlZm9yZV9kb2N0eXBlX3N5c3RlbV9pZGVudGlmaWVyX3N0YXRlKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLmNoYXIoKTtyZXR1cm4gZGF0YT09PUlucHV0U3RyZWFtLkVPRj8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJlb2YtaW4tZG9jdHlwZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmZvcmNlUXVpcmtzPSEwLHRva2VuaXplci5fZW1pdEN1cnJlbnRUb2tlbigpLGJ1ZmZlci51bmdldChkYXRhKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOmlzV2hpdGVzcGFjZShkYXRhKXx8KCdcXFwiJz09PWRhdGE/KHRva2VuaXplci5fY3VycmVudFRva2VuLnN5c3RlbUlkPVxcXCJcXFwiLHRva2VuaXplci5zZXRTdGF0ZShkb2N0eXBlX3N5c3RlbV9pZGVudGlmaWVyX2RvdWJsZV9xdW90ZWRfc3RhdGUpKTpcXFwiJ1xcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5zeXN0ZW1JZD1cXFwiXFxcIix0b2tlbml6ZXIuc2V0U3RhdGUoZG9jdHlwZV9zeXN0ZW1faWRlbnRpZmllcl9zaW5nbGVfcXVvdGVkX3N0YXRlKSk6XFxcIj5cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC1vZi1kb2N0eXBlXFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZm9yY2VRdWlya3M9ITAsdG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKToodG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWNoYXItaW4tZG9jdHlwZVxcXCIpLHRva2VuaXplci5fY3VycmVudFRva2VuLmZvcmNlUXVpcmtzPSEwLHRva2VuaXplci5zZXRTdGF0ZShib2d1c19kb2N0eXBlX3N0YXRlKSkpLCEwfWZ1bmN0aW9uIGRvY3R5cGVfc3lzdGVtX2lkZW50aWZpZXJfZG91YmxlX3F1b3RlZF9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWluLWRvY3R5cGVcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5mb3JjZVF1aXJrcz0hMCx0b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKTonXFxcIic9PT1kYXRhP3Rva2VuaXplci5zZXRTdGF0ZShhZnRlcl9kb2N0eXBlX3N5c3RlbV9pZGVudGlmaWVyX3N0YXRlKTpcXFwiPlxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLW9mLWRvY3R5cGVcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5mb3JjZVF1aXJrcz0hMCx0b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOnRva2VuaXplci5fY3VycmVudFRva2VuLnN5c3RlbUlkKz1kYXRhLCEwfWZ1bmN0aW9uIGRvY3R5cGVfc3lzdGVtX2lkZW50aWZpZXJfc2luZ2xlX3F1b3RlZF9zdGF0ZShidWZmZXIpe3ZhciBkYXRhPWJ1ZmZlci5jaGFyKCk7cmV0dXJuIGRhdGE9PT1JbnB1dFN0cmVhbS5FT0Y/KHRva2VuaXplci5fcGFyc2VFcnJvcihcXFwiZW9mLWluLWRvY3R5cGVcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5mb3JjZVF1aXJrcz0hMCx0b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKSxidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKTpcXFwiJ1xcXCI9PT1kYXRhP3Rva2VuaXplci5zZXRTdGF0ZShhZnRlcl9kb2N0eXBlX3N5c3RlbV9pZGVudGlmaWVyX3N0YXRlKTpcXFwiPlxcXCI9PT1kYXRhPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLW9mLWRvY3R5cGVcXFwiKSx0b2tlbml6ZXIuX2N1cnJlbnRUb2tlbi5mb3JjZVF1aXJrcz0hMCx0b2tlbml6ZXIuX2VtaXRDdXJyZW50VG9rZW4oKSx0b2tlbml6ZXIuc2V0U3RhdGUoZGF0YV9zdGF0ZSkpOnRva2VuaXplci5fY3VycmVudFRva2VuLnN5c3RlbUlkKz1kYXRhLCEwfWZ1bmN0aW9uIGFmdGVyX2RvY3R5cGVfc3lzdGVtX2lkZW50aWZpZXJfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyh0b2tlbml6ZXIuX3BhcnNlRXJyb3IoXFxcImVvZi1pbi1kb2N0eXBlXFxcIiksdG9rZW5pemVyLl9jdXJyZW50VG9rZW4uZm9yY2VRdWlya3M9ITAsdG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCksYnVmZmVyLnVuZ2V0KGRhdGEpLHRva2VuaXplci5zZXRTdGF0ZShkYXRhX3N0YXRlKSk6aXNXaGl0ZXNwYWNlKGRhdGEpfHwoXFxcIj5cXFwiPT09ZGF0YT8odG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKToodG9rZW5pemVyLl9wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWNoYXItaW4tZG9jdHlwZVxcXCIpLHRva2VuaXplci5zZXRTdGF0ZShib2d1c19kb2N0eXBlX3N0YXRlKSkpLCEwfWZ1bmN0aW9uIGJvZ3VzX2RvY3R5cGVfc3RhdGUoYnVmZmVyKXt2YXIgZGF0YT1idWZmZXIuY2hhcigpO3JldHVybiBkYXRhPT09SW5wdXRTdHJlYW0uRU9GPyhidWZmZXIudW5nZXQoZGF0YSksdG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKTpcXFwiPlxcXCI9PT1kYXRhJiYodG9rZW5pemVyLl9lbWl0Q3VycmVudFRva2VuKCksdG9rZW5pemVyLnNldFN0YXRlKGRhdGFfc3RhdGUpKSwhMH1Ub2tlbml6ZXIuREFUQT1kYXRhX3N0YXRlLFRva2VuaXplci5SQ0RBVEE9cmNkYXRhX3N0YXRlLFRva2VuaXplci5SQVdURVhUPXJhd3RleHRfc3RhdGUsVG9rZW5pemVyLlNDUklQVF9EQVRBPXNjcmlwdF9kYXRhX3N0YXRlLFRva2VuaXplci5QTEFJTlRFWFQ9cGxhaW50ZXh0X3N0YXRlLHRoaXMuX3N0YXRlPVRva2VuaXplci5EQVRBLHRoaXMuX2lucHV0U3RyZWFtLmFwcGVuZChzb3VyY2UpLHRoaXMuX3Rva2VuSGFuZGxlci5zdGFydFRva2VuaXphdGlvbih0aGlzKSx0aGlzLl9pbnB1dFN0cmVhbS5lb2Y9ITA7Zm9yKHZhciB0b2tlbml6ZXI9dGhpczt0aGlzLl9zdGF0ZS5jYWxsKHRoaXMsdGhpcy5faW5wdXRTdHJlYW0pOyk7fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9rZW5pemVyLnByb3RvdHlwZSxcXFwibGluZU51bWJlclxcXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dFN0cmVhbS5sb2NhdGlvbigpLmxpbmV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFRva2VuaXplci5wcm90b3R5cGUsXFxcImNvbHVtbk51bWJlclxcXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dFN0cmVhbS5sb2NhdGlvbigpLmNvbHVtbn19KSxleHBvcnRzLlRva2VuaXplcj1Ub2tlbml6ZXJ9LHtcXFwiLi9FbnRpdHlQYXJzZXJcXFwiOjIsXFxcIi4vSW5wdXRTdHJlYW1cXFwiOjN9XSw2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBpc1doaXRlc3BhY2UoY2gpe3JldHVyblxcXCIgXFxcIj09PWNofHxcXFwiXFxcXG5cXFwiPT09Y2h8fFxcXCJcXHRcXFwiPT09Y2h8fFxcXCJcXFxcclxcXCI9PT1jaHx8XFxcIlxcXFxmXFxcIj09PWNofWZ1bmN0aW9uIGlzV2hpdGVzcGFjZU9yUmVwbGFjZW1lbnRDaGFyYWN0ZXIoY2gpe3JldHVybiBpc1doaXRlc3BhY2UoY2gpfHxcXFwi77+9XFxcIj09PWNofWZ1bmN0aW9uIGlzQWxsV2hpdGVzcGFjZShjaGFyYWN0ZXJzKXtmb3IodmFyIGk9MDtjaGFyYWN0ZXJzLmxlbmd0aD5pO2krKyl7dmFyIGNoPWNoYXJhY3RlcnNbaV07aWYoIWlzV2hpdGVzcGFjZShjaCkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gaXNBbGxXaGl0ZXNwYWNlT3JSZXBsYWNlbWVudENoYXJhY3RlcnMoY2hhcmFjdGVycyl7Zm9yKHZhciBpPTA7Y2hhcmFjdGVycy5sZW5ndGg+aTtpKyspe3ZhciBjaD1jaGFyYWN0ZXJzW2ldO2lmKCFpc1doaXRlc3BhY2VPclJlcGxhY2VtZW50Q2hhcmFjdGVyKGNoKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBnZXRBdHRyaWJ1dGUobm9kZSxuYW1lKXtmb3IodmFyIGk9MDtub2RlLmF0dHJpYnV0ZXMubGVuZ3RoPmk7aSsrKXt2YXIgYXR0cmlidXRlPW5vZGUuYXR0cmlidXRlc1tpXTtpZihhdHRyaWJ1dGUubm9kZU5hbWU9PT1uYW1lKXJldHVybiBhdHRyaWJ1dGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQ2hhcmFjdGVyQnVmZmVyKGNoYXJhY3RlcnMpe3RoaXMuY2hhcmFjdGVycz1jaGFyYWN0ZXJzLHRoaXMuY3VycmVudD0wLHRoaXMuZW5kPXRoaXMuY2hhcmFjdGVycy5sZW5ndGh9ZnVuY3Rpb24gVHJlZUJ1aWxkZXIoKXt0aGlzLnRva2VuaXplcj1udWxsLHRoaXMuZXJyb3JIYW5kbGVyPW51bGwsdGhpcy5zY3JpcHRpbmdFbmFibGVkPSExLHRoaXMuZG9jdW1lbnQ9bnVsbCx0aGlzLmhlYWQ9bnVsbCx0aGlzLmZvcm09bnVsbCx0aGlzLm9wZW5FbGVtZW50cz1uZXcgRWxlbWVudFN0YWNrLHRoaXMuYWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzPVtdLHRoaXMuaW5zZXJ0aW9uTW9kZT1udWxsLHRoaXMuaW5zZXJ0aW9uTW9kZU5hbWU9XFxcIlxcXCIsdGhpcy5vcmlnaW5hbEluc2VydGlvbk1vZGU9XFxcIlxcXCIsdGhpcy5pblF1aXJrc01vZGU9ITEsdGhpcy5jb21wYXRNb2RlPVxcXCJubyBxdWlya3NcXFwiLHRoaXMuZnJhbWVzZXRPaz0hMCx0aGlzLnJlZGlyZWN0QXR0YWNoVG9Gb3N0ZXJQYXJlbnQ9ITEsdGhpcy5zZWxmQ2xvc2luZ0ZsYWdBY2tub3dsZWRnZWQ9ITEsdGhpcy5jb250ZXh0PVxcXCJcXFwiLHRoaXMucGVuZGluZ1RhYmxlQ2hhcmFjdGVycz1bXSx0aGlzLnNob3VsZFNraXBMZWFkaW5nTmV3bGluZT0hMTt2YXIgdHJlZT10aGlzLG1vZGVzPXRoaXMuaW5zZXJ0aW9uTW9kZXM9e307bW9kZXMuYmFzZT17ZW5kX3RhZ19oYW5kbGVyczp7XFxcIi1kZWZhdWx0XFxcIjpcXFwiZW5kVGFnT3RoZXJcXFwifSxzdGFydF90YWdfaGFuZGxlcnM6e1xcXCItZGVmYXVsdFxcXCI6XFxcInN0YXJ0VGFnT3RoZXJcXFwifSxwcm9jZXNzRU9GOmZ1bmN0aW9uKCl7dHJlZS5nZW5lcmF0ZUltcGxpZWRFbmRUYWdzKCksdHJlZS5vcGVuRWxlbWVudHMubGVuZ3RoPjI/dHJlZS5wYXJzZUVycm9yKFxcXCJleHBlY3RlZC1jbG9zaW5nLXRhZy1idXQtZ290LWVvZlxcXCIpOjI9PXRyZWUub3BlbkVsZW1lbnRzLmxlbmd0aCYmXFxcImJvZHlcXFwiIT10cmVlLm9wZW5FbGVtZW50cy5pdGVtKDEpLmxvY2FsTmFtZT90cmVlLnBhcnNlRXJyb3IoXFxcImV4cGVjdGVkLWNsb3NpbmctdGFnLWJ1dC1nb3QtZW9mXFxcIik6dHJlZS5jb250ZXh0JiZ0cmVlLm9wZW5FbGVtZW50cy5sZW5ndGg+MX0scHJvY2Vzc0NvbW1lbnQ6ZnVuY3Rpb24oZGF0YSl7dHJlZS5pbnNlcnRDb21tZW50KGRhdGEsdHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubm9kZSl9LHByb2Nlc3NEb2N0eXBlOmZ1bmN0aW9uKCl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWRvY3R5cGVcXFwiKX0scHJvY2Vzc1N0YXJ0VGFnOmZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyl7aWYodGhpc1t0aGlzLnN0YXJ0X3RhZ19oYW5kbGVyc1tuYW1lXV0pdGhpc1t0aGlzLnN0YXJ0X3RhZ19oYW5kbGVyc1tuYW1lXV0obmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKTtlbHNle2lmKCF0aGlzW3RoaXMuc3RhcnRfdGFnX2hhbmRsZXJzW1xcXCItZGVmYXVsdFxcXCJdXSl0aHJvdyBFcnJvcihcXFwiTm8gaGFuZGxlciBmb3VuZCBmb3IgXFxcIituYW1lKTt0aGlzW3RoaXMuc3RhcnRfdGFnX2hhbmRsZXJzW1xcXCItZGVmYXVsdFxcXCJdXShuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3NpbmcpfX0scHJvY2Vzc0VuZFRhZzpmdW5jdGlvbihuYW1lKXtpZih0aGlzW3RoaXMuZW5kX3RhZ19oYW5kbGVyc1tuYW1lXV0pdGhpc1t0aGlzLmVuZF90YWdfaGFuZGxlcnNbbmFtZV1dKG5hbWUpO2Vsc2V7aWYoIXRoaXNbdGhpcy5lbmRfdGFnX2hhbmRsZXJzW1xcXCItZGVmYXVsdFxcXCJdXSl0aHJvdyBFcnJvcihcXFwiTm8gaGFuZGxlciBmb3VuZCBmb3IgXFxcIituYW1lKTt0aGlzW3RoaXMuZW5kX3RhZ19oYW5kbGVyc1tcXFwiLWRlZmF1bHRcXFwiXV0obmFtZSl9fSxzdGFydFRhZ0h0bWw6ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXttb2Rlcy5pbkJvZHkuc3RhcnRUYWdIdG1sKG5hbWUsYXR0cmlidXRlcyl9fSxtb2Rlcy5pbml0aWFsPU9iamVjdC5jcmVhdGUobW9kZXMuYmFzZSksbW9kZXMuaW5pdGlhbC5wcm9jZXNzRU9GPWZ1bmN0aW9uKCl7dHJlZS5wYXJzZUVycm9yKFxcXCJleHBlY3RlZC1kb2N0eXBlLWJ1dC1nb3QtZW9mXFxcIiksdGhpcy5hbnl0aGluZ0Vsc2UoKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VPRigpfSxtb2Rlcy5pbml0aWFsLnByb2Nlc3NDb21tZW50PWZ1bmN0aW9uKGRhdGEpe3RyZWUuaW5zZXJ0Q29tbWVudChkYXRhLHRyZWUuZG9jdW1lbnQpfSxtb2Rlcy5pbml0aWFsLnByb2Nlc3NEb2N0eXBlPWZ1bmN0aW9uKG5hbWUscHVibGljSWQsc3lzdGVtSWQsZm9yY2VRdWlya3Mpe2Z1bmN0aW9uIHB1YmxpY0lkU3RhcnRzV2l0aChzdHJpbmcpe3JldHVybiAwPT09cHVibGljSWQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0cmluZyl9dHJlZS5pbnNlcnREb2N0eXBlKG5hbWV8fFxcXCJcXFwiLHB1YmxpY0lkfHxcXFwiXFxcIixzeXN0ZW1JZHx8XFxcIlxcXCIpLGZvcmNlUXVpcmtzfHxcXFwiaHRtbFxcXCIhPW5hbWV8fG51bGwhPXB1YmxpY0lkJiYoW1xcXCIrLy9zaWxtYXJpbC8vZHRkIGh0bWwgcHJvIHYwcjExIDE5OTcwMTAxLy9cXFwiLFxcXCItLy9hZHZhc29mdCBsdGQvL2R0ZCBodG1sIDMuMCBhc3dlZGl0ICsgZXh0ZW5zaW9ucy8vXFxcIixcXFwiLS8vYXMvL2R0ZCBodG1sIDMuMCBhc3dlZGl0ICsgZXh0ZW5zaW9ucy8vXFxcIixcXFwiLS8vaWV0Zi8vZHRkIGh0bWwgMi4wIGxldmVsIDEvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIDIuMCBsZXZlbCAyLy9cXFwiLFxcXCItLy9pZXRmLy9kdGQgaHRtbCAyLjAgc3RyaWN0IGxldmVsIDEvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIDIuMCBzdHJpY3QgbGV2ZWwgMi8vXFxcIixcXFwiLS8vaWV0Zi8vZHRkIGh0bWwgMi4wIHN0cmljdC8vXFxcIixcXFwiLS8vaWV0Zi8vZHRkIGh0bWwgMi4wLy9cXFwiLFxcXCItLy9pZXRmLy9kdGQgaHRtbCAyLjFlLy9cXFwiLFxcXCItLy9pZXRmLy9kdGQgaHRtbCAzLjAvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIDMuMC8vXFxcIixcXFwiLS8vaWV0Zi8vZHRkIGh0bWwgMy4yIGZpbmFsLy9cXFwiLFxcXCItLy9pZXRmLy9kdGQgaHRtbCAzLjIvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIDMvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIGxldmVsIDAvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIGxldmVsIDAvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIGxldmVsIDEvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIGxldmVsIDEvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIGxldmVsIDIvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIGxldmVsIDIvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIGxldmVsIDMvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIGxldmVsIDMvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIHN0cmljdCBsZXZlbCAwLy9cXFwiLFxcXCItLy9pZXRmLy9kdGQgaHRtbCBzdHJpY3QgbGV2ZWwgMC8vXFxcIixcXFwiLS8vaWV0Zi8vZHRkIGh0bWwgc3RyaWN0IGxldmVsIDEvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIHN0cmljdCBsZXZlbCAxLy9cXFwiLFxcXCItLy9pZXRmLy9kdGQgaHRtbCBzdHJpY3QgbGV2ZWwgMi8vXFxcIixcXFwiLS8vaWV0Zi8vZHRkIGh0bWwgc3RyaWN0IGxldmVsIDIvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIHN0cmljdCBsZXZlbCAzLy9cXFwiLFxcXCItLy9pZXRmLy9kdGQgaHRtbCBzdHJpY3QgbGV2ZWwgMy8vXFxcIixcXFwiLS8vaWV0Zi8vZHRkIGh0bWwgc3RyaWN0Ly9cXFwiLFxcXCItLy9pZXRmLy9kdGQgaHRtbCBzdHJpY3QvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sIHN0cmljdC8vXFxcIixcXFwiLS8vaWV0Zi8vZHRkIGh0bWwvL1xcXCIsXFxcIi0vL2lldGYvL2R0ZCBodG1sLy9cXFwiLFxcXCItLy9pZXRmLy9kdGQgaHRtbC8vXFxcIixcXFwiLS8vbWV0cml1cy8vZHRkIG1ldHJpdXMgcHJlc2VudGF0aW9uYWwvL1xcXCIsXFxcIi0vL21pY3Jvc29mdC8vZHRkIGludGVybmV0IGV4cGxvcmVyIDIuMCBodG1sIHN0cmljdC8vXFxcIixcXFwiLS8vbWljcm9zb2Z0Ly9kdGQgaW50ZXJuZXQgZXhwbG9yZXIgMi4wIGh0bWwvL1xcXCIsXFxcIi0vL21pY3Jvc29mdC8vZHRkIGludGVybmV0IGV4cGxvcmVyIDIuMCB0YWJsZXMvL1xcXCIsXFxcIi0vL21pY3Jvc29mdC8vZHRkIGludGVybmV0IGV4cGxvcmVyIDMuMCBodG1sIHN0cmljdC8vXFxcIixcXFwiLS8vbWljcm9zb2Z0Ly9kdGQgaW50ZXJuZXQgZXhwbG9yZXIgMy4wIGh0bWwvL1xcXCIsXFxcIi0vL21pY3Jvc29mdC8vZHRkIGludGVybmV0IGV4cGxvcmVyIDMuMCB0YWJsZXMvL1xcXCIsXFxcIi0vL25ldHNjYXBlIGNvbW0uIGNvcnAuLy9kdGQgaHRtbC8vXFxcIixcXFwiLS8vbmV0c2NhcGUgY29tbS4gY29ycC4vL2R0ZCBzdHJpY3QgaHRtbC8vXFxcIixcXFwiLS8vbydyZWlsbHkgYW5kIGFzc29jaWF0ZXMvL2R0ZCBodG1sIDIuMC8vXFxcIixcXFwiLS8vbydyZWlsbHkgYW5kIGFzc29jaWF0ZXMvL2R0ZCBodG1sIGV4dGVuZGVkIDEuMC8vXFxcIixcXFwiLS8vc3B5Z2xhc3MvL2R0ZCBodG1sIDIuMCBleHRlbmRlZC8vXFxcIixcXFwiLS8vc3EvL2R0ZCBodG1sIDIuMCBob3RtZXRhbCArIGV4dGVuc2lvbnMvL1xcXCIsXFxcIi0vL3N1biBtaWNyb3N5c3RlbXMgY29ycC4vL2R0ZCBob3RqYXZhIGh0bWwvL1xcXCIsXFxcIi0vL3N1biBtaWNyb3N5c3RlbXMgY29ycC4vL2R0ZCBob3RqYXZhIHN0cmljdCBodG1sLy9cXFwiLFxcXCItLy93M2MvL2R0ZCBodG1sIDMgMTk5NS0wMy0yNC8vXFxcIixcXFwiLS8vdzNjLy9kdGQgaHRtbCAzLjIgZHJhZnQvL1xcXCIsXFxcIi0vL3czYy8vZHRkIGh0bWwgMy4yIGZpbmFsLy9cXFwiLFxcXCItLy93M2MvL2R0ZCBodG1sIDMuMi8vXFxcIixcXFwiLS8vdzNjLy9kdGQgaHRtbCAzLjJzIGRyYWZ0Ly9cXFwiLFxcXCItLy93M2MvL2R0ZCBodG1sIDQuMCBmcmFtZXNldC8vXFxcIixcXFwiLS8vdzNjLy9kdGQgaHRtbCA0LjAgdHJhbnNpdGlvbmFsLy9cXFwiLFxcXCItLy93M2MvL2R0ZCBodG1sIGV4cGVyaW1lbnRhbCAxOTk2MDcxMi8vXFxcIixcXFwiLS8vdzNjLy9kdGQgaHRtbCBleHBlcmltZW50YWwgOTcwNDIxLy9cXFwiLFxcXCItLy93M2MvL2R0ZCB3MyBodG1sLy9cXFwiLFxcXCItLy93M28vL2R0ZCB3MyBodG1sIDMuMC8vXFxcIixcXFwiLS8vd2VidGVjaHMvL2R0ZCBtb3ppbGxhIGh0bWwgMi4wLy9cXFwiLFxcXCItLy93ZWJ0ZWNocy8vZHRkIG1vemlsbGEgaHRtbC8vXFxcIixcXFwiaHRtbFxcXCJdLnNvbWUocHVibGljSWRTdGFydHNXaXRoKXx8W1xcXCItLy93M28vL2R0ZCB3MyBodG1sIHN0cmljdCAzLjAvL2VuLy9cXFwiLFxcXCItL3czYy9kdGQgaHRtbCA0LjAgdHJhbnNpdGlvbmFsL2VuXFxcIixcXFwiaHRtbFxcXCJdLmluZGV4T2YocHVibGljSWQudG9Mb3dlckNhc2UoKSk+LTF8fG51bGw9PXN5c3RlbUlkJiZbXFxcIi0vL3czYy8vZHRkIGh0bWwgNC4wMSB0cmFuc2l0aW9uYWwvL1xcXCIsXFxcIi0vL3czYy8vZHRkIGh0bWwgNC4wMSBmcmFtZXNldC8vXFxcIl0uc29tZShwdWJsaWNJZFN0YXJ0c1dpdGgpKXx8bnVsbCE9c3lzdGVtSWQmJlxcXCJodHRwOi8vd3d3LmlibS5jb20vZGF0YS9kdGQvdjExL2libXhodG1sMS10cmFuc2l0aW9uYWwuZHRkXFxcIj09c3lzdGVtSWQudG9Mb3dlckNhc2UoKT8odHJlZS5jb21wYXRNb2RlPVxcXCJxdWlya3NcXFwiLHRyZWUucGFyc2VFcnJvcihcXFwicXVpcmt5LWRvY3R5cGVcXFwiKSk6bnVsbCE9cHVibGljSWQmJihbXFxcIi0vL3czYy8vZHRkIHhodG1sIDEuMCB0cmFuc2l0aW9uYWwvL1xcXCIsXFxcIi0vL3czYy8vZHRkIHhodG1sIDEuMCBmcmFtZXNldC8vXFxcIl0uc29tZShwdWJsaWNJZFN0YXJ0c1dpdGgpfHxudWxsIT1zeXN0ZW1JZCYmW1xcXCItLy93M2MvL2R0ZCBodG1sIDQuMDEgdHJhbnNpdGlvbmFsLy9cXFwiLFxcXCItLy93M2MvL2R0ZCBodG1sIDQuMDEgZnJhbWVzZXQvL1xcXCJdLmluZGV4T2YocHVibGljSWQudG9Mb3dlckNhc2UoKSk+LTEpPyh0cmVlLmNvbXBhdE1vZGU9XFxcImxpbWl0ZWQgcXVpcmtzXFxcIix0cmVlLnBhcnNlRXJyb3IoXFxcImFsbW9zdC1zdGFuZGFyZHMtZG9jdHlwZVxcXCIpKTpcXFwiLS8vVzNDLy9EVEQgSFRNTCA0LjAvL0VOXFxcIj09cHVibGljSWQmJihudWxsPT1zeXN0ZW1JZHx8XFxcImh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvc3RyaWN0LmR0ZFxcXCI9PXN5c3RlbUlkKXx8XFxcIi0vL1czQy8vRFREIEhUTUwgNC4wMS8vRU5cXFwiPT1wdWJsaWNJZCYmKG51bGw9PXN5c3RlbUlkfHxcXFwiaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDQvc3RyaWN0LmR0ZFxcXCI9PXN5c3RlbUlkKXx8XFxcIi0vL1czQy8vRFREIFhIVE1MIDEuMCBTdHJpY3QvL0VOXFxcIj09cHVibGljSWQmJlxcXCJodHRwOi8vd3d3LnczLm9yZy9UUi94aHRtbDEvRFREL3hodG1sMS1zdHJpY3QuZHRkXFxcIj09c3lzdGVtSWR8fFxcXCItLy9XM0MvL0RURCBYSFRNTCAxLjEvL0VOXFxcIj09cHVibGljSWQmJlxcXCJodHRwOi8vd3d3LnczLm9yZy9UUi94aHRtbDExL0RURC94aHRtbDExLmR0ZFxcXCI9PXN5c3RlbUlkfHwobnVsbCE9c3lzdGVtSWQmJlxcXCJhYm91dDpsZWdhY3ktY29tcGF0XFxcIiE9c3lzdGVtSWR8fG51bGwhPXB1YmxpY0lkKSYmdHJlZS5wYXJzZUVycm9yKFxcXCJ1bmtub3duLWRvY3R5cGVcXFwiKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImJlZm9yZUhUTUxcXFwiKX0sbW9kZXMuaW5pdGlhbC5wcm9jZXNzQ2hhcmFjdGVycz1mdW5jdGlvbihidWZmZXIpe2J1ZmZlci5za2lwTGVhZGluZ1doaXRlc3BhY2UoKSxidWZmZXIubGVuZ3RoJiYodHJlZS5wYXJzZUVycm9yKFxcXCJleHBlY3RlZC1kb2N0eXBlLWJ1dC1nb3QtY2hhcnNcXFwiKSx0aGlzLmFueXRoaW5nRWxzZSgpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzQ2hhcmFjdGVycyhidWZmZXIpKX0sbW9kZXMuaW5pdGlhbC5wcm9jZXNzU3RhcnRUYWc9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKXt0cmVlLnBhcnNlRXJyb3IoXFxcImV4cGVjdGVkLWRvY3R5cGUtYnV0LWdvdC1zdGFydC10YWdcXFwiLHtuYW1lOm5hbWV9KSx0aGlzLmFueXRoaW5nRWxzZSgpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKX0sbW9kZXMuaW5pdGlhbC5wcm9jZXNzRW5kVGFnPWZ1bmN0aW9uKG5hbWUpe3RyZWUucGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtZG9jdHlwZS1idXQtZ290LWVuZC10YWdcXFwiLHtuYW1lOm5hbWV9KSx0aGlzLmFueXRoaW5nRWxzZSgpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzRW5kVGFnKG5hbWUpfSxtb2Rlcy5pbml0aWFsLmFueXRoaW5nRWxzZT1mdW5jdGlvbigpe3RyZWUuY29tcGF0TW9kZT1cXFwicXVpcmtzXFxcIix0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImJlZm9yZUhUTUxcXFwiKX0sbW9kZXMuYmVmb3JlSFRNTD1PYmplY3QuY3JlYXRlKG1vZGVzLmJhc2UpLG1vZGVzLmJlZm9yZUhUTUwuc3RhcnRfdGFnX2hhbmRsZXJzPXtodG1sOlxcXCJzdGFydFRhZ0h0bWxcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcInN0YXJ0VGFnT3RoZXJcXFwifSxtb2Rlcy5iZWZvcmVIVE1MLnByb2Nlc3NFT0Y9ZnVuY3Rpb24oKXt0aGlzLmFueXRoaW5nRWxzZSgpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzRU9GKCl9LG1vZGVzLmJlZm9yZUhUTUwucHJvY2Vzc0NvbW1lbnQ9ZnVuY3Rpb24oZGF0YSl7dHJlZS5pbnNlcnRDb21tZW50KGRhdGEsdHJlZS5kb2N1bWVudCl9LG1vZGVzLmJlZm9yZUhUTUwucHJvY2Vzc0NoYXJhY3RlcnM9ZnVuY3Rpb24oYnVmZmVyKXtidWZmZXIuc2tpcExlYWRpbmdXaGl0ZXNwYWNlKCksYnVmZmVyLmxlbmd0aCYmKHRoaXMuYW55dGhpbmdFbHNlKCksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NDaGFyYWN0ZXJzKGJ1ZmZlcikpfSxtb2Rlcy5iZWZvcmVIVE1MLnN0YXJ0VGFnSHRtbD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUuaW5zZXJ0SHRtbEVsZW1lbnQoYXR0cmlidXRlcyksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJiZWZvcmVIZWFkXFxcIil9LG1vZGVzLmJlZm9yZUhUTUwuc3RhcnRUYWdPdGhlcj1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3Npbmcpe3RoaXMuYW55dGhpbmdFbHNlKCksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3NpbmcpfSxtb2Rlcy5iZWZvcmVIVE1MLnByb2Nlc3NFbmRUYWc9ZnVuY3Rpb24obmFtZSl7dGhpcy5hbnl0aGluZ0Vsc2UoKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VuZFRhZyhuYW1lKX0sbW9kZXMuYmVmb3JlSFRNTC5hbnl0aGluZ0Vsc2U9ZnVuY3Rpb24oKXt0cmVlLmluc2VydEh0bWxFbGVtZW50KCksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJiZWZvcmVIZWFkXFxcIil9LG1vZGVzLmFmdGVyQWZ0ZXJCb2R5PU9iamVjdC5jcmVhdGUobW9kZXMuYmFzZSksbW9kZXMuYWZ0ZXJBZnRlckJvZHkuc3RhcnRfdGFnX2hhbmRsZXJzPXtodG1sOlxcXCJzdGFydFRhZ0h0bWxcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcInN0YXJ0VGFnT3RoZXJcXFwifSxtb2Rlcy5hZnRlckFmdGVyQm9keS5wcm9jZXNzQ29tbWVudD1mdW5jdGlvbihkYXRhKXt0cmVlLmluc2VydENvbW1lbnQoZGF0YSx0cmVlLmRvY3VtZW50KX0sbW9kZXMuYWZ0ZXJBZnRlckJvZHkucHJvY2Vzc0RvY3R5cGU9ZnVuY3Rpb24oZGF0YSl7bW9kZXMuaW5Cb2R5LnByb2Nlc3NEb2N0eXBlKGRhdGEpfSxtb2Rlcy5hZnRlckFmdGVyQm9keS5zdGFydFRhZ0h0bWw9ZnVuY3Rpb24oZGF0YSxhdHRyaWJ1dGVzKXttb2Rlcy5pbkJvZHkuc3RhcnRUYWdIdG1sKGRhdGEsYXR0cmlidXRlcyl9LG1vZGVzLmFmdGVyQWZ0ZXJCb2R5LnN0YXJ0VGFnT3RoZXI9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnXFxcIix7bmFtZTpuYW1lfSksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpbkJvZHlcXFwiKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyl9LG1vZGVzLmFmdGVyQWZ0ZXJCb2R5LmVuZFRhZ090aGVyPWZ1bmN0aW9uKG5hbWUpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpbkJvZHlcXFwiKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VuZFRhZyhuYW1lKX0sbW9kZXMuYWZ0ZXJBZnRlckJvZHkucHJvY2Vzc0NoYXJhY3RlcnM9ZnVuY3Rpb24oZGF0YSl7cmV0dXJuIGlzQWxsV2hpdGVzcGFjZShkYXRhLmNoYXJhY3RlcnMpPyhtb2Rlcy5pbkJvZHkucHJvY2Vzc0NoYXJhY3RlcnMoZGF0YSksdm9pZCAwKToodHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWNoYXItYWZ0ZXItYm9keVxcXCIpLHRyZWUuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5Cb2R5XFxcIiksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NDaGFyYWN0ZXJzKGRhdGEpKX0sbW9kZXMuYWZ0ZXJCb2R5PU9iamVjdC5jcmVhdGUobW9kZXMuYmFzZSksbW9kZXMuYWZ0ZXJCb2R5LmVuZF90YWdfaGFuZGxlcnM9e2h0bWw6XFxcImVuZFRhZ0h0bWxcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcImVuZFRhZ090aGVyXFxcIn0sbW9kZXMuYWZ0ZXJCb2R5LnByb2Nlc3NDb21tZW50PWZ1bmN0aW9uKGRhdGEpe3RyZWUuaW5zZXJ0Q29tbWVudChkYXRhLHRyZWUub3BlbkVsZW1lbnRzLnJvb3ROb2RlKX0sbW9kZXMuYWZ0ZXJCb2R5LnByb2Nlc3NDaGFyYWN0ZXJzPWZ1bmN0aW9uKGRhdGEpe3JldHVybiBpc0FsbFdoaXRlc3BhY2UoZGF0YS5jaGFyYWN0ZXJzKT8obW9kZXMuaW5Cb2R5LnByb2Nlc3NDaGFyYWN0ZXJzKGRhdGEpLHZvaWQgMCk6KHRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1jaGFyLWFmdGVyLWJvZHlcXFwiKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluQm9keVxcXCIpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzQ2hhcmFjdGVycyhkYXRhKSl9LG1vZGVzLmFmdGVyQm9keS5wcm9jZXNzU3RhcnRUYWc9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnLWFmdGVyLWJvZHlcXFwiLHtuYW1lOm5hbWV9KSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluQm9keVxcXCIpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKX0sbW9kZXMuYWZ0ZXJCb2R5LmVuZFRhZ0h0bWw9ZnVuY3Rpb24oKXt0cmVlLmNvbnRleHQ/dHJlZS5wYXJzZUVycm9yKFxcXCJlbmQtaHRtbC1pbi1pbm5lcmh0bWxcXFwiKTp0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImFmdGVyQWZ0ZXJCb2R5XFxcIil9LG1vZGVzLmFmdGVyQm9keS5lbmRUYWdPdGhlcj1mdW5jdGlvbihuYW1lKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZy1hZnRlci1ib2R5XFxcIix7bmFtZTpuYW1lfSksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpbkJvZHlcXFwiKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VuZFRhZyhuYW1lKX0sbW9kZXMuYWZ0ZXJGcmFtZXNldD1PYmplY3QuY3JlYXRlKG1vZGVzLmJhc2UpLG1vZGVzLmFmdGVyRnJhbWVzZXQuc3RhcnRfdGFnX2hhbmRsZXJzPXtodG1sOlxcXCJzdGFydFRhZ0h0bWxcXFwiLG5vZnJhbWVzOlxcXCJzdGFydFRhZ05vZnJhbWVzXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJzdGFydFRhZ090aGVyXFxcIn0sbW9kZXMuYWZ0ZXJGcmFtZXNldC5lbmRfdGFnX2hhbmRsZXJzPXtodG1sOlxcXCJlbmRUYWdIdG1sXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJlbmRUYWdPdGhlclxcXCJ9LG1vZGVzLmFmdGVyRnJhbWVzZXQucHJvY2Vzc0NoYXJhY3RlcnM9ZnVuY3Rpb24oYnVmZmVyKXtmb3IodmFyIGNoYXJhY3RlcnM9YnVmZmVyLnRha2VSZW1haW5pbmcoKSx3aGl0ZXNwYWNlPVxcXCJcXFwiLGk9MDtjaGFyYWN0ZXJzLmxlbmd0aD5pO2krKyl7dmFyIGNoPWNoYXJhY3RlcnNbaV07aXNXaGl0ZXNwYWNlKGNoKSYmKHdoaXRlc3BhY2UrPWNoKX13aGl0ZXNwYWNlJiZ0cmVlLmluc2VydFRleHQod2hpdGVzcGFjZSksd2hpdGVzcGFjZS5sZW5ndGg8Y2hhcmFjdGVycy5sZW5ndGgmJnRyZWUucGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtZW9mLWJ1dC1nb3QtY2hhclxcXCIpfSxtb2Rlcy5hZnRlckZyYW1lc2V0LnN0YXJ0VGFnTm9mcmFtZXM9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXttb2Rlcy5pbkhlYWQucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmFmdGVyRnJhbWVzZXQuc3RhcnRUYWdPdGhlcj1mdW5jdGlvbihuYW1lKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnLWFmdGVyLWZyYW1lc2V0XFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmFmdGVyRnJhbWVzZXQuZW5kVGFnSHRtbD1mdW5jdGlvbigpe3RyZWUuc2V0SW5zZXJ0aW9uTW9kZShcXFwiYWZ0ZXJBZnRlckZyYW1lc2V0XFxcIil9LG1vZGVzLmFmdGVyRnJhbWVzZXQuZW5kVGFnT3RoZXI9ZnVuY3Rpb24obmFtZSl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWctYWZ0ZXItZnJhbWVzZXRcXFwiLHtuYW1lOm5hbWV9KX0sbW9kZXMuYmVmb3JlSGVhZD1PYmplY3QuY3JlYXRlKG1vZGVzLmJhc2UpLG1vZGVzLmJlZm9yZUhlYWQuc3RhcnRfdGFnX2hhbmRsZXJzPXtodG1sOlxcXCJzdGFydFRhZ0h0bWxcXFwiLGhlYWQ6XFxcInN0YXJ0VGFnSGVhZFxcXCIsXFxcIi1kZWZhdWx0XFxcIjpcXFwic3RhcnRUYWdPdGhlclxcXCJ9LG1vZGVzLmJlZm9yZUhlYWQuZW5kX3RhZ19oYW5kbGVycz17aHRtbDpcXFwiZW5kVGFnSW1wbHlIZWFkXFxcIixoZWFkOlxcXCJlbmRUYWdJbXBseUhlYWRcXFwiLGJvZHk6XFxcImVuZFRhZ0ltcGx5SGVhZFxcXCIsYnI6XFxcImVuZFRhZ0ltcGx5SGVhZFxcXCIsXFxcIi1kZWZhdWx0XFxcIjpcXFwiZW5kVGFnT3RoZXJcXFwifSxtb2Rlcy5iZWZvcmVIZWFkLnByb2Nlc3NFT0Y9ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0VGFnSGVhZChcXFwiaGVhZFxcXCIsW10pLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzRU9GKCl9LG1vZGVzLmJlZm9yZUhlYWQucHJvY2Vzc0NoYXJhY3RlcnM9ZnVuY3Rpb24oYnVmZmVyKXtidWZmZXIuc2tpcExlYWRpbmdXaGl0ZXNwYWNlKCksYnVmZmVyLmxlbmd0aCYmKHRoaXMuc3RhcnRUYWdIZWFkKFxcXCJoZWFkXFxcIixbXSksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NDaGFyYWN0ZXJzKGJ1ZmZlcikpfSxtb2Rlcy5iZWZvcmVIZWFkLnN0YXJ0VGFnSGVhZD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUuaW5zZXJ0SGVhZEVsZW1lbnQoYXR0cmlidXRlcyksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpbkhlYWRcXFwiKX0sbW9kZXMuYmVmb3JlSGVhZC5zdGFydFRhZ090aGVyPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyl7dGhpcy5zdGFydFRhZ0hlYWQoXFxcImhlYWRcXFwiLFtdKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyl9LG1vZGVzLmJlZm9yZUhlYWQuZW5kVGFnSW1wbHlIZWFkPWZ1bmN0aW9uKG5hbWUpe3RoaXMuc3RhcnRUYWdIZWFkKFxcXCJoZWFkXFxcIixbXSksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcobmFtZSl9LG1vZGVzLmJlZm9yZUhlYWQuZW5kVGFnT3RoZXI9ZnVuY3Rpb24obmFtZSl7dHJlZS5wYXJzZUVycm9yKFxcXCJlbmQtdGFnLWFmdGVyLWltcGxpZWQtcm9vdFxcXCIse25hbWU6bmFtZX0pfSxtb2Rlcy5pbkhlYWQ9T2JqZWN0LmNyZWF0ZShtb2Rlcy5iYXNlKSxtb2Rlcy5pbkhlYWQuc3RhcnRfdGFnX2hhbmRsZXJzPXtodG1sOlxcXCJzdGFydFRhZ0h0bWxcXFwiLGhlYWQ6XFxcInN0YXJ0VGFnSGVhZFxcXCIsdGl0bGU6XFxcInN0YXJ0VGFnVGl0bGVcXFwiLHNjcmlwdDpcXFwic3RhcnRUYWdTY3JpcHRcXFwiLHN0eWxlOlxcXCJzdGFydFRhZ05vRnJhbWVzU3R5bGVcXFwiLG5vc2NyaXB0OlxcXCJzdGFydFRhZ05vU2NyaXB0XFxcIixub2ZyYW1lczpcXFwic3RhcnRUYWdOb0ZyYW1lc1N0eWxlXFxcIixiYXNlOlxcXCJzdGFydFRhZ0Jhc2VCYXNlZm9udEJnc291bmRMaW5rXFxcIixiYXNlZm9udDpcXFwic3RhcnRUYWdCYXNlQmFzZWZvbnRCZ3NvdW5kTGlua1xcXCIsYmdzb3VuZDpcXFwic3RhcnRUYWdCYXNlQmFzZWZvbnRCZ3NvdW5kTGlua1xcXCIsbGluazpcXFwic3RhcnRUYWdCYXNlQmFzZWZvbnRCZ3NvdW5kTGlua1xcXCIsbWV0YTpcXFwic3RhcnRUYWdNZXRhXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJzdGFydFRhZ090aGVyXFxcIn0sbW9kZXMuaW5IZWFkLmVuZF90YWdfaGFuZGxlcnM9e2hlYWQ6XFxcImVuZFRhZ0hlYWRcXFwiLGh0bWw6XFxcImVuZFRhZ0h0bWxCb2R5QnJcXFwiLGJvZHk6XFxcImVuZFRhZ0h0bWxCb2R5QnJcXFwiLGJyOlxcXCJlbmRUYWdIdG1sQm9keUJyXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJlbmRUYWdPdGhlclxcXCJ9LG1vZGVzLmluSGVhZC5wcm9jZXNzRU9GPWZ1bmN0aW9uKCl7dmFyIG5hbWU9dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lO1xcbi0xIT1bXFxcInRpdGxlXFxcIixcXFwic3R5bGVcXFwiLFxcXCJzY3JpcHRcXFwiXS5pbmRleE9mKG5hbWUpJiYodHJlZS5wYXJzZUVycm9yKFxcXCJleHBlY3RlZC1uYW1lZC1jbG9zaW5nLXRhZy1idXQtZ290LWVvZlxcXCIse25hbWU6bmFtZX0pLHRyZWUucG9wRWxlbWVudCgpKSx0aGlzLmFueXRoaW5nRWxzZSgpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzRU9GKCl9LG1vZGVzLmluSGVhZC5wcm9jZXNzQ2hhcmFjdGVycz1mdW5jdGlvbihidWZmZXIpe3ZhciBsZWFkaW5nV2hpdGVzcGFjZT1idWZmZXIudGFrZUxlYWRpbmdXaGl0ZXNwYWNlKCk7bGVhZGluZ1doaXRlc3BhY2UmJnRyZWUuaW5zZXJ0VGV4dChsZWFkaW5nV2hpdGVzcGFjZSksYnVmZmVyLmxlbmd0aCYmKHRoaXMuYW55dGhpbmdFbHNlKCksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NDaGFyYWN0ZXJzKGJ1ZmZlcikpfSxtb2Rlcy5pbkhlYWQuc3RhcnRUYWdIdG1sPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7bW9kZXMuaW5Cb2R5LnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pbkhlYWQuc3RhcnRUYWdIZWFkPWZ1bmN0aW9uKCl7dHJlZS5wYXJzZUVycm9yKFxcXCJ0d28taGVhZHMtYXJlLW5vdC1iZXR0ZXItdGhhbi1vbmVcXFwiKX0sbW9kZXMuaW5IZWFkLnN0YXJ0VGFnVGl0bGU9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnByb2Nlc3NHZW5lcmljUkNEQVRBU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5IZWFkLnN0YXJ0VGFnTm9TY3JpcHQ9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXtyZXR1cm4gdHJlZS5zY3JpcHRpbmdFbmFibGVkP3RyZWUucHJvY2Vzc0dlbmVyaWNSYXdUZXh0U3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzKToodHJlZS5pbnNlcnRFbGVtZW50KG5hbWUsYXR0cmlidXRlcyksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpbkhlYWROb3NjcmlwdFxcXCIpLHZvaWQgMCl9LG1vZGVzLmluSGVhZC5zdGFydFRhZ05vRnJhbWVzU3R5bGU9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnByb2Nlc3NHZW5lcmljUmF3VGV4dFN0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluSGVhZC5zdGFydFRhZ1NjcmlwdD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpLHRyZWUudG9rZW5pemVyLnNldFN0YXRlKFRva2VuaXplci5TQ1JJUFRfREFUQSksdHJlZS5vcmlnaW5hbEluc2VydGlvbk1vZGU9dHJlZS5pbnNlcnRpb25Nb2RlTmFtZSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcInRleHRcXFwiKX0sbW9kZXMuaW5IZWFkLnN0YXJ0VGFnQmFzZUJhc2Vmb250Qmdzb3VuZExpbms9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLmluc2VydFNlbGZDbG9zaW5nRWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pbkhlYWQuc3RhcnRUYWdNZXRhPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dHJlZS5pbnNlcnRTZWxmQ2xvc2luZ0VsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5IZWFkLnN0YXJ0VGFnT3RoZXI9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKXt0aGlzLmFueXRoaW5nRWxzZSgpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKX0sbW9kZXMuaW5IZWFkLmVuZFRhZ0hlYWQ9ZnVuY3Rpb24oKXtcXFwiaGVhZFxcXCI9PXRyZWUub3BlbkVsZW1lbnRzLml0ZW0odHJlZS5vcGVuRWxlbWVudHMubGVuZ3RoLTEpLmxvY2FsTmFtZT90cmVlLm9wZW5FbGVtZW50cy5wb3AoKTp0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZ1xcXCIse25hbWU6XFxcImhlYWRcXFwifSksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJhZnRlckhlYWRcXFwiKX0sbW9kZXMuaW5IZWFkLmVuZFRhZ0h0bWxCb2R5QnI9ZnVuY3Rpb24obmFtZSl7dGhpcy5hbnl0aGluZ0Vsc2UoKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VuZFRhZyhuYW1lKX0sbW9kZXMuaW5IZWFkLmVuZFRhZ090aGVyPWZ1bmN0aW9uKG5hbWUpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluSGVhZC5hbnl0aGluZ0Vsc2U9ZnVuY3Rpb24oKXt0aGlzLmVuZFRhZ0hlYWQoXFxcImhlYWRcXFwiKX0sbW9kZXMuYWZ0ZXJIZWFkPU9iamVjdC5jcmVhdGUobW9kZXMuYmFzZSksbW9kZXMuYWZ0ZXJIZWFkLnN0YXJ0X3RhZ19oYW5kbGVycz17aHRtbDpcXFwic3RhcnRUYWdIdG1sXFxcIixoZWFkOlxcXCJzdGFydFRhZ0hlYWRcXFwiLGJvZHk6XFxcInN0YXJ0VGFnQm9keVxcXCIsZnJhbWVzZXQ6XFxcInN0YXJ0VGFnRnJhbWVzZXRcXFwiLGJhc2U6XFxcInN0YXJ0VGFnRnJvbUhlYWRcXFwiLGxpbms6XFxcInN0YXJ0VGFnRnJvbUhlYWRcXFwiLG1ldGE6XFxcInN0YXJ0VGFnRnJvbUhlYWRcXFwiLHNjcmlwdDpcXFwic3RhcnRUYWdGcm9tSGVhZFxcXCIsc3R5bGU6XFxcInN0YXJ0VGFnRnJvbUhlYWRcXFwiLHRpdGxlOlxcXCJzdGFydFRhZ0Zyb21IZWFkXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJzdGFydFRhZ090aGVyXFxcIn0sbW9kZXMuYWZ0ZXJIZWFkLmVuZF90YWdfaGFuZGxlcnM9e2JvZHk6XFxcImVuZFRhZ0JvZHlIdG1sQnJcXFwiLGh0bWw6XFxcImVuZFRhZ0JvZHlIdG1sQnJcXFwiLGJyOlxcXCJlbmRUYWdCb2R5SHRtbEJyXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJlbmRUYWdPdGhlclxcXCJ9LG1vZGVzLmFmdGVySGVhZC5wcm9jZXNzRU9GPWZ1bmN0aW9uKCl7dGhpcy5hbnl0aGluZ0Vsc2UoKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VPRigpfSxtb2Rlcy5hZnRlckhlYWQucHJvY2Vzc0NoYXJhY3RlcnM9ZnVuY3Rpb24oYnVmZmVyKXt2YXIgbGVhZGluZ1doaXRlc3BhY2U9YnVmZmVyLnRha2VMZWFkaW5nV2hpdGVzcGFjZSgpO2xlYWRpbmdXaGl0ZXNwYWNlJiZ0cmVlLmluc2VydFRleHQobGVhZGluZ1doaXRlc3BhY2UpLGJ1ZmZlci5sZW5ndGgmJih0aGlzLmFueXRoaW5nRWxzZSgpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzQ2hhcmFjdGVycyhidWZmZXIpKX0sbW9kZXMuYWZ0ZXJIZWFkLnN0YXJ0VGFnSHRtbD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe21vZGVzLmluQm9keS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuYWZ0ZXJIZWFkLnN0YXJ0VGFnQm9keT1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUuZnJhbWVzZXRPaz0hMSx0cmVlLmluc2VydEJvZHlFbGVtZW50KGF0dHJpYnV0ZXMpLHRyZWUuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5Cb2R5XFxcIil9LG1vZGVzLmFmdGVySGVhZC5zdGFydFRhZ0ZyYW1lc2V0PWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dHJlZS5pbnNlcnRFbGVtZW50KG5hbWUsYXR0cmlidXRlcyksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpbkZyYW1lc2V0XFxcIil9LG1vZGVzLmFmdGVySGVhZC5zdGFydFRhZ0Zyb21IZWFkPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLXN0YXJ0LXRhZy1vdXQtb2YtbXktaGVhZFxcXCIse25hbWU6bmFtZX0pLHRyZWUub3BlbkVsZW1lbnRzLnB1c2godHJlZS5oZWFkKSxtb2Rlcy5pbkhlYWQucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyksdHJlZS5vcGVuRWxlbWVudHMucmVtb3ZlKHRyZWUuaGVhZCl9LG1vZGVzLmFmdGVySGVhZC5zdGFydFRhZ0hlYWQ9ZnVuY3Rpb24obmFtZSl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLXN0YXJ0LXRhZ1xcXCIse25hbWU6bmFtZX0pfSxtb2Rlcy5hZnRlckhlYWQuc3RhcnRUYWdPdGhlcj1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3Npbmcpe3RoaXMuYW55dGhpbmdFbHNlKCksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3NpbmcpfSxtb2Rlcy5hZnRlckhlYWQuZW5kVGFnQm9keUh0bWxCcj1mdW5jdGlvbihuYW1lKXt0aGlzLmFueXRoaW5nRWxzZSgpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzRW5kVGFnKG5hbWUpfSxtb2Rlcy5hZnRlckhlYWQuZW5kVGFnT3RoZXI9ZnVuY3Rpb24obmFtZSl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWdcXFwiLHtuYW1lOm5hbWV9KX0sbW9kZXMuYWZ0ZXJIZWFkLmFueXRoaW5nRWxzZT1mdW5jdGlvbigpe3RyZWUuaW5zZXJ0Qm9keUVsZW1lbnQoW10pLHRyZWUuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5Cb2R5XFxcIiksdHJlZS5mcmFtZXNldE9rPSEwfSxtb2Rlcy5pbkJvZHk9T2JqZWN0LmNyZWF0ZShtb2Rlcy5iYXNlKSxtb2Rlcy5pbkJvZHkuc3RhcnRfdGFnX2hhbmRsZXJzPXtodG1sOlxcXCJzdGFydFRhZ0h0bWxcXFwiLGhlYWQ6XFxcInN0YXJ0VGFnTWlzcGxhY2VkXFxcIixiYXNlOlxcXCJzdGFydFRhZ1Byb2Nlc3NJbkhlYWRcXFwiLGJhc2Vmb250OlxcXCJzdGFydFRhZ1Byb2Nlc3NJbkhlYWRcXFwiLGJnc291bmQ6XFxcInN0YXJ0VGFnUHJvY2Vzc0luSGVhZFxcXCIsbGluazpcXFwic3RhcnRUYWdQcm9jZXNzSW5IZWFkXFxcIixtZXRhOlxcXCJzdGFydFRhZ1Byb2Nlc3NJbkhlYWRcXFwiLG5vZnJhbWVzOlxcXCJzdGFydFRhZ1Byb2Nlc3NJbkhlYWRcXFwiLHNjcmlwdDpcXFwic3RhcnRUYWdQcm9jZXNzSW5IZWFkXFxcIixzdHlsZTpcXFwic3RhcnRUYWdQcm9jZXNzSW5IZWFkXFxcIix0aXRsZTpcXFwic3RhcnRUYWdQcm9jZXNzSW5IZWFkXFxcIixib2R5OlxcXCJzdGFydFRhZ0JvZHlcXFwiLGZvcm06XFxcInN0YXJ0VGFnRm9ybVxcXCIscGxhaW50ZXh0OlxcXCJzdGFydFRhZ1BsYWludGV4dFxcXCIsYTpcXFwic3RhcnRUYWdBXFxcIixidXR0b246XFxcInN0YXJ0VGFnQnV0dG9uXFxcIix4bXA6XFxcInN0YXJ0VGFnWG1wXFxcIix0YWJsZTpcXFwic3RhcnRUYWdUYWJsZVxcXCIsaHI6XFxcInN0YXJ0VGFnSHJcXFwiLGltYWdlOlxcXCJzdGFydFRhZ0ltYWdlXFxcIixpbnB1dDpcXFwic3RhcnRUYWdJbnB1dFxcXCIsdGV4dGFyZWE6XFxcInN0YXJ0VGFnVGV4dGFyZWFcXFwiLHNlbGVjdDpcXFwic3RhcnRUYWdTZWxlY3RcXFwiLGlzaW5kZXg6XFxcInN0YXJ0VGFnSXNpbmRleFxcXCIsYXBwbGV0OlxcXCJzdGFydFRhZ0FwcGxldE1hcnF1ZWVPYmplY3RcXFwiLG1hcnF1ZWU6XFxcInN0YXJ0VGFnQXBwbGV0TWFycXVlZU9iamVjdFxcXCIsb2JqZWN0OlxcXCJzdGFydFRhZ0FwcGxldE1hcnF1ZWVPYmplY3RcXFwiLGxpOlxcXCJzdGFydFRhZ0xpc3RJdGVtXFxcIixkZDpcXFwic3RhcnRUYWdMaXN0SXRlbVxcXCIsZHQ6XFxcInN0YXJ0VGFnTGlzdEl0ZW1cXFwiLGFkZHJlc3M6XFxcInN0YXJ0VGFnQ2xvc2VQXFxcIixhcnRpY2xlOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsYXNpZGU6XFxcInN0YXJ0VGFnQ2xvc2VQXFxcIixibG9ja3F1b3RlOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsY2VudGVyOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsZGV0YWlsczpcXFwic3RhcnRUYWdDbG9zZVBcXFwiLGRpcjpcXFwic3RhcnRUYWdDbG9zZVBcXFwiLGRpdjpcXFwic3RhcnRUYWdDbG9zZVBcXFwiLGRsOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsZmllbGRzZXQ6XFxcInN0YXJ0VGFnQ2xvc2VQXFxcIixmaWdjYXB0aW9uOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsZmlndXJlOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsZm9vdGVyOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsaGVhZGVyOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsaGdyb3VwOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsbWFpbjpcXFwic3RhcnRUYWdDbG9zZVBcXFwiLG1lbnU6XFxcInN0YXJ0VGFnQ2xvc2VQXFxcIixuYXY6XFxcInN0YXJ0VGFnQ2xvc2VQXFxcIixvbDpcXFwic3RhcnRUYWdDbG9zZVBcXFwiLHA6XFxcInN0YXJ0VGFnQ2xvc2VQXFxcIixzZWN0aW9uOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsc3VtbWFyeTpcXFwic3RhcnRUYWdDbG9zZVBcXFwiLHVsOlxcXCJzdGFydFRhZ0Nsb3NlUFxcXCIsbGlzdGluZzpcXFwic3RhcnRUYWdQcmVMaXN0aW5nXFxcIixwcmU6XFxcInN0YXJ0VGFnUHJlTGlzdGluZ1xcXCIsYjpcXFwic3RhcnRUYWdGb3JtYXR0aW5nXFxcIixiaWc6XFxcInN0YXJ0VGFnRm9ybWF0dGluZ1xcXCIsY29kZTpcXFwic3RhcnRUYWdGb3JtYXR0aW5nXFxcIixlbTpcXFwic3RhcnRUYWdGb3JtYXR0aW5nXFxcIixmb250OlxcXCJzdGFydFRhZ0Zvcm1hdHRpbmdcXFwiLGk6XFxcInN0YXJ0VGFnRm9ybWF0dGluZ1xcXCIsczpcXFwic3RhcnRUYWdGb3JtYXR0aW5nXFxcIixzbWFsbDpcXFwic3RhcnRUYWdGb3JtYXR0aW5nXFxcIixzdHJpa2U6XFxcInN0YXJ0VGFnRm9ybWF0dGluZ1xcXCIsc3Ryb25nOlxcXCJzdGFydFRhZ0Zvcm1hdHRpbmdcXFwiLHR0OlxcXCJzdGFydFRhZ0Zvcm1hdHRpbmdcXFwiLHU6XFxcInN0YXJ0VGFnRm9ybWF0dGluZ1xcXCIsbm9icjpcXFwic3RhcnRUYWdOb2JyXFxcIixhcmVhOlxcXCJzdGFydFRhZ1ZvaWRGb3JtYXR0aW5nXFxcIixicjpcXFwic3RhcnRUYWdWb2lkRm9ybWF0dGluZ1xcXCIsZW1iZWQ6XFxcInN0YXJ0VGFnVm9pZEZvcm1hdHRpbmdcXFwiLGltZzpcXFwic3RhcnRUYWdWb2lkRm9ybWF0dGluZ1xcXCIsa2V5Z2VuOlxcXCJzdGFydFRhZ1ZvaWRGb3JtYXR0aW5nXFxcIix3YnI6XFxcInN0YXJ0VGFnVm9pZEZvcm1hdHRpbmdcXFwiLHBhcmFtOlxcXCJzdGFydFRhZ1BhcmFtU291cmNlVHJhY2tcXFwiLHNvdXJjZTpcXFwic3RhcnRUYWdQYXJhbVNvdXJjZVRyYWNrXFxcIix0cmFjazpcXFwic3RhcnRUYWdQYXJhbVNvdXJjZVRyYWNrXFxcIixpZnJhbWU6XFxcInN0YXJ0VGFnSUZyYW1lXFxcIixub2VtYmVkOlxcXCJzdGFydFRhZ1Jhd1RleHRcXFwiLG5vc2NyaXB0OlxcXCJzdGFydFRhZ1Jhd1RleHRcXFwiLGgxOlxcXCJzdGFydFRhZ0hlYWRpbmdcXFwiLGgyOlxcXCJzdGFydFRhZ0hlYWRpbmdcXFwiLGgzOlxcXCJzdGFydFRhZ0hlYWRpbmdcXFwiLGg0OlxcXCJzdGFydFRhZ0hlYWRpbmdcXFwiLGg1OlxcXCJzdGFydFRhZ0hlYWRpbmdcXFwiLGg2OlxcXCJzdGFydFRhZ0hlYWRpbmdcXFwiLGNhcHRpb246XFxcInN0YXJ0VGFnTWlzcGxhY2VkXFxcIixjb2w6XFxcInN0YXJ0VGFnTWlzcGxhY2VkXFxcIixjb2xncm91cDpcXFwic3RhcnRUYWdNaXNwbGFjZWRcXFwiLGZyYW1lOlxcXCJzdGFydFRhZ01pc3BsYWNlZFxcXCIsZnJhbWVzZXQ6XFxcInN0YXJ0VGFnRnJhbWVzZXRcXFwiLHRib2R5OlxcXCJzdGFydFRhZ01pc3BsYWNlZFxcXCIsdGQ6XFxcInN0YXJ0VGFnTWlzcGxhY2VkXFxcIix0Zm9vdDpcXFwic3RhcnRUYWdNaXNwbGFjZWRcXFwiLHRoOlxcXCJzdGFydFRhZ01pc3BsYWNlZFxcXCIsdGhlYWQ6XFxcInN0YXJ0VGFnTWlzcGxhY2VkXFxcIix0cjpcXFwic3RhcnRUYWdNaXNwbGFjZWRcXFwiLG9wdGlvbjpcXFwic3RhcnRUYWdPcHRpb25PcHRncm91cFxcXCIsb3B0Z3JvdXA6XFxcInN0YXJ0VGFnT3B0aW9uT3B0Z3JvdXBcXFwiLG1hdGg6XFxcInN0YXJ0VGFnTWF0aFxcXCIsc3ZnOlxcXCJzdGFydFRhZ1NWR1xcXCIscnQ6XFxcInN0YXJ0VGFnUnBSdFxcXCIscnA6XFxcInN0YXJ0VGFnUnBSdFxcXCIsXFxcIi1kZWZhdWx0XFxcIjpcXFwic3RhcnRUYWdPdGhlclxcXCJ9LG1vZGVzLmluQm9keS5lbmRfdGFnX2hhbmRsZXJzPXtwOlxcXCJlbmRUYWdQXFxcIixib2R5OlxcXCJlbmRUYWdCb2R5XFxcIixodG1sOlxcXCJlbmRUYWdIdG1sXFxcIixhZGRyZXNzOlxcXCJlbmRUYWdCbG9ja1xcXCIsYXJ0aWNsZTpcXFwiZW5kVGFnQmxvY2tcXFwiLGFzaWRlOlxcXCJlbmRUYWdCbG9ja1xcXCIsYmxvY2txdW90ZTpcXFwiZW5kVGFnQmxvY2tcXFwiLGJ1dHRvbjpcXFwiZW5kVGFnQmxvY2tcXFwiLGNlbnRlcjpcXFwiZW5kVGFnQmxvY2tcXFwiLGRldGFpbHM6XFxcImVuZFRhZ0Jsb2NrXFxcIixkaXI6XFxcImVuZFRhZ0Jsb2NrXFxcIixkaXY6XFxcImVuZFRhZ0Jsb2NrXFxcIixkbDpcXFwiZW5kVGFnQmxvY2tcXFwiLGZpZWxkc2V0OlxcXCJlbmRUYWdCbG9ja1xcXCIsZmlnY2FwdGlvbjpcXFwiZW5kVGFnQmxvY2tcXFwiLGZpZ3VyZTpcXFwiZW5kVGFnQmxvY2tcXFwiLGZvb3RlcjpcXFwiZW5kVGFnQmxvY2tcXFwiLGhlYWRlcjpcXFwiZW5kVGFnQmxvY2tcXFwiLGhncm91cDpcXFwiZW5kVGFnQmxvY2tcXFwiLGxpc3Rpbmc6XFxcImVuZFRhZ0Jsb2NrXFxcIixtYWluOlxcXCJlbmRUYWdCbG9ja1xcXCIsbWVudTpcXFwiZW5kVGFnQmxvY2tcXFwiLG5hdjpcXFwiZW5kVGFnQmxvY2tcXFwiLG9sOlxcXCJlbmRUYWdCbG9ja1xcXCIscHJlOlxcXCJlbmRUYWdCbG9ja1xcXCIsc2VjdGlvbjpcXFwiZW5kVGFnQmxvY2tcXFwiLHN1bW1hcnk6XFxcImVuZFRhZ0Jsb2NrXFxcIix1bDpcXFwiZW5kVGFnQmxvY2tcXFwiLGZvcm06XFxcImVuZFRhZ0Zvcm1cXFwiLGFwcGxldDpcXFwiZW5kVGFnQXBwbGV0TWFycXVlZU9iamVjdFxcXCIsbWFycXVlZTpcXFwiZW5kVGFnQXBwbGV0TWFycXVlZU9iamVjdFxcXCIsb2JqZWN0OlxcXCJlbmRUYWdBcHBsZXRNYXJxdWVlT2JqZWN0XFxcIixkZDpcXFwiZW5kVGFnTGlzdEl0ZW1cXFwiLGR0OlxcXCJlbmRUYWdMaXN0SXRlbVxcXCIsbGk6XFxcImVuZFRhZ0xpc3RJdGVtXFxcIixoMTpcXFwiZW5kVGFnSGVhZGluZ1xcXCIsaDI6XFxcImVuZFRhZ0hlYWRpbmdcXFwiLGgzOlxcXCJlbmRUYWdIZWFkaW5nXFxcIixoNDpcXFwiZW5kVGFnSGVhZGluZ1xcXCIsaDU6XFxcImVuZFRhZ0hlYWRpbmdcXFwiLGg2OlxcXCJlbmRUYWdIZWFkaW5nXFxcIixhOlxcXCJlbmRUYWdGb3JtYXR0aW5nXFxcIixiOlxcXCJlbmRUYWdGb3JtYXR0aW5nXFxcIixiaWc6XFxcImVuZFRhZ0Zvcm1hdHRpbmdcXFwiLGNvZGU6XFxcImVuZFRhZ0Zvcm1hdHRpbmdcXFwiLGVtOlxcXCJlbmRUYWdGb3JtYXR0aW5nXFxcIixmb250OlxcXCJlbmRUYWdGb3JtYXR0aW5nXFxcIixpOlxcXCJlbmRUYWdGb3JtYXR0aW5nXFxcIixub2JyOlxcXCJlbmRUYWdGb3JtYXR0aW5nXFxcIixzOlxcXCJlbmRUYWdGb3JtYXR0aW5nXFxcIixzbWFsbDpcXFwiZW5kVGFnRm9ybWF0dGluZ1xcXCIsc3RyaWtlOlxcXCJlbmRUYWdGb3JtYXR0aW5nXFxcIixzdHJvbmc6XFxcImVuZFRhZ0Zvcm1hdHRpbmdcXFwiLHR0OlxcXCJlbmRUYWdGb3JtYXR0aW5nXFxcIix1OlxcXCJlbmRUYWdGb3JtYXR0aW5nXFxcIixicjpcXFwiZW5kVGFnQnJcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcImVuZFRhZ090aGVyXFxcIn0sbW9kZXMuaW5Cb2R5LnByb2Nlc3NDaGFyYWN0ZXJzPWZ1bmN0aW9uKGJ1ZmZlcil7dHJlZS5zaG91bGRTa2lwTGVhZGluZ05ld2xpbmUmJih0cmVlLnNob3VsZFNraXBMZWFkaW5nTmV3bGluZT0hMSxidWZmZXIuc2tpcEF0TW9zdE9uZUxlYWRpbmdOZXdsaW5lKCkpLHRyZWUucmVjb25zdHJ1Y3RBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKTt2YXIgY2hhcmFjdGVycz1idWZmZXIudGFrZVJlbWFpbmluZygpO2NoYXJhY3RlcnM9Y2hhcmFjdGVycy5yZXBsYWNlKC9cXFxcdTAwMDAvZyxmdW5jdGlvbigpe3JldHVybiB0cmVlLnBhcnNlRXJyb3IoXFxcImludmFsaWQtY29kZXBvaW50XFxcIiksXFxcIlxcXCJ9KSxjaGFyYWN0ZXJzJiYodHJlZS5pbnNlcnRUZXh0KGNoYXJhY3RlcnMpLHRyZWUuZnJhbWVzZXRPayYmIWlzQWxsV2hpdGVzcGFjZU9yUmVwbGFjZW1lbnRDaGFyYWN0ZXJzKGNoYXJhY3RlcnMpJiYodHJlZS5mcmFtZXNldE9rPSExKSl9LG1vZGVzLmluQm9keS5zdGFydFRhZ0h0bWw9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnBhcnNlRXJyb3IoXFxcIm5vbi1odG1sLXJvb3RcXFwiKSx0cmVlLmFkZEF0dHJpYnV0ZXNUb0VsZW1lbnQodHJlZS5vcGVuRWxlbWVudHMucm9vdE5vZGUsYXR0cmlidXRlcyl9LG1vZGVzLmluQm9keS5zdGFydFRhZ1Byb2Nlc3NJbkhlYWQ9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXttb2Rlcy5pbkhlYWQucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluQm9keS5zdGFydFRhZ0JvZHk9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnXFxcIix7bmFtZTpcXFwiYm9keVxcXCJ9KSwxPT10cmVlLm9wZW5FbGVtZW50cy5sZW5ndGh8fFxcXCJib2R5XFxcIiE9dHJlZS5vcGVuRWxlbWVudHMuaXRlbSgxKS5sb2NhbE5hbWU/YXNzZXJ0Lm9rKHRyZWUuY29udGV4dCk6KHRyZWUuZnJhbWVzZXRPaz0hMSx0cmVlLmFkZEF0dHJpYnV0ZXNUb0VsZW1lbnQodHJlZS5vcGVuRWxlbWVudHMuYm9keUVsZW1lbnQsYXR0cmlidXRlcykpfSxtb2Rlcy5pbkJvZHkuc3RhcnRUYWdGcmFtZXNldD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe2lmKHRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1zdGFydC10YWdcXFwiLHtuYW1lOlxcXCJmcmFtZXNldFxcXCJ9KSwxPT10cmVlLm9wZW5FbGVtZW50cy5sZW5ndGh8fFxcXCJib2R5XFxcIiE9dHJlZS5vcGVuRWxlbWVudHMuaXRlbSgxKS5sb2NhbE5hbWUpYXNzZXJ0Lm9rKHRyZWUuY29udGV4dCk7ZWxzZSBpZih0cmVlLmZyYW1lc2V0T2spe2Zvcih0cmVlLmRldGFjaEZyb21QYXJlbnQodHJlZS5vcGVuRWxlbWVudHMuYm9keUVsZW1lbnQpO3RyZWUub3BlbkVsZW1lbnRzLmxlbmd0aD4xOyl0cmVlLm9wZW5FbGVtZW50cy5wb3AoKTt0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluRnJhbWVzZXRcXFwiKX19LG1vZGVzLmluQm9keS5zdGFydFRhZ0Nsb3NlUD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUub3BlbkVsZW1lbnRzLmluQnV0dG9uU2NvcGUoXFxcInBcXFwiKSYmdGhpcy5lbmRUYWdQKFxcXCJwXFxcIiksdHJlZS5pbnNlcnRFbGVtZW50KG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluQm9keS5zdGFydFRhZ1ByZUxpc3Rpbmc9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLm9wZW5FbGVtZW50cy5pbkJ1dHRvblNjb3BlKFxcXCJwXFxcIikmJnRoaXMuZW5kVGFnUChcXFwicFxcXCIpLHRyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpLHRyZWUuZnJhbWVzZXRPaz0hMSx0cmVlLnNob3VsZFNraXBMZWFkaW5nTmV3bGluZT0hMH0sbW9kZXMuaW5Cb2R5LnN0YXJ0VGFnRm9ybT1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUuZm9ybT90cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnXFxcIix7bmFtZTpuYW1lfSk6KHRyZWUub3BlbkVsZW1lbnRzLmluQnV0dG9uU2NvcGUoXFxcInBcXFwiKSYmdGhpcy5lbmRUYWdQKFxcXCJwXFxcIiksdHJlZS5pbnNlcnRFbGVtZW50KG5hbWUsYXR0cmlidXRlcyksdHJlZS5mb3JtPXRyZWUuY3VycmVudFN0YWNrSXRlbSgpKX0sbW9kZXMuaW5Cb2R5LnN0YXJ0VGFnUnBSdD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUub3BlbkVsZW1lbnRzLmluU2NvcGUoXFxcInJ1YnlcXFwiKSYmKHRyZWUuZ2VuZXJhdGVJbXBsaWVkRW5kVGFncygpLFxcXCJydWJ5XFxcIiE9dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lJiZ0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnXFxcIix7bmFtZTpuYW1lfSkpLHRyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pbkJvZHkuc3RhcnRUYWdMaXN0SXRlbT1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe2Zvcih2YXIgc3RvcE5hbWVzPXtsaTpbXFxcImxpXFxcIl0sZGQ6W1xcXCJkZFxcXCIsXFxcImR0XFxcIl0sZHQ6W1xcXCJkZFxcXCIsXFxcImR0XFxcIl19LHN0b3BOYW1lPXN0b3BOYW1lc1tuYW1lXSxlbHM9dHJlZS5vcGVuRWxlbWVudHMsaT1lbHMubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBub2RlPWVscy5pdGVtKGkpO2lmKC0xIT1zdG9wTmFtZS5pbmRleE9mKG5vZGUubG9jYWxOYW1lKSl7dHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcobm9kZS5sb2NhbE5hbWUpO2JyZWFrfWlmKG5vZGUuaXNTcGVjaWFsKCkmJlxcXCJwXFxcIiE9PW5vZGUubG9jYWxOYW1lJiZcXFwiYWRkcmVzc1xcXCIhPT1ub2RlLmxvY2FsTmFtZSYmXFxcImRpdlxcXCIhPT1ub2RlLmxvY2FsTmFtZSlicmVha310cmVlLm9wZW5FbGVtZW50cy5pbkJ1dHRvblNjb3BlKFxcXCJwXFxcIikmJnRoaXMuZW5kVGFnUChcXFwicFxcXCIpLHRyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpLHRyZWUuZnJhbWVzZXRPaz0hMX0sbW9kZXMuaW5Cb2R5LnN0YXJ0VGFnUGxhaW50ZXh0PWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dHJlZS5vcGVuRWxlbWVudHMuaW5CdXR0b25TY29wZShcXFwicFxcXCIpJiZ0aGlzLmVuZFRhZ1AoXFxcInBcXFwiKSx0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKSx0cmVlLnRva2VuaXplci5zZXRTdGF0ZShUb2tlbml6ZXIuUExBSU5URVhUKX0sbW9kZXMuaW5Cb2R5LnN0YXJ0VGFnSGVhZGluZz1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUub3BlbkVsZW1lbnRzLmluQnV0dG9uU2NvcGUoXFxcInBcXFwiKSYmdGhpcy5lbmRUYWdQKFxcXCJwXFxcIiksdHJlZS5jdXJyZW50U3RhY2tJdGVtKCkuaXNOdW1iZXJlZEhlYWRlcigpJiYodHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLXN0YXJ0LXRhZ1xcXCIse25hbWU6bmFtZX0pLHRyZWUucG9wRWxlbWVudCgpKSx0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5Cb2R5LnN0YXJ0VGFnQT1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3ZhciBhY3RpdmVBPXRyZWUuZWxlbWVudEluQWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzKFxcXCJhXFxcIik7YWN0aXZlQSYmKHRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1zdGFydC10YWctaW1wbGllcy1lbmQtdGFnXFxcIix7c3RhcnROYW1lOlxcXCJhXFxcIixlbmROYW1lOlxcXCJhXFxcIn0pLHRyZWUuYWRvcHRpb25BZ2VuY3lFbmRUYWcoXFxcImFcXFwiKSx0cmVlLm9wZW5FbGVtZW50cy5jb250YWlucyhhY3RpdmVBKSYmdHJlZS5vcGVuRWxlbWVudHMucmVtb3ZlKGFjdGl2ZUEpLHRyZWUucmVtb3ZlRWxlbWVudEZyb21BY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoYWN0aXZlQSkpLHRyZWUucmVjb25zdHJ1Y3RBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKSx0cmVlLmluc2VydEZvcm1hdHRpbmdFbGVtZW50KG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluQm9keS5zdGFydFRhZ0Zvcm1hdHRpbmc9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnJlY29uc3RydWN0QWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzKCksdHJlZS5pbnNlcnRGb3JtYXR0aW5nRWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pbkJvZHkuc3RhcnRUYWdOb2JyPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dHJlZS5yZWNvbnN0cnVjdEFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cygpLHRyZWUub3BlbkVsZW1lbnRzLmluU2NvcGUoXFxcIm5vYnJcXFwiKSYmKHRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1zdGFydC10YWctaW1wbGllcy1lbmQtdGFnXFxcIix7c3RhcnROYW1lOlxcXCJub2JyXFxcIixlbmROYW1lOlxcXCJub2JyXFxcIn0pLHRoaXMucHJvY2Vzc0VuZFRhZyhcXFwibm9iclxcXCIpLHRyZWUucmVjb25zdHJ1Y3RBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKSksdHJlZS5pbnNlcnRGb3JtYXR0aW5nRWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pbkJvZHkuc3RhcnRUYWdCdXR0b249ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLm9wZW5FbGVtZW50cy5pblNjb3BlKFxcXCJidXR0b25cXFwiKT8odHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLXN0YXJ0LXRhZy1pbXBsaWVzLWVuZC10YWdcXFwiLHtzdGFydE5hbWU6XFxcImJ1dHRvblxcXCIsZW5kTmFtZTpcXFwiYnV0dG9uXFxcIn0pLHRoaXMucHJvY2Vzc0VuZFRhZyhcXFwiYnV0dG9uXFxcIiksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMpKToodHJlZS5mcmFtZXNldE9rPSExLHRyZWUucmVjb25zdHJ1Y3RBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKSx0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKSl9LG1vZGVzLmluQm9keS5zdGFydFRhZ0FwcGxldE1hcnF1ZWVPYmplY3Q9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnJlY29uc3RydWN0QWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzKCksdHJlZS5pbnNlcnRFbGVtZW50KG5hbWUsYXR0cmlidXRlcyksdHJlZS5hY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMucHVzaChNYXJrZXIpLHRyZWUuZnJhbWVzZXRPaz0hMX0sbW9kZXMuaW5Cb2R5LmVuZFRhZ0FwcGxldE1hcnF1ZWVPYmplY3Q9ZnVuY3Rpb24obmFtZSl7dHJlZS5vcGVuRWxlbWVudHMuaW5TY29wZShuYW1lKT8odHJlZS5nZW5lcmF0ZUltcGxpZWRFbmRUYWdzKCksdHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lIT1uYW1lJiZ0cmVlLnBhcnNlRXJyb3IoXFxcImVuZC10YWctdG9vLWVhcmx5XFxcIix7bmFtZTpuYW1lfSksdHJlZS5vcGVuRWxlbWVudHMucG9wVW50aWxQb3BwZWQobmFtZSksdHJlZS5jbGVhckFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cygpKTp0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZ1xcXCIse25hbWU6bmFtZX0pfSxtb2Rlcy5pbkJvZHkuc3RhcnRUYWdYbXA9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLm9wZW5FbGVtZW50cy5pbkJ1dHRvblNjb3BlKFxcXCJwXFxcIikmJnRoaXMucHJvY2Vzc0VuZFRhZyhcXFwicFxcXCIpLHRyZWUucmVjb25zdHJ1Y3RBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKSx0cmVlLnByb2Nlc3NHZW5lcmljUmF3VGV4dFN0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyksdHJlZS5mcmFtZXNldE9rPSExfSxtb2Rlcy5pbkJvZHkuc3RhcnRUYWdUYWJsZT1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe1xcXCJxdWlya3NcXFwiIT09dHJlZS5jb21wYXRNb2RlJiZ0cmVlLm9wZW5FbGVtZW50cy5pbkJ1dHRvblNjb3BlKFxcXCJwXFxcIikmJnRoaXMucHJvY2Vzc0VuZFRhZyhcXFwicFxcXCIpLHRyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpLHRyZWUuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5UYWJsZVxcXCIpLHRyZWUuZnJhbWVzZXRPaz0hMX0sbW9kZXMuaW5Cb2R5LnN0YXJ0VGFnVm9pZEZvcm1hdHRpbmc9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnJlY29uc3RydWN0QWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzKCksdHJlZS5pbnNlcnRTZWxmQ2xvc2luZ0VsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKSx0cmVlLmZyYW1lc2V0T2s9ITF9LG1vZGVzLmluQm9keS5zdGFydFRhZ1BhcmFtU291cmNlVHJhY2s9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLmluc2VydFNlbGZDbG9zaW5nRWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pbkJvZHkuc3RhcnRUYWdIcj1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUub3BlbkVsZW1lbnRzLmluQnV0dG9uU2NvcGUoXFxcInBcXFwiKSYmdGhpcy5lbmRUYWdQKFxcXCJwXFxcIiksdHJlZS5pbnNlcnRTZWxmQ2xvc2luZ0VsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKSx0cmVlLmZyYW1lc2V0T2s9ITF9LG1vZGVzLmluQm9keS5zdGFydFRhZ0ltYWdlPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLXN0YXJ0LXRhZy10cmVhdGVkLWFzXFxcIix7b3JpZ2luYWxOYW1lOlxcXCJpbWFnZVxcXCIsbmV3TmFtZTpcXFwiaW1nXFxcIn0pLHRoaXMucHJvY2Vzc1N0YXJ0VGFnKFxcXCJpbWdcXFwiLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pbkJvZHkuc3RhcnRUYWdJbnB1dD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3ZhciBjdXJyZW50RnJhbWVzZXRPaz10cmVlLmZyYW1lc2V0T2s7dGhpcy5zdGFydFRhZ1ZvaWRGb3JtYXR0aW5nKG5hbWUsYXR0cmlidXRlcyk7Zm9yKHZhciBrZXkgaW4gYXR0cmlidXRlcylpZihcXFwidHlwZVxcXCI9PWF0dHJpYnV0ZXNba2V5XS5ub2RlTmFtZSl7XFxcImhpZGRlblxcXCI9PWF0dHJpYnV0ZXNba2V5XS5ub2RlVmFsdWUudG9Mb3dlckNhc2UoKSYmKHRyZWUuZnJhbWVzZXRPaz1jdXJyZW50RnJhbWVzZXRPayk7YnJlYWt9fSxtb2Rlcy5pbkJvZHkuc3RhcnRUYWdJc2luZGV4PWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7aWYodHJlZS5wYXJzZUVycm9yKFxcXCJkZXByZWNhdGVkLXRhZ1xcXCIse25hbWU6XFxcImlzaW5kZXhcXFwifSksdHJlZS5zZWxmQ2xvc2luZ0ZsYWdBY2tub3dsZWRnZWQ9ITAsIXRyZWUuZm9ybSl7dmFyIGZvcm1BdHRyaWJ1dGVzPVtdLGlucHV0QXR0cmlidXRlcz1bXSxwcm9tcHQ9XFxcIlRoaXMgaXMgYSBzZWFyY2hhYmxlIGluZGV4LiBFbnRlciBzZWFyY2gga2V5d29yZHM6IFxcXCI7Zm9yKHZhciBrZXkgaW4gYXR0cmlidXRlcylzd2l0Y2goYXR0cmlidXRlc1trZXldLm5vZGVOYW1lKXtjYXNlXFxcImFjdGlvblxcXCI6Zm9ybUF0dHJpYnV0ZXMucHVzaCh7bm9kZU5hbWU6XFxcImFjdGlvblxcXCIsbm9kZVZhbHVlOmF0dHJpYnV0ZXNba2V5XS5ub2RlVmFsdWV9KTticmVhaztjYXNlXFxcInByb21wdFxcXCI6cHJvbXB0PWF0dHJpYnV0ZXNba2V5XS5ub2RlVmFsdWU7YnJlYWs7Y2FzZVxcXCJuYW1lXFxcIjpicmVhaztkZWZhdWx0OmlucHV0QXR0cmlidXRlcy5wdXNoKHtub2RlTmFtZTphdHRyaWJ1dGVzW2tleV0ubm9kZU5hbWUsbm9kZVZhbHVlOmF0dHJpYnV0ZXNba2V5XS5ub2RlVmFsdWV9KX1pbnB1dEF0dHJpYnV0ZXMucHVzaCh7bm9kZU5hbWU6XFxcIm5hbWVcXFwiLG5vZGVWYWx1ZTpcXFwiaXNpbmRleFxcXCJ9KSx0aGlzLnByb2Nlc3NTdGFydFRhZyhcXFwiZm9ybVxcXCIsZm9ybUF0dHJpYnV0ZXMpLHRoaXMucHJvY2Vzc1N0YXJ0VGFnKFxcXCJoclxcXCIpLHRoaXMucHJvY2Vzc1N0YXJ0VGFnKFxcXCJsYWJlbFxcXCIpLHRoaXMucHJvY2Vzc0NoYXJhY3RlcnMobmV3IENoYXJhY3RlckJ1ZmZlcihwcm9tcHQpKSx0aGlzLnByb2Nlc3NTdGFydFRhZyhcXFwiaW5wdXRcXFwiLGlucHV0QXR0cmlidXRlcyksdGhpcy5wcm9jZXNzRW5kVGFnKFxcXCJsYWJlbFxcXCIpLHRoaXMucHJvY2Vzc1N0YXJ0VGFnKFxcXCJoclxcXCIpLHRoaXMucHJvY2Vzc0VuZFRhZyhcXFwiZm9ybVxcXCIpfX0sbW9kZXMuaW5Cb2R5LnN0YXJ0VGFnVGV4dGFyZWE9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKSx0cmVlLnRva2VuaXplci5zZXRTdGF0ZShUb2tlbml6ZXIuUkNEQVRBKSx0cmVlLm9yaWdpbmFsSW5zZXJ0aW9uTW9kZT10cmVlLmluc2VydGlvbk1vZGVOYW1lLHRyZWUuc2hvdWxkU2tpcExlYWRpbmdOZXdsaW5lPSEwLHRyZWUuZnJhbWVzZXRPaz0hMSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcInRleHRcXFwiKX0sbW9kZXMuaW5Cb2R5LnN0YXJ0VGFnSUZyYW1lPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dHJlZS5mcmFtZXNldE9rPSExLHRoaXMuc3RhcnRUYWdSYXdUZXh0KG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluQm9keS5zdGFydFRhZ1Jhd1RleHQ9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnByb2Nlc3NHZW5lcmljUmF3VGV4dFN0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluQm9keS5zdGFydFRhZ1NlbGVjdD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUucmVjb25zdHJ1Y3RBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKSx0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKSx0cmVlLmZyYW1lc2V0T2s9ITE7dmFyIGluc2VydGlvbk1vZGVOYW1lPXRyZWUuaW5zZXJ0aW9uTW9kZU5hbWU7XFxcImluVGFibGVcXFwiPT1pbnNlcnRpb25Nb2RlTmFtZXx8XFxcImluQ2FwdGlvblxcXCI9PWluc2VydGlvbk1vZGVOYW1lfHxcXFwiaW5Db2x1bW5Hcm91cFxcXCI9PWluc2VydGlvbk1vZGVOYW1lfHxcXFwiaW5UYWJsZUJvZHlcXFwiPT1pbnNlcnRpb25Nb2RlTmFtZXx8XFxcImluUm93XFxcIj09aW5zZXJ0aW9uTW9kZU5hbWV8fFxcXCJpbkNlbGxcXFwiPT1pbnNlcnRpb25Nb2RlTmFtZT90cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluU2VsZWN0SW5UYWJsZVxcXCIpOnRyZWUuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5TZWxlY3RcXFwiKX0sbW9kZXMuaW5Cb2R5LnN0YXJ0VGFnTWlzcGxhY2VkPWZ1bmN0aW9uKG5hbWUpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1zdGFydC10YWctaWdub3JlZFxcXCIse25hbWU6bmFtZX0pfSxtb2Rlcy5pbkJvZHkuZW5kVGFnTWlzcGxhY2VkPWZ1bmN0aW9uKG5hbWUpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluQm9keS5lbmRUYWdCcj1mdW5jdGlvbihuYW1lKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZy10cmVhdGVkLWFzXFxcIix7b3JpZ2luYWxOYW1lOlxcXCJiclxcXCIsbmV3TmFtZTpcXFwiYnIgZWxlbWVudFxcXCJ9KSx0cmVlLnJlY29uc3RydWN0QWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzKCksdHJlZS5pbnNlcnRFbGVtZW50KG5hbWUsW10pLHRyZWUucG9wRWxlbWVudCgpfSxtb2Rlcy5pbkJvZHkuc3RhcnRUYWdPcHRpb25PcHRncm91cD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe1xcXCJvcHRpb25cXFwiPT10cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWUmJnRyZWUucG9wRWxlbWVudCgpLHRyZWUucmVjb25zdHJ1Y3RBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKSx0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5Cb2R5LnN0YXJ0VGFnT3RoZXI9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnJlY29uc3RydWN0QWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzKCksdHJlZS5pbnNlcnRFbGVtZW50KG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluQm9keS5lbmRUYWdPdGhlcj1mdW5jdGlvbihuYW1lKXtmb3IodmFyIG5vZGUsaT10cmVlLm9wZW5FbGVtZW50cy5sZW5ndGgtMTtpPjA7aS0tKXtpZihub2RlPXRyZWUub3BlbkVsZW1lbnRzLml0ZW0oaSksbm9kZS5sb2NhbE5hbWU9PW5hbWUpe3RyZWUuZ2VuZXJhdGVJbXBsaWVkRW5kVGFncyhuYW1lKSx0cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWUhPW5hbWUmJnRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSksdHJlZS5vcGVuRWxlbWVudHMucmVtb3ZlX29wZW5FbGVtZW50c191bnRpbChmdW5jdGlvbih4KXtyZXR1cm4geD09PW5vZGV9KTticmVha31pZihub2RlLmlzU3BlY2lhbCgpKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZ1xcXCIse25hbWU6bmFtZX0pO2JyZWFrfX19LG1vZGVzLmluQm9keS5zdGFydFRhZ01hdGg9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKXt0cmVlLnJlY29uc3RydWN0QWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzKCksYXR0cmlidXRlcz10cmVlLmFkanVzdE1hdGhNTEF0dHJpYnV0ZXMoYXR0cmlidXRlcyksYXR0cmlidXRlcz10cmVlLmFkanVzdEZvcmVpZ25BdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpLHRyZWUuaW5zZXJ0Rm9yZWlnbkVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzLFxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXFxcIixzZWxmQ2xvc2luZyl9LG1vZGVzLmluQm9keS5zdGFydFRhZ1NWRz1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3Npbmcpe3RyZWUucmVjb25zdHJ1Y3RBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKSxhdHRyaWJ1dGVzPXRyZWUuYWRqdXN0U1ZHQXR0cmlidXRlcyhhdHRyaWJ1dGVzKSxhdHRyaWJ1dGVzPXRyZWUuYWRqdXN0Rm9yZWlnbkF0dHJpYnV0ZXMoYXR0cmlidXRlcyksdHJlZS5pbnNlcnRGb3JlaWduRWxlbWVudChuYW1lLGF0dHJpYnV0ZXMsXFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIixzZWxmQ2xvc2luZyl9LG1vZGVzLmluQm9keS5lbmRUYWdQPWZ1bmN0aW9uKG5hbWUpe3RyZWUub3BlbkVsZW1lbnRzLmluQnV0dG9uU2NvcGUoXFxcInBcXFwiKT8odHJlZS5nZW5lcmF0ZUltcGxpZWRFbmRUYWdzKFxcXCJwXFxcIiksXFxcInBcXFwiIT10cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWUmJnRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1pbXBsaWVkLWVuZC10YWdcXFwiLHtuYW1lOlxcXCJwXFxcIn0pLHRyZWUub3BlbkVsZW1lbnRzLnBvcFVudGlsUG9wcGVkKG5hbWUpKToodHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWdcXFwiLHtuYW1lOlxcXCJwXFxcIn0pLHRoaXMuc3RhcnRUYWdDbG9zZVAoXFxcInBcXFwiLFtdKSx0aGlzLmVuZFRhZ1AoXFxcInBcXFwiKSl9LG1vZGVzLmluQm9keS5lbmRUYWdCb2R5PWZ1bmN0aW9uKG5hbWUpe3JldHVybiB0cmVlLm9wZW5FbGVtZW50cy5pblNjb3BlKFxcXCJib2R5XFxcIik/KFxcXCJib2R5XFxcIiE9dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lJiZ0cmVlLnBhcnNlRXJyb3IoXFxcImV4cGVjdGVkLW9uZS1lbmQtdGFnLWJ1dC1nb3QtYW5vdGhlclxcXCIse2V4cGVjdGVkTmFtZTp0cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWUsZ290TmFtZTpuYW1lfSksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJhZnRlckJvZHlcXFwiKSx2b2lkIDApOih0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZ1xcXCIse25hbWU6bmFtZX0pLHZvaWQgMCl9LG1vZGVzLmluQm9keS5lbmRUYWdIdG1sPWZ1bmN0aW9uKG5hbWUpe3JldHVybiB0cmVlLm9wZW5FbGVtZW50cy5pblNjb3BlKFxcXCJib2R5XFxcIik/KFxcXCJib2R5XFxcIiE9dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lJiZ0cmVlLnBhcnNlRXJyb3IoXFxcImV4cGVjdGVkLW9uZS1lbmQtdGFnLWJ1dC1nb3QtYW5vdGhlclxcXCIse2V4cGVjdGVkTmFtZTp0cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWUsZ290TmFtZTpuYW1lfSksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJhZnRlckJvZHlcXFwiKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VuZFRhZyhuYW1lKSx2b2lkIDApOih0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZ1xcXCIse25hbWU6bmFtZX0pLHZvaWQgMCl9LG1vZGVzLmluQm9keS5lbmRUYWdCbG9jaz1mdW5jdGlvbihuYW1lKXt0cmVlLm9wZW5FbGVtZW50cy5pblNjb3BlKG5hbWUpPyh0cmVlLmdlbmVyYXRlSW1wbGllZEVuZFRhZ3MoKSx0cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWUhPW5hbWUmJnRyZWUucGFyc2VFcnJvcihcXFwiZW5kLXRhZy10b28tZWFybHlcXFwiLHtuYW1lOm5hbWV9KSx0cmVlLm9wZW5FbGVtZW50cy5wb3BVbnRpbFBvcHBlZChuYW1lKSk6dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWdcXFwiLHtuYW1lOm5hbWV9KX0sbW9kZXMuaW5Cb2R5LmVuZFRhZ0Zvcm09ZnVuY3Rpb24obmFtZSl7dmFyIG5vZGU9dHJlZS5mb3JtO3RyZWUuZm9ybT1udWxsLG5vZGUmJnRyZWUub3BlbkVsZW1lbnRzLmluU2NvcGUobmFtZSk/KHRyZWUuZ2VuZXJhdGVJbXBsaWVkRW5kVGFncygpLHRyZWUuY3VycmVudFN0YWNrSXRlbSgpIT1ub2RlJiZ0cmVlLnBhcnNlRXJyb3IoXFxcImVuZC10YWctdG9vLWVhcmx5LWlnbm9yZWRcXFwiLHtuYW1lOlxcXCJmb3JtXFxcIn0pLHRyZWUub3BlbkVsZW1lbnRzLnJlbW92ZShub2RlKSk6dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWdcXFwiLHtuYW1lOm5hbWV9KX0sbW9kZXMuaW5Cb2R5LmVuZFRhZ0xpc3RJdGVtPWZ1bmN0aW9uKG5hbWUpe3RyZWUub3BlbkVsZW1lbnRzLmluTGlzdEl0ZW1TY29wZShuYW1lKT8odHJlZS5nZW5lcmF0ZUltcGxpZWRFbmRUYWdzKG5hbWUpLHRyZWUuY3VycmVudFN0YWNrSXRlbSgpLmxvY2FsTmFtZSE9bmFtZSYmdHJlZS5wYXJzZUVycm9yKFxcXCJlbmQtdGFnLXRvby1lYXJseVxcXCIse25hbWU6bmFtZX0pLHRyZWUub3BlbkVsZW1lbnRzLnBvcFVudGlsUG9wcGVkKG5hbWUpKTp0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZ1xcXCIse25hbWU6bmFtZX0pfSxtb2Rlcy5pbkJvZHkuZW5kVGFnSGVhZGluZz1mdW5jdGlvbihuYW1lKXtyZXR1cm4gdHJlZS5vcGVuRWxlbWVudHMuaGFzTnVtYmVyZWRIZWFkZXJFbGVtZW50SW5TY29wZSgpPyh0cmVlLmdlbmVyYXRlSW1wbGllZEVuZFRhZ3MoKSx0cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWUhPW5hbWUmJnRyZWUucGFyc2VFcnJvcihcXFwiZW5kLXRhZy10b28tZWFybHlcXFwiLHtuYW1lOm5hbWV9KSx0cmVlLm9wZW5FbGVtZW50cy5yZW1vdmVfb3BlbkVsZW1lbnRzX3VudGlsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzTnVtYmVyZWRIZWFkZXIoKX0pLHZvaWQgMCk6KHRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSksdm9pZCAwKX0sbW9kZXMuaW5Cb2R5LmVuZFRhZ0Zvcm1hdHRpbmc9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLmFkb3B0aW9uQWdlbmN5RW5kVGFnKG5hbWUpfHx0aGlzLmVuZFRhZ090aGVyKG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluQ2FwdGlvbj1PYmplY3QuY3JlYXRlKG1vZGVzLmJhc2UpLG1vZGVzLmluQ2FwdGlvbi5zdGFydF90YWdfaGFuZGxlcnM9e2h0bWw6XFxcInN0YXJ0VGFnSHRtbFxcXCIsY2FwdGlvbjpcXFwic3RhcnRUYWdUYWJsZUVsZW1lbnRcXFwiLGNvbDpcXFwic3RhcnRUYWdUYWJsZUVsZW1lbnRcXFwiLGNvbGdyb3VwOlxcXCJzdGFydFRhZ1RhYmxlRWxlbWVudFxcXCIsdGJvZHk6XFxcInN0YXJ0VGFnVGFibGVFbGVtZW50XFxcIix0ZDpcXFwic3RhcnRUYWdUYWJsZUVsZW1lbnRcXFwiLHRmb290OlxcXCJzdGFydFRhZ1RhYmxlRWxlbWVudFxcXCIsdGhlYWQ6XFxcInN0YXJ0VGFnVGFibGVFbGVtZW50XFxcIix0cjpcXFwic3RhcnRUYWdUYWJsZUVsZW1lbnRcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcInN0YXJ0VGFnT3RoZXJcXFwifSxtb2Rlcy5pbkNhcHRpb24uZW5kX3RhZ19oYW5kbGVycz17Y2FwdGlvbjpcXFwiZW5kVGFnQ2FwdGlvblxcXCIsdGFibGU6XFxcImVuZFRhZ1RhYmxlXFxcIixib2R5OlxcXCJlbmRUYWdJZ25vcmVcXFwiLGNvbDpcXFwiZW5kVGFnSWdub3JlXFxcIixjb2xncm91cDpcXFwiZW5kVGFnSWdub3JlXFxcIixodG1sOlxcXCJlbmRUYWdJZ25vcmVcXFwiLHRib2R5OlxcXCJlbmRUYWdJZ25vcmVcXFwiLHRkOlxcXCJlbmRUYWdJZ25vcmVcXFwiLHRmb29kOlxcXCJlbmRUYWdJZ25vcmVcXFwiLHRoZWFkOlxcXCJlbmRUYWdJZ25vcmVcXFwiLHRyOlxcXCJlbmRUYWdJZ25vcmVcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcImVuZFRhZ090aGVyXFxcIn0sbW9kZXMuaW5DYXB0aW9uLnByb2Nlc3NDaGFyYWN0ZXJzPWZ1bmN0aW9uKGRhdGEpe21vZGVzLmluQm9keS5wcm9jZXNzQ2hhcmFjdGVycyhkYXRhKX0sbW9kZXMuaW5DYXB0aW9uLnN0YXJ0VGFnVGFibGVFbGVtZW50PWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWdcXFwiLHtuYW1lOm5hbWV9KTt2YXIgaWdub3JlRW5kVGFnPSF0cmVlLm9wZW5FbGVtZW50cy5pblRhYmxlU2NvcGUoXFxcImNhcHRpb25cXFwiKTt0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VuZFRhZyhcXFwiY2FwdGlvblxcXCIpLGlnbm9yZUVuZFRhZ3x8dHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pbkNhcHRpb24uc3RhcnRUYWdPdGhlcj1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3Npbmcpe21vZGVzLmluQm9keS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKX0sbW9kZXMuaW5DYXB0aW9uLmVuZFRhZ0NhcHRpb249ZnVuY3Rpb24obmFtZSl7dHJlZS5vcGVuRWxlbWVudHMuaW5UYWJsZVNjb3BlKFxcXCJjYXB0aW9uXFxcIik/KHRyZWUuZ2VuZXJhdGVJbXBsaWVkRW5kVGFncygpLFxcXCJjYXB0aW9uXFxcIiE9dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lJiZ0cmVlLnBhcnNlRXJyb3IoXFxcImV4cGVjdGVkLW9uZS1lbmQtdGFnLWJ1dC1nb3QtYW5vdGhlclxcXCIse2dvdE5hbWU6XFxcImNhcHRpb25cXFwiLGV4cGVjdGVkTmFtZTp0cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWV9KSx0cmVlLm9wZW5FbGVtZW50cy5wb3BVbnRpbFBvcHBlZChcXFwiY2FwdGlvblxcXCIpLHRyZWUuY2xlYXJBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluVGFibGVcXFwiKSk6KGFzc2VydC5vayh0cmVlLmNvbnRleHQpLHRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSkpfSxtb2Rlcy5pbkNhcHRpb24uZW5kVGFnVGFibGU9ZnVuY3Rpb24obmFtZSl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWJsZS1pbi1jYXB0aW9uXFxcIik7dmFyIGlnbm9yZUVuZFRhZz0hdHJlZS5vcGVuRWxlbWVudHMuaW5UYWJsZVNjb3BlKFxcXCJjYXB0aW9uXFxcIik7dHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcoXFxcImNhcHRpb25cXFwiKSxpZ25vcmVFbmRUYWd8fHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzRW5kVGFnKG5hbWUpfSxtb2Rlcy5pbkNhcHRpb24uZW5kVGFnSWdub3JlPWZ1bmN0aW9uKG5hbWUpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluQ2FwdGlvbi5lbmRUYWdPdGhlcj1mdW5jdGlvbihuYW1lKXttb2Rlcy5pbkJvZHkucHJvY2Vzc0VuZFRhZyhuYW1lKX0sbW9kZXMuaW5DZWxsPU9iamVjdC5jcmVhdGUobW9kZXMuYmFzZSksbW9kZXMuaW5DZWxsLnN0YXJ0X3RhZ19oYW5kbGVycz17aHRtbDpcXFwic3RhcnRUYWdIdG1sXFxcIixjYXB0aW9uOlxcXCJzdGFydFRhZ1RhYmxlT3RoZXJcXFwiLGNvbDpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIixjb2xncm91cDpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIix0Ym9keTpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIix0ZDpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIix0Zm9vdDpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIix0aDpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIix0aGVhZDpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIix0cjpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJzdGFydFRhZ090aGVyXFxcIn0sbW9kZXMuaW5DZWxsLmVuZF90YWdfaGFuZGxlcnM9e3RkOlxcXCJlbmRUYWdUYWJsZUNlbGxcXFwiLHRoOlxcXCJlbmRUYWdUYWJsZUNlbGxcXFwiLGJvZHk6XFxcImVuZFRhZ0lnbm9yZVxcXCIsY2FwdGlvbjpcXFwiZW5kVGFnSWdub3JlXFxcIixjb2w6XFxcImVuZFRhZ0lnbm9yZVxcXCIsY29sZ3JvdXA6XFxcImVuZFRhZ0lnbm9yZVxcXCIsaHRtbDpcXFwiZW5kVGFnSWdub3JlXFxcIix0YWJsZTpcXFwiZW5kVGFnSW1wbHlcXFwiLHRib2R5OlxcXCJlbmRUYWdJbXBseVxcXCIsdGZvb3Q6XFxcImVuZFRhZ0ltcGx5XFxcIix0aGVhZDpcXFwiZW5kVGFnSW1wbHlcXFwiLHRyOlxcXCJlbmRUYWdJbXBseVxcXCIsXFxcIi1kZWZhdWx0XFxcIjpcXFwiZW5kVGFnT3RoZXJcXFwifSxtb2Rlcy5pbkNlbGwucHJvY2Vzc0NoYXJhY3RlcnM9ZnVuY3Rpb24oZGF0YSl7bW9kZXMuaW5Cb2R5LnByb2Nlc3NDaGFyYWN0ZXJzKGRhdGEpfSxtb2Rlcy5pbkNlbGwuc3RhcnRUYWdUYWJsZU90aGVyPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyl7dHJlZS5vcGVuRWxlbWVudHMuaW5UYWJsZVNjb3BlKFxcXCJ0ZFxcXCIpfHx0cmVlLm9wZW5FbGVtZW50cy5pblRhYmxlU2NvcGUoXFxcInRoXFxcIik/KHRoaXMuY2xvc2VDZWxsKCksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3NpbmcpKTp0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnXFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluQ2VsbC5zdGFydFRhZ090aGVyPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyl7bW9kZXMuaW5Cb2R5LnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3NpbmcpfSxtb2Rlcy5pbkNlbGwuZW5kVGFnVGFibGVDZWxsPWZ1bmN0aW9uKG5hbWUpe3RyZWUub3BlbkVsZW1lbnRzLmluVGFibGVTY29wZShuYW1lKT8odHJlZS5nZW5lcmF0ZUltcGxpZWRFbmRUYWdzKG5hbWUpLHRyZWUuY3VycmVudFN0YWNrSXRlbSgpLmxvY2FsTmFtZSE9bmFtZS50b0xvd2VyQ2FzZSgpPyh0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtY2VsbC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSksdHJlZS5vcGVuRWxlbWVudHMucG9wVW50aWxQb3BwZWQobmFtZSkpOnRyZWUucG9wRWxlbWVudCgpLHRyZWUuY2xlYXJBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluUm93XFxcIikpOnRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluQ2VsbC5lbmRUYWdJZ25vcmU9ZnVuY3Rpb24obmFtZSl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWdcXFwiLHtuYW1lOm5hbWV9KX0sbW9kZXMuaW5DZWxsLmVuZFRhZ0ltcGx5PWZ1bmN0aW9uKG5hbWUpe3RyZWUub3BlbkVsZW1lbnRzLmluVGFibGVTY29wZShuYW1lKT8odGhpcy5jbG9zZUNlbGwoKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VuZFRhZyhuYW1lKSk6dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWdcXFwiLHtuYW1lOm5hbWV9KX0sbW9kZXMuaW5DZWxsLmVuZFRhZ090aGVyPWZ1bmN0aW9uKG5hbWUpe21vZGVzLmluQm9keS5wcm9jZXNzRW5kVGFnKG5hbWUpfSxtb2Rlcy5pbkNlbGwuY2xvc2VDZWxsPWZ1bmN0aW9uKCl7dHJlZS5vcGVuRWxlbWVudHMuaW5UYWJsZVNjb3BlKFxcXCJ0ZFxcXCIpP3RoaXMuZW5kVGFnVGFibGVDZWxsKFxcXCJ0ZFxcXCIpOnRyZWUub3BlbkVsZW1lbnRzLmluVGFibGVTY29wZShcXFwidGhcXFwiKSYmdGhpcy5lbmRUYWdUYWJsZUNlbGwoXFxcInRoXFxcIil9LG1vZGVzLmluQ29sdW1uR3JvdXA9T2JqZWN0LmNyZWF0ZShtb2Rlcy5iYXNlKSxtb2Rlcy5pbkNvbHVtbkdyb3VwLnN0YXJ0X3RhZ19oYW5kbGVycz17aHRtbDpcXFwic3RhcnRUYWdIdG1sXFxcIixjb2w6XFxcInN0YXJ0VGFnQ29sXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJzdGFydFRhZ090aGVyXFxcIn0sbW9kZXMuaW5Db2x1bW5Hcm91cC5lbmRfdGFnX2hhbmRsZXJzPXtjb2xncm91cDpcXFwiZW5kVGFnQ29sZ3JvdXBcXFwiLGNvbDpcXFwiZW5kVGFnQ29sXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJlbmRUYWdPdGhlclxcXCJ9LG1vZGVzLmluQ29sdW1uR3JvdXAuaWdub3JlRW5kVGFnQ29sZ3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm5cXFwiaHRtbFxcXCI9PXRyZWUuY3VycmVudFN0YWNrSXRlbSgpLmxvY2FsTmFtZX0sbW9kZXMuaW5Db2x1bW5Hcm91cC5wcm9jZXNzQ2hhcmFjdGVycz1mdW5jdGlvbihidWZmZXIpe3ZhciBsZWFkaW5nV2hpdGVzcGFjZT1idWZmZXIudGFrZUxlYWRpbmdXaGl0ZXNwYWNlKCk7aWYobGVhZGluZ1doaXRlc3BhY2UmJnRyZWUuaW5zZXJ0VGV4dChsZWFkaW5nV2hpdGVzcGFjZSksYnVmZmVyLmxlbmd0aCl7dmFyIGlnbm9yZUVuZFRhZz10aGlzLmlnbm9yZUVuZFRhZ0NvbGdyb3VwKCk7dGhpcy5lbmRUYWdDb2xncm91cChcXFwiY29sZ3JvdXBcXFwiKSxpZ25vcmVFbmRUYWd8fHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzQ2hhcmFjdGVycyhidWZmZXIpfX0sbW9kZXMuaW5Db2x1bW5Hcm91cC5zdGFydFRhZ0NvbD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUuaW5zZXJ0U2VsZkNsb3NpbmdFbGVtZW50KG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluQ29sdW1uR3JvdXAuc3RhcnRUYWdPdGhlcj1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3Npbmcpe3ZhciBpZ25vcmVFbmRUYWc9dGhpcy5pZ25vcmVFbmRUYWdDb2xncm91cCgpO3RoaXMuZW5kVGFnQ29sZ3JvdXAoXFxcImNvbGdyb3VwXFxcIiksaWdub3JlRW5kVGFnfHx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyl9LG1vZGVzLmluQ29sdW1uR3JvdXAuZW5kVGFnQ29sZ3JvdXA9ZnVuY3Rpb24obmFtZSl7dGhpcy5pZ25vcmVFbmRUYWdDb2xncm91cCgpPyhhc3NlcnQub2sodHJlZS5jb250ZXh0KSx0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZ1xcXCIse25hbWU6bmFtZX0pKToodHJlZS5wb3BFbGVtZW50KCksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpblRhYmxlXFxcIikpfSxtb2Rlcy5pbkNvbHVtbkdyb3VwLmVuZFRhZ0NvbD1mdW5jdGlvbigpe3RyZWUucGFyc2VFcnJvcihcXFwibm8tZW5kLXRhZ1xcXCIse25hbWU6XFxcImNvbFxcXCJ9KX0sbW9kZXMuaW5Db2x1bW5Hcm91cC5lbmRUYWdPdGhlcj1mdW5jdGlvbihuYW1lKXt2YXIgaWdub3JlRW5kVGFnPXRoaXMuaWdub3JlRW5kVGFnQ29sZ3JvdXAoKTt0aGlzLmVuZFRhZ0NvbGdyb3VwKFxcXCJjb2xncm91cFxcXCIpLGlnbm9yZUVuZFRhZ3x8dHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcobmFtZSl9LG1vZGVzLmluRm9yZWlnbkNvbnRlbnQ9T2JqZWN0LmNyZWF0ZShtb2Rlcy5iYXNlKSxtb2Rlcy5pbkZvcmVpZ25Db250ZW50LnByb2Nlc3NTdGFydFRhZz1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3Npbmcpe2lmKC0xIT1bXFxcImJcXFwiLFxcXCJiaWdcXFwiLFxcXCJibG9ja3F1b3RlXFxcIixcXFwiYm9keVxcXCIsXFxcImJyXFxcIixcXFwiY2VudGVyXFxcIixcXFwiY29kZVxcXCIsXFxcImRkXFxcIixcXFwiZGl2XFxcIixcXFwiZGxcXFwiLFxcXCJkdFxcXCIsXFxcImVtXFxcIixcXFwiZW1iZWRcXFwiLFxcXCJoMVxcXCIsXFxcImgyXFxcIixcXFwiaDNcXFwiLFxcXCJoNFxcXCIsXFxcImg1XFxcIixcXFwiaDZcXFwiLFxcXCJoZWFkXFxcIixcXFwiaHJcXFwiLFxcXCJpXFxcIixcXFwiaW1nXFxcIixcXFwibGlcXFwiLFxcXCJsaXN0aW5nXFxcIixcXFwibWVudVxcXCIsXFxcIm1ldGFcXFwiLFxcXCJub2JyXFxcIixcXFwib2xcXFwiLFxcXCJwXFxcIixcXFwicHJlXFxcIixcXFwicnVieVxcXCIsXFxcInNcXFwiLFxcXCJzbWFsbFxcXCIsXFxcInNwYW5cXFwiLFxcXCJzdHJvbmdcXFwiLFxcXCJzdHJpa2VcXFwiLFxcXCJzdWJcXFwiLFxcXCJzdXBcXFwiLFxcXCJ0YWJsZVxcXCIsXFxcInR0XFxcIixcXFwidVxcXCIsXFxcInVsXFxcIixcXFwidmFyXFxcIl0uaW5kZXhPZihuYW1lKXx8XFxcImZvbnRcXFwiPT1uYW1lJiZhdHRyaWJ1dGVzLnNvbWUoZnVuY3Rpb24oYXR0cil7cmV0dXJuW1xcXCJjb2xvclxcXCIsXFxcImZhY2VcXFwiLFxcXCJzaXplXFxcIl0uaW5kZXhPZihhdHRyLm5vZGVOYW1lKT49MH0pKXtmb3IodHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWh0bWwtZWxlbWVudC1pbi1mb3JlaWduLWNvbnRlbnRcXFwiLHtuYW1lOm5hbWV9KTt0cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5pc0ZvcmVpZ24oKSYmIXRyZWUuY3VycmVudFN0YWNrSXRlbSgpLmlzSHRtbEludGVncmF0aW9uUG9pbnQoKSYmIXRyZWUuY3VycmVudFN0YWNrSXRlbSgpLmlzTWF0aE1MVGV4dEludGVncmF0aW9uUG9pbnQoKTspdHJlZS5vcGVuRWxlbWVudHMucG9wKCk7cmV0dXJuIHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKSx2b2lkIDB9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcXFwiPT10cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5uYW1lc3BhY2VVUkkmJihhdHRyaWJ1dGVzPXRyZWUuYWRqdXN0TWF0aE1MQXR0cmlidXRlcyhhdHRyaWJ1dGVzKSksXFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj09dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubmFtZXNwYWNlVVJJJiYobmFtZT10cmVlLmFkanVzdFNWR1RhZ05hbWVDYXNlKG5hbWUpLGF0dHJpYnV0ZXM9dHJlZS5hZGp1c3RTVkdBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpKSxhdHRyaWJ1dGVzPXRyZWUuYWRqdXN0Rm9yZWlnbkF0dHJpYnV0ZXMoYXR0cmlidXRlcyksdHJlZS5pbnNlcnRGb3JlaWduRWxlbWVudChuYW1lLGF0dHJpYnV0ZXMsdHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubmFtZXNwYWNlVVJJLHNlbGZDbG9zaW5nKX0sbW9kZXMuaW5Gb3JlaWduQ29udGVudC5wcm9jZXNzRW5kVGFnPWZ1bmN0aW9uKG5hbWUpe3ZhciBub2RlPXRyZWUuY3VycmVudFN0YWNrSXRlbSgpLGluZGV4PXRyZWUub3BlbkVsZW1lbnRzLmxlbmd0aC0xO2Zvcihub2RlLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpIT1uYW1lJiZ0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZ1xcXCIse25hbWU6bmFtZX0pOzspe2lmKDA9PT1pbmRleClicmVhaztpZihub2RlLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpPT1uYW1lKXtmb3IoO3RyZWUub3BlbkVsZW1lbnRzLnBvcCgpIT1ub2RlOyk7YnJlYWt9aWYoaW5kZXgtPTEsbm9kZT10cmVlLm9wZW5FbGVtZW50cy5pdGVtKGluZGV4KSwhbm9kZS5pc0ZvcmVpZ24oKSl7dHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcobmFtZSk7YnJlYWt9fX0sbW9kZXMuaW5Gb3JlaWduQ29udGVudC5wcm9jZXNzQ2hhcmFjdGVycz1mdW5jdGlvbihidWZmZXIpe3ZhciBjaGFyYWN0ZXJzPWJ1ZmZlci50YWtlUmVtYWluaW5nKCk7Y2hhcmFjdGVycz1jaGFyYWN0ZXJzLnJlcGxhY2UoL1xcXFx1MDAwMC9nLGZ1bmN0aW9uKCl7cmV0dXJuIHRyZWUucGFyc2VFcnJvcihcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiKSxcXFwi77+9XFxcIn0pLHRyZWUuZnJhbWVzZXRPayYmIWlzQWxsV2hpdGVzcGFjZU9yUmVwbGFjZW1lbnRDaGFyYWN0ZXJzKGNoYXJhY3RlcnMpJiYodHJlZS5mcmFtZXNldE9rPSExKSx0cmVlLmluc2VydFRleHQoY2hhcmFjdGVycyl9LG1vZGVzLmluSGVhZE5vc2NyaXB0PU9iamVjdC5jcmVhdGUobW9kZXMuYmFzZSksbW9kZXMuaW5IZWFkTm9zY3JpcHQuc3RhcnRfdGFnX2hhbmRsZXJzPXtodG1sOlxcXCJzdGFydFRhZ0h0bWxcXFwiLGJhc2Vmb250OlxcXCJzdGFydFRhZ0Jhc2Vmb250Qmdzb3VuZExpbmtNZXRhTm9mcmFtZXNTdHlsZVxcXCIsYmdzb3VuZDpcXFwic3RhcnRUYWdCYXNlZm9udEJnc291bmRMaW5rTWV0YU5vZnJhbWVzU3R5bGVcXFwiLGxpbms6XFxcInN0YXJ0VGFnQmFzZWZvbnRCZ3NvdW5kTGlua01ldGFOb2ZyYW1lc1N0eWxlXFxcIixtZXRhOlxcXCJzdGFydFRhZ0Jhc2Vmb250Qmdzb3VuZExpbmtNZXRhTm9mcmFtZXNTdHlsZVxcXCIsbm9mcmFtZXM6XFxcInN0YXJ0VGFnQmFzZWZvbnRCZ3NvdW5kTGlua01ldGFOb2ZyYW1lc1N0eWxlXFxcIixzdHlsZTpcXFwic3RhcnRUYWdCYXNlZm9udEJnc291bmRMaW5rTWV0YU5vZnJhbWVzU3R5bGVcXFwiLGhlYWQ6XFxcInN0YXJ0VGFnSGVhZE5vc2NyaXB0XFxcIixub3NjcmlwdDpcXFwic3RhcnRUYWdIZWFkTm9zY3JpcHRcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcInN0YXJ0VGFnT3RoZXJcXFwifSxtb2Rlcy5pbkhlYWROb3NjcmlwdC5lbmRfdGFnX2hhbmRsZXJzPXtub3NjcmlwdDpcXFwiZW5kVGFnTm9zY3JpcHRcXFwiLGJyOlxcXCJlbmRUYWdCclxcXCIsXFxcIi1kZWZhdWx0XFxcIjpcXFwiZW5kVGFnT3RoZXJcXFwifSxtb2Rlcy5pbkhlYWROb3NjcmlwdC5wcm9jZXNzQ2hhcmFjdGVycz1mdW5jdGlvbihidWZmZXIpe3ZhciBsZWFkaW5nV2hpdGVzcGFjZT1idWZmZXIudGFrZUxlYWRpbmdXaGl0ZXNwYWNlKCk7bGVhZGluZ1doaXRlc3BhY2UmJnRyZWUuaW5zZXJ0VGV4dChsZWFkaW5nV2hpdGVzcGFjZSksYnVmZmVyLmxlbmd0aCYmKHRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1jaGFyLWluLWZyYW1lc2V0XFxcIiksdGhpcy5hbnl0aGluZ0Vsc2UoKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0NoYXJhY3RlcnMoYnVmZmVyKSl9LG1vZGVzLmluSGVhZE5vc2NyaXB0LnByb2Nlc3NDb21tZW50PWZ1bmN0aW9uKGRhdGEpe21vZGVzLmluSGVhZC5wcm9jZXNzQ29tbWVudChkYXRhKX0sbW9kZXMuaW5IZWFkTm9zY3JpcHQuc3RhcnRUYWdCYXNlZm9udEJnc291bmRMaW5rTWV0YU5vZnJhbWVzU3R5bGU9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXttb2Rlcy5pbkhlYWQucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluSGVhZE5vc2NyaXB0LnN0YXJ0VGFnSGVhZE5vc2NyaXB0PWZ1bmN0aW9uKG5hbWUpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1zdGFydC10YWctaW4tZnJhbWVzZXRcXFwiLHtuYW1lOm5hbWV9KX0sbW9kZXMuaW5IZWFkTm9zY3JpcHQuc3RhcnRUYWdPdGhlcj1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1zdGFydC10YWctaW4tZnJhbWVzZXRcXFwiLHtuYW1lOm5hbWV9KSx0aGlzLmFueXRoaW5nRWxzZSgpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5IZWFkTm9zY3JpcHQuZW5kVGFnQnI9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZy1pbi1mcmFtZXNldFxcXCIse25hbWU6bmFtZX0pLHRoaXMuYW55dGhpbmdFbHNlKCksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5IZWFkTm9zY3JpcHQuZW5kVGFnTm9zY3JpcHQ9ZnVuY3Rpb24oKXt0cmVlLnBvcEVsZW1lbnQoKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluSGVhZFxcXCIpfSxtb2Rlcy5pbkhlYWROb3NjcmlwdC5lbmRUYWdPdGhlcj1mdW5jdGlvbihuYW1lKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZy1pbi1mcmFtZXNldFxcXCIse25hbWU6bmFtZX0pfSxtb2Rlcy5pbkhlYWROb3NjcmlwdC5hbnl0aGluZ0Vsc2U9ZnVuY3Rpb24oKXt0cmVlLnBvcEVsZW1lbnQoKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluSGVhZFxcXCIpfSxtb2Rlcy5pbkZyYW1lc2V0PU9iamVjdC5jcmVhdGUobW9kZXMuYmFzZSksbW9kZXMuaW5GcmFtZXNldC5zdGFydF90YWdfaGFuZGxlcnM9e2h0bWw6XFxcInN0YXJ0VGFnSHRtbFxcXCIsZnJhbWVzZXQ6XFxcInN0YXJ0VGFnRnJhbWVzZXRcXFwiLGZyYW1lOlxcXCJzdGFydFRhZ0ZyYW1lXFxcIixub2ZyYW1lczpcXFwic3RhcnRUYWdOb2ZyYW1lc1xcXCIsXFxcIi1kZWZhdWx0XFxcIjpcXFwic3RhcnRUYWdPdGhlclxcXCJ9LG1vZGVzLmluRnJhbWVzZXQuZW5kX3RhZ19oYW5kbGVycz17ZnJhbWVzZXQ6XFxcImVuZFRhZ0ZyYW1lc2V0XFxcIixub2ZyYW1lczpcXFwiZW5kVGFnTm9mcmFtZXNcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcImVuZFRhZ090aGVyXFxcIn0sbW9kZXMuaW5GcmFtZXNldC5wcm9jZXNzQ2hhcmFjdGVycz1mdW5jdGlvbigpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1jaGFyLWluLWZyYW1lc2V0XFxcIil9LG1vZGVzLmluRnJhbWVzZXQuc3RhcnRUYWdGcmFtZXNldD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pbkZyYW1lc2V0LnN0YXJ0VGFnRnJhbWU9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLmluc2VydFNlbGZDbG9zaW5nRWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pbkZyYW1lc2V0LnN0YXJ0VGFnTm9mcmFtZXM9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXttb2Rlcy5pbkJvZHkucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluRnJhbWVzZXQuc3RhcnRUYWdPdGhlcj1mdW5jdGlvbihuYW1lKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnLWluLWZyYW1lc2V0XFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluRnJhbWVzZXQuZW5kVGFnRnJhbWVzZXQ9ZnVuY3Rpb24oKXtcXFwiaHRtbFxcXCI9PXRyZWUuY3VycmVudFN0YWNrSXRlbSgpLmxvY2FsTmFtZT90cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZnJhbWVzZXQtaW4tZnJhbWVzZXQtaW5uZXJodG1sXFxcIik6dHJlZS5wb3BFbGVtZW50KCksdHJlZS5jb250ZXh0fHxcXFwiZnJhbWVzZXRcXFwiPT10cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWV8fHRyZWUuc2V0SW5zZXJ0aW9uTW9kZShcXFwiYWZ0ZXJGcmFtZXNldFxcXCIpfSxtb2Rlcy5pbkZyYW1lc2V0LmVuZFRhZ05vZnJhbWVzPWZ1bmN0aW9uKG5hbWUpe21vZGVzLmluQm9keS5wcm9jZXNzRW5kVGFnKG5hbWUpfSxtb2Rlcy5pbkZyYW1lc2V0LmVuZFRhZ090aGVyPWZ1bmN0aW9uKG5hbWUpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnLWluLWZyYW1lc2V0XFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluVGFibGU9T2JqZWN0LmNyZWF0ZShtb2Rlcy5iYXNlKSxtb2Rlcy5pblRhYmxlLnN0YXJ0X3RhZ19oYW5kbGVycz17aHRtbDpcXFwic3RhcnRUYWdIdG1sXFxcIixjYXB0aW9uOlxcXCJzdGFydFRhZ0NhcHRpb25cXFwiLGNvbGdyb3VwOlxcXCJzdGFydFRhZ0NvbGdyb3VwXFxcIixjb2w6XFxcInN0YXJ0VGFnQ29sXFxcIix0YWJsZTpcXFwic3RhcnRUYWdUYWJsZVxcXCIsdGJvZHk6XFxcInN0YXJ0VGFnUm93R3JvdXBcXFwiLHRmb290OlxcXCJzdGFydFRhZ1Jvd0dyb3VwXFxcIix0aGVhZDpcXFwic3RhcnRUYWdSb3dHcm91cFxcXCIsdGQ6XFxcInN0YXJ0VGFnSW1wbHlUYm9keVxcXCIsdGg6XFxcInN0YXJ0VGFnSW1wbHlUYm9keVxcXCIsdHI6XFxcInN0YXJ0VGFnSW1wbHlUYm9keVxcXCIsc3R5bGU6XFxcInN0YXJ0VGFnU3R5bGVTY3JpcHRcXFwiLHNjcmlwdDpcXFwic3RhcnRUYWdTdHlsZVNjcmlwdFxcXCIsaW5wdXQ6XFxcInN0YXJ0VGFnSW5wdXRcXFwiLGZvcm06XFxcInN0YXJ0VGFnRm9ybVxcXCIsXFxcIi1kZWZhdWx0XFxcIjpcXFwic3RhcnRUYWdPdGhlclxcXCJ9LG1vZGVzLmluVGFibGUuZW5kX3RhZ19oYW5kbGVycz17dGFibGU6XFxcImVuZFRhZ1RhYmxlXFxcIixib2R5OlxcXCJlbmRUYWdJZ25vcmVcXFwiLGNhcHRpb246XFxcImVuZFRhZ0lnbm9yZVxcXCIsY29sOlxcXCJlbmRUYWdJZ25vcmVcXFwiLGNvbGdyb3VwOlxcXCJlbmRUYWdJZ25vcmVcXFwiLGh0bWw6XFxcImVuZFRhZ0lnbm9yZVxcXCIsdGJvZHk6XFxcImVuZFRhZ0lnbm9yZVxcXCIsdGQ6XFxcImVuZFRhZ0lnbm9yZVxcXCIsdGZvb3Q6XFxcImVuZFRhZ0lnbm9yZVxcXCIsdGg6XFxcImVuZFRhZ0lnbm9yZVxcXCIsdGhlYWQ6XFxcImVuZFRhZ0lnbm9yZVxcXCIsdHI6XFxcImVuZFRhZ0lnbm9yZVxcXCIsXFxcIi1kZWZhdWx0XFxcIjpcXFwiZW5kVGFnT3RoZXJcXFwifSxtb2Rlcy5pblRhYmxlLnByb2Nlc3NDaGFyYWN0ZXJzPWZ1bmN0aW9uKGRhdGEpe2lmKHRyZWUuY3VycmVudFN0YWNrSXRlbSgpLmlzRm9zdGVyUGFyZW50aW5nKCkpe3ZhciBvcmlnaW5hbEluc2VydGlvbk1vZGU9dHJlZS5pbnNlcnRpb25Nb2RlTmFtZTtcXG50cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluVGFibGVUZXh0XFxcIiksdHJlZS5vcmlnaW5hbEluc2VydGlvbk1vZGU9b3JpZ2luYWxJbnNlcnRpb25Nb2RlLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzQ2hhcmFjdGVycyhkYXRhKX1lbHNlIHRyZWUucmVkaXJlY3RBdHRhY2hUb0Zvc3RlclBhcmVudD0hMCxtb2Rlcy5pbkJvZHkucHJvY2Vzc0NoYXJhY3RlcnMoZGF0YSksdHJlZS5yZWRpcmVjdEF0dGFjaFRvRm9zdGVyUGFyZW50PSExfSxtb2Rlcy5pblRhYmxlLnN0YXJ0VGFnQ2FwdGlvbj1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUub3BlbkVsZW1lbnRzLnBvcFVudGlsVGFibGVTY29wZU1hcmtlcigpLHRyZWUuYWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzLnB1c2goTWFya2VyKSx0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluQ2FwdGlvblxcXCIpfSxtb2Rlcy5pblRhYmxlLnN0YXJ0VGFnQ29sZ3JvdXA9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLm9wZW5FbGVtZW50cy5wb3BVbnRpbFRhYmxlU2NvcGVNYXJrZXIoKSx0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluQ29sdW1uR3JvdXBcXFwiKX0sbW9kZXMuaW5UYWJsZS5zdGFydFRhZ0NvbD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RoaXMuc3RhcnRUYWdDb2xncm91cChcXFwiY29sZ3JvdXBcXFwiLFtdKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluVGFibGUuc3RhcnRUYWdSb3dHcm91cD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RyZWUub3BlbkVsZW1lbnRzLnBvcFVudGlsVGFibGVTY29wZU1hcmtlcigpLHRyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpLHRyZWUuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5UYWJsZUJvZHlcXFwiKX0sbW9kZXMuaW5UYWJsZS5zdGFydFRhZ0ltcGx5VGJvZHk9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0aGlzLnN0YXJ0VGFnUm93R3JvdXAoXFxcInRib2R5XFxcIixbXSksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pblRhYmxlLnN0YXJ0VGFnVGFibGU9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnLWltcGxpZXMtZW5kLXRhZ1xcXCIse3N0YXJ0TmFtZTpcXFwidGFibGVcXFwiLGVuZE5hbWU6XFxcInRhYmxlXFxcIn0pLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzRW5kVGFnKFxcXCJ0YWJsZVxcXCIpLHRyZWUuY29udGV4dHx8dHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pblRhYmxlLnN0YXJ0VGFnU3R5bGVTY3JpcHQ9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXttb2Rlcy5pbkhlYWQucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluVGFibGUuc3RhcnRUYWdJbnB1dD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe2Zvcih2YXIga2V5IGluIGF0dHJpYnV0ZXMpaWYoXFxcInR5cGVcXFwiPT1hdHRyaWJ1dGVzW2tleV0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7aWYoXFxcImhpZGRlblxcXCI9PWF0dHJpYnV0ZXNba2V5XS5ub2RlVmFsdWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gdHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWhpZGRlbi1pbnB1dC1pbi10YWJsZVxcXCIpLHRyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpLHRyZWUub3BlbkVsZW1lbnRzLnBvcCgpLHZvaWQgMDticmVha310aGlzLnN0YXJ0VGFnT3RoZXIobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5UYWJsZS5zdGFydFRhZ0Zvcm09ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZm9ybS1pbi10YWJsZVxcXCIpLHRyZWUuZm9ybXx8KHRyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpLHRyZWUuZm9ybT10cmVlLmN1cnJlbnRTdGFja0l0ZW0oKSx0cmVlLm9wZW5FbGVtZW50cy5wb3AoKSl9LG1vZGVzLmluVGFibGUuc3RhcnRUYWdPdGhlcj1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3Npbmcpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1zdGFydC10YWctaW1wbGllcy10YWJsZS12b29kb29cXFwiLHtuYW1lOm5hbWV9KSx0cmVlLnJlZGlyZWN0QXR0YWNoVG9Gb3N0ZXJQYXJlbnQ9ITAsbW9kZXMuaW5Cb2R5LnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3NpbmcpLHRyZWUucmVkaXJlY3RBdHRhY2hUb0Zvc3RlclBhcmVudD0hMX0sbW9kZXMuaW5UYWJsZS5lbmRUYWdUYWJsZT1mdW5jdGlvbihuYW1lKXt0cmVlLm9wZW5FbGVtZW50cy5pblRhYmxlU2NvcGUobmFtZSk/KHRyZWUuZ2VuZXJhdGVJbXBsaWVkRW5kVGFncygpLHRyZWUuY3VycmVudFN0YWNrSXRlbSgpLmxvY2FsTmFtZSE9bmFtZSYmdHJlZS5wYXJzZUVycm9yKFxcXCJlbmQtdGFnLXRvby1lYXJseS1uYW1lZFxcXCIse2dvdE5hbWU6XFxcInRhYmxlXFxcIixleHBlY3RlZE5hbWU6dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lfSksdHJlZS5vcGVuRWxlbWVudHMucG9wVW50aWxQb3BwZWQoXFxcInRhYmxlXFxcIiksdHJlZS5yZXNldEluc2VydGlvbk1vZGUoKSk6KGFzc2VydC5vayh0cmVlLmNvbnRleHQpLHRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSkpfSxtb2Rlcy5pblRhYmxlLmVuZFRhZ0lnbm9yZT1mdW5jdGlvbihuYW1lKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZ1xcXCIse25hbWU6bmFtZX0pfSxtb2Rlcy5pblRhYmxlLmVuZFRhZ090aGVyPWZ1bmN0aW9uKG5hbWUpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnLWltcGxpZXMtdGFibGUtdm9vZG9vXFxcIix7bmFtZTpuYW1lfSksdHJlZS5yZWRpcmVjdEF0dGFjaFRvRm9zdGVyUGFyZW50PSEwLG1vZGVzLmluQm9keS5wcm9jZXNzRW5kVGFnKG5hbWUpLHRyZWUucmVkaXJlY3RBdHRhY2hUb0Zvc3RlclBhcmVudD0hMX0sbW9kZXMuaW5UYWJsZVRleHQ9T2JqZWN0LmNyZWF0ZShtb2Rlcy5iYXNlKSxtb2Rlcy5pblRhYmxlVGV4dC5mbHVzaENoYXJhY3RlcnM9ZnVuY3Rpb24oKXt2YXIgY2hhcmFjdGVycz10cmVlLnBlbmRpbmdUYWJsZUNoYXJhY3RlcnMuam9pbihcXFwiXFxcIik7aXNBbGxXaGl0ZXNwYWNlKGNoYXJhY3RlcnMpP3RyZWUuaW5zZXJ0VGV4dChjaGFyYWN0ZXJzKToodHJlZS5yZWRpcmVjdEF0dGFjaFRvRm9zdGVyUGFyZW50PSEwLHRyZWUucmVjb25zdHJ1Y3RBY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoKSx0cmVlLmluc2VydFRleHQoY2hhcmFjdGVycyksdHJlZS5mcmFtZXNldE9rPSExLHRyZWUucmVkaXJlY3RBdHRhY2hUb0Zvc3RlclBhcmVudD0hMSksdHJlZS5wZW5kaW5nVGFibGVDaGFyYWN0ZXJzPVtdfSxtb2Rlcy5pblRhYmxlVGV4dC5wcm9jZXNzQ29tbWVudD1mdW5jdGlvbihkYXRhKXt0aGlzLmZsdXNoQ2hhcmFjdGVycygpLHRyZWUuc2V0SW5zZXJ0aW9uTW9kZSh0cmVlLm9yaWdpbmFsSW5zZXJ0aW9uTW9kZSksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NDb21tZW50KGRhdGEpfSxtb2Rlcy5pblRhYmxlVGV4dC5wcm9jZXNzRU9GPWZ1bmN0aW9uKCl7dGhpcy5mbHVzaENoYXJhY3RlcnMoKSx0cmVlLnNldEluc2VydGlvbk1vZGUodHJlZS5vcmlnaW5hbEluc2VydGlvbk1vZGUpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzRU9GKCl9LG1vZGVzLmluVGFibGVUZXh0LnByb2Nlc3NDaGFyYWN0ZXJzPWZ1bmN0aW9uKGJ1ZmZlcil7dmFyIGNoYXJhY3RlcnM9YnVmZmVyLnRha2VSZW1haW5pbmcoKTtjaGFyYWN0ZXJzPWNoYXJhY3RlcnMucmVwbGFjZSgvXFxcXHUwMDAwL2csZnVuY3Rpb24oKXtyZXR1cm4gdHJlZS5wYXJzZUVycm9yKFxcXCJpbnZhbGlkLWNvZGVwb2ludFxcXCIpLFxcXCJcXFwifSksY2hhcmFjdGVycyYmdHJlZS5wZW5kaW5nVGFibGVDaGFyYWN0ZXJzLnB1c2goY2hhcmFjdGVycyl9LG1vZGVzLmluVGFibGVUZXh0LnByb2Nlc3NTdGFydFRhZz1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3Npbmcpe3RoaXMuZmx1c2hDaGFyYWN0ZXJzKCksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKHRyZWUub3JpZ2luYWxJbnNlcnRpb25Nb2RlKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyl9LG1vZGVzLmluVGFibGVUZXh0LnByb2Nlc3NFbmRUYWc9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0aGlzLmZsdXNoQ2hhcmFjdGVycygpLHRyZWUuc2V0SW5zZXJ0aW9uTW9kZSh0cmVlLm9yaWdpbmFsSW5zZXJ0aW9uTW9kZSksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5UYWJsZUJvZHk9T2JqZWN0LmNyZWF0ZShtb2Rlcy5iYXNlKSxtb2Rlcy5pblRhYmxlQm9keS5zdGFydF90YWdfaGFuZGxlcnM9e2h0bWw6XFxcInN0YXJ0VGFnSHRtbFxcXCIsdHI6XFxcInN0YXJ0VGFnVHJcXFwiLHRkOlxcXCJzdGFydFRhZ1RhYmxlQ2VsbFxcXCIsdGg6XFxcInN0YXJ0VGFnVGFibGVDZWxsXFxcIixjYXB0aW9uOlxcXCJzdGFydFRhZ1RhYmxlT3RoZXJcXFwiLGNvbDpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIixjb2xncm91cDpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIix0Ym9keTpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIix0Zm9vdDpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIix0aGVhZDpcXFwic3RhcnRUYWdUYWJsZU90aGVyXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJzdGFydFRhZ090aGVyXFxcIn0sbW9kZXMuaW5UYWJsZUJvZHkuZW5kX3RhZ19oYW5kbGVycz17dGFibGU6XFxcImVuZFRhZ1RhYmxlXFxcIix0Ym9keTpcXFwiZW5kVGFnVGFibGVSb3dHcm91cFxcXCIsdGZvb3Q6XFxcImVuZFRhZ1RhYmxlUm93R3JvdXBcXFwiLHRoZWFkOlxcXCJlbmRUYWdUYWJsZVJvd0dyb3VwXFxcIixib2R5OlxcXCJlbmRUYWdJZ25vcmVcXFwiLGNhcHRpb246XFxcImVuZFRhZ0lnbm9yZVxcXCIsY29sOlxcXCJlbmRUYWdJZ25vcmVcXFwiLGNvbGdyb3VwOlxcXCJlbmRUYWdJZ25vcmVcXFwiLGh0bWw6XFxcImVuZFRhZ0lnbm9yZVxcXCIsdGQ6XFxcImVuZFRhZ0lnbm9yZVxcXCIsdGg6XFxcImVuZFRhZ0lnbm9yZVxcXCIsdHI6XFxcImVuZFRhZ0lnbm9yZVxcXCIsXFxcIi1kZWZhdWx0XFxcIjpcXFwiZW5kVGFnT3RoZXJcXFwifSxtb2Rlcy5pblRhYmxlQm9keS5wcm9jZXNzQ2hhcmFjdGVycz1mdW5jdGlvbihkYXRhKXttb2Rlcy5pblRhYmxlLnByb2Nlc3NDaGFyYWN0ZXJzKGRhdGEpfSxtb2Rlcy5pblRhYmxlQm9keS5zdGFydFRhZ1RyPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dHJlZS5vcGVuRWxlbWVudHMucG9wVW50aWxUYWJsZUJvZHlTY29wZU1hcmtlcigpLHRyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpLHRyZWUuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5Sb3dcXFwiKX0sbW9kZXMuaW5UYWJsZUJvZHkuc3RhcnRUYWdUYWJsZUNlbGw9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtY2VsbC1pbi10YWJsZS1ib2R5XFxcIix7bmFtZTpuYW1lfSksdGhpcy5zdGFydFRhZ1RyKFxcXCJ0clxcXCIsW10pLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5UYWJsZUJvZHkuc3RhcnRUYWdUYWJsZU90aGVyPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dHJlZS5vcGVuRWxlbWVudHMuaW5UYWJsZVNjb3BlKFxcXCJ0Ym9keVxcXCIpfHx0cmVlLm9wZW5FbGVtZW50cy5pblRhYmxlU2NvcGUoXFxcInRoZWFkXFxcIil8fHRyZWUub3BlbkVsZW1lbnRzLmluVGFibGVTY29wZShcXFwidGZvb3RcXFwiKT8odHJlZS5vcGVuRWxlbWVudHMucG9wVW50aWxUYWJsZUJvZHlTY29wZU1hcmtlcigpLHRoaXMuZW5kVGFnVGFibGVSb3dHcm91cCh0cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWUpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzKSk6dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLXN0YXJ0LXRhZ1xcXCIse25hbWU6bmFtZX0pfSxtb2Rlcy5pblRhYmxlQm9keS5zdGFydFRhZ090aGVyPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7bW9kZXMuaW5UYWJsZS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5UYWJsZUJvZHkuZW5kVGFnVGFibGVSb3dHcm91cD1mdW5jdGlvbihuYW1lKXt0cmVlLm9wZW5FbGVtZW50cy5pblRhYmxlU2NvcGUobmFtZSk/KHRyZWUub3BlbkVsZW1lbnRzLnBvcFVudGlsVGFibGVCb2R5U2NvcGVNYXJrZXIoKSx0cmVlLnBvcEVsZW1lbnQoKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluVGFibGVcXFwiKSk6dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWctaW4tdGFibGUtYm9keVxcXCIse25hbWU6bmFtZX0pfSxtb2Rlcy5pblRhYmxlQm9keS5lbmRUYWdUYWJsZT1mdW5jdGlvbihuYW1lKXt0cmVlLm9wZW5FbGVtZW50cy5pblRhYmxlU2NvcGUoXFxcInRib2R5XFxcIil8fHRyZWUub3BlbkVsZW1lbnRzLmluVGFibGVTY29wZShcXFwidGhlYWRcXFwiKXx8dHJlZS5vcGVuRWxlbWVudHMuaW5UYWJsZVNjb3BlKFxcXCJ0Zm9vdFxcXCIpPyh0cmVlLm9wZW5FbGVtZW50cy5wb3BVbnRpbFRhYmxlQm9keVNjb3BlTWFya2VyKCksdGhpcy5lbmRUYWdUYWJsZVJvd0dyb3VwKHRyZWUuY3VycmVudFN0YWNrSXRlbSgpLmxvY2FsTmFtZSksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcobmFtZSkpOnRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluVGFibGVCb2R5LmVuZFRhZ0lnbm9yZT1mdW5jdGlvbihuYW1lKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZy1pbi10YWJsZS1ib2R5XFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluVGFibGVCb2R5LmVuZFRhZ090aGVyPWZ1bmN0aW9uKG5hbWUpe21vZGVzLmluVGFibGUucHJvY2Vzc0VuZFRhZyhuYW1lKX0sbW9kZXMuaW5TZWxlY3Q9T2JqZWN0LmNyZWF0ZShtb2Rlcy5iYXNlKSxtb2Rlcy5pblNlbGVjdC5zdGFydF90YWdfaGFuZGxlcnM9e2h0bWw6XFxcInN0YXJ0VGFnSHRtbFxcXCIsb3B0aW9uOlxcXCJzdGFydFRhZ09wdGlvblxcXCIsb3B0Z3JvdXA6XFxcInN0YXJ0VGFnT3B0Z3JvdXBcXFwiLHNlbGVjdDpcXFwic3RhcnRUYWdTZWxlY3RcXFwiLGlucHV0OlxcXCJzdGFydFRhZ0lucHV0XFxcIixrZXlnZW46XFxcInN0YXJ0VGFnSW5wdXRcXFwiLHRleHRhcmVhOlxcXCJzdGFydFRhZ0lucHV0XFxcIixzY3JpcHQ6XFxcInN0YXJ0VGFnU2NyaXB0XFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJzdGFydFRhZ090aGVyXFxcIn0sbW9kZXMuaW5TZWxlY3QuZW5kX3RhZ19oYW5kbGVycz17b3B0aW9uOlxcXCJlbmRUYWdPcHRpb25cXFwiLG9wdGdyb3VwOlxcXCJlbmRUYWdPcHRncm91cFxcXCIsc2VsZWN0OlxcXCJlbmRUYWdTZWxlY3RcXFwiLGNhcHRpb246XFxcImVuZFRhZ1RhYmxlRWxlbWVudHNcXFwiLHRhYmxlOlxcXCJlbmRUYWdUYWJsZUVsZW1lbnRzXFxcIix0Ym9keTpcXFwiZW5kVGFnVGFibGVFbGVtZW50c1xcXCIsdGZvb3Q6XFxcImVuZFRhZ1RhYmxlRWxlbWVudHNcXFwiLHRoZWFkOlxcXCJlbmRUYWdUYWJsZUVsZW1lbnRzXFxcIix0cjpcXFwiZW5kVGFnVGFibGVFbGVtZW50c1xcXCIsdGQ6XFxcImVuZFRhZ1RhYmxlRWxlbWVudHNcXFwiLHRoOlxcXCJlbmRUYWdUYWJsZUVsZW1lbnRzXFxcIixcXFwiLWRlZmF1bHRcXFwiOlxcXCJlbmRUYWdPdGhlclxcXCJ9LG1vZGVzLmluU2VsZWN0LnByb2Nlc3NDaGFyYWN0ZXJzPWZ1bmN0aW9uKGJ1ZmZlcil7dmFyIGRhdGE9YnVmZmVyLnRha2VSZW1haW5pbmcoKTtkYXRhPWRhdGEucmVwbGFjZSgvXFxcXHUwMDAwL2csZnVuY3Rpb24oKXtyZXR1cm4gdHJlZS5wYXJzZUVycm9yKFxcXCJpbnZhbGlkLWNvZGVwb2ludFxcXCIpLFxcXCJcXFwifSksZGF0YSYmdHJlZS5pbnNlcnRUZXh0KGRhdGEpfSxtb2Rlcy5pblNlbGVjdC5zdGFydFRhZ09wdGlvbj1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe1xcXCJvcHRpb25cXFwiPT10cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWUmJnRyZWUucG9wRWxlbWVudCgpLHRyZWUuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpfSxtb2Rlcy5pblNlbGVjdC5zdGFydFRhZ09wdGdyb3VwPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7XFxcIm9wdGlvblxcXCI9PXRyZWUuY3VycmVudFN0YWNrSXRlbSgpLmxvY2FsTmFtZSYmdHJlZS5wb3BFbGVtZW50KCksXFxcIm9wdGdyb3VwXFxcIj09dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lJiZ0cmVlLnBvcEVsZW1lbnQoKSx0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5TZWxlY3QuZW5kVGFnT3B0aW9uPWZ1bmN0aW9uKG5hbWUpe3JldHVyblxcXCJvcHRpb25cXFwiIT09dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lPyh0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZy1pbi1zZWxlY3RcXFwiLHtuYW1lOm5hbWV9KSx2b2lkIDApOih0cmVlLnBvcEVsZW1lbnQoKSx2b2lkIDApfSxtb2Rlcy5pblNlbGVjdC5lbmRUYWdPcHRncm91cD1mdW5jdGlvbigpe1xcXCJvcHRpb25cXFwiPT10cmVlLmN1cnJlbnRTdGFja0l0ZW0oKS5sb2NhbE5hbWUmJlxcXCJvcHRncm91cFxcXCI9PXRyZWUub3BlbkVsZW1lbnRzLml0ZW0odHJlZS5vcGVuRWxlbWVudHMubGVuZ3RoLTIpLmxvY2FsTmFtZSYmdHJlZS5wb3BFbGVtZW50KCksXFxcIm9wdGdyb3VwXFxcIj09dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lP3RyZWUucG9wRWxlbWVudCgpOnRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnLWluLXNlbGVjdFxcXCIse25hbWU6XFxcIm9wdGdyb3VwXFxcIn0pfSxtb2Rlcy5pblNlbGVjdC5zdGFydFRhZ1NlbGVjdD1mdW5jdGlvbigpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1zZWxlY3QtaW4tc2VsZWN0XFxcIiksdGhpcy5lbmRUYWdTZWxlY3QoXFxcInNlbGVjdFxcXCIpfSxtb2Rlcy5pblNlbGVjdC5lbmRUYWdTZWxlY3Q9ZnVuY3Rpb24obmFtZSl7dHJlZS5vcGVuRWxlbWVudHMuaW5UYWJsZVNjb3BlKFxcXCJzZWxlY3RcXFwiKT8odHJlZS5vcGVuRWxlbWVudHMucG9wVW50aWxQb3BwZWQoXFxcInNlbGVjdFxcXCIpLHRyZWUucmVzZXRJbnNlcnRpb25Nb2RlKCkpOnRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluU2VsZWN0LnN0YXJ0VGFnSW5wdXQ9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtaW5wdXQtaW4tc2VsZWN0XFxcIiksdHJlZS5vcGVuRWxlbWVudHMuaW5TZWxlY3RTY29wZShcXFwic2VsZWN0XFxcIikmJih0aGlzLmVuZFRhZ1NlbGVjdChcXFwic2VsZWN0XFxcIiksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NTdGFydFRhZyhuYW1lLGF0dHJpYnV0ZXMpKX0sbW9kZXMuaW5TZWxlY3Quc3RhcnRUYWdTY3JpcHQ9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXttb2Rlcy5pbkhlYWQucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyl9LG1vZGVzLmluU2VsZWN0LmVuZFRhZ1RhYmxlRWxlbWVudHM9ZnVuY3Rpb24obmFtZSl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWctaW4tc2VsZWN0XFxcIix7bmFtZTpuYW1lfSksdHJlZS5vcGVuRWxlbWVudHMuaW5UYWJsZVNjb3BlKG5hbWUpJiYodGhpcy5lbmRUYWdTZWxlY3QoXFxcInNlbGVjdFxcXCIpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzRW5kVGFnKG5hbWUpKX0sbW9kZXMuaW5TZWxlY3Quc3RhcnRUYWdPdGhlcj1mdW5jdGlvbihuYW1lKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnLWluLXNlbGVjdFxcXCIse25hbWU6bmFtZX0pfSxtb2Rlcy5pblNlbGVjdC5lbmRUYWdPdGhlcj1mdW5jdGlvbihuYW1lKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZy1pbi1zZWxlY3RcXFwiLHtuYW1lOm5hbWV9KX0sbW9kZXMuaW5TZWxlY3RJblRhYmxlPU9iamVjdC5jcmVhdGUobW9kZXMuYmFzZSksbW9kZXMuaW5TZWxlY3RJblRhYmxlLnN0YXJ0X3RhZ19oYW5kbGVycz17Y2FwdGlvbjpcXFwic3RhcnRUYWdUYWJsZVxcXCIsdGFibGU6XFxcInN0YXJ0VGFnVGFibGVcXFwiLHRib2R5OlxcXCJzdGFydFRhZ1RhYmxlXFxcIix0Zm9vdDpcXFwic3RhcnRUYWdUYWJsZVxcXCIsdGhlYWQ6XFxcInN0YXJ0VGFnVGFibGVcXFwiLHRyOlxcXCJzdGFydFRhZ1RhYmxlXFxcIix0ZDpcXFwic3RhcnRUYWdUYWJsZVxcXCIsdGg6XFxcInN0YXJ0VGFnVGFibGVcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcInN0YXJ0VGFnT3RoZXJcXFwifSxtb2Rlcy5pblNlbGVjdEluVGFibGUuZW5kX3RhZ19oYW5kbGVycz17Y2FwdGlvbjpcXFwiZW5kVGFnVGFibGVcXFwiLHRhYmxlOlxcXCJlbmRUYWdUYWJsZVxcXCIsdGJvZHk6XFxcImVuZFRhZ1RhYmxlXFxcIix0Zm9vdDpcXFwiZW5kVGFnVGFibGVcXFwiLHRoZWFkOlxcXCJlbmRUYWdUYWJsZVxcXCIsdHI6XFxcImVuZFRhZ1RhYmxlXFxcIix0ZDpcXFwiZW5kVGFnVGFibGVcXFwiLHRoOlxcXCJlbmRUYWdUYWJsZVxcXCIsXFxcIi1kZWZhdWx0XFxcIjpcXFwiZW5kVGFnT3RoZXJcXFwifSxtb2Rlcy5pblNlbGVjdEluVGFibGUucHJvY2Vzc0NoYXJhY3RlcnM9ZnVuY3Rpb24oZGF0YSl7bW9kZXMuaW5TZWxlY3QucHJvY2Vzc0NoYXJhY3RlcnMoZGF0YSl9LG1vZGVzLmluU2VsZWN0SW5UYWJsZS5zdGFydFRhZ1RhYmxlPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLXRhYmxlLWVsZW1lbnQtc3RhcnQtdGFnLWluLXNlbGVjdC1pbi10YWJsZVxcXCIse25hbWU6bmFtZX0pLHRoaXMuZW5kVGFnT3RoZXIoXFxcInNlbGVjdFxcXCIpLHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5TZWxlY3RJblRhYmxlLnN0YXJ0VGFnT3RoZXI9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKXttb2Rlcy5pblNlbGVjdC5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzLHNlbGZDbG9zaW5nKX0sbW9kZXMuaW5TZWxlY3RJblRhYmxlLmVuZFRhZ1RhYmxlPWZ1bmN0aW9uKG5hbWUpe3RyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC10YWJsZS1lbGVtZW50LWVuZC10YWctaW4tc2VsZWN0LWluLXRhYmxlXFxcIix7bmFtZTpuYW1lfSksdHJlZS5vcGVuRWxlbWVudHMuaW5UYWJsZVNjb3BlKG5hbWUpJiYodGhpcy5lbmRUYWdPdGhlcihcXFwic2VsZWN0XFxcIiksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcobmFtZSkpfSxtb2Rlcy5pblNlbGVjdEluVGFibGUuZW5kVGFnT3RoZXI9ZnVuY3Rpb24obmFtZSl7bW9kZXMuaW5TZWxlY3QucHJvY2Vzc0VuZFRhZyhuYW1lKX0sbW9kZXMuaW5Sb3c9T2JqZWN0LmNyZWF0ZShtb2Rlcy5iYXNlKSxtb2Rlcy5pblJvdy5zdGFydF90YWdfaGFuZGxlcnM9e2h0bWw6XFxcInN0YXJ0VGFnSHRtbFxcXCIsdGQ6XFxcInN0YXJ0VGFnVGFibGVDZWxsXFxcIix0aDpcXFwic3RhcnRUYWdUYWJsZUNlbGxcXFwiLGNhcHRpb246XFxcInN0YXJ0VGFnVGFibGVPdGhlclxcXCIsY29sOlxcXCJzdGFydFRhZ1RhYmxlT3RoZXJcXFwiLGNvbGdyb3VwOlxcXCJzdGFydFRhZ1RhYmxlT3RoZXJcXFwiLHRib2R5OlxcXCJzdGFydFRhZ1RhYmxlT3RoZXJcXFwiLHRmb290OlxcXCJzdGFydFRhZ1RhYmxlT3RoZXJcXFwiLHRoZWFkOlxcXCJzdGFydFRhZ1RhYmxlT3RoZXJcXFwiLHRyOlxcXCJzdGFydFRhZ1RhYmxlT3RoZXJcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcInN0YXJ0VGFnT3RoZXJcXFwifSxtb2Rlcy5pblJvdy5lbmRfdGFnX2hhbmRsZXJzPXt0cjpcXFwiZW5kVGFnVHJcXFwiLHRhYmxlOlxcXCJlbmRUYWdUYWJsZVxcXCIsdGJvZHk6XFxcImVuZFRhZ1RhYmxlUm93R3JvdXBcXFwiLHRmb290OlxcXCJlbmRUYWdUYWJsZVJvd0dyb3VwXFxcIix0aGVhZDpcXFwiZW5kVGFnVGFibGVSb3dHcm91cFxcXCIsYm9keTpcXFwiZW5kVGFnSWdub3JlXFxcIixjYXB0aW9uOlxcXCJlbmRUYWdJZ25vcmVcXFwiLGNvbDpcXFwiZW5kVGFnSWdub3JlXFxcIixjb2xncm91cDpcXFwiZW5kVGFnSWdub3JlXFxcIixodG1sOlxcXCJlbmRUYWdJZ25vcmVcXFwiLHRkOlxcXCJlbmRUYWdJZ25vcmVcXFwiLHRoOlxcXCJlbmRUYWdJZ25vcmVcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcImVuZFRhZ090aGVyXFxcIn0sbW9kZXMuaW5Sb3cucHJvY2Vzc0NoYXJhY3RlcnM9ZnVuY3Rpb24oZGF0YSl7bW9kZXMuaW5UYWJsZS5wcm9jZXNzQ2hhcmFjdGVycyhkYXRhKX0sbW9kZXMuaW5Sb3cuc3RhcnRUYWdUYWJsZUNlbGw9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0cmVlLm9wZW5FbGVtZW50cy5wb3BVbnRpbFRhYmxlUm93U2NvcGVNYXJrZXIoKSx0cmVlLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzKSx0cmVlLnNldEluc2VydGlvbk1vZGUoXFxcImluQ2VsbFxcXCIpLHRyZWUuYWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzLnB1c2goTWFya2VyKX0sbW9kZXMuaW5Sb3cuc3RhcnRUYWdUYWJsZU90aGVyPWZ1bmN0aW9uKG5hbWUsYXR0cmlidXRlcyl7dmFyIGlnbm9yZUVuZFRhZz10aGlzLmlnbm9yZUVuZFRhZ1RyKCk7dGhpcy5lbmRUYWdUcihcXFwidHJcXFwiKSxpZ25vcmVFbmRUYWd8fHRyZWUuaW5zZXJ0aW9uTW9kZS5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuaW5Sb3cuc3RhcnRUYWdPdGhlcj1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsc2VsZkNsb3Npbmcpe21vZGVzLmluVGFibGUucHJvY2Vzc1N0YXJ0VGFnKG5hbWUsYXR0cmlidXRlcyxzZWxmQ2xvc2luZyl9LG1vZGVzLmluUm93LmVuZFRhZ1RyPWZ1bmN0aW9uKG5hbWUpe3RoaXMuaWdub3JlRW5kVGFnVHIoKT8oYXNzZXJ0Lm9rKHRyZWUuY29udGV4dCksdHJlZS5wYXJzZUVycm9yKFxcXCJ1bmV4cGVjdGVkLWVuZC10YWdcXFwiLHtuYW1lOm5hbWV9KSk6KHRyZWUub3BlbkVsZW1lbnRzLnBvcFVudGlsVGFibGVSb3dTY29wZU1hcmtlcigpLHRyZWUucG9wRWxlbWVudCgpLHRyZWUuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5UYWJsZUJvZHlcXFwiKSl9LG1vZGVzLmluUm93LmVuZFRhZ1RhYmxlPWZ1bmN0aW9uKG5hbWUpe3ZhciBpZ25vcmVFbmRUYWc9dGhpcy5pZ25vcmVFbmRUYWdUcigpO3RoaXMuZW5kVGFnVHIoXFxcInRyXFxcIiksaWdub3JlRW5kVGFnfHx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VuZFRhZyhuYW1lKX0sbW9kZXMuaW5Sb3cuZW5kVGFnVGFibGVSb3dHcm91cD1mdW5jdGlvbihuYW1lKXt0cmVlLm9wZW5FbGVtZW50cy5pblRhYmxlU2NvcGUobmFtZSk/KHRoaXMuZW5kVGFnVHIoXFxcInRyXFxcIiksdHJlZS5pbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcobmFtZSkpOnRyZWUucGFyc2VFcnJvcihcXFwidW5leHBlY3RlZC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLmluUm93LmVuZFRhZ0lnbm9yZT1mdW5jdGlvbihuYW1lKXt0cmVlLnBhcnNlRXJyb3IoXFxcInVuZXhwZWN0ZWQtZW5kLXRhZy1pbi10YWJsZS1yb3dcXFwiLHtuYW1lOm5hbWV9KX0sbW9kZXMuaW5Sb3cuZW5kVGFnT3RoZXI9ZnVuY3Rpb24obmFtZSl7bW9kZXMuaW5UYWJsZS5wcm9jZXNzRW5kVGFnKG5hbWUpfSxtb2Rlcy5pblJvdy5pZ25vcmVFbmRUYWdUcj1mdW5jdGlvbigpe3JldHVybiF0cmVlLm9wZW5FbGVtZW50cy5pblRhYmxlU2NvcGUoXFxcInRyXFxcIil9LG1vZGVzLmFmdGVyQWZ0ZXJGcmFtZXNldD1PYmplY3QuY3JlYXRlKG1vZGVzLmJhc2UpLG1vZGVzLmFmdGVyQWZ0ZXJGcmFtZXNldC5zdGFydF90YWdfaGFuZGxlcnM9e2h0bWw6XFxcInN0YXJ0VGFnSHRtbFxcXCIsbm9mcmFtZXM6XFxcInN0YXJ0VGFnTm9GcmFtZXNcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcInN0YXJ0VGFnT3RoZXJcXFwifSxtb2Rlcy5hZnRlckFmdGVyRnJhbWVzZXQucHJvY2Vzc0VPRj1mdW5jdGlvbigpe30sbW9kZXMuYWZ0ZXJBZnRlckZyYW1lc2V0LnByb2Nlc3NDb21tZW50PWZ1bmN0aW9uKGRhdGEpe3RyZWUuaW5zZXJ0Q29tbWVudChkYXRhLHRyZWUuZG9jdW1lbnQpfSxtb2Rlcy5hZnRlckFmdGVyRnJhbWVzZXQucHJvY2Vzc0NoYXJhY3RlcnM9ZnVuY3Rpb24oYnVmZmVyKXtmb3IodmFyIGNoYXJhY3RlcnM9YnVmZmVyLnRha2VSZW1haW5pbmcoKSx3aGl0ZXNwYWNlPVxcXCJcXFwiLGk9MDtjaGFyYWN0ZXJzLmxlbmd0aD5pO2krKyl7dmFyIGNoPWNoYXJhY3RlcnNbaV07aXNXaGl0ZXNwYWNlKGNoKSYmKHdoaXRlc3BhY2UrPWNoKX13aGl0ZXNwYWNlJiYodHJlZS5yZWNvbnN0cnVjdEFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cygpLHRyZWUuaW5zZXJ0VGV4dCh3aGl0ZXNwYWNlKSksd2hpdGVzcGFjZS5sZW5ndGg8Y2hhcmFjdGVycy5sZW5ndGgmJnRyZWUucGFyc2VFcnJvcihcXFwiZXhwZWN0ZWQtZW9mLWJ1dC1nb3QtY2hhclxcXCIpfSxtb2Rlcy5hZnRlckFmdGVyRnJhbWVzZXQuc3RhcnRUYWdOb0ZyYW1lcz1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe21vZGVzLmluSGVhZC5wcm9jZXNzU3RhcnRUYWcobmFtZSxhdHRyaWJ1dGVzKX0sbW9kZXMuYWZ0ZXJBZnRlckZyYW1lc2V0LnN0YXJ0VGFnT3RoZXI9ZnVuY3Rpb24obmFtZSl7dHJlZS5wYXJzZUVycm9yKFxcXCJleHBlY3RlZC1lb2YtYnV0LWdvdC1zdGFydC10YWdcXFwiLHtuYW1lOm5hbWV9KX0sbW9kZXMuYWZ0ZXJBZnRlckZyYW1lc2V0LnByb2Nlc3NFbmRUYWc9ZnVuY3Rpb24obmFtZSl7dHJlZS5wYXJzZUVycm9yKFxcXCJleHBlY3RlZC1lb2YtYnV0LWdvdC1lbmQtdGFnXFxcIix7bmFtZTpuYW1lfSl9LG1vZGVzLnRleHQ9T2JqZWN0LmNyZWF0ZShtb2Rlcy5iYXNlKSxtb2Rlcy50ZXh0LnN0YXJ0X3RhZ19oYW5kbGVycz17XFxcIi1kZWZhdWx0XFxcIjpcXFwic3RhcnRUYWdPdGhlclxcXCJ9LG1vZGVzLnRleHQuZW5kX3RhZ19oYW5kbGVycz17c2NyaXB0OlxcXCJlbmRUYWdTY3JpcHRcXFwiLFxcXCItZGVmYXVsdFxcXCI6XFxcImVuZFRhZ090aGVyXFxcIn0sbW9kZXMudGV4dC5wcm9jZXNzQ2hhcmFjdGVycz1mdW5jdGlvbihidWZmZXIpe3RyZWUuc2hvdWxkU2tpcExlYWRpbmdOZXdsaW5lJiYodHJlZS5zaG91bGRTa2lwTGVhZGluZ05ld2xpbmU9ITEsYnVmZmVyLnNraXBBdE1vc3RPbmVMZWFkaW5nTmV3bGluZSgpKTt2YXIgZGF0YT1idWZmZXIudGFrZVJlbWFpbmluZygpO2RhdGEmJnRyZWUuaW5zZXJ0VGV4dChkYXRhKX0sbW9kZXMudGV4dC5wcm9jZXNzRU9GPWZ1bmN0aW9uKCl7dHJlZS5wYXJzZUVycm9yKFxcXCJleHBlY3RlZC1uYW1lZC1jbG9zaW5nLXRhZy1idXQtZ290LWVvZlxcXCIse25hbWU6dHJlZS5jdXJyZW50U3RhY2tJdGVtKCkubG9jYWxOYW1lfSksdHJlZS5vcGVuRWxlbWVudHMucG9wKCksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKHRyZWUub3JpZ2luYWxJbnNlcnRpb25Nb2RlKSx0cmVlLmluc2VydGlvbk1vZGUucHJvY2Vzc0VPRigpfSxtb2Rlcy50ZXh0LnN0YXJ0VGFnT3RoZXI9ZnVuY3Rpb24obmFtZSl7dGhyb3dcXFwiVHJpZWQgdG8gcHJvY2VzcyBzdGFydCB0YWcgXFxcIituYW1lK1xcXCIgaW4gUkNEQVRBL1JBV1RFWFQgbW9kZVxcXCJ9LG1vZGVzLnRleHQuZW5kVGFnU2NyaXB0PWZ1bmN0aW9uKCl7dmFyIG5vZGU9dHJlZS5vcGVuRWxlbWVudHMucG9wKCk7YXNzZXJ0Lm9rKFxcXCJzY3JpcHRcXFwiPT1ub2RlLmxvY2FsTmFtZSksdHJlZS5zZXRJbnNlcnRpb25Nb2RlKHRyZWUub3JpZ2luYWxJbnNlcnRpb25Nb2RlKX0sbW9kZXMudGV4dC5lbmRUYWdPdGhlcj1mdW5jdGlvbigpe3RyZWUub3BlbkVsZW1lbnRzLnBvcCgpLHRyZWUuc2V0SW5zZXJ0aW9uTW9kZSh0cmVlLm9yaWdpbmFsSW5zZXJ0aW9uTW9kZSl9fWZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2UoZm9ybWF0LGFyZ3Mpe3JldHVybiBmb3JtYXQucmVwbGFjZShSZWdFeHAoXFxcIntbMC05YS16LV0rfVxcXCIsXFxcImdpXFxcIiksZnVuY3Rpb24obWF0Y2gpe3JldHVybiBhcmdzW21hdGNoLnNsaWNlKDEsLTEpXXx8bWF0Y2h9KX12YXIgYXNzZXJ0PV9kZXJlcV8oXFxcImFzc2VydFxcXCIpLG1lc3NhZ2VzPV9kZXJlcV8oXFxcIi4vbWVzc2FnZXMuanNvblxcXCIpLGNvbnN0YW50cz1fZGVyZXFfKFxcXCIuL2NvbnN0YW50c1xcXCIpO19kZXJlcV8oXFxcImV2ZW50c1xcXCIpLkV2ZW50RW1pdHRlcjt2YXIgVG9rZW5pemVyPV9kZXJlcV8oXFxcIi4vVG9rZW5pemVyXFxcIikuVG9rZW5pemVyLEVsZW1lbnRTdGFjaz1fZGVyZXFfKFxcXCIuL0VsZW1lbnRTdGFja1xcXCIpLkVsZW1lbnRTdGFjayxTdGFja0l0ZW09X2RlcmVxXyhcXFwiLi9TdGFja0l0ZW1cXFwiKS5TdGFja0l0ZW0sTWFya2VyPXt9O0NoYXJhY3RlckJ1ZmZlci5wcm90b3R5cGUuc2tpcEF0TW9zdE9uZUxlYWRpbmdOZXdsaW5lPWZ1bmN0aW9uKCl7XFxcIlxcXFxuXFxcIj09PXRoaXMuY2hhcmFjdGVyc1t0aGlzLmN1cnJlbnRdJiZ0aGlzLmN1cnJlbnQrK30sQ2hhcmFjdGVyQnVmZmVyLnByb3RvdHlwZS5za2lwTGVhZGluZ1doaXRlc3BhY2U9ZnVuY3Rpb24oKXtmb3IoO2lzV2hpdGVzcGFjZSh0aGlzLmNoYXJhY3RlcnNbdGhpcy5jdXJyZW50XSk7KWlmKCsrdGhpcy5jdXJyZW50PT10aGlzLmVuZClyZXR1cm59LENoYXJhY3RlckJ1ZmZlci5wcm90b3R5cGUuc2tpcExlYWRpbmdOb25XaGl0ZXNwYWNlPWZ1bmN0aW9uKCl7Zm9yKDshaXNXaGl0ZXNwYWNlKHRoaXMuY2hhcmFjdGVyc1t0aGlzLmN1cnJlbnRdKTspaWYoKyt0aGlzLmN1cnJlbnQ9PXRoaXMuZW5kKXJldHVybn0sQ2hhcmFjdGVyQnVmZmVyLnByb3RvdHlwZS50YWtlUmVtYWluaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hhcmFjdGVycy5zdWJzdHJpbmcodGhpcy5jdXJyZW50KX0sQ2hhcmFjdGVyQnVmZmVyLnByb3RvdHlwZS50YWtlTGVhZGluZ1doaXRlc3BhY2U9ZnVuY3Rpb24oKXt2YXIgc3RhcnQ9dGhpcy5jdXJyZW50O3JldHVybiB0aGlzLnNraXBMZWFkaW5nV2hpdGVzcGFjZSgpLHN0YXJ0PT09dGhpcy5jdXJyZW50P1xcXCJcXFwiOnRoaXMuY2hhcmFjdGVycy5zdWJzdHJpbmcoc3RhcnQsdGhpcy5jdXJyZW50LXN0YXJ0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KENoYXJhY3RlckJ1ZmZlci5wcm90b3R5cGUsXFxcImxlbmd0aFxcXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZC10aGlzLmN1cnJlbnR9fSksVHJlZUJ1aWxkZXIucHJvdG90eXBlLnNldEluc2VydGlvbk1vZGU9ZnVuY3Rpb24obmFtZSl7dGhpcy5pbnNlcnRpb25Nb2RlPXRoaXMuaW5zZXJ0aW9uTW9kZXNbbmFtZV0sdGhpcy5pbnNlcnRpb25Nb2RlTmFtZT1uYW1lfSxUcmVlQnVpbGRlci5wcm90b3R5cGUuYWRvcHRpb25BZ2VuY3lFbmRUYWc9ZnVuY3Rpb24obmFtZSl7ZnVuY3Rpb24gaXNBY3RpdmVGb3JtYXR0aW5nRWxlbWVudChlbCl7cmV0dXJuIGVsPT09Zm9ybWF0dGluZ0VsZW1lbnR9Zm9yKHZhciBmb3JtYXR0aW5nRWxlbWVudCxvdXRlckl0ZXJhdGlvbkxpbWl0PTgsaW5uZXJJdGVyYXRpb25MaW1pdD0zLG91dGVyTG9vcENvdW50ZXI9MDtvdXRlckl0ZXJhdGlvbkxpbWl0Pm91dGVyTG9vcENvdW50ZXIrKzspe2lmKGZvcm1hdHRpbmdFbGVtZW50PXRoaXMuZWxlbWVudEluQWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzKG5hbWUpLCFmb3JtYXR0aW5nRWxlbWVudHx8dGhpcy5vcGVuRWxlbWVudHMuY29udGFpbnMoZm9ybWF0dGluZ0VsZW1lbnQpJiYhdGhpcy5vcGVuRWxlbWVudHMuaW5TY29wZShmb3JtYXR0aW5nRWxlbWVudC5sb2NhbE5hbWUpKXJldHVybiB0aGlzLnBhcnNlRXJyb3IoXFxcImFkb3B0aW9uLWFnZW5jeS0xLjFcXFwiLHtuYW1lOm5hbWV9KSwhMTtpZighdGhpcy5vcGVuRWxlbWVudHMuY29udGFpbnMoZm9ybWF0dGluZ0VsZW1lbnQpKXJldHVybiB0aGlzLnBhcnNlRXJyb3IoXFxcImFkb3B0aW9uLWFnZW5jeS0xLjJcXFwiLHtuYW1lOm5hbWV9KSx0aGlzLnJlbW92ZUVsZW1lbnRGcm9tQWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzKGZvcm1hdHRpbmdFbGVtZW50KSwhMDt0aGlzLm9wZW5FbGVtZW50cy5pblNjb3BlKGZvcm1hdHRpbmdFbGVtZW50LmxvY2FsTmFtZSl8fHRoaXMucGFyc2VFcnJvcihcXFwiYWRvcHRpb24tYWdlbmN5LTQuNFxcXCIse25hbWU6bmFtZX0pLGZvcm1hdHRpbmdFbGVtZW50IT10aGlzLmN1cnJlbnRTdGFja0l0ZW0oKSYmdGhpcy5wYXJzZUVycm9yKFxcXCJhZG9wdGlvbi1hZ2VuY3ktMS4zXFxcIix7bmFtZTpuYW1lfSk7dmFyIGZ1cnRoZXN0QmxvY2s9dGhpcy5vcGVuRWxlbWVudHMuZnVydGhlc3RCbG9ja0ZvckZvcm1hdHRpbmdFbGVtZW50KGZvcm1hdHRpbmdFbGVtZW50Lm5vZGUpO2lmKCFmdXJ0aGVzdEJsb2NrKXJldHVybiB0aGlzLm9wZW5FbGVtZW50cy5yZW1vdmVfb3BlbkVsZW1lbnRzX3VudGlsKGlzQWN0aXZlRm9ybWF0dGluZ0VsZW1lbnQpLHRoaXMucmVtb3ZlRWxlbWVudEZyb21BY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoZm9ybWF0dGluZ0VsZW1lbnQpLCEwO2Zvcih2YXIgYWZlSW5kZXg9dGhpcy5vcGVuRWxlbWVudHMuZWxlbWVudHMuaW5kZXhPZihmb3JtYXR0aW5nRWxlbWVudCksY29tbW9uQW5jZXN0b3I9dGhpcy5vcGVuRWxlbWVudHMuaXRlbShhZmVJbmRleC0xKSxib29rbWFyaz10aGlzLmFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cy5pbmRleE9mKGZvcm1hdHRpbmdFbGVtZW50KSxub2RlPWZ1cnRoZXN0QmxvY2ssbGFzdE5vZGU9ZnVydGhlc3RCbG9jayxpbmRleD10aGlzLm9wZW5FbGVtZW50cy5lbGVtZW50cy5pbmRleE9mKG5vZGUpLGlubmVyTG9vcENvdW50ZXI9MDtpbm5lckl0ZXJhdGlvbkxpbWl0PmlubmVyTG9vcENvdW50ZXIrKzspaWYoaW5kZXgtPTEsbm9kZT10aGlzLm9wZW5FbGVtZW50cy5pdGVtKGluZGV4KSwwPnRoaXMuYWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzLmluZGV4T2Yobm9kZSkpdGhpcy5vcGVuRWxlbWVudHMuZWxlbWVudHMuc3BsaWNlKGluZGV4LDEpO2Vsc2V7aWYobm9kZT09Zm9ybWF0dGluZ0VsZW1lbnQpYnJlYWs7bGFzdE5vZGU9PWZ1cnRoZXN0QmxvY2smJihib29rbWFyaz10aGlzLmFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cy5pbmRleE9mKG5vZGUpKzEpO3ZhciBjbG9uZT10aGlzLmNyZWF0ZUVsZW1lbnQobm9kZS5uYW1lc3BhY2VVUkksbm9kZS5sb2NhbE5hbWUsbm9kZS5hdHRyaWJ1dGVzKSxuZXdOb2RlPW5ldyBTdGFja0l0ZW0obm9kZS5uYW1lc3BhY2VVUkksbm9kZS5sb2NhbE5hbWUsbm9kZS5hdHRyaWJ1dGVzLGNsb25lKTt0aGlzLmFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50c1t0aGlzLmFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cy5pbmRleE9mKG5vZGUpXT1uZXdOb2RlLHRoaXMub3BlbkVsZW1lbnRzLmVsZW1lbnRzW3RoaXMub3BlbkVsZW1lbnRzLmVsZW1lbnRzLmluZGV4T2Yobm9kZSldPW5ld05vZGUsbm9kZT1uZXdOb2RlLHRoaXMuZGV0YWNoRnJvbVBhcmVudChsYXN0Tm9kZS5ub2RlKSx0aGlzLmF0dGFjaE5vZGUobGFzdE5vZGUubm9kZSxub2RlLm5vZGUpLGxhc3ROb2RlPW5vZGV9dGhpcy5kZXRhY2hGcm9tUGFyZW50KGxhc3ROb2RlLm5vZGUpLGNvbW1vbkFuY2VzdG9yLmlzRm9zdGVyUGFyZW50aW5nKCk/dGhpcy5pbnNlcnRJbnRvRm9zdGVyUGFyZW50KGxhc3ROb2RlLm5vZGUpOnRoaXMuYXR0YWNoTm9kZShsYXN0Tm9kZS5ub2RlLGNvbW1vbkFuY2VzdG9yLm5vZGUpO3ZhciBjbG9uZT10aGlzLmNyZWF0ZUVsZW1lbnQoXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwiLGZvcm1hdHRpbmdFbGVtZW50LmxvY2FsTmFtZSxmb3JtYXR0aW5nRWxlbWVudC5hdHRyaWJ1dGVzKSxmb3JtYXR0aW5nQ2xvbmU9bmV3IFN0YWNrSXRlbShmb3JtYXR0aW5nRWxlbWVudC5uYW1lc3BhY2VVUkksZm9ybWF0dGluZ0VsZW1lbnQubG9jYWxOYW1lLGZvcm1hdHRpbmdFbGVtZW50LmF0dHJpYnV0ZXMsY2xvbmUpO3RoaXMucmVwYXJlbnRDaGlsZHJlbihmdXJ0aGVzdEJsb2NrLm5vZGUsY2xvbmUpLHRoaXMuYXR0YWNoTm9kZShjbG9uZSxmdXJ0aGVzdEJsb2NrLm5vZGUpLHRoaXMucmVtb3ZlRWxlbWVudEZyb21BY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMoZm9ybWF0dGluZ0VsZW1lbnQpLHRoaXMuYWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzLnNwbGljZShNYXRoLm1pbihib29rbWFyayx0aGlzLmFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cy5sZW5ndGgpLDAsZm9ybWF0dGluZ0Nsb25lKSx0aGlzLm9wZW5FbGVtZW50cy5yZW1vdmUoZm9ybWF0dGluZ0VsZW1lbnQpLHRoaXMub3BlbkVsZW1lbnRzLmVsZW1lbnRzLnNwbGljZSh0aGlzLm9wZW5FbGVtZW50cy5lbGVtZW50cy5pbmRleE9mKGZ1cnRoZXN0QmxvY2spKzEsMCxmb3JtYXR0aW5nQ2xvbmUpfXJldHVybiEwfSxUcmVlQnVpbGRlci5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aHJvd1xcXCJOb3QgbXBsZW1lbnRlZFxcXCJ9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5zdGFydFRva2VuaXphdGlvbj1mdW5jdGlvbih0b2tlbml6ZXIpe2lmKHRoaXMudG9rZW5pemVyPXRva2VuaXplcix0aGlzLmNvbXBhdE1vZGU9XFxcIm5vIHF1aXJrc1xcXCIsdGhpcy5vcmlnaW5hbEluc2VydGlvbk1vZGU9XFxcImluaXRpYWxcXFwiLHRoaXMuZnJhbWVzZXRPaz0hMCx0aGlzLm9wZW5FbGVtZW50cz1uZXcgRWxlbWVudFN0YWNrLHRoaXMuYWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzPVtdLHRoaXMuc3RhcnQoKSx0aGlzLmNvbnRleHQpe3N3aXRjaCh0aGlzLmNvbnRleHQpe2Nhc2VcXFwidGl0bGVcXFwiOmNhc2VcXFwidGV4dGFyZWFcXFwiOnRoaXMudG9rZW5pemVyLnNldFN0YXRlKFRva2VuaXplci5SQ0RBVEEpO2JyZWFrO2Nhc2VcXFwic3R5bGVcXFwiOmNhc2VcXFwieG1wXFxcIjpjYXNlXFxcImlmcmFtZVxcXCI6Y2FzZVxcXCJub2VtYmVkXFxcIjpjYXNlXFxcIm5vZnJhbWVzXFxcIjp0aGlzLnRva2VuaXplci5zZXRTdGF0ZShUb2tlbml6ZXIuUkFXVEVYVCk7YnJlYWs7Y2FzZVxcXCJzY3JpcHRcXFwiOnRoaXMudG9rZW5pemVyLnNldFN0YXRlKFRva2VuaXplci5TQ1JJUFRfREFUQSk7YnJlYWs7Y2FzZVxcXCJub3NjcmlwdFxcXCI6dGhpcy5zY3JpcHRpbmdFbmFibGVkJiZ0aGlzLnRva2VuaXplci5zZXRTdGF0ZShUb2tlbml6ZXIuUkFXVEVYVCk7YnJlYWs7Y2FzZVxcXCJwbGFpbnRleHRcXFwiOnRoaXMudG9rZW5pemVyLnNldFN0YXRlKFRva2VuaXplci5QTEFJTlRFWFQpfXRoaXMuaW5zZXJ0SHRtbEVsZW1lbnQoKSx0aGlzLnJlc2V0SW5zZXJ0aW9uTW9kZSgpfWVsc2UgdGhpcy5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpbml0aWFsXFxcIil9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5wcm9jZXNzVG9rZW49ZnVuY3Rpb24odG9rZW4pe3RoaXMuc2VsZkNsb3NpbmdGbGFnQWNrbm93bGVkZ2VkPSExO3ZhciBpbnNlcnRpb25Nb2RlLGN1cnJlbnROb2RlPXRoaXMub3BlbkVsZW1lbnRzLnRvcHx8bnVsbDtzd2l0Y2goaW5zZXJ0aW9uTW9kZT0hY3VycmVudE5vZGV8fCFjdXJyZW50Tm9kZS5pc0ZvcmVpZ24oKXx8Y3VycmVudE5vZGUuaXNNYXRoTUxUZXh0SW50ZWdyYXRpb25Qb2ludCgpJiYoXFxcIlN0YXJ0VGFnXFxcIj09dG9rZW4udHlwZSYmISh0b2tlbi5uYW1lIGlue21nbHlwaDowLG1hbGlnbm1hcms6MH0pfHxcXFwiQ2hhcmFjdGVyc1xcXCI9PT10b2tlbi50eXBlKXx8XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcXFwiPT1jdXJyZW50Tm9kZS5uYW1lc3BhY2VVUkkmJlxcXCJhbm5vdGF0aW9uLXhtbFxcXCI9PWN1cnJlbnROb2RlLmxvY2FsTmFtZSYmXFxcIlN0YXJ0VGFnXFxcIj09dG9rZW4udHlwZSYmXFxcInN2Z1xcXCI9PXRva2VuLm5hbWV8fGN1cnJlbnROb2RlLmlzSHRtbEludGVncmF0aW9uUG9pbnQoKSYmdG9rZW4udHlwZSBpbntTdGFydFRhZzowLENoYXJhY3RlcnM6MH18fFxcXCJFT0ZcXFwiPT10b2tlbi50eXBlP3RoaXMuaW5zZXJ0aW9uTW9kZTp0aGlzLmluc2VydGlvbk1vZGVzLmluRm9yZWlnbkNvbnRlbnQsdG9rZW4udHlwZSl7Y2FzZVxcXCJDaGFyYWN0ZXJzXFxcIjp2YXIgYnVmZmVyPW5ldyBDaGFyYWN0ZXJCdWZmZXIodG9rZW4uZGF0YSk7aW5zZXJ0aW9uTW9kZS5wcm9jZXNzQ2hhcmFjdGVycyhidWZmZXIpO2JyZWFrO2Nhc2VcXFwiQ29tbWVudFxcXCI6aW5zZXJ0aW9uTW9kZS5wcm9jZXNzQ29tbWVudCh0b2tlbi5kYXRhKTticmVhaztjYXNlXFxcIlN0YXJ0VGFnXFxcIjppbnNlcnRpb25Nb2RlLnByb2Nlc3NTdGFydFRhZyh0b2tlbi5uYW1lLHRva2VuLmRhdGEsdG9rZW4uc2VsZkNsb3NpbmcpO2JyZWFrO2Nhc2VcXFwiRW5kVGFnXFxcIjppbnNlcnRpb25Nb2RlLnByb2Nlc3NFbmRUYWcodG9rZW4ubmFtZSk7YnJlYWs7Y2FzZVxcXCJEb2N0eXBlXFxcIjppbnNlcnRpb25Nb2RlLnByb2Nlc3NEb2N0eXBlKHRva2VuLm5hbWUsdG9rZW4ucHVibGljSWQsdG9rZW4uc3lzdGVtSWQsdG9rZW4uZm9yY2VRdWlya3MpO2JyZWFrO2Nhc2VcXFwiRU9GXFxcIjppbnNlcnRpb25Nb2RlLnByb2Nlc3NFT0YoKX19LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5pc0NkYXRhU2VjdGlvbkFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcGVuRWxlbWVudHMubGVuZ3RoPjAmJnRoaXMuY3VycmVudFN0YWNrSXRlbSgpLmlzRm9yZWlnbigpfSxUcmVlQnVpbGRlci5wcm90b3R5cGUuaXNTZWxmQ2xvc2luZ0ZsYWdBY2tub3dsZWRnZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxmQ2xvc2luZ0ZsYWdBY2tub3dsZWRnZWR9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXFxcIk5vdCBpbXBsZW1lbnRlZFxcXCIpfSxUcmVlQnVpbGRlci5wcm90b3R5cGUuYXR0YWNoTm9kZT1mdW5jdGlvbigpe3Rocm93IEVycm9yKFxcXCJOb3QgaW1wbGVtZW50ZWRcXFwiKX0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLmF0dGFjaE5vZGVUb0Zvc3RlclBhcmVudD1mdW5jdGlvbigpe3Rocm93IEVycm9yKFxcXCJOb3QgaW1wbGVtZW50ZWRcXFwiKX0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLmRldGFjaEZyb21QYXJlbnQ9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcXFwiTm90IGltcGxlbWVudGVkXFxcIil9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGVzVG9FbGVtZW50PWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXFxcIk5vdCBpbXBsZW1lbnRlZFxcXCIpfSxUcmVlQnVpbGRlci5wcm90b3R5cGUuaW5zZXJ0SHRtbEVsZW1lbnQ9ZnVuY3Rpb24oYXR0cmlidXRlcyl7dmFyIHJvb3Q9dGhpcy5jcmVhdGVFbGVtZW50KFxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIixcXFwiaHRtbFxcXCIsYXR0cmlidXRlcyk7cmV0dXJuIHRoaXMuYXR0YWNoTm9kZShyb290LHRoaXMuZG9jdW1lbnQpLHRoaXMub3BlbkVsZW1lbnRzLnB1c2hIdG1sRWxlbWVudChuZXcgU3RhY2tJdGVtKFxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIixcXFwiaHRtbFxcXCIsYXR0cmlidXRlcyxyb290KSkscm9vdH0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLmluc2VydEhlYWRFbGVtZW50PWZ1bmN0aW9uKGF0dHJpYnV0ZXMpe3ZhciBlbGVtZW50PXRoaXMuY3JlYXRlRWxlbWVudChcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCIsXFxcImhlYWRcXFwiLGF0dHJpYnV0ZXMpO3JldHVybiB0aGlzLmhlYWQ9bmV3IFN0YWNrSXRlbShcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCIsXFxcImhlYWRcXFwiLGF0dHJpYnV0ZXMsZWxlbWVudCksdGhpcy5hdHRhY2hOb2RlKGVsZW1lbnQsdGhpcy5vcGVuRWxlbWVudHMudG9wLm5vZGUpLHRoaXMub3BlbkVsZW1lbnRzLnB1c2hIZWFkRWxlbWVudCh0aGlzLmhlYWQpLGVsZW1lbnR9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5pbnNlcnRCb2R5RWxlbWVudD1mdW5jdGlvbihhdHRyaWJ1dGVzKXt2YXIgZWxlbWVudD10aGlzLmNyZWF0ZUVsZW1lbnQoXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwiLFxcXCJib2R5XFxcIixhdHRyaWJ1dGVzKTtyZXR1cm4gdGhpcy5hdHRhY2hOb2RlKGVsZW1lbnQsdGhpcy5vcGVuRWxlbWVudHMudG9wLm5vZGUpLHRoaXMub3BlbkVsZW1lbnRzLnB1c2hCb2R5RWxlbWVudChuZXcgU3RhY2tJdGVtKFxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIixcXFwiYm9keVxcXCIsYXR0cmlidXRlcyxlbGVtZW50KSksZWxlbWVudH0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLmluc2VydEludG9Gb3N0ZXJQYXJlbnQ9ZnVuY3Rpb24obm9kZSl7dmFyIHRhYmxlSW5kZXg9dGhpcy5vcGVuRWxlbWVudHMuZmluZEluZGV4KFxcXCJ0YWJsZVxcXCIpLHRhYmxlRWxlbWVudD10aGlzLm9wZW5FbGVtZW50cy5pdGVtKHRhYmxlSW5kZXgpLm5vZGU7cmV0dXJuIDA9PT10YWJsZUluZGV4P3RoaXMuYXR0YWNoTm9kZShub2RlLHRhYmxlRWxlbWVudCk6KHRoaXMuYXR0YWNoTm9kZVRvRm9zdGVyUGFyZW50KG5vZGUsdGFibGVFbGVtZW50LHRoaXMub3BlbkVsZW1lbnRzLml0ZW0odGFibGVJbmRleC0xKS5ub2RlKSx2b2lkIDApfSxUcmVlQnVpbGRlci5wcm90b3R5cGUuaW5zZXJ0RWxlbWVudD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsbmFtZXNwYWNlVVJJLHNlbGZDbG9zaW5nKXtuYW1lc3BhY2VVUkl8fChuYW1lc3BhY2VVUkk9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwiKTt2YXIgZWxlbWVudD10aGlzLmNyZWF0ZUVsZW1lbnQobmFtZXNwYWNlVVJJLG5hbWUsYXR0cmlidXRlcyk7dGhpcy5zaG91bGRGb3N0ZXJQYXJlbnQoKT90aGlzLmluc2VydEludG9Gb3N0ZXJQYXJlbnQoZWxlbWVudCk6dGhpcy5hdHRhY2hOb2RlKGVsZW1lbnQsdGhpcy5vcGVuRWxlbWVudHMudG9wLm5vZGUpLHNlbGZDbG9zaW5nfHx0aGlzLm9wZW5FbGVtZW50cy5wdXNoKG5ldyBTdGFja0l0ZW0obmFtZXNwYWNlVVJJLG5hbWUsYXR0cmlidXRlcyxlbGVtZW50KSl9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5pbnNlcnRGb3JtYXR0aW5nRWxlbWVudD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RoaXMuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMsXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwiKSx0aGlzLmFwcGVuZEVsZW1lbnRUb0FjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cyh0aGlzLmN1cnJlbnRTdGFja0l0ZW0oKSl9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5pbnNlcnRTZWxmQ2xvc2luZ0VsZW1lbnQ9ZnVuY3Rpb24obmFtZSxhdHRyaWJ1dGVzKXt0aGlzLnNlbGZDbG9zaW5nRmxhZ0Fja25vd2xlZGdlZD0hMCx0aGlzLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzLFxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXFxcIiwhMCl9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5pbnNlcnRGb3JlaWduRWxlbWVudD1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMsbmFtZXNwYWNlVVJJLHNlbGZDbG9zaW5nKXtzZWxmQ2xvc2luZyYmKHRoaXMuc2VsZkNsb3NpbmdGbGFnQWNrbm93bGVkZ2VkPSEwKSx0aGlzLmluc2VydEVsZW1lbnQobmFtZSxhdHRyaWJ1dGVzLG5hbWVzcGFjZVVSSSxzZWxmQ2xvc2luZyl9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5pbnNlcnRDb21tZW50PWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXFxcIk5vdCBpbXBsZW1lbnRlZFxcXCIpfSxUcmVlQnVpbGRlci5wcm90b3R5cGUuaW5zZXJ0RG9jdHlwZT1mdW5jdGlvbigpe3Rocm93IEVycm9yKFxcXCJOb3QgaW1wbGVtZW50ZWRcXFwiKX0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLmluc2VydFRleHQ9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcXFwiTm90IGltcGxlbWVudGVkXFxcIil9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5jdXJyZW50U3RhY2tJdGVtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3BlbkVsZW1lbnRzLnRvcH0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLnBvcEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcGVuRWxlbWVudHMucG9wKCl9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5zaG91bGRGb3N0ZXJQYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWRpcmVjdEF0dGFjaFRvRm9zdGVyUGFyZW50JiZ0aGlzLmN1cnJlbnRTdGFja0l0ZW0oKS5pc0Zvc3RlclBhcmVudGluZygpfSxUcmVlQnVpbGRlci5wcm90b3R5cGUuZ2VuZXJhdGVJbXBsaWVkRW5kVGFncz1mdW5jdGlvbihleGNsdWRlKXt2YXIgbmFtZT10aGlzLm9wZW5FbGVtZW50cy50b3AubG9jYWxOYW1lOy0xIT1bXFxcImRkXFxcIixcXFwiZHRcXFwiLFxcXCJsaVxcXCIsXFxcIm9wdGlvblxcXCIsXFxcIm9wdGdyb3VwXFxcIixcXFwicFxcXCIsXFxcInJwXFxcIixcXFwicnRcXFwiXS5pbmRleE9mKG5hbWUpJiZuYW1lIT1leGNsdWRlJiYodGhpcy5wb3BFbGVtZW50KCksdGhpcy5nZW5lcmF0ZUltcGxpZWRFbmRUYWdzKGV4Y2x1ZGUpKX0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLnJlY29uc3RydWN0QWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMuYWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzLmxlbmd0aCl7dmFyIGk9dGhpcy5hY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMubGVuZ3RoLTEsZW50cnk9dGhpcy5hY3RpdmVGb3JtYXR0aW5nRWxlbWVudHNbaV07aWYoZW50cnkhPU1hcmtlciYmIXRoaXMub3BlbkVsZW1lbnRzLmNvbnRhaW5zKGVudHJ5KSl7Zm9yKDtlbnRyeSE9TWFya2VyJiYhdGhpcy5vcGVuRWxlbWVudHMuY29udGFpbnMoZW50cnkpJiYoaS09MSxlbnRyeT10aGlzLmFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50c1tpXSk7KTtmb3IoOzspe2krPTEsZW50cnk9dGhpcy5hY3RpdmVGb3JtYXR0aW5nRWxlbWVudHNbaV0sdGhpcy5pbnNlcnRFbGVtZW50KGVudHJ5LmxvY2FsTmFtZSxlbnRyeS5hdHRyaWJ1dGVzKTt2YXIgZWxlbWVudD10aGlzLmN1cnJlbnRTdGFja0l0ZW0oKTtpZih0aGlzLmFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50c1tpXT1lbGVtZW50LGVsZW1lbnQ9PXRoaXMuYWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzW3RoaXMuYWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzLmxlbmd0aC0xXSlicmVha319fX0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLmVuc3VyZU5vYWhzQXJrQ29uZGl0aW9uPWZ1bmN0aW9uKGl0ZW0pe3ZhciBrTm9haHNBcmtDYXBhY2l0eT0zO2lmKCEoa05vYWhzQXJrQ2FwYWNpdHk+dGhpcy5hY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMubGVuZ3RoKSl7Zm9yKHZhciBjYW5kaWRhdGVzPVtdLG5ld0l0ZW1BdHRyaWJ1dGVDb3VudD1pdGVtLmF0dHJpYnV0ZXMubGVuZ3RoLGk9dGhpcy5hY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBjYW5kaWRhdGU9dGhpcy5hY3RpdmVGb3JtYXR0aW5nRWxlbWVudHNbaV07aWYoY2FuZGlkYXRlPT09TWFya2VyKWJyZWFrO2l0ZW0ubG9jYWxOYW1lPT09Y2FuZGlkYXRlLmxvY2FsTmFtZSYmaXRlbS5uYW1lc3BhY2VVUkk9PT1jYW5kaWRhdGUubmFtZXNwYWNlVVJJJiZjYW5kaWRhdGUuYXR0cmlidXRlcy5sZW5ndGg9PW5ld0l0ZW1BdHRyaWJ1dGVDb3VudCYmY2FuZGlkYXRlcy5wdXNoKGNhbmRpZGF0ZSl9aWYoIShrTm9haHNBcmtDYXBhY2l0eT5jYW5kaWRhdGVzLmxlbmd0aCkpe2Zvcih2YXIgcmVtYWluaW5nQ2FuZGlkYXRlcz1bXSxhdHRyaWJ1dGVzPWl0ZW0uYXR0cmlidXRlcyxpPTA7YXR0cmlidXRlcy5sZW5ndGg+aTtpKyspe2Zvcih2YXIgYXR0cmlidXRlPWF0dHJpYnV0ZXNbaV0saj0wO2NhbmRpZGF0ZXMubGVuZ3RoPmo7aisrKXt2YXIgY2FuZGlkYXRlPWNhbmRpZGF0ZXNbal0sY2FuZGlkYXRlQXR0cmlidXRlPWdldEF0dHJpYnV0ZShjYW5kaWRhdGUsYXR0cmlidXRlLm5vZGVOYW1lKTtjYW5kaWRhdGVBdHRyaWJ1dGUmJmNhbmRpZGF0ZUF0dHJpYnV0ZS5ub2RlVmFsdWU9PT1hdHRyaWJ1dGUubm9kZVZhbHVlJiZyZW1haW5pbmdDYW5kaWRhdGVzLnB1c2goY2FuZGlkYXRlKX1pZihrTm9haHNBcmtDYXBhY2l0eT5yZW1haW5pbmdDYW5kaWRhdGVzLmxlbmd0aClyZXR1cm47Y2FuZGlkYXRlcz1yZW1haW5pbmdDYW5kaWRhdGVzLHJlbWFpbmluZ0NhbmRpZGF0ZXM9W119Zm9yKHZhciBpPWtOb2Foc0Fya0NhcGFjaXR5LTE7Y2FuZGlkYXRlcy5sZW5ndGg+aTtpKyspdGhpcy5yZW1vdmVFbGVtZW50RnJvbUFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cyhjYW5kaWRhdGVzW2ldKX19fSxUcmVlQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kRWxlbWVudFRvQWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzPWZ1bmN0aW9uKGl0ZW0pe3RoaXMuZW5zdXJlTm9haHNBcmtDb25kaXRpb24oaXRlbSksdGhpcy5hY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMucHVzaChpdGVtKX0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLnJlbW92ZUVsZW1lbnRGcm9tQWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzPWZ1bmN0aW9uKGl0ZW0pe3ZhciBpbmRleD10aGlzLmFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cy5pbmRleE9mKGl0ZW0pO2luZGV4Pj0wJiZ0aGlzLmFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cy5zcGxpY2UoaW5kZXgsMSl9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5lbGVtZW50SW5BY3RpdmVGb3JtYXR0aW5nRWxlbWVudHM9ZnVuY3Rpb24obmFtZSl7Zm9yKHZhciBlbHM9dGhpcy5hY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMsaT1lbHMubGVuZ3RoLTE7aT49MCYmZWxzW2ldIT1NYXJrZXI7aS0tKWlmKGVsc1tpXS5sb2NhbE5hbWU9PW5hbWUpcmV0dXJuIGVsc1tpXTtyZXR1cm4hMX0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLmNsZWFyQWN0aXZlRm9ybWF0dGluZ0VsZW1lbnRzPWZ1bmN0aW9uKCl7Zm9yKDswIT09dGhpcy5hY3RpdmVGb3JtYXR0aW5nRWxlbWVudHMubGVuZ3RoJiZ0aGlzLmFjdGl2ZUZvcm1hdHRpbmdFbGVtZW50cy5wb3AoKSE9TWFya2VyOyk7fSxUcmVlQnVpbGRlci5wcm90b3R5cGUucmVwYXJlbnRDaGlsZHJlbj1mdW5jdGlvbigpe3Rocm93IEVycm9yKFxcXCJOb3QgaW1wbGVtZW50ZWRcXFwiKX0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLnNldEZyYWdtZW50Q29udGV4dD1mdW5jdGlvbihjb250ZXh0KXt0aGlzLmNvbnRleHQ9Y29udGV4dH0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLnBhcnNlRXJyb3I9ZnVuY3Rpb24oY29kZSxhcmdzKXtpZih0aGlzLmVycm9ySGFuZGxlcil7dmFyIG1lc3NhZ2U9Zm9ybWF0TWVzc2FnZShtZXNzYWdlc1tjb2RlXSxhcmdzKTt0aGlzLmVycm9ySGFuZGxlci5lcnJvcihtZXNzYWdlLHRoaXMudG9rZW5pemVyLl9pbnB1dFN0cmVhbS5sb2NhdGlvbigpLGNvZGUpfX0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLnJlc2V0SW5zZXJ0aW9uTW9kZT1mdW5jdGlvbigpe2Zvcih2YXIgbGFzdD0hMSxub2RlPW51bGwsaT10aGlzLm9wZW5FbGVtZW50cy5sZW5ndGgtMTtpPj0wO2ktLSl7aWYobm9kZT10aGlzLm9wZW5FbGVtZW50cy5pdGVtKGkpLDA9PT1pJiYoYXNzZXJ0Lm9rKHRoaXMuY29udGV4dCksbGFzdD0hMCxub2RlPW5ldyBTdGFja0l0ZW0oXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwiLHRoaXMuY29udGV4dCxbXSxudWxsKSksXFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcXFwiPT09bm9kZS5uYW1lc3BhY2VVUkkpe2lmKFxcXCJzZWxlY3RcXFwiPT09bm9kZS5sb2NhbE5hbWUpcmV0dXJuIHRoaXMuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5TZWxlY3RcXFwiKTtpZihcXFwidGRcXFwiPT09bm9kZS5sb2NhbE5hbWV8fFxcXCJ0aFxcXCI9PT1ub2RlLmxvY2FsTmFtZSlyZXR1cm4gdGhpcy5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpbkNlbGxcXFwiKTtpZihcXFwidHJcXFwiPT09bm9kZS5sb2NhbE5hbWUpcmV0dXJuIHRoaXMuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5Sb3dcXFwiKTtpZihcXFwidGJvZHlcXFwiPT09bm9kZS5sb2NhbE5hbWV8fFxcXCJ0aGVhZFxcXCI9PT1ub2RlLmxvY2FsTmFtZXx8XFxcInRmb290XFxcIj09PW5vZGUubG9jYWxOYW1lKXJldHVybiB0aGlzLnNldEluc2VydGlvbk1vZGUoXFxcImluVGFibGVCb2R5XFxcIik7aWYoXFxcImNhcHRpb25cXFwiPT09bm9kZS5sb2NhbE5hbWUpcmV0dXJuIHRoaXMuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5DYXB0aW9uXFxcIik7aWYoXFxcImNvbGdyb3VwXFxcIj09PW5vZGUubG9jYWxOYW1lKXJldHVybiB0aGlzLnNldEluc2VydGlvbk1vZGUoXFxcImluQ29sdW1uR3JvdXBcXFwiKTtpZihcXFwidGFibGVcXFwiPT09bm9kZS5sb2NhbE5hbWUpcmV0dXJuIHRoaXMuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5UYWJsZVxcXCIpO2lmKFxcXCJoZWFkXFxcIj09PW5vZGUubG9jYWxOYW1lJiYhbGFzdClyZXR1cm4gdGhpcy5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpbkhlYWRcXFwiKTtpZihcXFwiYm9keVxcXCI9PT1ub2RlLmxvY2FsTmFtZSlyZXR1cm4gdGhpcy5zZXRJbnNlcnRpb25Nb2RlKFxcXCJpbkJvZHlcXFwiKTtpZihcXFwiZnJhbWVzZXRcXFwiPT09bm9kZS5sb2NhbE5hbWUpcmV0dXJuIHRoaXMuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5GcmFtZXNldFxcXCIpO2lmKFxcXCJodG1sXFxcIj09PW5vZGUubG9jYWxOYW1lKXJldHVybiB0aGlzLm9wZW5FbGVtZW50cy5oZWFkRWxlbWVudD90aGlzLnNldEluc2VydGlvbk1vZGUoXFxcImFmdGVySGVhZFxcXCIpOnRoaXMuc2V0SW5zZXJ0aW9uTW9kZShcXFwiYmVmb3JlSGVhZFxcXCIpfWlmKGxhc3QpcmV0dXJuIHRoaXMuc2V0SW5zZXJ0aW9uTW9kZShcXFwiaW5Cb2R5XFxcIil9fSxUcmVlQnVpbGRlci5wcm90b3R5cGUucHJvY2Vzc0dlbmVyaWNSQ0RBVEFTdGFydFRhZz1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RoaXMuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpLHRoaXMudG9rZW5pemVyLnNldFN0YXRlKFRva2VuaXplci5SQ0RBVEEpLHRoaXMub3JpZ2luYWxJbnNlcnRpb25Nb2RlPXRoaXMuaW5zZXJ0aW9uTW9kZU5hbWUsdGhpcy5zZXRJbnNlcnRpb25Nb2RlKFxcXCJ0ZXh0XFxcIil9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5wcm9jZXNzR2VuZXJpY1Jhd1RleHRTdGFydFRhZz1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpe3RoaXMuaW5zZXJ0RWxlbWVudChuYW1lLGF0dHJpYnV0ZXMpLHRoaXMudG9rZW5pemVyLnNldFN0YXRlKFRva2VuaXplci5SQVdURVhUKSx0aGlzLm9yaWdpbmFsSW5zZXJ0aW9uTW9kZT10aGlzLmluc2VydGlvbk1vZGVOYW1lLHRoaXMuc2V0SW5zZXJ0aW9uTW9kZShcXFwidGV4dFxcXCIpfSxUcmVlQnVpbGRlci5wcm90b3R5cGUuYWRqdXN0TWF0aE1MQXR0cmlidXRlcz1mdW5jdGlvbihhdHRyaWJ1dGVzKXtyZXR1cm4gYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EubmFtZXNwYWNlVVJJPVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXFxcIixjb25zdGFudHMuTUFUSE1MQXR0cmlidXRlTWFwW2Eubm9kZU5hbWVdJiYoYS5ub2RlTmFtZT1jb25zdGFudHMuTUFUSE1MQXR0cmlidXRlTWFwW2Eubm9kZU5hbWVdKX0pLGF0dHJpYnV0ZXN9LFRyZWVCdWlsZGVyLnByb3RvdHlwZS5hZGp1c3RTVkdUYWdOYW1lQ2FzZT1mdW5jdGlvbihuYW1lKXtyZXR1cm4gY29uc3RhbnRzLlNWR1RhZ01hcFtuYW1lXXx8bmFtZX0sVHJlZUJ1aWxkZXIucHJvdG90eXBlLmFkanVzdFNWR0F0dHJpYnV0ZXM9ZnVuY3Rpb24oYXR0cmlidXRlcyl7cmV0dXJuIGF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbihhKXthLm5hbWVzcGFjZVVSST1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiLGNvbnN0YW50cy5TVkdBdHRyaWJ1dGVNYXBbYS5ub2RlTmFtZV0mJihhLm5vZGVOYW1lPWNvbnN0YW50cy5TVkdBdHRyaWJ1dGVNYXBbYS5ub2RlTmFtZV0pfSksYXR0cmlidXRlc30sVHJlZUJ1aWxkZXIucHJvdG90eXBlLmFkanVzdEZvcmVpZ25BdHRyaWJ1dGVzPWZ1bmN0aW9uKGF0dHJpYnV0ZXMpe2Zvcih2YXIgaT0wO2F0dHJpYnV0ZXMubGVuZ3RoPmk7aSsrKXt2YXIgYXR0cmlidXRlPWF0dHJpYnV0ZXNbaV0sYWRqdXN0ZWQ9Y29uc3RhbnRzLkZvcmVpZ25BdHRyaWJ1dGVNYXBbYXR0cmlidXRlLm5vZGVOYW1lXTthZGp1c3RlZCYmKGF0dHJpYnV0ZS5ub2RlTmFtZT1hZGp1c3RlZC5sb2NhbE5hbWUsYXR0cmlidXRlLnByZWZpeD1hZGp1c3RlZC5wcmVmaXgsYXR0cmlidXRlLm5hbWVzcGFjZVVSST1hZGp1c3RlZC5uYW1lc3BhY2VVUkkpfXJldHVybiBhdHRyaWJ1dGVzfSxleHBvcnRzLlRyZWVCdWlsZGVyPVRyZWVCdWlsZGVyfSx7XFxcIi4vRWxlbWVudFN0YWNrXFxcIjoxLFxcXCIuL1N0YWNrSXRlbVxcXCI6NCxcXFwiLi9Ub2tlbml6ZXJcXFwiOjUsXFxcIi4vY29uc3RhbnRzXFxcIjo3LFxcXCIuL21lc3NhZ2VzLmpzb25cXFwiOjgsYXNzZXJ0OjEzLGV2ZW50czoxNn1dLDc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe2V4cG9ydHMuU1ZHVGFnTWFwPXthbHRnbHlwaDpcXFwiYWx0R2x5cGhcXFwiLGFsdGdseXBoZGVmOlxcXCJhbHRHbHlwaERlZlxcXCIsYWx0Z2x5cGhpdGVtOlxcXCJhbHRHbHlwaEl0ZW1cXFwiLGFuaW1hdGVjb2xvcjpcXFwiYW5pbWF0ZUNvbG9yXFxcIixhbmltYXRlbW90aW9uOlxcXCJhbmltYXRlTW90aW9uXFxcIixhbmltYXRldHJhbnNmb3JtOlxcXCJhbmltYXRlVHJhbnNmb3JtXFxcIixjbGlwcGF0aDpcXFwiY2xpcFBhdGhcXFwiLGZlYmxlbmQ6XFxcImZlQmxlbmRcXFwiLGZlY29sb3JtYXRyaXg6XFxcImZlQ29sb3JNYXRyaXhcXFwiLGZlY29tcG9uZW50dHJhbnNmZXI6XFxcImZlQ29tcG9uZW50VHJhbnNmZXJcXFwiLGZlY29tcG9zaXRlOlxcXCJmZUNvbXBvc2l0ZVxcXCIsZmVjb252b2x2ZW1hdHJpeDpcXFwiZmVDb252b2x2ZU1hdHJpeFxcXCIsZmVkaWZmdXNlbGlnaHRpbmc6XFxcImZlRGlmZnVzZUxpZ2h0aW5nXFxcIixmZWRpc3BsYWNlbWVudG1hcDpcXFwiZmVEaXNwbGFjZW1lbnRNYXBcXFwiLGZlZGlzdGFudGxpZ2h0OlxcXCJmZURpc3RhbnRMaWdodFxcXCIsZmVmbG9vZDpcXFwiZmVGbG9vZFxcXCIsZmVmdW5jYTpcXFwiZmVGdW5jQVxcXCIsZmVmdW5jYjpcXFwiZmVGdW5jQlxcXCIsZmVmdW5jZzpcXFwiZmVGdW5jR1xcXCIsZmVmdW5jcjpcXFwiZmVGdW5jUlxcXCIsZmVnYXVzc2lhbmJsdXI6XFxcImZlR2F1c3NpYW5CbHVyXFxcIixmZWltYWdlOlxcXCJmZUltYWdlXFxcIixmZW1lcmdlOlxcXCJmZU1lcmdlXFxcIixmZW1lcmdlbm9kZTpcXFwiZmVNZXJnZU5vZGVcXFwiLGZlbW9ycGhvbG9neTpcXFwiZmVNb3JwaG9sb2d5XFxcIixmZW9mZnNldDpcXFwiZmVPZmZzZXRcXFwiLGZlcG9pbnRsaWdodDpcXFwiZmVQb2ludExpZ2h0XFxcIixmZXNwZWN1bGFybGlnaHRpbmc6XFxcImZlU3BlY3VsYXJMaWdodGluZ1xcXCIsZmVzcG90bGlnaHQ6XFxcImZlU3BvdExpZ2h0XFxcIixmZXRpbGU6XFxcImZlVGlsZVxcXCIsZmV0dXJidWxlbmNlOlxcXCJmZVR1cmJ1bGVuY2VcXFwiLGZvcmVpZ25vYmplY3Q6XFxcImZvcmVpZ25PYmplY3RcXFwiLGdseXBocmVmOlxcXCJnbHlwaFJlZlxcXCIsbGluZWFyZ3JhZGllbnQ6XFxcImxpbmVhckdyYWRpZW50XFxcIixyYWRpYWxncmFkaWVudDpcXFwicmFkaWFsR3JhZGllbnRcXFwiLHRleHRwYXRoOlxcXCJ0ZXh0UGF0aFxcXCJ9LGV4cG9ydHMuTUFUSE1MQXR0cmlidXRlTWFwPXtkZWZpbml0aW9udXJsOlxcXCJkZWZpbml0aW9uVVJMXFxcIn0sZXhwb3J0cy5TVkdBdHRyaWJ1dGVNYXA9e2F0dHJpYnV0ZW5hbWU6XFxcImF0dHJpYnV0ZU5hbWVcXFwiLGF0dHJpYnV0ZXR5cGU6XFxcImF0dHJpYnV0ZVR5cGVcXFwiLGJhc2VmcmVxdWVuY3k6XFxcImJhc2VGcmVxdWVuY3lcXFwiLGJhc2Vwcm9maWxlOlxcXCJiYXNlUHJvZmlsZVxcXCIsY2FsY21vZGU6XFxcImNhbGNNb2RlXFxcIixjbGlwcGF0aHVuaXRzOlxcXCJjbGlwUGF0aFVuaXRzXFxcIixjb250ZW50c2NyaXB0dHlwZTpcXFwiY29udGVudFNjcmlwdFR5cGVcXFwiLGNvbnRlbnRzdHlsZXR5cGU6XFxcImNvbnRlbnRTdHlsZVR5cGVcXFwiLGRpZmZ1c2Vjb25zdGFudDpcXFwiZGlmZnVzZUNvbnN0YW50XFxcIixlZGdlbW9kZTpcXFwiZWRnZU1vZGVcXFwiLGV4dGVybmFscmVzb3VyY2VzYWNlcXVpcmVkOlxcXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXFxcIixmaWx0ZXJyZXM6XFxcImZpbHRlclJlc1xcXCIsZmlsdGVydW5pdHM6XFxcImZpbHRlclVuaXRzXFxcIixnbHlwaHJlZjpcXFwiZ2x5cGhSZWZcXFwiLGdyYWRpZW50dHJhbnNmb3JtOlxcXCJncmFkaWVudFRyYW5zZm9ybVxcXCIsZ3JhZGllbnR1bml0czpcXFwiZ3JhZGllbnRVbml0c1xcXCIsa2VybmVsbWF0cml4OlxcXCJrZXJuZWxNYXRyaXhcXFwiLGtlcm5lbHVuaXRsZW5ndGg6XFxcImtlcm5lbFVuaXRMZW5ndGhcXFwiLGtleXBvaW50czpcXFwia2V5UG9pbnRzXFxcIixrZXlzcGxpbmVzOlxcXCJrZXlTcGxpbmVzXFxcIixrZXl0aW1lczpcXFwia2V5VGltZXNcXFwiLGxlbmd0aGFkanVzdDpcXFwibGVuZ3RoQWRqdXN0XFxcIixsaW1pdGluZ2NvbmVhbmdsZTpcXFwibGltaXRpbmdDb25lQW5nbGVcXFwiLG1hcmtlcmhlaWdodDpcXFwibWFya2VySGVpZ2h0XFxcIixtYXJrZXJ1bml0czpcXFwibWFya2VyVW5pdHNcXFwiLG1hcmtlcndpZHRoOlxcXCJtYXJrZXJXaWR0aFxcXCIsbWFza2NvbnRlbnR1bml0czpcXFwibWFza0NvbnRlbnRVbml0c1xcXCIsbWFza3VuaXRzOlxcXCJtYXNrVW5pdHNcXFwiLG51bW9jdGF2ZXM6XFxcIm51bU9jdGF2ZXNcXFwiLHBhdGhsZW5ndGg6XFxcInBhdGhMZW5ndGhcXFwiLHBhdHRlcm5jb250ZW50dW5pdHM6XFxcInBhdHRlcm5Db250ZW50VW5pdHNcXFwiLHBhdHRlcm50cmFuc2Zvcm06XFxcInBhdHRlcm5UcmFuc2Zvcm1cXFwiLHBhdHRlcm51bml0czpcXFwicGF0dGVyblVuaXRzXFxcIixwb2ludHNhdHg6XFxcInBvaW50c0F0WFxcXCIscG9pbnRzYXR5OlxcXCJwb2ludHNBdFlcXFwiLHBvaW50c2F0ejpcXFwicG9pbnRzQXRaXFxcIixwcmVzZXJ2ZWFscGhhOlxcXCJwcmVzZXJ2ZUFscGhhXFxcIixwcmVzZXJ2ZWFzcGVjdHJhdGlvOlxcXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXFxcIixwcmltaXRpdmV1bml0czpcXFwicHJpbWl0aXZlVW5pdHNcXFwiLHJlZng6XFxcInJlZlhcXFwiLHJlZnk6XFxcInJlZllcXFwiLHJlcGVhdGNvdW50OlxcXCJyZXBlYXRDb3VudFxcXCIscmVwZWF0ZHVyOlxcXCJyZXBlYXREdXJcXFwiLGFjZXF1aXJlZGV4dGVuc2lvbnM6XFxcImFjZXF1aXJlZEV4dGVuc2lvbnNcXFwiLGFjZXF1aXJlZGZlYXR1cmVzOlxcXCJhY2VxdWlyZWRGZWF0dXJlc1xcXCIsc3BlY3VsYXJjb25zdGFudDpcXFwic3BlY3VsYXJDb25zdGFudFxcXCIsc3BlY3VsYXJleHBvbmVudDpcXFwic3BlY3VsYXJFeHBvbmVudFxcXCIsc3ByZWFkbWV0aG9kOlxcXCJzcHJlYWRNZXRob2RcXFwiLHN0YXJ0b2Zmc2V0OlxcXCJzdGFydE9mZnNldFxcXCIsc3RkZGV2aWF0aW9uOlxcXCJzdGREZXZpYXRpb25cXFwiLHN0aXRjaHRpbGVzOlxcXCJzdGl0Y2hUaWxlc1xcXCIsc3VyZmFjZXNjYWxlOlxcXCJzdXJmYWNlU2NhbGVcXFwiLHN5c3RlbWxhbmd1YWdlOlxcXCJzeXN0ZW1MYW5ndWFnZVxcXCIsdGFibGV2YWx1ZXM6XFxcInRhYmxlVmFsdWVzXFxcIix0YXJnZXR4OlxcXCJ0YXJnZXRYXFxcIix0YXJnZXR5OlxcXCJ0YXJnZXRZXFxcIix0ZXh0bGVuZ3RoOlxcXCJ0ZXh0TGVuZ3RoXFxcIix2aWV3Ym94OlxcXCJ2aWV3Qm94XFxcIix2aWV3dGFyZ2V0OlxcXCJ2aWV3VGFyZ2V0XFxcIix4Y2hhbm5lbHNlbGVjdG9yOlxcXCJ4Q2hhbm5lbFNlbGVjdG9yXFxcIix5Y2hhbm5lbHNlbGVjdG9yOlxcXCJ5Q2hhbm5lbFNlbGVjdG9yXFxcIix6b29tYW5kcGFuOlxcXCJ6b29tQW5kUGFuXFxcIn0sZXhwb3J0cy5Gb3JlaWduQXR0cmlidXRlTWFwPXtcXFwieGxpbms6YWN0dWF0ZVxcXCI6e3ByZWZpeDpcXFwieGxpbmtcXFwiLGxvY2FsTmFtZTpcXFwiYWN0dWF0ZVxcXCIsbmFtZXNwYWNlVVJJOlxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXFxcIn0sXFxcInhsaW5rOmFyY3JvbGVcXFwiOntwcmVmaXg6XFxcInhsaW5rXFxcIixsb2NhbE5hbWU6XFxcImFyY3JvbGVcXFwiLG5hbWVzcGFjZVVSSTpcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCJ9LFxcXCJ4bGluazpocmVmXFxcIjp7cHJlZml4OlxcXCJ4bGlua1xcXCIsbG9jYWxOYW1lOlxcXCJocmVmXFxcIixuYW1lc3BhY2VVUkk6XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwifSxcXFwieGxpbms6cm9sZVxcXCI6e3ByZWZpeDpcXFwieGxpbmtcXFwiLGxvY2FsTmFtZTpcXFwicm9sZVxcXCIsbmFtZXNwYWNlVVJJOlxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXFxcIn0sXFxcInhsaW5rOnNob3dcXFwiOntwcmVmaXg6XFxcInhsaW5rXFxcIixsb2NhbE5hbWU6XFxcInNob3dcXFwiLG5hbWVzcGFjZVVSSTpcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCJ9LFxcXCJ4bGluazp0aXRsZVxcXCI6e3ByZWZpeDpcXFwieGxpbmtcXFwiLGxvY2FsTmFtZTpcXFwidGl0bGVcXFwiLG5hbWVzcGFjZVVSSTpcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCJ9LFxcXCJ4bGluazp0eXBlXFxcIjp7cHJlZml4OlxcXCJ4bGlua1xcXCIsbG9jYWxOYW1lOlxcXCJ0aXRsZVxcXCIsbmFtZXNwYWNlVVJJOlxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXFxcIn0sXFxcInhtbDpiYXNlXFxcIjp7cHJlZml4OlxcXCJ4bWxcXFwiLGxvY2FsTmFtZTpcXFwiYmFzZVxcXCIsbmFtZXNwYWNlVVJJOlxcXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcXFwifSxcXFwieG1sOmxhbmdcXFwiOntwcmVmaXg6XFxcInhtbFxcXCIsbG9jYWxOYW1lOlxcXCJsYW5nXFxcIixuYW1lc3BhY2VVUkk6XFxcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVxcXCJ9LFxcXCJ4bWw6c3BhY2VcXFwiOntwcmVmaXg6XFxcInhtbFxcXCIsbG9jYWxOYW1lOlxcXCJzcGFjZVxcXCIsbmFtZXNwYWNlVVJJOlxcXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcXFwifSx4bWxuczp7cHJlZml4Om51bGwsbG9jYWxOYW1lOlxcXCJ4bWxuc1xcXCIsbmFtZXNwYWNlVVJJOlxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1xcXCJ9LFxcXCJ4bWxuczp4bGlua1xcXCI6e3ByZWZpeDpcXFwieG1sbnNcXFwiLGxvY2FsTmFtZTpcXFwieGxpbmtcXFwiLG5hbWVzcGFjZVVSSTpcXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cXFwifX1cXG59LHt9XSw4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7bW9kdWxlLmV4cG9ydHM9e1xcXCJudWxsLWNoYXJhY3RlclxcXCI6XFxcIk51bGwgY2hhcmFjdGVyIGluIGlucHV0IHN0cmVhbSwgcmVwbGFjZWQgd2l0aCBVK0ZGRkQuXFxcIixcXFwiaW52YWxpZC1jb2RlcG9pbnRcXFwiOlxcXCJJbnZhbGlkIGNvZGVwb2ludCBpbiBzdHJlYW1cXFwiLFxcXCJpbmNvcnJlY3RseS1wbGFjZWQtc29saWR1c1xcXCI6XFxcIlNvbGlkdXMgKC8pIGluY29ycmVjdGx5IHBsYWNlZCBpbiB0YWcuXFxcIixcXFwiaW5jb3JyZWN0LWNyLW5ld2xpbmUtZW50aXR5XFxcIjpcXFwiSW5jb3JyZWN0IENSIG5ld2xpbmUgZW50aXR5LCByZXBsYWNlZCB3aXRoIExGLlxcXCIsXFxcImlsbGVnYWwtd2luZG93cy0xMjUyLWVudGl0eVxcXCI6XFxcIkVudGl0eSB1c2VkIHdpdGggaWxsZWdhbCBudW1iZXIgKHdpbmRvd3MtMTI1MiByZWZlcmVuY2UpLlxcXCIsXFxcImNhbnQtY29udmVydC1udW1lcmljLWVudGl0eVxcXCI6XFxcIk51bWVyaWMgZW50aXR5IGNvdWxkbid0IGJlIGNvbnZlcnRlZCB0byBjaGFyYWN0ZXIgKGNvZGVwb2ludCBVK3tjaGFyQXNJbnR9KS5cXFwiLFxcXCJpbnZhbGlkLW51bWVyaWMtZW50aXR5LXJlcGxhY2VkXFxcIjpcXFwiTnVtZXJpYyBlbnRpdHkgcmVwcmVzZW50cyBhbiBpbGxlZ2FsIGNvZGVwb2ludC4gRXhwYW5kZWQgdG8gdGhlIEMxIGNvbnRyb2xzIHJhbmdlLlxcXCIsXFxcIm51bWVyaWMtZW50aXR5LXdpdGhvdXQtc2VtaWNvbG9uXFxcIjpcXFwiTnVtZXJpYyBlbnRpdHkgZGlkbid0IGVuZCB3aXRoICc7Jy5cXFwiLFxcXCJleHBlY3RlZC1udW1lcmljLWVudGl0eS1idXQtZ290LWVvZlxcXCI6XFxcIk51bWVyaWMgZW50aXR5IGV4cGVjdGVkLiBHb3QgZW5kIG9mIGZpbGUgaW5zdGVhZC5cXFwiLFxcXCJleHBlY3RlZC1udW1lcmljLWVudGl0eVxcXCI6XFxcIk51bWVyaWMgZW50aXR5IGV4cGVjdGVkIGJ1dCBub25lIGZvdW5kLlxcXCIsXFxcIm5hbWVkLWVudGl0eS13aXRob3V0LXNlbWljb2xvblxcXCI6XFxcIk5hbWVkIGVudGl0eSBkaWRuJ3QgZW5kIHdpdGggJzsnLlxcXCIsXFxcImV4cGVjdGVkLW5hbWVkLWVudGl0eVxcXCI6XFxcIk5hbWVkIGVudGl0eSBleHBlY3RlZC4gR290IG5vbmUuXFxcIixcXFwiYXR0cmlidXRlcy1pbi1lbmQtdGFnXFxcIjpcXFwiRW5kIHRhZyBjb250YWlucyB1bmV4cGVjdGVkIGF0dHJpYnV0ZXMuXFxcIixcXFwic2VsZi1jbG9zaW5nLWZsYWctb24tZW5kLXRhZ1xcXCI6XFxcIkVuZCB0YWcgY29udGFpbnMgdW5leHBlY3RlZCBzZWxmLWNsb3NpbmcgZmxhZy5cXFwiLFxcXCJiYXJlLWxlc3MtdGhhbi1zaWduLWF0LWVvZlxcXCI6XFxcIkVuZCBvZiBmaWxlIGFmdGVyIDwuXFxcIixcXFwiZXhwZWN0ZWQtdGFnLW5hbWUtYnV0LWdvdC1yaWdodC1icmFja2V0XFxcIjpcXFwiRXhwZWN0ZWQgdGFnIG5hbWUuIEdvdCAnPicgaW5zdGVhZC5cXFwiLFxcXCJleHBlY3RlZC10YWctbmFtZS1idXQtZ290LXF1ZXN0aW9uLW1hcmtcXFwiOlxcXCJFeHBlY3RlZCB0YWcgbmFtZS4gR290ICc/JyBpbnN0ZWFkLiAoSFRNTCBkb2Vzbid0IHN1cHBvcnQgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbnMuKVxcXCIsXFxcImV4cGVjdGVkLXRhZy1uYW1lXFxcIjpcXFwiRXhwZWN0ZWQgdGFnIG5hbWUuIEdvdCBzb21ldGhpbmcgZWxzZSBpbnN0ZWFkLlxcXCIsXFxcImV4cGVjdGVkLWNsb3NpbmctdGFnLWJ1dC1nb3QtcmlnaHQtYnJhY2tldFxcXCI6XFxcIkV4cGVjdGVkIGNsb3NpbmcgdGFnLiBHb3QgJz4nIGluc3RlYWQuIElnbm9yaW5nICc8Lz4nLlxcXCIsXFxcImV4cGVjdGVkLWNsb3NpbmctdGFnLWJ1dC1nb3QtZW9mXFxcIjpcXFwiRXhwZWN0ZWQgY2xvc2luZyB0YWcuIFVuZXhwZWN0ZWQgZW5kIG9mIGZpbGUuXFxcIixcXFwiZXhwZWN0ZWQtY2xvc2luZy10YWctYnV0LWdvdC1jaGFyXFxcIjpcXFwiRXhwZWN0ZWQgY2xvc2luZyB0YWcuIFVuZXhwZWN0ZWQgY2hhcmFjdGVyICd7ZGF0YX0nIGZvdW5kLlxcXCIsXFxcImVvZi1pbi10YWctbmFtZVxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIG9mIGZpbGUgaW4gdGhlIHRhZyBuYW1lLlxcXCIsXFxcImV4cGVjdGVkLWF0dHJpYnV0ZS1uYW1lLWJ1dC1nb3QtZW9mXFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgb2YgZmlsZS4gRXhwZWN0ZWQgYXR0cmlidXRlIG5hbWUgaW5zdGVhZC5cXFwiLFxcXCJlb2YtaW4tYXR0cmlidXRlLW5hbWVcXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCBvZiBmaWxlIGluIGF0dHJpYnV0ZSBuYW1lLlxcXCIsXFxcImludmFsaWQtY2hhcmFjdGVyLWluLWF0dHJpYnV0ZS1uYW1lXFxcIjpcXFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gYXR0cmlidXRlIG5hbWUuXFxcIixcXFwiZHVwbGljYXRlLWF0dHJpYnV0ZVxcXCI6XFxcIkRyb3BwZWQgZHVwbGljYXRlIGF0dHJpYnV0ZSAne25hbWV9JyBvbiB0YWcuXFxcIixcXFwiZXhwZWN0ZWQtZW5kLW9mLXRhZy1idXQtZ290LWVvZlxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIG9mIGZpbGUuIEV4cGVjdGVkID0gb3IgZW5kIG9mIHRhZy5cXFwiLFxcXCJleHBlY3RlZC1hdHRyaWJ1dGUtdmFsdWUtYnV0LWdvdC1lb2ZcXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCBvZiBmaWxlLiBFeHBlY3RlZCBhdHRyaWJ1dGUgdmFsdWUuXFxcIixcXFwiZXhwZWN0ZWQtYXR0cmlidXRlLXZhbHVlLWJ1dC1nb3QtcmlnaHQtYnJhY2tldFxcXCI6XFxcIkV4cGVjdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gR290ICc+JyBpbnN0ZWFkLlxcXCIsXFxcInVuZXhwZWN0ZWQtY2hhcmFjdGVyLWluLXVucXVvdGVkLWF0dHJpYnV0ZS12YWx1ZVxcXCI6XFxcIlVuZXhwZWN0ZWQgY2hhcmFjdGVyIGluIHVucXVvdGVkIGF0dHJpYnV0ZVxcXCIsXFxcImludmFsaWQtY2hhcmFjdGVyLWFmdGVyLWF0dHJpYnV0ZS1uYW1lXFxcIjpcXFwiVW5leHBlY3RlZCBjaGFyYWN0ZXIgYWZ0ZXIgYXR0cmlidXRlIG5hbWUuXFxcIixcXFwidW5leHBlY3RlZC1jaGFyYWN0ZXItYWZ0ZXItYXR0cmlidXRlLXZhbHVlXFxcIjpcXFwiVW5leHBlY3RlZCBjaGFyYWN0ZXIgYWZ0ZXIgYXR0cmlidXRlIHZhbHVlLlxcXCIsXFxcImVvZi1pbi1hdHRyaWJ1dGUtdmFsdWUtZG91YmxlLXF1b3RlXFxcIjonVW5leHBlY3RlZCBlbmQgb2YgZmlsZSBpbiBhdHRyaWJ1dGUgdmFsdWUgKFxcXCIpLicsXFxcImVvZi1pbi1hdHRyaWJ1dGUtdmFsdWUtc2luZ2xlLXF1b3RlXFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgb2YgZmlsZSBpbiBhdHRyaWJ1dGUgdmFsdWUgKCcpLlxcXCIsXFxcImVvZi1pbi1hdHRyaWJ1dGUtdmFsdWUtbm8tcXVvdGVzXFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgb2YgZmlsZSBpbiBhdHRyaWJ1dGUgdmFsdWUuXFxcIixcXFwiZW9mLWFmdGVyLWF0dHJpYnV0ZS12YWx1ZVxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIG9mIGZpbGUgYWZ0ZXIgYXR0cmlidXRlIHZhbHVlLlxcXCIsXFxcInVuZXhwZWN0ZWQtZW9mLWFmdGVyLXNvbGlkdXMtaW4tdGFnXFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgb2YgZmlsZSBpbiB0YWcuIEV4cGVjdGVkID4uXFxcIixcXFwidW5leHBlY3RlZC1jaGFyYWN0ZXItYWZ0ZXItc29saWR1cy1pbi10YWdcXFwiOlxcXCJVbmV4cGVjdGVkIGNoYXJhY3RlciBhZnRlciAvIGluIHRhZy4gRXhwZWN0ZWQgPi5cXFwiLFxcXCJleHBlY3RlZC1kYXNoZXMtb3ItZG9jdHlwZVxcXCI6XFxcIkV4cGVjdGVkICctLScgb3IgJ0RPQ1RZUEUnLiBOb3QgZm91bmQuXFxcIixcXFwidW5leHBlY3RlZC1iYW5nLWFmdGVyLWRvdWJsZS1kYXNoLWluLWNvbW1lbnRcXFwiOlxcXCJVbmV4cGVjdGVkICEgYWZ0ZXIgLS0gaW4gY29tbWVudC5cXFwiLFxcXCJpbmNvcnJlY3QtY29tbWVudFxcXCI6XFxcIkluY29ycmVjdCBjb21tZW50LlxcXCIsXFxcImVvZi1pbi1jb21tZW50XFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgb2YgZmlsZSBpbiBjb21tZW50LlxcXCIsXFxcImVvZi1pbi1jb21tZW50LWVuZC1kYXNoXFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgb2YgZmlsZSBpbiBjb21tZW50ICgtKS5cXFwiLFxcXCJ1bmV4cGVjdGVkLWRhc2gtYWZ0ZXItZG91YmxlLWRhc2gtaW4tY29tbWVudFxcXCI6XFxcIlVuZXhwZWN0ZWQgJy0nIGFmdGVyICctLScgZm91bmQgaW4gY29tbWVudC5cXFwiLFxcXCJlb2YtaW4tY29tbWVudC1kb3VibGUtZGFzaFxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIG9mIGZpbGUgaW4gY29tbWVudCAoLS0pLlxcXCIsXFxcImVvZi1pbi1jb21tZW50LWVuZC1iYW5nLXN0YXRlXFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgb2YgZmlsZSBpbiBjb21tZW50LlxcXCIsXFxcInVuZXhwZWN0ZWQtY2hhci1pbi1jb21tZW50XFxcIjpcXFwiVW5leHBlY3RlZCBjaGFyYWN0ZXIgaW4gY29tbWVudCBmb3VuZC5cXFwiLFxcXCJuZWVkLXNwYWNlLWFmdGVyLWRvY3R5cGVcXFwiOlxcXCJObyBzcGFjZSBhZnRlciBsaXRlcmFsIHN0cmluZyAnRE9DVFlQRScuXFxcIixcXFwiZXhwZWN0ZWQtZG9jdHlwZS1uYW1lLWJ1dC1nb3QtcmlnaHQtYnJhY2tldFxcXCI6XFxcIlVuZXhwZWN0ZWQgPiBjaGFyYWN0ZXIuIEV4cGVjdGVkIERPQ1RZUEUgbmFtZS5cXFwiLFxcXCJleHBlY3RlZC1kb2N0eXBlLW5hbWUtYnV0LWdvdC1lb2ZcXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCBvZiBmaWxlLiBFeHBlY3RlZCBET0NUWVBFIG5hbWUuXFxcIixcXFwiZW9mLWluLWRvY3R5cGUtbmFtZVxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIG9mIGZpbGUgaW4gRE9DVFlQRSBuYW1lLlxcXCIsXFxcImVvZi1pbi1kb2N0eXBlXFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgb2YgZmlsZSBpbiBET0NUWVBFLlxcXCIsXFxcImV4cGVjdGVkLXNwYWNlLW9yLXJpZ2h0LWJyYWNrZXQtaW4tZG9jdHlwZVxcXCI6XFxcIkV4cGVjdGVkIHNwYWNlIG9yICc+Jy4gR290ICd7ZGF0YX0nLlxcXCIsXFxcInVuZXhwZWN0ZWQtZW5kLW9mLWRvY3R5cGVcXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCBvZiBET0NUWVBFLlxcXCIsXFxcInVuZXhwZWN0ZWQtY2hhci1pbi1kb2N0eXBlXFxcIjpcXFwiVW5leHBlY3RlZCBjaGFyYWN0ZXIgaW4gRE9DVFlQRS5cXFwiLFxcXCJlb2YtaW4tYm9ndXMtZG9jdHlwZVxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIG9mIGZpbGUgaW4gYm9ndXMgZG9jdHlwZS5cXFwiLFxcXCJlb2YtaW4taW5uZXJodG1sXFxcIjpcXFwiVW5leHBlY3RlZCBFT0YgaW4gaW5uZXIgaHRtbCBtb2RlLlxcXCIsXFxcInVuZXhwZWN0ZWQtZG9jdHlwZVxcXCI6XFxcIlVuZXhwZWN0ZWQgRE9DVFlQRS4gSWdub3JlZC5cXFwiLFxcXCJub24taHRtbC1yb290XFxcIjpcXFwiaHRtbCBuZWVkcyB0byBiZSB0aGUgZmlyc3Qgc3RhcnQgdGFnLlxcXCIsXFxcImV4cGVjdGVkLWRvY3R5cGUtYnV0LWdvdC1lb2ZcXFwiOlxcXCJVbmV4cGVjdGVkIEVuZCBvZiBmaWxlLiBFeHBlY3RlZCBET0NUWVBFLlxcXCIsXFxcInVua25vd24tZG9jdHlwZVxcXCI6XFxcIkVycm9uZW91cyBET0NUWVBFLiBFeHBlY3RlZCA8IURPQ1RZUEUgaHRtbD4uXFxcIixcXFwicXVpcmt5LWRvY3R5cGVcXFwiOlxcXCJRdWlya3kgZG9jdHlwZS4gRXhwZWN0ZWQgPCFET0NUWVBFIGh0bWw+LlxcXCIsXFxcImFsbW9zdC1zdGFuZGFyZHMtZG9jdHlwZVxcXCI6XFxcIkFsbW9zdCBzdGFuZGFyZHMgbW9kZSBkb2N0eXBlLiBFeHBlY3RlZCA8IURPQ1RZUEUgaHRtbD4uXFxcIixcXFwib2Jzb2xldGUtZG9jdHlwZVxcXCI6XFxcIk9ic29sZXRlIGRvY3R5cGUuIEV4cGVjdGVkIDwhRE9DVFlQRSBodG1sPi5cXFwiLFxcXCJleHBlY3RlZC1kb2N0eXBlLWJ1dC1nb3QtY2hhcnNcXFwiOlxcXCJOb24tc3BhY2UgY2hhcmFjdGVycyBmb3VuZCB3aXRob3V0IHNlZWluZyBhIGRvY3R5cGUgZmlyc3QuIEV4cGVjdGVkIGUuZy4gPCFET0NUWVBFIGh0bWw+LlxcXCIsXFxcImV4cGVjdGVkLWRvY3R5cGUtYnV0LWdvdC1zdGFydC10YWdcXFwiOlxcXCJTdGFydCB0YWcgc2VlbiB3aXRob3V0IHNlZWluZyBhIGRvY3R5cGUgZmlyc3QuIEV4cGVjdGVkIGUuZy4gPCFET0NUWVBFIGh0bWw+LlxcXCIsXFxcImV4cGVjdGVkLWRvY3R5cGUtYnV0LWdvdC1lbmQtdGFnXFxcIjpcXFwiRW5kIHRhZyBzZWVuIHdpdGhvdXQgc2VlaW5nIGEgZG9jdHlwZSBmaXJzdC4gRXhwZWN0ZWQgZS5nLiA8IURPQ1RZUEUgaHRtbD4uXFxcIixcXFwiZW5kLXRhZy1hZnRlci1pbXBsaWVkLXJvb3RcXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCB0YWcgKHtuYW1lfSkgYWZ0ZXIgdGhlIChpbXBsaWVkKSByb290IGVsZW1lbnQuXFxcIixcXFwiZXhwZWN0ZWQtbmFtZWQtY2xvc2luZy10YWctYnV0LWdvdC1lb2ZcXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCBvZiBmaWxlLiBFeHBlY3RlZCBlbmQgdGFnICh7bmFtZX0pLlxcXCIsXFxcInR3by1oZWFkcy1hcmUtbm90LWJldHRlci10aGFuLW9uZVxcXCI6XFxcIlVuZXhwZWN0ZWQgc3RhcnQgdGFnIGhlYWQgaW4gZXhpc3RpbmcgaGVhZC4gSWdub3JlZC5cXFwiLFxcXCJ1bmV4cGVjdGVkLWVuZC10YWdcXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCB0YWcgKHtuYW1lfSkuIElnbm9yZWQuXFxcIixcXFwidW5leHBlY3RlZC1pbXBsaWVkLWVuZC10YWdcXFwiOlxcXCJFbmQgdGFnIHtuYW1lfSBpbXBsaWVkLCBidXQgdGhlcmUgd2VyZSBvcGVuIGVsZW1lbnRzLlxcXCIsXFxcInVuZXhwZWN0ZWQtc3RhcnQtdGFnLW91dC1vZi1teS1oZWFkXFxcIjpcXFwiVW5leHBlY3RlZCBzdGFydCB0YWcgKHtuYW1lfSkgdGhhdCBjYW4gYmUgaW4gaGVhZC4gTW92ZWQuXFxcIixcXFwidW5leHBlY3RlZC1zdGFydC10YWdcXFwiOlxcXCJVbmV4cGVjdGVkIHN0YXJ0IHRhZyAoe25hbWV9KS5cXFwiLFxcXCJtaXNzaW5nLWVuZC10YWdcXFwiOlxcXCJNaXNzaW5nIGVuZCB0YWcgKHtuYW1lfSkuXFxcIixcXFwibWlzc2luZy1lbmQtdGFnc1xcXCI6XFxcIk1pc3NpbmcgZW5kIHRhZ3MgKHtuYW1lfSkuXFxcIixcXFwidW5leHBlY3RlZC1zdGFydC10YWctaW1wbGllcy1lbmQtdGFnXFxcIjpcXFwiVW5leHBlY3RlZCBzdGFydCB0YWcgKHtzdGFydE5hbWV9KSBpbXBsaWVzIGVuZCB0YWcgKHtlbmROYW1lfSkuXFxcIixcXFwidW5leHBlY3RlZC1zdGFydC10YWctdHJlYXRlZC1hc1xcXCI6XFxcIlVuZXhwZWN0ZWQgc3RhcnQgdGFnICh7b3JpZ2luYWxOYW1lfSkuIFRyZWF0ZWQgYXMge25ld05hbWV9LlxcXCIsXFxcImRlcHJlY2F0ZWQtdGFnXFxcIjpcXFwiVW5leHBlY3RlZCBzdGFydCB0YWcge25hbWV9LiBEb24ndCB1c2UgaXQhXFxcIixcXFwidW5leHBlY3RlZC1zdGFydC10YWctaWdub3JlZFxcXCI6XFxcIlVuZXhwZWN0ZWQgc3RhcnQgdGFnIHtuYW1lfS4gSWdub3JlZC5cXFwiLFxcXCJleHBlY3RlZC1vbmUtZW5kLXRhZy1idXQtZ290LWFub3RoZXJcXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCB0YWcgKHtnb3ROYW1lfSkuIE1pc3NpbmcgZW5kIHRhZyAoe2V4cGVjdGVkTmFtZX0pLlxcXCIsXFxcImVuZC10YWctdG9vLWVhcmx5XFxcIjpcXFwiRW5kIHRhZyAoe25hbWV9KSBzZWVuIHRvbyBlYXJseS4gRXhwZWN0ZWQgb3RoZXIgZW5kIHRhZy5cXFwiLFxcXCJlbmQtdGFnLXRvby1lYXJseS1uYW1lZFxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIHRhZyAoe2dvdE5hbWV9KS4gRXhwZWN0ZWQgZW5kIHRhZyAoe2V4cGVjdGVkTmFtZX0uXFxcIixcXFwiZW5kLXRhZy10b28tZWFybHktaWdub3JlZFxcXCI6XFxcIkVuZCB0YWcgKHtuYW1lfSkgc2VlbiB0b28gZWFybHkuIElnbm9yZWQuXFxcIixcXFwiYWRvcHRpb24tYWdlbmN5LTEuMVxcXCI6XFxcIkVuZCB0YWcgKHtuYW1lfSkgdmlvbGF0ZXMgc3RlcCAxLCBwYXJhZ3JhcGggMSBvZiB0aGUgYWRvcHRpb24gYWdlbmN5IGFsZ29yaXRobS5cXFwiLFxcXCJhZG9wdGlvbi1hZ2VuY3ktMS4yXFxcIjpcXFwiRW5kIHRhZyAoe25hbWV9KSB2aW9sYXRlcyBzdGVwIDEsIHBhcmFncmFwaCAyIG9mIHRoZSBhZG9wdGlvbiBhZ2VuY3kgYWxnb3JpdGhtLlxcXCIsXFxcImFkb3B0aW9uLWFnZW5jeS0xLjNcXFwiOlxcXCJFbmQgdGFnICh7bmFtZX0pIHZpb2xhdGVzIHN0ZXAgMSwgcGFyYWdyYXBoIDMgb2YgdGhlIGFkb3B0aW9uIGFnZW5jeSBhbGdvcml0aG0uXFxcIixcXFwiYWRvcHRpb24tYWdlbmN5LTQuNFxcXCI6XFxcIkVuZCB0YWcgKHtuYW1lfSkgdmlvbGF0ZXMgc3RlcCA0LCBwYXJhZ3JhcGggNCBvZiB0aGUgYWRvcHRpb24gYWdlbmN5IGFsZ29yaXRobS5cXFwiLFxcXCJ1bmV4cGVjdGVkLWVuZC10YWctdHJlYXRlZC1hc1xcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIHRhZyAoe29yaWdpbmFsTmFtZX0pLiBUcmVhdGVkIGFzIHtuZXdOYW1lfS5cXFwiLFxcXCJuby1lbmQtdGFnXFxcIjpcXFwiVGhpcyBlbGVtZW50ICh7bmFtZX0pIGhhcyBubyBlbmQgdGFnLlxcXCIsXFxcInVuZXhwZWN0ZWQtaW1wbGllZC1lbmQtdGFnLWluLXRhYmxlXFxcIjpcXFwiVW5leHBlY3RlZCBpbXBsaWVkIGVuZCB0YWcgKHtuYW1lfSkgaW4gdGhlIHRhYmxlIHBoYXNlLlxcXCIsXFxcInVuZXhwZWN0ZWQtaW1wbGllZC1lbmQtdGFnLWluLXRhYmxlLWJvZHlcXFwiOlxcXCJVbmV4cGVjdGVkIGltcGxpZWQgZW5kIHRhZyAoe25hbWV9KSBpbiB0aGUgdGFibGUgYm9keSBwaGFzZS5cXFwiLFxcXCJ1bmV4cGVjdGVkLWNoYXItaW1wbGllcy10YWJsZS12b29kb29cXFwiOlxcXCJVbmV4cGVjdGVkIG5vbi1zcGFjZSBjaGFyYWN0ZXJzIGluIHRhYmxlIGNvbnRleHQgY2F1c2VkIHZvb2RvbyBtb2RlLlxcXCIsXFxcInVuZXhwZWN0ZWQtaGlkZGVuLWlucHV0LWluLXRhYmxlXFxcIjpcXFwiVW5leHBlY3RlZCBpbnB1dCB3aXRoIHR5cGUgaGlkZGVuIGluIHRhYmxlIGNvbnRleHQuXFxcIixcXFwidW5leHBlY3RlZC1mb3JtLWluLXRhYmxlXFxcIjpcXFwiVW5leHBlY3RlZCBmb3JtIGluIHRhYmxlIGNvbnRleHQuXFxcIixcXFwidW5leHBlY3RlZC1zdGFydC10YWctaW1wbGllcy10YWJsZS12b29kb29cXFwiOlxcXCJVbmV4cGVjdGVkIHN0YXJ0IHRhZyAoe25hbWV9KSBpbiB0YWJsZSBjb250ZXh0IGNhdXNlZCB2b29kb28gbW9kZS5cXFwiLFxcXCJ1bmV4cGVjdGVkLWVuZC10YWctaW1wbGllcy10YWJsZS12b29kb29cXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCB0YWcgKHtuYW1lfSkgaW4gdGFibGUgY29udGV4dCBjYXVzZWQgdm9vZG9vIG1vZGUuXFxcIixcXFwidW5leHBlY3RlZC1jZWxsLWluLXRhYmxlLWJvZHlcXFwiOlxcXCJVbmV4cGVjdGVkIHRhYmxlIGNlbGwgc3RhcnQgdGFnICh7bmFtZX0pIGluIHRoZSB0YWJsZSBib2R5IHBoYXNlLlxcXCIsXFxcInVuZXhwZWN0ZWQtY2VsbC1lbmQtdGFnXFxcIjpcXFwiR290IHRhYmxlIGNlbGwgZW5kIHRhZyAoe25hbWV9KSB3aGlsZSBhY2VxdWlyZWQgZW5kIHRhZ3MgYXJlIG1pc3NpbmcuXFxcIixcXFwidW5leHBlY3RlZC1lbmQtdGFnLWluLXRhYmxlLWJvZHlcXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCB0YWcgKHtuYW1lfSkgaW4gdGhlIHRhYmxlIGJvZHkgcGhhc2UuIElnbm9yZWQuXFxcIixcXFwidW5leHBlY3RlZC1pbXBsaWVkLWVuZC10YWctaW4tdGFibGUtcm93XFxcIjpcXFwiVW5leHBlY3RlZCBpbXBsaWVkIGVuZCB0YWcgKHtuYW1lfSkgaW4gdGhlIHRhYmxlIHJvdyBwaGFzZS5cXFwiLFxcXCJ1bmV4cGVjdGVkLWVuZC10YWctaW4tdGFibGUtcm93XFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgdGFnICh7bmFtZX0pIGluIHRoZSB0YWJsZSByb3cgcGhhc2UuIElnbm9yZWQuXFxcIixcXFwidW5leHBlY3RlZC1zZWxlY3QtaW4tc2VsZWN0XFxcIjpcXFwiVW5leHBlY3RlZCBzZWxlY3Qgc3RhcnQgdGFnIGluIHRoZSBzZWxlY3QgcGhhc2UgdHJlYXRlZCBhcyBzZWxlY3QgZW5kIHRhZy5cXFwiLFxcXCJ1bmV4cGVjdGVkLWlucHV0LWluLXNlbGVjdFxcXCI6XFxcIlVuZXhwZWN0ZWQgaW5wdXQgc3RhcnQgdGFnIGluIHRoZSBzZWxlY3QgcGhhc2UuXFxcIixcXFwidW5leHBlY3RlZC1zdGFydC10YWctaW4tc2VsZWN0XFxcIjpcXFwiVW5leHBlY3RlZCBzdGFydCB0YWcgdG9rZW4gKHtuYW1lfSkgaW4gdGhlIHNlbGVjdCBwaGFzZS4gSWdub3JlZC5cXFwiLFxcXCJ1bmV4cGVjdGVkLWVuZC10YWctaW4tc2VsZWN0XFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgdGFnICh7bmFtZX0pIGluIHRoZSBzZWxlY3QgcGhhc2UuIElnbm9yZWQuXFxcIixcXFwidW5leHBlY3RlZC10YWJsZS1lbGVtZW50LXN0YXJ0LXRhZy1pbi1zZWxlY3QtaW4tdGFibGVcXFwiOlxcXCJVbmV4cGVjdGVkIHRhYmxlIGVsZW1lbnQgc3RhcnQgdGFnICh7bmFtZX0pIGluIHRoZSBzZWxlY3QgaW4gdGFibGUgcGhhc2UuXFxcIixcXFwidW5leHBlY3RlZC10YWJsZS1lbGVtZW50LWVuZC10YWctaW4tc2VsZWN0LWluLXRhYmxlXFxcIjpcXFwiVW5leHBlY3RlZCB0YWJsZSBlbGVtZW50IGVuZCB0YWcgKHtuYW1lfSkgaW4gdGhlIHNlbGVjdCBpbiB0YWJsZSBwaGFzZS5cXFwiLFxcXCJ1bmV4cGVjdGVkLWNoYXItYWZ0ZXItYm9keVxcXCI6XFxcIlVuZXhwZWN0ZWQgbm9uLXNwYWNlIGNoYXJhY3RlcnMgaW4gdGhlIGFmdGVyIGJvZHkgcGhhc2UuXFxcIixcXFwidW5leHBlY3RlZC1zdGFydC10YWctYWZ0ZXItYm9keVxcXCI6XFxcIlVuZXhwZWN0ZWQgc3RhcnQgdGFnIHRva2VuICh7bmFtZX0pIGluIHRoZSBhZnRlciBib2R5IHBoYXNlLlxcXCIsXFxcInVuZXhwZWN0ZWQtZW5kLXRhZy1hZnRlci1ib2R5XFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgdGFnIHRva2VuICh7bmFtZX0pIGluIHRoZSBhZnRlciBib2R5IHBoYXNlLlxcXCIsXFxcInVuZXhwZWN0ZWQtY2hhci1pbi1mcmFtZXNldFxcXCI6XFxcIlVuZXB4ZWN0ZWQgY2hhcmFjdGVycyBpbiB0aGUgZnJhbWVzZXQgcGhhc2UuIENoYXJhY3RlcnMgaWdub3JlZC5cXFwiLFxcXCJ1bmV4cGVjdGVkLXN0YXJ0LXRhZy1pbi1mcmFtZXNldFxcXCI6XFxcIlVuZXhwZWN0ZWQgc3RhcnQgdGFnIHRva2VuICh7bmFtZX0pIGluIHRoZSBmcmFtZXNldCBwaGFzZS4gSWdub3JlZC5cXFwiLFxcXCJ1bmV4cGVjdGVkLWZyYW1lc2V0LWluLWZyYW1lc2V0LWlubmVyaHRtbFxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIHRhZyB0b2tlbiAoZnJhbWVzZXQgaW4gdGhlIGZyYW1lc2V0IHBoYXNlIChpbm5lckhUTUwpLlxcXCIsXFxcInVuZXhwZWN0ZWQtZW5kLXRhZy1pbi1mcmFtZXNldFxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIHRhZyB0b2tlbiAoe25hbWV9KSBpbiB0aGUgZnJhbWVzZXQgcGhhc2UuIElnbm9yZWQuXFxcIixcXFwidW5leHBlY3RlZC1jaGFyLWFmdGVyLWZyYW1lc2V0XFxcIjpcXFwiVW5leHBlY3RlZCBub24tc3BhY2UgY2hhcmFjdGVycyBpbiB0aGUgYWZ0ZXIgZnJhbWVzZXQgcGhhc2UuIElnbm9yZWQuXFxcIixcXFwidW5leHBlY3RlZC1zdGFydC10YWctYWZ0ZXItZnJhbWVzZXRcXFwiOlxcXCJVbmV4cGVjdGVkIHN0YXJ0IHRhZyAoe25hbWV9KSBpbiB0aGUgYWZ0ZXIgZnJhbWVzZXQgcGhhc2UuIElnbm9yZWQuXFxcIixcXFwidW5leHBlY3RlZC1lbmQtdGFnLWFmdGVyLWZyYW1lc2V0XFxcIjpcXFwiVW5leHBlY3RlZCBlbmQgdGFnICh7bmFtZX0pIGluIHRoZSBhZnRlciBmcmFtZXNldCBwaGFzZS4gSWdub3JlZC5cXFwiLFxcXCJleHBlY3RlZC1lb2YtYnV0LWdvdC1jaGFyXFxcIjpcXFwiVW5leHBlY3RlZCBub24tc3BhY2UgY2hhcmFjdGVycy4gRXhwZWN0ZWQgZW5kIG9mIGZpbGUuXFxcIixcXFwiZXhwZWN0ZWQtZW9mLWJ1dC1nb3Qtc3RhcnQtdGFnXFxcIjpcXFwiVW5leHBlY3RlZCBzdGFydCB0YWcgKHtuYW1lfSkuIEV4cGVjdGVkIGVuZCBvZiBmaWxlLlxcXCIsXFxcImV4cGVjdGVkLWVvZi1idXQtZ290LWVuZC10YWdcXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCB0YWcgKHtuYW1lfSkuIEV4cGVjdGVkIGVuZCBvZiBmaWxlLlxcXCIsXFxcInVuZXhwZWN0ZWQtZW5kLXRhYmxlLWluLWNhcHRpb25cXFwiOlxcXCJVbmV4cGVjdGVkIGVuZCB0YWJsZSB0YWcgaW4gY2FwdGlvbi4gR2VuZXJhdGVzIGltcGxpZWQgZW5kIGNhcHRpb24uXFxcIixcXFwiZW5kLWh0bWwtaW4taW5uZXJodG1sXFxcIjpcXFwiVW5leHBlY3RlZCBodG1sIGVuZCB0YWcgaW4gaW5uZXIgaHRtbCBtb2RlLlxcXCIsXFxcImVvZi1pbi10YWJsZVxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIG9mIGZpbGUuIEV4cGVjdGVkIHRhYmxlIGNvbnRlbnQuXFxcIixcXFwiZW9mLWluLXNjcmlwdFxcXCI6XFxcIlVuZXhwZWN0ZWQgZW5kIG9mIGZpbGUuIEV4cGVjdGVkIHNjcmlwdCBjb250ZW50LlxcXCIsXFxcIm5vbi12b2lkLWVsZW1lbnQtd2l0aC10cmFpbGluZy1zb2xpZHVzXFxcIjpcXFwiVHJhaWxpbmcgc29saWR1cyBub3QgYWxsb3dlZCBvbiBlbGVtZW50IHtuYW1lfS5cXFwiLFxcXCJ1bmV4cGVjdGVkLWh0bWwtZWxlbWVudC1pbi1mb3JlaWduLWNvbnRlbnRcXFwiOidIVE1MIHN0YXJ0IHRhZyBcXFwie25hbWV9XFxcIiBpbiBhIGZvcmVpZ24gbmFtZXNwYWNlIGNvbnRleHQuJyxcXFwidW5leHBlY3RlZC1zdGFydC10YWctaW4tdGFibGVcXFwiOlxcXCJVbmV4cGVjdGVkIHtuYW1lfS4gRXhwZWN0ZWQgdGFibGUgY29udGVudC5cXFwifX0se31dLDk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe2Z1bmN0aW9uIFNBWFBhcnNlcigpe3RoaXMuY29udGVudEhhbmRsZXI9bnVsbCx0aGlzLl9lcnJvckhhbmRsZXI9bnVsbCx0aGlzLl90cmVlQnVpbGRlcj1uZXcgU0FYVHJlZUJ1aWxkZXIsdGhpcy5fdG9rZW5pemVyPW5ldyBUb2tlbml6ZXIodGhpcy5fdHJlZUJ1aWxkZXIpLHRoaXMuX3NjcmlwdGluZ0VuYWJsZWQ9ITF9dmFyIFNBWFRyZWVCdWlsZGVyPV9kZXJlcV8oXFxcIi4vU0FYVHJlZUJ1aWxkZXJcXFwiKS5TQVhUcmVlQnVpbGRlcixUb2tlbml6ZXI9X2RlcmVxXyhcXFwiLi4vVG9rZW5pemVyXFxcIikuVG9rZW5pemVyLFRyZWVQYXJzZXI9X2RlcmVxXyhcXFwiLi9UcmVlUGFyc2VyXFxcIikuVHJlZVBhcnNlcjtTQVhQYXJzZXIucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHNvdXJjZSl7dGhpcy5fdG9rZW5pemVyLnRva2VuaXplKHNvdXJjZSk7dmFyIGRvY3VtZW50PXRoaXMuX3RyZWVCdWlsZGVyLmRvY3VtZW50O2RvY3VtZW50JiZuZXcgVHJlZVBhcnNlcih0aGlzLmNvbnRlbnRIYW5kbGVyKS5wYXJzZShkb2N1bWVudCl9LFNBWFBhcnNlci5wcm90b3R5cGUucGFyc2VGcmFnbWVudD1mdW5jdGlvbihzb3VyY2UsY29udGV4dCl7dGhpcy5fdHJlZUJ1aWxkZXIuc2V0RnJhZ21lbnRDb250ZXh0KGNvbnRleHQpLHRoaXMuX3Rva2VuaXplci50b2tlbml6ZShzb3VyY2UpO3ZhciBmcmFnbWVudD10aGlzLl90cmVlQnVpbGRlci5nZXRGcmFnbWVudCgpO2ZyYWdtZW50JiZuZXcgVHJlZVBhcnNlcih0aGlzLmNvbnRlbnRIYW5kbGVyKS5wYXJzZShmcmFnbWVudCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTQVhQYXJzZXIucHJvdG90eXBlLFxcXCJzY3JpcHRpbmdFbmFibGVkXFxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjcmlwdGluZ0VuYWJsZWR9LHNldDpmdW5jdGlvbih2YWx1ZSl7dGhpcy5fc2NyaXB0aW5nRW5hYmxlZD12YWx1ZSx0aGlzLl90cmVlQnVpbGRlci5zY3JpcHRpbmdFbmFibGVkPXZhbHVlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTQVhQYXJzZXIucHJvdG90eXBlLFxcXCJlcnJvckhhbmRsZXJcXFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JIYW5kbGVyfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX2Vycm9ySGFuZGxlcj12YWx1ZSx0aGlzLl90cmVlQnVpbGRlci5lcnJvckhhbmRsZXI9dmFsdWV9fSksZXhwb3J0cy5TQVhQYXJzZXI9U0FYUGFyc2VyfSx7XFxcIi4uL1Rva2VuaXplclxcXCI6NSxcXFwiLi9TQVhUcmVlQnVpbGRlclxcXCI6MTAsXFxcIi4vVHJlZVBhcnNlclxcXCI6MTF9XSwxMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7ZnVuY3Rpb24gU0FYVHJlZUJ1aWxkZXIoKXtUcmVlQnVpbGRlci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGdldEF0dHJpYnV0ZShub2RlLG5hbWUpe2Zvcih2YXIgaT0wO25vZGUuYXR0cmlidXRlcy5sZW5ndGg+aTtpKyspe3ZhciBhdHRyaWJ1dGU9bm9kZS5hdHRyaWJ1dGVzW2ldO2lmKGF0dHJpYnV0ZS5ub2RlTmFtZT09PW5hbWUpcmV0dXJuIGF0dHJpYnV0ZS5ub2RlVmFsdWV9fWZ1bmN0aW9uIE5vZGUobG9jYXRvcil7bG9jYXRvcj8odGhpcy5jb2x1bW5OdW1iZXI9bG9jYXRvci5jb2x1bW5OdW1iZXIsdGhpcy5saW5lTnVtYmVyPWxvY2F0b3IubGluZU51bWJlcik6KHRoaXMuY29sdW1uTnVtYmVyPS0xLHRoaXMubGluZU51bWJlcj0tMSksdGhpcy5wYXJlbnROb2RlPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuZmlyc3RDaGlsZD1udWxsfWZ1bmN0aW9uIFBhcmVudE5vZGUobG9jYXRvcil7Tm9kZS5jYWxsKHRoaXMsbG9jYXRvciksdGhpcy5sYXN0Q2hpbGQ9bnVsbCx0aGlzLl9lbmRMb2NhdG9yPW51bGx9ZnVuY3Rpb24gRG9jdW1lbnQobG9jYXRvcil7UGFyZW50Tm9kZS5jYWxsKHRoaXMsbG9jYXRvciksdGhpcy5ub2RlVHlwZT1Ob2RlVHlwZS5ET0NVTUVOVH1mdW5jdGlvbiBEb2N1bWVudEZyYWdtZW50KCl7UGFyZW50Tm9kZS5jYWxsKHRoaXMsbmV3IExvY2F0b3IpLHRoaXMubm9kZVR5cGU9Tm9kZVR5cGUuRE9DVU1FTlRfRlJBR01FTlR9ZnVuY3Rpb24gRWxlbWVudChsb2NhdG9yLHVyaSxsb2NhbE5hbWUscU5hbWUsYXR0cyxwcmVmaXhNYXBwaW5ncyl7UGFyZW50Tm9kZS5jYWxsKHRoaXMsbG9jYXRvciksdGhpcy51cmk9dXJpLHRoaXMubG9jYWxOYW1lPWxvY2FsTmFtZSx0aGlzLnFOYW1lPXFOYW1lLHRoaXMuYXR0cmlidXRlcz1hdHRzLHRoaXMucHJlZml4TWFwcGluZ3M9cHJlZml4TWFwcGluZ3MsdGhpcy5ub2RlVHlwZT1Ob2RlVHlwZS5FTEVNRU5UfWZ1bmN0aW9uIENoYXJhY3RlcnMobG9jYXRvcixkYXRhKXtOb2RlLmNhbGwodGhpcyxsb2NhdG9yKSx0aGlzLmRhdGE9ZGF0YSx0aGlzLm5vZGVUeXBlPU5vZGVUeXBlLkNIQVJBQ1RFUlN9ZnVuY3Rpb24gSWdub3JhYmxlV2hpdGVzcGFjZShsb2NhdG9yLGRhdGEpe05vZGUuY2FsbCh0aGlzLGxvY2F0b3IpLHRoaXMuZGF0YT1kYXRhLHRoaXMubm9kZVR5cGU9Tm9kZVR5cGUuSUdOT1JBQkxFX1dISVRFU1BBQ0V9ZnVuY3Rpb24gQ29tbWVudChsb2NhdG9yLGRhdGEpe05vZGUuY2FsbCh0aGlzLGxvY2F0b3IpLHRoaXMuZGF0YT1kYXRhLHRoaXMubm9kZVR5cGU9Tm9kZVR5cGUuQ09NTUVOVH1mdW5jdGlvbiBDREFUQShsb2NhdG9yKXtQYXJlbnROb2RlLmNhbGwodGhpcyxsb2NhdG9yKSx0aGlzLm5vZGVUeXBlPU5vZGVUeXBlLkNEQVRBfWZ1bmN0aW9uIEVudGl0eShuYW1lKXtQYXJlbnROb2RlLmNhbGwodGhpcyksdGhpcy5uYW1lPW5hbWUsdGhpcy5ub2RlVHlwZT1Ob2RlVHlwZS5FTlRJVFl9ZnVuY3Rpb24gU2tpcHBlZEVudGl0eShuYW1lKXtOb2RlLmNhbGwodGhpcyksdGhpcy5uYW1lPW5hbWUsdGhpcy5ub2RlVHlwZT1Ob2RlVHlwZS5TS0lQUEVEX0VOVElUWX1mdW5jdGlvbiBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24odGFyZ2V0LGRhdGEpe05vZGUuY2FsbCh0aGlzKSx0aGlzLnRhcmdldD10YXJnZXQsdGhpcy5kYXRhPWRhdGF9ZnVuY3Rpb24gRFREKG5hbWUscHVibGljSWRlbnRpZmllcixzeXN0ZW1JZGVudGlmaWVyKXtQYXJlbnROb2RlLmNhbGwodGhpcyksdGhpcy5uYW1lPW5hbWUsdGhpcy5wdWJsaWNJZGVudGlmaWVyPXB1YmxpY0lkZW50aWZpZXIsdGhpcy5zeXN0ZW1JZGVudGlmaWVyPXN5c3RlbUlkZW50aWZpZXIsdGhpcy5ub2RlVHlwZT1Ob2RlVHlwZS5EVER9dmFyIHV0aWw9X2RlcmVxXyhcXFwidXRpbFxcXCIpLFRyZWVCdWlsZGVyPV9kZXJlcV8oXFxcIi4uL1RyZWVCdWlsZGVyXFxcIikuVHJlZUJ1aWxkZXI7dXRpbC5pbmhlcml0cyhTQVhUcmVlQnVpbGRlcixUcmVlQnVpbGRlciksU0FYVHJlZUJ1aWxkZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudD1uZXcgRG9jdW1lbnQodGhpcy50b2tlbml6ZXIpfSxTQVhUcmVlQnVpbGRlci5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5lbmRMb2NhdG9yPXRoaXMudG9rZW5pemVyfSxTQVhUcmVlQnVpbGRlci5wcm90b3R5cGUuaW5zZXJ0RG9jdHlwZT1mdW5jdGlvbihuYW1lLHB1YmxpY0lkLHN5c3RlbUlkKXt2YXIgZG9jdHlwZT1uZXcgRFREKHRoaXMudG9rZW5pemVyLG5hbWUscHVibGljSWQsc3lzdGVtSWQpO2RvY3R5cGUuZW5kTG9jYXRvcj10aGlzLnRva2VuaXplcix0aGlzLmRvY3VtZW50LmFwcGVuZENoaWxkKGRvY3R5cGUpfSxTQVhUcmVlQnVpbGRlci5wcm90b3R5cGUuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihuYW1lc3BhY2VVUkksbG9jYWxOYW1lLGF0dHJpYnV0ZXMpe3ZhciBlbGVtZW50PW5ldyBFbGVtZW50KHRoaXMudG9rZW5pemVyLG5hbWVzcGFjZVVSSSxsb2NhbE5hbWUsbG9jYWxOYW1lLGF0dHJpYnV0ZXN8fFtdKTtyZXR1cm4gZWxlbWVudH0sU0FYVHJlZUJ1aWxkZXIucHJvdG90eXBlLmluc2VydENvbW1lbnQ9ZnVuY3Rpb24oZGF0YSxwYXJlbnQpe3BhcmVudHx8KHBhcmVudD10aGlzLmN1cnJlbnRTdGFja0l0ZW0oKSk7dmFyIGNvbW1lbnQ9bmV3IENvbW1lbnQodGhpcy50b2tlbml6ZXIsZGF0YSk7cGFyZW50LmFwcGVuZENoaWxkKGNvbW1lbnQpfSxTQVhUcmVlQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kQ2hhcmFjdGVycz1mdW5jdGlvbihwYXJlbnQsZGF0YSl7dmFyIHRleHQ9bmV3IENoYXJhY3RlcnModGhpcy50b2tlbml6ZXIsZGF0YSk7cGFyZW50LmFwcGVuZENoaWxkKHRleHQpfSxTQVhUcmVlQnVpbGRlci5wcm90b3R5cGUuaW5zZXJ0VGV4dD1mdW5jdGlvbihkYXRhKXtpZih0aGlzLnJlZGlyZWN0QXR0YWNoVG9Gb3N0ZXJQYXJlbnQmJnRoaXMub3BlbkVsZW1lbnRzLnRvcC5pc0Zvc3RlclBhcmVudGluZygpKXt2YXIgdGFibGVJbmRleD10aGlzLm9wZW5FbGVtZW50cy5maW5kSW5kZXgoXFxcInRhYmxlXFxcIiksdGFibGVJdGVtPXRoaXMub3BlbkVsZW1lbnRzLml0ZW0odGFibGVJbmRleCksdGFibGU9dGFibGVJdGVtLm5vZGU7aWYoMD09PXRhYmxlSW5kZXgpcmV0dXJuIHRoaXMuYXBwZW5kQ2hhcmFjdGVycyh0YWJsZSxkYXRhKTt2YXIgdGV4dD1uZXcgQ2hhcmFjdGVycyh0aGlzLnRva2VuaXplcixkYXRhKSxwYXJlbnQ9dGFibGUucGFyZW50Tm9kZTtpZihwYXJlbnQpcmV0dXJuIHBhcmVudC5pbnNlcnRCZXR3ZWVuKHRleHQsdGFibGUucHJldmlvdXNTaWJsaW5nLHRhYmxlKSx2b2lkIDA7dmFyIHN0YWNrUGFyZW50PXRoaXMub3BlbkVsZW1lbnRzLml0ZW0odGFibGVJbmRleC0xKS5ub2RlO3JldHVybiBzdGFja1BhcmVudC5hcHBlbmRDaGlsZCh0ZXh0KSx2b2lkIDB9dGhpcy5hcHBlbmRDaGFyYWN0ZXJzKHRoaXMuY3VycmVudFN0YWNrSXRlbSgpLm5vZGUsZGF0YSl9LFNBWFRyZWVCdWlsZGVyLnByb3RvdHlwZS5hdHRhY2hOb2RlPWZ1bmN0aW9uKG5vZGUscGFyZW50KXtwYXJlbnQuYXBwZW5kQ2hpbGQobm9kZSl9LFNBWFRyZWVCdWlsZGVyLnByb3RvdHlwZS5hdHRhY2hOb2RlVG9Gb3N0ZXJQYXJlbnQ9ZnVuY3Rpb24oY2hpbGQsdGFibGUsc3RhY2tQYXJlbnQpe3ZhciBwYXJlbnQ9dGFibGUucGFyZW50Tm9kZTtwYXJlbnQ/cGFyZW50Lmluc2VydEJldHdlZW4oY2hpbGQsdGFibGUucHJldmlvdXNTaWJsaW5nLHRhYmxlKTpzdGFja1BhcmVudC5hcHBlbmRDaGlsZChjaGlsZCl9LFNBWFRyZWVCdWlsZGVyLnByb3RvdHlwZS5kZXRhY2hGcm9tUGFyZW50PWZ1bmN0aW9uKGVsZW1lbnQpe2VsZW1lbnQuZGV0YWNoKCl9LFNBWFRyZWVCdWlsZGVyLnByb3RvdHlwZS5yZXBhcmVudENoaWxkcmVuPWZ1bmN0aW9uKG9sZFBhcmVudCxuZXdQYXJlbnQpe25ld1BhcmVudC5hcHBlbmRDaGlsZHJlbihvbGRQYXJlbnQuZmlyc3RDaGlsZCl9LFNBWFRyZWVCdWlsZGVyLnByb3RvdHlwZS5nZXRGcmFnbWVudD1mdW5jdGlvbigpe3ZhciBmcmFnbWVudD1uZXcgRG9jdW1lbnRGcmFnbWVudDtyZXR1cm4gdGhpcy5yZXBhcmVudENoaWxkcmVuKHRoaXMub3BlbkVsZW1lbnRzLnJvb3ROb2RlLGZyYWdtZW50KSxmcmFnbWVudH0sU0FYVHJlZUJ1aWxkZXIucHJvdG90eXBlLmFkZEF0dHJpYnV0ZXNUb0VsZW1lbnQ9ZnVuY3Rpb24oZWxlbWVudCxhdHRyaWJ1dGVzKXtmb3IodmFyIGk9MDthdHRyaWJ1dGVzLmxlbmd0aD5pO2krKyl7dmFyIGF0dHJpYnV0ZT1hdHRyaWJ1dGVzW2ldO2dldEF0dHJpYnV0ZShlbGVtZW50LGF0dHJpYnV0ZS5ub2RlTmFtZSl8fGVsZW1lbnQuYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSl9fTt2YXIgTm9kZVR5cGU9e0NEQVRBOjEsQ0hBUkFDVEVSUzoyLENPTU1FTlQ6MyxET0NVTUVOVDo0LERPQ1VNRU5UX0ZSQUdNRU5UOjUsRFREOjYsRUxFTUVOVDo3LEVOVElUWTo4LElHTk9SQUJMRV9XSElURVNQQUNFOjksUFJPQ0VTU0lOR19JTlNUUlVDVElPTjoxMCxTS0lQUEVEX0VOVElUWToxMX07Tm9kZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcXFwiTm90IEltcGxlbWVudGVkXFxcIil9LE5vZGUucHJvdG90eXBlLnJldmlzaXQ9ZnVuY3Rpb24oKXt9LE5vZGUucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe251bGwhPT10aGlzLnBhcmVudE5vZGUmJih0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyksdGhpcy5wYXJlbnROb2RlPW51bGwpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZS5wcm90b3R5cGUsXFxcInByZXZpb3VzU2libGluZ1xcXCIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgcHJldj1udWxsLG5leHQ9dGhpcy5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ7Oyl7aWYodGhpcz09bmV4dClyZXR1cm4gcHJldjtwcmV2PW5leHQsbmV4dD1uZXh0Lm5leHRTaWJsaW5nfX19KSxQYXJlbnROb2RlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE5vZGUucHJvdG90eXBlKSxQYXJlbnROb2RlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24oY2hpbGQsc2libGluZyl7aWYoIXNpYmxpbmcpcmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQoY2hpbGQpO2lmKGNoaWxkLmRldGFjaCgpLGNoaWxkLnBhcmVudE5vZGU9dGhpcyx0aGlzLmZpcnN0Q2hpbGQ9PXNpYmxpbmcpY2hpbGQubmV4dFNpYmxpbmc9c2libGluZyx0aGlzLmZpcnN0Q2hpbGQ9Y2hpbGQ7ZWxzZXtmb3IodmFyIHByZXY9dGhpcy5maXJzdENoaWxkLG5leHQ9dGhpcy5maXJzdENoaWxkLm5leHRTaWJsaW5nO25leHQhPXNpYmxpbmc7KXByZXY9bmV4dCxuZXh0PW5leHQubmV4dFNpYmxpbmc7cHJldi5uZXh0U2libGluZz1jaGlsZCxjaGlsZC5uZXh0U2libGluZz1uZXh0fXJldHVybiBjaGlsZH0sUGFyZW50Tm9kZS5wcm90b3R5cGUuaW5zZXJ0QmV0d2Vlbj1mdW5jdGlvbihjaGlsZCxwcmV2LG5leHQpe3JldHVybiBuZXh0PyhjaGlsZC5kZXRhY2goKSxjaGlsZC5wYXJlbnROb2RlPXRoaXMsY2hpbGQubmV4dFNpYmxpbmc9bmV4dCxwcmV2P3ByZXYubmV4dFNpYmxpbmc9Y2hpbGQ6Zmlyc3RDaGlsZD1jaGlsZCxjaGlsZCk6dGhpcy5hcHBlbmRDaGlsZChjaGlsZCl9LFBhcmVudE5vZGUucHJvdG90eXBlLmFwcGVuZENoaWxkPWZ1bmN0aW9uKGNoaWxkKXtyZXR1cm4gY2hpbGQuZGV0YWNoKCksY2hpbGQucGFyZW50Tm9kZT10aGlzLHRoaXMuZmlyc3RDaGlsZD90aGlzLmxhc3RDaGlsZC5uZXh0U2libGluZz1jaGlsZDp0aGlzLmZpcnN0Q2hpbGQ9Y2hpbGQsdGhpcy5sYXN0Q2hpbGQ9Y2hpbGQsY2hpbGR9LFBhcmVudE5vZGUucHJvdG90eXBlLmFwcGVuZENoaWxkcmVuPWZ1bmN0aW9uKHBhcmVudCl7dmFyIGNoaWxkPXBhcmVudC5maXJzdENoaWxkO2lmKGNoaWxkKXt2YXIgYW5vdGhlcj1wYXJlbnQ7dGhpcy5maXJzdENoaWxkP3RoaXMubGFzdENoaWxkLm5leHRTaWJsaW5nPWNoaWxkOnRoaXMuZmlyc3RDaGlsZD1jaGlsZCx0aGlzLmxhc3RDaGlsZD1hbm90aGVyLmxhc3RDaGlsZDtkbyBjaGlsZC5wYXJlbnROb2RlPXRoaXM7d2hpbGUoY2hpbGQ9Y2hpbGQubmV4dFNpYmxpbmcpO2Fub3RoZXIuZmlyc3RDaGlsZD1udWxsLGFub3RoZXIubGFzdENoaWxkPW51bGx9fSxQYXJlbnROb2RlLnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbihub2RlKXtpZih0aGlzLmZpcnN0Q2hpbGQ9PW5vZGUpdGhpcy5maXJzdENoaWxkPW5vZGUubmV4dFNpYmxpbmcsdGhpcy5sYXN0Q2hpbGQ9PW5vZGUmJih0aGlzLmxhc3RDaGlsZD1udWxsKTtlbHNle2Zvcih2YXIgcHJldj10aGlzLmZpcnN0Q2hpbGQsbmV4dD10aGlzLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmc7bmV4dCE9bm9kZTspcHJldj1uZXh0LG5leHQ9bmV4dC5uZXh0U2libGluZztwcmV2Lm5leHRTaWJsaW5nPW5vZGUubmV4dFNpYmxpbmcsdGhpcy5sYXN0Q2hpbGQ9PW5vZGUmJih0aGlzLmxhc3RDaGlsZD1wcmV2KX1yZXR1cm4gbm9kZS5wYXJlbnROb2RlPW51bGwsbm9kZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcmVudE5vZGUucHJvdG90eXBlLFxcXCJlbmRMb2NhdG9yXFxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZExvY2F0b3J9LHNldDpmdW5jdGlvbihlbmRMb2NhdG9yKXt0aGlzLl9lbmRMb2NhdG9yPXtsaW5lTnVtYmVyOmVuZExvY2F0b3IubGluZU51bWJlcixjb2x1bW5OdW1iZXI6ZW5kTG9jYXRvci5jb2x1bW5OdW1iZXJ9fX0pLERvY3VtZW50LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFBhcmVudE5vZGUucHJvdG90eXBlKSxEb2N1bWVudC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odHJlZVBhcnNlcil7dHJlZVBhcnNlci5zdGFydERvY3VtZW50KHRoaXMpfSxEb2N1bWVudC5wcm90b3R5cGUucmV2aXNpdD1mdW5jdGlvbih0cmVlUGFyc2VyKXt0cmVlUGFyc2VyLmVuZERvY3VtZW50KHRoaXMuZW5kTG9jYXRvcil9LERvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUGFyZW50Tm9kZS5wcm90b3R5cGUpLERvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKCl7fSxFbGVtZW50LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFBhcmVudE5vZGUucHJvdG90eXBlKSxFbGVtZW50LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0cmVlUGFyc2VyKXtpZih0aGlzLnByZWZpeE1hcHBpbmdzKWZvcih2YXIga2V5IGluIHByZWZpeE1hcHBpbmdzKXt2YXIgbWFwcGluZz1wcmVmaXhNYXBwaW5nc1trZXldO3RyZWVQYXJzZXIuc3RhcnRQcmVmaXhNYXBwaW5nKG1hcHBpbmcuZ2V0UHJlZml4KCksbWFwcGluZy5nZXRVcmkoKSx0aGlzKX10cmVlUGFyc2VyLnN0YXJ0RWxlbWVudCh0aGlzLnVyaSx0aGlzLmxvY2FsTmFtZSx0aGlzLnFOYW1lLHRoaXMuYXR0cmlidXRlcyx0aGlzKX0sRWxlbWVudC5wcm90b3R5cGUucmV2aXNpdD1mdW5jdGlvbih0cmVlUGFyc2VyKXtpZih0cmVlUGFyc2VyLmVuZEVsZW1lbnQodGhpcy51cmksdGhpcy5sb2NhbE5hbWUsdGhpcy5xTmFtZSx0aGlzLmVuZExvY2F0b3IpLHRoaXMucHJlZml4TWFwcGluZ3MpZm9yKHZhciBrZXkgaW4gcHJlZml4TWFwcGluZ3Mpe3ZhciBtYXBwaW5nPXByZWZpeE1hcHBpbmdzW2tleV07dHJlZVBhcnNlci5lbmRQcmVmaXhNYXBwaW5nKG1hcHBpbmcuZ2V0UHJlZml4KCksdGhpcy5lbmRMb2NhdG9yKX19LENoYXJhY3RlcnMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTm9kZS5wcm90b3R5cGUpLENoYXJhY3RlcnMucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHRyZWVQYXJzZXIpe3RyZWVQYXJzZXIuY2hhcmFjdGVycyh0aGlzLmRhdGEsMCx0aGlzLmRhdGEubGVuZ3RoLHRoaXMpfSxJZ25vcmFibGVXaGl0ZXNwYWNlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE5vZGUucHJvdG90eXBlKSxJZ25vcmFibGVXaGl0ZXNwYWNlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0cmVlUGFyc2VyKXt0cmVlUGFyc2VyLmlnbm9yYWJsZVdoaXRlc3BhY2UodGhpcy5kYXRhLDAsdGhpcy5kYXRhLmxlbmd0aCx0aGlzKX0sQ29tbWVudC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShOb2RlLnByb3RvdHlwZSksQ29tbWVudC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odHJlZVBhcnNlcil7dHJlZVBhcnNlci5jb21tZW50KHRoaXMuZGF0YSwwLHRoaXMuZGF0YS5sZW5ndGgsdGhpcyl9LENEQVRBLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFBhcmVudE5vZGUucHJvdG90eXBlKSxDREFUQS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odHJlZVBhcnNlcil7dHJlZVBhcnNlci5zdGFydENEQVRBKHRoaXMpfSxDREFUQS5wcm90b3R5cGUucmV2aXNpdD1mdW5jdGlvbih0cmVlUGFyc2VyKXt0cmVlUGFyc2VyLmVuZENEQVRBKHRoaXMuZW5kTG9jYXRvcil9LEVudGl0eS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQYXJlbnROb2RlLnByb3RvdHlwZSksRW50aXR5LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0cmVlUGFyc2VyKXt0cmVlUGFyc2VyLnN0YXJ0RW50aXR5KHRoaXMubmFtZSx0aGlzKX0sRW50aXR5LnByb3RvdHlwZS5yZXZpc2l0PWZ1bmN0aW9uKHRyZWVQYXJzZXIpe3RyZWVQYXJzZXIuZW5kRW50aXR5KHRoaXMubmFtZSl9LFNraXBwZWRFbnRpdHkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTm9kZS5wcm90b3R5cGUpLFNraXBwZWRFbnRpdHkucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHRyZWVQYXJzZXIpe3RyZWVQYXJzZXIuc2tpcHBlZEVudGl0eSh0aGlzLm5hbWUsdGhpcyl9LFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShOb2RlLnByb3RvdHlwZSksUHJvY2Vzc2luZ0luc3RydWN0aW9uLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0cmVlUGFyc2VyKXt0cmVlUGFyc2VyLnByb2Nlc3NpbmdJbnN0cnVjdGlvbih0aGlzLnRhcmdldCx0aGlzLmRhdGEsdGhpcyl9LFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5wcm90b3R5cGUuZ2V0Tm9kZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gTm9kZVR5cGUuUFJPQ0VTU0lOR19JTlNUUlVDVElPTn0sRFRELnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFBhcmVudE5vZGUucHJvdG90eXBlKSxEVEQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHRyZWVQYXJzZXIpe3RyZWVQYXJzZXIuc3RhcnREVEQodGhpcy5uYW1lLHRoaXMucHVibGljSWRlbnRpZmllcix0aGlzLnN5c3RlbUlkZW50aWZpZXIsdGhpcyl9LERURC5wcm90b3R5cGUucmV2aXNpdD1mdW5jdGlvbih0cmVlUGFyc2VyKXt0cmVlUGFyc2VyLmVuZERURCgpfSxleHBvcnRzLlNBWFRyZWVCdWlsZGVyPVNBWFRyZWVCdWlsZGVyfSx7XFxcIi4uL1RyZWVCdWlsZGVyXFxcIjo2LHV0aWw6MjB9XSwxMTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7ZnVuY3Rpb24gVHJlZVBhcnNlcihjb250ZW50SGFuZGxlcixsZXhpY2FsSGFuZGxlcil7aWYodGhpcy5jb250ZW50SGFuZGxlcix0aGlzLmxleGljYWxIYW5kbGVyLHRoaXMubG9jYXRvckRlbGVnYXRlLCFjb250ZW50SGFuZGxlcil0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFxcXCJjb250ZW50SGFuZGxlciB3YXMgbnVsbC5cXFwiKTt0aGlzLmNvbnRlbnRIYW5kbGVyPWNvbnRlbnRIYW5kbGVyLHRoaXMubGV4aWNhbEhhbmRsZXI9bGV4aWNhbEhhbmRsZXI/bGV4aWNhbEhhbmRsZXI6bmV3IE51bGxMZXhpY2FsSGFuZGxlcn1mdW5jdGlvbiBOdWxsTGV4aWNhbEhhbmRsZXIoKXt9VHJlZVBhcnNlci5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24obm9kZSl7dGhpcy5jb250ZW50SGFuZGxlci5kb2N1bWVudExvY2F0b3I9dGhpcztmb3IodmFyIG5leHQsY3VycmVudD1ub2RlOzspaWYoY3VycmVudC52aXNpdCh0aGlzKSxuZXh0PWN1cnJlbnQuZmlyc3RDaGlsZCljdXJyZW50PW5leHQ7ZWxzZSBmb3IoOzspe2lmKGN1cnJlbnQucmV2aXNpdCh0aGlzKSxjdXJyZW50PT1ub2RlKXJldHVybjtpZihuZXh0PWN1cnJlbnQubmV4dFNpYmxpbmcpe2N1cnJlbnQ9bmV4dDticmVha31jdXJyZW50PWN1cnJlbnQucGFyZW50Tm9kZX19LFRyZWVQYXJzZXIucHJvdG90eXBlLmNoYXJhY3RlcnM9ZnVuY3Rpb24oY2gsc3RhcnQsbGVuZ3RoLGxvY2F0b3Ipe3RoaXMubG9jYXRvckRlbGVnYXRlPWxvY2F0b3IsdGhpcy5jb250ZW50SGFuZGxlci5jaGFyYWN0ZXJzKGNoLHN0YXJ0LGxlbmd0aCl9LFRyZWVQYXJzZXIucHJvdG90eXBlLmVuZERvY3VtZW50PWZ1bmN0aW9uKGxvY2F0b3Ipe3RoaXMubG9jYXRvckRlbGVnYXRlPWxvY2F0b3IsdGhpcy5jb250ZW50SGFuZGxlci5lbmREb2N1bWVudCgpfSxUcmVlUGFyc2VyLnByb3RvdHlwZS5lbmRFbGVtZW50PWZ1bmN0aW9uKHVyaSxsb2NhbE5hbWUscU5hbWUsbG9jYXRvcil7dGhpcy5sb2NhdG9yRGVsZWdhdGU9bG9jYXRvcix0aGlzLmNvbnRlbnRIYW5kbGVyLmVuZEVsZW1lbnQodXJpLGxvY2FsTmFtZSxxTmFtZSl9LFRyZWVQYXJzZXIucHJvdG90eXBlLmVuZFByZWZpeE1hcHBpbmc9ZnVuY3Rpb24ocHJlZml4LGxvY2F0b3Ipe3RoaXMubG9jYXRvckRlbGVnYXRlPWxvY2F0b3IsdGhpcy5jb250ZW50SGFuZGxlci5lbmRQcmVmaXhNYXBwaW5nKHByZWZpeCl9LFRyZWVQYXJzZXIucHJvdG90eXBlLmlnbm9yYWJsZVdoaXRlc3BhY2U9ZnVuY3Rpb24oY2gsc3RhcnQsbGVuZ3RoLGxvY2F0b3Ipe3RoaXMubG9jYXRvckRlbGVnYXRlPWxvY2F0b3IsdGhpcy5jb250ZW50SGFuZGxlci5pZ25vcmFibGVXaGl0ZXNwYWNlKGNoLHN0YXJ0LGxlbmd0aCl9LFRyZWVQYXJzZXIucHJvdG90eXBlLnByb2Nlc3NpbmdJbnN0cnVjdGlvbj1mdW5jdGlvbih0YXJnZXQsZGF0YSxsb2NhdG9yKXt0aGlzLmxvY2F0b3JEZWxlZ2F0ZT1sb2NhdG9yLHRoaXMuY29udGVudEhhbmRsZXIucHJvY2Vzc2luZ0luc3RydWN0aW9uKHRhcmdldCxkYXRhKX0sVHJlZVBhcnNlci5wcm90b3R5cGUuc2tpcHBlZEVudGl0eT1mdW5jdGlvbihuYW1lLGxvY2F0b3Ipe3RoaXMubG9jYXRvckRlbGVnYXRlPWxvY2F0b3IsdGhpcy5jb250ZW50SGFuZGxlci5za2lwcGVkRW50aXR5KG5hbWUpfSxUcmVlUGFyc2VyLnByb3RvdHlwZS5zdGFydERvY3VtZW50PWZ1bmN0aW9uKGxvY2F0b3Ipe3RoaXMubG9jYXRvckRlbGVnYXRlPWxvY2F0b3IsdGhpcy5jb250ZW50SGFuZGxlci5zdGFydERvY3VtZW50KCl9LFRyZWVQYXJzZXIucHJvdG90eXBlLnN0YXJ0RWxlbWVudD1mdW5jdGlvbih1cmksbG9jYWxOYW1lLHFOYW1lLGF0dHMsbG9jYXRvcil7dGhpcy5sb2NhdG9yRGVsZWdhdGU9bG9jYXRvcix0aGlzLmNvbnRlbnRIYW5kbGVyLnN0YXJ0RWxlbWVudCh1cmksbG9jYWxOYW1lLHFOYW1lLGF0dHMpfSxUcmVlUGFyc2VyLnByb3RvdHlwZS5zdGFydFByZWZpeE1hcHBpbmc9ZnVuY3Rpb24ocHJlZml4LHVyaSxsb2NhdG9yKXt0aGlzLmxvY2F0b3JEZWxlZ2F0ZT1sb2NhdG9yLHRoaXMuY29udGVudEhhbmRsZXIuc3RhcnRQcmVmaXhNYXBwaW5nKHByZWZpeCx1cmkpfSxUcmVlUGFyc2VyLnByb3RvdHlwZS5jb21tZW50PWZ1bmN0aW9uKGNoLHN0YXJ0LGxlbmd0aCxsb2NhdG9yKXt0aGlzLmxvY2F0b3JEZWxlZ2F0ZT1sb2NhdG9yLHRoaXMubGV4aWNhbEhhbmRsZXIuY29tbWVudChjaCxzdGFydCxsZW5ndGgpfSxUcmVlUGFyc2VyLnByb3RvdHlwZS5lbmRDREFUQT1mdW5jdGlvbihsb2NhdG9yKXt0aGlzLmxvY2F0b3JEZWxlZ2F0ZT1sb2NhdG9yLHRoaXMubGV4aWNhbEhhbmRsZXIuZW5kQ0RBVEEoKX0sVHJlZVBhcnNlci5wcm90b3R5cGUuZW5kRFREPWZ1bmN0aW9uKGxvY2F0b3Ipe3RoaXMubG9jYXRvckRlbGVnYXRlPWxvY2F0b3IsdGhpcy5sZXhpY2FsSGFuZGxlci5lbmREVEQoKX0sVHJlZVBhcnNlci5wcm90b3R5cGUuZW5kRW50aXR5PWZ1bmN0aW9uKG5hbWUsbG9jYXRvcil7dGhpcy5sb2NhdG9yRGVsZWdhdGU9bG9jYXRvcix0aGlzLmxleGljYWxIYW5kbGVyLmVuZEVudGl0eShuYW1lKX0sVHJlZVBhcnNlci5wcm90b3R5cGUuc3RhcnRDREFUQT1mdW5jdGlvbihsb2NhdG9yKXt0aGlzLmxvY2F0b3JEZWxlZ2F0ZT1sb2NhdG9yLHRoaXMubGV4aWNhbEhhbmRsZXIuc3RhcnRDREFUQSgpfSxUcmVlUGFyc2VyLnByb3RvdHlwZS5zdGFydERURD1mdW5jdGlvbihuYW1lLHB1YmxpY0lkLHN5c3RlbUlkLGxvY2F0b3Ipe3RoaXMubG9jYXRvckRlbGVnYXRlPWxvY2F0b3IsdGhpcy5sZXhpY2FsSGFuZGxlci5zdGFydERURChuYW1lLHB1YmxpY0lkLHN5c3RlbUlkKX0sVHJlZVBhcnNlci5wcm90b3R5cGUuc3RhcnRFbnRpdHk9ZnVuY3Rpb24obmFtZSxsb2NhdG9yKXt0aGlzLmxvY2F0b3JEZWxlZ2F0ZT1sb2NhdG9yLHRoaXMubGV4aWNhbEhhbmRsZXIuc3RhcnRFbnRpdHkobmFtZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmVlUGFyc2VyLnByb3RvdHlwZSxcXFwiY29sdW1uTnVtYmVyXFxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYXRvckRlbGVnYXRlP3RoaXMubG9jYXRvckRlbGVnYXRlLmNvbHVtbk51bWJlcjotMX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJlZVBhcnNlci5wcm90b3R5cGUsXFxcImxpbmVOdW1iZXJcXFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhdG9yRGVsZWdhdGU/dGhpcy5sb2NhdG9yRGVsZWdhdGUubGluZU51bWJlcjotMX19KSxOdWxsTGV4aWNhbEhhbmRsZXIucHJvdG90eXBlLmNvbW1lbnQ9ZnVuY3Rpb24oKXt9LE51bGxMZXhpY2FsSGFuZGxlci5wcm90b3R5cGUuZW5kQ0RBVEE9ZnVuY3Rpb24oKXt9LE51bGxMZXhpY2FsSGFuZGxlci5wcm90b3R5cGUuZW5kRFREPWZ1bmN0aW9uKCl7fSxOdWxsTGV4aWNhbEhhbmRsZXIucHJvdG90eXBlLmVuZEVudGl0eT1mdW5jdGlvbigpe30sTnVsbExleGljYWxIYW5kbGVyLnByb3RvdHlwZS5zdGFydENEQVRBPWZ1bmN0aW9uKCl7fSxOdWxsTGV4aWNhbEhhbmRsZXIucHJvdG90eXBlLnN0YXJ0RFREPWZ1bmN0aW9uKCl7fSxOdWxsTGV4aWNhbEhhbmRsZXIucHJvdG90eXBlLnN0YXJ0RW50aXR5PWZ1bmN0aW9uKCl7fSxleHBvcnRzLlRyZWVQYXJzZXI9VHJlZVBhcnNlcn0se31dLDEyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7bW9kdWxlLmV4cG9ydHM9e1xcXCJBYWN1dGU7XFxcIjpcXFwiw4FcXFwiLEFhY3V0ZTpcXFwiw4FcXFwiLFxcXCJhYWN1dGU7XFxcIjpcXFwiw6FcXFwiLGFhY3V0ZTpcXFwiw6FcXFwiLFxcXCJBYnJldmU7XFxcIjpcXFwixIJcXFwiLFxcXCJhYnJldmU7XFxcIjpcXFwixINcXFwiLFxcXCJhYztcXFwiOlxcXCLiiL5cXFwiLFxcXCJhY2Q7XFxcIjpcXFwi4oi/XFxcIixcXFwiYWNFO1xcXCI6XFxcIuKIvsyzXFxcIixcXFwiQWNpcmM7XFxcIjpcXFwiw4JcXFwiLEFjaXJjOlxcXCLDglxcXCIsXFxcImFjaXJjO1xcXCI6XFxcIsOiXFxcIixhY2lyYzpcXFwiw6JcXFwiLFxcXCJhY3V0ZTtcXFwiOlxcXCLCtFxcXCIsYWN1dGU6XFxcIsK0XFxcIixcXFwiQWN5O1xcXCI6XFxcItCQXFxcIixcXFwiYWN5O1xcXCI6XFxcItCwXFxcIixcXFwiQUVsaWc7XFxcIjpcXFwiw4ZcXFwiLEFFbGlnOlxcXCLDhlxcXCIsXFxcImFlbGlnO1xcXCI6XFxcIsOmXFxcIixhZWxpZzpcXFwiw6ZcXFwiLFxcXCJhZjtcXFwiOlxcXCLigaFcXFwiLFxcXCJBZnI7XFxcIjpcXFwi8J2UhFxcXCIsXFxcImFmcjtcXFwiOlxcXCLwnZSeXFxcIixcXFwiQWdyYXZlO1xcXCI6XFxcIsOAXFxcIixBZ3JhdmU6XFxcIsOAXFxcIixcXFwiYWdyYXZlO1xcXCI6XFxcIsOgXFxcIixhZ3JhdmU6XFxcIsOgXFxcIixcXFwiYWxlZnN5bTtcXFwiOlxcXCLihLVcXFwiLFxcXCJhbGVwaDtcXFwiOlxcXCLihLVcXFwiLFxcXCJBbHBoYTtcXFwiOlxcXCLOkVxcXCIsXFxcImFscGhhO1xcXCI6XFxcIs6xXFxcIixcXFwiQW1hY3I7XFxcIjpcXFwixIBcXFwiLFxcXCJhbWFjcjtcXFwiOlxcXCLEgVxcXCIsXFxcImFtYWxnO1xcXCI6XFxcIuKov1xcXCIsXFxcImFtcDtcXFwiOlxcXCImXFxcIixhbXA6XFxcIiZcXFwiLFxcXCJBTVA7XFxcIjpcXFwiJlxcXCIsQU1QOlxcXCImXFxcIixcXFwiYW5kYW5kO1xcXCI6XFxcIuKplVxcXCIsXFxcIkFuZDtcXFwiOlxcXCLiqZNcXFwiLFxcXCJhbmQ7XFxcIjpcXFwi4oinXFxcIixcXFwiYW5kZDtcXFwiOlxcXCLiqZxcXFwiLFxcXCJhbmRzbG9wZTtcXFwiOlxcXCLiqZhcXFwiLFxcXCJhbmR2O1xcXCI6XFxcIuKpmlxcXCIsXFxcImFuZztcXFwiOlxcXCLiiKBcXFwiLFxcXCJhbmdlO1xcXCI6XFxcIuKmpFxcXCIsXFxcImFuZ2xlO1xcXCI6XFxcIuKIoFxcXCIsXFxcImFuZ21zZGFhO1xcXCI6XFxcIuKmqFxcXCIsXFxcImFuZ21zZGFiO1xcXCI6XFxcIuKmqVxcXCIsXFxcImFuZ21zZGFjO1xcXCI6XFxcIuKmqlxcXCIsXFxcImFuZ21zZGFkO1xcXCI6XFxcIuKmq1xcXCIsXFxcImFuZ21zZGFlO1xcXCI6XFxcIuKmrFxcXCIsXFxcImFuZ21zZGFmO1xcXCI6XFxcIuKmrVxcXCIsXFxcImFuZ21zZGFnO1xcXCI6XFxcIuKmrlxcXCIsXFxcImFuZ21zZGFoO1xcXCI6XFxcIuKmr1xcXCIsXFxcImFuZ21zZDtcXFwiOlxcXCLiiKFcXFwiLFxcXCJhbmdydDtcXFwiOlxcXCLiiJ9cXFwiLFxcXCJhbmdydHZiO1xcXCI6XFxcIuKKvlxcXCIsXFxcImFuZ3J0dmJkO1xcXCI6XFxcIuKmnVxcXCIsXFxcImFuZ3NwaDtcXFwiOlxcXCLiiKJcXFwiLFxcXCJhbmdzdDtcXFwiOlxcXCLDhVxcXCIsXFxcImFuZ3phcnI7XFxcIjpcXFwi4o28XFxcIixcXFwiQW9nb247XFxcIjpcXFwixIRcXFwiLFxcXCJhb2dvbjtcXFwiOlxcXCLEhVxcXCIsXFxcIkFvcGY7XFxcIjpcXFwi8J2UuFxcXCIsXFxcImFvcGY7XFxcIjpcXFwi8J2VklxcXCIsXFxcImFwYWNpcjtcXFwiOlxcXCLiqa9cXFwiLFxcXCJhcDtcXFwiOlxcXCLiiYhcXFwiLFxcXCJhcEU7XFxcIjpcXFwi4qmwXFxcIixcXFwiYXBlO1xcXCI6XFxcIuKJilxcXCIsXFxcImFwaWQ7XFxcIjpcXFwi4omLXFxcIixcXFwiYXBvcztcXFwiOlxcXCInXFxcIixcXFwiQXBwbHlGdW5jdGlvbjtcXFwiOlxcXCLigaFcXFwiLFxcXCJhcHByb3g7XFxcIjpcXFwi4omIXFxcIixcXFwiYXBwcm94ZXE7XFxcIjpcXFwi4omKXFxcIixcXFwiQXJpbmc7XFxcIjpcXFwiw4VcXFwiLEFyaW5nOlxcXCLDhVxcXCIsXFxcImFyaW5nO1xcXCI6XFxcIsOlXFxcIixhcmluZzpcXFwiw6VcXFwiLFxcXCJBc2NyO1xcXCI6XFxcIvCdkpxcXFwiLFxcXCJhc2NyO1xcXCI6XFxcIvCdkrZcXFwiLFxcXCJBc3NpZ247XFxcIjpcXFwi4omUXFxcIixcXFwiYXN0O1xcXCI6XFxcIipcXFwiLFxcXCJhc3ltcDtcXFwiOlxcXCLiiYhcXFwiLFxcXCJhc3ltcGVxO1xcXCI6XFxcIuKJjVxcXCIsXFxcIkF0aWxkZTtcXFwiOlxcXCLDg1xcXCIsQXRpbGRlOlxcXCLDg1xcXCIsXFxcImF0aWxkZTtcXFwiOlxcXCLDo1xcXCIsYXRpbGRlOlxcXCLDo1xcXCIsXFxcIkF1bWw7XFxcIjpcXFwiw4RcXFwiLEF1bWw6XFxcIsOEXFxcIixcXFwiYXVtbDtcXFwiOlxcXCLDpFxcXCIsYXVtbDpcXFwiw6RcXFwiLFxcXCJhd2NvbmludDtcXFwiOlxcXCLiiLNcXFwiLFxcXCJhd2ludDtcXFwiOlxcXCLiqJFcXFwiLFxcXCJiYWNrY29uZztcXFwiOlxcXCLiiYxcXFwiLFxcXCJiYWNrZXBzaWxvbjtcXFwiOlxcXCLPtlxcXCIsXFxcImJhY2twcmltZTtcXFwiOlxcXCLigLVcXFwiLFxcXCJiYWNrc2ltO1xcXCI6XFxcIuKIvVxcXCIsXFxcImJhY2tzaW1lcTtcXFwiOlxcXCLii41cXFwiLFxcXCJCYWNrc2xhc2g7XFxcIjpcXFwi4oiWXFxcIixcXFwiQmFydjtcXFwiOlxcXCLiq6dcXFwiLFxcXCJiYXJ2ZWU7XFxcIjpcXFwi4oq9XFxcIixcXFwiYmFyd2VkO1xcXCI6XFxcIuKMhVxcXCIsXFxcIkJhcndlZDtcXFwiOlxcXCLijIZcXFwiLFxcXCJiYXJ3ZWRnZTtcXFwiOlxcXCLijIVcXFwiLFxcXCJiYnJrO1xcXCI6XFxcIuKOtVxcXCIsXFxcImJicmt0YnJrO1xcXCI6XFxcIuKOtlxcXCIsXFxcImJjb25nO1xcXCI6XFxcIuKJjFxcXCIsXFxcIkJjeTtcXFwiOlxcXCLQkVxcXCIsXFxcImJjeTtcXFwiOlxcXCLQsVxcXCIsXFxcImJkcXVvO1xcXCI6XFxcIuKAnlxcXCIsXFxcImJlY2F1cztcXFwiOlxcXCLiiLVcXFwiLFxcXCJiZWNhdXNlO1xcXCI6XFxcIuKItVxcXCIsXFxcIkJlY2F1c2U7XFxcIjpcXFwi4oi1XFxcIixcXFwiYmVtcHR5djtcXFwiOlxcXCLiprBcXFwiLFxcXCJiZXBzaTtcXFwiOlxcXCLPtlxcXCIsXFxcImJlcm5vdTtcXFwiOlxcXCLihKxcXFwiLFxcXCJCZXJub3VsbGlzO1xcXCI6XFxcIuKErFxcXCIsXFxcIkJldGE7XFxcIjpcXFwizpJcXFwiLFxcXCJiZXRhO1xcXCI6XFxcIs6yXFxcIixcXFwiYmV0aDtcXFwiOlxcXCLihLZcXFwiLFxcXCJiZXR3ZWVuO1xcXCI6XFxcIuKJrFxcXCIsXFxcIkJmcjtcXFwiOlxcXCLwnZSFXFxcIixcXFwiYmZyO1xcXCI6XFxcIvCdlJ9cXFwiLFxcXCJiaWdjYXA7XFxcIjpcXFwi4ouCXFxcIixcXFwiYmlnY2lyYztcXFwiOlxcXCLil69cXFwiLFxcXCJiaWdjdXA7XFxcIjpcXFwi4ouDXFxcIixcXFwiYmlnb2RvdDtcXFwiOlxcXCLiqIBcXFwiLFxcXCJiaWdvcGx1cztcXFwiOlxcXCLiqIFcXFwiLFxcXCJiaWdvdGltZXM7XFxcIjpcXFwi4qiCXFxcIixcXFwiYmlnc3FjdXA7XFxcIjpcXFwi4qiGXFxcIixcXFwiYmlnc3RhcjtcXFwiOlxcXCLimIVcXFwiLFxcXCJiaWd0cmlhbmdsZWRvd247XFxcIjpcXFwi4pa9XFxcIixcXFwiYmlndHJpYW5nbGV1cDtcXFwiOlxcXCLilrNcXFwiLFxcXCJiaWd1cGx1cztcXFwiOlxcXCLiqIRcXFwiLFxcXCJiaWd2ZWU7XFxcIjpcXFwi4ouBXFxcIixcXFwiYmlnd2VkZ2U7XFxcIjpcXFwi4ouAXFxcIixcXFwiYmthcm93O1xcXCI6XFxcIuKkjVxcXCIsXFxcImJsYWNrbG96ZW5nZTtcXFwiOlxcXCLip6tcXFwiLFxcXCJibGFja3NxdWFyZTtcXFwiOlxcXCLilqpcXFwiLFxcXCJibGFja3RyaWFuZ2xlO1xcXCI6XFxcIuKWtFxcXCIsXFxcImJsYWNrdHJpYW5nbGVkb3duO1xcXCI6XFxcIuKWvlxcXCIsXFxcImJsYWNrdHJpYW5nbGVsZWZ0O1xcXCI6XFxcIuKXglxcXCIsXFxcImJsYWNrdHJpYW5nbGVyaWdodDtcXFwiOlxcXCLilrhcXFwiLFxcXCJibGFuaztcXFwiOlxcXCLikKNcXFwiLFxcXCJibGsxMjtcXFwiOlxcXCLilpJcXFwiLFxcXCJibGsxNDtcXFwiOlxcXCLilpFcXFwiLFxcXCJibGszNDtcXFwiOlxcXCLilpNcXFwiLFxcXCJibG9jaztcXFwiOlxcXCLilohcXFwiLFxcXCJibmU7XFxcIjpcXFwiPeKDpVxcXCIsXFxcImJuZXF1aXY7XFxcIjpcXFwi4omh4oOlXFxcIixcXFwiYk5vdDtcXFwiOlxcXCLiq61cXFwiLFxcXCJibm90O1xcXCI6XFxcIuKMkFxcXCIsXFxcIkJvcGY7XFxcIjpcXFwi8J2UuVxcXCIsXFxcImJvcGY7XFxcIjpcXFwi8J2Vk1xcXCIsXFxcImJvdDtcXFwiOlxcXCLiiqVcXFwiLFxcXCJib3R0b207XFxcIjpcXFwi4oqlXFxcIixcXFwiYm93dGllO1xcXCI6XFxcIuKLiFxcXCIsXFxcImJveGJveDtcXFwiOlxcXCLip4lcXFwiLFxcXCJib3hkbDtcXFwiOlxcXCLilJBcXFwiLFxcXCJib3hkTDtcXFwiOlxcXCLilZVcXFwiLFxcXCJib3hEbDtcXFwiOlxcXCLilZZcXFwiLFxcXCJib3hETDtcXFwiOlxcXCLilZdcXFwiLFxcXCJib3hkcjtcXFwiOlxcXCLilIxcXFwiLFxcXCJib3hkUjtcXFwiOlxcXCLilZJcXFwiLFxcXCJib3hEcjtcXFwiOlxcXCLilZNcXFwiLFxcXCJib3hEUjtcXFwiOlxcXCLilZRcXFwiLFxcXCJib3hoO1xcXCI6XFxcIuKUgFxcXCIsXFxcImJveEg7XFxcIjpcXFwi4pWQXFxcIixcXFwiYm94aGQ7XFxcIjpcXFwi4pSsXFxcIixcXFwiYm94SGQ7XFxcIjpcXFwi4pWkXFxcIixcXFwiYm94aEQ7XFxcIjpcXFwi4pWlXFxcIixcXFwiYm94SEQ7XFxcIjpcXFwi4pWmXFxcIixcXFwiYm94aHU7XFxcIjpcXFwi4pS0XFxcIixcXFwiYm94SHU7XFxcIjpcXFwi4pWnXFxcIixcXFwiYm94aFU7XFxcIjpcXFwi4pWoXFxcIixcXFwiYm94SFU7XFxcIjpcXFwi4pWpXFxcIixcXFwiYm94bWludXM7XFxcIjpcXFwi4oqfXFxcIixcXFwiYm94cGx1cztcXFwiOlxcXCLiip5cXFwiLFxcXCJib3h0aW1lcztcXFwiOlxcXCLiiqBcXFwiLFxcXCJib3h1bDtcXFwiOlxcXCLilJhcXFwiLFxcXCJib3h1TDtcXFwiOlxcXCLilZtcXFwiLFxcXCJib3hVbDtcXFwiOlxcXCLilZxcXFwiLFxcXCJib3hVTDtcXFwiOlxcXCLilZ1cXFwiLFxcXCJib3h1cjtcXFwiOlxcXCLilJRcXFwiLFxcXCJib3h1UjtcXFwiOlxcXCLilZhcXFwiLFxcXCJib3hVcjtcXFwiOlxcXCLilZlcXFwiLFxcXCJib3hVUjtcXFwiOlxcXCLilZpcXFwiLFxcXCJib3h2O1xcXCI6XFxcIuKUglxcXCIsXFxcImJveFY7XFxcIjpcXFwi4pWRXFxcIixcXFwiYm94dmg7XFxcIjpcXFwi4pS8XFxcIixcXFwiYm94dkg7XFxcIjpcXFwi4pWqXFxcIixcXFwiYm94Vmg7XFxcIjpcXFwi4pWrXFxcIixcXFwiYm94Vkg7XFxcIjpcXFwi4pWsXFxcIixcXFwiYm94dmw7XFxcIjpcXFwi4pSkXFxcIixcXFwiYm94dkw7XFxcIjpcXFwi4pWhXFxcIixcXFwiYm94Vmw7XFxcIjpcXFwi4pWiXFxcIixcXFwiYm94Vkw7XFxcIjpcXFwi4pWjXFxcIixcXFwiYm94dnI7XFxcIjpcXFwi4pScXFxcIixcXFwiYm94dlI7XFxcIjpcXFwi4pWeXFxcIixcXFwiYm94VnI7XFxcIjpcXFwi4pWfXFxcIixcXFwiYm94VlI7XFxcIjpcXFwi4pWgXFxcIixcXFwiYnByaW1lO1xcXCI6XFxcIuKAtVxcXCIsXFxcImJyZXZlO1xcXCI6XFxcIsuYXFxcIixcXFwiQnJldmU7XFxcIjpcXFwiy5hcXFwiLFxcXCJicnZiYXI7XFxcIjpcXFwiwqZcXFwiLGJydmJhcjpcXFwiwqZcXFwiLFxcXCJic2NyO1xcXCI6XFxcIvCdkrdcXFwiLFxcXCJCc2NyO1xcXCI6XFxcIuKErFxcXCIsXFxcImJzZW1pO1xcXCI6XFxcIuKBj1xcXCIsXFxcImJzaW07XFxcIjpcXFwi4oi9XFxcIixcXFwiYnNpbWU7XFxcIjpcXFwi4ouNXFxcIixcXFwiYnNvbGI7XFxcIjpcXFwi4qeFXFxcIixcXFwiYnNvbDtcXFwiOlxcXCJcXFxcXFxcXFxcXCIsXFxcImJzb2xoc3ViO1xcXCI6XFxcIuKfiFxcXCIsXFxcImJ1bGw7XFxcIjpcXFwi4oCiXFxcIixcXFwiYnVsbGV0O1xcXCI6XFxcIuKAolxcXCIsXFxcImJ1bXA7XFxcIjpcXFwi4omOXFxcIixcXFwiYnVtcEU7XFxcIjpcXFwi4qquXFxcIixcXFwiYnVtcGU7XFxcIjpcXFwi4omPXFxcIixcXFwiQnVtcGVxO1xcXCI6XFxcIuKJjlxcXCIsXFxcImJ1bXBlcTtcXFwiOlxcXCLiiY9cXFwiLFxcXCJDYWN1dGU7XFxcIjpcXFwixIZcXFwiLFxcXCJjYWN1dGU7XFxcIjpcXFwixIdcXFwiLFxcXCJjYXBhbmQ7XFxcIjpcXFwi4qmEXFxcIixcXFwiY2FwYnJjdXA7XFxcIjpcXFwi4qmJXFxcIixcXFwiY2FwY2FwO1xcXCI6XFxcIuKpi1xcXCIsXFxcImNhcDtcXFwiOlxcXCLiiKlcXFwiLFxcXCJDYXA7XFxcIjpcXFwi4ouSXFxcIixcXFwiY2FwY3VwO1xcXCI6XFxcIuKph1xcXCIsXFxcImNhcGRvdDtcXFwiOlxcXCLiqYBcXFwiLFxcXCJDYXBpdGFsRGlmZmVyZW50aWFsRDtcXFwiOlxcXCLihYVcXFwiLFxcXCJjYXBzO1xcXCI6XFxcIuKIqe+4gFxcXCIsXFxcImNhcmV0O1xcXCI6XFxcIuKBgVxcXCIsXFxcImNhcm9uO1xcXCI6XFxcIsuHXFxcIixcXFwiQ2F5bGV5cztcXFwiOlxcXCLihK1cXFwiLFxcXCJjY2FwcztcXFwiOlxcXCLiqY1cXFwiLFxcXCJDY2Fyb247XFxcIjpcXFwixIxcXFwiLFxcXCJjY2Fyb247XFxcIjpcXFwixI1cXFwiLFxcXCJDY2VkaWw7XFxcIjpcXFwiw4dcXFwiLENjZWRpbDpcXFwiw4dcXFwiLFxcXCJjY2VkaWw7XFxcIjpcXFwiw6dcXFwiLGNjZWRpbDpcXFwiw6dcXFwiLFxcXCJDY2lyYztcXFwiOlxcXCLEiFxcXCIsXFxcImNjaXJjO1xcXCI6XFxcIsSJXFxcIixcXFwiQ2NvbmludDtcXFwiOlxcXCLiiLBcXFwiLFxcXCJjY3VwcztcXFwiOlxcXCLiqYxcXFwiLFxcXCJjY3Vwc3NtO1xcXCI6XFxcIuKpkFxcXCIsXFxcIkNkb3Q7XFxcIjpcXFwixIpcXFwiLFxcXCJjZG90O1xcXCI6XFxcIsSLXFxcIixcXFwiY2VkaWw7XFxcIjpcXFwiwrhcXFwiLGNlZGlsOlxcXCLCuFxcXCIsXFxcIkNlZGlsbGE7XFxcIjpcXFwiwrhcXFwiLFxcXCJjZW1wdHl2O1xcXCI6XFxcIuKmslxcXCIsXFxcImNlbnQ7XFxcIjpcXFwiwqJcXFwiLGNlbnQ6XFxcIsKiXFxcIixcXFwiY2VudGVyZG90O1xcXCI6XFxcIsK3XFxcIixcXFwiQ2VudGVyRG90O1xcXCI6XFxcIsK3XFxcIixcXFwiY2ZyO1xcXCI6XFxcIvCdlKBcXFwiLFxcXCJDZnI7XFxcIjpcXFwi4oStXFxcIixcXFwiQ0hjeTtcXFwiOlxcXCLQp1xcXCIsXFxcImNoY3k7XFxcIjpcXFwi0YdcXFwiLFxcXCJjaGVjaztcXFwiOlxcXCLinJNcXFwiLFxcXCJjaGVja21hcms7XFxcIjpcXFwi4pyTXFxcIixcXFwiQ2hpO1xcXCI6XFxcIs6nXFxcIixcXFwiY2hpO1xcXCI6XFxcIs+HXFxcIixcXFwiY2lyYztcXFwiOlxcXCLLhlxcXCIsXFxcImNpcmNlcTtcXFwiOlxcXCLiiZdcXFwiLFxcXCJjaXJjbGVhcnJvd2xlZnQ7XFxcIjpcXFwi4oa6XFxcIixcXFwiY2lyY2xlYXJyb3dyaWdodDtcXFwiOlxcXCLihrtcXFwiLFxcXCJjaXJjbGVkYXN0O1xcXCI6XFxcIuKKm1xcXCIsXFxcImNpcmNsZWRjaXJjO1xcXCI6XFxcIuKKmlxcXCIsXFxcImNpcmNsZWRkYXNoO1xcXCI6XFxcIuKKnVxcXCIsXFxcIkNpcmNsZURvdDtcXFwiOlxcXCLiiplcXFwiLFxcXCJjaXJjbGVkUjtcXFwiOlxcXCLCrlxcXCIsXFxcImNpcmNsZWRTO1xcXCI6XFxcIuKTiFxcXCIsXFxcIkNpcmNsZU1pbnVzO1xcXCI6XFxcIuKKllxcXCIsXFxcIkNpcmNsZVBsdXM7XFxcIjpcXFwi4oqVXFxcIixcXFwiQ2lyY2xlVGltZXM7XFxcIjpcXFwi4oqXXFxcIixcXFwiY2lyO1xcXCI6XFxcIuKXi1xcXCIsXFxcImNpckU7XFxcIjpcXFwi4qeDXFxcIixcXFwiY2lyZTtcXFwiOlxcXCLiiZdcXFwiLFxcXCJjaXJmbmludDtcXFwiOlxcXCLiqJBcXFwiLFxcXCJjaXJtaWQ7XFxcIjpcXFwi4quvXFxcIixcXFwiY2lyc2NpcjtcXFwiOlxcXCLip4JcXFwiLFxcXCJDbG9ja3dpc2VDb250b3VySW50ZWdyYWw7XFxcIjpcXFwi4oiyXFxcIixcXFwiQ2xvc2VDdXJseURvdWJsZVF1b3RlO1xcXCI6XFxcIuKAnVxcXCIsXFxcIkNsb3NlQ3VybHlRdW90ZTtcXFwiOlxcXCLigJlcXFwiLFxcXCJjbHVicztcXFwiOlxcXCLimaNcXFwiLFxcXCJjbHVic3VpdDtcXFwiOlxcXCLimaNcXFwiLFxcXCJjb2xvbjtcXFwiOlxcXCI6XFxcIixcXFwiQ29sb247XFxcIjpcXFwi4oi3XFxcIixcXFwiQ29sb25lO1xcXCI6XFxcIuKptFxcXCIsXFxcImNvbG9uZTtcXFwiOlxcXCLiiZRcXFwiLFxcXCJjb2xvbmVxO1xcXCI6XFxcIuKJlFxcXCIsXFxcImNvbW1hO1xcXCI6XFxcIixcXFwiLFxcXCJjb21tYXQ7XFxcIjpcXFwiQFxcXCIsXFxcImNvbXA7XFxcIjpcXFwi4oiBXFxcIixcXFwiY29tcGZuO1xcXCI6XFxcIuKImFxcXCIsXFxcImNvbXBsZW1lbnQ7XFxcIjpcXFwi4oiBXFxcIixcXFwiY29tcGxleGVzO1xcXCI6XFxcIuKEglxcXCIsXFxcImNvbmc7XFxcIjpcXFwi4omFXFxcIixcXFwiY29uZ2RvdDtcXFwiOlxcXCLiqa1cXFwiLFxcXCJDb25ncnVlbnQ7XFxcIjpcXFwi4omhXFxcIixcXFwiY29uaW50O1xcXCI6XFxcIuKIrlxcXCIsXFxcIkNvbmludDtcXFwiOlxcXCLiiK9cXFwiLFxcXCJDb250b3VySW50ZWdyYWw7XFxcIjpcXFwi4oiuXFxcIixcXFwiY29wZjtcXFwiOlxcXCLwnZWUXFxcIixcXFwiQ29wZjtcXFwiOlxcXCLihIJcXFwiLFxcXCJjb3Byb2Q7XFxcIjpcXFwi4oiQXFxcIixcXFwiQ29wcm9kdWN0O1xcXCI6XFxcIuKIkFxcXCIsXFxcImNvcHk7XFxcIjpcXFwiwqlcXFwiLGNvcHk6XFxcIsKpXFxcIixcXFwiQ09QWTtcXFwiOlxcXCLCqVxcXCIsQ09QWTpcXFwiwqlcXFwiLFxcXCJjb3B5c3I7XFxcIjpcXFwi4oSXXFxcIixcXFwiQ291bnRlckNsb2Nrd2lzZUNvbnRvdXJJbnRlZ3JhbDtcXFwiOlxcXCLiiLNcXFwiLFxcXCJjcmFycjtcXFwiOlxcXCLihrVcXFwiLFxcXCJjcm9zcztcXFwiOlxcXCLinJdcXFwiLFxcXCJDcm9zcztcXFwiOlxcXCLiqK9cXFwiLFxcXCJDc2NyO1xcXCI6XFxcIvCdkp5cXFwiLFxcXCJjc2NyO1xcXCI6XFxcIvCdkrhcXFwiLFxcXCJjc3ViO1xcXCI6XFxcIuKrj1xcXCIsXFxcImNzdWJlO1xcXCI6XFxcIuKrkVxcXCIsXFxcImNzdXA7XFxcIjpcXFwi4quQXFxcIixcXFwiY3N1cGU7XFxcIjpcXFwi4quSXFxcIixcXFwiY3Rkb3Q7XFxcIjpcXFwi4ouvXFxcIixcXFwiY3VkYXJybDtcXFwiOlxcXCLipLhcXFwiLFxcXCJjdWRhcnJyO1xcXCI6XFxcIuKktVxcXCIsXFxcImN1ZXByO1xcXCI6XFxcIuKLnlxcXCIsXFxcImN1ZXNjO1xcXCI6XFxcIuKLn1xcXCIsXFxcImN1bGFycjtcXFwiOlxcXCLihrZcXFwiLFxcXCJjdWxhcnJwO1xcXCI6XFxcIuKkvVxcXCIsXFxcImN1cGJyY2FwO1xcXCI6XFxcIuKpiFxcXCIsXFxcImN1cGNhcDtcXFwiOlxcXCLiqYZcXFwiLFxcXCJDdXBDYXA7XFxcIjpcXFwi4omNXFxcIixcXFwiY3VwO1xcXCI6XFxcIuKIqlxcXCIsXFxcIkN1cDtcXFwiOlxcXCLii5NcXFwiLFxcXCJjdXBjdXA7XFxcIjpcXFwi4qmKXFxcIixcXFwiY3VwZG90O1xcXCI6XFxcIuKKjVxcXCIsXFxcImN1cG9yO1xcXCI6XFxcIuKphVxcXCIsXFxcImN1cHM7XFxcIjpcXFwi4oiq77iAXFxcIixcXFwiY3VyYXJyO1xcXCI6XFxcIuKGt1xcXCIsXFxcImN1cmFycm07XFxcIjpcXFwi4qS8XFxcIixcXFwiY3VybHllcXByZWM7XFxcIjpcXFwi4oueXFxcIixcXFwiY3VybHllcXN1Y2M7XFxcIjpcXFwi4oufXFxcIixcXFwiY3VybHl2ZWU7XFxcIjpcXFwi4ouOXFxcIixcXFwiY3VybHl3ZWRnZTtcXFwiOlxcXCLii49cXFwiLFxcXCJjdXJyZW47XFxcIjpcXFwiwqRcXFwiLGN1cnJlbjpcXFwiwqRcXFwiLFxcXCJjdXJ2ZWFycm93bGVmdDtcXFwiOlxcXCLihrZcXFwiLFxcXCJjdXJ2ZWFycm93cmlnaHQ7XFxcIjpcXFwi4oa3XFxcIixcXFwiY3V2ZWU7XFxcIjpcXFwi4ouOXFxcIixcXFwiY3V3ZWQ7XFxcIjpcXFwi4ouPXFxcIixcXFwiY3djb25pbnQ7XFxcIjpcXFwi4oiyXFxcIixcXFwiY3dpbnQ7XFxcIjpcXFwi4oixXFxcIixcXFwiY3lsY3R5O1xcXCI6XFxcIuKMrVxcXCIsXFxcImRhZ2dlcjtcXFwiOlxcXCLigKBcXFwiLFxcXCJEYWdnZXI7XFxcIjpcXFwi4oChXFxcIixcXFwiZGFsZXRoO1xcXCI6XFxcIuKEuFxcXCIsXFxcImRhcnI7XFxcIjpcXFwi4oaTXFxcIixcXFwiRGFycjtcXFwiOlxcXCLihqFcXFwiLFxcXCJkQXJyO1xcXCI6XFxcIuKHk1xcXCIsXFxcImRhc2g7XFxcIjpcXFwi4oCQXFxcIixcXFwiRGFzaHY7XFxcIjpcXFwi4qukXFxcIixcXFwiZGFzaHY7XFxcIjpcXFwi4oqjXFxcIixcXFwiZGJrYXJvdztcXFwiOlxcXCLipI9cXFwiLFxcXCJkYmxhYztcXFwiOlxcXCLLnVxcXCIsXFxcIkRjYXJvbjtcXFwiOlxcXCLEjlxcXCIsXFxcImRjYXJvbjtcXFwiOlxcXCLEj1xcXCIsXFxcIkRjeTtcXFwiOlxcXCLQlFxcXCIsXFxcImRjeTtcXFwiOlxcXCLQtFxcXCIsXFxcImRkYWdnZXI7XFxcIjpcXFwi4oChXFxcIixcXFwiZGRhcnI7XFxcIjpcXFwi4oeKXFxcIixcXFwiREQ7XFxcIjpcXFwi4oWFXFxcIixcXFwiZGQ7XFxcIjpcXFwi4oWGXFxcIixcXFwiRERvdHJhaGQ7XFxcIjpcXFwi4qSRXFxcIixcXFwiZGRvdHNlcTtcXFwiOlxcXCLiqbdcXFwiLFxcXCJkZWc7XFxcIjpcXFwiwrBcXFwiLGRlZzpcXFwiwrBcXFwiLFxcXCJEZWw7XFxcIjpcXFwi4oiHXFxcIixcXFwiRGVsdGE7XFxcIjpcXFwizpRcXFwiLFxcXCJkZWx0YTtcXFwiOlxcXCLOtFxcXCIsXFxcImRlbXB0eXY7XFxcIjpcXFwi4qaxXFxcIixcXFwiZGZpc2h0O1xcXCI6XFxcIuKlv1xcXCIsXFxcIkRmcjtcXFwiOlxcXCLwnZSHXFxcIixcXFwiZGZyO1xcXCI6XFxcIvCdlKFcXFwiLFxcXCJkSGFyO1xcXCI6XFxcIuKlpVxcXCIsXFxcImRoYXJsO1xcXCI6XFxcIuKHg1xcXCIsXFxcImRoYXJyO1xcXCI6XFxcIuKHglxcXCIsXFxcIkRpYWNyaXRpY2FsQWN1dGU7XFxcIjpcXFwiwrRcXFwiLFxcXCJEaWFjcml0aWNhbERvdDtcXFwiOlxcXCLLmVxcXCIsXFxcIkRpYWNyaXRpY2FsRG91YmxlQWN1dGU7XFxcIjpcXFwiy51cXFwiLFxcXCJEaWFjcml0aWNhbEdyYXZlO1xcXCI6XFxcImBcXFwiLFxcXCJEaWFjcml0aWNhbFRpbGRlO1xcXCI6XFxcIsucXFxcIixcXFwiZGlhbTtcXFwiOlxcXCLii4RcXFwiLFxcXCJkaWFtb25kO1xcXCI6XFxcIuKLhFxcXCIsXFxcIkRpYW1vbmQ7XFxcIjpcXFwi4ouEXFxcIixcXFwiZGlhbW9uZHN1aXQ7XFxcIjpcXFwi4pmmXFxcIixcXFwiZGlhbXM7XFxcIjpcXFwi4pmmXFxcIixcXFwiZGllO1xcXCI6XFxcIsKoXFxcIixcXFwiRGlmZmVyZW50aWFsRDtcXFwiOlxcXCLihYZcXFwiLFxcXCJkaWdhbW1hO1xcXCI6XFxcIs+dXFxcIixcXFwiZGlzaW47XFxcIjpcXFwi4ouyXFxcIixcXFwiZGl2O1xcXCI6XFxcIsO3XFxcIixcXFwiZGl2aWRlO1xcXCI6XFxcIsO3XFxcIixkaXZpZGU6XFxcIsO3XFxcIixcXFwiZGl2aWRlb250aW1lcztcXFwiOlxcXCLii4dcXFwiLFxcXCJkaXZvbng7XFxcIjpcXFwi4ouHXFxcIixcXFwiREpjeTtcXFwiOlxcXCLQglxcXCIsXFxcImRqY3k7XFxcIjpcXFwi0ZJcXFwiLFxcXCJkbGNvcm47XFxcIjpcXFwi4oyeXFxcIixcXFwiZGxjcm9wO1xcXCI6XFxcIuKMjVxcXCIsXFxcImRvbGxhcjtcXFwiOlxcXCIkXFxcIixcXFwiRG9wZjtcXFwiOlxcXCLwnZS7XFxcIixcXFwiZG9wZjtcXFwiOlxcXCLwnZWVXFxcIixcXFwiRG90O1xcXCI6XFxcIsKoXFxcIixcXFwiZG90O1xcXCI6XFxcIsuZXFxcIixcXFwiRG90RG90O1xcXCI6XFxcIuKDnFxcXCIsXFxcImRvdGVxO1xcXCI6XFxcIuKJkFxcXCIsXFxcImRvdGVxZG90O1xcXCI6XFxcIuKJkVxcXCIsXFxcIkRvdEVxdWFsO1xcXCI6XFxcIuKJkFxcXCIsXFxcImRvdG1pbnVzO1xcXCI6XFxcIuKIuFxcXCIsXFxcImRvdHBsdXM7XFxcIjpcXFwi4oiUXFxcIixcXFwiZG90c3F1YXJlO1xcXCI6XFxcIuKKoVxcXCIsXFxcImRvdWJsZWJhcndlZGdlO1xcXCI6XFxcIuKMhlxcXCIsXFxcIkRvdWJsZUNvbnRvdXJJbnRlZ3JhbDtcXFwiOlxcXCLiiK9cXFwiLFxcXCJEb3VibGVEb3Q7XFxcIjpcXFwiwqhcXFwiLFxcXCJEb3VibGVEb3duQXJyb3c7XFxcIjpcXFwi4oeTXFxcIixcXFwiRG91YmxlTGVmdEFycm93O1xcXCI6XFxcIuKHkFxcXCIsXFxcIkRvdWJsZUxlZnRSaWdodEFycm93O1xcXCI6XFxcIuKHlFxcXCIsXFxcIkRvdWJsZUxlZnRUZWU7XFxcIjpcXFwi4qukXFxcIixcXFwiRG91YmxlTG9uZ0xlZnRBcnJvdztcXFwiOlxcXCLin7hcXFwiLFxcXCJEb3VibGVMb25nTGVmdFJpZ2h0QXJyb3c7XFxcIjpcXFwi4p+6XFxcIixcXFwiRG91YmxlTG9uZ1JpZ2h0QXJyb3c7XFxcIjpcXFwi4p+5XFxcIixcXFwiRG91YmxlUmlnaHRBcnJvdztcXFwiOlxcXCLih5JcXFwiLFxcXCJEb3VibGVSaWdodFRlZTtcXFwiOlxcXCLiiqhcXFwiLFxcXCJEb3VibGVVcEFycm93O1xcXCI6XFxcIuKHkVxcXCIsXFxcIkRvdWJsZVVwRG93bkFycm93O1xcXCI6XFxcIuKHlVxcXCIsXFxcIkRvdWJsZVZlcnRpY2FsQmFyO1xcXCI6XFxcIuKIpVxcXCIsXFxcIkRvd25BcnJvd0JhcjtcXFwiOlxcXCLipJNcXFwiLFxcXCJkb3duYXJyb3c7XFxcIjpcXFwi4oaTXFxcIixcXFwiRG93bkFycm93O1xcXCI6XFxcIuKGk1xcXCIsXFxcIkRvd25hcnJvdztcXFwiOlxcXCLih5NcXFwiLFxcXCJEb3duQXJyb3dVcEFycm93O1xcXCI6XFxcIuKHtVxcXCIsXFxcIkRvd25CcmV2ZTtcXFwiOlxcXCLMkVxcXCIsXFxcImRvd25kb3duYXJyb3dzO1xcXCI6XFxcIuKHilxcXCIsXFxcImRvd25oYXJwb29ubGVmdDtcXFwiOlxcXCLih4NcXFwiLFxcXCJkb3duaGFycG9vbnJpZ2h0O1xcXCI6XFxcIuKHglxcXCIsXFxcIkRvd25MZWZ0UmlnaHRWZWN0b3I7XFxcIjpcXFwi4qWQXFxcIixcXFwiRG93bkxlZnRUZWVWZWN0b3I7XFxcIjpcXFwi4qWeXFxcIixcXFwiRG93bkxlZnRWZWN0b3JCYXI7XFxcIjpcXFwi4qWWXFxcIixcXFwiRG93bkxlZnRWZWN0b3I7XFxcIjpcXFwi4oa9XFxcIixcXFwiRG93blJpZ2h0VGVlVmVjdG9yO1xcXCI6XFxcIuKln1xcXCIsXFxcIkRvd25SaWdodFZlY3RvckJhcjtcXFwiOlxcXCLipZdcXFwiLFxcXCJEb3duUmlnaHRWZWN0b3I7XFxcIjpcXFwi4oeBXFxcIixcXFwiRG93blRlZUFycm93O1xcXCI6XFxcIuKGp1xcXCIsXFxcIkRvd25UZWU7XFxcIjpcXFwi4oqkXFxcIixcXFwiZHJia2Fyb3c7XFxcIjpcXFwi4qSQXFxcIixcXFwiZHJjb3JuO1xcXCI6XFxcIuKMn1xcXCIsXFxcImRyY3JvcDtcXFwiOlxcXCLijIxcXFwiLFxcXCJEc2NyO1xcXCI6XFxcIvCdkp9cXFwiLFxcXCJkc2NyO1xcXCI6XFxcIvCdkrlcXFwiLFxcXCJEU2N5O1xcXCI6XFxcItCFXFxcIixcXFwiZHNjeTtcXFwiOlxcXCLRlVxcXCIsXFxcImRzb2w7XFxcIjpcXFwi4qe2XFxcIixcXFwiRHN0cm9rO1xcXCI6XFxcIsSQXFxcIixcXFwiZHN0cm9rO1xcXCI6XFxcIsSRXFxcIixcXFwiZHRkb3Q7XFxcIjpcXFwi4ouxXFxcIixcXFwiZHRyaTtcXFwiOlxcXCLilr9cXFwiLFxcXCJkdHJpZjtcXFwiOlxcXCLilr5cXFwiLFxcXCJkdWFycjtcXFwiOlxcXCLih7VcXFwiLFxcXCJkdWhhcjtcXFwiOlxcXCLipa9cXFwiLFxcXCJkd2FuZ2xlO1xcXCI6XFxcIuKmplxcXCIsXFxcIkRaY3k7XFxcIjpcXFwi0I9cXFwiLFxcXCJkemN5O1xcXCI6XFxcItGfXFxcIixcXFwiZHppZ3JhcnI7XFxcIjpcXFwi4p+/XFxcIixcXFwiRWFjdXRlO1xcXCI6XFxcIsOJXFxcIixFYWN1dGU6XFxcIsOJXFxcIixcXFwiZWFjdXRlO1xcXCI6XFxcIsOpXFxcIixlYWN1dGU6XFxcIsOpXFxcIixcXFwiZWFzdGVyO1xcXCI6XFxcIuKprlxcXCIsXFxcIkVjYXJvbjtcXFwiOlxcXCLEmlxcXCIsXFxcImVjYXJvbjtcXFwiOlxcXCLEm1xcXCIsXFxcIkVjaXJjO1xcXCI6XFxcIsOKXFxcIixFY2lyYzpcXFwiw4pcXFwiLFxcXCJlY2lyYztcXFwiOlxcXCLDqlxcXCIsZWNpcmM6XFxcIsOqXFxcIixcXFwiZWNpcjtcXFwiOlxcXCLiiZZcXFwiLFxcXCJlY29sb247XFxcIjpcXFwi4omVXFxcIixcXFwiRWN5O1xcXCI6XFxcItCtXFxcIixcXFwiZWN5O1xcXCI6XFxcItGNXFxcIixcXFwiZUREb3Q7XFxcIjpcXFwi4qm3XFxcIixcXFwiRWRvdDtcXFwiOlxcXCLEllxcXCIsXFxcImVkb3Q7XFxcIjpcXFwixJdcXFwiLFxcXCJlRG90O1xcXCI6XFxcIuKJkVxcXCIsXFxcImVlO1xcXCI6XFxcIuKFh1xcXCIsXFxcImVmRG90O1xcXCI6XFxcIuKJklxcXCIsXFxcIkVmcjtcXFwiOlxcXCLwnZSIXFxcIixcXFwiZWZyO1xcXCI6XFxcIvCdlKJcXFwiLFxcXCJlZztcXFwiOlxcXCLiqppcXFwiLFxcXCJFZ3JhdmU7XFxcIjpcXFwiw4hcXFwiLEVncmF2ZTpcXFwiw4hcXFwiLFxcXCJlZ3JhdmU7XFxcIjpcXFwiw6hcXFwiLGVncmF2ZTpcXFwiw6hcXFwiLFxcXCJlZ3M7XFxcIjpcXFwi4qqWXFxcIixcXFwiZWdzZG90O1xcXCI6XFxcIuKqmFxcXCIsXFxcImVsO1xcXCI6XFxcIuKqmVxcXCIsXFxcIkVsZW1lbnQ7XFxcIjpcXFwi4oiIXFxcIixcXFwiZWxpbnRlcnM7XFxcIjpcXFwi4o+nXFxcIixcXFwiZWxsO1xcXCI6XFxcIuKEk1xcXCIsXFxcImVscztcXFwiOlxcXCLiqpVcXFwiLFxcXCJlbHNkb3Q7XFxcIjpcXFwi4qqXXFxcIixcXFwiRW1hY3I7XFxcIjpcXFwixJJcXFwiLFxcXCJlbWFjcjtcXFwiOlxcXCLEk1xcXCIsXFxcImVtcHR5O1xcXCI6XFxcIuKIhVxcXCIsXFxcImVtcHR5c2V0O1xcXCI6XFxcIuKIhVxcXCIsXFxcIkVtcHR5U21hbGxTcXVhcmU7XFxcIjpcXFwi4pe7XFxcIixcXFwiZW1wdHl2O1xcXCI6XFxcIuKIhVxcXCIsXFxcIkVtcHR5VmVyeVNtYWxsU3F1YXJlO1xcXCI6XFxcIuKWq1xcXCIsXFxcImVtc3AxMztcXFwiOlxcXCLigIRcXFwiLFxcXCJlbXNwMTQ7XFxcIjpcXFwi4oCFXFxcIixcXFwiZW1zcDtcXFwiOlxcXCLigINcXFwiLFxcXCJFTkc7XFxcIjpcXFwixYpcXFwiLFxcXCJlbmc7XFxcIjpcXFwixYtcXFwiLFxcXCJlbnNwO1xcXCI6XFxcIuKAglxcXCIsXFxcIkVvZ29uO1xcXCI6XFxcIsSYXFxcIixcXFwiZW9nb247XFxcIjpcXFwixJlcXFwiLFxcXCJFb3BmO1xcXCI6XFxcIvCdlLxcXFwiLFxcXCJlb3BmO1xcXCI6XFxcIvCdlZZcXFwiLFxcXCJlcGFyO1xcXCI6XFxcIuKLlVxcXCIsXFxcImVwYXJzbDtcXFwiOlxcXCLip6NcXFwiLFxcXCJlcGx1cztcXFwiOlxcXCLiqbFcXFwiLFxcXCJlcHNpO1xcXCI6XFxcIs61XFxcIixcXFwiRXBzaWxvbjtcXFwiOlxcXCLOlVxcXCIsXFxcImVwc2lsb247XFxcIjpcXFwizrVcXFwiLFxcXCJlcHNpdjtcXFwiOlxcXCLPtVxcXCIsXFxcImVxY2lyYztcXFwiOlxcXCLiiZZcXFwiLFxcXCJlcWNvbG9uO1xcXCI6XFxcIuKJlVxcXCIsXFxcImVxc2ltO1xcXCI6XFxcIuKJglxcXCIsXFxcImVxc2xhbnRndHI7XFxcIjpcXFwi4qqWXFxcIixcXFwiZXFzbGFudGxlc3M7XFxcIjpcXFwi4qqVXFxcIixcXFwiRXF1YWw7XFxcIjpcXFwi4qm1XFxcIixcXFwiZXF1YWxzO1xcXCI6XFxcIj1cXFwiLFxcXCJFcXVhbFRpbGRlO1xcXCI6XFxcIuKJglxcXCIsXFxcImVxdWVzdDtcXFwiOlxcXCLiiZ9cXFwiLFxcXCJFcXVpbGlicml1bTtcXFwiOlxcXCLih4xcXFwiLFxcXCJlcXVpdjtcXFwiOlxcXCLiiaFcXFwiLFxcXCJlcXVpdkREO1xcXCI6XFxcIuKpuFxcXCIsXFxcImVxdnBhcnNsO1xcXCI6XFxcIuKnpVxcXCIsXFxcImVyYXJyO1xcXCI6XFxcIuKlsVxcXCIsXFxcImVyRG90O1xcXCI6XFxcIuKJk1xcXCIsXFxcImVzY3I7XFxcIjpcXFwi4oSvXFxcIixcXFwiRXNjcjtcXFwiOlxcXCLihLBcXFwiLFxcXCJlc2RvdDtcXFwiOlxcXCLiiZBcXFwiLFxcXCJFc2ltO1xcXCI6XFxcIuKps1xcXCIsXFxcImVzaW07XFxcIjpcXFwi4omCXFxcIixcXFwiRXRhO1xcXCI6XFxcIs6XXFxcIixcXFwiZXRhO1xcXCI6XFxcIs63XFxcIixcXFwiRVRIO1xcXCI6XFxcIsOQXFxcIixFVEg6XFxcIsOQXFxcIixcXFwiZXRoO1xcXCI6XFxcIsOwXFxcIixldGg6XFxcIsOwXFxcIixcXFwiRXVtbDtcXFwiOlxcXCLDi1xcXCIsRXVtbDpcXFwiw4tcXFwiLFxcXCJldW1sO1xcXCI6XFxcIsOrXFxcIixldW1sOlxcXCLDq1xcXCIsXFxcImV1cm87XFxcIjpcXFwi4oKsXFxcIixcXFwiZXhjbDtcXFwiOlxcXCIhXFxcIixcXFwiZXhpc3Q7XFxcIjpcXFwi4oiDXFxcIixcXFwiRXhpc3RzO1xcXCI6XFxcIuKIg1xcXCIsXFxcImV4cGVjdGF0aW9uO1xcXCI6XFxcIuKEsFxcXCIsXFxcImV4cG9uZW50aWFsZTtcXFwiOlxcXCLihYdcXFwiLFxcXCJFeHBvbmVudGlhbEU7XFxcIjpcXFwi4oWHXFxcIixcXFwiZmFsbGluZ2RvdHNlcTtcXFwiOlxcXCLiiZJcXFwiLFxcXCJGY3k7XFxcIjpcXFwi0KRcXFwiLFxcXCJmY3k7XFxcIjpcXFwi0YRcXFwiLFxcXCJmZW1hbGU7XFxcIjpcXFwi4pmAXFxcIixcXFwiZmZpbGlnO1xcXCI6XFxcIu+sg1xcXCIsXFxcImZmbGlnO1xcXCI6XFxcIu+sgFxcXCIsXFxcImZmbGxpZztcXFwiOlxcXCLvrIRcXFwiLFxcXCJGZnI7XFxcIjpcXFwi8J2UiVxcXCIsXFxcImZmcjtcXFwiOlxcXCLwnZSjXFxcIixcXFwiZmlsaWc7XFxcIjpcXFwi76yBXFxcIixcXFwiRmlsbGVkU21hbGxTcXVhcmU7XFxcIjpcXFwi4pe8XFxcIixcXFwiRmlsbGVkVmVyeVNtYWxsU3F1YXJlO1xcXCI6XFxcIuKWqlxcXCIsXFxcImZqbGlnO1xcXCI6XFxcImZqXFxcIixcXFwiZmxhdDtcXFwiOlxcXCLima1cXFwiLFxcXCJmbGxpZztcXFwiOlxcXCLvrIJcXFwiLFxcXCJmbHRucztcXFwiOlxcXCLilrFcXFwiLFxcXCJmbm9mO1xcXCI6XFxcIsaSXFxcIixcXFwiRm9wZjtcXFwiOlxcXCLwnZS9XFxcIixcXFwiZm9wZjtcXFwiOlxcXCLwnZWXXFxcIixcXFwiZm9yYWxsO1xcXCI6XFxcIuKIgFxcXCIsXFxcIkZvckFsbDtcXFwiOlxcXCLiiIBcXFwiLFxcXCJmb3JrO1xcXCI6XFxcIuKLlFxcXCIsXFxcImZvcmt2O1xcXCI6XFxcIuKrmVxcXCIsXFxcIkZvdXJpZXJ0cmY7XFxcIjpcXFwi4oSxXFxcIixcXFwiZnBhcnRpbnQ7XFxcIjpcXFwi4qiNXFxcIixcXFwiZnJhYzEyO1xcXCI6XFxcIsK9XFxcIixmcmFjMTI6XFxcIsK9XFxcIixcXFwiZnJhYzEzO1xcXCI6XFxcIuKFk1xcXCIsXFxcImZyYWMxNDtcXFwiOlxcXCLCvFxcXCIsZnJhYzE0OlxcXCLCvFxcXCIsXFxcImZyYWMxNTtcXFwiOlxcXCLihZVcXFwiLFxcXCJmcmFjMTY7XFxcIjpcXFwi4oWZXFxcIixcXFwiZnJhYzE4O1xcXCI6XFxcIuKFm1xcXCIsXFxcImZyYWMyMztcXFwiOlxcXCLihZRcXFwiLFxcXCJmcmFjMjU7XFxcIjpcXFwi4oWWXFxcIixcXFwiZnJhYzM0O1xcXCI6XFxcIsK+XFxcIixmcmFjMzQ6XFxcIsK+XFxcIixcXFwiZnJhYzM1O1xcXCI6XFxcIuKFl1xcXCIsXFxcImZyYWMzODtcXFwiOlxcXCLihZxcXFwiLFxcXCJmcmFjNDU7XFxcIjpcXFwi4oWYXFxcIixcXFwiZnJhYzU2O1xcXCI6XFxcIuKFmlxcXCIsXFxcImZyYWM1ODtcXFwiOlxcXCLihZ1cXFwiLFxcXCJmcmFjNzg7XFxcIjpcXFwi4oWeXFxcIixcXFwiZnJhc2w7XFxcIjpcXFwi4oGEXFxcIixcXFwiZnJvd247XFxcIjpcXFwi4oyiXFxcIixcXFwiZnNjcjtcXFwiOlxcXCLwnZK7XFxcIixcXFwiRnNjcjtcXFwiOlxcXCLihLFcXFwiLFxcXCJnYWN1dGU7XFxcIjpcXFwix7VcXFwiLFxcXCJHYW1tYTtcXFwiOlxcXCLOk1xcXCIsXFxcImdhbW1hO1xcXCI6XFxcIs6zXFxcIixcXFwiR2FtbWFkO1xcXCI6XFxcIs+cXFxcIixcXFwiZ2FtbWFkO1xcXCI6XFxcIs+dXFxcIixcXFwiZ2FwO1xcXCI6XFxcIuKqhlxcXCIsXFxcIkdicmV2ZTtcXFwiOlxcXCLEnlxcXCIsXFxcImdicmV2ZTtcXFwiOlxcXCLEn1xcXCIsXFxcIkdjZWRpbDtcXFwiOlxcXCLEolxcXCIsXFxcIkdjaXJjO1xcXCI6XFxcIsScXFxcIixcXFwiZ2NpcmM7XFxcIjpcXFwixJ1cXFwiLFxcXCJHY3k7XFxcIjpcXFwi0JNcXFwiLFxcXCJnY3k7XFxcIjpcXFwi0LNcXFwiLFxcXCJHZG90O1xcXCI6XFxcIsSgXFxcIixcXFwiZ2RvdDtcXFwiOlxcXCLEoVxcXCIsXFxcImdlO1xcXCI6XFxcIuKJpVxcXCIsXFxcImdFO1xcXCI6XFxcIuKJp1xcXCIsXFxcImdFbDtcXFwiOlxcXCLiqoxcXFwiLFxcXCJnZWw7XFxcIjpcXFwi4oubXFxcIixcXFwiZ2VxO1xcXCI6XFxcIuKJpVxcXCIsXFxcImdlcXE7XFxcIjpcXFwi4omnXFxcIixcXFwiZ2Vxc2xhbnQ7XFxcIjpcXFwi4qm+XFxcIixcXFwiZ2VzY2M7XFxcIjpcXFwi4qqpXFxcIixcXFwiZ2VzO1xcXCI6XFxcIuKpvlxcXCIsXFxcImdlc2RvdDtcXFwiOlxcXCLiqoBcXFwiLFxcXCJnZXNkb3RvO1xcXCI6XFxcIuKqglxcXCIsXFxcImdlc2RvdG9sO1xcXCI6XFxcIuKqhFxcXCIsXFxcImdlc2w7XFxcIjpcXFwi4oub77iAXFxcIixcXFwiZ2VzbGVzO1xcXCI6XFxcIuKqlFxcXCIsXFxcIkdmcjtcXFwiOlxcXCLwnZSKXFxcIixcXFwiZ2ZyO1xcXCI6XFxcIvCdlKRcXFwiLFxcXCJnZztcXFwiOlxcXCLiiatcXFwiLFxcXCJHZztcXFwiOlxcXCLii5lcXFwiLFxcXCJnZ2c7XFxcIjpcXFwi4ouZXFxcIixcXFwiZ2ltZWw7XFxcIjpcXFwi4oS3XFxcIixcXFwiR0pjeTtcXFwiOlxcXCLQg1xcXCIsXFxcImdqY3k7XFxcIjpcXFwi0ZNcXFwiLFxcXCJnbGE7XFxcIjpcXFwi4qqlXFxcIixcXFwiZ2w7XFxcIjpcXFwi4om3XFxcIixcXFwiZ2xFO1xcXCI6XFxcIuKqklxcXCIsXFxcImdsajtcXFwiOlxcXCLiqqRcXFwiLFxcXCJnbmFwO1xcXCI6XFxcIuKqilxcXCIsXFxcImduYXBwcm94O1xcXCI6XFxcIuKqilxcXCIsXFxcImduZTtcXFwiOlxcXCLiqohcXFwiLFxcXCJnbkU7XFxcIjpcXFwi4ompXFxcIixcXFwiZ25lcTtcXFwiOlxcXCLiqohcXFwiLFxcXCJnbmVxcTtcXFwiOlxcXCLiialcXFwiLFxcXCJnbnNpbTtcXFwiOlxcXCLii6dcXFwiLFxcXCJHb3BmO1xcXCI6XFxcIvCdlL5cXFwiLFxcXCJnb3BmO1xcXCI6XFxcIvCdlZhcXFwiLFxcXCJncmF2ZTtcXFwiOlxcXCJgXFxcIixcXFwiR3JlYXRlckVxdWFsO1xcXCI6XFxcIuKJpVxcXCIsXFxcIkdyZWF0ZXJFcXVhbExlc3M7XFxcIjpcXFwi4oubXFxcIixcXFwiR3JlYXRlckZ1bGxFcXVhbDtcXFwiOlxcXCLiiadcXFwiLFxcXCJHcmVhdGVyR3JlYXRlcjtcXFwiOlxcXCLiqqJcXFwiLFxcXCJHcmVhdGVyTGVzcztcXFwiOlxcXCLiibdcXFwiLFxcXCJHcmVhdGVyU2xhbnRFcXVhbDtcXFwiOlxcXCLiqb5cXFwiLFxcXCJHcmVhdGVyVGlsZGU7XFxcIjpcXFwi4omzXFxcIixcXFwiR3NjcjtcXFwiOlxcXCLwnZKiXFxcIixcXFwiZ3NjcjtcXFwiOlxcXCLihIpcXFwiLFxcXCJnc2ltO1xcXCI6XFxcIuKJs1xcXCIsXFxcImdzaW1lO1xcXCI6XFxcIuKqjlxcXCIsXFxcImdzaW1sO1xcXCI6XFxcIuKqkFxcXCIsXFxcImd0Y2M7XFxcIjpcXFwi4qqnXFxcIixcXFwiZ3RjaXI7XFxcIjpcXFwi4qm6XFxcIixcXFwiZ3Q7XFxcIjpcXFwiPlxcXCIsZ3Q6XFxcIj5cXFwiLFxcXCJHVDtcXFwiOlxcXCI+XFxcIixHVDpcXFwiPlxcXCIsXFxcIkd0O1xcXCI6XFxcIuKJq1xcXCIsXFxcImd0ZG90O1xcXCI6XFxcIuKLl1xcXCIsXFxcImd0bFBhcjtcXFwiOlxcXCLippVcXFwiLFxcXCJndHF1ZXN0O1xcXCI6XFxcIuKpvFxcXCIsXFxcImd0cmFwcHJveDtcXFwiOlxcXCLiqoZcXFwiLFxcXCJndHJhcnI7XFxcIjpcXFwi4qW4XFxcIixcXFwiZ3RyZG90O1xcXCI6XFxcIuKLl1xcXCIsXFxcImd0cmVxbGVzcztcXFwiOlxcXCLii5tcXFwiLFxcXCJndHJlcXFsZXNzO1xcXCI6XFxcIuKqjFxcXCIsXFxcImd0cmxlc3M7XFxcIjpcXFwi4om3XFxcIixcXFwiZ3Ryc2ltO1xcXCI6XFxcIuKJs1xcXCIsXFxcImd2ZXJ0bmVxcTtcXFwiOlxcXCLiianvuIBcXFwiLFxcXCJndm5FO1xcXCI6XFxcIuKJqe+4gFxcXCIsXFxcIkhhY2VrO1xcXCI6XFxcIsuHXFxcIixcXFwiaGFpcnNwO1xcXCI6XFxcIuKAilxcXCIsXFxcImhhbGY7XFxcIjpcXFwiwr1cXFwiLFxcXCJoYW1pbHQ7XFxcIjpcXFwi4oSLXFxcIixcXFwiSEFSRGN5O1xcXCI6XFxcItCqXFxcIixcXFwiaGFyZGN5O1xcXCI6XFxcItGKXFxcIixcXFwiaGFycmNpcjtcXFwiOlxcXCLipYhcXFwiLFxcXCJoYXJyO1xcXCI6XFxcIuKGlFxcXCIsXFxcImhBcnI7XFxcIjpcXFwi4oeUXFxcIixcXFwiaGFycnc7XFxcIjpcXFwi4oatXFxcIixcXFwiSGF0O1xcXCI6XFxcIl5cXFwiLFxcXCJoYmFyO1xcXCI6XFxcIuKEj1xcXCIsXFxcIkhjaXJjO1xcXCI6XFxcIsSkXFxcIixcXFwiaGNpcmM7XFxcIjpcXFwixKVcXFwiLFxcXCJoZWFydHM7XFxcIjpcXFwi4pmlXFxcIixcXFwiaGVhcnRzdWl0O1xcXCI6XFxcIuKZpVxcXCIsXFxcImhlbGxpcDtcXFwiOlxcXCLigKZcXFwiLFxcXCJoZXJjb247XFxcIjpcXFwi4oq5XFxcIixcXFwiaGZyO1xcXCI6XFxcIvCdlKVcXFwiLFxcXCJIZnI7XFxcIjpcXFwi4oSMXFxcIixcXFwiSGlsYmVydFNwYWNlO1xcXCI6XFxcIuKEi1xcXCIsXFxcImhrc2Vhcm93O1xcXCI6XFxcIuKkpVxcXCIsXFxcImhrc3dhcm93O1xcXCI6XFxcIuKkplxcXCIsXFxcImhvYXJyO1xcXCI6XFxcIuKHv1xcXCIsXFxcImhvbXRodDtcXFwiOlxcXCLiiLtcXFwiLFxcXCJob29rbGVmdGFycm93O1xcXCI6XFxcIuKGqVxcXCIsXFxcImhvb2tyaWdodGFycm93O1xcXCI6XFxcIuKGqlxcXCIsXFxcImhvcGY7XFxcIjpcXFwi8J2VmVxcXCIsXFxcIkhvcGY7XFxcIjpcXFwi4oSNXFxcIixcXFwiaG9yYmFyO1xcXCI6XFxcIuKAlVxcXCIsXFxcIkhvcml6b250YWxMaW5lO1xcXCI6XFxcIuKUgFxcXCIsXFxcImhzY3I7XFxcIjpcXFwi8J2SvVxcXCIsXFxcIkhzY3I7XFxcIjpcXFwi4oSLXFxcIixcXFwiaHNsYXNoO1xcXCI6XFxcIuKEj1xcXCIsXFxcIkhzdHJvaztcXFwiOlxcXCLEplxcXCIsXFxcImhzdHJvaztcXFwiOlxcXCLEp1xcXCIsXFxcIkh1bXBEb3duSHVtcDtcXFwiOlxcXCLiiY5cXFwiLFxcXCJIdW1wRXF1YWw7XFxcIjpcXFwi4omPXFxcIixcXFwiaHlidWxsO1xcXCI6XFxcIuKBg1xcXCIsXFxcImh5cGhlbjtcXFwiOlxcXCLigJBcXFwiLFxcXCJJYWN1dGU7XFxcIjpcXFwiw41cXFwiLElhY3V0ZTpcXFwiw41cXFwiLFxcXCJpYWN1dGU7XFxcIjpcXFwiw61cXFwiLGlhY3V0ZTpcXFwiw61cXFwiLFxcXCJpYztcXFwiOlxcXCLigaNcXFwiLFxcXCJJY2lyYztcXFwiOlxcXCLDjlxcXCIsSWNpcmM6XFxcIsOOXFxcIixcXFwiaWNpcmM7XFxcIjpcXFwiw65cXFwiLGljaXJjOlxcXCLDrlxcXCIsXFxcIkljeTtcXFwiOlxcXCLQmFxcXCIsXFxcImljeTtcXFwiOlxcXCLQuFxcXCIsXFxcIklkb3Q7XFxcIjpcXFwixLBcXFwiLFxcXCJJRWN5O1xcXCI6XFxcItCVXFxcIixcXFwiaWVjeTtcXFwiOlxcXCLQtVxcXCIsXFxcImlleGNsO1xcXCI6XFxcIsKhXFxcIixpZXhjbDpcXFwiwqFcXFwiLFxcXCJpZmY7XFxcIjpcXFwi4oeUXFxcIixcXFwiaWZyO1xcXCI6XFxcIvCdlKZcXFwiLFxcXCJJZnI7XFxcIjpcXFwi4oSRXFxcIixcXFwiSWdyYXZlO1xcXCI6XFxcIsOMXFxcIixJZ3JhdmU6XFxcIsOMXFxcIixcXFwiaWdyYXZlO1xcXCI6XFxcIsOsXFxcIixpZ3JhdmU6XFxcIsOsXFxcIixcXFwiaWk7XFxcIjpcXFwi4oWIXFxcIixcXFwiaWlpaW50O1xcXCI6XFxcIuKojFxcXCIsXFxcImlpaW50O1xcXCI6XFxcIuKIrVxcXCIsXFxcImlpbmZpbjtcXFwiOlxcXCLip5xcXFwiLFxcXCJpaW90YTtcXFwiOlxcXCLihKlcXFwiLFxcXCJJSmxpZztcXFwiOlxcXCLEslxcXCIsXFxcImlqbGlnO1xcXCI6XFxcIsSzXFxcIixcXFwiSW1hY3I7XFxcIjpcXFwixKpcXFwiLFxcXCJpbWFjcjtcXFwiOlxcXCLEq1xcXCIsXFxcImltYWdlO1xcXCI6XFxcIuKEkVxcXCIsXFxcIkltYWdpbmFyeUk7XFxcIjpcXFwi4oWIXFxcIixcXFwiaW1hZ2xpbmU7XFxcIjpcXFwi4oSQXFxcIixcXFwiaW1hZ3BhcnQ7XFxcIjpcXFwi4oSRXFxcIixcXFwiaW1hdGg7XFxcIjpcXFwixLFcXFwiLFxcXCJJbTtcXFwiOlxcXCLihJFcXFwiLFxcXCJpbW9mO1xcXCI6XFxcIuKKt1xcXCIsXFxcImltcGVkO1xcXCI6XFxcIsa1XFxcIixcXFwiSW1wbGllcztcXFwiOlxcXCLih5JcXFwiLFxcXCJpbmNhcmU7XFxcIjpcXFwi4oSFXFxcIixcXFwiaW47XFxcIjpcXFwi4oiIXFxcIixcXFwiaW5maW47XFxcIjpcXFwi4oieXFxcIixcXFwiaW5maW50aWU7XFxcIjpcXFwi4qedXFxcIixcXFwiaW5vZG90O1xcXCI6XFxcIsSxXFxcIixcXFwiaW50Y2FsO1xcXCI6XFxcIuKKulxcXCIsXFxcImludDtcXFwiOlxcXCLiiKtcXFwiLFxcXCJJbnQ7XFxcIjpcXFwi4oisXFxcIixcXFwiaW50ZWdlcnM7XFxcIjpcXFwi4oSkXFxcIixcXFwiSW50ZWdyYWw7XFxcIjpcXFwi4oirXFxcIixcXFwiaW50ZXJjYWw7XFxcIjpcXFwi4oq6XFxcIixcXFwiSW50ZXJzZWN0aW9uO1xcXCI6XFxcIuKLglxcXCIsXFxcImludGxhcmhrO1xcXCI6XFxcIuKol1xcXCIsXFxcImludHByb2Q7XFxcIjpcXFwi4qi8XFxcIixcXFwiSW52aXNpYmxlQ29tbWE7XFxcIjpcXFwi4oGjXFxcIixcXFwiSW52aXNpYmxlVGltZXM7XFxcIjpcXFwi4oGiXFxcIixcXFwiSU9jeTtcXFwiOlxcXCLQgVxcXCIsXFxcImlvY3k7XFxcIjpcXFwi0ZFcXFwiLFxcXCJJb2dvbjtcXFwiOlxcXCLErlxcXCIsXFxcImlvZ29uO1xcXCI6XFxcIsSvXFxcIixcXFwiSW9wZjtcXFwiOlxcXCLwnZWAXFxcIixcXFwiaW9wZjtcXFwiOlxcXCLwnZWaXFxcIixcXFwiSW90YTtcXFwiOlxcXCLOmVxcXCIsXFxcImlvdGE7XFxcIjpcXFwizrlcXFwiLFxcXCJpcHJvZDtcXFwiOlxcXCLiqLxcXFwiLFxcXCJpcXVlc3Q7XFxcIjpcXFwiwr9cXFwiLGlxdWVzdDpcXFwiwr9cXFwiLFxcXCJpc2NyO1xcXCI6XFxcIvCdkr5cXFwiLFxcXCJJc2NyO1xcXCI6XFxcIuKEkFxcXCIsXFxcImlzaW47XFxcIjpcXFwi4oiIXFxcIixcXFwiaXNpbmRvdDtcXFwiOlxcXCLii7VcXFwiLFxcXCJpc2luRTtcXFwiOlxcXCLii7lcXFwiLFxcXCJpc2lucztcXFwiOlxcXCLii7RcXFwiLFxcXCJpc2luc3Y7XFxcIjpcXFwi4ouzXFxcIixcXFwiaXNpbnY7XFxcIjpcXFwi4oiIXFxcIixcXFwiaXQ7XFxcIjpcXFwi4oGiXFxcIixcXFwiSXRpbGRlO1xcXCI6XFxcIsSoXFxcIixcXFwiaXRpbGRlO1xcXCI6XFxcIsSpXFxcIixcXFwiSXVrY3k7XFxcIjpcXFwi0IZcXFwiLFxcXCJpdWtjeTtcXFwiOlxcXCLRllxcXCIsXFxcIkl1bWw7XFxcIjpcXFwiw49cXFwiLEl1bWw6XFxcIsOPXFxcIixcXFwiaXVtbDtcXFwiOlxcXCLDr1xcXCIsaXVtbDpcXFwiw69cXFwiLFxcXCJKY2lyYztcXFwiOlxcXCLEtFxcXCIsXFxcImpjaXJjO1xcXCI6XFxcIsS1XFxcIixcXFwiSmN5O1xcXCI6XFxcItCZXFxcIixcXFwiamN5O1xcXCI6XFxcItC5XFxcIixcXFwiSmZyO1xcXCI6XFxcIvCdlI1cXFwiLFxcXCJqZnI7XFxcIjpcXFwi8J2Up1xcXCIsXFxcImptYXRoO1xcXCI6XFxcIsi3XFxcIixcXFwiSm9wZjtcXFwiOlxcXCLwnZWBXFxcIixcXFwiam9wZjtcXFwiOlxcXCLwnZWbXFxcIixcXFwiSnNjcjtcXFwiOlxcXCLwnZKlXFxcIixcXFwianNjcjtcXFwiOlxcXCLwnZK/XFxcIixcXFwiSnNlcmN5O1xcXCI6XFxcItCIXFxcIixcXFwianNlcmN5O1xcXCI6XFxcItGYXFxcIixcXFwiSnVrY3k7XFxcIjpcXFwi0IRcXFwiLFxcXCJqdWtjeTtcXFwiOlxcXCLRlFxcXCIsXFxcIkthcHBhO1xcXCI6XFxcIs6aXFxcIixcXFwia2FwcGE7XFxcIjpcXFwizrpcXFwiLFxcXCJrYXBwYXY7XFxcIjpcXFwiz7BcXFwiLFxcXCJLY2VkaWw7XFxcIjpcXFwixLZcXFwiLFxcXCJrY2VkaWw7XFxcIjpcXFwixLdcXFwiLFxcXCJLY3k7XFxcIjpcXFwi0JpcXFwiLFxcXCJrY3k7XFxcIjpcXFwi0LpcXFwiLFxcXCJLZnI7XFxcIjpcXFwi8J2UjlxcXCIsXFxcImtmcjtcXFwiOlxcXCLwnZSoXFxcIixcXFwia2dyZWVuO1xcXCI6XFxcIsS4XFxcIixcXFwiS0hjeTtcXFwiOlxcXCLQpVxcXCIsXFxcImtoY3k7XFxcIjpcXFwi0YVcXFwiLFxcXCJLSmN5O1xcXCI6XFxcItCMXFxcIixcXFwia2pjeTtcXFwiOlxcXCLRnFxcXCIsXFxcIktvcGY7XFxcIjpcXFwi8J2VglxcXCIsXFxcImtvcGY7XFxcIjpcXFwi8J2VnFxcXCIsXFxcIktzY3I7XFxcIjpcXFwi8J2SplxcXCIsXFxcImtzY3I7XFxcIjpcXFwi8J2TgFxcXCIsXFxcImxBYXJyO1xcXCI6XFxcIuKHmlxcXCIsXFxcIkxhY3V0ZTtcXFwiOlxcXCLEuVxcXCIsXFxcImxhY3V0ZTtcXFwiOlxcXCLEulxcXCIsXFxcImxhZW1wdHl2O1xcXCI6XFxcIuKmtFxcXCIsXFxcImxhZ3JhbjtcXFwiOlxcXCLihJJcXFwiLFxcXCJMYW1iZGE7XFxcIjpcXFwizptcXFwiLFxcXCJsYW1iZGE7XFxcIjpcXFwizrtcXFwiLFxcXCJsYW5nO1xcXCI6XFxcIuKfqFxcXCIsXFxcIkxhbmc7XFxcIjpcXFwi4p+qXFxcIixcXFwibGFuZ2Q7XFxcIjpcXFwi4qaRXFxcIixcXFwibGFuZ2xlO1xcXCI6XFxcIuKfqFxcXCIsXFxcImxhcDtcXFwiOlxcXCLiqoVcXFwiLFxcXCJMYXBsYWNldHJmO1xcXCI6XFxcIuKEklxcXCIsXFxcImxhcXVvO1xcXCI6XFxcIsKrXFxcIixsYXF1bzpcXFwiwqtcXFwiLFxcXCJsYXJyYjtcXFwiOlxcXCLih6RcXFwiLFxcXCJsYXJyYmZzO1xcXCI6XFxcIuKkn1xcXCIsXFxcImxhcnI7XFxcIjpcXFwi4oaQXFxcIixcXFwiTGFycjtcXFwiOlxcXCLihp5cXFwiLFxcXCJsQXJyO1xcXCI6XFxcIuKHkFxcXCIsXFxcImxhcnJmcztcXFwiOlxcXCLipJ1cXFwiLFxcXCJsYXJyaGs7XFxcIjpcXFwi4oapXFxcIixcXFwibGFycmxwO1xcXCI6XFxcIuKGq1xcXCIsXFxcImxhcnJwbDtcXFwiOlxcXCLipLlcXFwiLFxcXCJsYXJyc2ltO1xcXCI6XFxcIuKls1xcXCIsXFxcImxhcnJ0bDtcXFwiOlxcXCLihqJcXFwiLFxcXCJsYXRhaWw7XFxcIjpcXFwi4qSZXFxcIixcXFwibEF0YWlsO1xcXCI6XFxcIuKkm1xcXCIsXFxcImxhdDtcXFwiOlxcXCLiqqtcXFwiLFxcXCJsYXRlO1xcXCI6XFxcIuKqrVxcXCIsXFxcImxhdGVzO1xcXCI6XFxcIuKqre+4gFxcXCIsXFxcImxiYXJyO1xcXCI6XFxcIuKkjFxcXCIsXFxcImxCYXJyO1xcXCI6XFxcIuKkjlxcXCIsXFxcImxiYnJrO1xcXCI6XFxcIuKdslxcXCIsXFxcImxicmFjZTtcXFwiOlxcXCJ7XFxcIixcXFwibGJyYWNrO1xcXCI6XFxcIltcXFwiLFxcXCJsYnJrZTtcXFwiOlxcXCLipotcXFwiLFxcXCJsYnJrc2xkO1xcXCI6XFxcIuKmj1xcXCIsXFxcImxicmtzbHU7XFxcIjpcXFwi4qaNXFxcIixcXFwiTGNhcm9uO1xcXCI6XFxcIsS9XFxcIixcXFwibGNhcm9uO1xcXCI6XFxcIsS+XFxcIixcXFwiTGNlZGlsO1xcXCI6XFxcIsS7XFxcIixcXFwibGNlZGlsO1xcXCI6XFxcIsS8XFxcIixcXFwibGNlaWw7XFxcIjpcXFwi4oyIXFxcIixcXFwibGN1YjtcXFwiOlxcXCJ7XFxcIixcXFwiTGN5O1xcXCI6XFxcItCbXFxcIixcXFwibGN5O1xcXCI6XFxcItC7XFxcIixcXFwibGRjYTtcXFwiOlxcXCLipLZcXFwiLFxcXCJsZHF1bztcXFwiOlxcXCLigJxcXFwiLFxcXCJsZHF1b3I7XFxcIjpcXFwi4oCeXFxcIixcXFwibGRyZGhhcjtcXFwiOlxcXCLipadcXFwiLFxcXCJsZHJ1c2hhcjtcXFwiOlxcXCLipYtcXFwiLFxcXCJsZHNoO1xcXCI6XFxcIuKGslxcXCIsXFxcImxlO1xcXCI6XFxcIuKJpFxcXCIsXFxcImxFO1xcXCI6XFxcIuKJplxcXCIsXFxcIkxlZnRBbmdsZUJyYWNrZXQ7XFxcIjpcXFwi4p+oXFxcIixcXFwiTGVmdEFycm93QmFyO1xcXCI6XFxcIuKHpFxcXCIsXFxcImxlZnRhcnJvdztcXFwiOlxcXCLihpBcXFwiLFxcXCJMZWZ0QXJyb3c7XFxcIjpcXFwi4oaQXFxcIixcXFwiTGVmdGFycm93O1xcXCI6XFxcIuKHkFxcXCIsXFxcIkxlZnRBcnJvd1JpZ2h0QXJyb3c7XFxcIjpcXFwi4oeGXFxcIixcXFwibGVmdGFycm93dGFpbDtcXFwiOlxcXCLihqJcXFwiLFxcXCJMZWZ0Q2VpbGluZztcXFwiOlxcXCLijIhcXFwiLFxcXCJMZWZ0RG91YmxlQnJhY2tldDtcXFwiOlxcXCLin6ZcXFwiLFxcXCJMZWZ0RG93blRlZVZlY3RvcjtcXFwiOlxcXCLipaFcXFwiLFxcXCJMZWZ0RG93blZlY3RvckJhcjtcXFwiOlxcXCLipZlcXFwiLFxcXCJMZWZ0RG93blZlY3RvcjtcXFwiOlxcXCLih4NcXFwiLFxcXCJMZWZ0Rmxvb3I7XFxcIjpcXFwi4oyKXFxcIixcXFwibGVmdGhhcnBvb25kb3duO1xcXCI6XFxcIuKGvVxcXCIsXFxcImxlZnRoYXJwb29udXA7XFxcIjpcXFwi4oa8XFxcIixcXFwibGVmdGxlZnRhcnJvd3M7XFxcIjpcXFwi4oeHXFxcIixcXFwibGVmdHJpZ2h0YXJyb3c7XFxcIjpcXFwi4oaUXFxcIixcXFwiTGVmdFJpZ2h0QXJyb3c7XFxcIjpcXFwi4oaUXFxcIixcXFwiTGVmdHJpZ2h0YXJyb3c7XFxcIjpcXFwi4oeUXFxcIixcXFwibGVmdHJpZ2h0YXJyb3dzO1xcXCI6XFxcIuKHhlxcXCIsXFxcImxlZnRyaWdodGhhcnBvb25zO1xcXCI6XFxcIuKHi1xcXCIsXFxcImxlZnRyaWdodHNxdWlnYXJyb3c7XFxcIjpcXFwi4oatXFxcIixcXFwiTGVmdFJpZ2h0VmVjdG9yO1xcXCI6XFxcIuKljlxcXCIsXFxcIkxlZnRUZWVBcnJvdztcXFwiOlxcXCLihqRcXFwiLFxcXCJMZWZ0VGVlO1xcXCI6XFxcIuKKo1xcXCIsXFxcIkxlZnRUZWVWZWN0b3I7XFxcIjpcXFwi4qWaXFxcIixcXFwibGVmdHRocmVldGltZXM7XFxcIjpcXFwi4ouLXFxcIixcXFwiTGVmdFRyaWFuZ2xlQmFyO1xcXCI6XFxcIuKnj1xcXCIsXFxcIkxlZnRUcmlhbmdsZTtcXFwiOlxcXCLiirJcXFwiLFxcXCJMZWZ0VHJpYW5nbGVFcXVhbDtcXFwiOlxcXCLiirRcXFwiLFxcXCJMZWZ0VXBEb3duVmVjdG9yO1xcXCI6XFxcIuKlkVxcXCIsXFxcIkxlZnRVcFRlZVZlY3RvcjtcXFwiOlxcXCLipaBcXFwiLFxcXCJMZWZ0VXBWZWN0b3JCYXI7XFxcIjpcXFwi4qWYXFxcIixcXFwiTGVmdFVwVmVjdG9yO1xcXCI6XFxcIuKGv1xcXCIsXFxcIkxlZnRWZWN0b3JCYXI7XFxcIjpcXFwi4qWSXFxcIixcXFwiTGVmdFZlY3RvcjtcXFwiOlxcXCLihrxcXFwiLFxcXCJsRWc7XFxcIjpcXFwi4qqLXFxcIixcXFwibGVnO1xcXCI6XFxcIuKLmlxcXCIsXFxcImxlcTtcXFwiOlxcXCLiiaRcXFwiLFxcXCJsZXFxO1xcXCI6XFxcIuKJplxcXCIsXFxcImxlcXNsYW50O1xcXCI6XFxcIuKpvVxcXCIsXFxcImxlc2NjO1xcXCI6XFxcIuKqqFxcXCIsXFxcImxlcztcXFwiOlxcXCLiqb1cXFwiLFxcXCJsZXNkb3Q7XFxcIjpcXFwi4qm/XFxcIixcXFwibGVzZG90bztcXFwiOlxcXCLiqoFcXFwiLFxcXCJsZXNkb3RvcjtcXFwiOlxcXCLiqoNcXFwiLFxcXCJsZXNnO1xcXCI6XFxcIuKLmu+4gFxcXCIsXFxcImxlc2dlcztcXFwiOlxcXCLiqpNcXFwiLFxcXCJsZXNzYXBwcm94O1xcXCI6XFxcIuKqhVxcXCIsXFxcImxlc3Nkb3Q7XFxcIjpcXFwi4ouWXFxcIixcXFwibGVzc2VxZ3RyO1xcXCI6XFxcIuKLmlxcXCIsXFxcImxlc3NlcXFndHI7XFxcIjpcXFwi4qqLXFxcIixcXFwiTGVzc0VxdWFsR3JlYXRlcjtcXFwiOlxcXCLii5pcXFwiLFxcXCJMZXNzRnVsbEVxdWFsO1xcXCI6XFxcIuKJplxcXCIsXFxcIkxlc3NHcmVhdGVyO1xcXCI6XFxcIuKJtlxcXCIsXFxcImxlc3NndHI7XFxcIjpcXFwi4om2XFxcIixcXFwiTGVzc0xlc3M7XFxcIjpcXFwi4qqhXFxcIixcXFwibGVzc3NpbTtcXFwiOlxcXCLiibJcXFwiLFxcXCJMZXNzU2xhbnRFcXVhbDtcXFwiOlxcXCLiqb1cXFwiLFxcXCJMZXNzVGlsZGU7XFxcIjpcXFwi4omyXFxcIixcXFwibGZpc2h0O1xcXCI6XFxcIuKlvFxcXCIsXFxcImxmbG9vcjtcXFwiOlxcXCLijIpcXFwiLFxcXCJMZnI7XFxcIjpcXFwi8J2Uj1xcXCIsXFxcImxmcjtcXFwiOlxcXCLwnZSpXFxcIixcXFwibGc7XFxcIjpcXFwi4om2XFxcIixcXFwibGdFO1xcXCI6XFxcIuKqkVxcXCIsXFxcImxIYXI7XFxcIjpcXFwi4qWiXFxcIixcXFwibGhhcmQ7XFxcIjpcXFwi4oa9XFxcIixcXFwibGhhcnU7XFxcIjpcXFwi4oa8XFxcIixcXFwibGhhcnVsO1xcXCI6XFxcIuKlqlxcXCIsXFxcImxoYmxrO1xcXCI6XFxcIuKWhFxcXCIsXFxcIkxKY3k7XFxcIjpcXFwi0IlcXFwiLFxcXCJsamN5O1xcXCI6XFxcItGZXFxcIixcXFwibGxhcnI7XFxcIjpcXFwi4oeHXFxcIixcXFwibGw7XFxcIjpcXFwi4omqXFxcIixcXFwiTGw7XFxcIjpcXFwi4ouYXFxcIixcXFwibGxjb3JuZXI7XFxcIjpcXFwi4oyeXFxcIixcXFwiTGxlZnRhcnJvdztcXFwiOlxcXCLih5pcXFwiLFxcXCJsbGhhcmQ7XFxcIjpcXFwi4qWrXFxcIixcXFwibGx0cmk7XFxcIjpcXFwi4pe6XFxcIixcXFwiTG1pZG90O1xcXCI6XFxcIsS/XFxcIixcXFwibG1pZG90O1xcXCI6XFxcIsWAXFxcIixcXFwibG1vdXN0YWNoZTtcXFwiOlxcXCLijrBcXFwiLFxcXCJsbW91c3Q7XFxcIjpcXFwi4o6wXFxcIixcXFwibG5hcDtcXFwiOlxcXCLiqolcXFwiLFxcXCJsbmFwcHJveDtcXFwiOlxcXCLiqolcXFwiLFxcXCJsbmU7XFxcIjpcXFwi4qqHXFxcIixcXFwibG5FO1xcXCI6XFxcIuKJqFxcXCIsXFxcImxuZXE7XFxcIjpcXFwi4qqHXFxcIixcXFwibG5lcXE7XFxcIjpcXFwi4omoXFxcIixcXFwibG5zaW07XFxcIjpcXFwi4oumXFxcIixcXFwibG9hbmc7XFxcIjpcXFwi4p+sXFxcIixcXFwibG9hcnI7XFxcIjpcXFwi4oe9XFxcIixcXFwibG9icms7XFxcIjpcXFwi4p+mXFxcIixcXFwibG9uZ2xlZnRhcnJvdztcXFwiOlxcXCLin7VcXFwiLFxcXCJMb25nTGVmdEFycm93O1xcXCI6XFxcIuKftVxcXCIsXFxcIkxvbmdsZWZ0YXJyb3c7XFxcIjpcXFwi4p+4XFxcIixcXFwibG9uZ2xlZnRyaWdodGFycm93O1xcXCI6XFxcIuKft1xcXCIsXFxcIkxvbmdMZWZ0UmlnaHRBcnJvdztcXFwiOlxcXCLin7dcXFwiLFxcXCJMb25nbGVmdHJpZ2h0YXJyb3c7XFxcIjpcXFwi4p+6XFxcIixcXFwibG9uZ21hcHN0bztcXFwiOlxcXCLin7xcXFwiLFxcXCJsb25ncmlnaHRhcnJvdztcXFwiOlxcXCLin7ZcXFwiLFxcXCJMb25nUmlnaHRBcnJvdztcXFwiOlxcXCLin7ZcXFwiLFxcXCJMb25ncmlnaHRhcnJvdztcXFwiOlxcXCLin7lcXFwiLFxcXCJsb29wYXJyb3dsZWZ0O1xcXCI6XFxcIuKGq1xcXCIsXFxcImxvb3BhcnJvd3JpZ2h0O1xcXCI6XFxcIuKGrFxcXCIsXFxcImxvcGFyO1xcXCI6XFxcIuKmhVxcXCIsXFxcIkxvcGY7XFxcIjpcXFwi8J2Vg1xcXCIsXFxcImxvcGY7XFxcIjpcXFwi8J2VnVxcXCIsXFxcImxvcGx1cztcXFwiOlxcXCLiqK1cXFwiLFxcXCJsb3RpbWVzO1xcXCI6XFxcIuKotFxcXCIsXFxcImxvd2FzdDtcXFwiOlxcXCLiiJdcXFwiLFxcXCJsb3diYXI7XFxcIjpcXFwiX1xcXCIsXFxcIkxvd2VyTGVmdEFycm93O1xcXCI6XFxcIuKGmVxcXCIsXFxcIkxvd2VyUmlnaHRBcnJvdztcXFwiOlxcXCLihphcXFwiLFxcXCJsb3o7XFxcIjpcXFwi4peKXFxcIixcXFwibG96ZW5nZTtcXFwiOlxcXCLil4pcXFwiLFxcXCJsb3pmO1xcXCI6XFxcIuKnq1xcXCIsXFxcImxwYXI7XFxcIjpcXFwiKFxcXCIsXFxcImxwYXJsdDtcXFwiOlxcXCLippNcXFwiLFxcXCJscmFycjtcXFwiOlxcXCLih4ZcXFwiLFxcXCJscmNvcm5lcjtcXFwiOlxcXCLijJ9cXFwiLFxcXCJscmhhcjtcXFwiOlxcXCLih4tcXFwiLFxcXCJscmhhcmQ7XFxcIjpcXFwi4qWtXFxcIixcXFwibHJtO1xcXCI6XFxcIuKAjlxcXCIsXFxcImxydHJpO1xcXCI6XFxcIuKKv1xcXCIsXFxcImxzYXF1bztcXFwiOlxcXCLigLlcXFwiLFxcXCJsc2NyO1xcXCI6XFxcIvCdk4FcXFwiLFxcXCJMc2NyO1xcXCI6XFxcIuKEklxcXCIsXFxcImxzaDtcXFwiOlxcXCLihrBcXFwiLFxcXCJMc2g7XFxcIjpcXFwi4oawXFxcIixcXFwibHNpbTtcXFwiOlxcXCLiibJcXFwiLFxcXCJsc2ltZTtcXFwiOlxcXCLiqo1cXFwiLFxcXCJsc2ltZztcXFwiOlxcXCLiqo9cXFwiLFxcXCJsc3FiO1xcXCI6XFxcIltcXFwiLFxcXCJsc3F1bztcXFwiOlxcXCLigJhcXFwiLFxcXCJsc3F1b3I7XFxcIjpcXFwi4oCaXFxcIixcXFwiTHN0cm9rO1xcXCI6XFxcIsWBXFxcIixcXFwibHN0cm9rO1xcXCI6XFxcIsWCXFxcIixcXFwibHRjYztcXFwiOlxcXCLiqqZcXFwiLFxcXCJsdGNpcjtcXFwiOlxcXCLiqblcXFwiLFxcXCJsdDtcXFwiOlxcXCI8XFxcIixsdDpcXFwiPFxcXCIsXFxcIkxUO1xcXCI6XFxcIjxcXFwiLExUOlxcXCI8XFxcIixcXFwiTHQ7XFxcIjpcXFwi4omqXFxcIixcXFwibHRkb3Q7XFxcIjpcXFwi4ouWXFxcIixcXFwibHRocmVlO1xcXCI6XFxcIuKLi1xcXCIsXFxcImx0aW1lcztcXFwiOlxcXCLii4lcXFwiLFxcXCJsdGxhcnI7XFxcIjpcXFwi4qW2XFxcIixcXFwibHRxdWVzdDtcXFwiOlxcXCLiqbtcXFwiLFxcXCJsdHJpO1xcXCI6XFxcIuKXg1xcXCIsXFxcImx0cmllO1xcXCI6XFxcIuKKtFxcXCIsXFxcImx0cmlmO1xcXCI6XFxcIuKXglxcXCIsXFxcImx0clBhcjtcXFwiOlxcXCLippZcXFwiLFxcXCJsdXJkc2hhcjtcXFwiOlxcXCLipYpcXFwiLFxcXCJsdXJ1aGFyO1xcXCI6XFxcIuKlplxcXCIsXFxcImx2ZXJ0bmVxcTtcXFwiOlxcXCLiiajvuIBcXFwiLFxcXCJsdm5FO1xcXCI6XFxcIuKJqO+4gFxcXCIsXFxcIm1hY3I7XFxcIjpcXFwiwq9cXFwiLG1hY3I6XFxcIsKvXFxcIixcXFwibWFsZTtcXFwiOlxcXCLimYJcXFwiLFxcXCJtYWx0O1xcXCI6XFxcIuKcoFxcXCIsXFxcIm1hbHRlc2U7XFxcIjpcXFwi4pygXFxcIixcXFwiTWFwO1xcXCI6XFxcIuKkhVxcXCIsXFxcIm1hcDtcXFwiOlxcXCLihqZcXFwiLFxcXCJtYXBzdG87XFxcIjpcXFwi4oamXFxcIixcXFwibWFwc3RvZG93bjtcXFwiOlxcXCLihqdcXFwiLFxcXCJtYXBzdG9sZWZ0O1xcXCI6XFxcIuKGpFxcXCIsXFxcIm1hcHN0b3VwO1xcXCI6XFxcIuKGpVxcXCIsXFxcIm1hcmtlcjtcXFwiOlxcXCLilq5cXFwiLFxcXCJtY29tbWE7XFxcIjpcXFwi4qipXFxcIixcXFwiTWN5O1xcXCI6XFxcItCcXFxcIixcXFwibWN5O1xcXCI6XFxcItC8XFxcIixcXFwibWRhc2g7XFxcIjpcXFwi4oCUXFxcIixcXFwibUREb3Q7XFxcIjpcXFwi4oi6XFxcIixcXFwibWVhc3VyZWRhbmdsZTtcXFwiOlxcXCLiiKFcXFwiLFxcXCJNZWRpdW1TcGFjZTtcXFwiOlxcXCLigZ9cXFwiLFxcXCJNZWxsaW50cmY7XFxcIjpcXFwi4oSzXFxcIixcXFwiTWZyO1xcXCI6XFxcIvCdlJBcXFwiLFxcXCJtZnI7XFxcIjpcXFwi8J2UqlxcXCIsXFxcIm1obztcXFwiOlxcXCLihKdcXFwiLFxcXCJtaWNybztcXFwiOlxcXCLCtVxcXCIsbWljcm86XFxcIsK1XFxcIixcXFwibWlkYXN0O1xcXCI6XFxcIipcXFwiLFxcXCJtaWRjaXI7XFxcIjpcXFwi4quwXFxcIixcXFwibWlkO1xcXCI6XFxcIuKIo1xcXCIsXFxcIm1pZGRvdDtcXFwiOlxcXCLCt1xcXCIsbWlkZG90OlxcXCLCt1xcXCIsXFxcIm1pbnVzYjtcXFwiOlxcXCLiip9cXFwiLFxcXCJtaW51cztcXFwiOlxcXCLiiJJcXFwiLFxcXCJtaW51c2Q7XFxcIjpcXFwi4oi4XFxcIixcXFwibWludXNkdTtcXFwiOlxcXCLiqKpcXFwiLFxcXCJNaW51c1BsdXM7XFxcIjpcXFwi4oiTXFxcIixcXFwibWxjcDtcXFwiOlxcXCLiq5tcXFwiLFxcXCJtbGRyO1xcXCI6XFxcIuKAplxcXCIsXFxcIm1ucGx1cztcXFwiOlxcXCLiiJNcXFwiLFxcXCJtb2RlbHM7XFxcIjpcXFwi4oqnXFxcIixcXFwiTW9wZjtcXFwiOlxcXCLwnZWEXFxcIixcXFwibW9wZjtcXFwiOlxcXCLwnZWeXFxcIixcXFwibXA7XFxcIjpcXFwi4oiTXFxcIixcXFwibXNjcjtcXFwiOlxcXCLwnZOCXFxcIixcXFwiTXNjcjtcXFwiOlxcXCLihLNcXFwiLFxcXCJtc3Rwb3M7XFxcIjpcXFwi4oi+XFxcIixcXFwiTXU7XFxcIjpcXFwizpxcXFwiLFxcXCJtdTtcXFwiOlxcXCLOvFxcXCIsXFxcIm11bHRpbWFwO1xcXCI6XFxcIuKKuFxcXCIsXFxcIm11bWFwO1xcXCI6XFxcIuKKuFxcXCIsXFxcIm5hYmxhO1xcXCI6XFxcIuKIh1xcXCIsXFxcIk5hY3V0ZTtcXFwiOlxcXCLFg1xcXCIsXFxcIm5hY3V0ZTtcXFwiOlxcXCLFhFxcXCIsXFxcIm5hbmc7XFxcIjpcXFwi4oig4oOSXFxcIixcXFwibmFwO1xcXCI6XFxcIuKJiVxcXCIsXFxcIm5hcEU7XFxcIjpcXFwi4qmwzLhcXFwiLFxcXCJuYXBpZDtcXFwiOlxcXCLiiYvMuFxcXCIsXFxcIm5hcG9zO1xcXCI6XFxcIsWJXFxcIixcXFwibmFwcHJveDtcXFwiOlxcXCLiiYlcXFwiLFxcXCJuYXR1cmFsO1xcXCI6XFxcIuKZrlxcXCIsXFxcIm5hdHVyYWxzO1xcXCI6XFxcIuKElVxcXCIsXFxcIm5hdHVyO1xcXCI6XFxcIuKZrlxcXCIsXFxcIm5ic3A7XFxcIjpcXFwiwqBcXFwiLG5ic3A6XFxcIsKgXFxcIixcXFwibmJ1bXA7XFxcIjpcXFwi4omOzLhcXFwiLFxcXCJuYnVtcGU7XFxcIjpcXFwi4omPzLhcXFwiLFxcXCJuY2FwO1xcXCI6XFxcIuKpg1xcXCIsXFxcIk5jYXJvbjtcXFwiOlxcXCLFh1xcXCIsXFxcIm5jYXJvbjtcXFwiOlxcXCLFiFxcXCIsXFxcIk5jZWRpbDtcXFwiOlxcXCLFhVxcXCIsXFxcIm5jZWRpbDtcXFwiOlxcXCLFhlxcXCIsXFxcIm5jb25nO1xcXCI6XFxcIuKJh1xcXCIsXFxcIm5jb25nZG90O1xcXCI6XFxcIuKprcy4XFxcIixcXFwibmN1cDtcXFwiOlxcXCLiqYJcXFwiLFxcXCJOY3k7XFxcIjpcXFwi0J1cXFwiLFxcXCJuY3k7XFxcIjpcXFwi0L1cXFwiLFxcXCJuZGFzaDtcXFwiOlxcXCLigJNcXFwiLFxcXCJuZWFyaGs7XFxcIjpcXFwi4qSkXFxcIixcXFwibmVhcnI7XFxcIjpcXFwi4oaXXFxcIixcXFwibmVBcnI7XFxcIjpcXFwi4oeXXFxcIixcXFwibmVhcnJvdztcXFwiOlxcXCLihpdcXFwiLFxcXCJuZTtcXFwiOlxcXCLiiaBcXFwiLFxcXCJuZWRvdDtcXFwiOlxcXCLiiZDMuFxcXCIsXFxcIk5lZ2F0aXZlTWVkaXVtU3BhY2U7XFxcIjpcXFwi4oCLXFxcIixcXFwiTmVnYXRpdmVUaGlja1NwYWNlO1xcXCI6XFxcIuKAi1xcXCIsXFxcIk5lZ2F0aXZlVGhpblNwYWNlO1xcXCI6XFxcIuKAi1xcXCIsXFxcIk5lZ2F0aXZlVmVyeVRoaW5TcGFjZTtcXFwiOlxcXCLigItcXFwiLFxcXCJuZXF1aXY7XFxcIjpcXFwi4omiXFxcIixcXFwibmVzZWFyO1xcXCI6XFxcIuKkqFxcXCIsXFxcIm5lc2ltO1xcXCI6XFxcIuKJgsy4XFxcIixcXFwiTmVzdGVkR3JlYXRlckdyZWF0ZXI7XFxcIjpcXFwi4omrXFxcIixcXFwiTmVzdGVkTGVzc0xlc3M7XFxcIjpcXFwi4omqXFxcIixcXFwiTmV3TGluZTtcXFwiOlxcXCJcXFxcblxcXCIsXFxcIm5leGlzdDtcXFwiOlxcXCLiiIRcXFwiLFxcXCJuZXhpc3RzO1xcXCI6XFxcIuKIhFxcXCIsXFxcIk5mcjtcXFwiOlxcXCLwnZSRXFxcIixcXFwibmZyO1xcXCI6XFxcIvCdlKtcXFwiLFxcXCJuZ0U7XFxcIjpcXFwi4omnzLhcXFwiLFxcXCJuZ2U7XFxcIjpcXFwi4omxXFxcIixcXFwibmdlcTtcXFwiOlxcXCLiibFcXFwiLFxcXCJuZ2VxcTtcXFwiOlxcXCLiiafMuFxcXCIsXFxcIm5nZXFzbGFudDtcXFwiOlxcXCLiqb7MuFxcXCIsXFxcIm5nZXM7XFxcIjpcXFwi4qm+zLhcXFwiLFxcXCJuR2c7XFxcIjpcXFwi4ouZzLhcXFwiLFxcXCJuZ3NpbTtcXFwiOlxcXCLiibVcXFwiLFxcXCJuR3Q7XFxcIjpcXFwi4omr4oOSXFxcIixcXFwibmd0O1xcXCI6XFxcIuKJr1xcXCIsXFxcIm5ndHI7XFxcIjpcXFwi4omvXFxcIixcXFwibkd0djtcXFwiOlxcXCLiiavMuFxcXCIsXFxcIm5oYXJyO1xcXCI6XFxcIuKGrlxcXCIsXFxcIm5oQXJyO1xcXCI6XFxcIuKHjlxcXCIsXFxcIm5ocGFyO1xcXCI6XFxcIuKrslxcXCIsXFxcIm5pO1xcXCI6XFxcIuKIi1xcXCIsXFxcIm5pcztcXFwiOlxcXCLii7xcXFwiLFxcXCJuaXNkO1xcXCI6XFxcIuKLulxcXCIsXFxcIm5pdjtcXFwiOlxcXCLiiItcXFwiLFxcXCJOSmN5O1xcXCI6XFxcItCKXFxcIixcXFwibmpjeTtcXFwiOlxcXCLRmlxcXCIsXFxcIm5sYXJyO1xcXCI6XFxcIuKGmlxcXCIsXFxcIm5sQXJyO1xcXCI6XFxcIuKHjVxcXCIsXFxcIm5sZHI7XFxcIjpcXFwi4oClXFxcIixcXFwibmxFO1xcXCI6XFxcIuKJpsy4XFxcIixcXFwibmxlO1xcXCI6XFxcIuKJsFxcXCIsXFxcIm5sZWZ0YXJyb3c7XFxcIjpcXFwi4oaaXFxcIixcXFwibkxlZnRhcnJvdztcXFwiOlxcXCLih41cXFwiLFxcXCJubGVmdHJpZ2h0YXJyb3c7XFxcIjpcXFwi4oauXFxcIixcXFwibkxlZnRyaWdodGFycm93O1xcXCI6XFxcIuKHjlxcXCIsXFxcIm5sZXE7XFxcIjpcXFwi4omwXFxcIixcXFwibmxlcXE7XFxcIjpcXFwi4ommzLhcXFwiLFxcXCJubGVxc2xhbnQ7XFxcIjpcXFwi4qm9zLhcXFwiLFxcXCJubGVzO1xcXCI6XFxcIuKpvcy4XFxcIixcXFwibmxlc3M7XFxcIjpcXFwi4omuXFxcIixcXFwibkxsO1xcXCI6XFxcIuKLmMy4XFxcIixcXFwibmxzaW07XFxcIjpcXFwi4om0XFxcIixcXFwibkx0O1xcXCI6XFxcIuKJquKDklxcXCIsXFxcIm5sdDtcXFwiOlxcXCLiia5cXFwiLFxcXCJubHRyaTtcXFwiOlxcXCLii6pcXFwiLFxcXCJubHRyaWU7XFxcIjpcXFwi4ousXFxcIixcXFwibkx0djtcXFwiOlxcXCLiiarMuFxcXCIsXFxcIm5taWQ7XFxcIjpcXFwi4oikXFxcIixcXFwiTm9CcmVhaztcXFwiOlxcXCLigaBcXFwiLFxcXCJOb25CcmVha2luZ1NwYWNlO1xcXCI6XFxcIsKgXFxcIixcXFwibm9wZjtcXFwiOlxcXCLwnZWfXFxcIixcXFwiTm9wZjtcXFwiOlxcXCLihJVcXFwiLFxcXCJOb3Q7XFxcIjpcXFwi4qusXFxcIixcXFwibm90O1xcXCI6XFxcIsKsXFxcIixub3Q6XFxcIsKsXFxcIixcXFwiTm90Q29uZ3J1ZW50O1xcXCI6XFxcIuKJolxcXCIsXFxcIk5vdEN1cENhcDtcXFwiOlxcXCLiia1cXFwiLFxcXCJOb3REb3VibGVWZXJ0aWNhbEJhcjtcXFwiOlxcXCLiiKZcXFwiLFxcXCJOb3RFbGVtZW50O1xcXCI6XFxcIuKIiVxcXCIsXFxcIk5vdEVxdWFsO1xcXCI6XFxcIuKJoFxcXCIsXFxcIk5vdEVxdWFsVGlsZGU7XFxcIjpcXFwi4omCzLhcXFwiLFxcXCJOb3RFeGlzdHM7XFxcIjpcXFwi4oiEXFxcIixcXFwiTm90R3JlYXRlcjtcXFwiOlxcXCLiia9cXFwiLFxcXCJOb3RHcmVhdGVyRXF1YWw7XFxcIjpcXFwi4omxXFxcIixcXFwiTm90R3JlYXRlckZ1bGxFcXVhbDtcXFwiOlxcXCLiiafMuFxcXCIsXFxcIk5vdEdyZWF0ZXJHcmVhdGVyO1xcXCI6XFxcIuKJq8y4XFxcIixcXFwiTm90R3JlYXRlckxlc3M7XFxcIjpcXFwi4om5XFxcIixcXFwiTm90R3JlYXRlclNsYW50RXF1YWw7XFxcIjpcXFwi4qm+zLhcXFwiLFxcXCJOb3RHcmVhdGVyVGlsZGU7XFxcIjpcXFwi4om1XFxcIixcXFwiTm90SHVtcERvd25IdW1wO1xcXCI6XFxcIuKJjsy4XFxcIixcXFwiTm90SHVtcEVxdWFsO1xcXCI6XFxcIuKJj8y4XFxcIixcXFwibm90aW47XFxcIjpcXFwi4oiJXFxcIixcXFwibm90aW5kb3Q7XFxcIjpcXFwi4ou1zLhcXFwiLFxcXCJub3RpbkU7XFxcIjpcXFwi4ou5zLhcXFwiLFxcXCJub3RpbnZhO1xcXCI6XFxcIuKIiVxcXCIsXFxcIm5vdGludmI7XFxcIjpcXFwi4ou3XFxcIixcXFwibm90aW52YztcXFwiOlxcXCLii7ZcXFwiLFxcXCJOb3RMZWZ0VHJpYW5nbGVCYXI7XFxcIjpcXFwi4qePzLhcXFwiLFxcXCJOb3RMZWZ0VHJpYW5nbGU7XFxcIjpcXFwi4ouqXFxcIixcXFwiTm90TGVmdFRyaWFuZ2xlRXF1YWw7XFxcIjpcXFwi4ousXFxcIixcXFwiTm90TGVzcztcXFwiOlxcXCLiia5cXFwiLFxcXCJOb3RMZXNzRXF1YWw7XFxcIjpcXFwi4omwXFxcIixcXFwiTm90TGVzc0dyZWF0ZXI7XFxcIjpcXFwi4om4XFxcIixcXFwiTm90TGVzc0xlc3M7XFxcIjpcXFwi4omqzLhcXFwiLFxcXCJOb3RMZXNzU2xhbnRFcXVhbDtcXFwiOlxcXCLiqb3MuFxcXCIsXFxcIk5vdExlc3NUaWxkZTtcXFwiOlxcXCLiibRcXFwiLFxcXCJOb3ROZXN0ZWRHcmVhdGVyR3JlYXRlcjtcXFwiOlxcXCLiqqLMuFxcXCIsXFxcIk5vdE5lc3RlZExlc3NMZXNzO1xcXCI6XFxcIuKqocy4XFxcIixcXFwibm90bmk7XFxcIjpcXFwi4oiMXFxcIixcXFwibm90bml2YTtcXFwiOlxcXCLiiIxcXFwiLFxcXCJub3RuaXZiO1xcXCI6XFxcIuKLvlxcXCIsXFxcIm5vdG5pdmM7XFxcIjpcXFwi4ou9XFxcIixcXFwiTm90UHJlY2VkZXM7XFxcIjpcXFwi4oqAXFxcIixcXFwiTm90UHJlY2VkZXNFcXVhbDtcXFwiOlxcXCLiqq/MuFxcXCIsXFxcIk5vdFByZWNlZGVzU2xhbnRFcXVhbDtcXFwiOlxcXCLii6BcXFwiLFxcXCJOb3RSZXZlcnNlRWxlbWVudDtcXFwiOlxcXCLiiIxcXFwiLFxcXCJOb3RSaWdodFRyaWFuZ2xlQmFyO1xcXCI6XFxcIuKnkMy4XFxcIixcXFwiTm90UmlnaHRUcmlhbmdsZTtcXFwiOlxcXCLii6tcXFwiLFxcXCJOb3RSaWdodFRyaWFuZ2xlRXF1YWw7XFxcIjpcXFwi4outXFxcIixcXFwiTm90U3F1YXJlU3Vic2V0O1xcXCI6XFxcIuKKj8y4XFxcIixcXFwiTm90U3F1YXJlU3Vic2V0RXF1YWw7XFxcIjpcXFwi4ouiXFxcIixcXFwiTm90U3F1YXJlU3VwZXJzZXQ7XFxcIjpcXFwi4oqQzLhcXFwiLFxcXCJOb3RTcXVhcmVTdXBlcnNldEVxdWFsO1xcXCI6XFxcIuKLo1xcXCIsXFxcIk5vdFN1YnNldDtcXFwiOlxcXCLiioLig5JcXFwiLFxcXCJOb3RTdWJzZXRFcXVhbDtcXFwiOlxcXCLiiohcXFwiLFxcXCJOb3RTdWNjZWVkcztcXFwiOlxcXCLiioFcXFwiLFxcXCJOb3RTdWNjZWVkc0VxdWFsO1xcXCI6XFxcIuKqsMy4XFxcIixcXFwiTm90U3VjY2VlZHNTbGFudEVxdWFsO1xcXCI6XFxcIuKLoVxcXCIsXFxcIk5vdFN1Y2NlZWRzVGlsZGU7XFxcIjpcXFwi4om/zLhcXFwiLFxcXCJOb3RTdXBlcnNldDtcXFwiOlxcXCLiioPig5JcXFwiLFxcXCJOb3RTdXBlcnNldEVxdWFsO1xcXCI6XFxcIuKKiVxcXCIsXFxcIk5vdFRpbGRlO1xcXCI6XFxcIuKJgVxcXCIsXFxcIk5vdFRpbGRlRXF1YWw7XFxcIjpcXFwi4omEXFxcIixcXFwiTm90VGlsZGVGdWxsRXF1YWw7XFxcIjpcXFwi4omHXFxcIixcXFwiTm90VGlsZGVUaWxkZTtcXFwiOlxcXCLiiYlcXFwiLFxcXCJOb3RWZXJ0aWNhbEJhcjtcXFwiOlxcXCLiiKRcXFwiLFxcXCJucGFyYWxsZWw7XFxcIjpcXFwi4oimXFxcIixcXFwibnBhcjtcXFwiOlxcXCLiiKZcXFwiLFxcXCJucGFyc2w7XFxcIjpcXFwi4qu94oOlXFxcIixcXFwibnBhcnQ7XFxcIjpcXFwi4oiCzLhcXFwiLFxcXCJucG9saW50O1xcXCI6XFxcIuKolFxcXCIsXFxcIm5wcjtcXFwiOlxcXCLiioBcXFwiLFxcXCJucHJjdWU7XFxcIjpcXFwi4ougXFxcIixcXFwibnByZWM7XFxcIjpcXFwi4oqAXFxcIixcXFwibnByZWNlcTtcXFwiOlxcXCLiqq/MuFxcXCIsXFxcIm5wcmU7XFxcIjpcXFwi4qqvzLhcXFwiLFxcXCJucmFycmM7XFxcIjpcXFwi4qSzzLhcXFwiLFxcXCJucmFycjtcXFwiOlxcXCLihptcXFwiLFxcXCJuckFycjtcXFwiOlxcXCLih49cXFwiLFxcXCJucmFycnc7XFxcIjpcXFwi4oadzLhcXFwiLFxcXCJucmlnaHRhcnJvdztcXFwiOlxcXCLihptcXFwiLFxcXCJuUmlnaHRhcnJvdztcXFwiOlxcXCLih49cXFwiLFxcXCJucnRyaTtcXFwiOlxcXCLii6tcXFwiLFxcXCJucnRyaWU7XFxcIjpcXFwi4outXFxcIixcXFwibnNjO1xcXCI6XFxcIuKKgVxcXCIsXFxcIm5zY2N1ZTtcXFwiOlxcXCLii6FcXFwiLFxcXCJuc2NlO1xcXCI6XFxcIuKqsMy4XFxcIixcXFwiTnNjcjtcXFwiOlxcXCLwnZKpXFxcIixcXFwibnNjcjtcXFwiOlxcXCLwnZODXFxcIixcXFwibnNob3J0bWlkO1xcXCI6XFxcIuKIpFxcXCIsXFxcIm5zaG9ydHBhcmFsbGVsO1xcXCI6XFxcIuKIplxcXCIsXFxcIm5zaW07XFxcIjpcXFwi4omBXFxcIixcXFwibnNpbWU7XFxcIjpcXFwi4omEXFxcIixcXFwibnNpbWVxO1xcXCI6XFxcIuKJhFxcXCIsXFxcIm5zbWlkO1xcXCI6XFxcIuKIpFxcXCIsXFxcIm5zcGFyO1xcXCI6XFxcIuKIplxcXCIsXFxcIm5zcXN1YmU7XFxcIjpcXFwi4ouiXFxcIixcXFwibnNxc3VwZTtcXFwiOlxcXCLii6NcXFwiLFxcXCJuc3ViO1xcXCI6XFxcIuKKhFxcXCIsXFxcIm5zdWJFO1xcXCI6XFxcIuKrhcy4XFxcIixcXFwibnN1YmU7XFxcIjpcXFwi4oqIXFxcIixcXFwibnN1YnNldDtcXFwiOlxcXCLiioLig5JcXFwiLFxcXCJuc3Vic2V0ZXE7XFxcIjpcXFwi4oqIXFxcIixcXFwibnN1YnNldGVxcTtcXFwiOlxcXCLiq4XMuFxcXCIsXFxcIm5zdWNjO1xcXCI6XFxcIuKKgVxcXCIsXFxcIm5zdWNjZXE7XFxcIjpcXFwi4qqwzLhcXFwiLFxcXCJuc3VwO1xcXCI6XFxcIuKKhVxcXCIsXFxcIm5zdXBFO1xcXCI6XFxcIuKrhsy4XFxcIixcXFwibnN1cGU7XFxcIjpcXFwi4oqJXFxcIixcXFwibnN1cHNldDtcXFwiOlxcXCLiioPig5JcXFwiLFxcXCJuc3Vwc2V0ZXE7XFxcIjpcXFwi4oqJXFxcIixcXFwibnN1cHNldGVxcTtcXFwiOlxcXCLiq4bMuFxcXCIsXFxcIm50Z2w7XFxcIjpcXFwi4om5XFxcIixcXFwiTnRpbGRlO1xcXCI6XFxcIsORXFxcIixOdGlsZGU6XFxcIsORXFxcIixcXFwibnRpbGRlO1xcXCI6XFxcIsOxXFxcIixudGlsZGU6XFxcIsOxXFxcIixcXFwibnRsZztcXFwiOlxcXCLiibhcXFwiLFxcXCJudHJpYW5nbGVsZWZ0O1xcXCI6XFxcIuKLqlxcXCIsXFxcIm50cmlhbmdsZWxlZnRlcTtcXFwiOlxcXCLii6xcXFwiLFxcXCJudHJpYW5nbGVyaWdodDtcXFwiOlxcXCLii6tcXFwiLFxcXCJudHJpYW5nbGVyaWdodGVxO1xcXCI6XFxcIuKLrVxcXCIsXFxcIk51O1xcXCI6XFxcIs6dXFxcIixcXFwibnU7XFxcIjpcXFwizr1cXFwiLFxcXCJudW07XFxcIjpcXFwiI1xcXCIsXFxcIm51bWVybztcXFwiOlxcXCLihJZcXFwiLFxcXCJudW1zcDtcXFwiOlxcXCLigIdcXFwiLFxcXCJudmFwO1xcXCI6XFxcIuKJjeKDklxcXCIsXFxcIm52ZGFzaDtcXFwiOlxcXCLiiqxcXFwiLFxcXCJudkRhc2g7XFxcIjpcXFwi4oqtXFxcIixcXFwiblZkYXNoO1xcXCI6XFxcIuKKrlxcXCIsXFxcIm5WRGFzaDtcXFwiOlxcXCLiiq9cXFwiLFxcXCJudmdlO1xcXCI6XFxcIuKJpeKDklxcXCIsXFxcIm52Z3Q7XFxcIjpcXFwiPuKDklxcXCIsXFxcIm52SGFycjtcXFwiOlxcXCLipIRcXFwiLFxcXCJudmluZmluO1xcXCI6XFxcIuKnnlxcXCIsXFxcIm52bEFycjtcXFwiOlxcXCLipIJcXFwiLFxcXCJudmxlO1xcXCI6XFxcIuKJpOKDklxcXCIsXFxcIm52bHQ7XFxcIjpcXFwiPOKDklxcXCIsXFxcIm52bHRyaWU7XFxcIjpcXFwi4oq04oOSXFxcIixcXFwibnZyQXJyO1xcXCI6XFxcIuKkg1xcXCIsXFxcIm52cnRyaWU7XFxcIjpcXFwi4oq14oOSXFxcIixcXFwibnZzaW07XFxcIjpcXFwi4oi84oOSXFxcIixcXFwibndhcmhrO1xcXCI6XFxcIuKko1xcXCIsXFxcIm53YXJyO1xcXCI6XFxcIuKGllxcXCIsXFxcIm53QXJyO1xcXCI6XFxcIuKHllxcXCIsXFxcIm53YXJyb3c7XFxcIjpcXFwi4oaWXFxcIixcXFwibnduZWFyO1xcXCI6XFxcIuKkp1xcXCIsXFxcIk9hY3V0ZTtcXFwiOlxcXCLDk1xcXCIsT2FjdXRlOlxcXCLDk1xcXCIsXFxcIm9hY3V0ZTtcXFwiOlxcXCLDs1xcXCIsb2FjdXRlOlxcXCLDs1xcXCIsXFxcIm9hc3Q7XFxcIjpcXFwi4oqbXFxcIixcXFwiT2NpcmM7XFxcIjpcXFwiw5RcXFwiLE9jaXJjOlxcXCLDlFxcXCIsXFxcIm9jaXJjO1xcXCI6XFxcIsO0XFxcIixvY2lyYzpcXFwiw7RcXFwiLFxcXCJvY2lyO1xcXCI6XFxcIuKKmlxcXCIsXFxcIk9jeTtcXFwiOlxcXCLQnlxcXCIsXFxcIm9jeTtcXFwiOlxcXCLQvlxcXCIsXFxcIm9kYXNoO1xcXCI6XFxcIuKKnVxcXCIsXFxcIk9kYmxhYztcXFwiOlxcXCLFkFxcXCIsXFxcIm9kYmxhYztcXFwiOlxcXCLFkVxcXCIsXFxcIm9kaXY7XFxcIjpcXFwi4qi4XFxcIixcXFwib2RvdDtcXFwiOlxcXCLiiplcXFwiLFxcXCJvZHNvbGQ7XFxcIjpcXFwi4qa8XFxcIixcXFwiT0VsaWc7XFxcIjpcXFwixZJcXFwiLFxcXCJvZWxpZztcXFwiOlxcXCLFk1xcXCIsXFxcIm9mY2lyO1xcXCI6XFxcIuKmv1xcXCIsXFxcIk9mcjtcXFwiOlxcXCLwnZSSXFxcIixcXFwib2ZyO1xcXCI6XFxcIvCdlKxcXFwiLFxcXCJvZ29uO1xcXCI6XFxcIsubXFxcIixcXFwiT2dyYXZlO1xcXCI6XFxcIsOSXFxcIixPZ3JhdmU6XFxcIsOSXFxcIixcXFwib2dyYXZlO1xcXCI6XFxcIsOyXFxcIixvZ3JhdmU6XFxcIsOyXFxcIixcXFwib2d0O1xcXCI6XFxcIuKngVxcXCIsXFxcIm9oYmFyO1xcXCI6XFxcIuKmtVxcXCIsXFxcIm9obTtcXFwiOlxcXCLOqVxcXCIsXFxcIm9pbnQ7XFxcIjpcXFwi4oiuXFxcIixcXFwib2xhcnI7XFxcIjpcXFwi4oa6XFxcIixcXFwib2xjaXI7XFxcIjpcXFwi4qa+XFxcIixcXFwib2xjcm9zcztcXFwiOlxcXCLiprtcXFwiLFxcXCJvbGluZTtcXFwiOlxcXCLigL5cXFwiLFxcXCJvbHQ7XFxcIjpcXFwi4qeAXFxcIixcXFwiT21hY3I7XFxcIjpcXFwixYxcXFwiLFxcXCJvbWFjcjtcXFwiOlxcXCLFjVxcXCIsXFxcIk9tZWdhO1xcXCI6XFxcIs6pXFxcIixcXFwib21lZ2E7XFxcIjpcXFwiz4lcXFwiLFxcXCJPbWljcm9uO1xcXCI6XFxcIs6fXFxcIixcXFwib21pY3JvbjtcXFwiOlxcXCLOv1xcXCIsXFxcIm9taWQ7XFxcIjpcXFwi4qa2XFxcIixcXFwib21pbnVzO1xcXCI6XFxcIuKKllxcXCIsXFxcIk9vcGY7XFxcIjpcXFwi8J2VhlxcXCIsXFxcIm9vcGY7XFxcIjpcXFwi8J2VoFxcXCIsXFxcIm9wYXI7XFxcIjpcXFwi4qa3XFxcIixcXFwiT3BlbkN1cmx5RG91YmxlUXVvdGU7XFxcIjpcXFwi4oCcXFxcIixcXFwiT3BlbkN1cmx5UXVvdGU7XFxcIjpcXFwi4oCYXFxcIixcXFwib3BlcnA7XFxcIjpcXFwi4qa5XFxcIixcXFwib3BsdXM7XFxcIjpcXFwi4oqVXFxcIixcXFwib3JhcnI7XFxcIjpcXFwi4oa7XFxcIixcXFwiT3I7XFxcIjpcXFwi4qmUXFxcIixcXFwib3I7XFxcIjpcXFwi4oioXFxcIixcXFwib3JkO1xcXCI6XFxcIuKpnVxcXCIsXFxcIm9yZGVyO1xcXCI6XFxcIuKEtFxcXCIsXFxcIm9yZGVyb2Y7XFxcIjpcXFwi4oS0XFxcIixcXFwib3JkZjtcXFwiOlxcXCLCqlxcXCIsb3JkZjpcXFwiwqpcXFwiLFxcXCJvcmRtO1xcXCI6XFxcIsK6XFxcIixvcmRtOlxcXCLCulxcXCIsXFxcIm9yaWdvZjtcXFwiOlxcXCLiirZcXFwiLFxcXCJvcm9yO1xcXCI6XFxcIuKpllxcXCIsXFxcIm9yc2xvcGU7XFxcIjpcXFwi4qmXXFxcIixcXFwib3J2O1xcXCI6XFxcIuKpm1xcXCIsXFxcIm9TO1xcXCI6XFxcIuKTiFxcXCIsXFxcIk9zY3I7XFxcIjpcXFwi8J2SqlxcXCIsXFxcIm9zY3I7XFxcIjpcXFwi4oS0XFxcIixcXFwiT3NsYXNoO1xcXCI6XFxcIsOYXFxcIixPc2xhc2g6XFxcIsOYXFxcIixcXFwib3NsYXNoO1xcXCI6XFxcIsO4XFxcIixvc2xhc2g6XFxcIsO4XFxcIixcXFwib3NvbDtcXFwiOlxcXCLiiphcXFwiLFxcXCJPdGlsZGU7XFxcIjpcXFwiw5VcXFwiLE90aWxkZTpcXFwiw5VcXFwiLFxcXCJvdGlsZGU7XFxcIjpcXFwiw7VcXFwiLG90aWxkZTpcXFwiw7VcXFwiLFxcXCJvdGltZXNhcztcXFwiOlxcXCLiqLZcXFwiLFxcXCJPdGltZXM7XFxcIjpcXFwi4qi3XFxcIixcXFwib3RpbWVzO1xcXCI6XFxcIuKKl1xcXCIsXFxcIk91bWw7XFxcIjpcXFwiw5ZcXFwiLE91bWw6XFxcIsOWXFxcIixcXFwib3VtbDtcXFwiOlxcXCLDtlxcXCIsb3VtbDpcXFwiw7ZcXFwiLFxcXCJvdmJhcjtcXFwiOlxcXCLijL1cXFwiLFxcXCJPdmVyQmFyO1xcXCI6XFxcIuKAvlxcXCIsXFxcIk92ZXJCcmFjZTtcXFwiOlxcXCLij55cXFwiLFxcXCJPdmVyQnJhY2tldDtcXFwiOlxcXCLijrRcXFwiLFxcXCJPdmVyUGFyZW50aGVzaXM7XFxcIjpcXFwi4o+cXFxcIixcXFwicGFyYTtcXFwiOlxcXCLCtlxcXCIscGFyYTpcXFwiwrZcXFwiLFxcXCJwYXJhbGxlbDtcXFwiOlxcXCLiiKVcXFwiLFxcXCJwYXI7XFxcIjpcXFwi4oilXFxcIixcXFwicGFyc2ltO1xcXCI6XFxcIuKrs1xcXCIsXFxcInBhcnNsO1xcXCI6XFxcIuKrvVxcXCIsXFxcInBhcnQ7XFxcIjpcXFwi4oiCXFxcIixcXFwiUGFydGlhbEQ7XFxcIjpcXFwi4oiCXFxcIixcXFwiUGN5O1xcXCI6XFxcItCfXFxcIixcXFwicGN5O1xcXCI6XFxcItC/XFxcIixcXFwicGVyY250O1xcXCI6XFxcIiVcXFwiLFxcXCJwZXJpb2Q7XFxcIjpcXFwiLlxcXCIsXFxcInBlcm1pbDtcXFwiOlxcXCLigLBcXFwiLFxcXCJwZXJwO1xcXCI6XFxcIuKKpVxcXCIsXFxcInBlcnRlbms7XFxcIjpcXFwi4oCxXFxcIixcXFwiUGZyO1xcXCI6XFxcIvCdlJNcXFwiLFxcXCJwZnI7XFxcIjpcXFwi8J2UrVxcXCIsXFxcIlBoaTtcXFwiOlxcXCLOplxcXCIsXFxcInBoaTtcXFwiOlxcXCLPhlxcXCIsXFxcInBoaXY7XFxcIjpcXFwiz5VcXFwiLFxcXCJwaG1tYXQ7XFxcIjpcXFwi4oSzXFxcIixcXFwicGhvbmU7XFxcIjpcXFwi4piOXFxcIixcXFwiUGk7XFxcIjpcXFwizqBcXFwiLFxcXCJwaTtcXFwiOlxcXCLPgFxcXCIsXFxcInBpdGNoZm9yaztcXFwiOlxcXCLii5RcXFwiLFxcXCJwaXY7XFxcIjpcXFwiz5ZcXFwiLFxcXCJwbGFuY2s7XFxcIjpcXFwi4oSPXFxcIixcXFwicGxhbmNraDtcXFwiOlxcXCLihI5cXFwiLFxcXCJwbGFua3Y7XFxcIjpcXFwi4oSPXFxcIixcXFwicGx1c2FjaXI7XFxcIjpcXFwi4qijXFxcIixcXFwicGx1c2I7XFxcIjpcXFwi4oqeXFxcIixcXFwicGx1c2NpcjtcXFwiOlxcXCLiqKJcXFwiLFxcXCJwbHVzO1xcXCI6XFxcIitcXFwiLFxcXCJwbHVzZG87XFxcIjpcXFwi4oiUXFxcIixcXFwicGx1c2R1O1xcXCI6XFxcIuKopVxcXCIsXFxcInBsdXNlO1xcXCI6XFxcIuKpslxcXCIsXFxcIlBsdXNNaW51cztcXFwiOlxcXCLCsVxcXCIsXFxcInBsdXNtbjtcXFwiOlxcXCLCsVxcXCIscGx1c21uOlxcXCLCsVxcXCIsXFxcInBsdXNzaW07XFxcIjpcXFwi4qimXFxcIixcXFwicGx1c3R3bztcXFwiOlxcXCLiqKdcXFwiLFxcXCJwbTtcXFwiOlxcXCLCsVxcXCIsXFxcIlBvaW5jYXJlcGxhbmU7XFxcIjpcXFwi4oSMXFxcIixcXFwicG9pbnRpbnQ7XFxcIjpcXFwi4qiVXFxcIixcXFwicG9wZjtcXFwiOlxcXCLwnZWhXFxcIixcXFwiUG9wZjtcXFwiOlxcXCLihJlcXFwiLFxcXCJwb3VuZDtcXFwiOlxcXCLCo1xcXCIscG91bmQ6XFxcIsKjXFxcIixcXFwicHJhcDtcXFwiOlxcXCLiqrdcXFwiLFxcXCJQcjtcXFwiOlxcXCLiqrtcXFwiLFxcXCJwcjtcXFwiOlxcXCLiibpcXFwiLFxcXCJwcmN1ZTtcXFwiOlxcXCLiibxcXFwiLFxcXCJwcmVjYXBwcm94O1xcXCI6XFxcIuKqt1xcXCIsXFxcInByZWM7XFxcIjpcXFwi4om6XFxcIixcXFwicHJlY2N1cmx5ZXE7XFxcIjpcXFwi4om8XFxcIixcXFwiUHJlY2VkZXM7XFxcIjpcXFwi4om6XFxcIixcXFwiUHJlY2VkZXNFcXVhbDtcXFwiOlxcXCLiqq9cXFwiLFxcXCJQcmVjZWRlc1NsYW50RXF1YWw7XFxcIjpcXFwi4om8XFxcIixcXFwiUHJlY2VkZXNUaWxkZTtcXFwiOlxcXCLiib5cXFwiLFxcXCJwcmVjZXE7XFxcIjpcXFwi4qqvXFxcIixcXFwicHJlY25hcHByb3g7XFxcIjpcXFwi4qq5XFxcIixcXFwicHJlY25lcXE7XFxcIjpcXFwi4qq1XFxcIixcXFwicHJlY25zaW07XFxcIjpcXFwi4ouoXFxcIixcXFwicHJlO1xcXCI6XFxcIuKqr1xcXCIsXFxcInByRTtcXFwiOlxcXCLiqrNcXFwiLFxcXCJwcmVjc2ltO1xcXCI6XFxcIuKJvlxcXCIsXFxcInByaW1lO1xcXCI6XFxcIuKAslxcXCIsXFxcIlByaW1lO1xcXCI6XFxcIuKAs1xcXCIsXFxcInByaW1lcztcXFwiOlxcXCLihJlcXFwiLFxcXCJwcm5hcDtcXFwiOlxcXCLiqrlcXFwiLFxcXCJwcm5FO1xcXCI6XFxcIuKqtVxcXCIsXFxcInBybnNpbTtcXFwiOlxcXCLii6hcXFwiLFxcXCJwcm9kO1xcXCI6XFxcIuKIj1xcXCIsXFxcIlByb2R1Y3Q7XFxcIjpcXFwi4oiPXFxcIixcXFwicHJvZmFsYXI7XFxcIjpcXFwi4oyuXFxcIixcXFwicHJvZmxpbmU7XFxcIjpcXFwi4oySXFxcIixcXFwicHJvZnN1cmY7XFxcIjpcXFwi4oyTXFxcIixcXFwicHJvcDtcXFwiOlxcXCLiiJ1cXFwiLFxcXCJQcm9wb3J0aW9uYWw7XFxcIjpcXFwi4oidXFxcIixcXFwiUHJvcG9ydGlvbjtcXFwiOlxcXCLiiLdcXFwiLFxcXCJwcm9wdG87XFxcIjpcXFwi4oidXFxcIixcXFwicHJzaW07XFxcIjpcXFwi4om+XFxcIixcXFwicHJ1cmVsO1xcXCI6XFxcIuKKsFxcXCIsXFxcIlBzY3I7XFxcIjpcXFwi8J2Sq1xcXCIsXFxcInBzY3I7XFxcIjpcXFwi8J2ThVxcXCIsXFxcIlBzaTtcXFwiOlxcXCLOqFxcXCIsXFxcInBzaTtcXFwiOlxcXCLPiFxcXCIsXFxcInB1bmNzcDtcXFwiOlxcXCLigIhcXFwiLFxcXCJRZnI7XFxcIjpcXFwi8J2UlFxcXCIsXFxcInFmcjtcXFwiOlxcXCLwnZSuXFxcIixcXFwicWludDtcXFwiOlxcXCLiqIxcXFwiLFxcXCJxb3BmO1xcXCI6XFxcIvCdlaJcXFwiLFxcXCJRb3BmO1xcXCI6XFxcIuKEmlxcXCIsXFxcInFwcmltZTtcXFwiOlxcXCLigZdcXFwiLFxcXCJRc2NyO1xcXCI6XFxcIvCdkqxcXFwiLFxcXCJxc2NyO1xcXCI6XFxcIvCdk4ZcXFwiLFxcXCJxdWF0ZXJuaW9ucztcXFwiOlxcXCLihI1cXFwiLFxcXCJxdWF0aW50O1xcXCI6XFxcIuKollxcXCIsXFxcInF1ZXN0O1xcXCI6XFxcIj9cXFwiLFxcXCJxdWVzdGVxO1xcXCI6XFxcIuKJn1xcXCIsXFxcInF1b3Q7XFxcIjonXFxcIicscXVvdDonXFxcIicsXFxcIlFVT1Q7XFxcIjonXFxcIicsUVVPVDonXFxcIicsXFxcInJBYXJyO1xcXCI6XFxcIuKHm1xcXCIsXFxcInJhY2U7XFxcIjpcXFwi4oi9zLFcXFwiLFxcXCJSYWN1dGU7XFxcIjpcXFwixZRcXFwiLFxcXCJyYWN1dGU7XFxcIjpcXFwixZVcXFwiLFxcXCJyYWRpYztcXFwiOlxcXCLiiJpcXFwiLFxcXCJyYWVtcHR5djtcXFwiOlxcXCLiprNcXFwiLFxcXCJyYW5nO1xcXCI6XFxcIuKfqVxcXCIsXFxcIlJhbmc7XFxcIjpcXFwi4p+rXFxcIixcXFwicmFuZ2Q7XFxcIjpcXFwi4qaSXFxcIixcXFwicmFuZ2U7XFxcIjpcXFwi4qalXFxcIixcXFwicmFuZ2xlO1xcXCI6XFxcIuKfqVxcXCIsXFxcInJhcXVvO1xcXCI6XFxcIsK7XFxcIixyYXF1bzpcXFwiwrtcXFwiLFxcXCJyYXJyYXA7XFxcIjpcXFwi4qW1XFxcIixcXFwicmFycmI7XFxcIjpcXFwi4oelXFxcIixcXFwicmFycmJmcztcXFwiOlxcXCLipKBcXFwiLFxcXCJyYXJyYztcXFwiOlxcXCLipLNcXFwiLFxcXCJyYXJyO1xcXCI6XFxcIuKGklxcXCIsXFxcIlJhcnI7XFxcIjpcXFwi4oagXFxcIixcXFwickFycjtcXFwiOlxcXCLih5JcXFwiLFxcXCJyYXJyZnM7XFxcIjpcXFwi4qSeXFxcIixcXFwicmFycmhrO1xcXCI6XFxcIuKGqlxcXCIsXFxcInJhcnJscDtcXFwiOlxcXCLihqxcXFwiLFxcXCJyYXJycGw7XFxcIjpcXFwi4qWFXFxcIixcXFwicmFycnNpbTtcXFwiOlxcXCLipbRcXFwiLFxcXCJSYXJydGw7XFxcIjpcXFwi4qSWXFxcIixcXFwicmFycnRsO1xcXCI6XFxcIuKGo1xcXCIsXFxcInJhcnJ3O1xcXCI6XFxcIuKGnVxcXCIsXFxcInJhdGFpbDtcXFwiOlxcXCLipJpcXFwiLFxcXCJyQXRhaWw7XFxcIjpcXFwi4qScXFxcIixcXFwicmF0aW87XFxcIjpcXFwi4oi2XFxcIixcXFwicmF0aW9uYWxzO1xcXCI6XFxcIuKEmlxcXCIsXFxcInJiYXJyO1xcXCI6XFxcIuKkjVxcXCIsXFxcInJCYXJyO1xcXCI6XFxcIuKkj1xcXCIsXFxcIlJCYXJyO1xcXCI6XFxcIuKkkFxcXCIsXFxcInJiYnJrO1xcXCI6XFxcIuKds1xcXCIsXFxcInJicmFjZTtcXFwiOlxcXCJ9XFxcIixcXFwicmJyYWNrO1xcXCI6XFxcIl1cXFwiLFxcXCJyYnJrZTtcXFwiOlxcXCLipoxcXFwiLFxcXCJyYnJrc2xkO1xcXCI6XFxcIuKmjlxcXCIsXFxcInJicmtzbHU7XFxcIjpcXFwi4qaQXFxcIixcXFwiUmNhcm9uO1xcXCI6XFxcIsWYXFxcIixcXFwicmNhcm9uO1xcXCI6XFxcIsWZXFxcIixcXFwiUmNlZGlsO1xcXCI6XFxcIsWWXFxcIixcXFwicmNlZGlsO1xcXCI6XFxcIsWXXFxcIixcXFwicmNlaWw7XFxcIjpcXFwi4oyJXFxcIixcXFwicmN1YjtcXFwiOlxcXCJ9XFxcIixcXFwiUmN5O1xcXCI6XFxcItCgXFxcIixcXFwicmN5O1xcXCI6XFxcItGAXFxcIixcXFwicmRjYTtcXFwiOlxcXCLipLdcXFwiLFxcXCJyZGxkaGFyO1xcXCI6XFxcIuKlqVxcXCIsXFxcInJkcXVvO1xcXCI6XFxcIuKAnVxcXCIsXFxcInJkcXVvcjtcXFwiOlxcXCLigJ1cXFwiLFxcXCJyZHNoO1xcXCI6XFxcIuKGs1xcXCIsXFxcInJlYWw7XFxcIjpcXFwi4oScXFxcIixcXFwicmVhbGluZTtcXFwiOlxcXCLihJtcXFwiLFxcXCJyZWFscGFydDtcXFwiOlxcXCLihJxcXFwiLFxcXCJyZWFscztcXFwiOlxcXCLihJ1cXFwiLFxcXCJSZTtcXFwiOlxcXCLihJxcXFwiLFxcXCJyZWN0O1xcXCI6XFxcIuKWrVxcXCIsXFxcInJlZztcXFwiOlxcXCLCrlxcXCIscmVnOlxcXCLCrlxcXCIsXFxcIlJFRztcXFwiOlxcXCLCrlxcXCIsUkVHOlxcXCLCrlxcXCIsXFxcIlJldmVyc2VFbGVtZW50O1xcXCI6XFxcIuKIi1xcXCIsXFxcIlJldmVyc2VFcXVpbGlicml1bTtcXFwiOlxcXCLih4tcXFwiLFxcXCJSZXZlcnNlVXBFcXVpbGlicml1bTtcXFwiOlxcXCLipa9cXFwiLFxcXCJyZmlzaHQ7XFxcIjpcXFwi4qW9XFxcIixcXFwicmZsb29yO1xcXCI6XFxcIuKMi1xcXCIsXFxcInJmcjtcXFwiOlxcXCLwnZSvXFxcIixcXFwiUmZyO1xcXCI6XFxcIuKEnFxcXCIsXFxcInJIYXI7XFxcIjpcXFwi4qWkXFxcIixcXFwicmhhcmQ7XFxcIjpcXFwi4oeBXFxcIixcXFwicmhhcnU7XFxcIjpcXFwi4oeAXFxcIixcXFwicmhhcnVsO1xcXCI6XFxcIuKlrFxcXCIsXFxcIlJobztcXFwiOlxcXCLOoVxcXCIsXFxcInJobztcXFwiOlxcXCLPgVxcXCIsXFxcInJob3Y7XFxcIjpcXFwiz7FcXFwiLFxcXCJSaWdodEFuZ2xlQnJhY2tldDtcXFwiOlxcXCLin6lcXFwiLFxcXCJSaWdodEFycm93QmFyO1xcXCI6XFxcIuKHpVxcXCIsXFxcInJpZ2h0YXJyb3c7XFxcIjpcXFwi4oaSXFxcIixcXFwiUmlnaHRBcnJvdztcXFwiOlxcXCLihpJcXFwiLFxcXCJSaWdodGFycm93O1xcXCI6XFxcIuKHklxcXCIsXFxcIlJpZ2h0QXJyb3dMZWZ0QXJyb3c7XFxcIjpcXFwi4oeEXFxcIixcXFwicmlnaHRhcnJvd3RhaWw7XFxcIjpcXFwi4oajXFxcIixcXFwiUmlnaHRDZWlsaW5nO1xcXCI6XFxcIuKMiVxcXCIsXFxcIlJpZ2h0RG91YmxlQnJhY2tldDtcXFwiOlxcXCLin6dcXFwiLFxcXCJSaWdodERvd25UZWVWZWN0b3I7XFxcIjpcXFwi4qWdXFxcIixcXFwiUmlnaHREb3duVmVjdG9yQmFyO1xcXCI6XFxcIuKllVxcXCIsXFxcIlJpZ2h0RG93blZlY3RvcjtcXFwiOlxcXCLih4JcXFwiLFxcXCJSaWdodEZsb29yO1xcXCI6XFxcIuKMi1xcXCIsXFxcInJpZ2h0aGFycG9vbmRvd247XFxcIjpcXFwi4oeBXFxcIixcXFwicmlnaHRoYXJwb29udXA7XFxcIjpcXFwi4oeAXFxcIixcXFwicmlnaHRsZWZ0YXJyb3dzO1xcXCI6XFxcIuKHhFxcXCIsXFxcInJpZ2h0bGVmdGhhcnBvb25zO1xcXCI6XFxcIuKHjFxcXCIsXFxcInJpZ2h0cmlnaHRhcnJvd3M7XFxcIjpcXFwi4oeJXFxcIixcXFwicmlnaHRzcXVpZ2Fycm93O1xcXCI6XFxcIuKGnVxcXCIsXFxcIlJpZ2h0VGVlQXJyb3c7XFxcIjpcXFwi4oamXFxcIixcXFwiUmlnaHRUZWU7XFxcIjpcXFwi4oqiXFxcIixcXFwiUmlnaHRUZWVWZWN0b3I7XFxcIjpcXFwi4qWbXFxcIixcXFwicmlnaHR0aHJlZXRpbWVzO1xcXCI6XFxcIuKLjFxcXCIsXFxcIlJpZ2h0VHJpYW5nbGVCYXI7XFxcIjpcXFwi4qeQXFxcIixcXFwiUmlnaHRUcmlhbmdsZTtcXFwiOlxcXCLiirNcXFwiLFxcXCJSaWdodFRyaWFuZ2xlRXF1YWw7XFxcIjpcXFwi4oq1XFxcIixcXFwiUmlnaHRVcERvd25WZWN0b3I7XFxcIjpcXFwi4qWPXFxcIixcXFwiUmlnaHRVcFRlZVZlY3RvcjtcXFwiOlxcXCLipZxcXFwiLFxcXCJSaWdodFVwVmVjdG9yQmFyO1xcXCI6XFxcIuKllFxcXCIsXFxcIlJpZ2h0VXBWZWN0b3I7XFxcIjpcXFwi4oa+XFxcIixcXFwiUmlnaHRWZWN0b3JCYXI7XFxcIjpcXFwi4qWTXFxcIixcXFwiUmlnaHRWZWN0b3I7XFxcIjpcXFwi4oeAXFxcIixcXFwicmluZztcXFwiOlxcXCLLmlxcXCIsXFxcInJpc2luZ2RvdHNlcTtcXFwiOlxcXCLiiZNcXFwiLFxcXCJybGFycjtcXFwiOlxcXCLih4RcXFwiLFxcXCJybGhhcjtcXFwiOlxcXCLih4xcXFwiLFxcXCJybG07XFxcIjpcXFwi4oCPXFxcIixcXFwicm1vdXN0YWNoZTtcXFwiOlxcXCLijrFcXFwiLFxcXCJybW91c3Q7XFxcIjpcXFwi4o6xXFxcIixcXFwicm5taWQ7XFxcIjpcXFwi4quuXFxcIixcXFwicm9hbmc7XFxcIjpcXFwi4p+tXFxcIixcXFwicm9hcnI7XFxcIjpcXFwi4oe+XFxcIixcXFwicm9icms7XFxcIjpcXFwi4p+nXFxcIixcXFwicm9wYXI7XFxcIjpcXFwi4qaGXFxcIixcXFwicm9wZjtcXFwiOlxcXCLwnZWjXFxcIixcXFwiUm9wZjtcXFwiOlxcXCLihJ1cXFwiLFxcXCJyb3BsdXM7XFxcIjpcXFwi4qiuXFxcIixcXFwicm90aW1lcztcXFwiOlxcXCLiqLVcXFwiLFxcXCJSb3VuZEltcGxpZXM7XFxcIjpcXFwi4qWwXFxcIixcXFwicnBhcjtcXFwiOlxcXCIpXFxcIixcXFwicnBhcmd0O1xcXCI6XFxcIuKmlFxcXCIsXFxcInJwcG9saW50O1xcXCI6XFxcIuKoklxcXCIsXFxcInJyYXJyO1xcXCI6XFxcIuKHiVxcXCIsXFxcIlJyaWdodGFycm93O1xcXCI6XFxcIuKHm1xcXCIsXFxcInJzYXF1bztcXFwiOlxcXCLigLpcXFwiLFxcXCJyc2NyO1xcXCI6XFxcIvCdk4dcXFwiLFxcXCJSc2NyO1xcXCI6XFxcIuKEm1xcXCIsXFxcInJzaDtcXFwiOlxcXCLihrFcXFwiLFxcXCJSc2g7XFxcIjpcXFwi4oaxXFxcIixcXFwicnNxYjtcXFwiOlxcXCJdXFxcIixcXFwicnNxdW87XFxcIjpcXFwi4oCZXFxcIixcXFwicnNxdW9yO1xcXCI6XFxcIuKAmVxcXCIsXFxcInJ0aHJlZTtcXFwiOlxcXCLii4xcXFwiLFxcXCJydGltZXM7XFxcIjpcXFwi4ouKXFxcIixcXFwicnRyaTtcXFwiOlxcXCLilrlcXFwiLFxcXCJydHJpZTtcXFwiOlxcXCLiirVcXFwiLFxcXCJydHJpZjtcXFwiOlxcXCLilrhcXFwiLFxcXCJydHJpbHRyaTtcXFwiOlxcXCLip45cXFwiLFxcXCJSdWxlRGVsYXllZDtcXFwiOlxcXCLip7RcXFwiLFxcXCJydWx1aGFyO1xcXCI6XFxcIuKlqFxcXCIsXFxcInJ4O1xcXCI6XFxcIuKEnlxcXCIsXFxcIlNhY3V0ZTtcXFwiOlxcXCLFmlxcXCIsXFxcInNhY3V0ZTtcXFwiOlxcXCLFm1xcXCIsXFxcInNicXVvO1xcXCI6XFxcIuKAmlxcXCIsXFxcInNjYXA7XFxcIjpcXFwi4qq4XFxcIixcXFwiU2Nhcm9uO1xcXCI6XFxcIsWgXFxcIixcXFwic2Nhcm9uO1xcXCI6XFxcIsWhXFxcIixcXFwiU2M7XFxcIjpcXFwi4qq8XFxcIixcXFwic2M7XFxcIjpcXFwi4om7XFxcIixcXFwic2NjdWU7XFxcIjpcXFwi4om9XFxcIixcXFwic2NlO1xcXCI6XFxcIuKqsFxcXCIsXFxcInNjRTtcXFwiOlxcXCLiqrRcXFwiLFxcXCJTY2VkaWw7XFxcIjpcXFwixZ5cXFwiLFxcXCJzY2VkaWw7XFxcIjpcXFwixZ9cXFwiLFxcXCJTY2lyYztcXFwiOlxcXCLFnFxcXCIsXFxcInNjaXJjO1xcXCI6XFxcIsWdXFxcIixcXFwic2NuYXA7XFxcIjpcXFwi4qq6XFxcIixcXFwic2NuRTtcXFwiOlxcXCLiqrZcXFwiLFxcXCJzY25zaW07XFxcIjpcXFwi4oupXFxcIixcXFwic2Nwb2xpbnQ7XFxcIjpcXFwi4qiTXFxcIixcXFwic2NzaW07XFxcIjpcXFwi4om/XFxcIixcXFwiU2N5O1xcXCI6XFxcItChXFxcIixcXFwic2N5O1xcXCI6XFxcItGBXFxcIixcXFwic2RvdGI7XFxcIjpcXFwi4oqhXFxcIixcXFwic2RvdDtcXFwiOlxcXCLii4VcXFwiLFxcXCJzZG90ZTtcXFwiOlxcXCLiqaZcXFwiLFxcXCJzZWFyaGs7XFxcIjpcXFwi4qSlXFxcIixcXFwic2VhcnI7XFxcIjpcXFwi4oaYXFxcIixcXFwic2VBcnI7XFxcIjpcXFwi4oeYXFxcIixcXFwic2VhcnJvdztcXFwiOlxcXCLihphcXFwiLFxcXCJzZWN0O1xcXCI6XFxcIsKnXFxcIixzZWN0OlxcXCLCp1xcXCIsXFxcInNlbWk7XFxcIjpcXFwiO1xcXCIsXFxcInNlc3dhcjtcXFwiOlxcXCLipKlcXFwiLFxcXCJzZXRtaW51cztcXFwiOlxcXCLiiJZcXFwiLFxcXCJzZXRtbjtcXFwiOlxcXCLiiJZcXFwiLFxcXCJzZXh0O1xcXCI6XFxcIuKctlxcXCIsXFxcIlNmcjtcXFwiOlxcXCLwnZSWXFxcIixcXFwic2ZyO1xcXCI6XFxcIvCdlLBcXFwiLFxcXCJzZnJvd247XFxcIjpcXFwi4oyiXFxcIixcXFwic2hhcnA7XFxcIjpcXFwi4pmvXFxcIixcXFwiU0hDSGN5O1xcXCI6XFxcItCpXFxcIixcXFwic2hjaGN5O1xcXCI6XFxcItGJXFxcIixcXFwiU0hjeTtcXFwiOlxcXCLQqFxcXCIsXFxcInNoY3k7XFxcIjpcXFwi0YhcXFwiLFxcXCJTaG9ydERvd25BcnJvdztcXFwiOlxcXCLihpNcXFwiLFxcXCJTaG9ydExlZnRBcnJvdztcXFwiOlxcXCLihpBcXFwiLFxcXCJzaG9ydG1pZDtcXFwiOlxcXCLiiKNcXFwiLFxcXCJzaG9ydHBhcmFsbGVsO1xcXCI6XFxcIuKIpVxcXCIsXFxcIlNob3J0UmlnaHRBcnJvdztcXFwiOlxcXCLihpJcXFwiLFxcXCJTaG9ydFVwQXJyb3c7XFxcIjpcXFwi4oaRXFxcIixcXFwic2h5O1xcXCI6XFxcIsKtXFxcIixzaHk6XFxcIsKtXFxcIixcXFwiU2lnbWE7XFxcIjpcXFwizqNcXFwiLFxcXCJzaWdtYTtcXFwiOlxcXCLPg1xcXCIsXFxcInNpZ21hZjtcXFwiOlxcXCLPglxcXCIsXFxcInNpZ21hdjtcXFwiOlxcXCLPglxcXCIsXFxcInNpbTtcXFwiOlxcXCLiiLxcXFwiLFxcXCJzaW1kb3Q7XFxcIjpcXFwi4qmqXFxcIixcXFwic2ltZTtcXFwiOlxcXCLiiYNcXFwiLFxcXCJzaW1lcTtcXFwiOlxcXCLiiYNcXFwiLFxcXCJzaW1nO1xcXCI6XFxcIuKqnlxcXCIsXFxcInNpbWdFO1xcXCI6XFxcIuKqoFxcXCIsXFxcInNpbWw7XFxcIjpcXFwi4qqdXFxcIixcXFwic2ltbEU7XFxcIjpcXFwi4qqfXFxcIixcXFwic2ltbmU7XFxcIjpcXFwi4omGXFxcIixcXFwic2ltcGx1cztcXFwiOlxcXCLiqKRcXFwiLFxcXCJzaW1yYXJyO1xcXCI6XFxcIuKlslxcXCIsXFxcInNsYXJyO1xcXCI6XFxcIuKGkFxcXCIsXFxcIlNtYWxsQ2lyY2xlO1xcXCI6XFxcIuKImFxcXCIsXFxcInNtYWxsc2V0bWludXM7XFxcIjpcXFwi4oiWXFxcIixcXFwic21hc2hwO1xcXCI6XFxcIuKos1xcXCIsXFxcInNtZXBhcnNsO1xcXCI6XFxcIuKnpFxcXCIsXFxcInNtaWQ7XFxcIjpcXFwi4oijXFxcIixcXFwic21pbGU7XFxcIjpcXFwi4oyjXFxcIixcXFwic210O1xcXCI6XFxcIuKqqlxcXCIsXFxcInNtdGU7XFxcIjpcXFwi4qqsXFxcIixcXFwic210ZXM7XFxcIjpcXFwi4qqs77iAXFxcIixcXFwiU09GVGN5O1xcXCI6XFxcItCsXFxcIixcXFwic29mdGN5O1xcXCI6XFxcItGMXFxcIixcXFwic29sYmFyO1xcXCI6XFxcIuKMv1xcXCIsXFxcInNvbGI7XFxcIjpcXFwi4qeEXFxcIixcXFwic29sO1xcXCI6XFxcIi9cXFwiLFxcXCJTb3BmO1xcXCI6XFxcIvCdlYpcXFwiLFxcXCJzb3BmO1xcXCI6XFxcIvCdlaRcXFwiLFxcXCJzcGFkZXM7XFxcIjpcXFwi4pmgXFxcIixcXFwic3BhZGVzdWl0O1xcXCI6XFxcIuKZoFxcXCIsXFxcInNwYXI7XFxcIjpcXFwi4oilXFxcIixcXFwic3FjYXA7XFxcIjpcXFwi4oqTXFxcIixcXFwic3FjYXBzO1xcXCI6XFxcIuKKk++4gFxcXCIsXFxcInNxY3VwO1xcXCI6XFxcIuKKlFxcXCIsXFxcInNxY3VwcztcXFwiOlxcXCLiipTvuIBcXFwiLFxcXCJTcXJ0O1xcXCI6XFxcIuKImlxcXCIsXFxcInNxc3ViO1xcXCI6XFxcIuKKj1xcXCIsXFxcInNxc3ViZTtcXFwiOlxcXCLiipFcXFwiLFxcXCJzcXN1YnNldDtcXFwiOlxcXCLiio9cXFwiLFxcXCJzcXN1YnNldGVxO1xcXCI6XFxcIuKKkVxcXCIsXFxcInNxc3VwO1xcXCI6XFxcIuKKkFxcXCIsXFxcInNxc3VwZTtcXFwiOlxcXCLiipJcXFwiLFxcXCJzcXN1cHNldDtcXFwiOlxcXCLiipBcXFwiLFxcXCJzcXN1cHNldGVxO1xcXCI6XFxcIuKKklxcXCIsXFxcInNxdWFyZTtcXFwiOlxcXCLilqFcXFwiLFxcXCJTcXVhcmU7XFxcIjpcXFwi4pahXFxcIixcXFwiU3F1YXJlSW50ZXJzZWN0aW9uO1xcXCI6XFxcIuKKk1xcXCIsXFxcIlNxdWFyZVN1YnNldDtcXFwiOlxcXCLiio9cXFwiLFxcXCJTcXVhcmVTdWJzZXRFcXVhbDtcXFwiOlxcXCLiipFcXFwiLFxcXCJTcXVhcmVTdXBlcnNldDtcXFwiOlxcXCLiipBcXFwiLFxcXCJTcXVhcmVTdXBlcnNldEVxdWFsO1xcXCI6XFxcIuKKklxcXCIsXFxcIlNxdWFyZVVuaW9uO1xcXCI6XFxcIuKKlFxcXCIsXFxcInNxdWFyZjtcXFwiOlxcXCLilqpcXFwiLFxcXCJzcXU7XFxcIjpcXFwi4pahXFxcIixcXFwic3F1ZjtcXFwiOlxcXCLilqpcXFwiLFxcXCJzcmFycjtcXFwiOlxcXCLihpJcXFwiLFxcXCJTc2NyO1xcXCI6XFxcIvCdkq5cXFwiLFxcXCJzc2NyO1xcXCI6XFxcIvCdk4hcXFwiLFxcXCJzc2V0bW47XFxcIjpcXFwi4oiWXFxcIixcXFwic3NtaWxlO1xcXCI6XFxcIuKMo1xcXCIsXFxcInNzdGFyZjtcXFwiOlxcXCLii4ZcXFwiLFxcXCJTdGFyO1xcXCI6XFxcIuKLhlxcXCIsXFxcInN0YXI7XFxcIjpcXFwi4piGXFxcIixcXFwic3RhcmY7XFxcIjpcXFwi4piFXFxcIixcXFwic3RyYWlnaHRlcHNpbG9uO1xcXCI6XFxcIs+1XFxcIixcXFwic3RyYWlnaHRwaGk7XFxcIjpcXFwiz5VcXFwiLFxcXCJzdHJucztcXFwiOlxcXCLCr1xcXCIsXFxcInN1YjtcXFwiOlxcXCLiioJcXFwiLFxcXCJTdWI7XFxcIjpcXFwi4ouQXFxcIixcXFwic3ViZG90O1xcXCI6XFxcIuKqvVxcXCIsXFxcInN1YkU7XFxcIjpcXFwi4quFXFxcIixcXFwic3ViZTtcXFwiOlxcXCLiioZcXFwiLFxcXCJzdWJlZG90O1xcXCI6XFxcIuKrg1xcXCIsXFxcInN1Ym11bHQ7XFxcIjpcXFwi4quBXFxcIixcXFwic3VibkU7XFxcIjpcXFwi4quLXFxcIixcXFwic3VibmU7XFxcIjpcXFwi4oqKXFxcIixcXFwic3VicGx1cztcXFwiOlxcXCLiqr9cXFwiLFxcXCJzdWJyYXJyO1xcXCI6XFxcIuKluVxcXCIsXFxcInN1YnNldDtcXFwiOlxcXCLiioJcXFwiLFxcXCJTdWJzZXQ7XFxcIjpcXFwi4ouQXFxcIixcXFwic3Vic2V0ZXE7XFxcIjpcXFwi4oqGXFxcIixcXFwic3Vic2V0ZXFxO1xcXCI6XFxcIuKrhVxcXCIsXFxcIlN1YnNldEVxdWFsO1xcXCI6XFxcIuKKhlxcXCIsXFxcInN1YnNldG5lcTtcXFwiOlxcXCLiiopcXFwiLFxcXCJzdWJzZXRuZXFxO1xcXCI6XFxcIuKri1xcXCIsXFxcInN1YnNpbTtcXFwiOlxcXCLiq4dcXFwiLFxcXCJzdWJzdWI7XFxcIjpcXFwi4quVXFxcIixcXFwic3Vic3VwO1xcXCI6XFxcIuKrk1xcXCIsXFxcInN1Y2NhcHByb3g7XFxcIjpcXFwi4qq4XFxcIixcXFwic3VjYztcXFwiOlxcXCLiibtcXFwiLFxcXCJzdWNjY3VybHllcTtcXFwiOlxcXCLiib1cXFwiLFxcXCJTdWNjZWVkcztcXFwiOlxcXCLiibtcXFwiLFxcXCJTdWNjZWVkc0VxdWFsO1xcXCI6XFxcIuKqsFxcXCIsXFxcIlN1Y2NlZWRzU2xhbnRFcXVhbDtcXFwiOlxcXCLiib1cXFwiLFxcXCJTdWNjZWVkc1RpbGRlO1xcXCI6XFxcIuKJv1xcXCIsXFxcInN1Y2NlcTtcXFwiOlxcXCLiqrBcXFwiLFxcXCJzdWNjbmFwcHJveDtcXFwiOlxcXCLiqrpcXFwiLFxcXCJzdWNjbmVxcTtcXFwiOlxcXCLiqrZcXFwiLFxcXCJzdWNjbnNpbTtcXFwiOlxcXCLii6lcXFwiLFxcXCJzdWNjc2ltO1xcXCI6XFxcIuKJv1xcXCIsXFxcIlN1Y2hUaGF0O1xcXCI6XFxcIuKIi1xcXCIsXFxcInN1bTtcXFwiOlxcXCLiiJFcXFwiLFxcXCJTdW07XFxcIjpcXFwi4oiRXFxcIixcXFwic3VuZztcXFwiOlxcXCLimapcXFwiLFxcXCJzdXAxO1xcXCI6XFxcIsK5XFxcIixzdXAxOlxcXCLCuVxcXCIsXFxcInN1cDI7XFxcIjpcXFwiwrJcXFwiLHN1cDI6XFxcIsKyXFxcIixcXFwic3VwMztcXFwiOlxcXCLCs1xcXCIsc3VwMzpcXFwiwrNcXFwiLFxcXCJzdXA7XFxcIjpcXFwi4oqDXFxcIixcXFwiU3VwO1xcXCI6XFxcIuKLkVxcXCIsXFxcInN1cGRvdDtcXFwiOlxcXCLiqr5cXFwiLFxcXCJzdXBkc3ViO1xcXCI6XFxcIuKrmFxcXCIsXFxcInN1cEU7XFxcIjpcXFwi4quGXFxcIixcXFwic3VwZTtcXFwiOlxcXCLiiodcXFwiLFxcXCJzdXBlZG90O1xcXCI6XFxcIuKrhFxcXCIsXFxcIlN1cGVyc2V0O1xcXCI6XFxcIuKKg1xcXCIsXFxcIlN1cGVyc2V0RXF1YWw7XFxcIjpcXFwi4oqHXFxcIixcXFwic3VwaHNvbDtcXFwiOlxcXCLin4lcXFwiLFxcXCJzdXBoc3ViO1xcXCI6XFxcIuKrl1xcXCIsXFxcInN1cGxhcnI7XFxcIjpcXFwi4qW7XFxcIixcXFwic3VwbXVsdDtcXFwiOlxcXCLiq4JcXFwiLFxcXCJzdXBuRTtcXFwiOlxcXCLiq4xcXFwiLFxcXCJzdXBuZTtcXFwiOlxcXCLiiotcXFwiLFxcXCJzdXBwbHVzO1xcXCI6XFxcIuKrgFxcXCIsXFxcInN1cHNldDtcXFwiOlxcXCLiioNcXFwiLFxcXCJTdXBzZXQ7XFxcIjpcXFwi4ouRXFxcIixcXFwic3Vwc2V0ZXE7XFxcIjpcXFwi4oqHXFxcIixcXFwic3Vwc2V0ZXFxO1xcXCI6XFxcIuKrhlxcXCIsXFxcInN1cHNldG5lcTtcXFwiOlxcXCLiiotcXFwiLFxcXCJzdXBzZXRuZXFxO1xcXCI6XFxcIuKrjFxcXCIsXFxcInN1cHNpbTtcXFwiOlxcXCLiq4hcXFwiLFxcXCJzdXBzdWI7XFxcIjpcXFwi4quUXFxcIixcXFwic3Vwc3VwO1xcXCI6XFxcIuKrllxcXCIsXFxcInN3YXJoaztcXFwiOlxcXCLipKZcXFwiLFxcXCJzd2FycjtcXFwiOlxcXCLihplcXFwiLFxcXCJzd0FycjtcXFwiOlxcXCLih5lcXFwiLFxcXCJzd2Fycm93O1xcXCI6XFxcIuKGmVxcXCIsXFxcInN3bndhcjtcXFwiOlxcXCLipKpcXFwiLFxcXCJzemxpZztcXFwiOlxcXCLDn1xcXCIsc3psaWc6XFxcIsOfXFxcIixcXFwiVGFiO1xcXCI6XFxcIlxcdFxcXCIsXFxcInRhcmdldDtcXFwiOlxcXCLijJZcXFwiLFxcXCJUYXU7XFxcIjpcXFwizqRcXFwiLFxcXCJ0YXU7XFxcIjpcXFwiz4RcXFwiLFxcXCJ0YnJrO1xcXCI6XFxcIuKOtFxcXCIsXFxcIlRjYXJvbjtcXFwiOlxcXCLFpFxcXCIsXFxcInRjYXJvbjtcXFwiOlxcXCLFpVxcXCIsXFxcIlRjZWRpbDtcXFwiOlxcXCLFolxcXCIsXFxcInRjZWRpbDtcXFwiOlxcXCLFo1xcXCIsXFxcIlRjeTtcXFwiOlxcXCLQolxcXCIsXFxcInRjeTtcXFwiOlxcXCLRglxcXCIsXFxcInRkb3Q7XFxcIjpcXFwi4oObXFxcIixcXFwidGVscmVjO1xcXCI6XFxcIuKMlVxcXCIsXFxcIlRmcjtcXFwiOlxcXCLwnZSXXFxcIixcXFwidGZyO1xcXCI6XFxcIvCdlLFcXFwiLFxcXCJ0aGVyZTQ7XFxcIjpcXFwi4oi0XFxcIixcXFwidGhlcmVmb3JlO1xcXCI6XFxcIuKItFxcXCIsXFxcIlRoZXJlZm9yZTtcXFwiOlxcXCLiiLRcXFwiLFxcXCJUaGV0YTtcXFwiOlxcXCLOmFxcXCIsXFxcInRoZXRhO1xcXCI6XFxcIs64XFxcIixcXFwidGhldGFzeW07XFxcIjpcXFwiz5FcXFwiLFxcXCJ0aGV0YXY7XFxcIjpcXFwiz5FcXFwiLFxcXCJ0aGlja2FwcHJveDtcXFwiOlxcXCLiiYhcXFwiLFxcXCJ0aGlja3NpbTtcXFwiOlxcXCLiiLxcXFwiLFxcXCJUaGlja1NwYWNlO1xcXCI6XFxcIuKBn+KAilxcXCIsXFxcIlRoaW5TcGFjZTtcXFwiOlxcXCLigIlcXFwiLFxcXCJ0aGluc3A7XFxcIjpcXFwi4oCJXFxcIixcXFwidGhrYXA7XFxcIjpcXFwi4omIXFxcIixcXFwidGhrc2ltO1xcXCI6XFxcIuKIvFxcXCIsXFxcIlRIT1JOO1xcXCI6XFxcIsOeXFxcIixUSE9STjpcXFwiw55cXFwiLFxcXCJ0aG9ybjtcXFwiOlxcXCLDvlxcXCIsdGhvcm46XFxcIsO+XFxcIixcXFwidGlsZGU7XFxcIjpcXFwiy5xcXFwiLFxcXCJUaWxkZTtcXFwiOlxcXCLiiLxcXFwiLFxcXCJUaWxkZUVxdWFsO1xcXCI6XFxcIuKJg1xcXCIsXFxcIlRpbGRlRnVsbEVxdWFsO1xcXCI6XFxcIuKJhVxcXCIsXFxcIlRpbGRlVGlsZGU7XFxcIjpcXFwi4omIXFxcIixcXFwidGltZXNiYXI7XFxcIjpcXFwi4qixXFxcIixcXFwidGltZXNiO1xcXCI6XFxcIuKKoFxcXCIsXFxcInRpbWVzO1xcXCI6XFxcIsOXXFxcIix0aW1lczpcXFwiw5dcXFwiLFxcXCJ0aW1lc2Q7XFxcIjpcXFwi4qiwXFxcIixcXFwidGludDtcXFwiOlxcXCLiiK1cXFwiLFxcXCJ0b2VhO1xcXCI6XFxcIuKkqFxcXCIsXFxcInRvcGJvdDtcXFwiOlxcXCLijLZcXFwiLFxcXCJ0b3BjaXI7XFxcIjpcXFwi4quxXFxcIixcXFwidG9wO1xcXCI6XFxcIuKKpFxcXCIsXFxcIlRvcGY7XFxcIjpcXFwi8J2Vi1xcXCIsXFxcInRvcGY7XFxcIjpcXFwi8J2VpVxcXCIsXFxcInRvcGZvcms7XFxcIjpcXFwi4quaXFxcIixcXFwidG9zYTtcXFwiOlxcXCLipKlcXFwiLFxcXCJ0cHJpbWU7XFxcIjpcXFwi4oC0XFxcIixcXFwidHJhZGU7XFxcIjpcXFwi4oSiXFxcIixcXFwiVFJBREU7XFxcIjpcXFwi4oSiXFxcIixcXFwidHJpYW5nbGU7XFxcIjpcXFwi4pa1XFxcIixcXFwidHJpYW5nbGVkb3duO1xcXCI6XFxcIuKWv1xcXCIsXFxcInRyaWFuZ2xlbGVmdDtcXFwiOlxcXCLil4NcXFwiLFxcXCJ0cmlhbmdsZWxlZnRlcTtcXFwiOlxcXCLiirRcXFwiLFxcXCJ0cmlhbmdsZXE7XFxcIjpcXFwi4omcXFxcIixcXFwidHJpYW5nbGVyaWdodDtcXFwiOlxcXCLilrlcXFwiLFxcXCJ0cmlhbmdsZXJpZ2h0ZXE7XFxcIjpcXFwi4oq1XFxcIixcXFwidHJpZG90O1xcXCI6XFxcIuKXrFxcXCIsXFxcInRyaWU7XFxcIjpcXFwi4omcXFxcIixcXFwidHJpbWludXM7XFxcIjpcXFwi4qi6XFxcIixcXFwiVHJpcGxlRG90O1xcXCI6XFxcIuKDm1xcXCIsXFxcInRyaXBsdXM7XFxcIjpcXFwi4qi5XFxcIixcXFwidHJpc2I7XFxcIjpcXFwi4qeNXFxcIixcXFwidHJpdGltZTtcXFwiOlxcXCLiqLtcXFwiLFxcXCJ0cnBleml1bTtcXFwiOlxcXCLij6JcXFwiLFxcXCJUc2NyO1xcXCI6XFxcIvCdkq9cXFwiLFxcXCJ0c2NyO1xcXCI6XFxcIvCdk4lcXFwiLFxcXCJUU2N5O1xcXCI6XFxcItCmXFxcIixcXFwidHNjeTtcXFwiOlxcXCLRhlxcXCIsXFxcIlRTSGN5O1xcXCI6XFxcItCLXFxcIixcXFwidHNoY3k7XFxcIjpcXFwi0ZtcXFwiLFxcXCJUc3Ryb2s7XFxcIjpcXFwixaZcXFwiLFxcXCJ0c3Ryb2s7XFxcIjpcXFwixadcXFwiLFxcXCJ0d2l4dDtcXFwiOlxcXCLiiaxcXFwiLFxcXCJ0d29oZWFkbGVmdGFycm93O1xcXCI6XFxcIuKGnlxcXCIsXFxcInR3b2hlYWRyaWdodGFycm93O1xcXCI6XFxcIuKGoFxcXCIsXFxcIlVhY3V0ZTtcXFwiOlxcXCLDmlxcXCIsVWFjdXRlOlxcXCLDmlxcXCIsXFxcInVhY3V0ZTtcXFwiOlxcXCLDulxcXCIsdWFjdXRlOlxcXCLDulxcXCIsXFxcInVhcnI7XFxcIjpcXFwi4oaRXFxcIixcXFwiVWFycjtcXFwiOlxcXCLihp9cXFwiLFxcXCJ1QXJyO1xcXCI6XFxcIuKHkVxcXCIsXFxcIlVhcnJvY2lyO1xcXCI6XFxcIuKliVxcXCIsXFxcIlVicmN5O1xcXCI6XFxcItCOXFxcIixcXFwidWJyY3k7XFxcIjpcXFwi0Z5cXFwiLFxcXCJVYnJldmU7XFxcIjpcXFwixaxcXFwiLFxcXCJ1YnJldmU7XFxcIjpcXFwixa1cXFwiLFxcXCJVY2lyYztcXFwiOlxcXCLDm1xcXCIsVWNpcmM6XFxcIsObXFxcIixcXFwidWNpcmM7XFxcIjpcXFwiw7tcXFwiLHVjaXJjOlxcXCLDu1xcXCIsXFxcIlVjeTtcXFwiOlxcXCLQo1xcXCIsXFxcInVjeTtcXFwiOlxcXCLRg1xcXCIsXFxcInVkYXJyO1xcXCI6XFxcIuKHhVxcXCIsXFxcIlVkYmxhYztcXFwiOlxcXCLFsFxcXCIsXFxcInVkYmxhYztcXFwiOlxcXCLFsVxcXCIsXFxcInVkaGFyO1xcXCI6XFxcIuKlrlxcXCIsXFxcInVmaXNodDtcXFwiOlxcXCLipb5cXFwiLFxcXCJVZnI7XFxcIjpcXFwi8J2UmFxcXCIsXFxcInVmcjtcXFwiOlxcXCLwnZSyXFxcIixcXFwiVWdyYXZlO1xcXCI6XFxcIsOZXFxcIixVZ3JhdmU6XFxcIsOZXFxcIixcXFwidWdyYXZlO1xcXCI6XFxcIsO5XFxcIix1Z3JhdmU6XFxcIsO5XFxcIixcXFwidUhhcjtcXFwiOlxcXCLipaNcXFwiLFxcXCJ1aGFybDtcXFwiOlxcXCLihr9cXFwiLFxcXCJ1aGFycjtcXFwiOlxcXCLihr5cXFwiLFxcXCJ1aGJsaztcXFwiOlxcXCLiloBcXFwiLFxcXCJ1bGNvcm47XFxcIjpcXFwi4oycXFxcIixcXFwidWxjb3JuZXI7XFxcIjpcXFwi4oycXFxcIixcXFwidWxjcm9wO1xcXCI6XFxcIuKMj1xcXCIsXFxcInVsdHJpO1xcXCI6XFxcIuKXuFxcXCIsXFxcIlVtYWNyO1xcXCI6XFxcIsWqXFxcIixcXFwidW1hY3I7XFxcIjpcXFwixatcXFwiLFxcXCJ1bWw7XFxcIjpcXFwiwqhcXFwiLHVtbDpcXFwiwqhcXFwiLFxcXCJVbmRlckJhcjtcXFwiOlxcXCJfXFxcIixcXFwiVW5kZXJCcmFjZTtcXFwiOlxcXCLij59cXFwiLFxcXCJVbmRlckJyYWNrZXQ7XFxcIjpcXFwi4o61XFxcIixcXFwiVW5kZXJQYXJlbnRoZXNpcztcXFwiOlxcXCLij51cXFwiLFxcXCJVbmlvbjtcXFwiOlxcXCLii4NcXFwiLFxcXCJVbmlvblBsdXM7XFxcIjpcXFwi4oqOXFxcIixcXFwiVW9nb247XFxcIjpcXFwixbJcXFwiLFxcXCJ1b2dvbjtcXFwiOlxcXCLFs1xcXCIsXFxcIlVvcGY7XFxcIjpcXFwi8J2VjFxcXCIsXFxcInVvcGY7XFxcIjpcXFwi8J2VplxcXCIsXFxcIlVwQXJyb3dCYXI7XFxcIjpcXFwi4qSSXFxcIixcXFwidXBhcnJvdztcXFwiOlxcXCLihpFcXFwiLFxcXCJVcEFycm93O1xcXCI6XFxcIuKGkVxcXCIsXFxcIlVwYXJyb3c7XFxcIjpcXFwi4oeRXFxcIixcXFwiVXBBcnJvd0Rvd25BcnJvdztcXFwiOlxcXCLih4VcXFwiLFxcXCJ1cGRvd25hcnJvdztcXFwiOlxcXCLihpVcXFwiLFxcXCJVcERvd25BcnJvdztcXFwiOlxcXCLihpVcXFwiLFxcXCJVcGRvd25hcnJvdztcXFwiOlxcXCLih5VcXFwiLFxcXCJVcEVxdWlsaWJyaXVtO1xcXCI6XFxcIuKlrlxcXCIsXFxcInVwaGFycG9vbmxlZnQ7XFxcIjpcXFwi4oa/XFxcIixcXFwidXBoYXJwb29ucmlnaHQ7XFxcIjpcXFwi4oa+XFxcIixcXFwidXBsdXM7XFxcIjpcXFwi4oqOXFxcIixcXFwiVXBwZXJMZWZ0QXJyb3c7XFxcIjpcXFwi4oaWXFxcIixcXFwiVXBwZXJSaWdodEFycm93O1xcXCI6XFxcIuKGl1xcXCIsXFxcInVwc2k7XFxcIjpcXFwiz4VcXFwiLFxcXCJVcHNpO1xcXCI6XFxcIs+SXFxcIixcXFwidXBzaWg7XFxcIjpcXFwiz5JcXFwiLFxcXCJVcHNpbG9uO1xcXCI6XFxcIs6lXFxcIixcXFwidXBzaWxvbjtcXFwiOlxcXCLPhVxcXCIsXFxcIlVwVGVlQXJyb3c7XFxcIjpcXFwi4oalXFxcIixcXFwiVXBUZWU7XFxcIjpcXFwi4oqlXFxcIixcXFwidXB1cGFycm93cztcXFwiOlxcXCLih4hcXFwiLFxcXCJ1cmNvcm47XFxcIjpcXFwi4oydXFxcIixcXFwidXJjb3JuZXI7XFxcIjpcXFwi4oydXFxcIixcXFwidXJjcm9wO1xcXCI6XFxcIuKMjlxcXCIsXFxcIlVyaW5nO1xcXCI6XFxcIsWuXFxcIixcXFwidXJpbmc7XFxcIjpcXFwixa9cXFwiLFxcXCJ1cnRyaTtcXFwiOlxcXCLil7lcXFwiLFxcXCJVc2NyO1xcXCI6XFxcIvCdkrBcXFwiLFxcXCJ1c2NyO1xcXCI6XFxcIvCdk4pcXFwiLFxcXCJ1dGRvdDtcXFwiOlxcXCLii7BcXFwiLFxcXCJVdGlsZGU7XFxcIjpcXFwixahcXFwiLFxcXCJ1dGlsZGU7XFxcIjpcXFwixalcXFwiLFxcXCJ1dHJpO1xcXCI6XFxcIuKWtVxcXCIsXFxcInV0cmlmO1xcXCI6XFxcIuKWtFxcXCIsXFxcInV1YXJyO1xcXCI6XFxcIuKHiFxcXCIsXFxcIlV1bWw7XFxcIjpcXFwiw5xcXFwiLFV1bWw6XFxcIsOcXFxcIixcXFwidXVtbDtcXFwiOlxcXCLDvFxcXCIsdXVtbDpcXFwiw7xcXFwiLFxcXCJ1d2FuZ2xlO1xcXCI6XFxcIuKmp1xcXCIsXFxcInZhbmdydDtcXFwiOlxcXCLippxcXFwiLFxcXCJ2YXJlcHNpbG9uO1xcXCI6XFxcIs+1XFxcIixcXFwidmFya2FwcGE7XFxcIjpcXFwiz7BcXFwiLFxcXCJ2YXJub3RoaW5nO1xcXCI6XFxcIuKIhVxcXCIsXFxcInZhcnBoaTtcXFwiOlxcXCLPlVxcXCIsXFxcInZhcnBpO1xcXCI6XFxcIs+WXFxcIixcXFwidmFycHJvcHRvO1xcXCI6XFxcIuKInVxcXCIsXFxcInZhcnI7XFxcIjpcXFwi4oaVXFxcIixcXFwidkFycjtcXFwiOlxcXCLih5VcXFwiLFxcXCJ2YXJyaG87XFxcIjpcXFwiz7FcXFwiLFxcXCJ2YXJzaWdtYTtcXFwiOlxcXCLPglxcXCIsXFxcInZhcnN1YnNldG5lcTtcXFwiOlxcXCLiiorvuIBcXFwiLFxcXCJ2YXJzdWJzZXRuZXFxO1xcXCI6XFxcIuKri++4gFxcXCIsXFxcInZhcnN1cHNldG5lcTtcXFwiOlxcXCLiiovvuIBcXFwiLFxcXCJ2YXJzdXBzZXRuZXFxO1xcXCI6XFxcIuKrjO+4gFxcXCIsXFxcInZhcnRoZXRhO1xcXCI6XFxcIs+RXFxcIixcXFwidmFydHJpYW5nbGVsZWZ0O1xcXCI6XFxcIuKKslxcXCIsXFxcInZhcnRyaWFuZ2xlcmlnaHQ7XFxcIjpcXFwi4oqzXFxcIixcXFwidkJhcjtcXFwiOlxcXCLiq6hcXFwiLFxcXCJWYmFyO1xcXCI6XFxcIuKrq1xcXCIsXFxcInZCYXJ2O1xcXCI6XFxcIuKrqVxcXCIsXFxcIlZjeTtcXFwiOlxcXCLQklxcXCIsXFxcInZjeTtcXFwiOlxcXCLQslxcXCIsXFxcInZkYXNoO1xcXCI6XFxcIuKKolxcXCIsXFxcInZEYXNoO1xcXCI6XFxcIuKKqFxcXCIsXFxcIlZkYXNoO1xcXCI6XFxcIuKKqVxcXCIsXFxcIlZEYXNoO1xcXCI6XFxcIuKKq1xcXCIsXFxcIlZkYXNobDtcXFwiOlxcXCLiq6ZcXFwiLFxcXCJ2ZWViYXI7XFxcIjpcXFwi4oq7XFxcIixcXFwidmVlO1xcXCI6XFxcIuKIqFxcXCIsXFxcIlZlZTtcXFwiOlxcXCLii4FcXFwiLFxcXCJ2ZWVlcTtcXFwiOlxcXCLiiZpcXFwiLFxcXCJ2ZWxsaXA7XFxcIjpcXFwi4ouuXFxcIixcXFwidmVyYmFyO1xcXCI6XFxcInxcXFwiLFxcXCJWZXJiYXI7XFxcIjpcXFwi4oCWXFxcIixcXFwidmVydDtcXFwiOlxcXCJ8XFxcIixcXFwiVmVydDtcXFwiOlxcXCLigJZcXFwiLFxcXCJWZXJ0aWNhbEJhcjtcXFwiOlxcXCLiiKNcXFwiLFxcXCJWZXJ0aWNhbExpbmU7XFxcIjpcXFwifFxcXCIsXFxcIlZlcnRpY2FsU2VwYXJhdG9yO1xcXCI6XFxcIuKdmFxcXCIsXFxcIlZlcnRpY2FsVGlsZGU7XFxcIjpcXFwi4omAXFxcIixcXFwiVmVyeVRoaW5TcGFjZTtcXFwiOlxcXCLigIpcXFwiLFxcXCJWZnI7XFxcIjpcXFwi8J2UmVxcXCIsXFxcInZmcjtcXFwiOlxcXCLwnZSzXFxcIixcXFwidmx0cmk7XFxcIjpcXFwi4oqyXFxcIixcXFwidm5zdWI7XFxcIjpcXFwi4oqC4oOSXFxcIixcXFwidm5zdXA7XFxcIjpcXFwi4oqD4oOSXFxcIixcXFwiVm9wZjtcXFwiOlxcXCLwnZWNXFxcIixcXFwidm9wZjtcXFwiOlxcXCLwnZWnXFxcIixcXFwidnByb3A7XFxcIjpcXFwi4oidXFxcIixcXFwidnJ0cmk7XFxcIjpcXFwi4oqzXFxcIixcXFwiVnNjcjtcXFwiOlxcXCLwnZKxXFxcIixcXFwidnNjcjtcXFwiOlxcXCLwnZOLXFxcIixcXFwidnN1Ym5FO1xcXCI6XFxcIuKri++4gFxcXCIsXFxcInZzdWJuZTtcXFwiOlxcXCLiiorvuIBcXFwiLFxcXCJ2c3VwbkU7XFxcIjpcXFwi4quM77iAXFxcIixcXFwidnN1cG5lO1xcXCI6XFxcIuKKi++4gFxcXCIsXFxcIlZ2ZGFzaDtcXFwiOlxcXCLiiqpcXFwiLFxcXCJ2emlnemFnO1xcXCI6XFxcIuKmmlxcXCIsXFxcIldjaXJjO1xcXCI6XFxcIsW0XFxcIixcXFwid2NpcmM7XFxcIjpcXFwixbVcXFwiLFxcXCJ3ZWRiYXI7XFxcIjpcXFwi4qmfXFxcIixcXFwid2VkZ2U7XFxcIjpcXFwi4oinXFxcIixcXFwiV2VkZ2U7XFxcIjpcXFwi4ouAXFxcIixcXFwid2VkZ2VxO1xcXCI6XFxcIuKJmVxcXCIsXFxcIndlaWVycDtcXFwiOlxcXCLihJhcXFwiLFxcXCJXZnI7XFxcIjpcXFwi8J2UmlxcXCIsXFxcIndmcjtcXFwiOlxcXCLwnZS0XFxcIixcXFwiV29wZjtcXFwiOlxcXCLwnZWOXFxcIixcXFwid29wZjtcXFwiOlxcXCLwnZWoXFxcIixcXFwid3A7XFxcIjpcXFwi4oSYXFxcIixcXFwid3I7XFxcIjpcXFwi4omAXFxcIixcXFwid3JlYXRoO1xcXCI6XFxcIuKJgFxcXCIsXFxcIldzY3I7XFxcIjpcXFwi8J2SslxcXCIsXFxcIndzY3I7XFxcIjpcXFwi8J2TjFxcXCIsXFxcInhjYXA7XFxcIjpcXFwi4ouCXFxcIixcXFwieGNpcmM7XFxcIjpcXFwi4pevXFxcIixcXFwieGN1cDtcXFwiOlxcXCLii4NcXFwiLFxcXCJ4ZHRyaTtcXFwiOlxcXCLilr1cXFwiLFxcXCJYZnI7XFxcIjpcXFwi8J2Um1xcXCIsXFxcInhmcjtcXFwiOlxcXCLwnZS1XFxcIixcXFwieGhhcnI7XFxcIjpcXFwi4p+3XFxcIixcXFwieGhBcnI7XFxcIjpcXFwi4p+6XFxcIixcXFwiWGk7XFxcIjpcXFwizp5cXFwiLFxcXCJ4aTtcXFwiOlxcXCLOvlxcXCIsXFxcInhsYXJyO1xcXCI6XFxcIuKftVxcXCIsXFxcInhsQXJyO1xcXCI6XFxcIuKfuFxcXCIsXFxcInhtYXA7XFxcIjpcXFwi4p+8XFxcIixcXFwieG5pcztcXFwiOlxcXCLii7tcXFwiLFxcXCJ4b2RvdDtcXFwiOlxcXCLiqIBcXFwiLFxcXCJYb3BmO1xcXCI6XFxcIvCdlY9cXFwiLFxcXCJ4b3BmO1xcXCI6XFxcIvCdlalcXFwiLFxcXCJ4b3BsdXM7XFxcIjpcXFwi4qiBXFxcIixcXFwieG90aW1lO1xcXCI6XFxcIuKoglxcXCIsXFxcInhyYXJyO1xcXCI6XFxcIuKftlxcXCIsXFxcInhyQXJyO1xcXCI6XFxcIuKfuVxcXCIsXFxcIlhzY3I7XFxcIjpcXFwi8J2Ss1xcXCIsXFxcInhzY3I7XFxcIjpcXFwi8J2TjVxcXCIsXFxcInhzcWN1cDtcXFwiOlxcXCLiqIZcXFwiLFxcXCJ4dXBsdXM7XFxcIjpcXFwi4qiEXFxcIixcXFwieHV0cmk7XFxcIjpcXFwi4pazXFxcIixcXFwieHZlZTtcXFwiOlxcXCLii4FcXFwiLFxcXCJ4d2VkZ2U7XFxcIjpcXFwi4ouAXFxcIixcXFwiWWFjdXRlO1xcXCI6XFxcIsOdXFxcIixZYWN1dGU6XFxcIsOdXFxcIixcXFwieWFjdXRlO1xcXCI6XFxcIsO9XFxcIix5YWN1dGU6XFxcIsO9XFxcIixcXFwiWUFjeTtcXFwiOlxcXCLQr1xcXCIsXFxcInlhY3k7XFxcIjpcXFwi0Y9cXFwiLFxcXCJZY2lyYztcXFwiOlxcXCLFtlxcXCIsXFxcInljaXJjO1xcXCI6XFxcIsW3XFxcIixcXFwiWWN5O1xcXCI6XFxcItCrXFxcIixcXFwieWN5O1xcXCI6XFxcItGLXFxcIixcXFwieWVuO1xcXCI6XFxcIsKlXFxcIix5ZW46XFxcIsKlXFxcIixcXFwiWWZyO1xcXCI6XFxcIvCdlJxcXFwiLFxcXCJ5ZnI7XFxcIjpcXFwi8J2UtlxcXCIsXFxcIllJY3k7XFxcIjpcXFwi0IdcXFwiLFxcXCJ5aWN5O1xcXCI6XFxcItGXXFxcIixcXFwiWW9wZjtcXFwiOlxcXCLwnZWQXFxcIixcXFwieW9wZjtcXFwiOlxcXCLwnZWqXFxcIixcXFwiWXNjcjtcXFwiOlxcXCLwnZK0XFxcIixcXFwieXNjcjtcXFwiOlxcXCLwnZOOXFxcIixcXFwiWVVjeTtcXFwiOlxcXCLQrlxcXCIsXFxcInl1Y3k7XFxcIjpcXFwi0Y5cXFwiLFxcXCJ5dW1sO1xcXCI6XFxcIsO/XFxcIix5dW1sOlxcXCLDv1xcXCIsXFxcIll1bWw7XFxcIjpcXFwixbhcXFwiLFxcXCJaYWN1dGU7XFxcIjpcXFwixblcXFwiLFxcXCJ6YWN1dGU7XFxcIjpcXFwixbpcXFwiLFxcXCJaY2Fyb247XFxcIjpcXFwixb1cXFwiLFxcXCJ6Y2Fyb247XFxcIjpcXFwixb5cXFwiLFxcXCJaY3k7XFxcIjpcXFwi0JdcXFwiLFxcXCJ6Y3k7XFxcIjpcXFwi0LdcXFwiLFxcXCJaZG90O1xcXCI6XFxcIsW7XFxcIixcXFwiemRvdDtcXFwiOlxcXCLFvFxcXCIsXFxcInplZXRyZjtcXFwiOlxcXCLihKhcXFwiLFxcXCJaZXJvV2lkdGhTcGFjZTtcXFwiOlxcXCLigItcXFwiLFxcXCJaZXRhO1xcXCI6XFxcIs6WXFxcIixcXFwiemV0YTtcXFwiOlxcXCLOtlxcXCIsXFxcInpmcjtcXFwiOlxcXCLwnZS3XFxcIixcXFwiWmZyO1xcXCI6XFxcIuKEqFxcXCIsXFxcIlpIY3k7XFxcIjpcXFwi0JZcXFwiLFxcXCJ6aGN5O1xcXCI6XFxcItC2XFxcIixcXFwiemlncmFycjtcXFwiOlxcXCLih51cXFwiLFxcXCJ6b3BmO1xcXCI6XFxcIvCdlatcXFwiLFxcXCJab3BmO1xcXCI6XFxcIuKEpFxcXCIsXFxcIlpzY3I7XFxcIjpcXFwi8J2StVxcXCIsXFxcInpzY3I7XFxcIjpcXFwi8J2Tj1xcXCIsXFxcInp3ajtcXFwiOlxcXCLigI1cXFwiLFxcXCJ6d25qO1xcXCI6XFxcIuKAjFxcXCJ9XFxufSx7fV0sMTM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXtmdW5jdGlvbiByZXBsYWNlcihrZXksdmFsdWUpe3JldHVybiB1dGlsLmlzVW5kZWZpbmVkKHZhbHVlKT9cXFwiXFxcIit2YWx1ZTohdXRpbC5pc051bWJlcih2YWx1ZSl8fCFpc05hTih2YWx1ZSkmJmlzRmluaXRlKHZhbHVlKT91dGlsLmlzRnVuY3Rpb24odmFsdWUpfHx1dGlsLmlzUmVnRXhwKHZhbHVlKT9cXFwiXFxcIit2YWx1ZTp2YWx1ZTpcXFwiXFxcIit2YWx1ZX1mdW5jdGlvbiB0cnVuY2F0ZShzLG4pe3JldHVybiB1dGlsLmlzU3RyaW5nKHMpP24+cy5sZW5ndGg/czpzLnNsaWNlKDAsbik6c31mdW5jdGlvbiBnZXRNZXNzYWdlKHNlbGYpe3JldHVybiB0cnVuY2F0ZShKU09OLnN0cmluZ2lmeShzZWxmLmFjdHVhbCxyZXBsYWNlciksMTI4KStcXFwiIFxcXCIrc2VsZi5vcGVyYXRvcitcXFwiIFxcXCIrdHJ1bmNhdGUoSlNPTi5zdHJpbmdpZnkoc2VsZi5leHBlY3RlZCxyZXBsYWNlciksMTI4KX1mdW5jdGlvbiBmYWlsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlLG9wZXJhdG9yLHN0YWNrU3RhcnRGdW5jdGlvbil7dGhyb3cgbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7bWVzc2FnZTptZXNzYWdlLGFjdHVhbDphY3R1YWwsZXhwZWN0ZWQ6ZXhwZWN0ZWQsb3BlcmF0b3I6b3BlcmF0b3Isc3RhY2tTdGFydEZ1bmN0aW9uOnN0YWNrU3RhcnRGdW5jdGlvbn0pfWZ1bmN0aW9uIG9rKHZhbHVlLG1lc3NhZ2Upe3ZhbHVlfHxmYWlsKHZhbHVlLCEwLG1lc3NhZ2UsXFxcIj09XFxcIixhc3NlcnQub2spfWZ1bmN0aW9uIF9kZWVwRXF1YWwoYWN0dWFsLGV4cGVjdGVkKXtpZihhY3R1YWw9PT1leHBlY3RlZClyZXR1cm4hMDtpZih1dGlsLmlzQnVmZmVyKGFjdHVhbCkmJnV0aWwuaXNCdWZmZXIoZXhwZWN0ZWQpKXtpZihhY3R1YWwubGVuZ3RoIT1leHBlY3RlZC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7YWN0dWFsLmxlbmd0aD5pO2krKylpZihhY3R1YWxbaV0hPT1leHBlY3RlZFtpXSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gdXRpbC5pc0RhdGUoYWN0dWFsKSYmdXRpbC5pc0RhdGUoZXhwZWN0ZWQpP2FjdHVhbC5nZXRUaW1lKCk9PT1leHBlY3RlZC5nZXRUaW1lKCk6dXRpbC5pc1JlZ0V4cChhY3R1YWwpJiZ1dGlsLmlzUmVnRXhwKGV4cGVjdGVkKT9hY3R1YWwuc291cmNlPT09ZXhwZWN0ZWQuc291cmNlJiZhY3R1YWwuZ2xvYmFsPT09ZXhwZWN0ZWQuZ2xvYmFsJiZhY3R1YWwubXVsdGlsaW5lPT09ZXhwZWN0ZWQubXVsdGlsaW5lJiZhY3R1YWwubGFzdEluZGV4PT09ZXhwZWN0ZWQubGFzdEluZGV4JiZhY3R1YWwuaWdub3JlQ2FzZT09PWV4cGVjdGVkLmlnbm9yZUNhc2U6dXRpbC5pc09iamVjdChhY3R1YWwpfHx1dGlsLmlzT2JqZWN0KGV4cGVjdGVkKT9vYmpFcXVpdihhY3R1YWwsZXhwZWN0ZWQpOmFjdHVhbD09ZXhwZWN0ZWR9ZnVuY3Rpb24gaXNBcmd1bWVudHMob2JqZWN0KXtyZXR1cm5cXFwiW29iamVjdCBBcmd1bWVudHNdXFxcIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCl9ZnVuY3Rpb24gb2JqRXF1aXYoYSxiKXtpZih1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKGEpfHx1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKGIpKXJldHVybiExO2lmKGEucHJvdG90eXBlIT09Yi5wcm90b3R5cGUpcmV0dXJuITE7aWYoaXNBcmd1bWVudHMoYSkpcmV0dXJuIGlzQXJndW1lbnRzKGIpPyhhPXBTbGljZS5jYWxsKGEpLGI9cFNsaWNlLmNhbGwoYiksX2RlZXBFcXVhbChhLGIpKTohMTt0cnl7dmFyIGtleSxpLGthPW9iamVjdEtleXMoYSksa2I9b2JqZWN0S2V5cyhiKX1jYXRjaChlKXtyZXR1cm4hMX1pZihrYS5sZW5ndGghPWtiLmxlbmd0aClyZXR1cm4hMTtmb3Ioa2Euc29ydCgpLGtiLnNvcnQoKSxpPWthLmxlbmd0aC0xO2k+PTA7aS0tKWlmKGthW2ldIT1rYltpXSlyZXR1cm4hMTtmb3IoaT1rYS5sZW5ndGgtMTtpPj0wO2ktLSlpZihrZXk9a2FbaV0sIV9kZWVwRXF1YWwoYVtrZXldLGJba2V5XSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLGV4cGVjdGVkKXtyZXR1cm4gYWN0dWFsJiZleHBlY3RlZD9cXFwiW29iamVjdCBSZWdFeHBdXFxcIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGV4cGVjdGVkKT9leHBlY3RlZC50ZXN0KGFjdHVhbCk6YWN0dWFsIGluc3RhbmNlb2YgZXhwZWN0ZWQ/ITA6ZXhwZWN0ZWQuY2FsbCh7fSxhY3R1YWwpPT09ITA/ITA6ITE6ITF9ZnVuY3Rpb24gX3Rocm93cyhzaG91bGRUaHJvdyxibG9jayxleHBlY3RlZCxtZXNzYWdlKXt2YXIgYWN0dWFsO3V0aWwuaXNTdHJpbmcoZXhwZWN0ZWQpJiYobWVzc2FnZT1leHBlY3RlZCxleHBlY3RlZD1udWxsKTt0cnl7YmxvY2soKX1jYXRjaChlKXthY3R1YWw9ZX1pZihtZXNzYWdlPShleHBlY3RlZCYmZXhwZWN0ZWQubmFtZT9cXFwiIChcXFwiK2V4cGVjdGVkLm5hbWUrXFxcIikuXFxcIjpcXFwiLlxcXCIpKyhtZXNzYWdlP1xcXCIgXFxcIittZXNzYWdlOlxcXCIuXFxcIiksc2hvdWxkVGhyb3cmJiFhY3R1YWwmJmZhaWwoYWN0dWFsLGV4cGVjdGVkLFxcXCJNaXNzaW5nIGV4cGVjdGVkIGV4Y2VwdGlvblxcXCIrbWVzc2FnZSksIXNob3VsZFRocm93JiZleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsZXhwZWN0ZWQpJiZmYWlsKGFjdHVhbCxleHBlY3RlZCxcXFwiR290IHVud2FudGVkIGV4Y2VwdGlvblxcXCIrbWVzc2FnZSksc2hvdWxkVGhyb3cmJmFjdHVhbCYmZXhwZWN0ZWQmJiFleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsZXhwZWN0ZWQpfHwhc2hvdWxkVGhyb3cmJmFjdHVhbCl0aHJvdyBhY3R1YWx9dmFyIHV0aWw9X2RlcmVxXyhcXFwidXRpbC9cXFwiKSxwU2xpY2U9QXJyYXkucHJvdG90eXBlLnNsaWNlLGhhc093bj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGFzc2VydD1tb2R1bGUuZXhwb3J0cz1vazthc3NlcnQuQXNzZXJ0aW9uRXJyb3I9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5uYW1lPVxcXCJBc3NlcnRpb25FcnJvclxcXCIsdGhpcy5hY3R1YWw9b3B0aW9ucy5hY3R1YWwsdGhpcy5leHBlY3RlZD1vcHRpb25zLmV4cGVjdGVkLHRoaXMub3BlcmF0b3I9b3B0aW9ucy5vcGVyYXRvcixvcHRpb25zLm1lc3NhZ2U/KHRoaXMubWVzc2FnZT1vcHRpb25zLm1lc3NhZ2UsdGhpcy5nZW5lcmF0ZWRNZXNzYWdlPSExKToodGhpcy5tZXNzYWdlPWdldE1lc3NhZ2UodGhpcyksdGhpcy5nZW5lcmF0ZWRNZXNzYWdlPSEwKTt2YXIgc3RhY2tTdGFydEZ1bmN0aW9uPW9wdGlvbnMuc3RhY2tTdGFydEZ1bmN0aW9ufHxmYWlsO2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsc3RhY2tTdGFydEZ1bmN0aW9uKTtlbHNle3ZhciBlcnI9RXJyb3IoKTtpZihlcnIuc3RhY2spe3ZhciBvdXQ9ZXJyLnN0YWNrLGZuX25hbWU9c3RhY2tTdGFydEZ1bmN0aW9uLm5hbWUsaWR4PW91dC5pbmRleE9mKFxcXCJcXFxcblxcXCIrZm5fbmFtZSk7aWYoaWR4Pj0wKXt2YXIgbmV4dF9saW5lPW91dC5pbmRleE9mKFxcXCJcXFxcblxcXCIsaWR4KzEpO291dD1vdXQuc3Vic3RyaW5nKG5leHRfbGluZSsxKX10aGlzLnN0YWNrPW91dH19fSx1dGlsLmluaGVyaXRzKGFzc2VydC5Bc3NlcnRpb25FcnJvcixFcnJvciksYXNzZXJ0LmZhaWw9ZmFpbCxhc3NlcnQub2s9b2ssYXNzZXJ0LmVxdWFsPWZ1bmN0aW9uKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlKXthY3R1YWwhPWV4cGVjdGVkJiZmYWlsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlLFxcXCI9PVxcXCIsYXNzZXJ0LmVxdWFsKX0sYXNzZXJ0Lm5vdEVxdWFsPWZ1bmN0aW9uKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlKXthY3R1YWw9PWV4cGVjdGVkJiZmYWlsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlLFxcXCIhPVxcXCIsYXNzZXJ0Lm5vdEVxdWFsKX0sYXNzZXJ0LmRlZXBFcXVhbD1mdW5jdGlvbihhY3R1YWwsZXhwZWN0ZWQsbWVzc2FnZSl7X2RlZXBFcXVhbChhY3R1YWwsZXhwZWN0ZWQpfHxmYWlsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlLFxcXCJkZWVwRXF1YWxcXFwiLGFzc2VydC5kZWVwRXF1YWwpfSxhc3NlcnQubm90RGVlcEVxdWFsPWZ1bmN0aW9uKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlKXtfZGVlcEVxdWFsKGFjdHVhbCxleHBlY3RlZCkmJmZhaWwoYWN0dWFsLGV4cGVjdGVkLG1lc3NhZ2UsXFxcIm5vdERlZXBFcXVhbFxcXCIsYXNzZXJ0Lm5vdERlZXBFcXVhbCl9LGFzc2VydC5zdHJpY3RFcXVhbD1mdW5jdGlvbihhY3R1YWwsZXhwZWN0ZWQsbWVzc2FnZSl7YWN0dWFsIT09ZXhwZWN0ZWQmJmZhaWwoYWN0dWFsLGV4cGVjdGVkLG1lc3NhZ2UsXFxcIj09PVxcXCIsYXNzZXJ0LnN0cmljdEVxdWFsKX0sYXNzZXJ0Lm5vdFN0cmljdEVxdWFsPWZ1bmN0aW9uKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlKXthY3R1YWw9PT1leHBlY3RlZCYmZmFpbChhY3R1YWwsZXhwZWN0ZWQsbWVzc2FnZSxcXFwiIT09XFxcIixhc3NlcnQubm90U3RyaWN0RXF1YWwpfSxhc3NlcnQudGhyb3dzPWZ1bmN0aW9uKCl7X3Rocm93cy5hcHBseSh0aGlzLFshMF0uY29uY2F0KHBTbGljZS5jYWxsKGFyZ3VtZW50cykpKX0sYXNzZXJ0LmRvZXNOb3RUaHJvdz1mdW5jdGlvbigpe190aHJvd3MuYXBwbHkodGhpcyxbITFdLmNvbmNhdChwU2xpY2UuY2FsbChhcmd1bWVudHMpKSl9LGFzc2VydC5pZkVycm9yPWZ1bmN0aW9uKGVycil7aWYoZXJyKXRocm93IGVycn07dmFyIG9iamVjdEtleXM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKG9iail7dmFyIGtleXM9W107Zm9yKHZhciBrZXkgaW4gb2JqKWhhc093bi5jYWxsKG9iaixrZXkpJiZrZXlzLnB1c2goa2V5KTtyZXR1cm4ga2V5c319LHtcXFwidXRpbC9cXFwiOjE1fV0sMTQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihhcmcpe3JldHVybiBhcmcmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgYXJnJiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYXJnLmNvcHkmJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBhcmcuZmlsbCYmXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGFyZy5yZWFkVUludDh9fSx7fV0sMTU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihwcm9jZXNzLGdsb2JhbCl7ZnVuY3Rpb24gaW5zcGVjdChvYmosb3B0cyl7dmFyIGN0eD17c2VlbjpbXSxzdHlsaXplOnN0eWxpemVOb0NvbG9yfTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD49MyYmKGN0eC5kZXB0aD1hcmd1bWVudHNbMl0pLGFyZ3VtZW50cy5sZW5ndGg+PTQmJihjdHguY29sb3JzPWFyZ3VtZW50c1szXSksaXNCb29sZWFuKG9wdHMpP2N0eC5zaG93SGlkZGVuPW9wdHM6b3B0cyYmZXhwb3J0cy5fZXh0ZW5kKGN0eCxvcHRzKSxpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikmJihjdHguc2hvd0hpZGRlbj0hMSksaXNVbmRlZmluZWQoY3R4LmRlcHRoKSYmKGN0eC5kZXB0aD0yKSxpc1VuZGVmaW5lZChjdHguY29sb3JzKSYmKGN0eC5jb2xvcnM9ITEpLGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSYmKGN0eC5jdXN0b21JbnNwZWN0PSEwKSxjdHguY29sb3JzJiYoY3R4LnN0eWxpemU9c3R5bGl6ZVdpdGhDb2xvciksZm9ybWF0VmFsdWUoY3R4LG9iaixjdHguZGVwdGgpfWZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLHN0eWxlVHlwZSl7dmFyIHN0eWxlPWluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07cmV0dXJuIHN0eWxlP1xcXCJcXHUwMDFiW1xcXCIraW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdK1xcXCJtXFxcIitzdHIrXFxcIlxcdTAwMWJbXFxcIitpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0rXFxcIm1cXFwiOnN0cn1mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIpe3JldHVybiBzdHJ9ZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpe3ZhciBoYXNoPXt9O3JldHVybiBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCl7aGFzaFt2YWxdPSEwfSksaGFzaH1mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsdmFsdWUscmVjdXJzZVRpbWVzKXtpZihjdHguY3VzdG9tSW5zcGVjdCYmdmFsdWUmJmlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkmJnZhbHVlLmluc3BlY3QhPT1leHBvcnRzLmluc3BlY3QmJighdmFsdWUuY29uc3RydWN0b3J8fHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9PXZhbHVlKSl7dmFyIHJldD12YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcyxjdHgpO3JldHVybiBpc1N0cmluZyhyZXQpfHwocmV0PWZvcm1hdFZhbHVlKGN0eCxyZXQscmVjdXJzZVRpbWVzKSkscmV0fXZhciBwcmltaXRpdmU9Zm9ybWF0UHJpbWl0aXZlKGN0eCx2YWx1ZSk7aWYocHJpbWl0aXZlKXJldHVybiBwcmltaXRpdmU7dmFyIGtleXM9T2JqZWN0LmtleXModmFsdWUpLHZpc2libGVLZXlzPWFycmF5VG9IYXNoKGtleXMpO2lmKGN0eC5zaG93SGlkZGVuJiYoa2V5cz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpLGlzRXJyb3IodmFsdWUpJiYoa2V5cy5pbmRleE9mKFxcXCJtZXNzYWdlXFxcIik+PTB8fGtleXMuaW5kZXhPZihcXFwiZGVzY3JpcHRpb25cXFwiKT49MCkpcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtpZigwPT09a2V5cy5sZW5ndGgpe2lmKGlzRnVuY3Rpb24odmFsdWUpKXt2YXIgbmFtZT12YWx1ZS5uYW1lP1xcXCI6IFxcXCIrdmFsdWUubmFtZTpcXFwiXFxcIjtyZXR1cm4gY3R4LnN0eWxpemUoXFxcIltGdW5jdGlvblxcXCIrbmFtZStcXFwiXVxcXCIsXFxcInNwZWNpYWxcXFwiKX1pZihpc1JlZ0V4cCh2YWx1ZSkpcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksXFxcInJlZ2V4cFxcXCIpO2lmKGlzRGF0ZSh2YWx1ZSkpcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLFxcXCJkYXRlXFxcIik7aWYoaXNFcnJvcih2YWx1ZSkpcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKX12YXIgYmFzZT1cXFwiXFxcIixhcnJheT0hMSxicmFjZXM9W1xcXCJ7XFxcIixcXFwifVxcXCJdO2lmKGlzQXJyYXkodmFsdWUpJiYoYXJyYXk9ITAsYnJhY2VzPVtcXFwiW1xcXCIsXFxcIl1cXFwiXSksaXNGdW5jdGlvbih2YWx1ZSkpe3ZhciBuPXZhbHVlLm5hbWU/XFxcIjogXFxcIit2YWx1ZS5uYW1lOlxcXCJcXFwiO2Jhc2U9XFxcIiBbRnVuY3Rpb25cXFwiK24rXFxcIl1cXFwifWlmKGlzUmVnRXhwKHZhbHVlKSYmKGJhc2U9XFxcIiBcXFwiK1JlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkpLGlzRGF0ZSh2YWx1ZSkmJihiYXNlPVxcXCIgXFxcIitEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKSksaXNFcnJvcih2YWx1ZSkmJihiYXNlPVxcXCIgXFxcIitmb3JtYXRFcnJvcih2YWx1ZSkpLDA9PT1rZXlzLmxlbmd0aCYmKCFhcnJheXx8MD09dmFsdWUubGVuZ3RoKSlyZXR1cm4gYnJhY2VzWzBdK2Jhc2UrYnJhY2VzWzFdO2lmKDA+cmVjdXJzZVRpbWVzKXJldHVybiBpc1JlZ0V4cCh2YWx1ZSk/Y3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSxcXFwicmVnZXhwXFxcIik6Y3R4LnN0eWxpemUoXFxcIltPYmplY3RdXFxcIixcXFwic3BlY2lhbFxcXCIpO2N0eC5zZWVuLnB1c2godmFsdWUpO3ZhciBvdXRwdXQ7cmV0dXJuIG91dHB1dD1hcnJheT9mb3JtYXRBcnJheShjdHgsdmFsdWUscmVjdXJzZVRpbWVzLHZpc2libGVLZXlzLGtleXMpOmtleXMubWFwKGZ1bmN0aW9uKGtleSl7cmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCx2YWx1ZSxyZWN1cnNlVGltZXMsdmlzaWJsZUtleXMsa2V5LGFycmF5KX0pLGN0eC5zZWVuLnBvcCgpLHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCxiYXNlLGJyYWNlcyl9ZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCx2YWx1ZSl7aWYoaXNVbmRlZmluZWQodmFsdWUpKXJldHVybiBjdHguc3R5bGl6ZShcXFwidW5kZWZpbmVkXFxcIixcXFwidW5kZWZpbmVkXFxcIik7aWYoaXNTdHJpbmcodmFsdWUpKXt2YXIgc2ltcGxlPVxcXCInXFxcIitKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlxcXCJ8XFxcIiQvZyxcXFwiXFxcIikucmVwbGFjZSgvJy9nLFxcXCJcXFxcXFxcXCdcXFwiKS5yZXBsYWNlKC9cXFxcXFxcXFxcXCIvZywnXFxcIicpK1xcXCInXFxcIjtyZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLFxcXCJzdHJpbmdcXFwiKX1yZXR1cm4gaXNOdW1iZXIodmFsdWUpP2N0eC5zdHlsaXplKFxcXCJcXFwiK3ZhbHVlLFxcXCJudW1iZXJcXFwiKTppc0Jvb2xlYW4odmFsdWUpP2N0eC5zdHlsaXplKFxcXCJcXFwiK3ZhbHVlLFxcXCJib29sZWFuXFxcIik6aXNOdWxsKHZhbHVlKT9jdHguc3R5bGl6ZShcXFwibnVsbFxcXCIsXFxcIm51bGxcXFwiKTp2b2lkIDB9ZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpe3JldHVyblxcXCJbXFxcIitFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkrXFxcIl1cXFwifWZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCx2YWx1ZSxyZWN1cnNlVGltZXMsdmlzaWJsZUtleXMsa2V5cyl7Zm9yKHZhciBvdXRwdXQ9W10saT0wLGw9dmFsdWUubGVuZ3RoO2w+aTsrK2kpaGFzT3duUHJvcGVydHkodmFsdWUsaStcXFwiXFxcIik/b3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LHZhbHVlLHJlY3Vyc2VUaW1lcyx2aXNpYmxlS2V5cyxpK1xcXCJcXFwiLCEwKSk6b3V0cHV0LnB1c2goXFxcIlxcXCIpO3JldHVybiBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KXtrZXkubWF0Y2goL15cXFxcZCskLyl8fG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCx2YWx1ZSxyZWN1cnNlVGltZXMsdmlzaWJsZUtleXMsa2V5LCEwKSl9KSxvdXRwdXR9ZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LHZhbHVlLHJlY3Vyc2VUaW1lcyx2aXNpYmxlS2V5cyxrZXksYXJyYXkpe3ZhciBuYW1lLHN0cixkZXNjO2lmKGRlc2M9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSxrZXkpfHx7dmFsdWU6dmFsdWVba2V5XX0sZGVzYy5nZXQ/c3RyPWRlc2Muc2V0P2N0eC5zdHlsaXplKFxcXCJbR2V0dGVyL1NldHRlcl1cXFwiLFxcXCJzcGVjaWFsXFxcIik6Y3R4LnN0eWxpemUoXFxcIltHZXR0ZXJdXFxcIixcXFwic3BlY2lhbFxcXCIpOmRlc2Muc2V0JiYoc3RyPWN0eC5zdHlsaXplKFxcXCJbU2V0dGVyXVxcXCIsXFxcInNwZWNpYWxcXFwiKSksaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsa2V5KXx8KG5hbWU9XFxcIltcXFwiK2tleStcXFwiXVxcXCIpLHN0cnx8KDA+Y3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKT8oc3RyPWlzTnVsbChyZWN1cnNlVGltZXMpP2Zvcm1hdFZhbHVlKGN0eCxkZXNjLnZhbHVlLG51bGwpOmZvcm1hdFZhbHVlKGN0eCxkZXNjLnZhbHVlLHJlY3Vyc2VUaW1lcy0xKSxzdHIuaW5kZXhPZihcXFwiXFxcXG5cXFwiKT4tMSYmKHN0cj1hcnJheT9zdHIuc3BsaXQoXFxcIlxcXFxuXFxcIikubWFwKGZ1bmN0aW9uKGxpbmUpe3JldHVyblxcXCIgIFxcXCIrbGluZX0pLmpvaW4oXFxcIlxcXFxuXFxcIikuc3Vic3RyKDIpOlxcXCJcXFxcblxcXCIrc3RyLnNwbGl0KFxcXCJcXFxcblxcXCIpLm1hcChmdW5jdGlvbihsaW5lKXtyZXR1cm5cXFwiICAgXFxcIitsaW5lfSkuam9pbihcXFwiXFxcXG5cXFwiKSkpOnN0cj1jdHguc3R5bGl6ZShcXFwiW0NpcmN1bGFyXVxcXCIsXFxcInNwZWNpYWxcXFwiKSksaXNVbmRlZmluZWQobmFtZSkpe2lmKGFycmF5JiZrZXkubWF0Y2goL15cXFxcZCskLykpcmV0dXJuIHN0cjtuYW1lPUpTT04uc3RyaW5naWZ5KFxcXCJcXFwiK2tleSksbmFtZS5tYXRjaCgvXlxcXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcXFwiJC8pPyhuYW1lPW5hbWUuc3Vic3RyKDEsbmFtZS5sZW5ndGgtMiksbmFtZT1jdHguc3R5bGl6ZShuYW1lLFxcXCJuYW1lXFxcIikpOihuYW1lPW5hbWUucmVwbGFjZSgvJy9nLFxcXCJcXFxcXFxcXCdcXFwiKS5yZXBsYWNlKC9cXFxcXFxcXFxcXCIvZywnXFxcIicpLnJlcGxhY2UoLyheXFxcInxcXFwiJCkvZyxcXFwiJ1xcXCIpLG5hbWU9Y3R4LnN0eWxpemUobmFtZSxcXFwic3RyaW5nXFxcIikpfXJldHVybiBuYW1lK1xcXCI6IFxcXCIrc3RyfWZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCxiYXNlLGJyYWNlcyl7dmFyIG51bUxpbmVzRXN0PTAsbGVuZ3RoPW91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldixjdXIpe3JldHVybiBudW1MaW5lc0VzdCsrLGN1ci5pbmRleE9mKFxcXCJcXFxcblxcXCIpPj0wJiZudW1MaW5lc0VzdCsrLHByZXYrY3VyLnJlcGxhY2UoL1xcXFx1MDAxYlxcXFxbXFxcXGRcXFxcZD9tL2csXFxcIlxcXCIpLmxlbmd0aCsxfSwwKTtyZXR1cm4gbGVuZ3RoPjYwP2JyYWNlc1swXSsoXFxcIlxcXCI9PT1iYXNlP1xcXCJcXFwiOmJhc2UrXFxcIlxcXFxuIFxcXCIpK1xcXCIgXFxcIitvdXRwdXQuam9pbihcXFwiLFxcXFxuICBcXFwiKStcXFwiIFxcXCIrYnJhY2VzWzFdOmJyYWNlc1swXStiYXNlK1xcXCIgXFxcIitvdXRwdXQuam9pbihcXFwiLCBcXFwiKStcXFwiIFxcXCIrYnJhY2VzWzFdfWZ1bmN0aW9uIGlzQXJyYXkoYXIpe3JldHVybiBBcnJheS5pc0FycmF5KGFyKX1mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKXtyZXR1cm5cXFwiYm9vbGVhblxcXCI9PXR5cGVvZiBhcmd9ZnVuY3Rpb24gaXNOdWxsKGFyZyl7cmV0dXJuIG51bGw9PT1hcmd9ZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKXtyZXR1cm4gbnVsbD09YXJnfWZ1bmN0aW9uIGlzTnVtYmVyKGFyZyl7cmV0dXJuXFxcIm51bWJlclxcXCI9PXR5cGVvZiBhcmd9ZnVuY3Rpb24gaXNTdHJpbmcoYXJnKXtyZXR1cm5cXFwic3RyaW5nXFxcIj09dHlwZW9mIGFyZ31mdW5jdGlvbiBpc1N5bWJvbChhcmcpe3JldHVyblxcXCJzeW1ib2xcXFwiPT10eXBlb2YgYXJnfWZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZyl7cmV0dXJuIHZvaWQgMD09PWFyZ31mdW5jdGlvbiBpc1JlZ0V4cChyZSl7cmV0dXJuIGlzT2JqZWN0KHJlKSYmXFxcIltvYmplY3QgUmVnRXhwXVxcXCI9PT1vYmplY3RUb1N0cmluZyhyZSl9ZnVuY3Rpb24gaXNPYmplY3QoYXJnKXtyZXR1cm5cXFwib2JqZWN0XFxcIj09dHlwZW9mIGFyZyYmbnVsbCE9PWFyZ31mdW5jdGlvbiBpc0RhdGUoZCl7cmV0dXJuIGlzT2JqZWN0KGQpJiZcXFwiW29iamVjdCBEYXRlXVxcXCI9PT1vYmplY3RUb1N0cmluZyhkKX1mdW5jdGlvbiBpc0Vycm9yKGUpe3JldHVybiBpc09iamVjdChlKSYmKFxcXCJbb2JqZWN0IEVycm9yXVxcXCI9PT1vYmplY3RUb1N0cmluZyhlKXx8ZSBpbnN0YW5jZW9mIEVycm9yKX1mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZyl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGFyZ31mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpe3JldHVybiBudWxsPT09YXJnfHxcXFwiYm9vbGVhblxcXCI9PXR5cGVvZiBhcmd8fFxcXCJudW1iZXJcXFwiPT10eXBlb2YgYXJnfHxcXFwic3RyaW5nXFxcIj09dHlwZW9mIGFyZ3x8XFxcInN5bWJvbFxcXCI9PXR5cGVvZiBhcmd8fGFyZz09PXZvaWQgMH1mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pfWZ1bmN0aW9uIHBhZChuKXtyZXR1cm4gMTA+bj9cXFwiMFxcXCIrbi50b1N0cmluZygxMCk6bi50b1N0cmluZygxMCl9ZnVuY3Rpb24gdGltZXN0YW1wKCl7dmFyIGQ9bmV3IERhdGUsdGltZT1bcGFkKGQuZ2V0SG91cnMoKSkscGFkKGQuZ2V0TWludXRlcygpKSxwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKFxcXCI6XFxcIik7cmV0dXJuW2QuZ2V0RGF0ZSgpLG1vbnRoc1tkLmdldE1vbnRoKCldLHRpbWVdLmpvaW4oXFxcIiBcXFwiKX1mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmoscHJvcCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmoscHJvcCl9dmFyIGZvcm1hdFJlZ0V4cD0vJVtzZGolXS9nO2V4cG9ydHMuZm9ybWF0PWZ1bmN0aW9uKGYpe2lmKCFpc1N0cmluZyhmKSl7Zm9yKHZhciBvYmplY3RzPVtdLGk9MDthcmd1bWVudHMubGVuZ3RoPmk7aSsrKW9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO3JldHVybiBvYmplY3RzLmpvaW4oXFxcIiBcXFwiKX1mb3IodmFyIGk9MSxhcmdzPWFyZ3VtZW50cyxsZW49YXJncy5sZW5ndGgsc3RyPShmK1xcXCJcXFwiKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCxmdW5jdGlvbih4KXtpZihcXFwiJSVcXFwiPT09eClyZXR1cm5cXFwiJVxcXCI7aWYoaT49bGVuKXJldHVybiB4O3N3aXRjaCh4KXtjYXNlXFxcIiVzXFxcIjpyZXR1cm4gYXJnc1tpKytdK1xcXCJcXFwiO2Nhc2VcXFwiJWRcXFwiOnJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtjYXNlXFxcIiVqXFxcIjp0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSl9Y2F0Y2goXyl7cmV0dXJuXFxcIltDaXJjdWxhcl1cXFwifWRlZmF1bHQ6cmV0dXJuIHh9fSkseD1hcmdzW2ldO2xlbj5pO3g9YXJnc1srK2ldKXN0cis9aXNOdWxsKHgpfHwhaXNPYmplY3QoeCk/XFxcIiBcXFwiK3g6XFxcIiBcXFwiK2luc3BlY3QoeCk7cmV0dXJuIHN0cn0sZXhwb3J0cy5kZXByZWNhdGU9ZnVuY3Rpb24oZm4sbXNnKXtmdW5jdGlvbiBkZXByZWNhdGVkKCl7aWYoIXdhcm5lZCl7aWYocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKXRocm93IEVycm9yKG1zZyk7cHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uP2NvbnNvbGUudHJhY2UobXNnKTpjb25zb2xlLmVycm9yKG1zZyksd2FybmVkPSEwfXJldHVybiBmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9aWYoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbixtc2cpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07aWYocHJvY2Vzcy5ub0RlcHJlY2F0aW9uPT09ITApcmV0dXJuIGZuO3ZhciB3YXJuZWQ9ITE7cmV0dXJuIGRlcHJlY2F0ZWR9O3ZhciBkZWJ1Z0Vudmlyb24sZGVidWdzPXt9O2V4cG9ydHMuZGVidWdsb2c9ZnVuY3Rpb24oc2V0KXtpZihpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pJiYoZGVidWdFbnZpcm9uPXByb2Nlc3MuZW52Lk5PREVfREVCVUd8fFxcXCJcXFwiKSxzZXQ9c2V0LnRvVXBwZXJDYXNlKCksIWRlYnVnc1tzZXRdKWlmKFJlZ0V4cChcXFwiXFxcXFxcXFxiXFxcIitzZXQrXFxcIlxcXFxcXFxcYlxcXCIsXFxcImlcXFwiKS50ZXN0KGRlYnVnRW52aXJvbikpe3ZhciBwaWQ9cHJvY2Vzcy5waWQ7ZGVidWdzW3NldF09ZnVuY3Rpb24oKXt2YXIgbXNnPWV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKTtjb25zb2xlLmVycm9yKFxcXCIlcyAlZDogJXNcXFwiLHNldCxwaWQsbXNnKX19ZWxzZSBkZWJ1Z3Nbc2V0XT1mdW5jdGlvbigpe307cmV0dXJuIGRlYnVnc1tzZXRdfSxleHBvcnRzLmluc3BlY3Q9aW5zcGVjdCxpbnNwZWN0LmNvbG9ycz17Ym9sZDpbMSwyMl0saXRhbGljOlszLDIzXSx1bmRlcmxpbmU6WzQsMjRdLGludmVyc2U6WzcsMjddLHdoaXRlOlszNywzOV0sZ3JleTpbOTAsMzldLGJsYWNrOlszMCwzOV0sYmx1ZTpbMzQsMzldLGN5YW46WzM2LDM5XSxncmVlbjpbMzIsMzldLG1hZ2VudGE6WzM1LDM5XSxyZWQ6WzMxLDM5XSx5ZWxsb3c6WzMzLDM5XX0saW5zcGVjdC5zdHlsZXM9e3NwZWNpYWw6XFxcImN5YW5cXFwiLG51bWJlcjpcXFwieWVsbG93XFxcIixcXFwiYm9vbGVhblxcXCI6XFxcInllbGxvd1xcXCIsdW5kZWZpbmVkOlxcXCJncmV5XFxcIixcXFwibnVsbFxcXCI6XFxcImJvbGRcXFwiLHN0cmluZzpcXFwiZ3JlZW5cXFwiLGRhdGU6XFxcIm1hZ2VudGFcXFwiLHJlZ2V4cDpcXFwicmVkXFxcIn0sZXhwb3J0cy5pc0FycmF5PWlzQXJyYXksZXhwb3J0cy5pc0Jvb2xlYW49aXNCb29sZWFuLGV4cG9ydHMuaXNOdWxsPWlzTnVsbCxleHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkPWlzTnVsbE9yVW5kZWZpbmVkLGV4cG9ydHMuaXNOdW1iZXI9aXNOdW1iZXIsZXhwb3J0cy5pc1N0cmluZz1pc1N0cmluZyxleHBvcnRzLmlzU3ltYm9sPWlzU3ltYm9sLGV4cG9ydHMuaXNVbmRlZmluZWQ9aXNVbmRlZmluZWQsZXhwb3J0cy5pc1JlZ0V4cD1pc1JlZ0V4cCxleHBvcnRzLmlzT2JqZWN0PWlzT2JqZWN0LGV4cG9ydHMuaXNEYXRlPWlzRGF0ZSxleHBvcnRzLmlzRXJyb3I9aXNFcnJvcixleHBvcnRzLmlzRnVuY3Rpb249aXNGdW5jdGlvbixleHBvcnRzLmlzUHJpbWl0aXZlPWlzUHJpbWl0aXZlLGV4cG9ydHMuaXNCdWZmZXI9X2RlcmVxXyhcXFwiLi9zdXBwb3J0L2lzQnVmZmVyXFxcIik7dmFyIG1vbnRocz1bXFxcIkphblxcXCIsXFxcIkZlYlxcXCIsXFxcIk1hclxcXCIsXFxcIkFwclxcXCIsXFxcIk1heVxcXCIsXFxcIkp1blxcXCIsXFxcIkp1bFxcXCIsXFxcIkF1Z1xcXCIsXFxcIlNlcFxcXCIsXFxcIk9jdFxcXCIsXFxcIk5vdlxcXCIsXFxcIkRlY1xcXCJdO2V4cG9ydHMubG9nPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXFxcIiVzIC0gJXNcXFwiLHRpbWVzdGFtcCgpLGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSl9LGV4cG9ydHMuaW5oZXJpdHM9X2RlcmVxXyhcXFwiaW5oZXJpdHNcXFwiKSxleHBvcnRzLl9leHRlbmQ9ZnVuY3Rpb24ob3JpZ2luLGFkZCl7aWYoIWFkZHx8IWlzT2JqZWN0KGFkZCkpcmV0dXJuIG9yaWdpbjtmb3IodmFyIGtleXM9T2JqZWN0LmtleXMoYWRkKSxpPWtleXMubGVuZ3RoO2ktLTspb3JpZ2luW2tleXNbaV1dPWFkZFtrZXlzW2ldXTtyZXR1cm4gb3JpZ2lufX0pLmNhbGwodGhpcyxfZGVyZXFfKFxcXCIvdXNyL2xvY2FsL2xpYi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvaW5zZXJ0LW1vZHVsZS1nbG9iYWxzL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcXFwiKSxcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHNlbGY/c2VsZjpcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XFxcIi4vc3VwcG9ydC9pc0J1ZmZlclxcXCI6MTQsXFxcIi91c3IvbG9jYWwvbGliL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1xcXCI6MTgsaW5oZXJpdHM6MTd9XSwxNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe2Z1bmN0aW9uIEV2ZW50RW1pdHRlcigpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZyl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGFyZ31mdW5jdGlvbiBpc051bWJlcihhcmcpe3JldHVyblxcXCJudW1iZXJcXFwiPT10eXBlb2YgYXJnfWZ1bmN0aW9uIGlzT2JqZWN0KGFyZyl7cmV0dXJuXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhcmcmJm51bGwhPT1hcmd9ZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKXtyZXR1cm4gdm9pZCAwPT09YXJnfW1vZHVsZS5leHBvcnRzPUV2ZW50RW1pdHRlcixFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcixFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24obil7aWYoIWlzTnVtYmVyKG4pfHwwPm58fGlzTmFOKG4pKXRocm93IFR5cGVFcnJvcihcXFwibiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXFxcIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1uLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0eXBlKXt2YXIgZXIsaGFuZGxlcixsZW4sYXJncyxpLGxpc3RlbmVycztpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLFxcXCJlcnJvclxcXCI9PT10eXBlJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8aXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSYmIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKXRocm93IGVyPWFyZ3VtZW50c1sxXSxlciBpbnN0YW5jZW9mIEVycm9yP2VyOlR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFxcXCJlcnJvclxcXCIgZXZlbnQuJyk7aWYoaGFuZGxlcj10aGlzLl9ldmVudHNbdHlwZV0saXNVbmRlZmluZWQoaGFuZGxlcikpcmV0dXJuITE7aWYoaXNGdW5jdGlvbihoYW5kbGVyKSlzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOmhhbmRsZXIuY2FsbCh0aGlzKTticmVhaztjYXNlIDI6aGFuZGxlci5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTticmVhaztjYXNlIDM6aGFuZGxlci5jYWxsKHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDpmb3IobGVuPWFyZ3VtZW50cy5sZW5ndGgsYXJncz1BcnJheShsZW4tMSksaT0xO2xlbj5pO2krKylhcmdzW2ktMV09YXJndW1lbnRzW2ldO2hhbmRsZXIuYXBwbHkodGhpcyxhcmdzKX1lbHNlIGlmKGlzT2JqZWN0KGhhbmRsZXIpKXtmb3IobGVuPWFyZ3VtZW50cy5sZW5ndGgsYXJncz1BcnJheShsZW4tMSksaT0xO2xlbj5pO2krKylhcmdzW2ktMV09YXJndW1lbnRzW2ldO2ZvcihsaXN0ZW5lcnM9aGFuZGxlci5zbGljZSgpLGxlbj1saXN0ZW5lcnMubGVuZ3RoLGk9MDtsZW4+aTtpKyspbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsYXJncyl9cmV0dXJuITB9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24odHlwZSxsaXN0ZW5lcil7dmFyIG07aWYoIWlzRnVuY3Rpb24obGlzdGVuZXIpKXRocm93IFR5cGVFcnJvcihcXFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXFxcIik7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSx0aGlzLl9ldmVudHMubmV3TGlzdGVuZXImJnRoaXMuZW1pdChcXFwibmV3TGlzdGVuZXJcXFwiLHR5cGUsaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcik/bGlzdGVuZXIubGlzdGVuZXI6bGlzdGVuZXIpLHRoaXMuX2V2ZW50c1t0eXBlXT9pc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pP3RoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTp0aGlzLl9ldmVudHNbdHlwZV09W3RoaXMuX2V2ZW50c1t0eXBlXSxsaXN0ZW5lcl06dGhpcy5fZXZlbnRzW3R5cGVdPWxpc3RlbmVyLGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkmJiF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKXt2YXIgbTttPWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycyk/RXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dGhpcy5fbWF4TGlzdGVuZXJzLG0mJm0+MCYmdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aD5tJiYodGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZD0hMCxjb25zb2xlLmVycm9yKFxcXCIobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LlxcXCIsdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCksY29uc29sZS50cmFjZSgpKX1yZXR1cm4gdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbj1FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyLEV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXtmdW5jdGlvbiBnKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLGcpLGZpcmVkfHwoZmlyZWQ9ITAsbGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1pZighaXNGdW5jdGlvbihsaXN0ZW5lcikpdGhyb3cgVHlwZUVycm9yKFxcXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cXFwiKTt2YXIgZmlyZWQ9ITE7cmV0dXJuIGcubGlzdGVuZXI9bGlzdGVuZXIsdGhpcy5vbih0eXBlLGcpLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odHlwZSxsaXN0ZW5lcil7dmFyIGxpc3QscG9zaXRpb24sbGVuZ3RoLGk7aWYoIWlzRnVuY3Rpb24obGlzdGVuZXIpKXRocm93IFR5cGVFcnJvcihcXFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXFxcIik7aWYoIXRoaXMuX2V2ZW50c3x8IXRoaXMuX2V2ZW50c1t0eXBlXSlyZXR1cm4gdGhpcztpZihsaXN0PXRoaXMuX2V2ZW50c1t0eXBlXSxsZW5ndGg9bGlzdC5sZW5ndGgscG9zaXRpb249LTEsbGlzdD09PWxpc3RlbmVyfHxpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpJiZsaXN0Lmxpc3RlbmVyPT09bGlzdGVuZXIpZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcXFwicmVtb3ZlTGlzdGVuZXJcXFwiLHR5cGUsbGlzdGVuZXIpO2Vsc2UgaWYoaXNPYmplY3QobGlzdCkpe2ZvcihpPWxlbmd0aDtpLS0+MDspaWYobGlzdFtpXT09PWxpc3RlbmVyfHxsaXN0W2ldLmxpc3RlbmVyJiZsaXN0W2ldLmxpc3RlbmVyPT09bGlzdGVuZXIpe3Bvc2l0aW9uPWk7YnJlYWt9aWYoMD5wb3NpdGlvbilyZXR1cm4gdGhpczsxPT09bGlzdC5sZW5ndGg/KGxpc3QubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXSk6bGlzdC5zcGxpY2UocG9zaXRpb24sMSksdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXFxcInJlbW92ZUxpc3RlbmVyXFxcIix0eXBlLGxpc3RlbmVyKX1yZXR1cm4gdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7dmFyIGtleSxsaXN0ZW5lcnM7aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpcztpZighdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLl9ldmVudHM9e306dGhpcy5fZXZlbnRzW3R5cGVdJiZkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2ZvcihrZXkgaW4gdGhpcy5fZXZlbnRzKVxcXCJyZW1vdmVMaXN0ZW5lclxcXCIhPT1rZXkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFxcXCJyZW1vdmVMaXN0ZW5lclxcXCIpLHRoaXMuX2V2ZW50cz17fSx0aGlzfWlmKGxpc3RlbmVycz10aGlzLl9ldmVudHNbdHlwZV0saXNGdW5jdGlvbihsaXN0ZW5lcnMpKXRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSxsaXN0ZW5lcnMpO2Vsc2UgZm9yKDtsaXN0ZW5lcnMubGVuZ3RoOyl0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGgtMV0pO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHR5cGUpe3ZhciByZXQ7cmV0dXJuIHJldD10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1t0eXBlXT9pc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSk/W3RoaXMuX2V2ZW50c1t0eXBlXV06dGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk6W119LEV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGVtaXR0ZXIsdHlwZSl7dmFyIHJldDtyZXR1cm4gcmV0PWVtaXR0ZXIuX2V2ZW50cyYmZW1pdHRlci5fZXZlbnRzW3R5cGVdP2lzRnVuY3Rpb24oZW1pdHRlci5fZXZlbnRzW3R5cGVdKT8xOmVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg6MH19LHt9XSwxNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGN0b3Isc3VwZXJDdG9yKXtjdG9yLnN1cGVyXz1zdXBlckN0b3IsY3Rvci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6Y3RvcixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX06ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe2N0b3Iuc3VwZXJfPXN1cGVyQ3Rvcjt2YXIgVGVtcEN0b3I9ZnVuY3Rpb24oKXt9O1RlbXBDdG9yLnByb3RvdHlwZT1zdXBlckN0b3IucHJvdG90eXBlLGN0b3IucHJvdG90eXBlPW5ldyBUZW1wQ3RvcixjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jdG9yfX0se31dLDE4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gbm9vcCgpe312YXIgcHJvY2Vzcz1tb2R1bGUuZXhwb3J0cz17fTtwcm9jZXNzLm5leHRUaWNrPWZ1bmN0aW9uKCl7dmFyIGNhblNldEltbWVkaWF0ZT1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnNldEltbWVkaWF0ZSxjYW5Qb3N0PVxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucG9zdE1lc3NhZ2UmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyO2lmKGNhblNldEltbWVkaWF0ZSlyZXR1cm4gZnVuY3Rpb24oZil7cmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoZil9O2lmKGNhblBvc3Qpe3ZhciBxdWV1ZT1bXTtyZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFxcIm1lc3NhZ2VcXFwiLGZ1bmN0aW9uKGV2KXt2YXIgc291cmNlPWV2LnNvdXJjZTtpZigoc291cmNlPT09d2luZG93fHxudWxsPT09c291cmNlKSYmXFxcInByb2Nlc3MtdGlja1xcXCI9PT1ldi5kYXRhJiYoZXYuc3RvcFByb3BhZ2F0aW9uKCkscXVldWUubGVuZ3RoPjApKXt2YXIgZm49cXVldWUuc2hpZnQoKTtmbigpfX0sITApLGZ1bmN0aW9uKGZuKXtxdWV1ZS5wdXNoKGZuKSx3aW5kb3cucG9zdE1lc3NhZ2UoXFxcInByb2Nlc3MtdGlja1xcXCIsXFxcIipcXFwiKX19cmV0dXJuIGZ1bmN0aW9uKGZuKXtzZXRUaW1lb3V0KGZuLDApfX0oKSxwcm9jZXNzLnRpdGxlPVxcXCJicm93c2VyXFxcIixwcm9jZXNzLmJyb3dzZXI9ITAscHJvY2Vzcy5lbnY9e30scHJvY2Vzcy5hcmd2PVtdLHByb2Nlc3Mub249bm9vcCxwcm9jZXNzLm9uY2U9bm9vcCxwcm9jZXNzLm9mZj1ub29wLHByb2Nlc3MuZW1pdD1ub29wLHByb2Nlc3MuYmluZGluZz1mdW5jdGlvbigpe3Rocm93IEVycm9yKFxcXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFxcXCIpfSxwcm9jZXNzLmN3ZD1mdW5jdGlvbigpe3JldHVyblxcXCIvXFxcIn0scHJvY2Vzcy5jaGRpcj1mdW5jdGlvbigpe3Rocm93IEVycm9yKFxcXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcXFwiKX19LHt9XSwxOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPV9kZXJlcV8oMTQpfSx7fV0sMjA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXttb2R1bGUuZXhwb3J0cz1fZGVyZXFfKDE1KX0se1xcXCIuL3N1cHBvcnQvaXNCdWZmZXJcXFwiOjE5LFxcXCIvdXNyL2xvY2FsL2xpYi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvaW5zZXJ0LW1vZHVsZS1nbG9iYWxzL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcXFwiOjE4LGluaGVyaXRzOjE3fV19LHt9LFs5XSkoOSl9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9odG1sX3dvcmtlclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL2xpYi9sYW5nXFxcIixcXFwiYWNlL3dvcmtlci9taXJyb3JcXFwiLFxcXCJhY2UvbW9kZS9odG1sL3NheHBhcnNlclxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgb29wPWFjZXF1aXJlKFxcXCIuLi9saWIvb29wXFxcIik7YWNlcXVpcmUoXFxcIi4uL2xpYi9sYW5nXFxcIik7dmFyIE1pcnJvcj1hY2VxdWlyZShcXFwiLi4vd29ya2VyL21pcnJvclxcXCIpLk1pcnJvcixTQVhQYXJzZXI9YWNlcXVpcmUoXFxcIi4vaHRtbC9zYXhwYXJzZXJcXFwiKS5TQVhQYXJzZXIsZXJyb3JUeXBlcz17XFxcImV4cGVjdGVkLWRvY3R5cGUtYnV0LWdvdC1zdGFydC10YWdcXFwiOlxcXCJpbmZvXFxcIixcXFwiZXhwZWN0ZWQtZG9jdHlwZS1idXQtZ290LWNoYXJzXFxcIjpcXFwiaW5mb1xcXCIsXFxcIm5vbi1odG1sLXJvb3RcXFwiOlxcXCJpbmZvXFxcIn0sV29ya2VyPWV4cG9ydHMuV29ya2VyPWZ1bmN0aW9uKHNlbmRlcil7TWlycm9yLmNhbGwodGhpcyxzZW5kZXIpLHRoaXMuc2V0VGltZW91dCg0MDApLHRoaXMuY29udGV4dD1udWxsfTtvb3AuaW5oZXJpdHMoV29ya2VyLE1pcnJvciksZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnM9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5jb250ZXh0PW9wdGlvbnMuY29udGV4dH0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe3ZhciB2YWx1ZT10aGlzLmRvYy5nZXRWYWx1ZSgpO2lmKHZhbHVlKXt2YXIgcGFyc2VyPW5ldyBTQVhQYXJzZXIsZXJyb3JzPVtdLG5vb3A9ZnVuY3Rpb24oKXt9O3BhcnNlci5jb250ZW50SGFuZGxlcj17c3RhcnREb2N1bWVudDpub29wLGVuZERvY3VtZW50Om5vb3Asc3RhcnRFbGVtZW50Om5vb3AsZW5kRWxlbWVudDpub29wLGNoYXJhY3RlcnM6bm9vcH0scGFyc2VyLmVycm9ySGFuZGxlcj17ZXJyb3I6ZnVuY3Rpb24obWVzc2FnZSxsb2NhdGlvbixjb2RlKXtlcnJvcnMucHVzaCh7cm93OmxvY2F0aW9uLmxpbmUsY29sdW1uOmxvY2F0aW9uLmNvbHVtbix0ZXh0Om1lc3NhZ2UsdHlwZTplcnJvclR5cGVzW2NvZGVdfHxcXFwiZXJyb3JcXFwifSl9fSx0aGlzLmNvbnRleHQ/cGFyc2VyLnBhcnNlRnJhZ21lbnQodmFsdWUsdGhpcy5jb250ZXh0KTpwYXJzZXIucGFyc2UodmFsdWUpLHRoaXMuc2VuZGVyLmVtaXQoXFxcImVycm9yXFxcIixlcnJvcnMpfX19LmNhbGwoV29ya2VyLnByb3RvdHlwZSl9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbGliL2VzNS1zaGltXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oKXtmdW5jdGlvbiBFbXB0eSgpe31mdW5jdGlvbiBkb2VzRGVmaW5lUHJvcGVydHlXb3JrKG9iamVjdCl7dHJ5e3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LFxcXCJzZW50aW5lbFxcXCIse30pLFxcXCJzZW50aW5lbFxcXCJpbiBvYmplY3R9Y2F0Y2goZXhjZXB0aW9uKXt9fWZ1bmN0aW9uIHRvSW50ZWdlcihuKXtyZXR1cm4gbj0rbixuIT09bj9uPTA6MCE9PW4mJm4hPT0xLzAmJm4hPT0tKDEvMCkmJihuPShuPjB8fC0xKSpNYXRoLmZsb29yKE1hdGguYWJzKG4pKSksbn1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHRoYXQpe3ZhciB0YXJnZXQ9dGhpcztpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgdGFyZ2V0KXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgXFxcIit0YXJnZXQpO3ZhciBhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGJvdW5kPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIGJvdW5kKXt2YXIgcmVzdWx0PXRhcmdldC5hcHBseSh0aGlzLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QocmVzdWx0KT09PXJlc3VsdD9yZXN1bHQ6dGhpc31yZXR1cm4gdGFyZ2V0LmFwcGx5KHRoYXQsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiB0YXJnZXQucHJvdG90eXBlJiYoRW1wdHkucHJvdG90eXBlPXRhcmdldC5wcm90b3R5cGUsYm91bmQucHJvdG90eXBlPW5ldyBFbXB0eSxFbXB0eS5wcm90b3R5cGU9bnVsbCksYm91bmR9KTt2YXIgZGVmaW5lR2V0dGVyLGRlZmluZVNldHRlcixsb29rdXBHZXR0ZXIsbG9va3VwU2V0dGVyLHN1cHBvcnRzQWNjZXNzb3JzLGNhbGw9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwscHJvdG90eXBlT2ZBcnJheT1BcnJheS5wcm90b3R5cGUscHJvdG90eXBlT2ZPYmplY3Q9T2JqZWN0LnByb3RvdHlwZSxzbGljZT1wcm90b3R5cGVPZkFycmF5LnNsaWNlLF90b1N0cmluZz1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QudG9TdHJpbmcpLG93bnM9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Lmhhc093blByb3BlcnR5KTtpZigoc3VwcG9ydHNBY2Nlc3NvcnM9b3ducyhwcm90b3R5cGVPZk9iamVjdCxcXFwiX19kZWZpbmVHZXR0ZXJfX1xcXCIpKSYmKGRlZmluZUdldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVHZXR0ZXJfXyksZGVmaW5lU2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZVNldHRlcl9fKSxsb29rdXBHZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fbG9va3VwR2V0dGVyX18pLGxvb2t1cFNldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBTZXR0ZXJfXykpLDIhPVsxLDJdLnNwbGljZSgwKS5sZW5ndGgpaWYoZnVuY3Rpb24oKXtmdW5jdGlvbiBtYWtlQXJyYXkobCl7dmFyIGE9QXJyYXkobCsyKTtyZXR1cm4gYVswXT1hWzFdPTAsYX12YXIgbGVuZ3RoQmVmb3JlLGFycmF5PVtdO3JldHVybiBhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksbWFrZUFycmF5KDIwKSksYXJyYXkuc3BsaWNlLmFwcGx5KGFycmF5LG1ha2VBcnJheSgyNikpLGxlbmd0aEJlZm9yZT1hcnJheS5sZW5ndGgsYXJyYXkuc3BsaWNlKDUsMCxcXFwiWFhYXFxcIiksbGVuZ3RoQmVmb3JlKzE9PWFycmF5Lmxlbmd0aCxsZW5ndGhCZWZvcmUrMT09YXJyYXkubGVuZ3RoPyEwOnZvaWQgMH0oKSl7dmFyIGFycmF5X3NwbGljZT1BcnJheS5wcm90b3R5cGUuc3BsaWNlO0FycmF5LnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24oc3RhcnQsZGVsZXRlQ291bnQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2FycmF5X3NwbGljZS5hcHBseSh0aGlzLFt2b2lkIDA9PT1zdGFydD8wOnN0YXJ0LHZvaWQgMD09PWRlbGV0ZUNvdW50P3RoaXMubGVuZ3RoLXN0YXJ0OmRlbGV0ZUNvdW50XS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsMikpKTpbXX19ZWxzZSBBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKHBvcyxyZW1vdmVDb3VudCl7dmFyIGxlbmd0aD10aGlzLmxlbmd0aDtwb3M+MD9wb3M+bGVuZ3RoJiYocG9zPWxlbmd0aCk6dm9pZCAwPT1wb3M/cG9zPTA6MD5wb3MmJihwb3M9TWF0aC5tYXgobGVuZ3RoK3BvcywwKSksbGVuZ3RoPnBvcytyZW1vdmVDb3VudHx8KHJlbW92ZUNvdW50PWxlbmd0aC1wb3MpO3ZhciByZW1vdmVkPXRoaXMuc2xpY2UocG9zLHBvcytyZW1vdmVDb3VudCksaW5zZXJ0PXNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGFkZD1pbnNlcnQubGVuZ3RoO2lmKHBvcz09PWxlbmd0aClhZGQmJnRoaXMucHVzaC5hcHBseSh0aGlzLGluc2VydCk7ZWxzZXt2YXIgcmVtb3ZlPU1hdGgubWluKHJlbW92ZUNvdW50LGxlbmd0aC1wb3MpLHRhaWxPbGRQb3M9cG9zK3JlbW92ZSx0YWlsTmV3UG9zPXRhaWxPbGRQb3MrYWRkLXJlbW92ZSx0YWlsQ291bnQ9bGVuZ3RoLXRhaWxPbGRQb3MsbGVuZ3RoQWZ0ZXJSZW1vdmU9bGVuZ3RoLXJlbW92ZTtpZih0YWlsT2xkUG9zPnRhaWxOZXdQb3MpZm9yKHZhciBpPTA7dGFpbENvdW50Pmk7KytpKXRoaXNbdGFpbE5ld1BvcytpXT10aGlzW3RhaWxPbGRQb3MraV07ZWxzZSBpZih0YWlsTmV3UG9zPnRhaWxPbGRQb3MpZm9yKGk9dGFpbENvdW50O2ktLTspdGhpc1t0YWlsTmV3UG9zK2ldPXRoaXNbdGFpbE9sZFBvcytpXTtpZihhZGQmJnBvcz09PWxlbmd0aEFmdGVyUmVtb3ZlKXRoaXMubGVuZ3RoPWxlbmd0aEFmdGVyUmVtb3ZlLHRoaXMucHVzaC5hcHBseSh0aGlzLGluc2VydCk7ZWxzZSBmb3IodGhpcy5sZW5ndGg9bGVuZ3RoQWZ0ZXJSZW1vdmUrYWRkLGk9MDthZGQ+aTsrK2kpdGhpc1twb3MraV09aW5zZXJ0W2ldfXJldHVybiByZW1vdmVkfTtBcnJheS5pc0FycmF5fHwoQXJyYXkuaXNBcnJheT1mdW5jdGlvbihvYmope3JldHVyblxcXCJbb2JqZWN0IEFycmF5XVxcXCI9PV90b1N0cmluZyhvYmopfSk7dmFyIGJveGVkU3RyaW5nPU9iamVjdChcXFwiYVxcXCIpLHNwbGl0U3RyaW5nPVxcXCJhXFxcIiE9Ym94ZWRTdHJpbmdbMF18fCEoMCBpbiBib3hlZFN0cmluZyk7aWYoQXJyYXkucHJvdG90eXBlLmZvckVhY2h8fChBcnJheS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsdGhpc3A9YXJndW1lbnRzWzFdLGk9LTEsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcig7bGVuZ3RoPisraTspaSBpbiBzZWxmJiZmdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KX0pLEFycmF5LnByb3RvdHlwZS5tYXB8fChBcnJheS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHJlc3VsdD1BcnJheShsZW5ndGgpLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHJlc3VsdFtpXT1mdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5maWx0ZXJ8fChBcnJheS5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKGZ1bil7dmFyIHZhbHVlLG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHJlc3VsdD1bXSx0aGlzcD1hcmd1bWVudHNbMV07aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJih2YWx1ZT1zZWxmW2ldLGZ1bi5jYWxsKHRoaXNwLHZhbHVlLGksb2JqZWN0KSYmcmVzdWx0LnB1c2godmFsdWUpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmV2ZXJ5fHwoQXJyYXkucHJvdG90eXBlLmV2ZXJ5PWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmIWZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKXJldHVybiExO3JldHVybiEwfSksQXJyYXkucHJvdG90eXBlLnNvbWV8fChBcnJheS5wcm90b3R5cGUuc29tZT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCx0aGlzcD1hcmd1bWVudHNbMV07aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpZihpIGluIHNlbGYmJmZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKXJldHVybiEwO3JldHVybiExfSksQXJyYXkucHJvdG90eXBlLnJlZHVjZXx8KEFycmF5LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2lmKCFsZW5ndGgmJjE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpO3ZhciByZXN1bHQsaT0wO2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpcmVzdWx0PWFyZ3VtZW50c1sxXTtlbHNlIGZvcig7Oyl7aWYoaSBpbiBzZWxmKXtyZXN1bHQ9c2VsZltpKytdO2JyZWFrfWlmKCsraT49bGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKX1mb3IoO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJihyZXN1bHQ9ZnVuLmNhbGwodm9pZCAwLHJlc3VsdCxzZWxmW2ldLGksb2JqZWN0KSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodHx8KEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7aWYoIWxlbmd0aCYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKTt2YXIgcmVzdWx0LGk9bGVuZ3RoLTE7aWYoYXJndW1lbnRzLmxlbmd0aD49MilyZXN1bHQ9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihpIGluIHNlbGYpe3Jlc3VsdD1zZWxmW2ktLV07YnJlYWt9aWYoMD4tLWkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIil9ZG8gaSBpbiB0aGlzJiYocmVzdWx0PWZ1bi5jYWxsKHZvaWQgMCxyZXN1bHQsc2VsZltpXSxpLG9iamVjdCkpO3doaWxlKGktLSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mJiYtMT09WzAsMV0uaW5kZXhPZigxLDIpfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oc291Z2h0KXt2YXIgc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTp0b09iamVjdCh0aGlzKSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCFsZW5ndGgpcmV0dXJuLTE7dmFyIGk9MDtmb3IoYXJndW1lbnRzLmxlbmd0aD4xJiYoaT10b0ludGVnZXIoYXJndW1lbnRzWzFdKSksaT1pPj0wP2k6TWF0aC5tYXgoMCxsZW5ndGgraSk7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmc2VsZltpXT09PXNvdWdodClyZXR1cm4gaTtyZXR1cm4tMX0pLEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiYmLTE9PVswLDFdLmxhc3RJbmRleE9mKDAsLTMpfHwoQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHNvdWdodCl7dmFyIHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6dG9PYmplY3QodGhpcyksbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZighbGVuZ3RoKXJldHVybi0xO3ZhciBpPWxlbmd0aC0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPU1hdGgubWluKGksdG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpKSxpPWk+PTA/aTpsZW5ndGgtTWF0aC5hYnMoaSk7aT49MDtpLS0paWYoaSBpbiBzZWxmJiZzb3VnaHQ9PT1zZWxmW2ldKXJldHVybiBpO3JldHVybi0xfSksT2JqZWN0LmdldFByb3RvdHlwZU9mfHwoT2JqZWN0LmdldFByb3RvdHlwZU9mPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdC5fX3Byb3RvX198fChvYmplY3QuY29uc3RydWN0b3I/b2JqZWN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZTpwcm90b3R5cGVPZk9iamVjdCl9KSwhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcil7dmFyIEVSUl9OT05fT0JKRUNUPVxcXCJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGNhbGxlZCBvbiBhIG5vbi1vYmplY3Q6IFxcXCI7T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcj1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqZWN0JiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2Ygb2JqZWN0fHxudWxsPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1Qrb2JqZWN0KTtpZihvd25zKG9iamVjdCxwcm9wZXJ0eSkpe3ZhciBkZXNjcmlwdG9yLGdldHRlcixzZXR0ZXI7aWYoZGVzY3JpcHRvcj17ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9LHN1cHBvcnRzQWNjZXNzb3JzKXt2YXIgcHJvdG90eXBlPW9iamVjdC5fX3Byb3RvX187b2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGVPZk9iamVjdDt2YXIgZ2V0dGVyPWxvb2t1cEdldHRlcihvYmplY3QscHJvcGVydHkpLHNldHRlcj1sb29rdXBTZXR0ZXIob2JqZWN0LHByb3BlcnR5KTtpZihvYmplY3QuX19wcm90b19fPXByb3RvdHlwZSxnZXR0ZXJ8fHNldHRlcilyZXR1cm4gZ2V0dGVyJiYoZGVzY3JpcHRvci5nZXQ9Z2V0dGVyKSxzZXR0ZXImJihkZXNjcmlwdG9yLnNldD1zZXR0ZXIpLGRlc2NyaXB0b3J9cmV0dXJuIGRlc2NyaXB0b3IudmFsdWU9b2JqZWN0W3Byb3BlcnR5XSxkZXNjcmlwdG9yfX19aWYoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBPYmplY3Qua2V5cyhvYmplY3QpfSksIU9iamVjdC5jcmVhdGUpe3ZhciBjcmVhdGVFbXB0eTtjcmVhdGVFbXB0eT1udWxsPT09T2JqZWN0LnByb3RvdHlwZS5fX3Byb3RvX18/ZnVuY3Rpb24oKXtyZXR1cm57X19wcm90b19fOm51bGx9fTpmdW5jdGlvbigpe3ZhciBlbXB0eT17fTtmb3IodmFyIGkgaW4gZW1wdHkpZW1wdHlbaV09bnVsbDtyZXR1cm4gZW1wdHkuY29uc3RydWN0b3I9ZW1wdHkuaGFzT3duUHJvcGVydHk9ZW1wdHkucHJvcGVydHlJc0VudW1lcmFibGU9ZW1wdHkuaXNQcm90b3R5cGVPZj1lbXB0eS50b0xvY2FsZVN0cmluZz1lbXB0eS50b1N0cmluZz1lbXB0eS52YWx1ZU9mPWVtcHR5Ll9fcHJvdG9fXz1udWxsLGVtcHR5fSxPYmplY3QuY3JlYXRlPWZ1bmN0aW9uKHByb3RvdHlwZSxwcm9wZXJ0aWVzKXt2YXIgb2JqZWN0O2lmKG51bGw9PT1wcm90b3R5cGUpb2JqZWN0PWNyZWF0ZUVtcHR5KCk7ZWxzZXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIHByb3RvdHlwZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJ0eXBlb2YgcHJvdG90eXBlW1xcXCIrdHlwZW9mIHByb3RvdHlwZStcXFwiXSAhPSAnb2JqZWN0J1xcXCIpO3ZhciBUeXBlPWZ1bmN0aW9uKCl7fTtUeXBlLnByb3RvdHlwZT1wcm90b3R5cGUsb2JqZWN0PW5ldyBUeXBlLG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlfXJldHVybiB2b2lkIDAhPT1wcm9wZXJ0aWVzJiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmplY3QscHJvcGVydGllcyksb2JqZWN0fX1pZihPYmplY3QuZGVmaW5lUHJvcGVydHkpe3ZhciBkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3Q9ZG9lc0RlZmluZVByb3BlcnR5V29yayh7fSksZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tPVxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZG9jdW1lbnR8fGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiZGl2XFxcIikpO2lmKCFkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3R8fCFkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb20pdmFyIGRlZmluZVByb3BlcnR5RmFsbGJhY2s9T2JqZWN0LmRlZmluZVByb3BlcnR5fWlmKCFPYmplY3QuZGVmaW5lUHJvcGVydHl8fGRlZmluZVByb3BlcnR5RmFsbGJhY2spe3ZhciBFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SPVxcXCJQcm9wZXJ0eSBkZXNjcmlwdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogXFxcIixFUlJfTk9OX09CSkVDVF9UQVJHRVQ9XFxcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxsZWQgb24gbm9uLW9iamVjdDogXFxcIixFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQ9XFxcImdldHRlcnMgJiBzZXR0ZXJzIGNhbiBub3QgYmUgZGVmaW5lZCBvbiB0aGlzIGphdmFzY3JpcHQgZW5naW5lXFxcIjtPYmplY3QuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3Ipe2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqZWN0JiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2Ygb2JqZWN0fHxudWxsPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1RfVEFSR0VUK29iamVjdCk7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBkZXNjcmlwdG9yJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZGVzY3JpcHRvcnx8bnVsbD09PWRlc2NyaXB0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SK2Rlc2NyaXB0b3IpO2lmKGRlZmluZVByb3BlcnR5RmFsbGJhY2spdHJ5e3JldHVybiBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrLmNhbGwoT2JqZWN0LG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yKX1jYXRjaChleGNlcHRpb24pe31pZihvd25zKGRlc2NyaXB0b3IsXFxcInZhbHVlXFxcIikpaWYoc3VwcG9ydHNBY2Nlc3NvcnMmJihsb29rdXBHZXR0ZXIob2JqZWN0LHByb3BlcnR5KXx8bG9va3VwU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSkpKXt2YXIgcHJvdG90eXBlPW9iamVjdC5fX3Byb3RvX187b2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGVPZk9iamVjdCxkZWxldGUgb2JqZWN0W3Byb3BlcnR5XSxvYmplY3RbcHJvcGVydHldPWRlc2NyaXB0b3IudmFsdWUsb2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGV9ZWxzZSBvYmplY3RbcHJvcGVydHldPWRlc2NyaXB0b3IudmFsdWU7ZWxzZXtpZighc3VwcG9ydHNBY2Nlc3NvcnMpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQpO293bnMoZGVzY3JpcHRvcixcXFwiZ2V0XFxcIikmJmRlZmluZUdldHRlcihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvci5nZXQpLG93bnMoZGVzY3JpcHRvcixcXFwic2V0XFxcIikmJmRlZmluZVNldHRlcihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvci5zZXQpfXJldHVybiBvYmplY3R9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzfHwoT2JqZWN0LmRlZmluZVByb3BlcnRpZXM9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnRpZXMpe2Zvcih2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcylvd25zKHByb3BlcnRpZXMscHJvcGVydHkpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LHByb3BlcnR5LHByb3BlcnRpZXNbcHJvcGVydHldKTtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LnNlYWx8fChPYmplY3Quc2VhbD1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KSxPYmplY3QuZnJlZXplfHwoT2JqZWN0LmZyZWV6ZT1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3RcXG59KTt0cnl7T2JqZWN0LmZyZWV6ZShmdW5jdGlvbigpe30pfWNhdGNoKGV4Y2VwdGlvbil7T2JqZWN0LmZyZWV6ZT1mdW5jdGlvbihmcmVlemVPYmplY3Qpe3JldHVybiBmdW5jdGlvbihvYmplY3Qpe3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBvYmplY3Q/b2JqZWN0OmZyZWV6ZU9iamVjdChvYmplY3QpfX0oT2JqZWN0LmZyZWV6ZSl9aWYoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zfHwoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5pc1NlYWxlZHx8KE9iamVjdC5pc1NlYWxlZD1mdW5jdGlvbigpe3JldHVybiExfSksT2JqZWN0LmlzRnJvemVufHwoT2JqZWN0LmlzRnJvemVuPWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxPYmplY3QuaXNFeHRlbnNpYmxlfHwoT2JqZWN0LmlzRXh0ZW5zaWJsZT1mdW5jdGlvbihvYmplY3Qpe2lmKE9iamVjdChvYmplY3QpPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKHZhciBuYW1lPVxcXCJcXFwiO293bnMob2JqZWN0LG5hbWUpOyluYW1lKz1cXFwiP1xcXCI7b2JqZWN0W25hbWVdPSEwO3ZhciByZXR1cm5WYWx1ZT1vd25zKG9iamVjdCxuYW1lKTtyZXR1cm4gZGVsZXRlIG9iamVjdFtuYW1lXSxyZXR1cm5WYWx1ZX0pLCFPYmplY3Qua2V5cyl7dmFyIGhhc0RvbnRFbnVtQnVnPSEwLGRvbnRFbnVtcz1bXFxcInRvU3RyaW5nXFxcIixcXFwidG9Mb2NhbGVTdHJpbmdcXFwiLFxcXCJ2YWx1ZU9mXFxcIixcXFwiaGFzT3duUHJvcGVydHlcXFwiLFxcXCJpc1Byb3RvdHlwZU9mXFxcIixcXFwicHJvcGVydHlJc0VudW1lcmFibGVcXFwiLFxcXCJjb25zdHJ1Y3RvclxcXCJdLGRvbnRFbnVtc0xlbmd0aD1kb250RW51bXMubGVuZ3RoO2Zvcih2YXIga2V5IGlue3RvU3RyaW5nOm51bGx9KWhhc0RvbnRFbnVtQnVnPSExO09iamVjdC5rZXlzPWZ1bmN0aW9uKG9iamVjdCl7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdFxcXCIpO3ZhciBrZXlzPVtdO2Zvcih2YXIgbmFtZSBpbiBvYmplY3Qpb3ducyhvYmplY3QsbmFtZSkmJmtleXMucHVzaChuYW1lKTtpZihoYXNEb250RW51bUJ1Zylmb3IodmFyIGk9MCxpaT1kb250RW51bXNMZW5ndGg7aWk+aTtpKyspe3ZhciBkb250RW51bT1kb250RW51bXNbaV07b3ducyhvYmplY3QsZG9udEVudW0pJiZrZXlzLnB1c2goZG9udEVudW0pfXJldHVybiBrZXlzfX1EYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt2YXIgd3M9XFxcIlxcdFxcXFxuXFx1MDAwYlxcXFxmXFxcXHIgwqDhmoDhoI7igIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXFxcdTIwMjhcXFxcdTIwMjnvu79cXFwiO2lmKCFTdHJpbmcucHJvdG90eXBlLnRyaW18fHdzLnRyaW0oKSl7d3M9XFxcIltcXFwiK3dzK1xcXCJdXFxcIjt2YXIgdHJpbUJlZ2luUmVnZXhwPVJlZ0V4cChcXFwiXlxcXCIrd3Mrd3MrXFxcIipcXFwiKSx0cmltRW5kUmVnZXhwPVJlZ0V4cCh3cyt3cytcXFwiKiRcXFwiKTtTdHJpbmcucHJvdG90eXBlLnRyaW09ZnVuY3Rpb24oKXtyZXR1cm4odGhpcytcXFwiXFxcIikucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsXFxcIlxcXCIpLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCxcXFwiXFxcIil9fXZhciB0b09iamVjdD1mdW5jdGlvbihvKXtpZihudWxsPT1vKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcImNhbid0IGNvbnZlcnQgXFxcIitvK1xcXCIgdG8gb2JqZWN0XFxcIik7cmV0dXJuIE9iamVjdChvKX19KTtcIjtcbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwicEJHdkFwXCIpLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvLi4vbm9kZV9tb2R1bGVzL2JyYWNlL3dvcmtlci9odG1sLmpzXCIsXCIvLi4vbm9kZV9tb2R1bGVzL2JyYWNlL3dvcmtlclwiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbm1vZHVsZS5leHBvcnRzLmlkID0gJ2FjZS9tb2RlL2phdmFzY3JpcHRfd29ya2VyJztcbm1vZHVsZS5leHBvcnRzLnNyYyA9IFwiXFxcIm5vIHVzZSBzdHJpY3RcXFwiOyhmdW5jdGlvbih3aW5kb3cpe2Z1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCxwYXRocyl7Zm9yKHZhciB0ZXN0UGF0aD1pZCx0YWlsPVxcXCJcXFwiO3Rlc3RQYXRoOyl7dmFyIGFsaWFzPXBhdGhzW3Rlc3RQYXRoXTtpZihcXFwic3RyaW5nXFxcIj09dHlwZW9mIGFsaWFzKXJldHVybiBhbGlhcyt0YWlsO2lmKGFsaWFzKXJldHVybiBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cXFxcLyokLyxcXFwiL1xcXCIpKyh0YWlsfHxhbGlhcy5tYWlufHxhbGlhcy5uYW1lKTtpZihhbGlhcz09PSExKXJldHVyblxcXCJcXFwiO3ZhciBpPXRlc3RQYXRoLmxhc3RJbmRleE9mKFxcXCIvXFxcIik7aWYoLTE9PT1pKWJyZWFrO3RhaWw9dGVzdFBhdGguc3Vic3RyKGkpK3RhaWwsdGVzdFBhdGg9dGVzdFBhdGguc2xpY2UoMCxpKX1yZXR1cm4gaWR9aWYoISh2b2lkIDAhPT13aW5kb3cud2luZG93JiZ3aW5kb3cuZG9jdW1lbnR8fHdpbmRvdy5hY2VxdWlyZSYmd2luZG93LmRlZmluZSkpe3dpbmRvdy5jb25zb2xlfHwod2luZG93LmNvbnNvbGU9ZnVuY3Rpb24oKXt2YXIgbXNncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cG9zdE1lc3NhZ2Uoe3R5cGU6XFxcImxvZ1xcXCIsZGF0YTptc2dzfSl9LHdpbmRvdy5jb25zb2xlLmVycm9yPXdpbmRvdy5jb25zb2xlLndhcm49d2luZG93LmNvbnNvbGUubG9nPXdpbmRvdy5jb25zb2xlLnRyYWNlPXdpbmRvdy5jb25zb2xlKSx3aW5kb3cud2luZG93PXdpbmRvdyx3aW5kb3cuYWNlPXdpbmRvdyx3aW5kb3cub25lcnJvcj1mdW5jdGlvbihtZXNzYWdlLGZpbGUsbGluZSxjb2wsZXJyKXtwb3N0TWVzc2FnZSh7dHlwZTpcXFwiZXJyb3JcXFwiLGRhdGE6e21lc3NhZ2U6bWVzc2FnZSxkYXRhOmVyci5kYXRhLGZpbGU6ZmlsZSxsaW5lOmxpbmUsY29sOmNvbCxzdGFjazplcnIuc3RhY2t9fSl9LHdpbmRvdy5ub3JtYWxpemVNb2R1bGU9ZnVuY3Rpb24ocGFyZW50SWQsbW9kdWxlTmFtZSl7aWYoLTEhPT1tb2R1bGVOYW1lLmluZGV4T2YoXFxcIiFcXFwiKSl7dmFyIGNodW5rcz1tb2R1bGVOYW1lLnNwbGl0KFxcXCIhXFxcIik7cmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsY2h1bmtzWzBdKStcXFwiIVxcXCIrd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCxjaHVua3NbMV0pfWlmKFxcXCIuXFxcIj09bW9kdWxlTmFtZS5jaGFyQXQoMCkpe3ZhciBiYXNlPXBhcmVudElkLnNwbGl0KFxcXCIvXFxcIikuc2xpY2UoMCwtMSkuam9pbihcXFwiL1xcXCIpO2Zvcihtb2R1bGVOYW1lPShiYXNlP2Jhc2UrXFxcIi9cXFwiOlxcXCJcXFwiKSttb2R1bGVOYW1lOy0xIT09bW9kdWxlTmFtZS5pbmRleE9mKFxcXCIuXFxcIikmJnByZXZpb3VzIT1tb2R1bGVOYW1lOyl7dmFyIHByZXZpb3VzPW1vZHVsZU5hbWU7bW9kdWxlTmFtZT1tb2R1bGVOYW1lLnJlcGxhY2UoL15cXFxcLlxcXFwvLyxcXFwiXFxcIikucmVwbGFjZSgvXFxcXC9cXFxcLlxcXFwvLyxcXFwiL1xcXCIpLnJlcGxhY2UoL1teXFxcXC9dK1xcXFwvXFxcXC5cXFxcLlxcXFwvLyxcXFwiXFxcIil9fXJldHVybiBtb2R1bGVOYW1lfSx3aW5kb3cuYWNlcXVpcmU9ZnVuY3Rpb24gYWNlcXVpcmUocGFyZW50SWQsaWQpe2lmKGlkfHwoaWQ9cGFyZW50SWQscGFyZW50SWQ9bnVsbCksIWlkLmNoYXJBdCl0aHJvdyBFcnJvcihcXFwid29ya2VyLmpzIGFjZXF1aXJlKCkgYWNjZXB0cyBvbmx5IChwYXJlbnRJZCwgaWQpIGFzIGFyZ3VtZW50c1xcXCIpO2lkPXdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsaWQpO3ZhciBtb2R1bGU9d2luZG93LmFjZXF1aXJlLm1vZHVsZXNbaWRdO2lmKG1vZHVsZSlyZXR1cm4gbW9kdWxlLmluaXRpYWxpemVkfHwobW9kdWxlLmluaXRpYWxpemVkPSEwLG1vZHVsZS5leHBvcnRzPW1vZHVsZS5mYWN0b3J5KCkuZXhwb3J0cyksbW9kdWxlLmV4cG9ydHM7aWYoIXdpbmRvdy5hY2VxdWlyZS50bG5zKXJldHVybiBjb25zb2xlLmxvZyhcXFwidW5hYmxlIHRvIGxvYWQgXFxcIitpZCk7dmFyIHBhdGg9cmVzb2x2ZU1vZHVsZUlkKGlkLHdpbmRvdy5hY2VxdWlyZS50bG5zKTtyZXR1cm5cXFwiLmpzXFxcIiE9cGF0aC5zbGljZSgtMykmJihwYXRoKz1cXFwiLmpzXFxcIiksd2luZG93LmFjZXF1aXJlLmlkPWlkLHdpbmRvdy5hY2VxdWlyZS5tb2R1bGVzW2lkXT17fSxpbXBvcnRTY3JpcHRzKHBhdGgpLHdpbmRvdy5hY2VxdWlyZShwYXJlbnRJZCxpZCl9LHdpbmRvdy5hY2VxdWlyZS5tb2R1bGVzPXt9LHdpbmRvdy5hY2VxdWlyZS50bG5zPXt9LHdpbmRvdy5kZWZpbmU9ZnVuY3Rpb24oaWQsZGVwcyxmYWN0b3J5KXtpZigyPT1hcmd1bWVudHMubGVuZ3RoPyhmYWN0b3J5PWRlcHMsXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBpZCYmKGRlcHM9aWQsaWQ9d2luZG93LmFjZXF1aXJlLmlkKSk6MT09YXJndW1lbnRzLmxlbmd0aCYmKGZhY3Rvcnk9aWQsZGVwcz1bXSxpZD13aW5kb3cuYWNlcXVpcmUuaWQpLFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBmYWN0b3J5KXJldHVybiB3aW5kb3cuYWNlcXVpcmUubW9kdWxlc1tpZF09e2V4cG9ydHM6ZmFjdG9yeSxpbml0aWFsaXplZDohMH0sdm9pZCAwO2RlcHMubGVuZ3RofHwoZGVwcz1bXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0pO3ZhciByZXE9ZnVuY3Rpb24oY2hpbGRJZCl7cmV0dXJuIHdpbmRvdy5hY2VxdWlyZShpZCxjaGlsZElkKX07d2luZG93LmFjZXF1aXJlLm1vZHVsZXNbaWRdPXtleHBvcnRzOnt9LGZhY3Rvcnk6ZnVuY3Rpb24oKXt2YXIgbW9kdWxlPXRoaXMscmV0dXJuRXhwb3J0cz1mYWN0b3J5LmFwcGx5KHRoaXMsZGVwcy5tYXAoZnVuY3Rpb24oZGVwKXtzd2l0Y2goZGVwKXtjYXNlXFxcInJlcXVpcmVcXFwiOnJldHVybiByZXE7Y2FzZVxcXCJleHBvcnRzXFxcIjpyZXR1cm4gbW9kdWxlLmV4cG9ydHM7Y2FzZVxcXCJtb2R1bGVcXFwiOnJldHVybiBtb2R1bGU7ZGVmYXVsdDpyZXR1cm4gcmVxKGRlcCl9fSkpO3JldHVybiByZXR1cm5FeHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9cmV0dXJuRXhwb3J0cyksbW9kdWxlfX19LHdpbmRvdy5kZWZpbmUuYW1kPXt9LGFjZXF1aXJlLnRsbnM9e30sd2luZG93LmluaXRCYXNlVXJscz1mdW5jdGlvbih0b3BMZXZlbE5hbWVzcGFjZXMpe2Zvcih2YXIgaSBpbiB0b3BMZXZlbE5hbWVzcGFjZXMpYWNlcXVpcmUudGxuc1tpXT10b3BMZXZlbE5hbWVzcGFjZXNbaV19LHdpbmRvdy5pbml0U2VuZGVyPWZ1bmN0aW9uKCl7dmFyIEV2ZW50RW1pdHRlcj13aW5kb3cuYWNlcXVpcmUoXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCIpLkV2ZW50RW1pdHRlcixvb3A9d2luZG93LmFjZXF1aXJlKFxcXCJhY2UvbGliL29vcFxcXCIpLFNlbmRlcj1mdW5jdGlvbigpe307cmV0dXJuIGZ1bmN0aW9uKCl7b29wLmltcGxlbWVudCh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5jYWxsYmFjaz1mdW5jdGlvbihkYXRhLGNhbGxiYWNrSWQpe3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJjYWxsXFxcIixpZDpjYWxsYmFja0lkLGRhdGE6ZGF0YX0pfSx0aGlzLmVtaXQ9ZnVuY3Rpb24obmFtZSxkYXRhKXtwb3N0TWVzc2FnZSh7dHlwZTpcXFwiZXZlbnRcXFwiLG5hbWU6bmFtZSxkYXRhOmRhdGF9KX19LmNhbGwoU2VuZGVyLnByb3RvdHlwZSksbmV3IFNlbmRlcn07dmFyIG1haW49d2luZG93Lm1haW49bnVsbCxzZW5kZXI9d2luZG93LnNlbmRlcj1udWxsO3dpbmRvdy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIG1zZz1lLmRhdGE7aWYobXNnLmV2ZW50JiZzZW5kZXIpc2VuZGVyLl9zaWduYWwobXNnLmV2ZW50LG1zZy5kYXRhKTtlbHNlIGlmKG1zZy5jb21tYW5kKWlmKG1haW5bbXNnLmNvbW1hbmRdKW1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sbXNnLmFyZ3MpO2Vsc2V7aWYoIXdpbmRvd1ttc2cuY29tbWFuZF0pdGhyb3cgRXJyb3IoXFxcIlVua25vd24gY29tbWFuZDpcXFwiK21zZy5jb21tYW5kKTt3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdyxtc2cuYXJncyl9ZWxzZSBpZihtc2cuaW5pdCl7d2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyksYWNlcXVpcmUoXFxcImFjZS9saWIvZXM1LXNoaW1cXFwiKSxzZW5kZXI9d2luZG93LnNlbmRlcj13aW5kb3cuaW5pdFNlbmRlcigpO3ZhciBjbGF6ej1hY2VxdWlyZShtc2cubW9kdWxlKVttc2cuY2xhc3NuYW1lXTttYWluPXdpbmRvdy5tYWluPW5ldyBjbGF6eihzZW5kZXIpfX19fSkodGhpcyksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9vb3BcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZXhwb3J0cy5pbmhlcml0cz1mdW5jdGlvbihjdG9yLHN1cGVyQ3Rvcil7Y3Rvci5zdXBlcl89c3VwZXJDdG9yLGN0b3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmN0b3IsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9LGV4cG9ydHMubWl4aW49ZnVuY3Rpb24ob2JqLG1peGluKXtmb3IodmFyIGtleSBpbiBtaXhpbilvYmpba2V5XT1taXhpbltrZXldO3JldHVybiBvYmp9LGV4cG9ydHMuaW1wbGVtZW50PWZ1bmN0aW9uKHByb3RvLG1peGluKXtleHBvcnRzLm1peGluKHByb3RvLG1peGluKX19KSxhY2UuZGVmaW5lKFxcXCJhY2UvcmFuZ2VcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7dmFyIGNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxSYW5nZT1mdW5jdGlvbihzdGFydFJvdyxzdGFydENvbHVtbixlbmRSb3csZW5kQ29sdW1uKXt0aGlzLnN0YXJ0PXtyb3c6c3RhcnRSb3csY29sdW1uOnN0YXJ0Q29sdW1ufSx0aGlzLmVuZD17cm93OmVuZFJvdyxjb2x1bW46ZW5kQ29sdW1ufX07KGZ1bmN0aW9uKCl7dGhpcy5pc0VxdWFsPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PT1yYW5nZS5zdGFydC5yb3cmJnRoaXMuZW5kLnJvdz09PXJhbmdlLmVuZC5yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT09cmFuZ2Uuc3RhcnQuY29sdW1uJiZ0aGlzLmVuZC5jb2x1bW49PT1yYW5nZS5lbmQuY29sdW1ufSx0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcIlJhbmdlOiBbXFxcIit0aGlzLnN0YXJ0LnJvdytcXFwiL1xcXCIrdGhpcy5zdGFydC5jb2x1bW4rXFxcIl0gLT4gW1xcXCIrdGhpcy5lbmQucm93K1xcXCIvXFxcIit0aGlzLmVuZC5jb2x1bW4rXFxcIl1cXFwifSx0aGlzLmNvbnRhaW5zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZVJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wLGVuZD1yYW5nZS5lbmQsc3RhcnQ9cmFuZ2Uuc3RhcnQ7cmV0dXJuIGNtcD10aGlzLmNvbXBhcmUoZW5kLnJvdyxlbmQuY29sdW1uKSwxPT1jbXA/KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksMT09Y21wPzI6MD09Y21wPzE6MCk6LTE9PWNtcD8tMjooY21wPXRoaXMuY29tcGFyZShzdGFydC5yb3csc3RhcnQuY29sdW1uKSwtMT09Y21wPy0xOjE9PWNtcD80MjowKX0sdGhpcy5jb21wYXJlUG9pbnQ9ZnVuY3Rpb24ocCl7cmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdyxwLmNvbHVtbil9LHRoaXMuY29udGFpbnNSYW5nZT1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSYmMD09dGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKX0sdGhpcy5pbnRlcnNlY3RzPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wPXRoaXMuY29tcGFyZVJhbmdlKHJhbmdlKTtyZXR1cm4tMT09Y21wfHwwPT1jbXB8fDE9PWNtcH0sdGhpcy5pc0VuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1ufSx0aGlzLmlzU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW59LHRoaXMuc2V0U3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiByb3c/KHRoaXMuc3RhcnQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5zdGFydC5yb3c9cm93LnJvdyk6KHRoaXMuc3RhcnQucm93PXJvdyx0aGlzLnN0YXJ0LmNvbHVtbj1jb2x1bW4pfSx0aGlzLnNldEVuZD1mdW5jdGlvbihyb3csY29sdW1uKXtcXFwib2JqZWN0XFxcIj09dHlwZW9mIHJvdz8odGhpcy5lbmQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5lbmQucm93PXJvdy5yb3cpOih0aGlzLmVuZC5yb3c9cm93LHRoaXMuZW5kLmNvbHVtbj1jb2x1bW4pfSx0aGlzLmluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbil8fHRoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5pbnNpZGVTdGFydD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbik/dGhpcy5pc1N0YXJ0KHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmNvbXBhcmU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuaXNNdWx0aUxpbmUoKXx8cm93IT09dGhpcy5zdGFydC5yb3c/dGhpcy5zdGFydC5yb3c+cm93Py0xOnJvdz50aGlzLmVuZC5yb3c/MTp0aGlzLnN0YXJ0LnJvdz09PXJvdz9jb2x1bW4+PXRoaXMuc3RhcnQuY29sdW1uPzA6LTE6dGhpcy5lbmQucm93PT09cm93P3RoaXMuZW5kLmNvbHVtbj49Y29sdW1uPzA6MTowOnRoaXMuc3RhcnQuY29sdW1uPmNvbHVtbj8tMTpjb2x1bW4+dGhpcy5lbmQuY29sdW1uPzE6MH0sdGhpcy5jb21wYXJlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW4/LTE6dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pfSx0aGlzLmNvbXBhcmVFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbj8xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlSW5zaWRlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jbGlwUm93cz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtpZih0aGlzLmVuZC5yb3c+bGFzdFJvdyl2YXIgZW5kPXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuZW5kLnJvdyl2YXIgZW5kPXtyb3c6Zmlyc3RSb3csY29sdW1uOjB9O2lmKHRoaXMuc3RhcnQucm93Pmxhc3RSb3cpdmFyIHN0YXJ0PXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuc3RhcnQucm93KXZhciBzdGFydD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5leHRlbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIGNtcD10aGlzLmNvbXBhcmUocm93LGNvbHVtbik7aWYoMD09Y21wKXJldHVybiB0aGlzO2lmKC0xPT1jbXApdmFyIHN0YXJ0PXtyb3c6cm93LGNvbHVtbjpjb2x1bW59O2Vsc2UgdmFyIGVuZD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09dGhpcy5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXRoaXMuZW5kLmNvbHVtbn0sdGhpcy5pc011bHRpTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdyE9PXRoaXMuZW5kLnJvd30sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsdGhpcy5lbmQpfSx0aGlzLmNvbGxhcHNlUm93cz1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmVuZC5jb2x1bW4/bmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LDAsTWF0aC5tYXgodGhpcy5zdGFydC5yb3csdGhpcy5lbmQucm93LTEpLDApOm5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLHRoaXMuZW5kLnJvdywwKX0sdGhpcy50b1NjcmVlblJhbmdlPWZ1bmN0aW9uKHNlc3Npb24pe3ZhciBzY3JlZW5Qb3NTdGFydD1zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnN0YXJ0KSxzY3JlZW5Qb3NFbmQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5lbmQpO3JldHVybiBuZXcgUmFuZ2Uoc2NyZWVuUG9zU3RhcnQucm93LHNjcmVlblBvc1N0YXJ0LmNvbHVtbixzY3JlZW5Qb3NFbmQucm93LHNjcmVlblBvc0VuZC5jb2x1bW4pfSx0aGlzLm1vdmVCeT1mdW5jdGlvbihyb3csY29sdW1uKXt0aGlzLnN0YXJ0LnJvdys9cm93LHRoaXMuc3RhcnQuY29sdW1uKz1jb2x1bW4sdGhpcy5lbmQucm93Kz1yb3csdGhpcy5lbmQuY29sdW1uKz1jb2x1bW59fSkuY2FsbChSYW5nZS5wcm90b3R5cGUpLFJhbmdlLmZyb21Qb2ludHM9ZnVuY3Rpb24oc3RhcnQsZW5kKXtyZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4sZW5kLnJvdyxlbmQuY29sdW1uKX0sUmFuZ2UuY29tcGFyZVBvaW50cz1jb21wYXJlUG9pbnRzLFJhbmdlLmNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxleHBvcnRzLlJhbmdlPVJhbmdlfSksYWNlLmRlZmluZShcXFwiYWNlL2FwcGx5X2RlbHRhXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO2V4cG9ydHMuYXBwbHlEZWx0YT1mdW5jdGlvbihkb2NMaW5lcyxkZWx0YSl7dmFyIHJvdz1kZWx0YS5zdGFydC5yb3csc3RhcnRDb2x1bW49ZGVsdGEuc3RhcnQuY29sdW1uLGxpbmU9ZG9jTGluZXNbcm93XXx8XFxcIlxcXCI7c3dpdGNoKGRlbHRhLmFjdGlvbil7Y2FzZVxcXCJpbnNlcnRcXFwiOnZhciBsaW5lcz1kZWx0YS5saW5lcztpZigxPT09bGluZXMubGVuZ3RoKWRvY0xpbmVzW3Jvd109bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrZGVsdGEubGluZXNbMF0rbGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4pO2Vsc2V7dmFyIGFyZ3M9W3JvdywxXS5jb25jYXQoZGVsdGEubGluZXMpO2RvY0xpbmVzLnNwbGljZS5hcHBseShkb2NMaW5lcyxhcmdzKSxkb2NMaW5lc1tyb3ddPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2RvY0xpbmVzW3Jvd10sZG9jTGluZXNbcm93K2RlbHRhLmxpbmVzLmxlbmd0aC0xXSs9bGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4pfWJyZWFrO2Nhc2VcXFwicmVtb3ZlXFxcIjp2YXIgZW5kQ29sdW1uPWRlbHRhLmVuZC5jb2x1bW4sZW5kUm93PWRlbHRhLmVuZC5yb3c7cm93PT09ZW5kUm93P2RvY0xpbmVzW3Jvd109bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrbGluZS5zdWJzdHJpbmcoZW5kQ29sdW1uKTpkb2NMaW5lcy5zcGxpY2Uocm93LGVuZFJvdy1yb3crMSxsaW5lLnN1YnN0cmluZygwLHN0YXJ0Q29sdW1uKStkb2NMaW5lc1tlbmRSb3ddLnN1YnN0cmluZyhlbmRDb2x1bW4pKX19fSksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBFdmVudEVtaXR0ZXI9e30sc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfTtFdmVudEVtaXR0ZXIuX2VtaXQ9RXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGV2ZW50TmFtZSxlKXt0aGlzLl9ldmVudFJlZ2lzdHJ5fHwodGhpcy5fZXZlbnRSZWdpc3RyeT17fSksdGhpcy5fZGVmYXVsdEhhbmRsZXJzfHwodGhpcy5fZGVmYXVsdEhhbmRsZXJzPXt9KTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXXx8W10sZGVmYXVsdEhhbmRsZXI9dGhpcy5fZGVmYXVsdEhhbmRsZXJzW2V2ZW50TmFtZV07aWYobGlzdGVuZXJzLmxlbmd0aHx8ZGVmYXVsdEhhbmRsZXIpe1xcXCJvYmplY3RcXFwiPT10eXBlb2YgZSYmZXx8KGU9e30pLGUudHlwZXx8KGUudHlwZT1ldmVudE5hbWUpLGUuc3RvcFByb3BhZ2F0aW9ufHwoZS5zdG9wUHJvcGFnYXRpb249c3RvcFByb3BhZ2F0aW9uKSxlLnByZXZlbnREZWZhdWx0fHwoZS5wcmV2ZW50RGVmYXVsdD1wcmV2ZW50RGVmYXVsdCksbGlzdGVuZXJzPWxpc3RlbmVycy5zbGljZSgpO2Zvcih2YXIgaT0wO2xpc3RlbmVycy5sZW5ndGg+aSYmKGxpc3RlbmVyc1tpXShlLHRoaXMpLCFlLnByb3BhZ2F0aW9uU3RvcHBlZCk7aSsrKTtyZXR1cm4gZGVmYXVsdEhhbmRsZXImJiFlLmRlZmF1bHRQcmV2ZW50ZWQ/ZGVmYXVsdEhhbmRsZXIoZSx0aGlzKTp2b2lkIDB9fSxFdmVudEVtaXR0ZXIuX3NpZ25hbD1mdW5jdGlvbihldmVudE5hbWUsZSl7dmFyIGxpc3RlbmVycz0odGhpcy5fZXZlbnRSZWdpc3RyeXx8e30pW2V2ZW50TmFtZV07aWYobGlzdGVuZXJzKXtsaXN0ZW5lcnM9bGlzdGVuZXJzLnNsaWNlKCk7Zm9yKHZhciBpPTA7bGlzdGVuZXJzLmxlbmd0aD5pO2krKylsaXN0ZW5lcnNbaV0oZSx0aGlzKX19LEV2ZW50RW1pdHRlci5vbmNlPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dmFyIF9zZWxmPXRoaXM7Y2FsbGJhY2smJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsZnVuY3Rpb24gbmV3Q2FsbGJhY2soKXtfc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxuZXdDYWxsYmFjayksY2FsbGJhY2suYXBwbHkobnVsbCxhcmd1bWVudHMpfSl9LEV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM7aWYoaGFuZGxlcnN8fChoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM9e19kaXNhYmxlZF86e319KSxoYW5kbGVyc1tldmVudE5hbWVdKXt2YXIgb2xkPWhhbmRsZXJzW2V2ZW50TmFtZV0sZGlzYWJsZWQ9aGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdO2Rpc2FibGVkfHwoaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdPWRpc2FibGVkPVtdKSxkaXNhYmxlZC5wdXNoKG9sZCk7dmFyIGk9ZGlzYWJsZWQuaW5kZXhPZihjYWxsYmFjayk7LTEhPWkmJmRpc2FibGVkLnNwbGljZShpLDEpfWhhbmRsZXJzW2V2ZW50TmFtZV09Y2FsbGJhY2t9LEV2ZW50RW1pdHRlci5yZW1vdmVEZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM7aWYoaGFuZGxlcnMpe3ZhciBkaXNhYmxlZD1oYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07aWYoaGFuZGxlcnNbZXZlbnROYW1lXT09Y2FsbGJhY2spaGFuZGxlcnNbZXZlbnROYW1lXSxkaXNhYmxlZCYmdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsZGlzYWJsZWQucG9wKCkpO2Vsc2UgaWYoZGlzYWJsZWQpe3ZhciBpPWRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOy0xIT1pJiZkaXNhYmxlZC5zcGxpY2UoaSwxKX19fSxFdmVudEVtaXR0ZXIub249RXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrLGNhcHR1cmluZyl7dGhpcy5fZXZlbnRSZWdpc3RyeT10aGlzLl9ldmVudFJlZ2lzdHJ5fHx7fTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTtyZXR1cm4gbGlzdGVuZXJzfHwobGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXT1bXSksLTE9PWxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSYmbGlzdGVuZXJzW2NhcHR1cmluZz9cXFwidW5zaGlmdFxcXCI6XFxcInB1c2hcXFwiXShjYWxsYmFjayksY2FsbGJhY2t9LEV2ZW50RW1pdHRlci5vZmY9RXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyPUV2ZW50RW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dGhpcy5fZXZlbnRSZWdpc3RyeT10aGlzLl9ldmVudFJlZ2lzdHJ5fHx7fTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTtpZihsaXN0ZW5lcnMpe3ZhciBpbmRleD1saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7LTEhPT1pbmRleCYmbGlzdGVuZXJzLnNwbGljZShpbmRleCwxKX19LEV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZXZlbnROYW1lKXt0aGlzLl9ldmVudFJlZ2lzdHJ5JiYodGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdPVtdKX0sZXhwb3J0cy5FdmVudEVtaXR0ZXI9RXZlbnRFbWl0dGVyfSksYWNlLmRlZmluZShcXFwiYWNlL2FuY2hvclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBvb3A9YWNlcXVpcmUoXFxcIi4vbGliL29vcFxcXCIpLEV2ZW50RW1pdHRlcj1hY2VxdWlyZShcXFwiLi9saWIvZXZlbnRfZW1pdHRlclxcXCIpLkV2ZW50RW1pdHRlcixBbmNob3I9ZXhwb3J0cy5BbmNob3I9ZnVuY3Rpb24oZG9jLHJvdyxjb2x1bW4pe3RoaXMuJG9uQ2hhbmdlPXRoaXMub25DaGFuZ2UuYmluZCh0aGlzKSx0aGlzLmF0dGFjaChkb2MpLGNvbHVtbj09PXZvaWQgMD90aGlzLnNldFBvc2l0aW9uKHJvdy5yb3cscm93LmNvbHVtbik6dGhpcy5zZXRQb3NpdGlvbihyb3csY29sdW1uKX07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLHBvaW50MixlcXVhbFBvaW50c0luT3JkZXIpe3ZhciBiQ29sSXNBZnRlcj1lcXVhbFBvaW50c0luT3JkZXI/cG9pbnQxLmNvbHVtbjw9cG9pbnQyLmNvbHVtbjpwb2ludDEuY29sdW1uPHBvaW50Mi5jb2x1bW47cmV0dXJuIHBvaW50MS5yb3c8cG9pbnQyLnJvd3x8cG9pbnQxLnJvdz09cG9pbnQyLnJvdyYmYkNvbElzQWZ0ZXJ9ZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEscG9pbnQsbW92ZUlmRXF1YWwpe3ZhciBkZWx0YUlzSW5zZXJ0PVxcXCJpbnNlcnRcXFwiPT1kZWx0YS5hY3Rpb24sZGVsdGFSb3dTaGlmdD0oZGVsdGFJc0luc2VydD8xOi0xKSooZGVsdGEuZW5kLnJvdy1kZWx0YS5zdGFydC5yb3cpLGRlbHRhQ29sU2hpZnQ9KGRlbHRhSXNJbnNlcnQ/MTotMSkqKGRlbHRhLmVuZC5jb2x1bW4tZGVsdGEuc3RhcnQuY29sdW1uKSxkZWx0YVN0YXJ0PWRlbHRhLnN0YXJ0LGRlbHRhRW5kPWRlbHRhSXNJbnNlcnQ/ZGVsdGFTdGFydDpkZWx0YS5lbmQ7cmV0dXJuICRwb2ludHNJbk9yZGVyKHBvaW50LGRlbHRhU3RhcnQsbW92ZUlmRXF1YWwpP3tyb3c6cG9pbnQucm93LGNvbHVtbjpwb2ludC5jb2x1bW59OiRwb2ludHNJbk9yZGVyKGRlbHRhRW5kLHBvaW50LCFtb3ZlSWZFcXVhbCk/e3Jvdzpwb2ludC5yb3crZGVsdGFSb3dTaGlmdCxjb2x1bW46cG9pbnQuY29sdW1uKyhwb2ludC5yb3c9PWRlbHRhRW5kLnJvdz9kZWx0YUNvbFNoaWZ0OjApfTp7cm93OmRlbHRhU3RhcnQucm93LGNvbHVtbjpkZWx0YVN0YXJ0LmNvbHVtbn19b29wLmltcGxlbWVudCh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHRoaXMucm93LHRoaXMuY29sdW1uKX0sdGhpcy5nZXREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50fSx0aGlzLiRpbnNlcnRSaWdodD0hMSx0aGlzLm9uQ2hhbmdlPWZ1bmN0aW9uKGRlbHRhKXtpZighKGRlbHRhLnN0YXJ0LnJvdz09ZGVsdGEuZW5kLnJvdyYmZGVsdGEuc3RhcnQucm93IT10aGlzLnJvd3x8ZGVsdGEuc3RhcnQucm93PnRoaXMucm93KSl7dmFyIHBvaW50PSRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLHtyb3c6dGhpcy5yb3csY29sdW1uOnRoaXMuY29sdW1ufSx0aGlzLiRpbnNlcnRSaWdodCk7dGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3cscG9pbnQuY29sdW1uLCEwKX19LHRoaXMuc2V0UG9zaXRpb249ZnVuY3Rpb24ocm93LGNvbHVtbixub0NsaXApe3ZhciBwb3M7aWYocG9zPW5vQ2xpcD97cm93OnJvdyxjb2x1bW46Y29sdW1ufTp0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHJvdyxjb2x1bW4pLHRoaXMucm93IT1wb3Mucm93fHx0aGlzLmNvbHVtbiE9cG9zLmNvbHVtbil7dmFyIG9sZD17cm93OnRoaXMucm93LGNvbHVtbjp0aGlzLmNvbHVtbn07dGhpcy5yb3c9cG9zLnJvdyx0aGlzLmNvbHVtbj1wb3MuY29sdW1uLHRoaXMuX3NpZ25hbChcXFwiY2hhbmdlXFxcIix7b2xkOm9sZCx2YWx1ZTpwb3N9KX19LHRoaXMuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJjaGFuZ2VcXFwiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy5hdHRhY2g9ZnVuY3Rpb24oZG9jKXt0aGlzLmRvY3VtZW50PWRvY3x8dGhpcy5kb2N1bWVudCx0aGlzLmRvY3VtZW50Lm9uKFxcXCJjaGFuZ2VcXFwiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudD1mdW5jdGlvbihyb3csY29sdW1uKXt2YXIgcG9zPXt9O3JldHVybiByb3c+PXRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCk/KHBvcy5yb3c9TWF0aC5tYXgoMCx0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpLTEpLHBvcy5jb2x1bW49dGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCk6MD5yb3c/KHBvcy5yb3c9MCxwb3MuY29sdW1uPTApOihwb3Mucm93PXJvdyxwb3MuY29sdW1uPU1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsTWF0aC5tYXgoMCxjb2x1bW4pKSksMD5jb2x1bW4mJihwb3MuY29sdW1uPTApLHBvc319KS5jYWxsKEFuY2hvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcXFwiYWNlL2RvY3VtZW50XFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL2xpYi9vb3BcXFwiLFxcXCJhY2UvYXBwbHlfZGVsdGFcXFwiLFxcXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcXFwiLFxcXCJhY2UvcmFuZ2VcXFwiLFxcXCJhY2UvYW5jaG9yXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBvb3A9YWNlcXVpcmUoXFxcIi4vbGliL29vcFxcXCIpLGFwcGx5RGVsdGE9YWNlcXVpcmUoXFxcIi4vYXBwbHlfZGVsdGFcXFwiKS5hcHBseURlbHRhLEV2ZW50RW1pdHRlcj1hY2VxdWlyZShcXFwiLi9saWIvZXZlbnRfZW1pdHRlclxcXCIpLkV2ZW50RW1pdHRlcixSYW5nZT1hY2VxdWlyZShcXFwiLi9yYW5nZVxcXCIpLlJhbmdlLEFuY2hvcj1hY2VxdWlyZShcXFwiLi9hbmNob3JcXFwiKS5BbmNob3IsRG9jdW1lbnQ9ZnVuY3Rpb24odGV4dE9yTGluZXMpe3RoaXMuJGxpbmVzPVtcXFwiXFxcIl0sMD09PXRleHRPckxpbmVzLmxlbmd0aD90aGlzLiRsaW5lcz1bXFxcIlxcXCJdOkFycmF5LmlzQXJyYXkodGV4dE9yTGluZXMpP3RoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzowLGNvbHVtbjowfSx0ZXh0T3JMaW5lcyk6dGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSx0ZXh0T3JMaW5lcyl9OyhmdW5jdGlvbigpe29vcC5pbXBsZW1lbnQodGhpcyxFdmVudEVtaXR0ZXIpLHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odGV4dCl7dmFyIGxlbj10aGlzLmdldExlbmd0aCgpLTE7dGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsMCxsZW4sdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSksdGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSx0ZXh0KX0sdGhpcy5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSl9LHRoaXMuY3JlYXRlQW5jaG9yPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiBuZXcgQW5jaG9yKHRoaXMscm93LGNvbHVtbil9LHRoaXMuJHNwbGl0PTA9PT1cXFwiYWFhXFxcIi5zcGxpdCgvYS8pLmxlbmd0aD9mdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXFxcclxcXFxufFxcXFxyL2csXFxcIlxcXFxuXFxcIikuc3BsaXQoXFxcIlxcXFxuXFxcIil9OmZ1bmN0aW9uKHRleHQpe3JldHVybiB0ZXh0LnNwbGl0KC9cXFxcclxcXFxufFxcXFxyfFxcXFxuLyl9LHRoaXMuJGRldGVjdE5ld0xpbmU9ZnVuY3Rpb24odGV4dCl7dmFyIG1hdGNoPXRleHQubWF0Y2goL14uKj8oXFxcXHJcXFxcbnxcXFxccnxcXFxcbikvbSk7dGhpcy4kYXV0b05ld0xpbmU9bWF0Y2g/bWF0Y2hbMV06XFxcIlxcXFxuXFxcIix0aGlzLl9zaWduYWwoXFxcImNoYW5nZU5ld0xpbmVNb2RlXFxcIil9LHRoaXMuZ2V0TmV3TGluZUNoYXJhY3Rlcj1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLiRuZXdMaW5lTW9kZSl7Y2FzZVxcXCJ3aW5kb3dzXFxcIjpyZXR1cm5cXFwiXFxcXHJcXFxcblxcXCI7Y2FzZVxcXCJ1bml4XFxcIjpyZXR1cm5cXFwiXFxcXG5cXFwiO2RlZmF1bHQ6cmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lfHxcXFwiXFxcXG5cXFwifX0sdGhpcy4kYXV0b05ld0xpbmU9XFxcIlxcXCIsdGhpcy4kbmV3TGluZU1vZGU9XFxcImF1dG9cXFwiLHRoaXMuc2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24obmV3TGluZU1vZGUpe3RoaXMuJG5ld0xpbmVNb2RlIT09bmV3TGluZU1vZGUmJih0aGlzLiRuZXdMaW5lTW9kZT1uZXdMaW5lTW9kZSx0aGlzLl9zaWduYWwoXFxcImNoYW5nZU5ld0xpbmVNb2RlXFxcIikpfSx0aGlzLmdldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlfSx0aGlzLmlzTmV3TGluZT1mdW5jdGlvbih0ZXh0KXtyZXR1cm5cXFwiXFxcXHJcXFxcblxcXCI9PXRleHR8fFxcXCJcXFxcclxcXCI9PXRleHR8fFxcXCJcXFxcblxcXCI9PXRleHR9LHRoaXMuZ2V0TGluZT1mdW5jdGlvbihyb3cpe3JldHVybiB0aGlzLiRsaW5lc1tyb3ddfHxcXFwiXFxcIn0sdGhpcy5nZXRMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtyZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csbGFzdFJvdysxKX0sdGhpcy5nZXRBbGxMaW5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExpbmVzKDAsdGhpcy5nZXRMZW5ndGgoKSl9LHRoaXMuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aH0sdGhpcy5nZXRUZXh0UmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe3JldHVybiB0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpfSx0aGlzLmdldExpbmVzRm9yUmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe3ZhciBsaW5lcztpZihyYW5nZS5zdGFydC5yb3c9PT1yYW5nZS5lbmQucm93KWxpbmVzPVt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLHJhbmdlLmVuZC5jb2x1bW4pXTtlbHNle2xpbmVzPXRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LHJhbmdlLmVuZC5yb3cpLGxpbmVzWzBdPShsaW5lc1swXXx8XFxcIlxcXCIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pO3ZhciBsPWxpbmVzLmxlbmd0aC0xO3JhbmdlLmVuZC5yb3ctcmFuZ2Uuc3RhcnQucm93PT1sJiYobGluZXNbbF09bGluZXNbbF0uc3Vic3RyaW5nKDAscmFuZ2UuZW5kLmNvbHVtbikpfXJldHVybiBsaW5lc30sdGhpcy5pbnNlcnRMaW5lcz1mdW5jdGlvbihyb3csbGluZXMpe3JldHVybiBjb25zb2xlLndhcm4oXFxcIlVzZSBvZiBkb2N1bWVudC5pbnNlcnRMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIGluc2VydEZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC5cXFwiKSx0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csbGluZXMpfSx0aGlzLnJlbW92ZUxpbmVzPWZ1bmN0aW9uKGZpcnN0Um93LGxhc3RSb3cpe3JldHVybiBjb25zb2xlLndhcm4oXFxcIlVzZSBvZiBkb2N1bWVudC5yZW1vdmVMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHJlbW92ZUZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC5cXFwiKSx0aGlzLnJlbW92ZUZ1bGxMaW5lcyhmaXJzdFJvdyxsYXN0Um93KX0sdGhpcy5pbnNlcnROZXdMaW5lPWZ1bmN0aW9uKHBvc2l0aW9uKXtyZXR1cm4gY29uc29sZS53YXJuKFxcXCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TmV3TGluZSBpcyBkZXByZWNhdGVkLiBVc2UgaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsnJywgJyddKSBpbnN0ZWFkLlxcXCIpLHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sW1xcXCJcXFwiLFxcXCJcXFwiXSl9LHRoaXMuaW5zZXJ0PWZ1bmN0aW9uKHBvc2l0aW9uLHRleHQpe3JldHVybiAxPj10aGlzLmdldExlbmd0aCgpJiZ0aGlzLiRkZXRlY3ROZXdMaW5lKHRleHQpLHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sdGhpcy4kc3BsaXQodGV4dCkpfSx0aGlzLmluc2VydEluTGluZT1mdW5jdGlvbihwb3NpdGlvbix0ZXh0KXt2YXIgc3RhcnQ9dGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdyxwb3NpdGlvbi5jb2x1bW4pLGVuZD10aGlzLnBvcyhwb3NpdGlvbi5yb3cscG9zaXRpb24uY29sdW1uK3RleHQubGVuZ3RoKTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpzdGFydCxlbmQ6ZW5kLGFjdGlvbjpcXFwiaW5zZXJ0XFxcIixsaW5lczpbdGV4dF19LCEwKSx0aGlzLmNsb25lUG9zKGVuZCl9LHRoaXMuY2xpcHBlZFBvcz1mdW5jdGlvbihyb3csY29sdW1uKXt2YXIgbGVuZ3RoPXRoaXMuZ2V0TGVuZ3RoKCk7dm9pZCAwPT09cm93P3Jvdz1sZW5ndGg6MD5yb3c/cm93PTA6cm93Pj1sZW5ndGgmJihyb3c9bGVuZ3RoLTEsY29sdW1uPXZvaWQgMCk7dmFyIGxpbmU9dGhpcy5nZXRMaW5lKHJvdyk7cmV0dXJuIHZvaWQgMD09Y29sdW1uJiYoY29sdW1uPWxpbmUubGVuZ3RoKSxjb2x1bW49TWF0aC5taW4oTWF0aC5tYXgoY29sdW1uLDApLGxpbmUubGVuZ3RoKSx7cm93OnJvdyxjb2x1bW46Y29sdW1ufX0sdGhpcy5jbG9uZVBvcz1mdW5jdGlvbihwb3Mpe3JldHVybntyb3c6cG9zLnJvdyxjb2x1bW46cG9zLmNvbHVtbn19LHRoaXMucG9zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybntyb3c6cm93LGNvbHVtbjpjb2x1bW59fSx0aGlzLiRjbGlwUG9zaXRpb249ZnVuY3Rpb24ocG9zaXRpb24pe3ZhciBsZW5ndGg9dGhpcy5nZXRMZW5ndGgoKTtyZXR1cm4gcG9zaXRpb24ucm93Pj1sZW5ndGg/KHBvc2l0aW9uLnJvdz1NYXRoLm1heCgwLGxlbmd0aC0xKSxwb3NpdGlvbi5jb2x1bW49dGhpcy5nZXRMaW5lKGxlbmd0aC0xKS5sZW5ndGgpOihwb3NpdGlvbi5yb3c9TWF0aC5tYXgoMCxwb3NpdGlvbi5yb3cpLHBvc2l0aW9uLmNvbHVtbj1NYXRoLm1pbihNYXRoLm1heChwb3NpdGlvbi5jb2x1bW4sMCksdGhpcy5nZXRMaW5lKHBvc2l0aW9uLnJvdykubGVuZ3RoKSkscG9zaXRpb259LHRoaXMuaW5zZXJ0RnVsbExpbmVzPWZ1bmN0aW9uKHJvdyxsaW5lcyl7cm93PU1hdGgubWluKE1hdGgubWF4KHJvdywwKSx0aGlzLmdldExlbmd0aCgpKTt2YXIgY29sdW1uPTA7dGhpcy5nZXRMZW5ndGgoKT5yb3c/KGxpbmVzPWxpbmVzLmNvbmNhdChbXFxcIlxcXCJdKSxjb2x1bW49MCk6KGxpbmVzPVtcXFwiXFxcIl0uY29uY2F0KGxpbmVzKSxyb3ctLSxjb2x1bW49dGhpcy4kbGluZXNbcm93XS5sZW5ndGgpLHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3Jvdzpyb3csY29sdW1uOmNvbHVtbn0sbGluZXMpfSx0aGlzLmluc2VydE1lcmdlZExpbmVzPWZ1bmN0aW9uKHBvc2l0aW9uLGxpbmVzKXt2YXIgc3RhcnQ9dGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdyxwb3NpdGlvbi5jb2x1bW4pLGVuZD17cm93OnN0YXJ0LnJvdytsaW5lcy5sZW5ndGgtMSxjb2x1bW46KDE9PWxpbmVzLmxlbmd0aD9zdGFydC5jb2x1bW46MCkrbGluZXNbbGluZXMubGVuZ3RoLTFdLmxlbmd0aH07cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcImluc2VydFxcXCIsbGluZXM6bGluZXN9KSx0aGlzLmNsb25lUG9zKGVuZCl9LHRoaXMucmVtb3ZlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgc3RhcnQ9dGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5zdGFydC5jb2x1bW4pLGVuZD10aGlzLmNsaXBwZWRQb3MocmFuZ2UuZW5kLnJvdyxyYW5nZS5lbmQuY29sdW1uKTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpzdGFydCxlbmQ6ZW5kLGFjdGlvbjpcXFwicmVtb3ZlXFxcIixsaW5lczp0aGlzLmdldExpbmVzRm9yUmFuZ2Uoe3N0YXJ0OnN0YXJ0LGVuZDplbmR9KX0pLHRoaXMuY2xvbmVQb3Moc3RhcnQpfSx0aGlzLnJlbW92ZUluTGluZT1mdW5jdGlvbihyb3csc3RhcnRDb2x1bW4sZW5kQ29sdW1uKXt2YXIgc3RhcnQ9dGhpcy5jbGlwcGVkUG9zKHJvdyxzdGFydENvbHVtbiksZW5kPXRoaXMuY2xpcHBlZFBvcyhyb3csZW5kQ29sdW1uKTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpzdGFydCxlbmQ6ZW5kLGFjdGlvbjpcXFwicmVtb3ZlXFxcIixsaW5lczp0aGlzLmdldExpbmVzRm9yUmFuZ2Uoe3N0YXJ0OnN0YXJ0LGVuZDplbmR9KX0sITApLHRoaXMuY2xvbmVQb3Moc3RhcnQpfSx0aGlzLnJlbW92ZUZ1bGxMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtmaXJzdFJvdz1NYXRoLm1pbihNYXRoLm1heCgwLGZpcnN0Um93KSx0aGlzLmdldExlbmd0aCgpLTEpLGxhc3RSb3c9TWF0aC5taW4oTWF0aC5tYXgoMCxsYXN0Um93KSx0aGlzLmdldExlbmd0aCgpLTEpO3ZhciBkZWxldGVGaXJzdE5ld0xpbmU9bGFzdFJvdz09dGhpcy5nZXRMZW5ndGgoKS0xJiZmaXJzdFJvdz4wLGRlbGV0ZUxhc3ROZXdMaW5lPXRoaXMuZ2V0TGVuZ3RoKCktMT5sYXN0Um93LHN0YXJ0Um93PWRlbGV0ZUZpcnN0TmV3TGluZT9maXJzdFJvdy0xOmZpcnN0Um93LHN0YXJ0Q29sPWRlbGV0ZUZpcnN0TmV3TGluZT90aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aDowLGVuZFJvdz1kZWxldGVMYXN0TmV3TGluZT9sYXN0Um93KzE6bGFzdFJvdyxlbmRDb2w9ZGVsZXRlTGFzdE5ld0xpbmU/MDp0aGlzLmdldExpbmUoZW5kUm93KS5sZW5ndGgscmFuZ2U9bmV3IFJhbmdlKHN0YXJ0Um93LHN0YXJ0Q29sLGVuZFJvdyxlbmRDb2wpLGRlbGV0ZWRMaW5lcz10aGlzLiRsaW5lcy5zbGljZShmaXJzdFJvdyxsYXN0Um93KzEpO3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnJhbmdlLnN0YXJ0LGVuZDpyYW5nZS5lbmQsYWN0aW9uOlxcXCJyZW1vdmVcXFwiLGxpbmVzOnRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSl9KSxkZWxldGVkTGluZXN9LHRoaXMucmVtb3ZlTmV3TGluZT1mdW5jdGlvbihyb3cpe3RoaXMuZ2V0TGVuZ3RoKCktMT5yb3cmJnJvdz49MCYmdGhpcy5hcHBseURlbHRhKHtzdGFydDp0aGlzLnBvcyhyb3csdGhpcy5nZXRMaW5lKHJvdykubGVuZ3RoKSxlbmQ6dGhpcy5wb3Mocm93KzEsMCksYWN0aW9uOlxcXCJyZW1vdmVcXFwiLGxpbmVzOltcXFwiXFxcIixcXFwiXFxcIl19KX0sdGhpcy5yZXBsYWNlPWZ1bmN0aW9uKHJhbmdlLHRleHQpe2lmKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2V8fChyYW5nZT1SYW5nZS5mcm9tUG9pbnRzKHJhbmdlLnN0YXJ0LHJhbmdlLmVuZCkpLDA9PT10ZXh0Lmxlbmd0aCYmcmFuZ2UuaXNFbXB0eSgpKXJldHVybiByYW5nZS5zdGFydDtpZih0ZXh0PT10aGlzLmdldFRleHRSYW5nZShyYW5nZSkpcmV0dXJuIHJhbmdlLmVuZDt0aGlzLnJlbW92ZShyYW5nZSk7dmFyIGVuZDtyZXR1cm4gZW5kPXRleHQ/dGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsdGV4dCk6cmFuZ2Uuc3RhcnR9LHRoaXMuYXBwbHlEZWx0YXM9ZnVuY3Rpb24oZGVsdGFzKXtmb3IodmFyIGk9MDtkZWx0YXMubGVuZ3RoPmk7aSsrKXRoaXMuYXBwbHlEZWx0YShkZWx0YXNbaV0pfSx0aGlzLnJldmVydERlbHRhcz1mdW5jdGlvbihkZWx0YXMpe2Zvcih2YXIgaT1kZWx0YXMubGVuZ3RoLTE7aT49MDtpLS0pdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pfSx0aGlzLmFwcGx5RGVsdGE9ZnVuY3Rpb24oZGVsdGEsZG9Ob3RWYWxpZGF0ZSl7dmFyIGlzSW5zZXJ0PVxcXCJpbnNlcnRcXFwiPT1kZWx0YS5hY3Rpb247KGlzSW5zZXJ0PzE+PWRlbHRhLmxpbmVzLmxlbmd0aCYmIWRlbHRhLmxpbmVzWzBdOiFSYW5nZS5jb21wYXJlUG9pbnRzKGRlbHRhLnN0YXJ0LGRlbHRhLmVuZCkpfHwoaXNJbnNlcnQmJmRlbHRhLmxpbmVzLmxlbmd0aD4yZTQmJnRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhKGRlbHRhLDJlNCksYXBwbHlEZWx0YSh0aGlzLiRsaW5lcyxkZWx0YSxkb05vdFZhbGlkYXRlKSx0aGlzLl9zaWduYWwoXFxcImNoYW5nZVxcXCIsZGVsdGEpKX0sdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGE9ZnVuY3Rpb24oZGVsdGEsTUFYKXtmb3IodmFyIGxpbmVzPWRlbHRhLmxpbmVzLGw9bGluZXMubGVuZ3RoLHJvdz1kZWx0YS5zdGFydC5yb3csY29sdW1uPWRlbHRhLnN0YXJ0LmNvbHVtbixmcm9tPTAsdG89MDs7KXtmcm9tPXRvLHRvKz1NQVgtMTt2YXIgY2h1bms9bGluZXMuc2xpY2UoZnJvbSx0byk7aWYodG8+bCl7ZGVsdGEubGluZXM9Y2h1bmssZGVsdGEuc3RhcnQucm93PXJvdytmcm9tLGRlbHRhLnN0YXJ0LmNvbHVtbj1jb2x1bW47YnJlYWt9Y2h1bmsucHVzaChcXFwiXFxcIiksdGhpcy5hcHBseURlbHRhKHtzdGFydDp0aGlzLnBvcyhyb3crZnJvbSxjb2x1bW4pLGVuZDp0aGlzLnBvcyhyb3crdG8sY29sdW1uPTApLGFjdGlvbjpkZWx0YS5hY3Rpb24sbGluZXM6Y2h1bmt9LCEwKX19LHRoaXMucmV2ZXJ0RGVsdGE9ZnVuY3Rpb24oZGVsdGEpe3RoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dGhpcy5jbG9uZVBvcyhkZWx0YS5zdGFydCksZW5kOnRoaXMuY2xvbmVQb3MoZGVsdGEuZW5kKSxhY3Rpb246XFxcImluc2VydFxcXCI9PWRlbHRhLmFjdGlvbj9cXFwicmVtb3ZlXFxcIjpcXFwiaW5zZXJ0XFxcIixsaW5lczpkZWx0YS5saW5lcy5zbGljZSgpfSl9LHRoaXMuaW5kZXhUb1Bvc2l0aW9uPWZ1bmN0aW9uKGluZGV4LHN0YXJ0Um93KXtmb3IodmFyIGxpbmVzPXRoaXMuJGxpbmVzfHx0aGlzLmdldEFsbExpbmVzKCksbmV3bGluZUxlbmd0aD10aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGgsaT1zdGFydFJvd3x8MCxsPWxpbmVzLmxlbmd0aDtsPmk7aSsrKWlmKGluZGV4LT1saW5lc1tpXS5sZW5ndGgrbmV3bGluZUxlbmd0aCwwPmluZGV4KXJldHVybntyb3c6aSxjb2x1bW46aW5kZXgrbGluZXNbaV0ubGVuZ3RoK25ld2xpbmVMZW5ndGh9O3JldHVybntyb3c6bC0xLGNvbHVtbjpsaW5lc1tsLTFdLmxlbmd0aH19LHRoaXMucG9zaXRpb25Ub0luZGV4PWZ1bmN0aW9uKHBvcyxzdGFydFJvdyl7Zm9yKHZhciBsaW5lcz10aGlzLiRsaW5lc3x8dGhpcy5nZXRBbGxMaW5lcygpLG5ld2xpbmVMZW5ndGg9dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoLGluZGV4PTAscm93PU1hdGgubWluKHBvcy5yb3csbGluZXMubGVuZ3RoKSxpPXN0YXJ0Um93fHwwO3Jvdz5pOysraSlpbmRleCs9bGluZXNbaV0ubGVuZ3RoK25ld2xpbmVMZW5ndGg7cmV0dXJuIGluZGV4K3Bvcy5jb2x1bW59fSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpLGV4cG9ydHMuRG9jdW1lbnQ9RG9jdW1lbnR9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbGliL2xhbmdcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZXhwb3J0cy5sYXN0PWZ1bmN0aW9uKGEpe3JldHVybiBhW2EubGVuZ3RoLTFdfSxleHBvcnRzLnN0cmluZ1JldmVyc2U9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnNwbGl0KFxcXCJcXFwiKS5yZXZlcnNlKCkuam9pbihcXFwiXFxcIil9LGV4cG9ydHMuc3RyaW5nUmVwZWF0PWZ1bmN0aW9uKHN0cmluZyxjb3VudCl7Zm9yKHZhciByZXN1bHQ9XFxcIlxcXCI7Y291bnQ+MDspMSZjb3VudCYmKHJlc3VsdCs9c3RyaW5nKSwoY291bnQ+Pj0xKSYmKHN0cmluZys9c3RyaW5nKTtyZXR1cm4gcmVzdWx0fTt2YXIgdHJpbUJlZ2luUmVnZXhwPS9eXFxcXHNcXFxccyovLHRyaW1FbmRSZWdleHA9L1xcXFxzXFxcXHMqJC87ZXhwb3J0cy5zdHJpbmdUcmltTGVmdD1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsXFxcIlxcXCIpfSxleHBvcnRzLnN0cmluZ1RyaW1SaWdodD1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZSh0cmltRW5kUmVnZXhwLFxcXCJcXFwiKX0sZXhwb3J0cy5jb3B5T2JqZWN0PWZ1bmN0aW9uKG9iail7dmFyIGNvcHk9e307Zm9yKHZhciBrZXkgaW4gb2JqKWNvcHlba2V5XT1vYmpba2V5XTtyZXR1cm4gY29weX0sZXhwb3J0cy5jb3B5QXJyYXk9ZnVuY3Rpb24oYXJyYXkpe2Zvcih2YXIgY29weT1bXSxpPTAsbD1hcnJheS5sZW5ndGg7bD5pO2krKyljb3B5W2ldPWFycmF5W2ldJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGFycmF5W2ldP3RoaXMuY29weU9iamVjdChhcnJheVtpXSk6YXJyYXlbaV07cmV0dXJuIGNvcHl9LGV4cG9ydHMuZGVlcENvcHk9ZnVuY3Rpb24gZGVlcENvcHkob2JqKXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG9ianx8IW9iailyZXR1cm4gb2JqO3ZhciBjb3B5O2lmKEFycmF5LmlzQXJyYXkob2JqKSl7Y29weT1bXTtmb3IodmFyIGtleT0wO29iai5sZW5ndGg+a2V5O2tleSsrKWNvcHlba2V5XT1kZWVwQ29weShvYmpba2V5XSk7cmV0dXJuIGNvcHl9dmFyIGNvbnM9b2JqLmNvbnN0cnVjdG9yO2lmKGNvbnM9PT1SZWdFeHApcmV0dXJuIG9iajtjb3B5PWNvbnMoKTtmb3IodmFyIGtleSBpbiBvYmopY29weVtrZXldPWRlZXBDb3B5KG9ialtrZXldKTtyZXR1cm4gY29weX0sZXhwb3J0cy5hcnJheVRvTWFwPWZ1bmN0aW9uKGFycil7Zm9yKHZhciBtYXA9e30saT0wO2Fyci5sZW5ndGg+aTtpKyspbWFwW2FycltpXV09MTtyZXR1cm4gbWFwfSxleHBvcnRzLmNyZWF0ZU1hcD1mdW5jdGlvbihwcm9wcyl7dmFyIG1hcD1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgaSBpbiBwcm9wcyltYXBbaV09cHJvcHNbaV07cmV0dXJuIG1hcH0sZXhwb3J0cy5hcnJheVJlbW92ZT1mdW5jdGlvbihhcnJheSx2YWx1ZSl7Zm9yKHZhciBpPTA7YXJyYXkubGVuZ3RoPj1pO2krKyl2YWx1ZT09PWFycmF5W2ldJiZhcnJheS5zcGxpY2UoaSwxKX0sZXhwb3J0cy5lc2NhcGVSZWdFeHA9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXFxcXF1cXFxcL1xcXFxcXFxcXSkvZyxcXFwiXFxcXFxcXFwkMVxcXCIpfSxleHBvcnRzLmVzY2FwZUhUTUw9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLyYvZyxcXFwiJiMzODtcXFwiKS5yZXBsYWNlKC9cXFwiL2csXFxcIiYjMzQ7XFxcIikucmVwbGFjZSgvJy9nLFxcXCImIzM5O1xcXCIpLnJlcGxhY2UoLzwvZyxcXFwiJiM2MDtcXFwiKX0sZXhwb3J0cy5nZXRNYXRjaE9mZnNldHM9ZnVuY3Rpb24oc3RyaW5nLHJlZ0V4cCl7dmFyIG1hdGNoZXM9W107cmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlZ0V4cCxmdW5jdGlvbihzdHIpe21hdGNoZXMucHVzaCh7b2Zmc2V0OmFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTJdLGxlbmd0aDpzdHIubGVuZ3RofSl9KSxtYXRjaGVzfSxleHBvcnRzLmRlZmVycmVkQ2FsbD1mdW5jdGlvbihmY24pe3ZhciB0aW1lcj1udWxsLGNhbGxiYWNrPWZ1bmN0aW9uKCl7dGltZXI9bnVsbCxmY24oKX0sZGVmZXJyZWQ9ZnVuY3Rpb24odGltZW91dCl7cmV0dXJuIGRlZmVycmVkLmNhbmNlbCgpLHRpbWVyPXNldFRpbWVvdXQoY2FsbGJhY2ssdGltZW91dHx8MCksZGVmZXJyZWR9O3JldHVybiBkZWZlcnJlZC5zY2hlZHVsZT1kZWZlcnJlZCxkZWZlcnJlZC5jYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FuY2VsKCksZmNuKCksZGVmZXJyZWR9LGRlZmVycmVkLmNhbmNlbD1mdW5jdGlvbigpe3JldHVybiBjbGVhclRpbWVvdXQodGltZXIpLHRpbWVyPW51bGwsZGVmZXJyZWR9LGRlZmVycmVkLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0aW1lcn0sZGVmZXJyZWR9LGV4cG9ydHMuZGVsYXllZENhbGw9ZnVuY3Rpb24oZmNuLGRlZmF1bHRUaW1lb3V0KXt2YXIgdGltZXI9bnVsbCxjYWxsYmFjaz1mdW5jdGlvbigpe3RpbWVyPW51bGwsZmNuKCl9LF9zZWxmPWZ1bmN0aW9uKHRpbWVvdXQpe251bGw9PXRpbWVyJiYodGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHxkZWZhdWx0VGltZW91dCkpfTtyZXR1cm4gX3NlbGYuZGVsYXk9ZnVuY3Rpb24odGltZW91dCl7dGltZXImJmNsZWFyVGltZW91dCh0aW1lciksdGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHxkZWZhdWx0VGltZW91dCl9LF9zZWxmLnNjaGVkdWxlPV9zZWxmLF9zZWxmLmNhbGw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpLGZjbigpfSxfc2VsZi5jYW5jZWw9ZnVuY3Rpb24oKXt0aW1lciYmY2xlYXJUaW1lb3V0KHRpbWVyKSx0aW1lcj1udWxsfSxfc2VsZi5pc1BlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGltZXJ9LF9zZWxmfX0pLGFjZS5kZWZpbmUoXFxcImFjZS93b3JrZXIvbWlycm9yXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL3JhbmdlXFxcIixcXFwiYWNlL2RvY3VtZW50XFxcIixcXFwiYWNlL2xpYi9sYW5nXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO2FjZXF1aXJlKFxcXCIuLi9yYW5nZVxcXCIpLlJhbmdlO3ZhciBEb2N1bWVudD1hY2VxdWlyZShcXFwiLi4vZG9jdW1lbnRcXFwiKS5Eb2N1bWVudCxsYW5nPWFjZXF1aXJlKFxcXCIuLi9saWIvbGFuZ1xcXCIpLE1pcnJvcj1leHBvcnRzLk1pcnJvcj1mdW5jdGlvbihzZW5kZXIpe3RoaXMuc2VuZGVyPXNlbmRlcjt2YXIgZG9jPXRoaXMuZG9jPW5ldyBEb2N1bWVudChcXFwiXFxcIiksZGVmZXJyZWRVcGRhdGU9dGhpcy5kZWZlcnJlZFVwZGF0ZT1sYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSksX3NlbGY9dGhpcztzZW5kZXIub24oXFxcImNoYW5nZVxcXCIsZnVuY3Rpb24oZSl7dmFyIGRhdGE9ZS5kYXRhO2lmKGRhdGFbMF0uc3RhcnQpZG9jLmFwcGx5RGVsdGFzKGRhdGEpO2Vsc2UgZm9yKHZhciBpPTA7ZGF0YS5sZW5ndGg+aTtpKz0yKXtpZihBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpdmFyIGQ9e2FjdGlvbjpcXFwiaW5zZXJ0XFxcIixzdGFydDpkYXRhW2ldLGxpbmVzOmRhdGFbaSsxXX07ZWxzZSB2YXIgZD17YWN0aW9uOlxcXCJyZW1vdmVcXFwiLHN0YXJ0OmRhdGFbaV0sZW5kOmRhdGFbaSsxXX07ZG9jLmFwcGx5RGVsdGEoZCwhMCl9cmV0dXJuIF9zZWxmLiR0aW1lb3V0P2RlZmVycmVkVXBkYXRlLnNjaGVkdWxlKF9zZWxmLiR0aW1lb3V0KTooX3NlbGYub25VcGRhdGUoKSx2b2lkIDApfSl9OyhmdW5jdGlvbigpe3RoaXMuJHRpbWVvdXQ9NTAwLHRoaXMuc2V0VGltZW91dD1mdW5jdGlvbih0aW1lb3V0KXt0aGlzLiR0aW1lb3V0PXRpbWVvdXR9LHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odmFsdWUpe3RoaXMuZG9jLnNldFZhbHVlKHZhbHVlKSx0aGlzLmRlZmVycmVkVXBkYXRlLnNjaGVkdWxlKHRoaXMuJHRpbWVvdXQpfSx0aGlzLmdldFZhbHVlPWZ1bmN0aW9uKGNhbGxiYWNrSWQpe3RoaXMuc2VuZGVyLmNhbGxiYWNrKHRoaXMuZG9jLmdldFZhbHVlKCksY2FsbGJhY2tJZCl9LHRoaXMub25VcGRhdGU9ZnVuY3Rpb24oKXt9LHRoaXMuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmZXJyZWRVcGRhdGUuaXNQZW5kaW5nKCl9fSkuY2FsbChNaXJyb3IucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS9tb2RlL2phdmFzY3JpcHQvanNoaW50XFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uIG91dGVyKG1vZHVsZXMsY2FjaGUsZW50cnkpe2Z1bmN0aW9uIG5ld1JlcXVpcmUobmFtZSxqdW1wZWQpe2lmKCFjYWNoZVtuYW1lXSl7aWYoIW1vZHVsZXNbbmFtZV0pe3ZhciBjdXJyZW50UmVxdWlyZT1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYWNlcXVpcmUmJmFjZXF1aXJlO2lmKCFqdW1wZWQmJmN1cnJlbnRSZXF1aXJlKXJldHVybiBjdXJyZW50UmVxdWlyZShuYW1lLCEwKTtpZihwcmV2aW91c1JlcXVpcmUpcmV0dXJuIHByZXZpb3VzUmVxdWlyZShuYW1lLCEwKTt2YXIgZXJyPUVycm9yKFxcXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1xcXCIrbmFtZStcXFwiJ1xcXCIpO3Rocm93IGVyci5jb2RlPVxcXCJNT0RVTEVfTk9UX0ZPVU5EXFxcIixlcnJ9dmFyIG09Y2FjaGVbbmFtZV09e2V4cG9ydHM6e319O21vZHVsZXNbbmFtZV1bMF0uY2FsbChtLmV4cG9ydHMsZnVuY3Rpb24oeCl7dmFyIGlkPW1vZHVsZXNbbmFtZV1bMV1beF07cmV0dXJuIG5ld1JlcXVpcmUoaWQ/aWQ6eCl9LG0sbS5leHBvcnRzLG91dGVyLG1vZHVsZXMsY2FjaGUsZW50cnkpfXJldHVybiBjYWNoZVtuYW1lXS5leHBvcnRzfWZvcih2YXIgcHJldmlvdXNSZXF1aXJlPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBhY2VxdWlyZSYmYWNlcXVpcmUsaT0wO2VudHJ5Lmxlbmd0aD5pO2krKyluZXdSZXF1aXJlKGVudHJ5W2ldKTtyZXR1cm4gbmV3UmVxdWlyZShlbnRyeVswXSl9KHtcXFwiL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe2Z1bmN0aW9uIEV2ZW50RW1pdHRlcigpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZyl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGFyZ31mdW5jdGlvbiBpc051bWJlcihhcmcpe3JldHVyblxcXCJudW1iZXJcXFwiPT10eXBlb2YgYXJnfWZ1bmN0aW9uIGlzT2JqZWN0KGFyZyl7cmV0dXJuXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhcmcmJm51bGwhPT1hcmd9ZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKXtyZXR1cm4gdm9pZCAwPT09YXJnfW1vZHVsZS5leHBvcnRzPUV2ZW50RW1pdHRlcixFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcixFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24obil7aWYoIWlzTnVtYmVyKG4pfHwwPm58fGlzTmFOKG4pKXRocm93IFR5cGVFcnJvcihcXFwibiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXFxcIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1uLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0eXBlKXt2YXIgZXIsaGFuZGxlcixsZW4sYXJncyxpLGxpc3RlbmVycztpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLFxcXCJlcnJvclxcXCI9PT10eXBlJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8aXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSYmIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKXtpZihlcj1hcmd1bWVudHNbMV0sZXIgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBlcjt0aHJvdyBUeXBlRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcXFwiZXJyb3JcXFwiIGV2ZW50LicpfWlmKGhhbmRsZXI9dGhpcy5fZXZlbnRzW3R5cGVdLGlzVW5kZWZpbmVkKGhhbmRsZXIpKXJldHVybiExO2lmKGlzRnVuY3Rpb24oaGFuZGxlcikpc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpoYW5kbGVyLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSAyOmhhbmRsZXIuY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOmhhbmRsZXIuY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2RlZmF1bHQ6Zm9yKGxlbj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkobGVuLTEpLGk9MTtsZW4+aTtpKyspYXJnc1tpLTFdPWFyZ3VtZW50c1tpXTtoYW5kbGVyLmFwcGx5KHRoaXMsYXJncyl9ZWxzZSBpZihpc09iamVjdChoYW5kbGVyKSl7Zm9yKGxlbj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkobGVuLTEpLGk9MTtsZW4+aTtpKyspYXJnc1tpLTFdPWFyZ3VtZW50c1tpXTtmb3IobGlzdGVuZXJzPWhhbmRsZXIuc2xpY2UoKSxsZW49bGlzdGVuZXJzLmxlbmd0aCxpPTA7bGVuPmk7aSsrKWxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLGFyZ3MpfXJldHVybiEwfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3ZhciBtO2lmKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSl0aHJvdyBUeXBlRXJyb3IoXFxcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblxcXCIpO2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyJiZ0aGlzLmVtaXQoXFxcIm5ld0xpc3RlbmVyXFxcIix0eXBlLGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpP2xpc3RlbmVyLmxpc3RlbmVyOmxpc3RlbmVyKSx0aGlzLl9ldmVudHNbdHlwZV0/aXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKT90aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik6dGhpcy5fZXZlbnRzW3R5cGVdPVt0aGlzLl9ldmVudHNbdHlwZV0sbGlzdGVuZXJdOnRoaXMuX2V2ZW50c1t0eXBlXT1saXN0ZW5lcixpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pJiYhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCl7dmFyIG07bT1pc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpP0V2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycyxtJiZtPjAmJnRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGg+bSYmKHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQ9ITAsY29uc29sZS5lcnJvcihcXFwiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC5cXFwiLHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpfXJldHVybiB0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uPUV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe2Z1bmN0aW9uIGcoKXt0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsZyksZmlyZWR8fChmaXJlZD0hMCxsaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cykpfWlmKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSl0aHJvdyBUeXBlRXJyb3IoXFxcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblxcXCIpO3ZhciBmaXJlZD0hMTtyZXR1cm4gZy5saXN0ZW5lcj1saXN0ZW5lcix0aGlzLm9uKHR5cGUsZyksdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXt2YXIgbGlzdCxwb3NpdGlvbixsZW5ndGgsaTtpZighaXNGdW5jdGlvbihsaXN0ZW5lcikpdGhyb3cgVHlwZUVycm9yKFxcXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cXFwiKTtpZighdGhpcy5fZXZlbnRzfHwhdGhpcy5fZXZlbnRzW3R5cGVdKXJldHVybiB0aGlzO2lmKGxpc3Q9dGhpcy5fZXZlbnRzW3R5cGVdLGxlbmd0aD1saXN0Lmxlbmd0aCxwb3NpdGlvbj0tMSxsaXN0PT09bGlzdGVuZXJ8fGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikmJmxpc3QubGlzdGVuZXI9PT1saXN0ZW5lcilkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFxcXCJyZW1vdmVMaXN0ZW5lclxcXCIsdHlwZSxsaXN0ZW5lcik7ZWxzZSBpZihpc09iamVjdChsaXN0KSl7Zm9yKGk9bGVuZ3RoO2ktLT4wOylpZihsaXN0W2ldPT09bGlzdGVuZXJ8fGxpc3RbaV0ubGlzdGVuZXImJmxpc3RbaV0ubGlzdGVuZXI9PT1saXN0ZW5lcil7cG9zaXRpb249aTticmVha31pZigwPnBvc2l0aW9uKXJldHVybiB0aGlzOzE9PT1saXN0Lmxlbmd0aD8obGlzdC5sZW5ndGg9MCxkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdKTpsaXN0LnNwbGljZShwb3NpdGlvbiwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcXFwicmVtb3ZlTGlzdGVuZXJcXFwiLHR5cGUsbGlzdGVuZXIpfXJldHVybiB0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0eXBlKXt2YXIga2V5LGxpc3RlbmVycztpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO2lmKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2V2ZW50cz17fTp0aGlzLl9ldmVudHNbdHlwZV0mJmRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV0sdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKGtleSBpbiB0aGlzLl9ldmVudHMpXFxcInJlbW92ZUxpc3RlbmVyXFxcIiE9PWtleSYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXFxcInJlbW92ZUxpc3RlbmVyXFxcIiksdGhpcy5fZXZlbnRzPXt9LHRoaXNcXG59aWYobGlzdGVuZXJzPXRoaXMuX2V2ZW50c1t0eXBlXSxpc0Z1bmN0aW9uKGxpc3RlbmVycykpdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLGxpc3RlbmVycyk7ZWxzZSBmb3IoO2xpc3RlbmVycy5sZW5ndGg7KXRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSxsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aC0xXSk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV0sdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7dmFyIHJldDtyZXR1cm4gcmV0PXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzW3R5cGVdP2lzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKT9bdGhpcy5fZXZlbnRzW3R5cGVdXTp0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTpbXX0sRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZW1pdHRlcix0eXBlKXt2YXIgcmV0O3JldHVybiByZXQ9ZW1pdHRlci5fZXZlbnRzJiZlbWl0dGVyLl9ldmVudHNbdHlwZV0/aXNGdW5jdGlvbihlbWl0dGVyLl9ldmVudHNbdHlwZV0pPzE6ZW1pdHRlci5fZXZlbnRzW3R5cGVdLmxlbmd0aDowfX0se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9kYXRhL2FzY2lpLWlkZW50aWZpZXItZGF0YS5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXtmb3IodmFyIGlkZW50aWZpZXJTdGFydFRhYmxlPVtdLGk9MDsxMjg+aTtpKyspaWRlbnRpZmllclN0YXJ0VGFibGVbaV09MzY9PT1pfHxpPj02NSYmOTA+PWl8fDk1PT09aXx8aT49OTcmJjEyMj49aTtmb3IodmFyIGlkZW50aWZpZXJQYXJ0VGFibGU9W10saT0wOzEyOD5pO2krKylpZGVudGlmaWVyUGFydFRhYmxlW2ldPWlkZW50aWZpZXJTdGFydFRhYmxlW2ldfHxpPj00OCYmNTc+PWk7bW9kdWxlLmV4cG9ydHM9e2FzY2lpSWRlbnRpZmllclN0YXJ0VGFibGU6aWRlbnRpZmllclN0YXJ0VGFibGUsYXNjaWlJZGVudGlmaWVyUGFydFRhYmxlOmlkZW50aWZpZXJQYXJ0VGFibGV9fSx7fV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L2xvZGFzaC5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihnbG9iYWwpeyhmdW5jdGlvbigpe2Z1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXkscHJlZGljYXRlLGZyb21SaWdodCl7Zm9yKHZhciBsZW5ndGg9YXJyYXkubGVuZ3RoLGluZGV4PWZyb21SaWdodD9sZW5ndGg6LTE7ZnJvbVJpZ2h0P2luZGV4LS06bGVuZ3RoPisraW5kZXg7KWlmKHByZWRpY2F0ZShhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpKXJldHVybiBpbmRleDtyZXR1cm4tMX1mdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSx2YWx1ZSxmcm9tSW5kZXgpe2lmKHZhbHVlIT09dmFsdWUpcmV0dXJuIGluZGV4T2ZOYU4oYXJyYXksZnJvbUluZGV4KTtmb3IodmFyIGluZGV4PWZyb21JbmRleC0xLGxlbmd0aD1hcnJheS5sZW5ndGg7bGVuZ3RoPisraW5kZXg7KWlmKGFycmF5W2luZGV4XT09PXZhbHVlKXJldHVybiBpbmRleDtyZXR1cm4tMX1mdW5jdGlvbiBiYXNlSXNGdW5jdGlvbih2YWx1ZSl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHZhbHVlfHwhMX1mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpe3JldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdmFsdWU/dmFsdWU6bnVsbD09dmFsdWU/XFxcIlxcXCI6dmFsdWUrXFxcIlxcXCJ9ZnVuY3Rpb24gaW5kZXhPZk5hTihhcnJheSxmcm9tSW5kZXgsZnJvbVJpZ2h0KXtmb3IodmFyIGxlbmd0aD1hcnJheS5sZW5ndGgsaW5kZXg9ZnJvbUluZGV4Kyhmcm9tUmlnaHQ/MDotMSk7ZnJvbVJpZ2h0P2luZGV4LS06bGVuZ3RoPisraW5kZXg7KXt2YXIgb3RoZXI9YXJyYXlbaW5kZXhdO2lmKG90aGVyIT09b3RoZXIpcmV0dXJuIGluZGV4fXJldHVybi0xfWZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSl7cmV0dXJuISF2YWx1ZSYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBsb2Rhc2goKXt9ZnVuY3Rpb24gYXJyYXlDb3B5KHNvdXJjZSxhcnJheSl7dmFyIGluZGV4PS0xLGxlbmd0aD1zb3VyY2UubGVuZ3RoO2ZvcihhcnJheXx8KGFycmF5PUFycmF5KGxlbmd0aCkpO2xlbmd0aD4rK2luZGV4OylhcnJheVtpbmRleF09c291cmNlW2luZGV4XTtyZXR1cm4gYXJyYXl9ZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LGl0ZXJhdGVlKXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1hcnJheS5sZW5ndGg7bGVuZ3RoPisraW5kZXgmJml0ZXJhdGVlKGFycmF5W2luZGV4XSxpbmRleCxhcnJheSkhPT0hMTspO3JldHVybiBhcnJheX1mdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSxwcmVkaWNhdGUpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWFycmF5Lmxlbmd0aCxyZXNJbmRleD0tMSxyZXN1bHQ9W107bGVuZ3RoPisraW5kZXg7KXt2YXIgdmFsdWU9YXJyYXlbaW5kZXhdO3ByZWRpY2F0ZSh2YWx1ZSxpbmRleCxhcnJheSkmJihyZXN1bHRbKytyZXNJbmRleF09dmFsdWUpfXJldHVybiByZXN1bHR9ZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksaXRlcmF0ZWUpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWFycmF5Lmxlbmd0aCxyZXN1bHQ9QXJyYXkobGVuZ3RoKTtsZW5ndGg+KytpbmRleDspcmVzdWx0W2luZGV4XT1pdGVyYXRlZShhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gYXJyYXlNYXgoYXJyYXkpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWFycmF5Lmxlbmd0aCxyZXN1bHQ9TkVHQVRJVkVfSU5GSU5JVFk7bGVuZ3RoPisraW5kZXg7KXt2YXIgdmFsdWU9YXJyYXlbaW5kZXhdO3ZhbHVlPnJlc3VsdCYmKHJlc3VsdD12YWx1ZSl9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXkscHJlZGljYXRlKXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1hcnJheS5sZW5ndGg7bGVuZ3RoPisraW5kZXg7KWlmKHByZWRpY2F0ZShhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGFzc2lnbldpdGgob2JqZWN0LHNvdXJjZSxjdXN0b21pemVyKXt2YXIgcHJvcHM9a2V5cyhzb3VyY2UpO3B1c2guYXBwbHkocHJvcHMsZ2V0U3ltYm9scyhzb3VyY2UpKTtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1wcm9wcy5sZW5ndGg7bGVuZ3RoPisraW5kZXg7KXt2YXIga2V5PXByb3BzW2luZGV4XSx2YWx1ZT1vYmplY3Rba2V5XSxyZXN1bHQ9Y3VzdG9taXplcih2YWx1ZSxzb3VyY2Vba2V5XSxrZXksb2JqZWN0LHNvdXJjZSk7KHJlc3VsdD09PXJlc3VsdD9yZXN1bHQ9PT12YWx1ZTp2YWx1ZSE9PXZhbHVlKSYmKHZhbHVlIT09dW5kZWZpbmVkfHxrZXkgaW4gb2JqZWN0KXx8KG9iamVjdFtrZXldPXJlc3VsdCl9cmV0dXJuIG9iamVjdH1mdW5jdGlvbiBiYXNlQ29weShzb3VyY2UscHJvcHMsb2JqZWN0KXtvYmplY3R8fChvYmplY3Q9e30pO2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPXByb3BzLmxlbmd0aDtsZW5ndGg+KytpbmRleDspe3ZhciBrZXk9cHJvcHNbaW5kZXhdO29iamVjdFtrZXldPXNvdXJjZVtrZXldfXJldHVybiBvYmplY3R9ZnVuY3Rpb24gYmFzZUNhbGxiYWNrKGZ1bmMsdGhpc0FyZyxhcmdDb3VudCl7dmFyIHR5cGU9dHlwZW9mIGZ1bmM7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZT90aGlzQXJnPT09dW5kZWZpbmVkP2Z1bmM6YmluZENhbGxiYWNrKGZ1bmMsdGhpc0FyZyxhcmdDb3VudCk6bnVsbD09ZnVuYz9pZGVudGl0eTpcXFwib2JqZWN0XFxcIj09dHlwZT9iYXNlTWF0Y2hlcyhmdW5jKTp0aGlzQXJnPT09dW5kZWZpbmVkP3Byb3BlcnR5KGZ1bmMpOmJhc2VNYXRjaGVzUHJvcGVydHkoZnVuYyx0aGlzQXJnKX1mdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsaXNEZWVwLGN1c3RvbWl6ZXIsa2V5LG9iamVjdCxzdGFja0Esc3RhY2tCKXt2YXIgcmVzdWx0O2lmKGN1c3RvbWl6ZXImJihyZXN1bHQ9b2JqZWN0P2N1c3RvbWl6ZXIodmFsdWUsa2V5LG9iamVjdCk6Y3VzdG9taXplcih2YWx1ZSkpLHJlc3VsdCE9PXVuZGVmaW5lZClyZXR1cm4gcmVzdWx0O2lmKCFpc09iamVjdCh2YWx1ZSkpcmV0dXJuIHZhbHVlO3ZhciBpc0Fycj1pc0FycmF5KHZhbHVlKTtpZihpc0Fycil7aWYocmVzdWx0PWluaXRDbG9uZUFycmF5KHZhbHVlKSwhaXNEZWVwKXJldHVybiBhcnJheUNvcHkodmFsdWUscmVzdWx0KX1lbHNle3ZhciB0YWc9b2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSksaXNGdW5jPXRhZz09ZnVuY1RhZztpZih0YWchPW9iamVjdFRhZyYmdGFnIT1hcmdzVGFnJiYoIWlzRnVuY3x8b2JqZWN0KSlyZXR1cm4gY2xvbmVhYmxlVGFnc1t0YWddP2luaXRDbG9uZUJ5VGFnKHZhbHVlLHRhZyxpc0RlZXApOm9iamVjdD92YWx1ZTp7fTtpZihyZXN1bHQ9aW5pdENsb25lT2JqZWN0KGlzRnVuYz97fTp2YWx1ZSksIWlzRGVlcClyZXR1cm4gYmFzZUFzc2lnbihyZXN1bHQsdmFsdWUpfXN0YWNrQXx8KHN0YWNrQT1bXSksc3RhY2tCfHwoc3RhY2tCPVtdKTtmb3IodmFyIGxlbmd0aD1zdGFja0EubGVuZ3RoO2xlbmd0aC0tOylpZihzdGFja0FbbGVuZ3RoXT09dmFsdWUpcmV0dXJuIHN0YWNrQltsZW5ndGhdO3JldHVybiBzdGFja0EucHVzaCh2YWx1ZSksc3RhY2tCLnB1c2gocmVzdWx0KSwoaXNBcnI/YXJyYXlFYWNoOmJhc2VGb3JPd24pKHZhbHVlLGZ1bmN0aW9uKHN1YlZhbHVlLGtleSl7cmVzdWx0W2tleV09YmFzZUNsb25lKHN1YlZhbHVlLGlzRGVlcCxjdXN0b21pemVyLGtleSx2YWx1ZSxzdGFja0Esc3RhY2tCKX0pLHJlc3VsdH1mdW5jdGlvbiBiYXNlRmlsdGVyKGNvbGxlY3Rpb24scHJlZGljYXRlKXt2YXIgcmVzdWx0PVtdO3JldHVybiBiYXNlRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3ByZWRpY2F0ZSh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKSYmcmVzdWx0LnB1c2godmFsdWUpfSkscmVzdWx0fWZ1bmN0aW9uIGJhc2VGb3JJbihvYmplY3QsaXRlcmF0ZWUpe3JldHVybiBiYXNlRm9yKG9iamVjdCxpdGVyYXRlZSxrZXlzSW4pfWZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LGl0ZXJhdGVlKXtyZXR1cm4gYmFzZUZvcihvYmplY3QsaXRlcmF0ZWUsa2V5cyl9ZnVuY3Rpb24gYmFzZUdldChvYmplY3QscGF0aCxwYXRoS2V5KXtpZihudWxsIT1vYmplY3Qpe3BhdGhLZXkhPT11bmRlZmluZWQmJnBhdGhLZXkgaW4gdG9PYmplY3Qob2JqZWN0KSYmKHBhdGg9W3BhdGhLZXldKTtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1wYXRoLmxlbmd0aDtudWxsIT1vYmplY3QmJmxlbmd0aD4rK2luZGV4Oyl2YXIgcmVzdWx0PW9iamVjdD1vYmplY3RbcGF0aFtpbmRleF1dO3JldHVybiByZXN1bHR9fWZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLG90aGVyLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKXtpZih2YWx1ZT09PW90aGVyKXJldHVybiAwIT09dmFsdWV8fDEvdmFsdWU9PTEvb3RoZXI7dmFyIHZhbFR5cGU9dHlwZW9mIHZhbHVlLG90aFR5cGU9dHlwZW9mIG90aGVyO3JldHVyblxcXCJmdW5jdGlvblxcXCIhPXZhbFR5cGUmJlxcXCJvYmplY3RcXFwiIT12YWxUeXBlJiZcXFwiZnVuY3Rpb25cXFwiIT1vdGhUeXBlJiZcXFwib2JqZWN0XFxcIiE9b3RoVHlwZXx8bnVsbD09dmFsdWV8fG51bGw9PW90aGVyP3ZhbHVlIT09dmFsdWUmJm90aGVyIT09b3RoZXI6YmFzZUlzRXF1YWxEZWVwKHZhbHVlLG90aGVyLGJhc2VJc0VxdWFsLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKX1mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LG90aGVyLGVxdWFsRnVuYyxjdXN0b21pemVyLGlzTG9vc2Usc3RhY2tBLHN0YWNrQil7dmFyIG9iaklzQXJyPWlzQXJyYXkob2JqZWN0KSxvdGhJc0Fycj1pc0FycmF5KG90aGVyKSxvYmpUYWc9YXJyYXlUYWcsb3RoVGFnPWFycmF5VGFnO29iaklzQXJyfHwob2JqVGFnPW9ialRvU3RyaW5nLmNhbGwob2JqZWN0KSxvYmpUYWc9PWFyZ3NUYWc/b2JqVGFnPW9iamVjdFRhZzpvYmpUYWchPW9iamVjdFRhZyYmKG9iaklzQXJyPWlzVHlwZWRBcnJheShvYmplY3QpKSksb3RoSXNBcnJ8fChvdGhUYWc9b2JqVG9TdHJpbmcuY2FsbChvdGhlciksb3RoVGFnPT1hcmdzVGFnP290aFRhZz1vYmplY3RUYWc6b3RoVGFnIT1vYmplY3RUYWcmJihvdGhJc0Fycj1pc1R5cGVkQXJyYXkob3RoZXIpKSk7dmFyIG9iaklzT2JqPW9ialRhZz09b2JqZWN0VGFnLG90aElzT2JqPW90aFRhZz09b2JqZWN0VGFnLGlzU2FtZVRhZz1vYmpUYWc9PW90aFRhZztpZihpc1NhbWVUYWcmJiFvYmpJc0FyciYmIW9iaklzT2JqKXJldHVybiBlcXVhbEJ5VGFnKG9iamVjdCxvdGhlcixvYmpUYWcpO2lmKCFpc0xvb3NlKXt2YXIgdmFsV3JhcHBlZD1vYmpJc09iaiYmaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsXFxcIl9fd3JhcHBlZF9fXFxcIiksb3RoV3JhcHBlZD1vdGhJc09iaiYmaGFzT3duUHJvcGVydHkuY2FsbChvdGhlcixcXFwiX193cmFwcGVkX19cXFwiKTtpZih2YWxXcmFwcGVkfHxvdGhXcmFwcGVkKXJldHVybiBlcXVhbEZ1bmModmFsV3JhcHBlZD9vYmplY3QudmFsdWUoKTpvYmplY3Qsb3RoV3JhcHBlZD9vdGhlci52YWx1ZSgpOm90aGVyLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKX1pZighaXNTYW1lVGFnKXJldHVybiExO3N0YWNrQXx8KHN0YWNrQT1bXSksc3RhY2tCfHwoc3RhY2tCPVtdKTtmb3IodmFyIGxlbmd0aD1zdGFja0EubGVuZ3RoO2xlbmd0aC0tOylpZihzdGFja0FbbGVuZ3RoXT09b2JqZWN0KXJldHVybiBzdGFja0JbbGVuZ3RoXT09b3RoZXI7c3RhY2tBLnB1c2gob2JqZWN0KSxzdGFja0IucHVzaChvdGhlcik7dmFyIHJlc3VsdD0ob2JqSXNBcnI/ZXF1YWxBcnJheXM6ZXF1YWxPYmplY3RzKShvYmplY3Qsb3RoZXIsZXF1YWxGdW5jLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKTtyZXR1cm4gc3RhY2tBLnBvcCgpLHN0YWNrQi5wb3AoKSxyZXN1bHR9ZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LHByb3BzLHZhbHVlcyxzdHJpY3RDb21wYXJlRmxhZ3MsY3VzdG9taXplcil7Zm9yKHZhciBpbmRleD0tMSxsZW5ndGg9cHJvcHMubGVuZ3RoLG5vQ3VzdG9taXplcj0hY3VzdG9taXplcjtsZW5ndGg+KytpbmRleDspaWYobm9DdXN0b21pemVyJiZzdHJpY3RDb21wYXJlRmxhZ3NbaW5kZXhdP3ZhbHVlc1tpbmRleF0hPT1vYmplY3RbcHJvcHNbaW5kZXhdXTohKHByb3BzW2luZGV4XWluIG9iamVjdCkpcmV0dXJuITE7Zm9yKGluZGV4PS0xO2xlbmd0aD4rK2luZGV4Oyl7dmFyIGtleT1wcm9wc1tpbmRleF0sb2JqVmFsdWU9b2JqZWN0W2tleV0sc3JjVmFsdWU9dmFsdWVzW2luZGV4XTtpZihub0N1c3RvbWl6ZXImJnN0cmljdENvbXBhcmVGbGFnc1tpbmRleF0pdmFyIHJlc3VsdD1vYmpWYWx1ZSE9PXVuZGVmaW5lZHx8a2V5IGluIG9iamVjdDtlbHNlIHJlc3VsdD1jdXN0b21pemVyP2N1c3RvbWl6ZXIob2JqVmFsdWUsc3JjVmFsdWUsa2V5KTp1bmRlZmluZWQscmVzdWx0PT09dW5kZWZpbmVkJiYocmVzdWx0PWJhc2VJc0VxdWFsKHNyY1ZhbHVlLG9ialZhbHVlLGN1c3RvbWl6ZXIsITApKTtpZighcmVzdWx0KXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSl7dmFyIHByb3BzPWtleXMoc291cmNlKSxsZW5ndGg9cHJvcHMubGVuZ3RoO2lmKCFsZW5ndGgpcmV0dXJuIGNvbnN0YW50KCEwKTtpZigxPT1sZW5ndGgpe3ZhciBrZXk9cHJvcHNbMF0sdmFsdWU9c291cmNlW2tleV07aWYoaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSlyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gbnVsbD09b2JqZWN0PyExOm9iamVjdFtrZXldPT09dmFsdWUmJih2YWx1ZSE9PXVuZGVmaW5lZHx8a2V5IGluIHRvT2JqZWN0KG9iamVjdCkpfX1mb3IodmFyIHZhbHVlcz1BcnJheShsZW5ndGgpLHN0cmljdENvbXBhcmVGbGFncz1BcnJheShsZW5ndGgpO2xlbmd0aC0tOyl2YWx1ZT1zb3VyY2VbcHJvcHNbbGVuZ3RoXV0sdmFsdWVzW2xlbmd0aF09dmFsdWUsc3RyaWN0Q29tcGFyZUZsYWdzW2xlbmd0aF09aXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKTtyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gbnVsbCE9b2JqZWN0JiZiYXNlSXNNYXRjaCh0b09iamVjdChvYmplY3QpLHByb3BzLHZhbHVlcyxzdHJpY3RDb21wYXJlRmxhZ3MpfX1mdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsdmFsdWUpe3ZhciBpc0Fycj1pc0FycmF5KHBhdGgpLGlzQ29tbW9uPWlzS2V5KHBhdGgpJiZpc1N0cmljdENvbXBhcmFibGUodmFsdWUpLHBhdGhLZXk9cGF0aCtcXFwiXFxcIjtyZXR1cm4gcGF0aD10b1BhdGgocGF0aCksZnVuY3Rpb24ob2JqZWN0KXtpZihudWxsPT1vYmplY3QpcmV0dXJuITE7dmFyIGtleT1wYXRoS2V5O2lmKG9iamVjdD10b09iamVjdChvYmplY3QpLCEoIWlzQXJyJiZpc0NvbW1vbnx8a2V5IGluIG9iamVjdCkpe2lmKG9iamVjdD0xPT1wYXRoLmxlbmd0aD9vYmplY3Q6YmFzZUdldChvYmplY3QsYmFzZVNsaWNlKHBhdGgsMCwtMSkpLG51bGw9PW9iamVjdClyZXR1cm4hMTtrZXk9bGFzdChwYXRoKSxvYmplY3Q9dG9PYmplY3Qob2JqZWN0KX1yZXR1cm4gb2JqZWN0W2tleV09PT12YWx1ZT92YWx1ZSE9PXVuZGVmaW5lZHx8a2V5IGluIG9iamVjdDpiYXNlSXNFcXVhbCh2YWx1ZSxvYmplY3Rba2V5XSxudWxsLCEwKX19ZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCxzb3VyY2UsY3VzdG9taXplcixzdGFja0Esc3RhY2tCKXtpZighaXNPYmplY3Qob2JqZWN0KSlyZXR1cm4gb2JqZWN0O3ZhciBpc1NyY0Fycj1pc0xlbmd0aChzb3VyY2UubGVuZ3RoKSYmKGlzQXJyYXkoc291cmNlKXx8aXNUeXBlZEFycmF5KHNvdXJjZSkpO2lmKCFpc1NyY0Fycil7dmFyIHByb3BzPWtleXMoc291cmNlKTtwdXNoLmFwcGx5KHByb3BzLGdldFN5bWJvbHMoc291cmNlKSl9cmV0dXJuIGFycmF5RWFjaChwcm9wc3x8c291cmNlLGZ1bmN0aW9uKHNyY1ZhbHVlLGtleSl7aWYocHJvcHMmJihrZXk9c3JjVmFsdWUsc3JjVmFsdWU9c291cmNlW2tleV0pLGlzT2JqZWN0TGlrZShzcmNWYWx1ZSkpc3RhY2tBfHwoc3RhY2tBPVtdKSxzdGFja0J8fChzdGFja0I9W10pLGJhc2VNZXJnZURlZXAob2JqZWN0LHNvdXJjZSxrZXksYmFzZU1lcmdlLGN1c3RvbWl6ZXIsc3RhY2tBLHN0YWNrQik7ZWxzZXt2YXIgdmFsdWU9b2JqZWN0W2tleV0scmVzdWx0PWN1c3RvbWl6ZXI/Y3VzdG9taXplcih2YWx1ZSxzcmNWYWx1ZSxrZXksb2JqZWN0LHNvdXJjZSk6dW5kZWZpbmVkLGlzQ29tbW9uPXJlc3VsdD09PXVuZGVmaW5lZDtpc0NvbW1vbiYmKHJlc3VsdD1zcmNWYWx1ZSksIWlzU3JjQXJyJiZyZXN1bHQ9PT11bmRlZmluZWR8fCFpc0NvbW1vbiYmKHJlc3VsdD09PXJlc3VsdD9yZXN1bHQ9PT12YWx1ZTp2YWx1ZSE9PXZhbHVlKXx8KG9iamVjdFtrZXldPXJlc3VsdCl9fSksb2JqZWN0fWZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LHNvdXJjZSxrZXksbWVyZ2VGdW5jLGN1c3RvbWl6ZXIsc3RhY2tBLHN0YWNrQil7Zm9yKHZhciBsZW5ndGg9c3RhY2tBLmxlbmd0aCxzcmNWYWx1ZT1zb3VyY2Vba2V5XTtsZW5ndGgtLTspaWYoc3RhY2tBW2xlbmd0aF09PXNyY1ZhbHVlKXJldHVybiBvYmplY3Rba2V5XT1zdGFja0JbbGVuZ3RoXSx1bmRlZmluZWQ7dmFyIHZhbHVlPW9iamVjdFtrZXldLHJlc3VsdD1jdXN0b21pemVyP2N1c3RvbWl6ZXIodmFsdWUsc3JjVmFsdWUsa2V5LG9iamVjdCxzb3VyY2UpOnVuZGVmaW5lZCxpc0NvbW1vbj1yZXN1bHQ9PT11bmRlZmluZWQ7aXNDb21tb24mJihyZXN1bHQ9c3JjVmFsdWUsaXNMZW5ndGgoc3JjVmFsdWUubGVuZ3RoKSYmKGlzQXJyYXkoc3JjVmFsdWUpfHxpc1R5cGVkQXJyYXkoc3JjVmFsdWUpKT9yZXN1bHQ9aXNBcnJheSh2YWx1ZSk/dmFsdWU6Z2V0TGVuZ3RoKHZhbHVlKT9hcnJheUNvcHkodmFsdWUpOltdOmlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpfHxpc0FyZ3VtZW50cyhzcmNWYWx1ZSk/cmVzdWx0PWlzQXJndW1lbnRzKHZhbHVlKT90b1BsYWluT2JqZWN0KHZhbHVlKTppc1BsYWluT2JqZWN0KHZhbHVlKT92YWx1ZTp7fTppc0NvbW1vbj0hMSksc3RhY2tBLnB1c2goc3JjVmFsdWUpLHN0YWNrQi5wdXNoKHJlc3VsdCksaXNDb21tb24/b2JqZWN0W2tleV09bWVyZ2VGdW5jKHJlc3VsdCxzcmNWYWx1ZSxjdXN0b21pemVyLHN0YWNrQSxzdGFja0IpOihyZXN1bHQ9PT1yZXN1bHQ/cmVzdWx0IT09dmFsdWU6dmFsdWU9PT12YWx1ZSkmJihvYmplY3Rba2V5XT1yZXN1bHQpfWZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpe3JldHVybiBmdW5jdGlvbihvYmplY3Qpe3JldHVybiBudWxsPT1vYmplY3Q/dW5kZWZpbmVkOm9iamVjdFtrZXldfX1mdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpe3ZhciBwYXRoS2V5PXBhdGgrXFxcIlxcXCI7cmV0dXJuIHBhdGg9dG9QYXRoKHBhdGgpLGZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIGJhc2VHZXQob2JqZWN0LHBhdGgscGF0aEtleSl9fWZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSxzdGFydCxlbmQpe3ZhciBpbmRleD0tMSxsZW5ndGg9YXJyYXkubGVuZ3RoO3N0YXJ0PW51bGw9PXN0YXJ0PzA6K3N0YXJ0fHwwLDA+c3RhcnQmJihzdGFydD0tc3RhcnQ+bGVuZ3RoPzA6bGVuZ3RoK3N0YXJ0KSxlbmQ9ZW5kPT09dW5kZWZpbmVkfHxlbmQ+bGVuZ3RoP2xlbmd0aDorZW5kfHwwLDA+ZW5kJiYoZW5kKz1sZW5ndGgpLGxlbmd0aD1zdGFydD5lbmQ/MDplbmQtc3RhcnQ+Pj4wLHN0YXJ0Pj4+PTA7Zm9yKHZhciByZXN1bHQ9QXJyYXkobGVuZ3RoKTtsZW5ndGg+KytpbmRleDspcmVzdWx0W2luZGV4XT1hcnJheVtpbmRleCtzdGFydF07cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLHByZWRpY2F0ZSl7dmFyIHJlc3VsdDtyZXR1cm4gYmFzZUVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4gcmVzdWx0PXByZWRpY2F0ZSh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKSwhcmVzdWx0fSksISFyZXN1bHR9ZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QscHJvcHMpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPXByb3BzLmxlbmd0aCxyZXN1bHQ9QXJyYXkobGVuZ3RoKTtsZW5ndGg+KytpbmRleDspcmVzdWx0W2luZGV4XT1vYmplY3RbcHJvcHNbaW5kZXhdXTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGJpbmFyeUluZGV4KGFycmF5LHZhbHVlLHJldEhpZ2hlc3Qpe3ZhciBsb3c9MCxoaWdoPWFycmF5P2FycmF5Lmxlbmd0aDpsb3c7aWYoXFxcIm51bWJlclxcXCI9PXR5cGVvZiB2YWx1ZSYmdmFsdWU9PT12YWx1ZSYmSEFMRl9NQVhfQVJSQVlfTEVOR1RIPj1oaWdoKXtmb3IoO2hpZ2g+bG93Oyl7dmFyIG1pZD1sb3craGlnaD4+PjEsY29tcHV0ZWQ9YXJyYXlbbWlkXTsocmV0SGlnaGVzdD92YWx1ZT49Y29tcHV0ZWQ6dmFsdWU+Y29tcHV0ZWQpP2xvdz1taWQrMTpoaWdoPW1pZH1yZXR1cm4gaGlnaH1yZXR1cm4gYmluYXJ5SW5kZXhCeShhcnJheSx2YWx1ZSxpZGVudGl0eSxyZXRIaWdoZXN0KX1mdW5jdGlvbiBiaW5hcnlJbmRleEJ5KGFycmF5LHZhbHVlLGl0ZXJhdGVlLHJldEhpZ2hlc3Qpe3ZhbHVlPWl0ZXJhdGVlKHZhbHVlKTtmb3IodmFyIGxvdz0wLGhpZ2g9YXJyYXk/YXJyYXkubGVuZ3RoOjAsdmFsSXNOYU49dmFsdWUhPT12YWx1ZSx2YWxJc1VuZGVmPXZhbHVlPT09dW5kZWZpbmVkO2hpZ2g+bG93Oyl7dmFyIG1pZD1mbG9vcigobG93K2hpZ2gpLzIpLGNvbXB1dGVkPWl0ZXJhdGVlKGFycmF5W21pZF0pLGlzUmVmbGV4aXZlPWNvbXB1dGVkPT09Y29tcHV0ZWQ7aWYodmFsSXNOYU4pdmFyIHNldExvdz1pc1JlZmxleGl2ZXx8cmV0SGlnaGVzdDtlbHNlIHNldExvdz12YWxJc1VuZGVmP2lzUmVmbGV4aXZlJiYocmV0SGlnaGVzdHx8Y29tcHV0ZWQhPT11bmRlZmluZWQpOnJldEhpZ2hlc3Q/dmFsdWU+PWNvbXB1dGVkOnZhbHVlPmNvbXB1dGVkO3NldExvdz9sb3c9bWlkKzE6aGlnaD1taWR9cmV0dXJuIG5hdGl2ZU1pbihoaWdoLE1BWF9BUlJBWV9JTkRFWCl9ZnVuY3Rpb24gYmluZENhbGxiYWNrKGZ1bmMsdGhpc0FyZyxhcmdDb3VudCl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGZ1bmMpcmV0dXJuIGlkZW50aXR5O2lmKHRoaXNBcmc9PT11bmRlZmluZWQpcmV0dXJuIGZ1bmM7c3dpdGNoKGFyZ0NvdW50KXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsdmFsdWUpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3JldHVybiBmdW5jLmNhbGwodGhpc0FyZyx2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKX07Y2FzZSA0OnJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvcix2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsYWNjdW11bGF0b3IsdmFsdWUsaW5kZXgsY29sbGVjdGlvbil9O2Nhc2UgNTpyZXR1cm4gZnVuY3Rpb24odmFsdWUsb3RoZXIsa2V5LG9iamVjdCxzb3VyY2Upe3JldHVybiBmdW5jLmNhbGwodGhpc0FyZyx2YWx1ZSxvdGhlcixrZXksb2JqZWN0LHNvdXJjZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsYXJndW1lbnRzKX19ZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmZmVyKXtyZXR1cm4gYnVmZmVyU2xpY2UuY2FsbChidWZmZXIsMCl9ZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpe3JldHVybiByZXN0UGFyYW0oZnVuY3Rpb24ob2JqZWN0LHNvdXJjZXMpe3ZhciBpbmRleD0tMSxsZW5ndGg9bnVsbD09b2JqZWN0PzA6c291cmNlcy5sZW5ndGgsY3VzdG9taXplcj1sZW5ndGg+MiYmc291cmNlc1tsZW5ndGgtMl0sZ3VhcmQ9bGVuZ3RoPjImJnNvdXJjZXNbMl0sdGhpc0FyZz1sZW5ndGg+MSYmc291cmNlc1tsZW5ndGgtMV07Zm9yKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjdXN0b21pemVyPyhjdXN0b21pemVyPWJpbmRDYWxsYmFjayhjdXN0b21pemVyLHRoaXNBcmcsNSksbGVuZ3RoLT0yKTooY3VzdG9taXplcj1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgdGhpc0FyZz90aGlzQXJnOm51bGwsbGVuZ3RoLT1jdXN0b21pemVyPzE6MCksZ3VhcmQmJmlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sc291cmNlc1sxXSxndWFyZCkmJihjdXN0b21pemVyPTM+bGVuZ3RoP251bGw6Y3VzdG9taXplcixsZW5ndGg9MSk7bGVuZ3RoPisraW5kZXg7KXt2YXIgc291cmNlPXNvdXJjZXNbaW5kZXhdO3NvdXJjZSYmYXNzaWduZXIob2JqZWN0LHNvdXJjZSxjdXN0b21pemVyKX1yZXR1cm4gb2JqZWN0fSl9ZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsZnJvbVJpZ2h0KXtyZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbixpdGVyYXRlZSl7dmFyIGxlbmd0aD1jb2xsZWN0aW9uP2dldExlbmd0aChjb2xsZWN0aW9uKTowO2lmKCFpc0xlbmd0aChsZW5ndGgpKXJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLGl0ZXJhdGVlKTtmb3IodmFyIGluZGV4PWZyb21SaWdodD9sZW5ndGg6LTEsaXRlcmFibGU9dG9PYmplY3QoY29sbGVjdGlvbik7KGZyb21SaWdodD9pbmRleC0tOmxlbmd0aD4rK2luZGV4KSYmaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLGluZGV4LGl0ZXJhYmxlKSE9PSExOyk7cmV0dXJuIGNvbGxlY3Rpb259fWZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KXtyZXR1cm4gZnVuY3Rpb24ob2JqZWN0LGl0ZXJhdGVlLGtleXNGdW5jKXtmb3IodmFyIGl0ZXJhYmxlPXRvT2JqZWN0KG9iamVjdCkscHJvcHM9a2V5c0Z1bmMob2JqZWN0KSxsZW5ndGg9cHJvcHMubGVuZ3RoLGluZGV4PWZyb21SaWdodD9sZW5ndGg6LTE7ZnJvbVJpZ2h0P2luZGV4LS06bGVuZ3RoPisraW5kZXg7KXt2YXIga2V5PXByb3BzW2luZGV4XTtpZihpdGVyYXRlZShpdGVyYWJsZVtrZXldLGtleSxpdGVyYWJsZSk9PT0hMSlicmVha31yZXR1cm4gb2JqZWN0fX1mdW5jdGlvbiBjcmVhdGVGaW5kSW5kZXgoZnJvbVJpZ2h0KXtyZXR1cm4gZnVuY3Rpb24oYXJyYXkscHJlZGljYXRlLHRoaXNBcmcpe3JldHVybiBhcnJheSYmYXJyYXkubGVuZ3RoPyhwcmVkaWNhdGU9Z2V0Q2FsbGJhY2socHJlZGljYXRlLHRoaXNBcmcsMyksYmFzZUZpbmRJbmRleChhcnJheSxwcmVkaWNhdGUsZnJvbVJpZ2h0KSk6LTF9fWZ1bmN0aW9uIGNyZWF0ZUZvckVhY2goYXJyYXlGdW5jLGVhY2hGdW5jKXtyZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbixpdGVyYXRlZSx0aGlzQXJnKXtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgaXRlcmF0ZWUmJnRoaXNBcmc9PT11bmRlZmluZWQmJmlzQXJyYXkoY29sbGVjdGlvbik/YXJyYXlGdW5jKGNvbGxlY3Rpb24saXRlcmF0ZWUpOmVhY2hGdW5jKGNvbGxlY3Rpb24sYmluZENhbGxiYWNrKGl0ZXJhdGVlLHRoaXNBcmcsMykpfX1mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSxvdGhlcixlcXVhbEZ1bmMsY3VzdG9taXplcixpc0xvb3NlLHN0YWNrQSxzdGFja0Ipe3ZhciBpbmRleD0tMSxhcnJMZW5ndGg9YXJyYXkubGVuZ3RoLG90aExlbmd0aD1vdGhlci5sZW5ndGgscmVzdWx0PSEwO2lmKGFyckxlbmd0aCE9b3RoTGVuZ3RoJiYhKGlzTG9vc2UmJm90aExlbmd0aD5hcnJMZW5ndGgpKXJldHVybiExO2Zvcig7cmVzdWx0JiZhcnJMZW5ndGg+KytpbmRleDspe3ZhciBhcnJWYWx1ZT1hcnJheVtpbmRleF0sb3RoVmFsdWU9b3RoZXJbaW5kZXhdO2lmKHJlc3VsdD11bmRlZmluZWQsY3VzdG9taXplciYmKHJlc3VsdD1pc0xvb3NlP2N1c3RvbWl6ZXIob3RoVmFsdWUsYXJyVmFsdWUsaW5kZXgpOmN1c3RvbWl6ZXIoYXJyVmFsdWUsb3RoVmFsdWUsaW5kZXgpKSxyZXN1bHQ9PT11bmRlZmluZWQpaWYoaXNMb29zZSlmb3IodmFyIG90aEluZGV4PW90aExlbmd0aDtvdGhJbmRleC0tJiYob3RoVmFsdWU9b3RoZXJbb3RoSW5kZXhdLCEocmVzdWx0PWFyclZhbHVlJiZhcnJWYWx1ZT09PW90aFZhbHVlfHxlcXVhbEZ1bmMoYXJyVmFsdWUsb3RoVmFsdWUsY3VzdG9taXplcixpc0xvb3NlLHN0YWNrQSxzdGFja0IpKSk7KTtlbHNlIHJlc3VsdD1hcnJWYWx1ZSYmYXJyVmFsdWU9PT1vdGhWYWx1ZXx8ZXF1YWxGdW5jKGFyclZhbHVlLG90aFZhbHVlLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKX1yZXR1cm4hIXJlc3VsdH1mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCxvdGhlcix0YWcpe3N3aXRjaCh0YWcpe2Nhc2UgYm9vbFRhZzpjYXNlIGRhdGVUYWc6cmV0dXJuK29iamVjdD09K290aGVyO2Nhc2UgZXJyb3JUYWc6cmV0dXJuIG9iamVjdC5uYW1lPT1vdGhlci5uYW1lJiZvYmplY3QubWVzc2FnZT09b3RoZXIubWVzc2FnZTtjYXNlIG51bWJlclRhZzpyZXR1cm4gb2JqZWN0IT0rb2JqZWN0P290aGVyIT0rb3RoZXI6MD09b2JqZWN0PzEvb2JqZWN0PT0xL290aGVyOm9iamVjdD09K290aGVyO2Nhc2UgcmVnZXhwVGFnOmNhc2Ugc3RyaW5nVGFnOnJldHVybiBvYmplY3Q9PW90aGVyK1xcXCJcXFwifXJldHVybiExfWZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3Qsb3RoZXIsZXF1YWxGdW5jLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKXt2YXIgb2JqUHJvcHM9a2V5cyhvYmplY3QpLG9iakxlbmd0aD1vYmpQcm9wcy5sZW5ndGgsb3RoUHJvcHM9a2V5cyhvdGhlciksb3RoTGVuZ3RoPW90aFByb3BzLmxlbmd0aDtpZihvYmpMZW5ndGghPW90aExlbmd0aCYmIWlzTG9vc2UpcmV0dXJuITE7Zm9yKHZhciBza2lwQ3Rvcj1pc0xvb3NlLGluZGV4PS0xO29iakxlbmd0aD4rK2luZGV4Oyl7dmFyIGtleT1vYmpQcm9wc1tpbmRleF0scmVzdWx0PWlzTG9vc2U/a2V5IGluIG90aGVyOmhhc093blByb3BlcnR5LmNhbGwob3RoZXIsa2V5KTtpZihyZXN1bHQpe3ZhciBvYmpWYWx1ZT1vYmplY3Rba2V5XSxvdGhWYWx1ZT1vdGhlcltrZXldO3Jlc3VsdD11bmRlZmluZWQsY3VzdG9taXplciYmKHJlc3VsdD1pc0xvb3NlP2N1c3RvbWl6ZXIob3RoVmFsdWUsb2JqVmFsdWUsa2V5KTpjdXN0b21pemVyKG9ialZhbHVlLG90aFZhbHVlLGtleSkpLHJlc3VsdD09PXVuZGVmaW5lZCYmKHJlc3VsdD1vYmpWYWx1ZSYmb2JqVmFsdWU9PT1vdGhWYWx1ZXx8ZXF1YWxGdW5jKG9ialZhbHVlLG90aFZhbHVlLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKSl9aWYoIXJlc3VsdClyZXR1cm4hMTtza2lwQ3Rvcnx8KHNraXBDdG9yPVxcXCJjb25zdHJ1Y3RvclxcXCI9PWtleSl9aWYoIXNraXBDdG9yKXt2YXIgb2JqQ3Rvcj1vYmplY3QuY29uc3RydWN0b3Isb3RoQ3Rvcj1vdGhlci5jb25zdHJ1Y3RvcjtpZihvYmpDdG9yIT1vdGhDdG9yJiZcXFwiY29uc3RydWN0b3JcXFwiaW4gb2JqZWN0JiZcXFwiY29uc3RydWN0b3JcXFwiaW4gb3RoZXImJiEoXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIG9iakN0b3ImJm9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yJiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2Ygb3RoQ3RvciYmb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGdldENhbGxiYWNrKGZ1bmMsdGhpc0FyZyxhcmdDb3VudCl7dmFyIHJlc3VsdD1sb2Rhc2guY2FsbGJhY2t8fGNhbGxiYWNrO3JldHVybiByZXN1bHQ9cmVzdWx0PT09Y2FsbGJhY2s/YmFzZUNhbGxiYWNrOnJlc3VsdCxhcmdDb3VudD9yZXN1bHQoZnVuYyx0aGlzQXJnLGFyZ0NvdW50KTpyZXN1bHR9ZnVuY3Rpb24gZ2V0SW5kZXhPZihjb2xsZWN0aW9uLHRhcmdldCxmcm9tSW5kZXgpe3ZhciByZXN1bHQ9bG9kYXNoLmluZGV4T2Z8fGluZGV4T2Y7cmV0dXJuIHJlc3VsdD1yZXN1bHQ9PT1pbmRleE9mP2Jhc2VJbmRleE9mOnJlc3VsdCxjb2xsZWN0aW9uP3Jlc3VsdChjb2xsZWN0aW9uLHRhcmdldCxmcm9tSW5kZXgpOnJlc3VsdH1mdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSl7dmFyIGxlbmd0aD1hcnJheS5sZW5ndGgscmVzdWx0PW5ldyBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO3JldHVybiBsZW5ndGgmJlxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYXJyYXlbMF0mJmhhc093blByb3BlcnR5LmNhbGwoYXJyYXksXFxcImluZGV4XFxcIikmJihyZXN1bHQuaW5kZXg9YXJyYXkuaW5kZXgscmVzdWx0LmlucHV0PWFycmF5LmlucHV0KSxyZXN1bHR9ZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCl7dmFyIEN0b3I9b2JqZWN0LmNvbnN0cnVjdG9yO3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBDdG9yJiZDdG9yIGluc3RhbmNlb2YgQ3Rvcnx8KEN0b3I9T2JqZWN0KSxuZXcgQ3Rvcn1mdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsdGFnLGlzRGVlcCl7dmFyIEN0b3I9b2JqZWN0LmNvbnN0cnVjdG9yO3N3aXRjaCh0YWcpe2Nhc2UgYXJyYXlCdWZmZXJUYWc6cmV0dXJuIGJ1ZmZlckNsb25lKG9iamVjdCk7Y2FzZSBib29sVGFnOmNhc2UgZGF0ZVRhZzpyZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7Y2FzZSBmbG9hdDMyVGFnOmNhc2UgZmxvYXQ2NFRhZzpjYXNlIGludDhUYWc6Y2FzZSBpbnQxNlRhZzpjYXNlIGludDMyVGFnOmNhc2UgdWludDhUYWc6Y2FzZSB1aW50OENsYW1wZWRUYWc6Y2FzZSB1aW50MTZUYWc6Y2FzZSB1aW50MzJUYWc6dmFyIGJ1ZmZlcj1vYmplY3QuYnVmZmVyO3JldHVybiBuZXcgQ3Rvcihpc0RlZXA/YnVmZmVyQ2xvbmUoYnVmZmVyKTpidWZmZXIsb2JqZWN0LmJ5dGVPZmZzZXQsb2JqZWN0Lmxlbmd0aCk7Y2FzZSBudW1iZXJUYWc6Y2FzZSBzdHJpbmdUYWc6cmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7Y2FzZSByZWdleHBUYWc6dmFyIHJlc3VsdD1uZXcgQ3RvcihvYmplY3Quc291cmNlLHJlRmxhZ3MuZXhlYyhvYmplY3QpKTtyZXN1bHQubGFzdEluZGV4PW9iamVjdC5sYXN0SW5kZXh9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBpc0luZGV4KHZhbHVlLGxlbmd0aCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxsZW5ndGg9bnVsbD09bGVuZ3RoP01BWF9TQUZFX0lOVEVHRVI6bGVuZ3RoLHZhbHVlPi0xJiYwPT12YWx1ZSUxJiZsZW5ndGg+dmFsdWV9ZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsaW5kZXgsb2JqZWN0KXtpZighaXNPYmplY3Qob2JqZWN0KSlyZXR1cm4hMTt2YXIgdHlwZT10eXBlb2YgaW5kZXg7aWYoXFxcIm51bWJlclxcXCI9PXR5cGUpdmFyIGxlbmd0aD1nZXRMZW5ndGgob2JqZWN0KSxwcmVyZXE9aXNMZW5ndGgobGVuZ3RoKSYmaXNJbmRleChpbmRleCxsZW5ndGgpO2Vsc2UgcHJlcmVxPVxcXCJzdHJpbmdcXFwiPT10eXBlJiZpbmRleCBpbiBvYmplY3Q7aWYocHJlcmVxKXt2YXIgb3RoZXI9b2JqZWN0W2luZGV4XTtyZXR1cm4gdmFsdWU9PT12YWx1ZT92YWx1ZT09PW90aGVyOm90aGVyIT09b3RoZXJ9cmV0dXJuITF9ZnVuY3Rpb24gaXNLZXkodmFsdWUsb2JqZWN0KXt2YXIgdHlwZT10eXBlb2YgdmFsdWU7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGUmJnJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSl8fFxcXCJudW1iZXJcXFwiPT10eXBlKXJldHVybiEwO2lmKGlzQXJyYXkodmFsdWUpKXJldHVybiExO3ZhciByZXN1bHQ9IXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKTtyZXR1cm4gcmVzdWx0fHxudWxsIT1vYmplY3QmJnZhbHVlIGluIHRvT2JqZWN0KG9iamVjdCl9ZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpe3JldHVyblxcXCJudW1iZXJcXFwiPT10eXBlb2YgdmFsdWUmJnZhbHVlPi0xJiYwPT12YWx1ZSUxJiZNQVhfU0FGRV9JTlRFR0VSPj12YWx1ZX1mdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpe3JldHVybiB2YWx1ZT09PXZhbHVlJiYoMD09PXZhbHVlPzEvdmFsdWU+MDohaXNPYmplY3QodmFsdWUpKX1mdW5jdGlvbiBzaGltSXNQbGFpbk9iamVjdCh2YWx1ZSl7dmFyIEN0b3I7aWYobG9kYXNoLnN1cHBvcnQsIWlzT2JqZWN0TGlrZSh2YWx1ZSl8fG9ialRvU3RyaW5nLmNhbGwodmFsdWUpIT1vYmplY3RUYWd8fCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLFxcXCJjb25zdHJ1Y3RvclxcXCIpJiYoQ3Rvcj12YWx1ZS5jb25zdHJ1Y3RvcixcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgQ3RvciYmIShDdG9yIGluc3RhbmNlb2YgQ3RvcikpKXJldHVybiExO3ZhciByZXN1bHQ7cmV0dXJuIGJhc2VGb3JJbih2YWx1ZSxmdW5jdGlvbihzdWJWYWx1ZSxrZXkpe3Jlc3VsdD1rZXl9KSxyZXN1bHQ9PT11bmRlZmluZWR8fGhhc093blByb3BlcnR5LmNhbGwodmFsdWUscmVzdWx0KX1mdW5jdGlvbiBzaGltS2V5cyhvYmplY3Qpe2Zvcih2YXIgcHJvcHM9a2V5c0luKG9iamVjdCkscHJvcHNMZW5ndGg9cHJvcHMubGVuZ3RoLGxlbmd0aD1wcm9wc0xlbmd0aCYmb2JqZWN0Lmxlbmd0aCxzdXBwb3J0PWxvZGFzaC5zdXBwb3J0LGFsbG93SW5kZXhlcz1sZW5ndGgmJmlzTGVuZ3RoKGxlbmd0aCkmJihpc0FycmF5KG9iamVjdCl8fHN1cHBvcnQubm9uRW51bUFyZ3MmJmlzQXJndW1lbnRzKG9iamVjdCkpLGluZGV4PS0xLHJlc3VsdD1bXTtwcm9wc0xlbmd0aD4rK2luZGV4Oyl7dmFyIGtleT1wcm9wc1tpbmRleF07KGFsbG93SW5kZXhlcyYmaXNJbmRleChrZXksbGVuZ3RoKXx8aGFzT3duUHJvcGVydHkuY2FsbChvYmplY3Qsa2V5KSkmJnJlc3VsdC5wdXNoKGtleSl9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiB0b09iamVjdCh2YWx1ZSl7cmV0dXJuIGlzT2JqZWN0KHZhbHVlKT92YWx1ZTpPYmplY3QodmFsdWUpfWZ1bmN0aW9uIHRvUGF0aCh2YWx1ZSl7aWYoaXNBcnJheSh2YWx1ZSkpcmV0dXJuIHZhbHVlO3ZhciByZXN1bHQ9W107cmV0dXJuIGJhc2VUb1N0cmluZyh2YWx1ZSkucmVwbGFjZShyZVByb3BOYW1lLGZ1bmN0aW9uKG1hdGNoLG51bWJlcixxdW90ZSxzdHJpbmcpe3Jlc3VsdC5wdXNoKHF1b3RlP3N0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhcixcXFwiJDFcXFwiKTpudW1iZXJ8fG1hdGNoKX0pLHJlc3VsdH1mdW5jdGlvbiBpbmRleE9mKGFycmF5LHZhbHVlLGZyb21JbmRleCl7dmFyIGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtpZighbGVuZ3RoKXJldHVybi0xO2lmKFxcXCJudW1iZXJcXFwiPT10eXBlb2YgZnJvbUluZGV4KWZyb21JbmRleD0wPmZyb21JbmRleD9uYXRpdmVNYXgobGVuZ3RoK2Zyb21JbmRleCwwKTpmcm9tSW5kZXg7ZWxzZSBpZihmcm9tSW5kZXgpe3ZhciBpbmRleD1iaW5hcnlJbmRleChhcnJheSx2YWx1ZSksb3RoZXI9YXJyYXlbaW5kZXhdO3JldHVybih2YWx1ZT09PXZhbHVlP3ZhbHVlPT09b3RoZXI6b3RoZXIhPT1vdGhlcik/aW5kZXg6LTF9cmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LHZhbHVlLGZyb21JbmRleHx8MCl9ZnVuY3Rpb24gbGFzdChhcnJheSl7dmFyIGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtyZXR1cm4gbGVuZ3RoP2FycmF5W2xlbmd0aC0xXTp1bmRlZmluZWR9ZnVuY3Rpb24gc2xpY2UoYXJyYXksc3RhcnQsZW5kKXt2YXIgbGVuZ3RoPWFycmF5P2FycmF5Lmxlbmd0aDowO3JldHVybiBsZW5ndGg/KGVuZCYmXFxcIm51bWJlclxcXCIhPXR5cGVvZiBlbmQmJmlzSXRlcmF0ZWVDYWxsKGFycmF5LHN0YXJ0LGVuZCkmJihzdGFydD0wLGVuZD1sZW5ndGgpLGJhc2VTbGljZShhcnJheSxzdGFydCxlbmQpKTpbXX1mdW5jdGlvbiB1bnppcChhcnJheSl7Zm9yKHZhciBpbmRleD0tMSxsZW5ndGg9KGFycmF5JiZhcnJheS5sZW5ndGgmJmFycmF5TWF4KGFycmF5TWFwKGFycmF5LGdldExlbmd0aCkpKT4+PjAscmVzdWx0PUFycmF5KGxlbmd0aCk7bGVuZ3RoPisraW5kZXg7KXJlc3VsdFtpbmRleF09YXJyYXlNYXAoYXJyYXksYmFzZVByb3BlcnR5KGluZGV4KSk7cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLHRhcmdldCxmcm9tSW5kZXgsZ3VhcmQpe3ZhciBsZW5ndGg9Y29sbGVjdGlvbj9nZXRMZW5ndGgoY29sbGVjdGlvbik6MDtyZXR1cm4gaXNMZW5ndGgobGVuZ3RoKXx8KGNvbGxlY3Rpb249dmFsdWVzKGNvbGxlY3Rpb24pLGxlbmd0aD1jb2xsZWN0aW9uLmxlbmd0aCksbGVuZ3RoPyhmcm9tSW5kZXg9XFxcIm51bWJlclxcXCIhPXR5cGVvZiBmcm9tSW5kZXh8fGd1YXJkJiZpc0l0ZXJhdGVlQ2FsbCh0YXJnZXQsZnJvbUluZGV4LGd1YXJkKT8wOjA+ZnJvbUluZGV4P25hdGl2ZU1heChsZW5ndGgrZnJvbUluZGV4LDApOmZyb21JbmRleHx8MCxcXFwic3RyaW5nXFxcIj09dHlwZW9mIGNvbGxlY3Rpb258fCFpc0FycmF5KGNvbGxlY3Rpb24pJiZpc1N0cmluZyhjb2xsZWN0aW9uKT9sZW5ndGg+ZnJvbUluZGV4JiZjb2xsZWN0aW9uLmluZGV4T2YodGFyZ2V0LGZyb21JbmRleCk+LTE6Z2V0SW5kZXhPZihjb2xsZWN0aW9uLHRhcmdldCxmcm9tSW5kZXgpPi0xKTohMX1mdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbixwcmVkaWNhdGUsdGhpc0FyZyl7dmFyIGZ1bmM9aXNBcnJheShjb2xsZWN0aW9uKT9hcnJheUZpbHRlcjpiYXNlRmlsdGVyO3JldHVybiBwcmVkaWNhdGU9Z2V0Q2FsbGJhY2socHJlZGljYXRlLHRoaXNBcmcsMyksZnVuYyhjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3JldHVybiFwcmVkaWNhdGUodmFsdWUsaW5kZXgsY29sbGVjdGlvbil9KX1mdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24scHJlZGljYXRlLHRoaXNBcmcpe3ZhciBmdW5jPWlzQXJyYXkoY29sbGVjdGlvbik/YXJyYXlTb21lOmJhc2VTb21lO3JldHVybiB0aGlzQXJnJiZpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLHByZWRpY2F0ZSx0aGlzQXJnKSYmKHByZWRpY2F0ZT1udWxsKSwoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIHByZWRpY2F0ZXx8dGhpc0FyZyE9PXVuZGVmaW5lZCkmJihwcmVkaWNhdGU9Z2V0Q2FsbGJhY2socHJlZGljYXRlLHRoaXNBcmcsMykpLGZ1bmMoY29sbGVjdGlvbixwcmVkaWNhdGUpfWZ1bmN0aW9uIHJlc3RQYXJhbShmdW5jLHN0YXJ0KXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZnVuYyl0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7cmV0dXJuIHN0YXJ0PW5hdGl2ZU1heChzdGFydD09PXVuZGVmaW5lZD9mdW5jLmxlbmd0aC0xOitzdGFydHx8MCwwKSxmdW5jdGlvbigpe2Zvcih2YXIgYXJncz1hcmd1bWVudHMsaW5kZXg9LTEsbGVuZ3RoPW5hdGl2ZU1heChhcmdzLmxlbmd0aC1zdGFydCwwKSxyZXN0PUFycmF5KGxlbmd0aCk7bGVuZ3RoPisraW5kZXg7KXJlc3RbaW5kZXhdPWFyZ3Nbc3RhcnQraW5kZXhdO3N3aXRjaChzdGFydCl7Y2FzZSAwOnJldHVybiBmdW5jLmNhbGwodGhpcyxyZXN0KTtjYXNlIDE6cmV0dXJuIGZ1bmMuY2FsbCh0aGlzLGFyZ3NbMF0scmVzdCk7Y2FzZSAyOnJldHVybiBmdW5jLmNhbGwodGhpcyxhcmdzWzBdLGFyZ3NbMV0scmVzdCl9dmFyIG90aGVyQXJncz1BcnJheShzdGFydCsxKTtmb3IoaW5kZXg9LTE7c3RhcnQ+KytpbmRleDspb3RoZXJBcmdzW2luZGV4XT1hcmdzW2luZGV4XTtyZXR1cm4gb3RoZXJBcmdzW3N0YXJ0XT1yZXN0LGZ1bmMuYXBwbHkodGhpcyxvdGhlckFyZ3MpfX1mdW5jdGlvbiBjbG9uZSh2YWx1ZSxpc0RlZXAsY3VzdG9taXplcix0aGlzQXJnKXtyZXR1cm4gaXNEZWVwJiZcXFwiYm9vbGVhblxcXCIhPXR5cGVvZiBpc0RlZXAmJmlzSXRlcmF0ZWVDYWxsKHZhbHVlLGlzRGVlcCxjdXN0b21pemVyKT9pc0RlZXA9ITE6XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGlzRGVlcCYmKHRoaXNBcmc9Y3VzdG9taXplcixjdXN0b21pemVyPWlzRGVlcCxpc0RlZXA9ITEpLGN1c3RvbWl6ZXI9XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGN1c3RvbWl6ZXImJmJpbmRDYWxsYmFjayhjdXN0b21pemVyLHRoaXNBcmcsMSksYmFzZUNsb25lKHZhbHVlLGlzRGVlcCxjdXN0b21pemVyKX1mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSl7dmFyIGxlbmd0aD1pc09iamVjdExpa2UodmFsdWUpP3ZhbHVlLmxlbmd0aDp1bmRlZmluZWQ7cmV0dXJuIGlzTGVuZ3RoKGxlbmd0aCkmJm9ialRvU3RyaW5nLmNhbGwodmFsdWUpPT1hcmdzVGFnfWZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpe2lmKG51bGw9PXZhbHVlKXJldHVybiEwO3ZhciBsZW5ndGg9Z2V0TGVuZ3RoKHZhbHVlKTtyZXR1cm4gaXNMZW5ndGgobGVuZ3RoKSYmKGlzQXJyYXkodmFsdWUpfHxpc1N0cmluZyh2YWx1ZSl8fGlzQXJndW1lbnRzKHZhbHVlKXx8aXNPYmplY3RMaWtlKHZhbHVlKSYmaXNGdW5jdGlvbih2YWx1ZS5zcGxpY2UpKT8hbGVuZ3RoOiFrZXlzKHZhbHVlKS5sZW5ndGh9ZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpe3ZhciB0eXBlPXR5cGVvZiB2YWx1ZTtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT10eXBlfHwhIXZhbHVlJiZcXFwib2JqZWN0XFxcIj09dHlwZX1mdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSl7cmV0dXJuIG51bGw9PXZhbHVlPyExOm9ialRvU3RyaW5nLmNhbGwodmFsdWUpPT1mdW5jVGFnP3JlSXNOYXRpdmUudGVzdChmblRvU3RyaW5nLmNhbGwodmFsdWUpKTppc09iamVjdExpa2UodmFsdWUpJiZyZUlzSG9zdEN0b3IudGVzdCh2YWx1ZSl9ZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpe3JldHVyblxcXCJudW1iZXJcXFwiPT10eXBlb2YgdmFsdWV8fGlzT2JqZWN0TGlrZSh2YWx1ZSkmJm9ialRvU3RyaW5nLmNhbGwodmFsdWUpPT1udW1iZXJUYWd9ZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpe3JldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdmFsdWV8fGlzT2JqZWN0TGlrZSh2YWx1ZSkmJm9ialRvU3RyaW5nLmNhbGwodmFsdWUpPT1zdHJpbmdUYWd9ZnVuY3Rpb24gaXNUeXBlZEFycmF5KHZhbHVlKXtyZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSYmaXNMZW5ndGgodmFsdWUubGVuZ3RoKSYmISF0eXBlZEFycmF5VGFnc1tvYmpUb1N0cmluZy5jYWxsKHZhbHVlKV19ZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSl7cmV0dXJuIGJhc2VDb3B5KHZhbHVlLGtleXNJbih2YWx1ZSkpfWZ1bmN0aW9uIGhhcyhvYmplY3QscGF0aCl7aWYobnVsbD09b2JqZWN0KXJldHVybiExO3ZhciByZXN1bHQ9aGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QscGF0aCk7cmV0dXJuIHJlc3VsdHx8aXNLZXkocGF0aCl8fChwYXRoPXRvUGF0aChwYXRoKSxvYmplY3Q9MT09cGF0aC5sZW5ndGg/b2JqZWN0OmJhc2VHZXQob2JqZWN0LGJhc2VTbGljZShwYXRoLDAsLTEpKSxwYXRoPWxhc3QocGF0aCkscmVzdWx0PW51bGwhPW9iamVjdCYmaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QscGF0aCkpLHJlc3VsdH1mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KXtpZihudWxsPT1vYmplY3QpcmV0dXJuW107aXNPYmplY3Qob2JqZWN0KXx8KG9iamVjdD1PYmplY3Qob2JqZWN0KSk7dmFyIGxlbmd0aD1vYmplY3QubGVuZ3RoO2xlbmd0aD1sZW5ndGgmJmlzTGVuZ3RoKGxlbmd0aCkmJihpc0FycmF5KG9iamVjdCl8fHN1cHBvcnQubm9uRW51bUFyZ3MmJmlzQXJndW1lbnRzKG9iamVjdCkpJiZsZW5ndGh8fDA7Zm9yKHZhciBDdG9yPW9iamVjdC5jb25zdHJ1Y3RvcixpbmRleD0tMSxpc1Byb3RvPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBDdG9yJiZDdG9yLnByb3RvdHlwZT09PW9iamVjdCxyZXN1bHQ9QXJyYXkobGVuZ3RoKSxza2lwSW5kZXhlcz1sZW5ndGg+MDtsZW5ndGg+KytpbmRleDspcmVzdWx0W2luZGV4XT1pbmRleCtcXFwiXFxcIjtmb3IodmFyIGtleSBpbiBvYmplY3Qpc2tpcEluZGV4ZXMmJmlzSW5kZXgoa2V5LGxlbmd0aCl8fFxcXCJjb25zdHJ1Y3RvclxcXCI9PWtleSYmKGlzUHJvdG98fCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxrZXkpKXx8cmVzdWx0LnB1c2goa2V5KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIHZhbHVlcyhvYmplY3Qpe3JldHVybiBiYXNlVmFsdWVzKG9iamVjdCxrZXlzKG9iamVjdCkpfWZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpe3JldHVybiBzdHJpbmc9YmFzZVRvU3RyaW5nKHN0cmluZyksc3RyaW5nJiZyZUhhc1JlZ0V4cENoYXJzLnRlc3Qoc3RyaW5nKT9zdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXJzLFxcXCJcXFxcXFxcXCQmXFxcIik6c3RyaW5nfWZ1bmN0aW9uIGNhbGxiYWNrKGZ1bmMsdGhpc0FyZyxndWFyZCl7cmV0dXJuIGd1YXJkJiZpc0l0ZXJhdGVlQ2FsbChmdW5jLHRoaXNBcmcsZ3VhcmQpJiYodGhpc0FyZz1udWxsKSxiYXNlQ2FsbGJhY2soZnVuYyx0aGlzQXJnKX1mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZhbHVlfX1mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSl7cmV0dXJuIHZhbHVlfWZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpe3JldHVybiBpc0tleShwYXRoKT9iYXNlUHJvcGVydHkocGF0aCk6YmFzZVByb3BlcnR5RGVlcChwYXRoKX12YXIgdW5kZWZpbmVkLFZFUlNJT049XFxcIjMuNy4wXFxcIixGVU5DX0VSUk9SX1RFWFQ9XFxcIkV4cGVjdGVkIGEgZnVuY3Rpb25cXFwiLGFyZ3NUYWc9XFxcIltvYmplY3QgQXJndW1lbnRzXVxcXCIsYXJyYXlUYWc9XFxcIltvYmplY3QgQXJyYXldXFxcIixib29sVGFnPVxcXCJbb2JqZWN0IEJvb2xlYW5dXFxcIixkYXRlVGFnPVxcXCJbb2JqZWN0IERhdGVdXFxcIixlcnJvclRhZz1cXFwiW29iamVjdCBFcnJvcl1cXFwiLGZ1bmNUYWc9XFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIixtYXBUYWc9XFxcIltvYmplY3QgTWFwXVxcXCIsbnVtYmVyVGFnPVxcXCJbb2JqZWN0IE51bWJlcl1cXFwiLG9iamVjdFRhZz1cXFwiW29iamVjdCBPYmplY3RdXFxcIixyZWdleHBUYWc9XFxcIltvYmplY3QgUmVnRXhwXVxcXCIsc2V0VGFnPVxcXCJbb2JqZWN0IFNldF1cXFwiLHN0cmluZ1RhZz1cXFwiW29iamVjdCBTdHJpbmddXFxcIix3ZWFrTWFwVGFnPVxcXCJbb2JqZWN0IFdlYWtNYXBdXFxcIixhcnJheUJ1ZmZlclRhZz1cXFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cXFwiLGZsb2F0MzJUYWc9XFxcIltvYmplY3QgRmxvYXQzMkFycmF5XVxcXCIsZmxvYXQ2NFRhZz1cXFwiW29iamVjdCBGbG9hdDY0QXJyYXldXFxcIixpbnQ4VGFnPVxcXCJbb2JqZWN0IEludDhBcnJheV1cXFwiLGludDE2VGFnPVxcXCJbb2JqZWN0IEludDE2QXJyYXldXFxcIixpbnQzMlRhZz1cXFwiW29iamVjdCBJbnQzMkFycmF5XVxcXCIsdWludDhUYWc9XFxcIltvYmplY3QgVWludDhBcnJheV1cXFwiLHVpbnQ4Q2xhbXBlZFRhZz1cXFwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cXFwiLHVpbnQxNlRhZz1cXFwiW29iamVjdCBVaW50MTZBcnJheV1cXFwiLHVpbnQzMlRhZz1cXFwiW29iamVjdCBVaW50MzJBcnJheV1cXFwiLHJlSXNEZWVwUHJvcD0vXFxcXC58XFxcXFsoPzpbXltcXFxcXV0rfChbXFxcIiddKSg/Oig/IVxcXFwxKVteXFxcXG5cXFxcXFxcXF18XFxcXFxcXFwuKSo/KVxcXFwxXFxcXF0vLHJlSXNQbGFpblByb3A9L15cXFxcdyokLyxyZVByb3BOYW1lPS9bXi5bXFxcXF1dK3xcXFxcWyg/OigtP1xcXFxkKyg/OlxcXFwuXFxcXGQrKT8pfChbXFxcIiddKSgoPzooPyFcXFxcMilbXlxcXFxuXFxcXFxcXFxdfFxcXFxcXFxcLikqPylcXFxcMilcXFxcXS9nLHJlUmVnRXhwQ2hhcnM9L1suKis/XiR7fSgpfFtcXFxcXVxcXFwvXFxcXFxcXFxdL2cscmVIYXNSZWdFeHBDaGFycz1SZWdFeHAocmVSZWdFeHBDaGFycy5zb3VyY2UpLHJlRXNjYXBlQ2hhcj0vXFxcXFxcXFwoXFxcXFxcXFwpPy9nLHJlRmxhZ3M9L1xcXFx3KiQvLHJlSXNIb3N0Q3Rvcj0vXlxcXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxcXF0kLyx0eXBlZEFycmF5VGFncz17fTt0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXT10eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXT10eXBlZEFycmF5VGFnc1tpbnQ4VGFnXT10eXBlZEFycmF5VGFnc1tpbnQxNlRhZ109dHlwZWRBcnJheVRhZ3NbaW50MzJUYWddPXR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXT10eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddPXR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ109dHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXT0hMCx0eXBlZEFycmF5VGFnc1thcmdzVGFnXT10eXBlZEFycmF5VGFnc1thcnJheVRhZ109dHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddPXR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddPXR5cGVkQXJyYXlUYWdzW2RhdGVUYWddPXR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXT10eXBlZEFycmF5VGFnc1tmdW5jVGFnXT10eXBlZEFycmF5VGFnc1ttYXBUYWddPXR5cGVkQXJyYXlUYWdzW251bWJlclRhZ109dHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXT10eXBlZEFycmF5VGFnc1tyZWdleHBUYWddPXR5cGVkQXJyYXlUYWdzW3NldFRhZ109dHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXT10eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXT0hMTt2YXIgY2xvbmVhYmxlVGFncz17fTtjbG9uZWFibGVUYWdzW2FyZ3NUYWddPWNsb25lYWJsZVRhZ3NbYXJyYXlUYWddPWNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddPWNsb25lYWJsZVRhZ3NbYm9vbFRhZ109Y2xvbmVhYmxlVGFnc1tkYXRlVGFnXT1jbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddPWNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ109Y2xvbmVhYmxlVGFnc1tpbnQ4VGFnXT1jbG9uZWFibGVUYWdzW2ludDE2VGFnXT1jbG9uZWFibGVUYWdzW2ludDMyVGFnXT1jbG9uZWFibGVUYWdzW251bWJlclRhZ109Y2xvbmVhYmxlVGFnc1tvYmplY3RUYWddPWNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXT1jbG9uZWFibGVUYWdzW3N0cmluZ1RhZ109Y2xvbmVhYmxlVGFnc1t1aW50OFRhZ109Y2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddPWNsb25lYWJsZVRhZ3NbdWludDE2VGFnXT1jbG9uZWFibGVUYWdzW3VpbnQzMlRhZ109ITAsY2xvbmVhYmxlVGFnc1tlcnJvclRhZ109Y2xvbmVhYmxlVGFnc1tmdW5jVGFnXT1jbG9uZWFibGVUYWdzW21hcFRhZ109Y2xvbmVhYmxlVGFnc1tzZXRUYWddPWNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ109ITE7dmFyIG9iamVjdFR5cGVzPXtcXFwiZnVuY3Rpb25cXFwiOiEwLG9iamVjdDohMH0sZnJlZUV4cG9ydHM9b2JqZWN0VHlwZXNbdHlwZW9mIGV4cG9ydHNdJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZSYmZXhwb3J0cyxmcmVlTW9kdWxlPW9iamVjdFR5cGVzW3R5cGVvZiBtb2R1bGVdJiZtb2R1bGUmJiFtb2R1bGUubm9kZVR5cGUmJm1vZHVsZSxmcmVlR2xvYmFsPWZyZWVFeHBvcnRzJiZmcmVlTW9kdWxlJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsJiZnbG9iYWwuT2JqZWN0JiZnbG9iYWwsZnJlZVNlbGY9b2JqZWN0VHlwZXNbdHlwZW9mIHNlbGZdJiZzZWxmJiZzZWxmLk9iamVjdCYmc2VsZixmcmVlV2luZG93PW9iamVjdFR5cGVzW3R5cGVvZiB3aW5kb3ddJiZ3aW5kb3cmJndpbmRvdy5PYmplY3QmJndpbmRvdyxtb2R1bGVFeHBvcnRzPWZyZWVNb2R1bGUmJmZyZWVNb2R1bGUuZXhwb3J0cz09PWZyZWVFeHBvcnRzJiZmcmVlRXhwb3J0cyxyb290PWZyZWVHbG9iYWx8fGZyZWVXaW5kb3chPT0odGhpcyYmdGhpcy53aW5kb3cpJiZmcmVlV2luZG93fHxmcmVlU2VsZnx8dGhpcyxhcnJheVByb3RvPUFycmF5LnByb3RvdHlwZSxvYmplY3RQcm90bz1PYmplY3QucHJvdG90eXBlLGZuVG9TdHJpbmc9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLGhhc093blByb3BlcnR5PW9iamVjdFByb3RvLmhhc093blByb3BlcnR5LG9ialRvU3RyaW5nPW9iamVjdFByb3RvLnRvU3RyaW5nLHJlSXNOYXRpdmU9UmVnRXhwKFxcXCJeXFxcIitlc2NhcGVSZWdFeHAob2JqVG9TdHJpbmcpLnJlcGxhY2UoL3RvU3RyaW5nfChmdW5jdGlvbikuKj8oPz1cXFxcXFxcXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXFxcXFxcXF0pL2csXFxcIiQxLio/XFxcIikrXFxcIiRcXFwiKSxBcnJheUJ1ZmZlcj1pc05hdGl2ZShBcnJheUJ1ZmZlcj1yb290LkFycmF5QnVmZmVyKSYmQXJyYXlCdWZmZXIsYnVmZmVyU2xpY2U9aXNOYXRpdmUoYnVmZmVyU2xpY2U9QXJyYXlCdWZmZXImJm5ldyBBcnJheUJ1ZmZlcigwKS5zbGljZSkmJmJ1ZmZlclNsaWNlLGZsb29yPU1hdGguZmxvb3IsZ2V0T3duUHJvcGVydHlTeW1ib2xzPWlzTmF0aXZlKGdldE93blByb3BlcnR5U3ltYm9scz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSYmZ2V0T3duUHJvcGVydHlTeW1ib2xzLGdldFByb3RvdHlwZU9mPWlzTmF0aXZlKGdldFByb3RvdHlwZU9mPU9iamVjdC5nZXRQcm90b3R5cGVPZikmJmdldFByb3RvdHlwZU9mLHB1c2g9YXJyYXlQcm90by5wdXNoLHByZXZlbnRFeHRlbnNpb25zPWlzTmF0aXZlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucz1PYmplY3QucHJldmVudEV4dGVuc2lvbnMpJiZwcmV2ZW50RXh0ZW5zaW9ucyxwcm9wZXJ0eUlzRW51bWVyYWJsZT1vYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxVaW50OEFycmF5PWlzTmF0aXZlKFVpbnQ4QXJyYXk9cm9vdC5VaW50OEFycmF5KSYmVWludDhBcnJheSxGbG9hdDY0QXJyYXk9ZnVuY3Rpb24oKXt0cnl7dmFyIGZ1bmM9aXNOYXRpdmUoZnVuYz1yb290LkZsb2F0NjRBcnJheSkmJmZ1bmMscmVzdWx0PW5ldyBmdW5jKG5ldyBBcnJheUJ1ZmZlcigxMCksMCwxKSYmZnVuY31jYXRjaChlKXt9cmV0dXJuIHJlc3VsdH0oKSxuYXRpdmVBc3NpZ249ZnVuY3Rpb24oKXt2YXIgb2JqZWN0PXsxOjB9LGZ1bmM9cHJldmVudEV4dGVuc2lvbnMmJmlzTmF0aXZlKGZ1bmM9T2JqZWN0LmFzc2lnbikmJmZ1bmM7dHJ5e2Z1bmMocHJldmVudEV4dGVuc2lvbnMob2JqZWN0KSxcXFwieG9cXFwiKX1jYXRjaChlKXt9cmV0dXJuIW9iamVjdFsxXSYmZnVuY30oKSxuYXRpdmVJc0FycmF5PWlzTmF0aXZlKG5hdGl2ZUlzQXJyYXk9QXJyYXkuaXNBcnJheSkmJm5hdGl2ZUlzQXJyYXksbmF0aXZlS2V5cz1pc05hdGl2ZShuYXRpdmVLZXlzPU9iamVjdC5rZXlzKSYmbmF0aXZlS2V5cyxuYXRpdmVNYXg9TWF0aC5tYXgsbmF0aXZlTWluPU1hdGgubWluLE5FR0FUSVZFX0lORklOSVRZPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxNQVhfQVJSQVlfTEVOR1RIPU1hdGgucG93KDIsMzIpLTEsTUFYX0FSUkFZX0lOREVYPU1BWF9BUlJBWV9MRU5HVEgtMSxIQUxGX01BWF9BUlJBWV9MRU5HVEg9TUFYX0FSUkFZX0xFTkdUSD4+PjEsRkxPQVQ2NF9CWVRFU19QRVJfRUxFTUVOVD1GbG9hdDY0QXJyYXk/RmxvYXQ2NEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UOjAsTUFYX1NBRkVfSU5URUdFUj1NYXRoLnBvdygyLDUzKS0xLHN1cHBvcnQ9bG9kYXNoLnN1cHBvcnQ9e307KGZ1bmN0aW9uKHgpe3ZhciBDdG9yPWZ1bmN0aW9uKCl7dGhpcy54PXh9LHByb3BzPVtdO0N0b3IucHJvdG90eXBlPXt2YWx1ZU9mOngseTp4fTtmb3IodmFyIGtleSBpbiBuZXcgQ3Rvcilwcm9wcy5wdXNoKGtleSk7c3VwcG9ydC5mdW5jRGVjb21wPS9cXFxcYnRoaXNcXFxcYi8udGVzdChmdW5jdGlvbigpe3JldHVybiB0aGlzfSksc3VwcG9ydC5mdW5jTmFtZXM9XFxcInN0cmluZ1xcXCI9PXR5cGVvZiBGdW5jdGlvbi5uYW1lO3RyeXtzdXBwb3J0Lm5vbkVudW1BcmdzPSFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGFyZ3VtZW50cywxKX1jYXRjaChlKXtzdXBwb3J0Lm5vbkVudW1BcmdzPSEwfX0pKDEsMCk7dmFyIGJhc2VBc3NpZ249bmF0aXZlQXNzaWdufHxmdW5jdGlvbihvYmplY3Qsc291cmNlKXtyZXR1cm4gbnVsbD09c291cmNlP29iamVjdDpiYXNlQ29weShzb3VyY2UsZ2V0U3ltYm9scyhzb3VyY2UpLGJhc2VDb3B5KHNvdXJjZSxrZXlzKHNvdXJjZSksb2JqZWN0KSl9LGJhc2VFYWNoPWNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pLGJhc2VGb3I9Y3JlYXRlQmFzZUZvcigpO2J1ZmZlclNsaWNlfHwoYnVmZmVyQ2xvbmU9QXJyYXlCdWZmZXImJlVpbnQ4QXJyYXk/ZnVuY3Rpb24oYnVmZmVyKXt2YXIgYnl0ZUxlbmd0aD1idWZmZXIuYnl0ZUxlbmd0aCxmbG9hdExlbmd0aD1GbG9hdDY0QXJyYXk/Zmxvb3IoYnl0ZUxlbmd0aC9GTE9BVDY0X0JZVEVTX1BFUl9FTEVNRU5UKTowLG9mZnNldD1mbG9hdExlbmd0aCpGTE9BVDY0X0JZVEVTX1BFUl9FTEVNRU5ULHJlc3VsdD1uZXcgQXJyYXlCdWZmZXIoYnl0ZUxlbmd0aCk7aWYoZmxvYXRMZW5ndGgpe3ZhciB2aWV3PW5ldyBGbG9hdDY0QXJyYXkocmVzdWx0LDAsZmxvYXRMZW5ndGgpO3ZpZXcuc2V0KG5ldyBGbG9hdDY0QXJyYXkoYnVmZmVyLDAsZmxvYXRMZW5ndGgpKX1yZXR1cm4gYnl0ZUxlbmd0aCE9b2Zmc2V0JiYodmlldz1uZXcgVWludDhBcnJheShyZXN1bHQsb2Zmc2V0KSx2aWV3LnNldChuZXcgVWludDhBcnJheShidWZmZXIsb2Zmc2V0KSkpLHJlc3VsdH06Y29uc3RhbnQobnVsbCkpO3ZhciBnZXRMZW5ndGg9YmFzZVByb3BlcnR5KFxcXCJsZW5ndGhcXFwiKSxnZXRTeW1ib2xzPWdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihvYmplY3Qpe3JldHVybiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHModG9PYmplY3Qob2JqZWN0KSl9OmNvbnN0YW50KFtdKSxmaW5kTGFzdEluZGV4PWNyZWF0ZUZpbmRJbmRleCghMCksemlwPXJlc3RQYXJhbSh1bnppcCksZm9yRWFjaD1jcmVhdGVGb3JFYWNoKGFycmF5RWFjaCxiYXNlRWFjaCksaXNBcnJheT1uYXRpdmVJc0FycmF5fHxmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkmJmlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkmJm9ialRvU3RyaW5nLmNhbGwodmFsdWUpPT1hcnJheVRhZ30saXNGdW5jdGlvbj1iYXNlSXNGdW5jdGlvbigveC8pfHxVaW50OEFycmF5JiYhYmFzZUlzRnVuY3Rpb24oVWludDhBcnJheSk/ZnVuY3Rpb24odmFsdWUpe3JldHVybiBvYmpUb1N0cmluZy5jYWxsKHZhbHVlKT09ZnVuY1RhZ306YmFzZUlzRnVuY3Rpb24saXNQbGFpbk9iamVjdD1nZXRQcm90b3R5cGVPZj9mdW5jdGlvbih2YWx1ZSl7aWYoIXZhbHVlfHxvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSE9b2JqZWN0VGFnKXJldHVybiExO3ZhciB2YWx1ZU9mPXZhbHVlLnZhbHVlT2Ysb2JqUHJvdG89aXNOYXRpdmUodmFsdWVPZikmJihvYmpQcm90bz1nZXRQcm90b3R5cGVPZih2YWx1ZU9mKSkmJmdldFByb3RvdHlwZU9mKG9ialByb3RvKTtyZXR1cm4gb2JqUHJvdG8/dmFsdWU9PW9ialByb3RvfHxnZXRQcm90b3R5cGVPZih2YWx1ZSk9PW9ialByb3RvOnNoaW1Jc1BsYWluT2JqZWN0KHZhbHVlKX06c2hpbUlzUGxhaW5PYmplY3QsYXNzaWduPWNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCxzb3VyY2UsY3VzdG9taXplcil7cmV0dXJuIGN1c3RvbWl6ZXI/YXNzaWduV2l0aChvYmplY3Qsc291cmNlLGN1c3RvbWl6ZXIpOmJhc2VBc3NpZ24ob2JqZWN0LHNvdXJjZSl9KSxrZXlzPW5hdGl2ZUtleXM/ZnVuY3Rpb24ob2JqZWN0KXtpZihvYmplY3QpdmFyIEN0b3I9b2JqZWN0LmNvbnN0cnVjdG9yLGxlbmd0aD1vYmplY3QubGVuZ3RoO3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBDdG9yJiZDdG9yLnByb3RvdHlwZT09PW9iamVjdHx8XFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIG9iamVjdCYmaXNMZW5ndGgobGVuZ3RoKT9zaGltS2V5cyhvYmplY3QpOmlzT2JqZWN0KG9iamVjdCk/bmF0aXZlS2V5cyhvYmplY3QpOltdfTpzaGltS2V5cyxtZXJnZT1jcmVhdGVBc3NpZ25lcihiYXNlTWVyZ2UpO2xvZGFzaC5hc3NpZ249YXNzaWduLGxvZGFzaC5jYWxsYmFjaz1jYWxsYmFjayxsb2Rhc2guY29uc3RhbnQ9Y29uc3RhbnQsbG9kYXNoLmZvckVhY2g9Zm9yRWFjaCxsb2Rhc2gua2V5cz1rZXlzLGxvZGFzaC5rZXlzSW49a2V5c0luLGxvZGFzaC5tZXJnZT1tZXJnZSxsb2Rhc2gucHJvcGVydHk9cHJvcGVydHksbG9kYXNoLnJlamVjdD1yZWplY3QsbG9kYXNoLnJlc3RQYXJhbT1yZXN0UGFyYW0sbG9kYXNoLnNsaWNlPXNsaWNlLGxvZGFzaC50b1BsYWluT2JqZWN0PXRvUGxhaW5PYmplY3QsbG9kYXNoLnVuemlwPXVuemlwLGxvZGFzaC52YWx1ZXM9dmFsdWVzLGxvZGFzaC56aXA9emlwLGxvZGFzaC5lYWNoPWZvckVhY2gsbG9kYXNoLmV4dGVuZD1hc3NpZ24sbG9kYXNoLml0ZXJhdGVlPWNhbGxiYWNrLGxvZGFzaC5jbG9uZT1jbG9uZSxsb2Rhc2guZXNjYXBlUmVnRXhwPWVzY2FwZVJlZ0V4cCxsb2Rhc2guZmluZExhc3RJbmRleD1maW5kTGFzdEluZGV4LGxvZGFzaC5oYXM9aGFzLGxvZGFzaC5pZGVudGl0eT1pZGVudGl0eSxsb2Rhc2guaW5jbHVkZXM9aW5jbHVkZXMsbG9kYXNoLmluZGV4T2Y9aW5kZXhPZixsb2Rhc2guaXNBcmd1bWVudHM9aXNBcmd1bWVudHMsbG9kYXNoLmlzQXJyYXk9aXNBcnJheSxsb2Rhc2guaXNFbXB0eT1pc0VtcHR5LGxvZGFzaC5pc0Z1bmN0aW9uPWlzRnVuY3Rpb24sbG9kYXNoLmlzTmF0aXZlPWlzTmF0aXZlLGxvZGFzaC5pc051bWJlcj1pc051bWJlcixsb2Rhc2guaXNPYmplY3Q9aXNPYmplY3QsbG9kYXNoLmlzUGxhaW5PYmplY3Q9aXNQbGFpbk9iamVjdCxsb2Rhc2guaXNTdHJpbmc9aXNTdHJpbmcsbG9kYXNoLmlzVHlwZWRBcnJheT1pc1R5cGVkQXJyYXksbG9kYXNoLmxhc3Q9bGFzdCxsb2Rhc2guc29tZT1zb21lLGxvZGFzaC5hbnk9c29tZSxsb2Rhc2guY29udGFpbnM9aW5jbHVkZXMsbG9kYXNoLmluY2x1ZGU9aW5jbHVkZXMsbG9kYXNoLlZFUlNJT049VkVSU0lPTixmcmVlRXhwb3J0cyYmZnJlZU1vZHVsZT9tb2R1bGVFeHBvcnRzPyhmcmVlTW9kdWxlLmV4cG9ydHM9bG9kYXNoKS5fPWxvZGFzaDpmcmVlRXhwb3J0cy5fPWxvZGFzaDpyb290Ll89bG9kYXNoXFxufSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBzZWxmP3NlbGY6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvanNoaW50LmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7dmFyIF89X2RlcmVxXyhcXFwiLi4vbG9kYXNoXFxcIiksZXZlbnRzPV9kZXJlcV8oXFxcImV2ZW50c1xcXCIpLHZhcnM9X2RlcmVxXyhcXFwiLi92YXJzLmpzXFxcIiksbWVzc2FnZXM9X2RlcmVxXyhcXFwiLi9tZXNzYWdlcy5qc1xcXCIpLExleGVyPV9kZXJlcV8oXFxcIi4vbGV4LmpzXFxcIikuTGV4ZXIscmVnPV9kZXJlcV8oXFxcIi4vcmVnLmpzXFxcIiksc3RhdGU9X2RlcmVxXyhcXFwiLi9zdGF0ZS5qc1xcXCIpLnN0YXRlLHN0eWxlPV9kZXJlcV8oXFxcIi4vc3R5bGUuanNcXFwiKSxvcHRpb25zPV9kZXJlcV8oXFxcIi4vb3B0aW9ucy5qc1xcXCIpLHNjb3BlTWFuYWdlcj1fZGVyZXFfKFxcXCIuL3Njb3BlLW1hbmFnZXIuanNcXFwiKSxKU0hJTlQ9ZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gY2hlY2tPcHRpb24obmFtZSx0KXtyZXR1cm4gbmFtZT1uYW1lLnRyaW0oKSwvXlsrLV1XXFxcXGR7M30kL2cudGVzdChuYW1lKT8hMDotMSE9PW9wdGlvbnMudmFsaWROYW1lcy5pbmRleE9mKG5hbWUpfHxcXFwianNsaW50XFxcIj09PXQudHlwZXx8Xy5oYXMob3B0aW9ucy5yZW1vdmVkLG5hbWUpPyEwOihlcnJvcihcXFwiRTAwMVxcXCIsdCxuYW1lKSwhMSl9ZnVuY3Rpb24gaXNTdHJpbmcob2JqKXtyZXR1cm5cXFwiW29iamVjdCBTdHJpbmddXFxcIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopfWZ1bmN0aW9uIGlzSWRlbnRpZmllcih0a24sdmFsdWUpe3JldHVybiB0a24/dGtuLmlkZW50aWZpZXImJnRrbi52YWx1ZT09PXZhbHVlPyEwOiExOiExfWZ1bmN0aW9uIGlzUmVzZXJ2ZWQodG9rZW4pe2lmKCF0b2tlbi5yZXNlcnZlZClyZXR1cm4hMTt2YXIgbWV0YT10b2tlbi5tZXRhO2lmKG1ldGEmJm1ldGEuaXNGdXR1cmVSZXNlcnZlZFdvcmQmJnN0YXRlLmluRVM1KCkpe2lmKCFtZXRhLmVzNSlyZXR1cm4hMTtpZihtZXRhLnN0cmljdE9ubHkmJiFzdGF0ZS5vcHRpb24uc3RyaWN0JiYhc3RhdGUuaXNTdHJpY3QoKSlyZXR1cm4hMTtpZih0b2tlbi5pc1Byb3BlcnR5KXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHN1cHBsYW50KHN0cixkYXRhKXtyZXR1cm4gc3RyLnJlcGxhY2UoL1xcXFx7KFtee31dKilcXFxcfS9nLGZ1bmN0aW9uKGEsYil7dmFyIHI9ZGF0YVtiXTtyZXR1cm5cXFwic3RyaW5nXFxcIj09dHlwZW9mIHJ8fFxcXCJudW1iZXJcXFwiPT10eXBlb2Ygcj9yOmF9KX1mdW5jdGlvbiBjb21iaW5lKGRlc3Qsc3JjKXtPYmplY3Qua2V5cyhzcmMpLmZvckVhY2goZnVuY3Rpb24obmFtZSl7Xy5oYXMoSlNISU5ULmJsYWNrbGlzdCxuYW1lKXx8KGRlc3RbbmFtZV09c3JjW25hbWVdKX0pfWZ1bmN0aW9uIHByb2Nlc3NlbmZvcmNlYWxsKCl7aWYoc3RhdGUub3B0aW9uLmVuZm9yY2VhbGwpe2Zvcih2YXIgZW5mb3JjZW9wdCBpbiBvcHRpb25zLmJvb2wuZW5mb3JjaW5nKXZvaWQgMCE9PXN0YXRlLm9wdGlvbltlbmZvcmNlb3B0XXx8b3B0aW9ucy5ub2VuZm9yY2VhbGxbZW5mb3JjZW9wdF18fChzdGF0ZS5vcHRpb25bZW5mb3JjZW9wdF09ITApO2Zvcih2YXIgcmVsYXhvcHQgaW4gb3B0aW9ucy5ib29sLnJlbGF4aW5nKXZvaWQgMD09PXN0YXRlLm9wdGlvbltyZWxheG9wdF0mJihzdGF0ZS5vcHRpb25bcmVsYXhvcHRdPSExKX19ZnVuY3Rpb24gYXNzdW1lKCl7cHJvY2Vzc2VuZm9yY2VhbGwoKSxzdGF0ZS5vcHRpb24uZXN2ZXJzaW9ufHxzdGF0ZS5vcHRpb24ubW96fHwoc3RhdGUub3B0aW9uLmVzdmVyc2lvbj1zdGF0ZS5vcHRpb24uZXMzPzM6c3RhdGUub3B0aW9uLmVzbmV4dD82OjUpLHN0YXRlLmluRVM1KCkmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmVjbWFJZGVudGlmaWVyc1s1XSksc3RhdGUuaW5FUzYoKSYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMuZWNtYUlkZW50aWZpZXJzWzZdKSxzdGF0ZS5vcHRpb24ubW9kdWxlJiYoc3RhdGUub3B0aW9uLnN0cmljdD09PSEwJiYoc3RhdGUub3B0aW9uLnN0cmljdD1cXFwiZ2xvYmFsXFxcIiksc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEzNFxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIm1vZHVsZVxcXCIsNikpLHN0YXRlLm9wdGlvbi5jb3VjaCYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMuY291Y2gpLHN0YXRlLm9wdGlvbi5xdW5pdCYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMucXVuaXQpLHN0YXRlLm9wdGlvbi5yaGlubyYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMucmhpbm8pLHN0YXRlLm9wdGlvbi5zaGVsbGpzJiYoY29tYmluZShwcmVkZWZpbmVkLHZhcnMuc2hlbGxqcyksY29tYmluZShwcmVkZWZpbmVkLHZhcnMubm9kZSkpLHN0YXRlLm9wdGlvbi50eXBlZCYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMudHlwZWQpLHN0YXRlLm9wdGlvbi5waGFudG9tJiYoY29tYmluZShwcmVkZWZpbmVkLHZhcnMucGhhbnRvbSksc3RhdGUub3B0aW9uLnN0cmljdD09PSEwJiYoc3RhdGUub3B0aW9uLnN0cmljdD1cXFwiZ2xvYmFsXFxcIikpLHN0YXRlLm9wdGlvbi5wcm90b3R5cGVqcyYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMucHJvdG90eXBlanMpLHN0YXRlLm9wdGlvbi5ub2RlJiYoY29tYmluZShwcmVkZWZpbmVkLHZhcnMubm9kZSksY29tYmluZShwcmVkZWZpbmVkLHZhcnMudHlwZWQpLHN0YXRlLm9wdGlvbi5zdHJpY3Q9PT0hMCYmKHN0YXRlLm9wdGlvbi5zdHJpY3Q9XFxcImdsb2JhbFxcXCIpKSxzdGF0ZS5vcHRpb24uZGV2ZWwmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmRldmVsKSxzdGF0ZS5vcHRpb24uZG9qbyYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMuZG9qbyksc3RhdGUub3B0aW9uLmJyb3dzZXImJihjb21iaW5lKHByZWRlZmluZWQsdmFycy5icm93c2VyKSxjb21iaW5lKHByZWRlZmluZWQsdmFycy50eXBlZCkpLHN0YXRlLm9wdGlvbi5icm93c2VyaWZ5JiYoY29tYmluZShwcmVkZWZpbmVkLHZhcnMuYnJvd3NlciksY29tYmluZShwcmVkZWZpbmVkLHZhcnMudHlwZWQpLGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmJyb3dzZXJpZnkpLHN0YXRlLm9wdGlvbi5zdHJpY3Q9PT0hMCYmKHN0YXRlLm9wdGlvbi5zdHJpY3Q9XFxcImdsb2JhbFxcXCIpKSxzdGF0ZS5vcHRpb24ubm9uc3RhbmRhcmQmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLm5vbnN0YW5kYXJkKSxzdGF0ZS5vcHRpb24uamFzbWluZSYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMuamFzbWluZSksc3RhdGUub3B0aW9uLmpxdWVyeSYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMuanF1ZXJ5KSxzdGF0ZS5vcHRpb24ubW9vdG9vbHMmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLm1vb3Rvb2xzKSxzdGF0ZS5vcHRpb24ud29ya2VyJiZjb21iaW5lKHByZWRlZmluZWQsdmFycy53b3JrZXIpLHN0YXRlLm9wdGlvbi53c2gmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLndzaCksc3RhdGUub3B0aW9uLmdsb2JhbHN0cmljdCYmc3RhdGUub3B0aW9uLnN0cmljdCE9PSExJiYoc3RhdGUub3B0aW9uLnN0cmljdD1cXFwiZ2xvYmFsXFxcIiksc3RhdGUub3B0aW9uLnl1aSYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMueXVpKSxzdGF0ZS5vcHRpb24ubW9jaGEmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLm1vY2hhKX1mdW5jdGlvbiBxdWl0KGNvZGUsbGluZSxjaHIpe3ZhciBwZXJjZW50YWdlPU1hdGguZmxvb3IoMTAwKihsaW5lL3N0YXRlLmxpbmVzLmxlbmd0aCkpLG1lc3NhZ2U9bWVzc2FnZXMuZXJyb3JzW2NvZGVdLmRlc2M7dGhyb3d7bmFtZTpcXFwiSlNIaW50RXJyb3JcXFwiLGxpbmU6bGluZSxjaGFyYWN0ZXI6Y2hyLG1lc3NhZ2U6bWVzc2FnZStcXFwiIChcXFwiK3BlcmNlbnRhZ2UrXFxcIiUgc2Nhbm5lZCkuXFxcIixyYXc6bWVzc2FnZSxjb2RlOmNvZGV9fWZ1bmN0aW9uIHJlbW92ZUlnbm9yZWRNZXNzYWdlcygpe3ZhciBpZ25vcmVkPXN0YXRlLmlnbm9yZWRMaW5lcztfLmlzRW1wdHkoaWdub3JlZCl8fChKU0hJTlQuZXJyb3JzPV8ucmVqZWN0KEpTSElOVC5lcnJvcnMsZnVuY3Rpb24oZXJyKXtyZXR1cm4gaWdub3JlZFtlcnIubGluZV19KSl9ZnVuY3Rpb24gd2FybmluZyhjb2RlLHQsYSxiLGMsZCl7dmFyIGNoLGwsdyxtc2c7aWYoL15XXFxcXGR7M30kLy50ZXN0KGNvZGUpKXtpZihzdGF0ZS5pZ25vcmVkW2NvZGVdKXJldHVybjttc2c9bWVzc2FnZXMud2FybmluZ3NbY29kZV19ZWxzZS9FXFxcXGR7M30vLnRlc3QoY29kZSk/bXNnPW1lc3NhZ2VzLmVycm9yc1tjb2RlXTovSVxcXFxkezN9Ly50ZXN0KGNvZGUpJiYobXNnPW1lc3NhZ2VzLmluZm9bY29kZV0pO3JldHVybiB0PXR8fHN0YXRlLnRva2Vucy5uZXh0fHx7fSxcXFwiKGVuZClcXFwiPT09dC5pZCYmKHQ9c3RhdGUudG9rZW5zLmN1cnIpLGw9dC5saW5lfHwwLGNoPXQuZnJvbXx8MCx3PXtpZDpcXFwiKGVycm9yKVxcXCIscmF3Om1zZy5kZXNjLGNvZGU6bXNnLmNvZGUsZXZpZGVuY2U6c3RhdGUubGluZXNbbC0xXXx8XFxcIlxcXCIsbGluZTpsLGNoYXJhY3RlcjpjaCxzY29wZTpKU0hJTlQuc2NvcGUsYTphLGI6YixjOmMsZDpkfSx3LnJlYXNvbj1zdXBwbGFudChtc2cuZGVzYyx3KSxKU0hJTlQuZXJyb3JzLnB1c2godykscmVtb3ZlSWdub3JlZE1lc3NhZ2VzKCksSlNISU5ULmVycm9ycy5sZW5ndGg+PXN0YXRlLm9wdGlvbi5tYXhlcnImJnF1aXQoXFxcIkUwNDNcXFwiLGwsY2gpLHd9ZnVuY3Rpb24gd2FybmluZ0F0KG0sbCxjaCxhLGIsYyxkKXtyZXR1cm4gd2FybmluZyhtLHtsaW5lOmwsZnJvbTpjaH0sYSxiLGMsZCl9ZnVuY3Rpb24gZXJyb3IobSx0LGEsYixjLGQpe3dhcm5pbmcobSx0LGEsYixjLGQpfWZ1bmN0aW9uIGVycm9yQXQobSxsLGNoLGEsYixjLGQpe3JldHVybiBlcnJvcihtLHtsaW5lOmwsZnJvbTpjaH0sYSxiLGMsZCl9ZnVuY3Rpb24gYWRkSW50ZXJuYWxTcmMoZWxlbSxzcmMpe3ZhciBpO3JldHVybiBpPXtpZDpcXFwiKGludGVybmFsKVxcXCIsZWxlbTplbGVtLHZhbHVlOnNyY30sSlNISU5ULmludGVybmFscy5wdXNoKGkpLGl9ZnVuY3Rpb24gZG9PcHRpb24oKXt2YXIgbnQ9c3RhdGUudG9rZW5zLm5leHQsYm9keT1udC5ib2R5Lm1hdGNoKC8oLVxcXFxzKyk/W15cXFxccyw6XSsoPzpcXFxccyo6XFxcXHMqKC1cXFxccyspP1teXFxcXHMsXSspPy9nKXx8W10scHJlZGVmPXt9O2lmKFxcXCJnbG9iYWxzXFxcIj09PW50LnR5cGUpe2JvZHkuZm9yRWFjaChmdW5jdGlvbihnLGlkeCl7Zz1nLnNwbGl0KFxcXCI6XFxcIik7dmFyIGtleT0oZ1swXXx8XFxcIlxcXCIpLnRyaW0oKSx2YWw9KGdbMV18fFxcXCJcXFwiKS50cmltKCk7aWYoXFxcIi1cXFwiPT09a2V5fHwha2V5Lmxlbmd0aCl7aWYoaWR4PjAmJmlkeD09PWJvZHkubGVuZ3RoLTEpcmV0dXJuO3JldHVybiBlcnJvcihcXFwiRTAwMlxcXCIsbnQpLHZvaWQgMH1cXFwiLVxcXCI9PT1rZXkuY2hhckF0KDApPyhrZXk9a2V5LnNsaWNlKDEpLHZhbD0hMSxKU0hJTlQuYmxhY2tsaXN0W2tleV09a2V5LGRlbGV0ZSBwcmVkZWZpbmVkW2tleV0pOnByZWRlZltrZXldPVxcXCJ0cnVlXFxcIj09PXZhbH0pLGNvbWJpbmUocHJlZGVmaW5lZCxwcmVkZWYpO2Zvcih2YXIga2V5IGluIHByZWRlZilfLmhhcyhwcmVkZWYsa2V5KSYmKGRlY2xhcmVkW2tleV09bnQpfVxcXCJleHBvcnRlZFxcXCI9PT1udC50eXBlJiZib2R5LmZvckVhY2goZnVuY3Rpb24oZSxpZHgpe2lmKCFlLmxlbmd0aCl7aWYoaWR4PjAmJmlkeD09PWJvZHkubGVuZ3RoLTEpcmV0dXJuO3JldHVybiBlcnJvcihcXFwiRTAwMlxcXCIsbnQpLHZvaWQgMH1zdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZEV4cG9ydGVkKGUpfSksXFxcIm1lbWJlcnNcXFwiPT09bnQudHlwZSYmKG1lbWJlcnNPbmx5PW1lbWJlcnNPbmx5fHx7fSxib2R5LmZvckVhY2goZnVuY3Rpb24obSl7dmFyIGNoMT1tLmNoYXJBdCgwKSxjaDI9bS5jaGFyQXQobS5sZW5ndGgtMSk7Y2gxIT09Y2gyfHwnXFxcIichPT1jaDEmJlxcXCInXFxcIiE9PWNoMXx8KG09bS5zdWJzdHIoMSxtLmxlbmd0aC0yKS5yZXBsYWNlKCdcXFxcXFxcXFxcXCInLCdcXFwiJykpLG1lbWJlcnNPbmx5W21dPSExfSkpO3ZhciBudW12YWxzPVtcXFwibWF4c3RhdGVtZW50c1xcXCIsXFxcIm1heHBhcmFtc1xcXCIsXFxcIm1heGRlcHRoXFxcIixcXFwibWF4Y29tcGxleGl0eVxcXCIsXFxcIm1heGVyclxcXCIsXFxcIm1heGxlblxcXCIsXFxcImluZGVudFxcXCJdOyhcXFwianNoaW50XFxcIj09PW50LnR5cGV8fFxcXCJqc2xpbnRcXFwiPT09bnQudHlwZSkmJihib2R5LmZvckVhY2goZnVuY3Rpb24oZyl7Zz1nLnNwbGl0KFxcXCI6XFxcIik7dmFyIGtleT0oZ1swXXx8XFxcIlxcXCIpLnRyaW0oKSx2YWw9KGdbMV18fFxcXCJcXFwiKS50cmltKCk7aWYoY2hlY2tPcHRpb24oa2V5LG50KSlpZihudW12YWxzLmluZGV4T2Yoa2V5KT49MClpZihcXFwiZmFsc2VcXFwiIT09dmFsKXtpZih2YWw9K3ZhbCxcXFwibnVtYmVyXFxcIiE9dHlwZW9mIHZhbHx8IWlzRmluaXRlKHZhbCl8fDA+PXZhbHx8TWF0aC5mbG9vcih2YWwpIT09dmFsKXJldHVybiBlcnJvcihcXFwiRTAzMlxcXCIsbnQsZ1sxXS50cmltKCkpLHZvaWQgMDtzdGF0ZS5vcHRpb25ba2V5XT12YWx9ZWxzZSBzdGF0ZS5vcHRpb25ba2V5XT1cXFwiaW5kZW50XFxcIj09PWtleT80OiExO2Vsc2V7aWYoXFxcInZhbGlkdGhpc1xcXCI9PT1rZXkpcmV0dXJuIHN0YXRlLmZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdP3ZvaWQgZXJyb3IoXFxcIkUwMDlcXFwiKTpcXFwidHJ1ZVxcXCIhPT12YWwmJlxcXCJmYWxzZVxcXCIhPT12YWw/dm9pZCBlcnJvcihcXFwiRTAwMlxcXCIsbnQpOihzdGF0ZS5vcHRpb24udmFsaWR0aGlzPVxcXCJ0cnVlXFxcIj09PXZhbCx2b2lkIDApO2lmKFxcXCJxdW90bWFya1xcXCIhPT1rZXkpaWYoXFxcInNoYWRvd1xcXCIhPT1rZXkpaWYoXFxcInVudXNlZFxcXCIhPT1rZXkpaWYoXFxcImxhdGVkZWZcXFwiIT09a2V5KWlmKFxcXCJpZ25vcmVcXFwiIT09a2V5KWlmKFxcXCJzdHJpY3RcXFwiIT09a2V5KXtcXFwibW9kdWxlXFxcIj09PWtleSYmKGhhc1BhcnNlZENvZGUoc3RhdGUuZnVuY3QpfHxlcnJvcihcXFwiRTA1NVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIm1vZHVsZVxcXCIpKTt2YXIgZXN2ZXJzaW9ucz17ZXMzOjMsZXM1OjUsZXNuZXh0OjZ9O2lmKCFfLmhhcyhlc3ZlcnNpb25zLGtleSkpe2lmKFxcXCJlc3ZlcnNpb25cXFwiPT09a2V5KXtzd2l0Y2godmFsKXtjYXNlXFxcIjVcXFwiOnN0YXRlLmluRVM1KCEwKSYmd2FybmluZyhcXFwiSTAwM1xcXCIpO2Nhc2VcXFwiM1xcXCI6Y2FzZVxcXCI2XFxcIjpzdGF0ZS5vcHRpb24ubW96PSExLHN0YXRlLm9wdGlvbi5lc3ZlcnNpb249K3ZhbDticmVhaztjYXNlXFxcIjIwMTVcXFwiOnN0YXRlLm9wdGlvbi5tb3o9ITEsc3RhdGUub3B0aW9uLmVzdmVyc2lvbj02O2JyZWFrO2RlZmF1bHQ6ZXJyb3IoXFxcIkUwMDJcXFwiLG50KX1yZXR1cm4gaGFzUGFyc2VkQ29kZShzdGF0ZS5mdW5jdCl8fGVycm9yKFxcXCJFMDU1XFxcIixzdGF0ZS50b2tlbnMubmV4dCxcXFwiZXN2ZXJzaW9uXFxcIiksdm9pZCAwfXZhciBtYXRjaD0vXihbKy1dKShXXFxcXGR7M30pJC9nLmV4ZWMoa2V5KTtpZihtYXRjaClyZXR1cm4gc3RhdGUuaWdub3JlZFttYXRjaFsyXV09XFxcIi1cXFwiPT09bWF0Y2hbMV0sdm9pZCAwO3ZhciB0bjtyZXR1cm5cXFwidHJ1ZVxcXCI9PT12YWx8fFxcXCJmYWxzZVxcXCI9PT12YWw/KFxcXCJqc2xpbnRcXFwiPT09bnQudHlwZT8odG49b3B0aW9ucy5yZW5hbWVkW2tleV18fGtleSxzdGF0ZS5vcHRpb25bdG5dPVxcXCJ0cnVlXFxcIj09PXZhbCx2b2lkIDAhPT1vcHRpb25zLmludmVydGVkW3RuXSYmKHN0YXRlLm9wdGlvblt0bl09IXN0YXRlLm9wdGlvblt0bl0pKTpzdGF0ZS5vcHRpb25ba2V5XT1cXFwidHJ1ZVxcXCI9PT12YWwsXFxcIm5ld2NhcFxcXCI9PT1rZXkmJihzdGF0ZS5vcHRpb25bXFxcIihleHBsaWNpdE5ld2NhcClcXFwiXT0hMCksdm9pZCAwKTooZXJyb3IoXFxcIkUwMDJcXFwiLG50KSx2b2lkIDApfXN3aXRjaCh2YWwpe2Nhc2VcXFwidHJ1ZVxcXCI6c3RhdGUub3B0aW9uLm1vej0hMSxzdGF0ZS5vcHRpb24uZXN2ZXJzaW9uPWVzdmVyc2lvbnNba2V5XTticmVhaztjYXNlXFxcImZhbHNlXFxcIjpzdGF0ZS5vcHRpb24ubW96fHwoc3RhdGUub3B0aW9uLmVzdmVyc2lvbj01KTticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9fWVsc2Ugc3dpdGNoKHZhbCl7Y2FzZVxcXCJ0cnVlXFxcIjpzdGF0ZS5vcHRpb24uc3RyaWN0PSEwO2JyZWFrO2Nhc2VcXFwiZmFsc2VcXFwiOnN0YXRlLm9wdGlvbi5zdHJpY3Q9ITE7YnJlYWs7Y2FzZVxcXCJmdW5jXFxcIjpjYXNlXFxcImdsb2JhbFxcXCI6Y2FzZVxcXCJpbXBsaWVkXFxcIjpzdGF0ZS5vcHRpb24uc3RyaWN0PXZhbDticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9ZWxzZSBzd2l0Y2godmFsKXtjYXNlXFxcImxpbmVcXFwiOnN0YXRlLmlnbm9yZWRMaW5lc1tudC5saW5lXT0hMCxyZW1vdmVJZ25vcmVkTWVzc2FnZXMoKTticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9ZWxzZSBzd2l0Y2godmFsKXtjYXNlXFxcInRydWVcXFwiOnN0YXRlLm9wdGlvbi5sYXRlZGVmPSEwO2JyZWFrO2Nhc2VcXFwiZmFsc2VcXFwiOnN0YXRlLm9wdGlvbi5sYXRlZGVmPSExO2JyZWFrO2Nhc2VcXFwibm9mdW5jXFxcIjpzdGF0ZS5vcHRpb24ubGF0ZWRlZj1cXFwibm9mdW5jXFxcIjticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9ZWxzZSBzd2l0Y2godmFsKXtjYXNlXFxcInRydWVcXFwiOnN0YXRlLm9wdGlvbi51bnVzZWQ9ITA7YnJlYWs7Y2FzZVxcXCJmYWxzZVxcXCI6c3RhdGUub3B0aW9uLnVudXNlZD0hMTticmVhaztjYXNlXFxcInZhcnNcXFwiOmNhc2VcXFwic3RyaWN0XFxcIjpzdGF0ZS5vcHRpb24udW51c2VkPXZhbDticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9ZWxzZSBzd2l0Y2godmFsKXtjYXNlXFxcInRydWVcXFwiOnN0YXRlLm9wdGlvbi5zaGFkb3c9ITA7YnJlYWs7Y2FzZVxcXCJvdXRlclxcXCI6c3RhdGUub3B0aW9uLnNoYWRvdz1cXFwib3V0ZXJcXFwiO2JyZWFrO2Nhc2VcXFwiZmFsc2VcXFwiOmNhc2VcXFwiaW5uZXJcXFwiOnN0YXRlLm9wdGlvbi5zaGFkb3c9XFxcImlubmVyXFxcIjticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9ZWxzZSBzd2l0Y2godmFsKXtjYXNlXFxcInRydWVcXFwiOmNhc2VcXFwiZmFsc2VcXFwiOnN0YXRlLm9wdGlvbi5xdW90bWFyaz1cXFwidHJ1ZVxcXCI9PT12YWw7YnJlYWs7Y2FzZVxcXCJkb3VibGVcXFwiOmNhc2VcXFwic2luZ2xlXFxcIjpzdGF0ZS5vcHRpb24ucXVvdG1hcms9dmFsO2JyZWFrO2RlZmF1bHQ6ZXJyb3IoXFxcIkUwMDJcXFwiLG50KX19fSksYXNzdW1lKCkpfWZ1bmN0aW9uIHBlZWsocCl7dmFyIHQsaT1wfHwwLGo9bG9va2FoZWFkLmxlbmd0aDtpZihqPmkpcmV0dXJuIGxvb2thaGVhZFtpXTtmb3IoO2k+PWo7KXQ9bG9va2FoZWFkW2pdLHR8fCh0PWxvb2thaGVhZFtqXT1sZXgudG9rZW4oKSksais9MTtyZXR1cm4gdHx8XFxcIihlbmQpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkP3Q6c3RhdGUudG9rZW5zLm5leHR9ZnVuY3Rpb24gcGVla0lnbm9yZUVPTCgpe3ZhciB0LGk9MDtkbyB0PXBlZWsoaSsrKTt3aGlsZShcXFwiKGVuZGxpbmUpXFxcIj09PXQuaWQpO3JldHVybiB0fWZ1bmN0aW9uIGFkdmFuY2UoaWQsdCl7c3dpdGNoKHN0YXRlLnRva2Vucy5jdXJyLmlkKXtjYXNlXFxcIihudW1iZXIpXFxcIjpcXFwiLlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmd2FybmluZyhcXFwiVzAwNVxcXCIsc3RhdGUudG9rZW5zLmN1cnIpO2JyZWFrO2Nhc2VcXFwiLVxcXCI6KFxcXCItXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxcXFwiLS1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpJiZ3YXJuaW5nKFxcXCJXMDA2XFxcIik7YnJlYWs7Y2FzZVxcXCIrXFxcIjooXFxcIitcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWR8fFxcXCIrK1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCkmJndhcm5pbmcoXFxcIlcwMDdcXFwiKX1mb3IoaWQmJnN0YXRlLnRva2Vucy5uZXh0LmlkIT09aWQmJih0P1xcXCIoZW5kKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZD9lcnJvcihcXFwiRTAxOVxcXCIsdCx0LmlkKTplcnJvcihcXFwiRTAyMFxcXCIsc3RhdGUudG9rZW5zLm5leHQsaWQsdC5pZCx0LmxpbmUsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpOihcXFwiKGlkZW50aWZpZXIpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnR5cGV8fHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlIT09aWQpJiZ3YXJuaW5nKFxcXCJXMTE2XFxcIixzdGF0ZS50b2tlbnMubmV4dCxpZCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSkpLHN0YXRlLnRva2Vucy5wcmV2PXN0YXRlLnRva2Vucy5jdXJyLHN0YXRlLnRva2Vucy5jdXJyPXN0YXRlLnRva2Vucy5uZXh0Ozspe2lmKHN0YXRlLnRva2Vucy5uZXh0PWxvb2thaGVhZC5zaGlmdCgpfHxsZXgudG9rZW4oKSxzdGF0ZS50b2tlbnMubmV4dHx8cXVpdChcXFwiRTA0MVxcXCIsc3RhdGUudG9rZW5zLmN1cnIubGluZSksXFxcIihlbmQpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxcXFwiKGVycm9yKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClyZXR1cm47aWYoc3RhdGUudG9rZW5zLm5leHQuY2hlY2smJnN0YXRlLnRva2Vucy5uZXh0LmNoZWNrKCksc3RhdGUudG9rZW5zLm5leHQuaXNTcGVjaWFsKVxcXCJmYWxscyB0aHJvdWdoXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGU/c3RhdGUudG9rZW5zLmN1cnIuY2FzZUZhbGxzVGhyb3VnaD0hMDpkb09wdGlvbigpO2Vsc2UgaWYoXFxcIihlbmRsaW5lKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVha319ZnVuY3Rpb24gaXNJbmZpeCh0b2tlbil7cmV0dXJuIHRva2VuLmluZml4fHwhdG9rZW4uaWRlbnRpZmllciYmIXRva2VuLnRlbXBsYXRlJiYhIXRva2VuLmxlZH1mdW5jdGlvbiBpc0VuZE9mRXhwcigpe3ZhciBjdXJyPXN0YXRlLnRva2Vucy5jdXJyLG5leHQ9c3RhdGUudG9rZW5zLm5leHQ7cmV0dXJuXFxcIjtcXFwiPT09bmV4dC5pZHx8XFxcIn1cXFwiPT09bmV4dC5pZHx8XFxcIjpcXFwiPT09bmV4dC5pZD8hMDppc0luZml4KG5leHQpPT09aXNJbmZpeChjdXJyKXx8XFxcInlpZWxkXFxcIj09PWN1cnIuaWQmJnN0YXRlLmluTW96KCk/Y3Vyci5saW5lIT09c3RhcnRMaW5lKG5leHQpOiExfWZ1bmN0aW9uIGlzQmVnaW5PZkV4cHIocHJldil7cmV0dXJuIXByZXYubGVmdCYmXFxcInVuYXJ5XFxcIiE9PXByZXYuYXJpdHl9ZnVuY3Rpb24gZXhwcmVzc2lvbihyYnAsaW5pdGlhbCl7dmFyIGxlZnQsaXNBcnJheT0hMSxpc09iamVjdD0hMSxpc0xldEV4cHI9ITE7c3RhdGUubmFtZVN0YWNrLnB1c2goKSxpbml0aWFsfHxcXFwibGV0XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlfHxcXFwiKFxcXCIhPT1wZWVrKDApLnZhbHVlfHwoc3RhdGUuaW5Nb3ooKXx8d2FybmluZyhcXFwiVzExOFxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImxldCBleHByZXNzaW9uc1xcXCIpLGlzTGV0RXhwcj0hMCxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnN0YWNrKCksYWR2YW5jZShcXFwibGV0XFxcIiksYWR2YW5jZShcXFwiKFxcXCIpLHN0YXRlLnRva2Vucy5wcmV2LmZ1ZCgpLGFkdmFuY2UoXFxcIilcXFwiKSksXFxcIihlbmQpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZlcnJvcihcXFwiRTAwNlxcXCIsc3RhdGUudG9rZW5zLmN1cnIpO3ZhciBpc0Rhbmdlcm91cz1zdGF0ZS5vcHRpb24uYXNpJiZzdGF0ZS50b2tlbnMucHJldi5saW5lIT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5jdXJyKSYmXy5jb250YWlucyhbXFxcIl1cXFwiLFxcXCIpXFxcIl0sc3RhdGUudG9rZW5zLnByZXYuaWQpJiZfLmNvbnRhaW5zKFtcXFwiW1xcXCIsXFxcIihcXFwiXSxzdGF0ZS50b2tlbnMuY3Vyci5pZCk7aWYoaXNEYW5nZXJvdXMmJndhcm5pbmcoXFxcIlcwMTRcXFwiLHN0YXRlLnRva2Vucy5jdXJyLHN0YXRlLnRva2Vucy5jdXJyLmlkKSxhZHZhbmNlKCksaW5pdGlhbCYmKHN0YXRlLmZ1bmN0W1xcXCIodmVyYilcXFwiXT1zdGF0ZS50b2tlbnMuY3Vyci52YWx1ZSxzdGF0ZS50b2tlbnMuY3Vyci5iZWdpbnNTdG10PSEwKSxpbml0aWFsPT09ITAmJnN0YXRlLnRva2Vucy5jdXJyLmZ1ZClsZWZ0PXN0YXRlLnRva2Vucy5jdXJyLmZ1ZCgpO2Vsc2UgZm9yKHN0YXRlLnRva2Vucy5jdXJyLm51ZD9sZWZ0PXN0YXRlLnRva2Vucy5jdXJyLm51ZCgpOmVycm9yKFxcXCJFMDMwXFxcIixzdGF0ZS50b2tlbnMuY3VycixzdGF0ZS50b2tlbnMuY3Vyci5pZCk7KHN0YXRlLnRva2Vucy5uZXh0LmxicD5yYnB8fFxcXCIodGVtcGxhdGUpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGUpJiYhaXNFbmRPZkV4cHIoKTspaXNBcnJheT1cXFwiQXJyYXlcXFwiPT09c3RhdGUudG9rZW5zLmN1cnIudmFsdWUsaXNPYmplY3Q9XFxcIk9iamVjdFxcXCI9PT1zdGF0ZS50b2tlbnMuY3Vyci52YWx1ZSxsZWZ0JiYobGVmdC52YWx1ZXx8bGVmdC5maXJzdCYmbGVmdC5maXJzdC52YWx1ZSkmJihcXFwibmV3XFxcIiE9PWxlZnQudmFsdWV8fGxlZnQuZmlyc3QmJmxlZnQuZmlyc3QudmFsdWUmJlxcXCIuXFxcIj09PWxlZnQuZmlyc3QudmFsdWUpJiYoaXNBcnJheT0hMSxsZWZ0LnZhbHVlIT09c3RhdGUudG9rZW5zLmN1cnIudmFsdWUmJihpc09iamVjdD0hMSkpLGFkdmFuY2UoKSxpc0FycmF5JiZcXFwiKFxcXCI9PT1zdGF0ZS50b2tlbnMuY3Vyci5pZCYmXFxcIilcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJndhcm5pbmcoXFxcIlcwMDlcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSxpc09iamVjdCYmXFxcIihcXFwiPT09c3RhdGUudG9rZW5zLmN1cnIuaWQmJlxcXCIpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZ3YXJuaW5nKFxcXCJXMDEwXFxcIixzdGF0ZS50b2tlbnMuY3VyciksbGVmdCYmc3RhdGUudG9rZW5zLmN1cnIubGVkP2xlZnQ9c3RhdGUudG9rZW5zLmN1cnIubGVkKGxlZnQpOmVycm9yKFxcXCJFMDMzXFxcIixzdGF0ZS50b2tlbnMuY3VycixzdGF0ZS50b2tlbnMuY3Vyci5pZCk7cmV0dXJuIGlzTGV0RXhwciYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCksc3RhdGUubmFtZVN0YWNrLnBvcCgpLGxlZnR9ZnVuY3Rpb24gc3RhcnRMaW5lKHRva2VuKXtyZXR1cm4gdG9rZW4uc3RhcnRMaW5lfHx0b2tlbi5saW5lfWZ1bmN0aW9uIG5vYnJlYWtub25hZGphY2VudChsZWZ0LHJpZ2h0KXtsZWZ0PWxlZnR8fHN0YXRlLnRva2Vucy5jdXJyLHJpZ2h0PXJpZ2h0fHxzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS5vcHRpb24ubGF4YnJlYWt8fGxlZnQubGluZT09PXN0YXJ0TGluZShyaWdodCl8fHdhcm5pbmcoXFxcIlcwMTRcXFwiLHJpZ2h0LHJpZ2h0LnZhbHVlKX1mdW5jdGlvbiBub2xpbmVicmVhayh0KXt0PXR8fHN0YXRlLnRva2Vucy5jdXJyLHQubGluZSE9PXN0YXJ0TGluZShzdGF0ZS50b2tlbnMubmV4dCkmJndhcm5pbmcoXFxcIkUwMjJcXFwiLHQsdC52YWx1ZSl9ZnVuY3Rpb24gbm9icmVha2NvbW1hKGxlZnQscmlnaHQpe2xlZnQubGluZSE9PXN0YXJ0TGluZShyaWdodCkmJihzdGF0ZS5vcHRpb24ubGF4Y29tbWF8fChjb21tYS5maXJzdCYmKHdhcm5pbmcoXFxcIkkwMDFcXFwiKSxjb21tYS5maXJzdD0hMSksd2FybmluZyhcXFwiVzAxNFxcXCIsbGVmdCxyaWdodC52YWx1ZSkpKX1mdW5jdGlvbiBjb21tYShvcHRzKXtpZihvcHRzPW9wdHN8fHt9LG9wdHMucGVlaz9ub2JyZWFrY29tbWEoc3RhdGUudG9rZW5zLnByZXYsc3RhdGUudG9rZW5zLmN1cnIpOihub2JyZWFrY29tbWEoc3RhdGUudG9rZW5zLmN1cnIsc3RhdGUudG9rZW5zLm5leHQpLGFkdmFuY2UoXFxcIixcXFwiKSksc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllciYmKCFvcHRzLnByb3BlcnR5fHwhc3RhdGUuaW5FUzUoKSkpc3dpdGNoKHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXtjYXNlXFxcImJyZWFrXFxcIjpjYXNlXFxcImNhc2VcXFwiOmNhc2VcXFwiY2F0Y2hcXFwiOmNhc2VcXFwiY29udGludWVcXFwiOmNhc2VcXFwiZGVmYXVsdFxcXCI6Y2FzZVxcXCJkb1xcXCI6Y2FzZVxcXCJlbHNlXFxcIjpjYXNlXFxcImZpbmFsbHlcXFwiOmNhc2VcXFwiZm9yXFxcIjpjYXNlXFxcImlmXFxcIjpjYXNlXFxcImluXFxcIjpjYXNlXFxcImluc3RhbmNlb2ZcXFwiOmNhc2VcXFwicmV0dXJuXFxcIjpjYXNlXFxcInN3aXRjaFxcXCI6Y2FzZVxcXCJ0aHJvd1xcXCI6Y2FzZVxcXCJ0cnlcXFwiOmNhc2VcXFwidmFyXFxcIjpjYXNlXFxcImxldFxcXCI6Y2FzZVxcXCJ3aGlsZVxcXCI6Y2FzZVxcXCJ3aXRoXFxcIjpyZXR1cm4gZXJyb3IoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSwhMX1pZihcXFwiKHB1bmN0dWF0b3IpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGUpc3dpdGNoKHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXtjYXNlXFxcIn1cXFwiOmNhc2VcXFwiXVxcXCI6Y2FzZVxcXCIsXFxcIjppZihvcHRzLmFsbG93VHJhaWxpbmcpcmV0dXJuITA7Y2FzZVxcXCIpXFxcIjpyZXR1cm4gZXJyb3IoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSwhMX1yZXR1cm4hMH1mdW5jdGlvbiBzeW1ib2wocyxwKXt2YXIgeD1zdGF0ZS5zeW50YXhbc107cmV0dXJuIHgmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgeHx8KHN0YXRlLnN5bnRheFtzXT14PXtpZDpzLGxicDpwLHZhbHVlOnN9KSx4fWZ1bmN0aW9uIGRlbGltKHMpe3ZhciB4PXN5bWJvbChzLDApO3JldHVybiB4LmRlbGltPSEwLHh9ZnVuY3Rpb24gc3RtdChzLGYpe3ZhciB4PWRlbGltKHMpO3JldHVybiB4LmlkZW50aWZpZXI9eC5yZXNlcnZlZD0hMCx4LmZ1ZD1mLHh9ZnVuY3Rpb24gYmxvY2tzdG10KHMsZil7dmFyIHg9c3RtdChzLGYpO3JldHVybiB4LmJsb2NrPSEwLHh9ZnVuY3Rpb24gcmVzZXJ2ZU5hbWUoeCl7dmFyIGM9eC5pZC5jaGFyQXQoMCk7cmV0dXJuKGM+PVxcXCJhXFxcIiYmXFxcInpcXFwiPj1jfHxjPj1cXFwiQVxcXCImJlxcXCJaXFxcIj49YykmJih4LmlkZW50aWZpZXI9eC5yZXNlcnZlZD0hMCkseH1mdW5jdGlvbiBwcmVmaXgocyxmKXt2YXIgeD1zeW1ib2wocywxNTApO3JldHVybiByZXNlcnZlTmFtZSh4KSx4Lm51ZD1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZj9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJpdHk9XFxcInVuYXJ5XFxcIix0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTUwKSwoXFxcIisrXFxcIj09PXRoaXMuaWR8fFxcXCItLVxcXCI9PT10aGlzLmlkKSYmKHN0YXRlLm9wdGlvbi5wbHVzcGx1cz93YXJuaW5nKFxcXCJXMDE2XFxcIix0aGlzLHRoaXMuaWQpOiF0aGlzLnJpZ2h0fHx0aGlzLnJpZ2h0LmlkZW50aWZpZXImJiFpc1Jlc2VydmVkKHRoaXMucmlnaHQpfHxcXFwiLlxcXCI9PT10aGlzLnJpZ2h0LmlkfHxcXFwiW1xcXCI9PT10aGlzLnJpZ2h0LmlkfHx3YXJuaW5nKFxcXCJXMDE3XFxcIix0aGlzKSx0aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LmlzTWV0YVByb3BlcnR5P2Vycm9yKFxcXCJFMDMxXFxcIix0aGlzKTp0aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LmlkZW50aWZpZXImJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2subW9kaWZ5KHRoaXMucmlnaHQudmFsdWUsdGhpcykpLHRoaXN9LHh9ZnVuY3Rpb24gdHlwZShzLGYpe3ZhciB4PWRlbGltKHMpO3JldHVybiB4LnR5cGU9cyx4Lm51ZD1mLHh9ZnVuY3Rpb24gcmVzZXJ2ZShuYW1lLGZ1bmMpe3ZhciB4PXR5cGUobmFtZSxmdW5jKTtyZXR1cm4geC5pZGVudGlmaWVyPSEwLHgucmVzZXJ2ZWQ9ITAseH1mdW5jdGlvbiBGdXR1cmVSZXNlcnZlZFdvcmQobmFtZSxtZXRhKXt2YXIgeD10eXBlKG5hbWUsbWV0YSYmbWV0YS5udWR8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KTtyZXR1cm4gbWV0YT1tZXRhfHx7fSxtZXRhLmlzRnV0dXJlUmVzZXJ2ZWRXb3JkPSEwLHgudmFsdWU9bmFtZSx4LmlkZW50aWZpZXI9ITAseC5yZXNlcnZlZD0hMCx4Lm1ldGE9bWV0YSx4fWZ1bmN0aW9uIHJlc2VydmV2YXIocyx2KXtyZXR1cm4gcmVzZXJ2ZShzLGZ1bmN0aW9uKCl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHYmJnYodGhpcyksdGhpc30pfWZ1bmN0aW9uIGluZml4KHMsZixwLHcpe3ZhciB4PXN5bWJvbChzLHApO3JldHVybiByZXNlcnZlTmFtZSh4KSx4LmluZml4PSEwLHgubGVkPWZ1bmN0aW9uKGxlZnQpe3JldHVybiB3fHxub2JyZWFrbm9uYWRqYWNlbnQoc3RhdGUudG9rZW5zLnByZXYsc3RhdGUudG9rZW5zLmN1cnIpLFxcXCJpblxcXCIhPT1zJiZcXFwiaW5zdGFuY2VvZlxcXCIhPT1zfHxcXFwiIVxcXCIhPT1sZWZ0LmlkfHx3YXJuaW5nKFxcXCJXMDE4XFxcIixsZWZ0LFxcXCIhXFxcIiksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGY/ZihsZWZ0LHRoaXMpOih0aGlzLmxlZnQ9bGVmdCx0aGlzLnJpZ2h0PWV4cHJlc3Npb24ocCksdGhpcyl9LHh9ZnVuY3Rpb24gYXBwbGljYXRpb24ocyl7dmFyIHg9c3ltYm9sKHMsNDIpO3JldHVybiB4LmxlZD1mdW5jdGlvbihsZWZ0KXtyZXR1cm4gbm9icmVha25vbmFkamFjZW50KHN0YXRlLnRva2Vucy5wcmV2LHN0YXRlLnRva2Vucy5jdXJyKSx0aGlzLmxlZnQ9bGVmdCx0aGlzLnJpZ2h0PWRvRnVuY3Rpb24oe3R5cGU6XFxcImFycm93XFxcIixsb25lQXJnOmxlZnR9KSx0aGlzfSx4fWZ1bmN0aW9uIHJlbGF0aW9uKHMsZil7dmFyIHg9c3ltYm9sKHMsMTAwKTtyZXR1cm4geC5sZWQ9ZnVuY3Rpb24obGVmdCl7bm9icmVha25vbmFkamFjZW50KHN0YXRlLnRva2Vucy5wcmV2LHN0YXRlLnRva2Vucy5jdXJyKSx0aGlzLmxlZnQ9bGVmdDt2YXIgcmlnaHQ9dGhpcy5yaWdodD1leHByZXNzaW9uKDEwMCk7cmV0dXJuIGlzSWRlbnRpZmllcihsZWZ0LFxcXCJOYU5cXFwiKXx8aXNJZGVudGlmaWVyKHJpZ2h0LFxcXCJOYU5cXFwiKT93YXJuaW5nKFxcXCJXMDE5XFxcIix0aGlzKTpmJiZmLmFwcGx5KHRoaXMsW2xlZnQscmlnaHRdKSxsZWZ0JiZyaWdodHx8cXVpdChcXFwiRTA0MVxcXCIsc3RhdGUudG9rZW5zLmN1cnIubGluZSksXFxcIiFcXFwiPT09bGVmdC5pZCYmd2FybmluZyhcXFwiVzAxOFxcXCIsbGVmdCxcXFwiIVxcXCIpLFxcXCIhXFxcIj09PXJpZ2h0LmlkJiZ3YXJuaW5nKFxcXCJXMDE4XFxcIixyaWdodCxcXFwiIVxcXCIpLHRoaXN9LHh9ZnVuY3Rpb24gaXNQb29yUmVsYXRpb24obm9kZSl7cmV0dXJuIG5vZGUmJihcXFwiKG51bWJlcilcXFwiPT09bm9kZS50eXBlJiYwPT09K25vZGUudmFsdWV8fFxcXCIoc3RyaW5nKVxcXCI9PT1ub2RlLnR5cGUmJlxcXCJcXFwiPT09bm9kZS52YWx1ZXx8XFxcIm51bGxcXFwiPT09bm9kZS50eXBlJiYhc3RhdGUub3B0aW9uLmVxbnVsbHx8XFxcInRydWVcXFwiPT09bm9kZS50eXBlfHxcXFwiZmFsc2VcXFwiPT09bm9kZS50eXBlfHxcXFwidW5kZWZpbmVkXFxcIj09PW5vZGUudHlwZSl9ZnVuY3Rpb24gaXNUeXBvVHlwZW9mKGxlZnQscmlnaHQsc3RhdGUpe3ZhciB2YWx1ZXM7cmV0dXJuIHN0YXRlLm9wdGlvbi5ub3R5cGVvZj8hMTpsZWZ0JiZyaWdodD8odmFsdWVzPXN0YXRlLmluRVM2KCk/dHlwZW9mVmFsdWVzLmVzNjp0eXBlb2ZWYWx1ZXMuZXMzLFxcXCIoaWRlbnRpZmllcilcXFwiPT09cmlnaHQudHlwZSYmXFxcInR5cGVvZlxcXCI9PT1yaWdodC52YWx1ZSYmXFxcIihzdHJpbmcpXFxcIj09PWxlZnQudHlwZT8hXy5jb250YWlucyh2YWx1ZXMsbGVmdC52YWx1ZSk6ITEpOiExfWZ1bmN0aW9uIGlzR2xvYmFsRXZhbChsZWZ0LHN0YXRlKXt2YXIgaXNHbG9iYWw9ITE7cmV0dXJuXFxcInRoaXNcXFwiPT09bGVmdC50eXBlJiZudWxsPT09c3RhdGUuZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdP2lzR2xvYmFsPSEwOlxcXCIoaWRlbnRpZmllcilcXFwiPT09bGVmdC50eXBlJiYoc3RhdGUub3B0aW9uLm5vZGUmJlxcXCJnbG9iYWxcXFwiPT09bGVmdC52YWx1ZT9pc0dsb2JhbD0hMDohc3RhdGUub3B0aW9uLmJyb3dzZXJ8fFxcXCJ3aW5kb3dcXFwiIT09bGVmdC52YWx1ZSYmXFxcImRvY3VtZW50XFxcIiE9PWxlZnQudmFsdWV8fChpc0dsb2JhbD0hMCkpLGlzR2xvYmFsfWZ1bmN0aW9uIGZpbmROYXRpdmVQcm90b3R5cGUobGVmdCl7ZnVuY3Rpb24gd2Fsa1Byb3RvdHlwZShvYmope3JldHVyblxcXCJvYmplY3RcXFwiPT10eXBlb2Ygb2JqP1xcXCJwcm90b3R5cGVcXFwiPT09b2JqLnJpZ2h0P29iajp3YWxrUHJvdG90eXBlKG9iai5sZWZ0KTp2b2lkIDB9ZnVuY3Rpb24gd2Fsa05hdGl2ZShvYmope2Zvcig7IW9iai5pZGVudGlmaWVyJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIG9iai5sZWZ0OylvYmo9b2JqLmxlZnQ7cmV0dXJuIG9iai5pZGVudGlmaWVyJiZuYXRpdmVzLmluZGV4T2Yob2JqLnZhbHVlKT49MD9vYmoudmFsdWU6dm9pZCAwfXZhciBuYXRpdmVzPVtcXFwiQXJyYXlcXFwiLFxcXCJBcnJheUJ1ZmZlclxcXCIsXFxcIkJvb2xlYW5cXFwiLFxcXCJDb2xsYXRvclxcXCIsXFxcIkRhdGFWaWV3XFxcIixcXFwiRGF0ZVxcXCIsXFxcIkRhdGVUaW1lRm9ybWF0XFxcIixcXFwiRXJyb3JcXFwiLFxcXCJFdmFsRXJyb3JcXFwiLFxcXCJGbG9hdDMyQXJyYXlcXFwiLFxcXCJGbG9hdDY0QXJyYXlcXFwiLFxcXCJGdW5jdGlvblxcXCIsXFxcIkluZmluaXR5XFxcIixcXFwiSW50bFxcXCIsXFxcIkludDE2QXJyYXlcXFwiLFxcXCJJbnQzMkFycmF5XFxcIixcXFwiSW50OEFycmF5XFxcIixcXFwiSXRlcmF0b3JcXFwiLFxcXCJOdW1iZXJcXFwiLFxcXCJOdW1iZXJGb3JtYXRcXFwiLFxcXCJPYmplY3RcXFwiLFxcXCJSYW5nZUVycm9yXFxcIixcXFwiUmVmZXJlbmNlRXJyb3JcXFwiLFxcXCJSZWdFeHBcXFwiLFxcXCJTdG9wSXRlcmF0aW9uXFxcIixcXFwiU3RyaW5nXFxcIixcXFwiU3ludGF4RXJyb3JcXFwiLFxcXCJUeXBlRXJyb3JcXFwiLFxcXCJVaW50MTZBcnJheVxcXCIsXFxcIlVpbnQzMkFycmF5XFxcIixcXFwiVWludDhBcnJheVxcXCIsXFxcIlVpbnQ4Q2xhbXBlZEFycmF5XFxcIixcXFwiVVJJRXJyb3JcXFwiXSxwcm90b3R5cGU9d2Fsa1Byb3RvdHlwZShsZWZ0KTtyZXR1cm4gcHJvdG90eXBlP3dhbGtOYXRpdmUocHJvdG90eXBlKTp2b2lkIDB9ZnVuY3Rpb24gY2hlY2tMZWZ0U2lkZUFzc2lnbihsZWZ0LGFzc2lnblRva2VuLG9wdGlvbnMpe3ZhciBhbGxvd0Rlc3RydWN0dXJpbmc9b3B0aW9ucyYmb3B0aW9ucy5hbGxvd0Rlc3RydWN0dXJpbmc7aWYoYXNzaWduVG9rZW49YXNzaWduVG9rZW58fGxlZnQsc3RhdGUub3B0aW9uLmZyZWV6ZSl7dmFyIG5hdGl2ZU9iamVjdD1maW5kTmF0aXZlUHJvdG90eXBlKGxlZnQpO25hdGl2ZU9iamVjdCYmd2FybmluZyhcXFwiVzEyMVxcXCIsbGVmdCxuYXRpdmVPYmplY3QpfXJldHVybiBsZWZ0LmlkZW50aWZpZXImJiFsZWZ0LmlzTWV0YVByb3BlcnR5JiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLnJlYXNzaWduKGxlZnQudmFsdWUsbGVmdCksXFxcIi5cXFwiPT09bGVmdC5pZD8oKCFsZWZ0LmxlZnR8fFxcXCJhcmd1bWVudHNcXFwiPT09bGVmdC5sZWZ0LnZhbHVlJiYhc3RhdGUuaXNTdHJpY3QoKSkmJndhcm5pbmcoXFxcIkUwMzFcXFwiLGFzc2lnblRva2VuKSxzdGF0ZS5uYW1lU3RhY2suc2V0KHN0YXRlLnRva2Vucy5wcmV2KSwhMCk6XFxcIntcXFwiPT09bGVmdC5pZHx8XFxcIltcXFwiPT09bGVmdC5pZD8oYWxsb3dEZXN0cnVjdHVyaW5nJiZzdGF0ZS50b2tlbnMuY3Vyci5sZWZ0LmRlc3RydWN0QXNzaWduP3N0YXRlLnRva2Vucy5jdXJyLmxlZnQuZGVzdHJ1Y3RBc3NpZ24uZm9yRWFjaChmdW5jdGlvbih0KXt0LmlkJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLm1vZGlmeSh0LmlkLHQudG9rZW4pfSk6XFxcIntcXFwiIT09bGVmdC5pZCYmbGVmdC5sZWZ0P1xcXCJhcmd1bWVudHNcXFwiIT09bGVmdC5sZWZ0LnZhbHVlfHxzdGF0ZS5pc1N0cmljdCgpfHx3YXJuaW5nKFxcXCJFMDMxXFxcIixhc3NpZ25Ub2tlbik6d2FybmluZyhcXFwiRTAzMVxcXCIsYXNzaWduVG9rZW4pLFxcXCJbXFxcIj09PWxlZnQuaWQmJnN0YXRlLm5hbWVTdGFjay5zZXQobGVmdC5yaWdodCksITApOmxlZnQuaXNNZXRhUHJvcGVydHk/KGVycm9yKFxcXCJFMDMxXFxcIixhc3NpZ25Ub2tlbiksITApOmxlZnQuaWRlbnRpZmllciYmIWlzUmVzZXJ2ZWQobGVmdCk/KFxcXCJleGNlcHRpb25cXFwiPT09c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5sYWJlbHR5cGUobGVmdC52YWx1ZSkmJndhcm5pbmcoXFxcIlcwMjJcXFwiLGxlZnQpLHN0YXRlLm5hbWVTdGFjay5zZXQobGVmdCksITApOihsZWZ0PT09c3RhdGUuc3ludGF4W1xcXCJmdW5jdGlvblxcXCJdJiZ3YXJuaW5nKFxcXCJXMDIzXFxcIixzdGF0ZS50b2tlbnMuY3VyciksITEpfWZ1bmN0aW9uIGFzc2lnbm9wKHMsZixwKXt2YXIgeD1pbmZpeChzLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBmP2Y6ZnVuY3Rpb24obGVmdCx0aGF0KXtyZXR1cm4gdGhhdC5sZWZ0PWxlZnQsbGVmdCYmY2hlY2tMZWZ0U2lkZUFzc2lnbihsZWZ0LHRoYXQse2FsbG93RGVzdHJ1Y3R1cmluZzohMH0pPyh0aGF0LnJpZ2h0PWV4cHJlc3Npb24oMTApLHRoYXQpOihlcnJvcihcXFwiRTAzMVxcXCIsdGhhdCksdm9pZCAwKX0scCk7cmV0dXJuIHguZXhwcz0hMCx4LmFzc2lnbj0hMCx4fWZ1bmN0aW9uIGJpdHdpc2UocyxmLHApe3ZhciB4PXN5bWJvbChzLHApO3JldHVybiByZXNlcnZlTmFtZSh4KSx4LmxlZD1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZj9mOmZ1bmN0aW9uKGxlZnQpe3JldHVybiBzdGF0ZS5vcHRpb24uYml0d2lzZSYmd2FybmluZyhcXFwiVzAxNlxcXCIsdGhpcyx0aGlzLmlkKSx0aGlzLmxlZnQ9bGVmdCx0aGlzLnJpZ2h0PWV4cHJlc3Npb24ocCksdGhpc30seH1mdW5jdGlvbiBiaXR3aXNlYXNzaWdub3Aocyl7cmV0dXJuIGFzc2lnbm9wKHMsZnVuY3Rpb24obGVmdCx0aGF0KXtyZXR1cm4gc3RhdGUub3B0aW9uLmJpdHdpc2UmJndhcm5pbmcoXFxcIlcwMTZcXFwiLHRoYXQsdGhhdC5pZCksbGVmdCYmY2hlY2tMZWZ0U2lkZUFzc2lnbihsZWZ0LHRoYXQpPyh0aGF0LnJpZ2h0PWV4cHJlc3Npb24oMTApLHRoYXQpOihlcnJvcihcXFwiRTAzMVxcXCIsdGhhdCksdm9pZCAwKX0sMjApfWZ1bmN0aW9uIHN1ZmZpeChzKXt2YXIgeD1zeW1ib2wocywxNTApO3JldHVybiB4LmxlZD1mdW5jdGlvbihsZWZ0KXtyZXR1cm4gc3RhdGUub3B0aW9uLnBsdXNwbHVzP3dhcm5pbmcoXFxcIlcwMTZcXFwiLHRoaXMsdGhpcy5pZCk6bGVmdC5pZGVudGlmaWVyJiYhaXNSZXNlcnZlZChsZWZ0KXx8XFxcIi5cXFwiPT09bGVmdC5pZHx8XFxcIltcXFwiPT09bGVmdC5pZHx8d2FybmluZyhcXFwiVzAxN1xcXCIsdGhpcyksbGVmdC5pc01ldGFQcm9wZXJ0eT9lcnJvcihcXFwiRTAzMVxcXCIsdGhpcyk6bGVmdCYmbGVmdC5pZGVudGlmaWVyJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLm1vZGlmeShsZWZ0LnZhbHVlLGxlZnQpLHRoaXMubGVmdD1sZWZ0LHRoaXN9LHh9ZnVuY3Rpb24gb3B0aW9uYWxpZGVudGlmaWVyKGZucGFyYW0scHJvcCxwcmVzZXJ2ZSl7aWYoc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllcil7cHJlc2VydmV8fGFkdmFuY2UoKTt2YXIgY3Vycj1zdGF0ZS50b2tlbnMuY3Vycix2YWw9c3RhdGUudG9rZW5zLmN1cnIudmFsdWU7cmV0dXJuIGlzUmVzZXJ2ZWQoY3Vycik/cHJvcCYmc3RhdGUuaW5FUzUoKT92YWw6Zm5wYXJhbSYmXFxcInVuZGVmaW5lZFxcXCI9PT12YWw/dmFsOih3YXJuaW5nKFxcXCJXMDI0XFxcIixzdGF0ZS50b2tlbnMuY3VycixzdGF0ZS50b2tlbnMuY3Vyci5pZCksdmFsKTp2YWx9fWZ1bmN0aW9uIGlkZW50aWZpZXIoZm5wYXJhbSxwcm9wKXt2YXIgaT1vcHRpb25hbGlkZW50aWZpZXIoZm5wYXJhbSxwcm9wLCExKTtpZihpKXJldHVybiBpO2lmKFxcXCIuLi5cXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUpe2lmKHN0YXRlLmluRVM2KCEwKXx8d2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcInNwcmVhZC9yZXN0IG9wZXJhdG9yXFxcIixcXFwiNlxcXCIpLGFkdmFuY2UoKSxjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIi4uLlxcXCIpKWZvcih3YXJuaW5nKFxcXCJFMDI0XFxcIixzdGF0ZS50b2tlbnMubmV4dCxcXFwiLi4uXFxcIik7Y2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCIuLi5cXFwiKTspYWR2YW5jZSgpO3JldHVybiBzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyP2lkZW50aWZpZXIoZm5wYXJhbSxwcm9wKTood2FybmluZyhcXFwiRTAyNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcIi4uLlxcXCIpLHZvaWQgMCl9ZXJyb3IoXFxcIkUwMzBcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSxcXFwiO1xcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmYWR2YW5jZSgpfWZ1bmN0aW9uIHJlYWNoYWJsZShjb250cm9sVG9rZW4pe3ZhciB0LGk9MDtpZihcXFwiO1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmIWNvbnRyb2xUb2tlbi5pbkJyYWNlbGVzc0Jsb2NrKWZvcig7Oyl7ZG8gdD1wZWVrKGkpLGkrPTE7d2hpbGUoXFxcIihlbmQpXFxcIiE9PXQuaWQmJlxcXCIoY29tbWVudClcXFwiPT09dC5pZCk7aWYodC5yZWFjaClyZXR1cm47aWYoXFxcIihlbmRsaW5lKVxcXCIhPT10LmlkKXtpZihcXFwiZnVuY3Rpb25cXFwiPT09dC5pZCl7c3RhdGUub3B0aW9uLmxhdGVkZWY9PT0hMCYmd2FybmluZyhcXFwiVzAyNlxcXCIsdCk7YnJlYWt9d2FybmluZyhcXFwiVzAyN1xcXCIsdCx0LnZhbHVlLGNvbnRyb2xUb2tlbi52YWx1ZSk7YnJlYWt9fX1mdW5jdGlvbiBwYXJzZUZpbmFsU2VtaWNvbG9uKCl7aWYoXFxcIjtcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpe2lmKHN0YXRlLnRva2Vucy5uZXh0LmlzVW5jbG9zZWQpcmV0dXJuIGFkdmFuY2UoKTt2YXIgc2FtZUxpbmU9c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KT09PXN0YXRlLnRva2Vucy5jdXJyLmxpbmUmJlxcXCIoZW5kKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCxibG9ja0VuZD1jaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIn1cXFwiKTtzYW1lTGluZSYmIWJsb2NrRW5kP2Vycm9yQXQoXFxcIkUwNThcXFwiLHN0YXRlLnRva2Vucy5jdXJyLmxpbmUsc3RhdGUudG9rZW5zLmN1cnIuY2hhcmFjdGVyKTpzdGF0ZS5vcHRpb24uYXNpfHwoYmxvY2tFbmQmJiFzdGF0ZS5vcHRpb24ubGFzdHNlbWljfHwhc2FtZUxpbmUpJiZ3YXJuaW5nQXQoXFxcIlcwMzNcXFwiLHN0YXRlLnRva2Vucy5jdXJyLmxpbmUsc3RhdGUudG9rZW5zLmN1cnIuY2hhcmFjdGVyKX1lbHNlIGFkdmFuY2UoXFxcIjtcXFwiKX1mdW5jdGlvbiBzdGF0ZW1lbnQoKXt2YXIgcixpPWluZGVudCx0PXN0YXRlLnRva2Vucy5uZXh0LGhhc093blNjb3BlPSExO2lmKFxcXCI7XFxcIj09PXQuaWQpcmV0dXJuIGFkdmFuY2UoXFxcIjtcXFwiKSx2b2lkIDA7dmFyIHJlcz1pc1Jlc2VydmVkKHQpO2lmKHJlcyYmdC5tZXRhJiZ0Lm1ldGEuaXNGdXR1cmVSZXNlcnZlZFdvcmQmJlxcXCI6XFxcIj09PXBlZWsoKS5pZCYmKHdhcm5pbmcoXFxcIlcwMjRcXFwiLHQsdC5pZCkscmVzPSExKSx0LmlkZW50aWZpZXImJiFyZXMmJlxcXCI6XFxcIj09PXBlZWsoKS5pZCYmKGFkdmFuY2UoKSxhZHZhbmNlKFxcXCI6XFxcIiksaGFzT3duU2NvcGU9ITAsc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2suYWRkQnJlYWtMYWJlbCh0LnZhbHVlLHt0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn0pLHN0YXRlLnRva2Vucy5uZXh0LmxhYmVsbGVkfHxcXFwie1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZXx8d2FybmluZyhcXFwiVzAyOFxcXCIsc3RhdGUudG9rZW5zLm5leHQsdC52YWx1ZSxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksc3RhdGUudG9rZW5zLm5leHQubGFiZWw9dC52YWx1ZSx0PXN0YXRlLnRva2Vucy5uZXh0KSxcXFwie1xcXCI9PT10LmlkKXt2YXIgaXNjYXNlPVxcXCJjYXNlXFxcIj09PXN0YXRlLmZ1bmN0W1xcXCIodmVyYilcXFwiXSYmXFxcIjpcXFwiPT09c3RhdGUudG9rZW5zLmN1cnIudmFsdWU7cmV0dXJuIGJsb2NrKCEwLCEwLCExLCExLGlzY2FzZSksdm9pZCAwfXJldHVybiByPWV4cHJlc3Npb24oMCwhMCksIXJ8fHIuaWRlbnRpZmllciYmXFxcImZ1bmN0aW9uXFxcIj09PXIudmFsdWV8fFxcXCIocHVuY3R1YXRvcilcXFwiPT09ci50eXBlJiZyLmxlZnQmJnIubGVmdC5pZGVudGlmaWVyJiZcXFwiZnVuY3Rpb25cXFwiPT09ci5sZWZ0LnZhbHVlfHxzdGF0ZS5pc1N0cmljdCgpfHxcXFwiZ2xvYmFsXFxcIiE9PXN0YXRlLm9wdGlvbi5zdHJpY3R8fHdhcm5pbmcoXFxcIkUwMDdcXFwiKSx0LmJsb2NrfHwoc3RhdGUub3B0aW9uLmV4cHJ8fHImJnIuZXhwcz9zdGF0ZS5vcHRpb24ubm9uZXcmJnImJnIubGVmdCYmXFxcIihcXFwiPT09ci5pZCYmXFxcIm5ld1xcXCI9PT1yLmxlZnQuaWQmJndhcm5pbmcoXFxcIlcwMzFcXFwiLHQpOndhcm5pbmcoXFxcIlcwMzBcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSxwYXJzZUZpbmFsU2VtaWNvbG9uKCkpLGluZGVudD1pLGhhc093blNjb3BlJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKSxyfWZ1bmN0aW9uIHN0YXRlbWVudHMoKXtmb3IodmFyIHAsYT1bXTshc3RhdGUudG9rZW5zLm5leHQucmVhY2gmJlxcXCIoZW5kKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZDspXFxcIjtcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/KHA9cGVlaygpLCghcHx8XFxcIihcXFwiIT09cC5pZCYmXFxcIltcXFwiIT09cC5pZCkmJndhcm5pbmcoXFxcIlcwMzJcXFwiKSxhZHZhbmNlKFxcXCI7XFxcIikpOmEucHVzaChzdGF0ZW1lbnQoKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZGlyZWN0aXZlcygpe2Zvcih2YXIgaSxwLHBuO1xcXCIoc3RyaW5nKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZDspe2lmKHA9cGVlaygwKSxcXFwiKGVuZGxpbmUpXFxcIj09PXAuaWQpe2k9MTtkbyBwbj1wZWVrKGkrKyk7d2hpbGUoXFxcIihlbmRsaW5lKVxcXCI9PT1wbi5pZCk7aWYoXFxcIjtcXFwiPT09cG4uaWQpcD1wbjtlbHNle2lmKFxcXCJbXFxcIj09PXBuLnZhbHVlfHxcXFwiLlxcXCI9PT1wbi52YWx1ZSlicmVhaztzdGF0ZS5vcHRpb24uYXNpJiZcXFwiKFxcXCIhPT1wbi52YWx1ZXx8d2FybmluZyhcXFwiVzAzM1xcXCIsc3RhdGUudG9rZW5zLm5leHQpfX1lbHNle2lmKFxcXCIuXFxcIj09PXAuaWR8fFxcXCJbXFxcIj09PXAuaWQpYnJlYWs7XFxcIjtcXFwiIT09cC5pZCYmd2FybmluZyhcXFwiVzAzM1xcXCIscCl9YWR2YW5jZSgpO3ZhciBkaXJlY3RpdmU9c3RhdGUudG9rZW5zLmN1cnIudmFsdWU7KHN0YXRlLmRpcmVjdGl2ZVtkaXJlY3RpdmVdfHxcXFwidXNlIHN0cmljdFxcXCI9PT1kaXJlY3RpdmUmJlxcXCJpbXBsaWVkXFxcIj09PXN0YXRlLm9wdGlvbi5zdHJpY3QpJiZ3YXJuaW5nKFxcXCJXMDM0XFxcIixzdGF0ZS50b2tlbnMuY3VycixkaXJlY3RpdmUpLHN0YXRlLmRpcmVjdGl2ZVtkaXJlY3RpdmVdPSEwLFxcXCI7XFxcIj09PXAuaWQmJmFkdmFuY2UoXFxcIjtcXFwiKX1zdGF0ZS5pc1N0cmljdCgpJiYoc3RhdGUub3B0aW9uW1xcXCIoZXhwbGljaXROZXdjYXApXFxcIl18fChzdGF0ZS5vcHRpb24ubmV3Y2FwPSEwKSxzdGF0ZS5vcHRpb24udW5kZWY9ITApfWZ1bmN0aW9uIGJsb2NrKG9yZGluYXJ5LHN0bXQsaXNmdW5jLGlzZmF0YXJyb3csaXNjYXNlKXt2YXIgYSxtLHQsbGluZSxkLGI9aW5ibG9jayxvbGRfaW5kZW50PWluZGVudDtpbmJsb2NrPW9yZGluYXJ5LHQ9c3RhdGUudG9rZW5zLm5leHQ7dmFyIG1ldHJpY3M9c3RhdGUuZnVuY3RbXFxcIihtZXRyaWNzKVxcXCJdO2lmKG1ldHJpY3MubmVzdGVkQmxvY2tEZXB0aCs9MSxtZXRyaWNzLnZlcmlmeU1heE5lc3RlZEJsb2NrRGVwdGhQZXJGdW5jdGlvbigpLFxcXCJ7XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKXtpZihhZHZhbmNlKFxcXCJ7XFxcIiksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLGxpbmU9c3RhdGUudG9rZW5zLmN1cnIubGluZSxcXFwifVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCl7Zm9yKGluZGVudCs9c3RhdGUub3B0aW9uLmluZGVudDshb3JkaW5hcnkmJnN0YXRlLnRva2Vucy5uZXh0LmZyb20+aW5kZW50OylpbmRlbnQrPXN0YXRlLm9wdGlvbi5pbmRlbnQ7aWYoaXNmdW5jKXttPXt9O2ZvcihkIGluIHN0YXRlLmRpcmVjdGl2ZSlfLmhhcyhzdGF0ZS5kaXJlY3RpdmUsZCkmJihtW2RdPXN0YXRlLmRpcmVjdGl2ZVtkXSk7ZGlyZWN0aXZlcygpLHN0YXRlLm9wdGlvbi5zdHJpY3QmJnN0YXRlLmZ1bmN0W1xcXCIoY29udGV4dClcXFwiXVtcXFwiKGdsb2JhbClcXFwiXSYmKG1bXFxcInVzZSBzdHJpY3RcXFwiXXx8c3RhdGUuaXNTdHJpY3QoKXx8d2FybmluZyhcXFwiRTAwN1xcXCIpKX1hPXN0YXRlbWVudHMoKSxtZXRyaWNzLnN0YXRlbWVudENvdW50Kz1hLmxlbmd0aCxpbmRlbnQtPXN0YXRlLm9wdGlvbi5pbmRlbnR9YWR2YW5jZShcXFwifVxcXCIsdCksaXNmdW5jJiYoc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS52YWxpZGF0ZVBhcmFtcygpLG0mJihzdGF0ZS5kaXJlY3RpdmU9bSkpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udW5zdGFjaygpLGluZGVudD1vbGRfaW5kZW50fWVsc2UgaWYob3JkaW5hcnkpc3RhdGUuZnVuY3RbXFxcIihub2Jsb2Nrc2NvcGVkdmFyKVxcXCJdPVxcXCJmb3JcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQsc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLCghc3RtdHx8c3RhdGUub3B0aW9uLmN1cmx5KSYmd2FybmluZyhcXFwiVzExNlxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIntcXFwiLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSxzdGF0ZS50b2tlbnMubmV4dC5pbkJyYWNlbGVzc0Jsb2NrPSEwLGluZGVudCs9c3RhdGUub3B0aW9uLmluZGVudCxhPVtzdGF0ZW1lbnQoKV0saW5kZW50LT1zdGF0ZS5vcHRpb24uaW5kZW50LHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udW5zdGFjaygpLGRlbGV0ZSBzdGF0ZS5mdW5jdFtcXFwiKG5vYmxvY2tzY29wZWR2YXIpXFxcIl07ZWxzZSBpZihpc2Z1bmMpe2lmKHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soKSxtPXt9LCFzdG10fHxpc2ZhdGFycm93fHxzdGF0ZS5pbk1veigpfHxlcnJvcihcXFwiVzExOFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImZ1bmN0aW9uIGNsb3N1cmUgZXhwcmVzc2lvbnNcXFwiKSwhc3RtdClmb3IoZCBpbiBzdGF0ZS5kaXJlY3RpdmUpXy5oYXMoc3RhdGUuZGlyZWN0aXZlLGQpJiYobVtkXT1zdGF0ZS5kaXJlY3RpdmVbZF0pO2V4cHJlc3Npb24oMTApLHN0YXRlLm9wdGlvbi5zdHJpY3QmJnN0YXRlLmZ1bmN0W1xcXCIoY29udGV4dClcXFwiXVtcXFwiKGdsb2JhbClcXFwiXSYmKG1bXFxcInVzZSBzdHJpY3RcXFwiXXx8c3RhdGUuaXNTdHJpY3QoKXx8d2FybmluZyhcXFwiRTAwN1xcXCIpKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKX1lbHNlIGVycm9yKFxcXCJFMDIxXFxcIixzdGF0ZS50b2tlbnMubmV4dCxcXFwie1xcXCIsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpO3N3aXRjaChzdGF0ZS5mdW5jdFtcXFwiKHZlcmIpXFxcIl0pe2Nhc2VcXFwiYnJlYWtcXFwiOmNhc2VcXFwiY29udGludWVcXFwiOmNhc2VcXFwicmV0dXJuXFxcIjpjYXNlXFxcInRocm93XFxcIjppZihpc2Nhc2UpYnJlYWs7ZGVmYXVsdDpzdGF0ZS5mdW5jdFtcXFwiKHZlcmIpXFxcIl09bnVsbH1yZXR1cm4gaW5ibG9jaz1iLCFvcmRpbmFyeXx8IXN0YXRlLm9wdGlvbi5ub2VtcHR5fHxhJiYwIT09YS5sZW5ndGh8fHdhcm5pbmcoXFxcIlcwMzVcXFwiLHN0YXRlLnRva2Vucy5wcmV2KSxtZXRyaWNzLm5lc3RlZEJsb2NrRGVwdGgtPTEsYX1mdW5jdGlvbiBjb3VudE1lbWJlcihtKXttZW1iZXJzT25seSYmXFxcImJvb2xlYW5cXFwiIT10eXBlb2YgbWVtYmVyc09ubHlbbV0mJndhcm5pbmcoXFxcIlcwMzZcXFwiLHN0YXRlLnRva2Vucy5jdXJyLG0pLFxcXCJudW1iZXJcXFwiPT10eXBlb2YgbWVtYmVyW21dP21lbWJlclttXSs9MTptZW1iZXJbbV09MX1mdW5jdGlvbiBjb21wcmVoZW5zaXZlQXJyYXlFeHByZXNzaW9uKCl7dmFyIHJlcz17fTtyZXMuZXhwcz0hMCxzdGF0ZS5mdW5jdFtcXFwiKGNvbXBhcnJheSlcXFwiXS5zdGFjaygpO3ZhciByZXZlcnNlZD0hMTtyZXR1cm5cXFwiZm9yXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYocmV2ZXJzZWQ9ITAsc3RhdGUuaW5Nb3ooKXx8d2FybmluZyhcXFwiVzExNlxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImZvclxcXCIsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpLHN0YXRlLmZ1bmN0W1xcXCIoY29tcGFycmF5KVxcXCJdLnNldFN0YXRlKFxcXCJ1c2VcXFwiKSxyZXMucmlnaHQ9ZXhwcmVzc2lvbigxMCkpLGFkdmFuY2UoXFxcImZvclxcXCIpLFxcXCJlYWNoXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoYWR2YW5jZShcXFwiZWFjaFxcXCIpLHN0YXRlLmluTW96KCl8fHdhcm5pbmcoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJmb3IgZWFjaFxcXCIpKSxhZHZhbmNlKFxcXCIoXFxcIiksc3RhdGUuZnVuY3RbXFxcIihjb21wYXJyYXkpXFxcIl0uc2V0U3RhdGUoXFxcImRlZmluZVxcXCIpLHJlcy5sZWZ0PWV4cHJlc3Npb24oMTMwKSxfLmNvbnRhaW5zKFtcXFwiaW5cXFwiLFxcXCJvZlxcXCJdLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKT9hZHZhbmNlKCk6ZXJyb3IoXFxcIkUwNDVcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSxzdGF0ZS5mdW5jdFtcXFwiKGNvbXBhcnJheSlcXFwiXS5zZXRTdGF0ZShcXFwiZ2VuZXJhdGVcXFwiKSxleHByZXNzaW9uKDEwKSxhZHZhbmNlKFxcXCIpXFxcIiksXFxcImlmXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoYWR2YW5jZShcXFwiaWZcXFwiKSxhZHZhbmNlKFxcXCIoXFxcIiksc3RhdGUuZnVuY3RbXFxcIihjb21wYXJyYXkpXFxcIl0uc2V0U3RhdGUoXFxcImZpbHRlclxcXCIpLHJlcy5maWx0ZXI9ZXhwcmVzc2lvbigxMCksYWR2YW5jZShcXFwiKVxcXCIpKSxyZXZlcnNlZHx8KHN0YXRlLmZ1bmN0W1xcXCIoY29tcGFycmF5KVxcXCJdLnNldFN0YXRlKFxcXCJ1c2VcXFwiKSxyZXMucmlnaHQ9ZXhwcmVzc2lvbigxMCkpLGFkdmFuY2UoXFxcIl1cXFwiKSxzdGF0ZS5mdW5jdFtcXFwiKGNvbXBhcnJheSlcXFwiXS51bnN0YWNrKCkscmVzfWZ1bmN0aW9uIGlzTWV0aG9kKCl7cmV0dXJuIHN0YXRlLmZ1bmN0W1xcXCIoc3RhdGVtZW50KVxcXCJdJiZcXFwiY2xhc3NcXFwiPT09c3RhdGUuZnVuY3RbXFxcIihzdGF0ZW1lbnQpXFxcIl0udHlwZXx8c3RhdGUuZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdJiZcXFwiY2xhc3NcXFwiPT09c3RhdGUuZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdW1xcXCIodmVyYilcXFwiXX1mdW5jdGlvbiBpc1Byb3BlcnR5TmFtZSh0b2tlbil7cmV0dXJuIHRva2VuLmlkZW50aWZpZXJ8fFxcXCIoc3RyaW5nKVxcXCI9PT10b2tlbi5pZHx8XFxcIihudW1iZXIpXFxcIj09PXRva2VuLmlkfWZ1bmN0aW9uIHByb3BlcnR5TmFtZShwcmVzZXJ2ZU9yVG9rZW4pe3ZhciBpZCxwcmVzZXJ2ZT0hMDtyZXR1cm5cXFwib2JqZWN0XFxcIj09dHlwZW9mIHByZXNlcnZlT3JUb2tlbj9pZD1wcmVzZXJ2ZU9yVG9rZW46KHByZXNlcnZlPXByZXNlcnZlT3JUb2tlbixpZD1vcHRpb25hbGlkZW50aWZpZXIoITEsITAscHJlc2VydmUpKSxpZD9cXFwib2JqZWN0XFxcIj09dHlwZW9mIGlkJiYoXFxcIihzdHJpbmcpXFxcIj09PWlkLmlkfHxcXFwiKGlkZW50aWZpZXIpXFxcIj09PWlkLmlkP2lkPWlkLnZhbHVlOlxcXCIobnVtYmVyKVxcXCI9PT1pZC5pZCYmKGlkPVxcXCJcXFwiK2lkLnZhbHVlKSk6XFxcIihzdHJpbmcpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkPyhpZD1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSxwcmVzZXJ2ZXx8YWR2YW5jZSgpKTpcXFwiKG51bWJlcilcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJihpZD1cXFwiXFxcIitzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSxwcmVzZXJ2ZXx8YWR2YW5jZSgpKSxcXFwiaGFzT3duUHJvcGVydHlcXFwiPT09aWQmJndhcm5pbmcoXFxcIlcwMDFcXFwiKSxpZH1mdW5jdGlvbiBmdW5jdGlvbnBhcmFtcyhvcHRpb25zKXtmdW5jdGlvbiBhZGRQYXJhbShhZGRQYXJhbUFyZ3Mpe3N0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkUGFyYW0uYXBwbHkoc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXSxhZGRQYXJhbUFyZ3MpfXZhciBuZXh0LGlkZW50LHQscGFyYW1zSWRzPVtdLHRva2Vucz1bXSxwYXN0RGVmYXVsdD0hMSxwYXN0UmVzdD0hMSxhcml0eT0wLGxvbmVBcmc9b3B0aW9ucyYmb3B0aW9ucy5sb25lQXJnO2lmKGxvbmVBcmcmJmxvbmVBcmcuaWRlbnRpZmllcj09PSEwKXJldHVybiBzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZFBhcmFtKGxvbmVBcmcudmFsdWUsbG9uZUFyZykse2FyaXR5OjEscGFyYW1zOltsb25lQXJnLnZhbHVlXX07aWYobmV4dD1zdGF0ZS50b2tlbnMubmV4dCxvcHRpb25zJiZvcHRpb25zLnBhcnNlZE9wZW5pbmd8fGFkdmFuY2UoXFxcIihcXFwiKSxcXFwiKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClyZXR1cm4gYWR2YW5jZShcXFwiKVxcXCIpLHZvaWQgMDtmb3IoOzspe2FyaXR5Kys7dmFyIGN1cnJlbnRQYXJhbXM9W107aWYoXy5jb250YWlucyhbXFxcIntcXFwiLFxcXCJbXFxcIl0sc3RhdGUudG9rZW5zLm5leHQuaWQpKXt0b2tlbnM9ZGVzdHJ1Y3R1cmluZ1BhdHRlcm4oKTtmb3IodCBpbiB0b2tlbnMpdD10b2tlbnNbdF0sdC5pZCYmKHBhcmFtc0lkcy5wdXNoKHQuaWQpLGN1cnJlbnRQYXJhbXMucHVzaChbdC5pZCx0LnRva2VuXSkpfWVsc2UgaWYoY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCIuLi5cXFwiKSYmKHBhc3RSZXN0PSEwKSxpZGVudD1pZGVudGlmaWVyKCEwKSlwYXJhbXNJZHMucHVzaChpZGVudCksY3VycmVudFBhcmFtcy5wdXNoKFtpZGVudCxzdGF0ZS50b2tlbnMuY3Vycl0pO2Vsc2UgZm9yKDshY2hlY2tQdW5jdHVhdG9ycyhzdGF0ZS50b2tlbnMubmV4dCxbXFxcIixcXFwiLFxcXCIpXFxcIl0pOylhZHZhbmNlKCk7aWYocGFzdERlZmF1bHQmJlxcXCI9XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZlcnJvcihcXFwiVzEzOFxcXCIsc3RhdGUudG9rZW5zLmN1cnJlbnQpLFxcXCI9XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiYoc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImRlZmF1bHQgcGFyYW1ldGVyc1xcXCIsXFxcIjZcXFwiKSxhZHZhbmNlKFxcXCI9XFxcIikscGFzdERlZmF1bHQ9ITAsZXhwcmVzc2lvbigxMCkpLGN1cnJlbnRQYXJhbXMuZm9yRWFjaChhZGRQYXJhbSksXFxcIixcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpcmV0dXJuIGFkdmFuY2UoXFxcIilcXFwiLG5leHQpLHthcml0eTphcml0eSxwYXJhbXM6cGFyYW1zSWRzfTtwYXN0UmVzdCYmd2FybmluZyhcXFwiVzEzMVxcXCIsc3RhdGUudG9rZW5zLm5leHQpLGNvbW1hKCl9fWZ1bmN0aW9uIGZ1bmN0b3IobmFtZSx0b2tlbixvdmVyd3JpdGVzKXt2YXIgZnVuY3Q9e1xcXCIobmFtZSlcXFwiOm5hbWUsXFxcIihicmVha2FnZSlcXFwiOjAsXFxcIihsb29wYWdlKVxcXCI6MCxcXFwiKHRva2VucylcXFwiOnt9LFxcXCIocHJvcGVydGllcylcXFwiOnt9LFxcXCIoY2F0Y2gpXFxcIjohMSxcXFwiKGdsb2JhbClcXFwiOiExLFxcXCIobGluZSlcXFwiOm51bGwsXFxcIihjaGFyYWN0ZXIpXFxcIjpudWxsLFxcXCIobWV0cmljcylcXFwiOm51bGwsXFxcIihzdGF0ZW1lbnQpXFxcIjpudWxsLFxcXCIoY29udGV4dClcXFwiOm51bGwsXFxcIihzY29wZSlcXFwiOm51bGwsXFxcIihjb21wYXJyYXkpXFxcIjpudWxsLFxcXCIoZ2VuZXJhdG9yKVxcXCI6bnVsbCxcXFwiKGFycm93KVxcXCI6bnVsbCxcXFwiKHBhcmFtcylcXFwiOm51bGx9O3JldHVybiB0b2tlbiYmXy5leHRlbmQoZnVuY3Qse1xcXCIobGluZSlcXFwiOnRva2VuLmxpbmUsXFxcIihjaGFyYWN0ZXIpXFxcIjp0b2tlbi5jaGFyYWN0ZXIsXFxcIihtZXRyaWNzKVxcXCI6Y3JlYXRlTWV0cmljcyh0b2tlbil9KSxfLmV4dGVuZChmdW5jdCxvdmVyd3JpdGVzKSxmdW5jdFtcXFwiKGNvbnRleHQpXFxcIl0mJihmdW5jdFtcXFwiKHNjb3BlKVxcXCJdPWZ1bmN0W1xcXCIoY29udGV4dClcXFwiXVtcXFwiKHNjb3BlKVxcXCJdLGZ1bmN0W1xcXCIoY29tcGFycmF5KVxcXCJdPWZ1bmN0W1xcXCIoY29udGV4dClcXFwiXVtcXFwiKGNvbXBhcnJheSlcXFwiXSksZnVuY3R9ZnVuY3Rpb24gaXNGdW5jdG9yKHRva2VuKXtyZXR1cm5cXFwiKHNjb3BlKVxcXCJpbiB0b2tlbn1mdW5jdGlvbiBoYXNQYXJzZWRDb2RlKGZ1bmN0KXtyZXR1cm4gZnVuY3RbXFxcIihnbG9iYWwpXFxcIl0mJiFmdW5jdFtcXFwiKHZlcmIpXFxcIl19ZnVuY3Rpb24gZG9UZW1wbGF0ZUxpdGVyYWwobGVmdCl7ZnVuY3Rpb24gZW5kKCl7aWYoc3RhdGUudG9rZW5zLmN1cnIudGVtcGxhdGUmJnN0YXRlLnRva2Vucy5jdXJyLnRhaWwmJnN0YXRlLnRva2Vucy5jdXJyLmNvbnRleHQ9PT1jdHgpcmV0dXJuITA7dmFyIGNvbXBsZXRlPXN0YXRlLnRva2Vucy5uZXh0LnRlbXBsYXRlJiZzdGF0ZS50b2tlbnMubmV4dC50YWlsJiZzdGF0ZS50b2tlbnMubmV4dC5jb250ZXh0PT09Y3R4O3JldHVybiBjb21wbGV0ZSYmYWR2YW5jZSgpLGNvbXBsZXRlfHxzdGF0ZS50b2tlbnMubmV4dC5pc1VuY2xvc2VkfXZhciBjdHg9dGhpcy5jb250ZXh0LG5vU3Vic3Q9dGhpcy5ub1N1YnN0LGRlcHRoPXRoaXMuZGVwdGg7aWYoIW5vU3Vic3QpZm9yKDshZW5kKCk7KSFzdGF0ZS50b2tlbnMubmV4dC50ZW1wbGF0ZXx8c3RhdGUudG9rZW5zLm5leHQuZGVwdGg+ZGVwdGg/ZXhwcmVzc2lvbigwKTphZHZhbmNlKCk7cmV0dXJue2lkOlxcXCIodGVtcGxhdGUpXFxcIix0eXBlOlxcXCIodGVtcGxhdGUpXFxcIix0YWc6bGVmdH19ZnVuY3Rpb24gZG9GdW5jdGlvbihvcHRpb25zKXt2YXIgZix0b2tlbixuYW1lLHN0YXRlbWVudCxjbGFzc0V4cHJCaW5kaW5nLGlzR2VuZXJhdG9yLGlzQXJyb3csaWdub3JlTG9vcEZ1bmMsb2xkT3B0aW9uPXN0YXRlLm9wdGlvbixvbGRJZ25vcmVkPXN0YXRlLmlnbm9yZWQ7b3B0aW9ucyYmKG5hbWU9b3B0aW9ucy5uYW1lLHN0YXRlbWVudD1vcHRpb25zLnN0YXRlbWVudCxjbGFzc0V4cHJCaW5kaW5nPW9wdGlvbnMuY2xhc3NFeHByQmluZGluZyxpc0dlbmVyYXRvcj1cXFwiZ2VuZXJhdG9yXFxcIj09PW9wdGlvbnMudHlwZSxpc0Fycm93PVxcXCJhcnJvd1xcXCI9PT1vcHRpb25zLnR5cGUsaWdub3JlTG9vcEZ1bmM9b3B0aW9ucy5pZ25vcmVMb29wRnVuYyksc3RhdGUub3B0aW9uPU9iamVjdC5jcmVhdGUoc3RhdGUub3B0aW9uKSxzdGF0ZS5pZ25vcmVkPU9iamVjdC5jcmVhdGUoc3RhdGUuaWdub3JlZCksc3RhdGUuZnVuY3Q9ZnVuY3RvcihuYW1lfHxzdGF0ZS5uYW1lU3RhY2suaW5mZXIoKSxzdGF0ZS50b2tlbnMubmV4dCx7XFxcIihzdGF0ZW1lbnQpXFxcIjpzdGF0ZW1lbnQsXFxcIihjb250ZXh0KVxcXCI6c3RhdGUuZnVuY3QsXFxcIihhcnJvdylcXFwiOmlzQXJyb3csXFxcIihnZW5lcmF0b3IpXFxcIjppc0dlbmVyYXRvcn0pLGY9c3RhdGUuZnVuY3QsdG9rZW49c3RhdGUudG9rZW5zLmN1cnIsdG9rZW4uZnVuY3Q9c3RhdGUuZnVuY3QsZnVuY3Rpb25zLnB1c2goc3RhdGUuZnVuY3QpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soXFxcImZ1bmN0aW9ub3V0ZXJcXFwiKTt2YXIgaW50ZXJuYWxseUFjY2Vzc2libGVOYW1lPW5hbWV8fGNsYXNzRXhwckJpbmRpbmc7aW50ZXJuYWxseUFjY2Vzc2libGVOYW1lJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLmFkZChpbnRlcm5hbGx5QWNjZXNzaWJsZU5hbWUsY2xhc3NFeHByQmluZGluZz9cXFwiY2xhc3NcXFwiOlxcXCJmdW5jdGlvblxcXCIsc3RhdGUudG9rZW5zLmN1cnIsITEpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soXFxcImZ1bmN0aW9ucGFyYW1zXFxcIik7dmFyIHBhcmFtc0luZm89ZnVuY3Rpb25wYXJhbXMob3B0aW9ucyk7cmV0dXJuIHBhcmFtc0luZm8/KHN0YXRlLmZ1bmN0W1xcXCIocGFyYW1zKVxcXCJdPXBhcmFtc0luZm8ucGFyYW1zLHN0YXRlLmZ1bmN0W1xcXCIobWV0cmljcylcXFwiXS5hcml0eT1wYXJhbXNJbmZvLmFyaXR5LHN0YXRlLmZ1bmN0W1xcXCIobWV0cmljcylcXFwiXS52ZXJpZnlNYXhQYXJhbWV0ZXJzUGVyRnVuY3Rpb24oKSk6c3RhdGUuZnVuY3RbXFxcIihtZXRyaWNzKVxcXCJdLmFyaXR5PTAsaXNBcnJvdyYmKHN0YXRlLmluRVM2KCEwKXx8d2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImFycm93IGZ1bmN0aW9uIHN5bnRheCAoPT4pXFxcIixcXFwiNlxcXCIpLG9wdGlvbnMubG9uZUFyZ3x8YWR2YW5jZShcXFwiPT5cXFwiKSksYmxvY2soITEsITAsITAsaXNBcnJvdyksIXN0YXRlLm9wdGlvbi5ub3lpZWxkJiZpc0dlbmVyYXRvciYmXFxcInlpZWxkZWRcXFwiIT09c3RhdGUuZnVuY3RbXFxcIihnZW5lcmF0b3IpXFxcIl0mJndhcm5pbmcoXFxcIlcxMjRcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSxzdGF0ZS5mdW5jdFtcXFwiKG1ldHJpY3MpXFxcIl0udmVyaWZ5TWF4U3RhdGVtZW50c1BlckZ1bmN0aW9uKCksc3RhdGUuZnVuY3RbXFxcIihtZXRyaWNzKVxcXCJdLnZlcmlmeU1heENvbXBsZXhpdHlQZXJGdW5jdGlvbigpLHN0YXRlLmZ1bmN0W1xcXCIodW51c2VkT3B0aW9uKVxcXCJdPXN0YXRlLm9wdGlvbi51bnVzZWQsc3RhdGUub3B0aW9uPW9sZE9wdGlvbixzdGF0ZS5pZ25vcmVkPW9sZElnbm9yZWQsc3RhdGUuZnVuY3RbXFxcIihsYXN0KVxcXCJdPXN0YXRlLnRva2Vucy5jdXJyLmxpbmUsc3RhdGUuZnVuY3RbXFxcIihsYXN0Y2hhcmFjdGVyKVxcXCJdPXN0YXRlLnRva2Vucy5jdXJyLmNoYXJhY3RlcixzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKSxzdGF0ZS5mdW5jdD1zdGF0ZS5mdW5jdFtcXFwiKGNvbnRleHQpXFxcIl0saWdub3JlTG9vcEZ1bmN8fHN0YXRlLm9wdGlvbi5sb29wZnVuY3x8IXN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXXx8ZltcXFwiKGlzQ2FwdHVyaW5nKVxcXCJdJiZ3YXJuaW5nKFxcXCJXMDgzXFxcIix0b2tlbiksZn1mdW5jdGlvbiBjcmVhdGVNZXRyaWNzKGZ1bmN0aW9uU3RhcnRUb2tlbil7cmV0dXJue3N0YXRlbWVudENvdW50OjAsbmVzdGVkQmxvY2tEZXB0aDotMSxDb21wbGV4aXR5Q291bnQ6MSxhcml0eTowLHZlcmlmeU1heFN0YXRlbWVudHNQZXJGdW5jdGlvbjpmdW5jdGlvbigpe3N0YXRlLm9wdGlvbi5tYXhzdGF0ZW1lbnRzJiZ0aGlzLnN0YXRlbWVudENvdW50PnN0YXRlLm9wdGlvbi5tYXhzdGF0ZW1lbnRzJiZ3YXJuaW5nKFxcXCJXMDcxXFxcIixmdW5jdGlvblN0YXJ0VG9rZW4sdGhpcy5zdGF0ZW1lbnRDb3VudClcXG59LHZlcmlmeU1heFBhcmFtZXRlcnNQZXJGdW5jdGlvbjpmdW5jdGlvbigpe18uaXNOdW1iZXIoc3RhdGUub3B0aW9uLm1heHBhcmFtcykmJnRoaXMuYXJpdHk+c3RhdGUub3B0aW9uLm1heHBhcmFtcyYmd2FybmluZyhcXFwiVzA3MlxcXCIsZnVuY3Rpb25TdGFydFRva2VuLHRoaXMuYXJpdHkpfSx2ZXJpZnlNYXhOZXN0ZWRCbG9ja0RlcHRoUGVyRnVuY3Rpb246ZnVuY3Rpb24oKXtzdGF0ZS5vcHRpb24ubWF4ZGVwdGgmJnRoaXMubmVzdGVkQmxvY2tEZXB0aD4wJiZ0aGlzLm5lc3RlZEJsb2NrRGVwdGg9PT1zdGF0ZS5vcHRpb24ubWF4ZGVwdGgrMSYmd2FybmluZyhcXFwiVzA3M1xcXCIsbnVsbCx0aGlzLm5lc3RlZEJsb2NrRGVwdGgpfSx2ZXJpZnlNYXhDb21wbGV4aXR5UGVyRnVuY3Rpb246ZnVuY3Rpb24oKXt2YXIgbWF4PXN0YXRlLm9wdGlvbi5tYXhjb21wbGV4aXR5LGNjPXRoaXMuQ29tcGxleGl0eUNvdW50O21heCYmY2M+bWF4JiZ3YXJuaW5nKFxcXCJXMDc0XFxcIixmdW5jdGlvblN0YXJ0VG9rZW4sY2MpfX19ZnVuY3Rpb24gaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKXtzdGF0ZS5mdW5jdFtcXFwiKG1ldHJpY3MpXFxcIl0uQ29tcGxleGl0eUNvdW50Kz0xfWZ1bmN0aW9uIGNoZWNrQ29uZEFzc2lnbm1lbnQoZXhwcil7dmFyIGlkLHBhcmVuO3N3aXRjaChleHByJiYoaWQ9ZXhwci5pZCxwYXJlbj1leHByLnBhcmVuLFxcXCIsXFxcIj09PWlkJiYoZXhwcj1leHByLmV4cHJzW2V4cHIuZXhwcnMubGVuZ3RoLTFdKSYmKGlkPWV4cHIuaWQscGFyZW49cGFyZW58fGV4cHIucGFyZW4pKSxpZCl7Y2FzZVxcXCI9XFxcIjpjYXNlXFxcIis9XFxcIjpjYXNlXFxcIi09XFxcIjpjYXNlXFxcIio9XFxcIjpjYXNlXFxcIiU9XFxcIjpjYXNlXFxcIiY9XFxcIjpjYXNlXFxcInw9XFxcIjpjYXNlXFxcIl49XFxcIjpjYXNlXFxcIi89XFxcIjpwYXJlbnx8c3RhdGUub3B0aW9uLmJvc3N8fHdhcm5pbmcoXFxcIlcwODRcXFwiKX19ZnVuY3Rpb24gY2hlY2tQcm9wZXJ0aWVzKHByb3BzKXtpZihzdGF0ZS5pbkVTNSgpKWZvcih2YXIgbmFtZSBpbiBwcm9wcylwcm9wc1tuYW1lXSYmcHJvcHNbbmFtZV0uc2V0dGVyVG9rZW4mJiFwcm9wc1tuYW1lXS5nZXR0ZXJUb2tlbiYmd2FybmluZyhcXFwiVzA3OFxcXCIscHJvcHNbbmFtZV0uc2V0dGVyVG9rZW4pfWZ1bmN0aW9uIG1ldGFQcm9wZXJ0eShuYW1lLGMpe2lmKGNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiLlxcXCIpKXt2YXIgbGVmdD1zdGF0ZS50b2tlbnMuY3Vyci5pZDthZHZhbmNlKFxcXCIuXFxcIik7dmFyIGlkPWlkZW50aWZpZXIoKTtyZXR1cm4gc3RhdGUudG9rZW5zLmN1cnIuaXNNZXRhUHJvcGVydHk9ITAsbmFtZSE9PWlkP2Vycm9yKFxcXCJFMDU3XFxcIixzdGF0ZS50b2tlbnMucHJldixsZWZ0LGlkKTpjKCksc3RhdGUudG9rZW5zLmN1cnJ9fWZ1bmN0aW9uIGRlc3RydWN0dXJpbmdQYXR0ZXJuKG9wdGlvbnMpe3ZhciBpc0Fzc2lnbm1lbnQ9b3B0aW9ucyYmb3B0aW9ucy5hc3NpZ25tZW50O3JldHVybiBzdGF0ZS5pbkVTNigpfHx3YXJuaW5nKFxcXCJXMTA0XFxcIixzdGF0ZS50b2tlbnMuY3Vycixpc0Fzc2lnbm1lbnQ/XFxcImRlc3RydWN0dXJpbmcgYXNzaWdubWVudFxcXCI6XFxcImRlc3RydWN0dXJpbmcgYmluZGluZ1xcXCIsXFxcIjZcXFwiKSxkZXN0cnVjdHVyaW5nUGF0dGVyblJlY3Vyc2l2ZShvcHRpb25zKX1mdW5jdGlvbiBkZXN0cnVjdHVyaW5nUGF0dGVyblJlY3Vyc2l2ZShvcHRpb25zKXt2YXIgaWRzLGlkZW50aWZpZXJzPVtdLG9wZW5pbmdQYXJzZWQ9b3B0aW9ucyYmb3B0aW9ucy5vcGVuaW5nUGFyc2VkLGlzQXNzaWdubWVudD1vcHRpb25zJiZvcHRpb25zLmFzc2lnbm1lbnQscmVjdXJzaXZlT3B0aW9ucz1pc0Fzc2lnbm1lbnQ/e2Fzc2lnbm1lbnQ6aXNBc3NpZ25tZW50fTpudWxsLGZpcnN0VG9rZW49b3BlbmluZ1BhcnNlZD9zdGF0ZS50b2tlbnMuY3VycjpzdGF0ZS50b2tlbnMubmV4dCxuZXh0SW5uZXJERT1mdW5jdGlvbigpe3ZhciBpZGVudDtpZihjaGVja1B1bmN0dWF0b3JzKHN0YXRlLnRva2Vucy5uZXh0LFtcXFwiW1xcXCIsXFxcIntcXFwiXSkpe2lkcz1kZXN0cnVjdHVyaW5nUGF0dGVyblJlY3Vyc2l2ZShyZWN1cnNpdmVPcHRpb25zKTtmb3IodmFyIGlkIGluIGlkcylpZD1pZHNbaWRdLGlkZW50aWZpZXJzLnB1c2goe2lkOmlkLmlkLHRva2VuOmlkLnRva2VufSl9ZWxzZSBpZihjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIixcXFwiKSlpZGVudGlmaWVycy5wdXNoKHtpZDpudWxsLHRva2VuOnN0YXRlLnRva2Vucy5jdXJyfSk7ZWxzZXtpZighY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCIoXFxcIikpe3ZhciBpc19yZXN0PWNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiLi4uXFxcIik7aWYoaXNBc3NpZ25tZW50KXt2YXIgaWRlbnRpZmllclRva2VuPWlzX3Jlc3Q/cGVlaygwKTpzdGF0ZS50b2tlbnMubmV4dDtpZGVudGlmaWVyVG9rZW4uaWRlbnRpZmllcnx8d2FybmluZyhcXFwiRTAzMFxcXCIsaWRlbnRpZmllclRva2VuLGlkZW50aWZpZXJUb2tlbi52YWx1ZSk7dmFyIGFzc2lnblRhcmdldD1leHByZXNzaW9uKDE1NSk7YXNzaWduVGFyZ2V0JiYoY2hlY2tMZWZ0U2lkZUFzc2lnbihhc3NpZ25UYXJnZXQpLGFzc2lnblRhcmdldC5pZGVudGlmaWVyJiYoaWRlbnQ9YXNzaWduVGFyZ2V0LnZhbHVlKSl9ZWxzZSBpZGVudD1pZGVudGlmaWVyKCk7cmV0dXJuIGlkZW50JiZpZGVudGlmaWVycy5wdXNoKHtpZDppZGVudCx0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn0pLGlzX3Jlc3R9YWR2YW5jZShcXFwiKFxcXCIpLG5leHRJbm5lckRFKCksYWR2YW5jZShcXFwiKVxcXCIpfXJldHVybiExfSxhc3NpZ25tZW50UHJvcGVydHk9ZnVuY3Rpb24oKXt2YXIgaWQ7Y2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJbXFxcIik/KGFkdmFuY2UoXFxcIltcXFwiKSxleHByZXNzaW9uKDEwKSxhZHZhbmNlKFxcXCJdXFxcIiksYWR2YW5jZShcXFwiOlxcXCIpLG5leHRJbm5lckRFKCkpOlxcXCIoc3RyaW5nKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8XFxcIihudW1iZXIpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkPyhhZHZhbmNlKCksYWR2YW5jZShcXFwiOlxcXCIpLG5leHRJbm5lckRFKCkpOihpZD1pZGVudGlmaWVyKCksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCI6XFxcIik/KGFkdmFuY2UoXFxcIjpcXFwiKSxuZXh0SW5uZXJERSgpKTppZCYmKGlzQXNzaWdubWVudCYmY2hlY2tMZWZ0U2lkZUFzc2lnbihzdGF0ZS50b2tlbnMuY3VyciksaWRlbnRpZmllcnMucHVzaCh7aWQ6aWQsdG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9KSkpfTtpZihjaGVja1B1bmN0dWF0b3IoZmlyc3RUb2tlbixcXFwiW1xcXCIpKXtvcGVuaW5nUGFyc2VkfHxhZHZhbmNlKFxcXCJbXFxcIiksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJdXFxcIikmJndhcm5pbmcoXFxcIlcxMzdcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTtmb3IodmFyIGVsZW1lbnRfYWZ0ZXJfcmVzdD0hMTshY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJdXFxcIik7KW5leHRJbm5lckRFKCkmJiFlbGVtZW50X2FmdGVyX3Jlc3QmJmNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiLFxcXCIpJiYod2FybmluZyhcXFwiVzEzMFxcXCIsc3RhdGUudG9rZW5zLm5leHQpLGVsZW1lbnRfYWZ0ZXJfcmVzdD0hMCksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCI9XFxcIikmJihjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLnByZXYsXFxcIi4uLlxcXCIpP2FkdmFuY2UoXFxcIl1cXFwiKTphZHZhbmNlKFxcXCI9XFxcIiksXFxcInVuZGVmaW5lZFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmd2FybmluZyhcXFwiVzA4MFxcXCIsc3RhdGUudG9rZW5zLnByZXYsc3RhdGUudG9rZW5zLnByZXYudmFsdWUpLGV4cHJlc3Npb24oMTApKSxjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIl1cXFwiKXx8YWR2YW5jZShcXFwiLFxcXCIpO2FkdmFuY2UoXFxcIl1cXFwiKX1lbHNlIGlmKGNoZWNrUHVuY3R1YXRvcihmaXJzdFRva2VuLFxcXCJ7XFxcIikpe2ZvcihvcGVuaW5nUGFyc2VkfHxhZHZhbmNlKFxcXCJ7XFxcIiksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJ9XFxcIikmJndhcm5pbmcoXFxcIlcxMzdcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTshY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJ9XFxcIikmJihhc3NpZ25tZW50UHJvcGVydHkoKSxjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIj1cXFwiKSYmKGFkdmFuY2UoXFxcIj1cXFwiKSxcXFwidW5kZWZpbmVkXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZ3YXJuaW5nKFxcXCJXMDgwXFxcIixzdGF0ZS50b2tlbnMucHJldixzdGF0ZS50b2tlbnMucHJldi52YWx1ZSksZXhwcmVzc2lvbigxMCkpLGNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwifVxcXCIpfHwoYWR2YW5jZShcXFwiLFxcXCIpLCFjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIn1cXFwiKSkpOyk7YWR2YW5jZShcXFwifVxcXCIpfXJldHVybiBpZGVudGlmaWVyc31mdW5jdGlvbiBkZXN0cnVjdHVyaW5nUGF0dGVybk1hdGNoKHRva2Vucyx2YWx1ZSl7dmFyIGZpcnN0PXZhbHVlLmZpcnN0O2ZpcnN0JiZfLnppcCh0b2tlbnMsQXJyYXkuaXNBcnJheShmaXJzdCk/Zmlyc3Q6W2ZpcnN0XSkuZm9yRWFjaChmdW5jdGlvbih2YWwpe3ZhciB0b2tlbj12YWxbMF0sdmFsdWU9dmFsWzFdO3Rva2VuJiZ2YWx1ZT90b2tlbi5maXJzdD12YWx1ZTp0b2tlbiYmdG9rZW4uZmlyc3QmJiF2YWx1ZSYmd2FybmluZyhcXFwiVzA4MFxcXCIsdG9rZW4uZmlyc3QsdG9rZW4uZmlyc3QudmFsdWUpfSl9ZnVuY3Rpb24gYmxvY2tWYXJpYWJsZVN0YXRlbWVudCh0eXBlLHN0YXRlbWVudCxjb250ZXh0KXt2YXIgdG9rZW5zLGxvbmUsdmFsdWUsbGV0YmxvY2sscHJlZml4PWNvbnRleHQmJmNvbnRleHQucHJlZml4LGluZXhwb3J0PWNvbnRleHQmJmNvbnRleHQuaW5leHBvcnQsaXNMZXQ9XFxcImxldFxcXCI9PT10eXBlLGlzQ29uc3Q9XFxcImNvbnN0XFxcIj09PXR5cGU7Zm9yKHN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMDRcXFwiLHN0YXRlLnRva2Vucy5jdXJyLHR5cGUsXFxcIjZcXFwiKSxpc0xldCYmXFxcIihcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWU/KHN0YXRlLmluTW96KCl8fHdhcm5pbmcoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJsZXQgYmxvY2tcXFwiKSxhZHZhbmNlKFxcXCIoXFxcIiksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLGxldGJsb2NrPSEwKTpzdGF0ZS5mdW5jdFtcXFwiKG5vYmxvY2tzY29wZWR2YXIpXFxcIl0mJmVycm9yKFxcXCJFMDQ4XFxcIixzdGF0ZS50b2tlbnMuY3Vycixpc0NvbnN0P1xcXCJDb25zdFxcXCI6XFxcIkxldFxcXCIpLHN0YXRlbWVudC5maXJzdD1bXTs7KXt2YXIgbmFtZXM9W107Xy5jb250YWlucyhbXFxcIntcXFwiLFxcXCJbXFxcIl0sc3RhdGUudG9rZW5zLm5leHQudmFsdWUpPyh0b2tlbnM9ZGVzdHJ1Y3R1cmluZ1BhdHRlcm4oKSxsb25lPSExKToodG9rZW5zPVt7aWQ6aWRlbnRpZmllcigpLHRva2VuOnN0YXRlLnRva2Vucy5jdXJyfV0sbG9uZT0hMCksIXByZWZpeCYmaXNDb25zdCYmXFxcIj1cXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJndhcm5pbmcoXFxcIkUwMTJcXFwiLHN0YXRlLnRva2Vucy5jdXJyLHN0YXRlLnRva2Vucy5jdXJyLnZhbHVlKTtmb3IodmFyIHQgaW4gdG9rZW5zKXRva2Vucy5oYXNPd25Qcm9wZXJ0eSh0KSYmKHQ9dG9rZW5zW3RdLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2suaXNHbG9iYWwoKSYmcHJlZGVmaW5lZFt0LmlkXT09PSExJiZ3YXJuaW5nKFxcXCJXMDc5XFxcIix0LnRva2VuLHQuaWQpLHQuaWQmJiFzdGF0ZS5mdW5jdFtcXFwiKG5vYmxvY2tzY29wZWR2YXIpXFxcIl0mJihzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZGxhYmVsKHQuaWQse3R5cGU6dHlwZSx0b2tlbjp0LnRva2VufSksbmFtZXMucHVzaCh0LnRva2VuKSxsb25lJiZpbmV4cG9ydCYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zZXRFeHBvcnRlZCh0LnRva2VuLnZhbHVlLHQudG9rZW4pKSk7aWYoXFxcIj1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJihhZHZhbmNlKFxcXCI9XFxcIikscHJlZml4fHxcXFwidW5kZWZpbmVkXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkfHx3YXJuaW5nKFxcXCJXMDgwXFxcIixzdGF0ZS50b2tlbnMucHJldixzdGF0ZS50b2tlbnMucHJldi52YWx1ZSksIXByZWZpeCYmXFxcIj1cXFwiPT09cGVlaygwKS5pZCYmc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllciYmd2FybmluZyhcXFwiVzEyMFxcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpLHZhbHVlPWV4cHJlc3Npb24ocHJlZml4PzEyMDoxMCksbG9uZT90b2tlbnNbMF0uZmlyc3Q9dmFsdWU6ZGVzdHJ1Y3R1cmluZ1BhdHRlcm5NYXRjaChuYW1lcyx2YWx1ZSkpLHN0YXRlbWVudC5maXJzdD1zdGF0ZW1lbnQuZmlyc3QuY29uY2F0KG5hbWVzKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVhaztjb21tYSgpfXJldHVybiBsZXRibG9jayYmKGFkdmFuY2UoXFxcIilcXFwiKSxibG9jayghMCwhMCksc3RhdGVtZW50LmJsb2NrPSEwLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udW5zdGFjaygpKSxzdGF0ZW1lbnR9ZnVuY3Rpb24gY2xhc3NkZWYoaXNTdGF0ZW1lbnQpe3JldHVybiBzdGF0ZS5pbkVTNigpfHx3YXJuaW5nKFxcXCJXMTA0XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiY2xhc3NcXFwiLFxcXCI2XFxcIiksaXNTdGF0ZW1lbnQ/KHRoaXMubmFtZT1pZGVudGlmaWVyKCksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbCh0aGlzLm5hbWUse3R5cGU6XFxcImNsYXNzXFxcIix0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn0pKTpzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyJiZcXFwiZXh0ZW5kc1xcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZT8odGhpcy5uYW1lPWlkZW50aWZpZXIoKSx0aGlzLm5hbWVkRXhwcj0hMCk6dGhpcy5uYW1lPXN0YXRlLm5hbWVTdGFjay5pbmZlcigpLGNsYXNzdGFpbCh0aGlzKSx0aGlzfWZ1bmN0aW9uIGNsYXNzdGFpbChjKXt2YXIgd2FzSW5DbGFzc0JvZHk9c3RhdGUuaW5DbGFzc0JvZHk7XFxcImV4dGVuZHNcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJihhZHZhbmNlKFxcXCJleHRlbmRzXFxcIiksYy5oZXJpdGFnZT1leHByZXNzaW9uKDEwKSksc3RhdGUuaW5DbGFzc0JvZHk9ITAsYWR2YW5jZShcXFwie1xcXCIpLGMuYm9keT1jbGFzc2JvZHkoYyksYWR2YW5jZShcXFwifVxcXCIpLHN0YXRlLmluQ2xhc3NCb2R5PXdhc0luQ2xhc3NCb2R5fWZ1bmN0aW9uIGNsYXNzYm9keShjKXtmb3IodmFyIG5hbWUsaXNTdGF0aWMsaXNHZW5lcmF0b3IsZ2V0c2V0LGNvbXB1dGVkLHByb3BzPU9iamVjdC5jcmVhdGUobnVsbCksc3RhdGljUHJvcHM9T2JqZWN0LmNyZWF0ZShudWxsKSxpPTA7XFxcIn1cXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KytpKWlmKG5hbWU9c3RhdGUudG9rZW5zLm5leHQsaXNTdGF0aWM9ITEsaXNHZW5lcmF0b3I9ITEsZ2V0c2V0PW51bGwsXFxcIjtcXFwiIT09bmFtZS5pZCl7aWYoXFxcIipcXFwiPT09bmFtZS5pZCYmKGlzR2VuZXJhdG9yPSEwLGFkdmFuY2UoXFxcIipcXFwiKSxuYW1lPXN0YXRlLnRva2Vucy5uZXh0KSxcXFwiW1xcXCI9PT1uYW1lLmlkKW5hbWU9Y29tcHV0ZWRQcm9wZXJ0eU5hbWUoKSxjb21wdXRlZD0hMDtlbHNle2lmKCFpc1Byb3BlcnR5TmFtZShuYW1lKSl7d2FybmluZyhcXFwiVzA1MlxcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWV8fHN0YXRlLnRva2Vucy5uZXh0LnR5cGUpLGFkdmFuY2UoKTtjb250aW51ZX1hZHZhbmNlKCksY29tcHV0ZWQ9ITEsbmFtZS5pZGVudGlmaWVyJiZcXFwic3RhdGljXFxcIj09PW5hbWUudmFsdWUmJihjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIipcXFwiKSYmKGlzR2VuZXJhdG9yPSEwLGFkdmFuY2UoXFxcIipcXFwiKSksKGlzUHJvcGVydHlOYW1lKHN0YXRlLnRva2Vucy5uZXh0KXx8XFxcIltcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpJiYoY29tcHV0ZWQ9XFxcIltcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQsaXNTdGF0aWM9ITAsbmFtZT1zdGF0ZS50b2tlbnMubmV4dCxcXFwiW1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZD9uYW1lPWNvbXB1dGVkUHJvcGVydHlOYW1lKCk6YWR2YW5jZSgpKSksIW5hbWUuaWRlbnRpZmllcnx8XFxcImdldFxcXCIhPT1uYW1lLnZhbHVlJiZcXFwic2V0XFxcIiE9PW5hbWUudmFsdWV8fChpc1Byb3BlcnR5TmFtZShzdGF0ZS50b2tlbnMubmV4dCl8fFxcXCJbXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKSYmKGNvbXB1dGVkPVxcXCJbXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkLGdldHNldD1uYW1lLG5hbWU9c3RhdGUudG9rZW5zLm5leHQsXFxcIltcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/bmFtZT1jb21wdXRlZFByb3BlcnR5TmFtZSgpOmFkdmFuY2UoKSl9aWYoIWNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiKFxcXCIpKXtmb3IoZXJyb3IoXFxcIkUwNTRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTtcXFwifVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmIWNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiKFxcXCIpOylhZHZhbmNlKCk7XFxcIihcXFwiIT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJmRvRnVuY3Rpb24oe3N0YXRlbWVudDpjfSl9aWYoY29tcHV0ZWR8fChnZXRzZXQ/c2F2ZUFjY2Vzc29yKGdldHNldC52YWx1ZSxpc1N0YXRpYz9zdGF0aWNQcm9wczpwcm9wcyxuYW1lLnZhbHVlLG5hbWUsITAsaXNTdGF0aWMpOihcXFwiY29uc3RydWN0b3JcXFwiPT09bmFtZS52YWx1ZT9zdGF0ZS5uYW1lU3RhY2suc2V0KGMpOnN0YXRlLm5hbWVTdGFjay5zZXQobmFtZSksc2F2ZVByb3BlcnR5KGlzU3RhdGljP3N0YXRpY1Byb3BzOnByb3BzLG5hbWUudmFsdWUsbmFtZSwhMCxpc1N0YXRpYykpKSxnZXRzZXQmJlxcXCJjb25zdHJ1Y3RvclxcXCI9PT1uYW1lLnZhbHVlKXt2YXIgcHJvcERlc2M9XFxcImdldFxcXCI9PT1nZXRzZXQudmFsdWU/XFxcImNsYXNzIGdldHRlciBtZXRob2RcXFwiOlxcXCJjbGFzcyBzZXR0ZXIgbWV0aG9kXFxcIjtlcnJvcihcXFwiRTA0OVxcXCIsbmFtZSxwcm9wRGVzYyxcXFwiY29uc3RydWN0b3JcXFwiKX1lbHNlXFxcInByb3RvdHlwZVxcXCI9PT1uYW1lLnZhbHVlJiZlcnJvcihcXFwiRTA0OVxcXCIsbmFtZSxcXFwiY2xhc3MgbWV0aG9kXFxcIixcXFwicHJvdG90eXBlXFxcIik7cHJvcGVydHlOYW1lKG5hbWUpLGRvRnVuY3Rpb24oe3N0YXRlbWVudDpjLHR5cGU6aXNHZW5lcmF0b3I/XFxcImdlbmVyYXRvclxcXCI6bnVsbCxjbGFzc0V4cHJCaW5kaW5nOmMubmFtZWRFeHByP2MubmFtZTpudWxsfSl9ZWxzZSB3YXJuaW5nKFxcXCJXMDMyXFxcIiksYWR2YW5jZShcXFwiO1xcXCIpO2NoZWNrUHJvcGVydGllcyhwcm9wcyl9ZnVuY3Rpb24gc2F2ZVByb3BlcnR5KHByb3BzLG5hbWUsdGtuLGlzQ2xhc3MsaXNTdGF0aWMpe3ZhciBtc2c9W1xcXCJrZXlcXFwiLFxcXCJjbGFzcyBtZXRob2RcXFwiLFxcXCJzdGF0aWMgY2xhc3MgbWV0aG9kXFxcIl07bXNnPW1zZ1soaXNDbGFzc3x8ITEpKyhpc1N0YXRpY3x8ITEpXSx0a24uaWRlbnRpZmllciYmKG5hbWU9dGtuLnZhbHVlKSxwcm9wc1tuYW1lXSYmXFxcIl9fcHJvdG9fX1xcXCIhPT1uYW1lP3dhcm5pbmcoXFxcIlcwNzVcXFwiLHN0YXRlLnRva2Vucy5uZXh0LG1zZyxuYW1lKTpwcm9wc1tuYW1lXT1PYmplY3QuY3JlYXRlKG51bGwpLHByb3BzW25hbWVdLmJhc2ljPSEwLHByb3BzW25hbWVdLmJhc2ljdGtuPXRrbn1mdW5jdGlvbiBzYXZlQWNjZXNzb3IoYWNjZXNzb3JUeXBlLHByb3BzLG5hbWUsdGtuLGlzQ2xhc3MsaXNTdGF0aWMpe3ZhciBmbGFnTmFtZT1cXFwiZ2V0XFxcIj09PWFjY2Vzc29yVHlwZT9cXFwiZ2V0dGVyVG9rZW5cXFwiOlxcXCJzZXR0ZXJUb2tlblxcXCIsbXNnPVxcXCJcXFwiO2lzQ2xhc3M/KGlzU3RhdGljJiYobXNnKz1cXFwic3RhdGljIFxcXCIpLG1zZys9YWNjZXNzb3JUeXBlK1xcXCJ0ZXIgbWV0aG9kXFxcIik6bXNnPVxcXCJrZXlcXFwiLHN0YXRlLnRva2Vucy5jdXJyLmFjY2Vzc29yVHlwZT1hY2Nlc3NvclR5cGUsc3RhdGUubmFtZVN0YWNrLnNldCh0a24pLHByb3BzW25hbWVdPyhwcm9wc1tuYW1lXS5iYXNpY3x8cHJvcHNbbmFtZV1bZmxhZ05hbWVdKSYmXFxcIl9fcHJvdG9fX1xcXCIhPT1uYW1lJiZ3YXJuaW5nKFxcXCJXMDc1XFxcIixzdGF0ZS50b2tlbnMubmV4dCxtc2csbmFtZSk6cHJvcHNbbmFtZV09T2JqZWN0LmNyZWF0ZShudWxsKSxwcm9wc1tuYW1lXVtmbGFnTmFtZV09dGtufWZ1bmN0aW9uIGNvbXB1dGVkUHJvcGVydHlOYW1lKCl7YWR2YW5jZShcXFwiW1xcXCIpLHN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMTlcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJjb21wdXRlZCBwcm9wZXJ0eSBuYW1lc1xcXCIsXFxcIjZcXFwiKTt2YXIgdmFsdWU9ZXhwcmVzc2lvbigxMCk7cmV0dXJuIGFkdmFuY2UoXFxcIl1cXFwiKSx2YWx1ZX1mdW5jdGlvbiBjaGVja1B1bmN0dWF0b3JzKHRva2VuLHZhbHVlcyl7cmV0dXJuXFxcIihwdW5jdHVhdG9yKVxcXCI9PT10b2tlbi50eXBlP18uY29udGFpbnModmFsdWVzLHRva2VuLnZhbHVlKTohMX1mdW5jdGlvbiBjaGVja1B1bmN0dWF0b3IodG9rZW4sdmFsdWUpe3JldHVyblxcXCIocHVuY3R1YXRvcilcXFwiPT09dG9rZW4udHlwZSYmdG9rZW4udmFsdWU9PT12YWx1ZX1mdW5jdGlvbiBkZXN0cnVjdHVyaW5nQXNzaWduT3JKc29uVmFsdWUoKXt2YXIgYmxvY2s9bG9va3VwQmxvY2tUeXBlKCk7YmxvY2subm90SnNvbj8oIXN0YXRlLmluRVM2KCkmJmJsb2NrLmlzRGVzdEFzc2lnbiYmd2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImRlc3RydWN0dXJpbmcgYXNzaWdubWVudFxcXCIsXFxcIjZcXFwiKSxzdGF0ZW1lbnRzKCkpOihzdGF0ZS5vcHRpb24ubGF4YnJlYWs9ITAsc3RhdGUuanNvbk1vZGU9ITAsanNvblZhbHVlKCkpfWZ1bmN0aW9uIGpzb25WYWx1ZSgpe2Z1bmN0aW9uIGpzb25PYmplY3QoKXt2YXIgbz17fSx0PXN0YXRlLnRva2Vucy5uZXh0O2lmKGFkdmFuY2UoXFxcIntcXFwiKSxcXFwifVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClmb3IoOzspe2lmKFxcXCIoZW5kKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCllcnJvcihcXFwiRTAyNlxcXCIsc3RhdGUudG9rZW5zLm5leHQsdC5saW5lKTtlbHNle2lmKFxcXCJ9XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKXt3YXJuaW5nKFxcXCJXMDk0XFxcIixzdGF0ZS50b2tlbnMuY3Vycik7YnJlYWt9XFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/ZXJyb3IoXFxcIkUwMjhcXFwiLHN0YXRlLnRva2Vucy5uZXh0KTpcXFwiKHN0cmluZylcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJndhcm5pbmcoXFxcIlcwOTVcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKX1pZihvW3N0YXRlLnRva2Vucy5uZXh0LnZhbHVlXT09PSEwP3dhcm5pbmcoXFxcIlcwNzVcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJrZXlcXFwiLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTpcXFwiX19wcm90b19fXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYhc3RhdGUub3B0aW9uLnByb3RvfHxcXFwiX19pdGVyYXRvcl9fXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYhc3RhdGUub3B0aW9uLml0ZXJhdG9yP3dhcm5pbmcoXFxcIlcwOTZcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTpvW3N0YXRlLnRva2Vucy5uZXh0LnZhbHVlXT0hMCxhZHZhbmNlKCksYWR2YW5jZShcXFwiOlxcXCIpLGpzb25WYWx1ZSgpLFxcXCIsXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWJyZWFrO2FkdmFuY2UoXFxcIixcXFwiKX1hZHZhbmNlKFxcXCJ9XFxcIil9ZnVuY3Rpb24ganNvbkFycmF5KCl7dmFyIHQ9c3RhdGUudG9rZW5zLm5leHQ7aWYoYWR2YW5jZShcXFwiW1xcXCIpLFxcXCJdXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWZvcig7Oyl7aWYoXFxcIihlbmQpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKWVycm9yKFxcXCJFMDI3XFxcIixzdGF0ZS50b2tlbnMubmV4dCx0LmxpbmUpO2Vsc2V7aWYoXFxcIl1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpe3dhcm5pbmcoXFxcIlcwOTRcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTticmVha31cXFwiLFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmZXJyb3IoXFxcIkUwMjhcXFwiLHN0YXRlLnRva2Vucy5uZXh0KX1pZihqc29uVmFsdWUoKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVhazthZHZhbmNlKFxcXCIsXFxcIil9YWR2YW5jZShcXFwiXVxcXCIpfXN3aXRjaChzdGF0ZS50b2tlbnMubmV4dC5pZCl7Y2FzZVxcXCJ7XFxcIjpqc29uT2JqZWN0KCk7YnJlYWs7Y2FzZVxcXCJbXFxcIjpqc29uQXJyYXkoKTticmVhaztjYXNlXFxcInRydWVcXFwiOmNhc2VcXFwiZmFsc2VcXFwiOmNhc2VcXFwibnVsbFxcXCI6Y2FzZVxcXCIobnVtYmVyKVxcXCI6Y2FzZVxcXCIoc3RyaW5nKVxcXCI6YWR2YW5jZSgpO2JyZWFrO2Nhc2VcXFwiLVxcXCI6YWR2YW5jZShcXFwiLVxcXCIpLGFkdmFuY2UoXFxcIihudW1iZXIpXFxcIik7YnJlYWs7ZGVmYXVsdDplcnJvcihcXFwiRTAwM1xcXCIsc3RhdGUudG9rZW5zLm5leHQpfX12YXIgYXBpLGRlY2xhcmVkLGZ1bmN0aW9ucyxpbmJsb2NrLGluZGVudCxsb29rYWhlYWQsbGV4LG1lbWJlcixtZW1iZXJzT25seSxwcmVkZWZpbmVkLHN0YWNrLHVybHMsYmFuZz17XFxcIjxcXFwiOiEwLFxcXCI8PVxcXCI6ITAsXFxcIj09XFxcIjohMCxcXFwiPT09XFxcIjohMCxcXFwiIT09XFxcIjohMCxcXFwiIT1cXFwiOiEwLFxcXCI+XFxcIjohMCxcXFwiPj1cXFwiOiEwLFxcXCIrXFxcIjohMCxcXFwiLVxcXCI6ITAsXFxcIipcXFwiOiEwLFxcXCIvXFxcIjohMCxcXFwiJVxcXCI6ITB9LGZ1bmN0aW9uaWNpdHk9W1xcXCJjbG9zdXJlXFxcIixcXFwiZXhjZXB0aW9uXFxcIixcXFwiZ2xvYmFsXFxcIixcXFwibGFiZWxcXFwiLFxcXCJvdXRlclxcXCIsXFxcInVudXNlZFxcXCIsXFxcInZhclxcXCJdLGV4dHJhTW9kdWxlcz1bXSxlbWl0dGVyPW5ldyBldmVudHMuRXZlbnRFbWl0dGVyLHR5cGVvZlZhbHVlcz17fTt0eXBlb2ZWYWx1ZXMubGVnYWN5PVtcXFwieG1sXFxcIixcXFwidW5rbm93blxcXCJdLHR5cGVvZlZhbHVlcy5lczM9W1xcXCJ1bmRlZmluZWRcXFwiLFxcXCJib29sZWFuXFxcIixcXFwibnVtYmVyXFxcIixcXFwic3RyaW5nXFxcIixcXFwiZnVuY3Rpb25cXFwiLFxcXCJvYmplY3RcXFwiXSx0eXBlb2ZWYWx1ZXMuZXMzPXR5cGVvZlZhbHVlcy5lczMuY29uY2F0KHR5cGVvZlZhbHVlcy5sZWdhY3kpLHR5cGVvZlZhbHVlcy5lczY9dHlwZW9mVmFsdWVzLmVzMy5jb25jYXQoXFxcInN5bWJvbFxcXCIpLHR5cGUoXFxcIihudW1iZXIpXFxcIixmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdHlwZShcXFwiKHN0cmluZylcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxzdGF0ZS5zeW50YXhbXFxcIihpZGVudGlmaWVyKVxcXCJdPXt0eXBlOlxcXCIoaWRlbnRpZmllcilcXFwiLGxicDowLGlkZW50aWZpZXI6ITAsbnVkOmZ1bmN0aW9uKCl7dmFyIHY9dGhpcy52YWx1ZTtyZXR1cm5cXFwiPT5cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/dGhpczooc3RhdGUuZnVuY3RbXFxcIihjb21wYXJyYXkpXFxcIl0uY2hlY2sodil8fHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2sudXNlKHYsc3RhdGUudG9rZW5zLmN1cnIpLHRoaXMpfSxsZWQ6ZnVuY3Rpb24oKXtlcnJvcihcXFwiRTAzM1xcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpfX07dmFyIGJhc2VUZW1wbGF0ZVN5bnRheD17bGJwOjAsaWRlbnRpZmllcjohMSx0ZW1wbGF0ZTohMH07c3RhdGUuc3ludGF4W1xcXCIodGVtcGxhdGUpXFxcIl09Xy5leHRlbmQoe3R5cGU6XFxcIih0ZW1wbGF0ZSlcXFwiLG51ZDpkb1RlbXBsYXRlTGl0ZXJhbCxsZWQ6ZG9UZW1wbGF0ZUxpdGVyYWwsbm9TdWJzdDohMX0sYmFzZVRlbXBsYXRlU3ludGF4KSxzdGF0ZS5zeW50YXhbXFxcIih0ZW1wbGF0ZSBtaWRkbGUpXFxcIl09Xy5leHRlbmQoe3R5cGU6XFxcIih0ZW1wbGF0ZSBtaWRkbGUpXFxcIixtaWRkbGU6ITAsbm9TdWJzdDohMX0sYmFzZVRlbXBsYXRlU3ludGF4KSxzdGF0ZS5zeW50YXhbXFxcIih0ZW1wbGF0ZSB0YWlsKVxcXCJdPV8uZXh0ZW5kKHt0eXBlOlxcXCIodGVtcGxhdGUgdGFpbClcXFwiLHRhaWw6ITAsbm9TdWJzdDohMX0sYmFzZVRlbXBsYXRlU3ludGF4KSxzdGF0ZS5zeW50YXhbXFxcIihubyBzdWJzdCB0ZW1wbGF0ZSlcXFwiXT1fLmV4dGVuZCh7dHlwZTpcXFwiKHRlbXBsYXRlKVxcXCIsbnVkOmRvVGVtcGxhdGVMaXRlcmFsLGxlZDpkb1RlbXBsYXRlTGl0ZXJhbCxub1N1YnN0OiEwLHRhaWw6ITB9LGJhc2VUZW1wbGF0ZVN5bnRheCksdHlwZShcXFwiKHJlZ2V4cClcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxkZWxpbShcXFwiKGVuZGxpbmUpXFxcIiksZGVsaW0oXFxcIihiZWdpbilcXFwiKSxkZWxpbShcXFwiKGVuZClcXFwiKS5yZWFjaD0hMCxkZWxpbShcXFwiKGVycm9yKVxcXCIpLnJlYWNoPSEwLGRlbGltKFxcXCJ9XFxcIikucmVhY2g9ITAsZGVsaW0oXFxcIilcXFwiKSxkZWxpbShcXFwiXVxcXCIpLGRlbGltKCdcXFwiJykucmVhY2g9ITAsZGVsaW0oXFxcIidcXFwiKS5yZWFjaD0hMCxkZWxpbShcXFwiO1xcXCIpLGRlbGltKFxcXCI6XFxcIikucmVhY2g9ITAsZGVsaW0oXFxcIiNcXFwiKSxyZXNlcnZlKFxcXCJlbHNlXFxcIikscmVzZXJ2ZShcXFwiY2FzZVxcXCIpLnJlYWNoPSEwLHJlc2VydmUoXFxcImNhdGNoXFxcIikscmVzZXJ2ZShcXFwiZGVmYXVsdFxcXCIpLnJlYWNoPSEwLHJlc2VydmUoXFxcImZpbmFsbHlcXFwiKSxyZXNlcnZldmFyKFxcXCJhcmd1bWVudHNcXFwiLGZ1bmN0aW9uKHgpe3N0YXRlLmlzU3RyaWN0KCkmJnN0YXRlLmZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdJiZ3YXJuaW5nKFxcXCJFMDA4XFxcIix4KX0pLHJlc2VydmV2YXIoXFxcImV2YWxcXFwiKSxyZXNlcnZldmFyKFxcXCJmYWxzZVxcXCIpLHJlc2VydmV2YXIoXFxcIkluZmluaXR5XFxcIikscmVzZXJ2ZXZhcihcXFwibnVsbFxcXCIpLHJlc2VydmV2YXIoXFxcInRoaXNcXFwiLGZ1bmN0aW9uKHgpe3N0YXRlLmlzU3RyaWN0KCkmJiFpc01ldGhvZCgpJiYhc3RhdGUub3B0aW9uLnZhbGlkdGhpcyYmKHN0YXRlLmZ1bmN0W1xcXCIoc3RhdGVtZW50KVxcXCJdJiZzdGF0ZS5mdW5jdFtcXFwiKG5hbWUpXFxcIl0uY2hhckF0KDApPlxcXCJaXFxcInx8c3RhdGUuZnVuY3RbXFxcIihnbG9iYWwpXFxcIl0pJiZ3YXJuaW5nKFxcXCJXMDQwXFxcIix4KX0pLHJlc2VydmV2YXIoXFxcInRydWVcXFwiKSxyZXNlcnZldmFyKFxcXCJ1bmRlZmluZWRcXFwiKSxhc3NpZ25vcChcXFwiPVxcXCIsXFxcImFzc2lnblxcXCIsMjApLGFzc2lnbm9wKFxcXCIrPVxcXCIsXFxcImFzc2lnbmFkZFxcXCIsMjApLGFzc2lnbm9wKFxcXCItPVxcXCIsXFxcImFzc2lnbnN1YlxcXCIsMjApLGFzc2lnbm9wKFxcXCIqPVxcXCIsXFxcImFzc2lnbm11bHRcXFwiLDIwKSxhc3NpZ25vcChcXFwiLz1cXFwiLFxcXCJhc3NpZ25kaXZcXFwiLDIwKS5udWQ9ZnVuY3Rpb24oKXtlcnJvcihcXFwiRTAxNFxcXCIpfSxhc3NpZ25vcChcXFwiJT1cXFwiLFxcXCJhc3NpZ25tb2RcXFwiLDIwKSxiaXR3aXNlYXNzaWdub3AoXFxcIiY9XFxcIiksYml0d2lzZWFzc2lnbm9wKFxcXCJ8PVxcXCIpLGJpdHdpc2Vhc3NpZ25vcChcXFwiXj1cXFwiKSxiaXR3aXNlYXNzaWdub3AoXFxcIjw8PVxcXCIpLGJpdHdpc2Vhc3NpZ25vcChcXFwiPj49XFxcIiksYml0d2lzZWFzc2lnbm9wKFxcXCI+Pj49XFxcIiksaW5maXgoXFxcIixcXFwiLGZ1bmN0aW9uKGxlZnQsdGhhdCl7dmFyIGV4cHI7aWYodGhhdC5leHBycz1bbGVmdF0sc3RhdGUub3B0aW9uLm5vY29tbWEmJndhcm5pbmcoXFxcIlcxMjdcXFwiKSwhY29tbWEoe3BlZWs6ITB9KSlyZXR1cm4gdGhhdDtmb3IoOzspe2lmKCEoZXhwcj1leHByZXNzaW9uKDEwKSkpYnJlYWs7aWYodGhhdC5leHBycy5wdXNoKGV4cHIpLFxcXCIsXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlfHwhY29tbWEoKSlicmVha31yZXR1cm4gdGhhdH0sMTAsITApLGluZml4KFxcXCI/XFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3JldHVybiBpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLHRoYXQubGVmdD1sZWZ0LHRoYXQucmlnaHQ9ZXhwcmVzc2lvbigxMCksYWR2YW5jZShcXFwiOlxcXCIpLHRoYXRbXFxcImVsc2VcXFwiXT1leHByZXNzaW9uKDEwKSx0aGF0fSwzMCk7dmFyIG9yUHJlY2VuZGVuY2U9NDA7aW5maXgoXFxcInx8XFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3JldHVybiBpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLHRoYXQubGVmdD1sZWZ0LHRoYXQucmlnaHQ9ZXhwcmVzc2lvbihvclByZWNlbmRlbmNlKSx0aGF0fSxvclByZWNlbmRlbmNlKSxpbmZpeChcXFwiJiZcXFwiLFxcXCJhbmRcXFwiLDUwKSxiaXR3aXNlKFxcXCJ8XFxcIixcXFwiYml0b3JcXFwiLDcwKSxiaXR3aXNlKFxcXCJeXFxcIixcXFwiYml0eG9yXFxcIiw4MCksYml0d2lzZShcXFwiJlxcXCIsXFxcImJpdGFuZFxcXCIsOTApLHJlbGF0aW9uKFxcXCI9PVxcXCIsZnVuY3Rpb24obGVmdCxyaWdodCl7dmFyIGVxbnVsbD1zdGF0ZS5vcHRpb24uZXFudWxsJiYoXFxcIm51bGxcXFwiPT09KGxlZnQmJmxlZnQudmFsdWUpfHxcXFwibnVsbFxcXCI9PT0ocmlnaHQmJnJpZ2h0LnZhbHVlKSk7c3dpdGNoKCEwKXtjYXNlIWVxbnVsbCYmc3RhdGUub3B0aW9uLmVxZXFlcTp0aGlzLmZyb209dGhpcy5jaGFyYWN0ZXIsd2FybmluZyhcXFwiVzExNlxcXCIsdGhpcyxcXFwiPT09XFxcIixcXFwiPT1cXFwiKTticmVhaztjYXNlIGlzUG9vclJlbGF0aW9uKGxlZnQpOndhcm5pbmcoXFxcIlcwNDFcXFwiLHRoaXMsXFxcIj09PVxcXCIsbGVmdC52YWx1ZSk7YnJlYWs7Y2FzZSBpc1Bvb3JSZWxhdGlvbihyaWdodCk6d2FybmluZyhcXFwiVzA0MVxcXCIsdGhpcyxcXFwiPT09XFxcIixyaWdodC52YWx1ZSk7YnJlYWs7Y2FzZSBpc1R5cG9UeXBlb2YocmlnaHQsbGVmdCxzdGF0ZSk6d2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxyaWdodC52YWx1ZSk7YnJlYWs7Y2FzZSBpc1R5cG9UeXBlb2YobGVmdCxyaWdodCxzdGF0ZSk6d2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxsZWZ0LnZhbHVlKX1yZXR1cm4gdGhpc30pLHJlbGF0aW9uKFxcXCI9PT1cXFwiLGZ1bmN0aW9uKGxlZnQscmlnaHQpe3JldHVybiBpc1R5cG9UeXBlb2YocmlnaHQsbGVmdCxzdGF0ZSk/d2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxyaWdodC52YWx1ZSk6aXNUeXBvVHlwZW9mKGxlZnQscmlnaHQsc3RhdGUpJiZ3YXJuaW5nKFxcXCJXMTIyXFxcIix0aGlzLGxlZnQudmFsdWUpLHRoaXN9KSxyZWxhdGlvbihcXFwiIT1cXFwiLGZ1bmN0aW9uKGxlZnQscmlnaHQpe3ZhciBlcW51bGw9c3RhdGUub3B0aW9uLmVxbnVsbCYmKFxcXCJudWxsXFxcIj09PShsZWZ0JiZsZWZ0LnZhbHVlKXx8XFxcIm51bGxcXFwiPT09KHJpZ2h0JiZyaWdodC52YWx1ZSkpO3JldHVybiFlcW51bGwmJnN0YXRlLm9wdGlvbi5lcWVxZXE/KHRoaXMuZnJvbT10aGlzLmNoYXJhY3Rlcix3YXJuaW5nKFxcXCJXMTE2XFxcIix0aGlzLFxcXCIhPT1cXFwiLFxcXCIhPVxcXCIpKTppc1Bvb3JSZWxhdGlvbihsZWZ0KT93YXJuaW5nKFxcXCJXMDQxXFxcIix0aGlzLFxcXCIhPT1cXFwiLGxlZnQudmFsdWUpOmlzUG9vclJlbGF0aW9uKHJpZ2h0KT93YXJuaW5nKFxcXCJXMDQxXFxcIix0aGlzLFxcXCIhPT1cXFwiLHJpZ2h0LnZhbHVlKTppc1R5cG9UeXBlb2YocmlnaHQsbGVmdCxzdGF0ZSk/d2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxyaWdodC52YWx1ZSk6aXNUeXBvVHlwZW9mKGxlZnQscmlnaHQsc3RhdGUpJiZ3YXJuaW5nKFxcXCJXMTIyXFxcIix0aGlzLGxlZnQudmFsdWUpLHRoaXN9KSxyZWxhdGlvbihcXFwiIT09XFxcIixmdW5jdGlvbihsZWZ0LHJpZ2h0KXtyZXR1cm4gaXNUeXBvVHlwZW9mKHJpZ2h0LGxlZnQsc3RhdGUpP3dhcm5pbmcoXFxcIlcxMjJcXFwiLHRoaXMscmlnaHQudmFsdWUpOmlzVHlwb1R5cGVvZihsZWZ0LHJpZ2h0LHN0YXRlKSYmd2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxsZWZ0LnZhbHVlKSx0aGlzfSkscmVsYXRpb24oXFxcIjxcXFwiKSxyZWxhdGlvbihcXFwiPlxcXCIpLHJlbGF0aW9uKFxcXCI8PVxcXCIpLHJlbGF0aW9uKFxcXCI+PVxcXCIpLGJpdHdpc2UoXFxcIjw8XFxcIixcXFwic2hpZnRsZWZ0XFxcIiwxMjApLGJpdHdpc2UoXFxcIj4+XFxcIixcXFwic2hpZnRyaWdodFxcXCIsMTIwKSxiaXR3aXNlKFxcXCI+Pj5cXFwiLFxcXCJzaGlmdHJpZ2h0dW5zaWduZWRcXFwiLDEyMCksaW5maXgoXFxcImluXFxcIixcXFwiaW5cXFwiLDEyMCksaW5maXgoXFxcImluc3RhbmNlb2ZcXFwiLFxcXCJpbnN0YW5jZW9mXFxcIiwxMjApLGluZml4KFxcXCIrXFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3ZhciByaWdodDtyZXR1cm4gdGhhdC5sZWZ0PWxlZnQsdGhhdC5yaWdodD1yaWdodD1leHByZXNzaW9uKDEzMCksbGVmdCYmcmlnaHQmJlxcXCIoc3RyaW5nKVxcXCI9PT1sZWZ0LmlkJiZcXFwiKHN0cmluZylcXFwiPT09cmlnaHQuaWQ/KGxlZnQudmFsdWUrPXJpZ2h0LnZhbHVlLGxlZnQuY2hhcmFjdGVyPXJpZ2h0LmNoYXJhY3Rlciwhc3RhdGUub3B0aW9uLnNjcmlwdHVybCYmcmVnLmphdmFzY3JpcHRVUkwudGVzdChsZWZ0LnZhbHVlKSYmd2FybmluZyhcXFwiVzA1MFxcXCIsbGVmdCksbGVmdCk6dGhhdH0sMTMwKSxwcmVmaXgoXFxcIitcXFwiLFxcXCJudW1cXFwiKSxwcmVmaXgoXFxcIisrK1xcXCIsZnVuY3Rpb24oKXtyZXR1cm4gd2FybmluZyhcXFwiVzAwN1xcXCIpLHRoaXMuYXJpdHk9XFxcInVuYXJ5XFxcIix0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTUwKSx0aGlzfSksaW5maXgoXFxcIisrK1xcXCIsZnVuY3Rpb24obGVmdCl7cmV0dXJuIHdhcm5pbmcoXFxcIlcwMDdcXFwiKSx0aGlzLmxlZnQ9bGVmdCx0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTMwKSx0aGlzfSwxMzApLGluZml4KFxcXCItXFxcIixcXFwic3ViXFxcIiwxMzApLHByZWZpeChcXFwiLVxcXCIsXFxcIm5lZ1xcXCIpLHByZWZpeChcXFwiLS0tXFxcIixmdW5jdGlvbigpe3JldHVybiB3YXJuaW5nKFxcXCJXMDA2XFxcIiksdGhpcy5hcml0eT1cXFwidW5hcnlcXFwiLHRoaXMucmlnaHQ9ZXhwcmVzc2lvbigxNTApLHRoaXN9KSxpbmZpeChcXFwiLS0tXFxcIixmdW5jdGlvbihsZWZ0KXtyZXR1cm4gd2FybmluZyhcXFwiVzAwNlxcXCIpLHRoaXMubGVmdD1sZWZ0LHRoaXMucmlnaHQ9ZXhwcmVzc2lvbigxMzApLHRoaXN9LDEzMCksaW5maXgoXFxcIipcXFwiLFxcXCJtdWx0XFxcIiwxNDApLGluZml4KFxcXCIvXFxcIixcXFwiZGl2XFxcIiwxNDApLGluZml4KFxcXCIlXFxcIixcXFwibW9kXFxcIiwxNDApLHN1ZmZpeChcXFwiKytcXFwiKSxwcmVmaXgoXFxcIisrXFxcIixcXFwicHJlaW5jXFxcIiksc3RhdGUuc3ludGF4W1xcXCIrK1xcXCJdLmV4cHM9ITAsc3VmZml4KFxcXCItLVxcXCIpLHByZWZpeChcXFwiLS1cXFwiLFxcXCJwcmVkZWNcXFwiKSxzdGF0ZS5zeW50YXhbXFxcIi0tXFxcIl0uZXhwcz0hMCxwcmVmaXgoXFxcImRlbGV0ZVxcXCIsZnVuY3Rpb24oKXt2YXIgcD1leHByZXNzaW9uKDEwKTtyZXR1cm4gcD8oXFxcIi5cXFwiIT09cC5pZCYmXFxcIltcXFwiIT09cC5pZCYmd2FybmluZyhcXFwiVzA1MVxcXCIpLHRoaXMuZmlyc3Q9cCxwLmlkZW50aWZpZXImJiFzdGF0ZS5pc1N0cmljdCgpJiYocC5mb3JnaXZlVW5kZWY9ITApLHRoaXMpOnRoaXN9KS5leHBzPSEwLHByZWZpeChcXFwiflxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gc3RhdGUub3B0aW9uLmJpdHdpc2UmJndhcm5pbmcoXFxcIlcwMTZcXFwiLHRoaXMsXFxcIn5cXFwiKSx0aGlzLmFyaXR5PVxcXCJ1bmFyeVxcXCIsdGhpcy5yaWdodD1leHByZXNzaW9uKDE1MCksdGhpc30pLHByZWZpeChcXFwiLi4uXFxcIixmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5pbkVTNighMCl8fHdhcm5pbmcoXFxcIlcxMTlcXFwiLHRoaXMsXFxcInNwcmVhZC9yZXN0IG9wZXJhdG9yXFxcIixcXFwiNlxcXCIpLHN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXJ8fFxcXCIoc3RyaW5nKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC50eXBlfHxjaGVja1B1bmN0dWF0b3JzKHN0YXRlLnRva2Vucy5uZXh0LFtcXFwiW1xcXCIsXFxcIihcXFwiXSl8fGVycm9yKFxcXCJFMDMwXFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksZXhwcmVzc2lvbigxNTApLHRoaXN9KSxwcmVmaXgoXFxcIiFcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJpdHk9XFxcInVuYXJ5XFxcIix0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTUwKSx0aGlzLnJpZ2h0fHxxdWl0KFxcXCJFMDQxXFxcIix0aGlzLmxpbmV8fDApLGJhbmdbdGhpcy5yaWdodC5pZF09PT0hMCYmd2FybmluZyhcXFwiVzAxOFxcXCIsdGhpcyxcXFwiIVxcXCIpLHRoaXN9KSxwcmVmaXgoXFxcInR5cGVvZlxcXCIsZnVuY3Rpb24oKXt2YXIgcD1leHByZXNzaW9uKDE1MCk7cmV0dXJuIHRoaXMuZmlyc3Q9dGhpcy5yaWdodD1wLHB8fHF1aXQoXFxcIkUwNDFcXFwiLHRoaXMubGluZXx8MCx0aGlzLmNoYXJhY3Rlcnx8MCkscC5pZGVudGlmaWVyJiYocC5mb3JnaXZlVW5kZWY9ITApLHRoaXN9KSxwcmVmaXgoXFxcIm5ld1xcXCIsZnVuY3Rpb24oKXt2YXIgbXA9bWV0YVByb3BlcnR5KFxcXCJ0YXJnZXRcXFwiLGZ1bmN0aW9uKCl7c3RhdGUuaW5FUzYoITApfHx3YXJuaW5nKFxcXCJXMTE5XFxcIixzdGF0ZS50b2tlbnMucHJldixcXFwibmV3LnRhcmdldFxcXCIsXFxcIjZcXFwiKTtmb3IodmFyIGluRnVuY3Rpb24sYz1zdGF0ZS5mdW5jdDtjJiYoaW5GdW5jdGlvbj0hY1tcXFwiKGdsb2JhbClcXFwiXSxjW1xcXCIoYXJyb3cpXFxcIl0pOyljPWNbXFxcIihjb250ZXh0KVxcXCJdO2luRnVuY3Rpb258fHdhcm5pbmcoXFxcIlcxMzZcXFwiLHN0YXRlLnRva2Vucy5wcmV2LFxcXCJuZXcudGFyZ2V0XFxcIil9KTtpZihtcClyZXR1cm4gbXA7dmFyIGksYz1leHByZXNzaW9uKDE1NSk7aWYoYyYmXFxcImZ1bmN0aW9uXFxcIiE9PWMuaWQpaWYoYy5pZGVudGlmaWVyKXN3aXRjaChjW1xcXCJuZXdcXFwiXT0hMCxjLnZhbHVlKXtjYXNlXFxcIk51bWJlclxcXCI6Y2FzZVxcXCJTdHJpbmdcXFwiOmNhc2VcXFwiQm9vbGVhblxcXCI6Y2FzZVxcXCJNYXRoXFxcIjpjYXNlXFxcIkpTT05cXFwiOndhcm5pbmcoXFxcIlcwNTNcXFwiLHN0YXRlLnRva2Vucy5wcmV2LGMudmFsdWUpO2JyZWFrO2Nhc2VcXFwiU3ltYm9sXFxcIjpzdGF0ZS5pbkVTNigpJiZ3YXJuaW5nKFxcXCJXMDUzXFxcIixzdGF0ZS50b2tlbnMucHJldixjLnZhbHVlKTticmVhaztjYXNlXFxcIkZ1bmN0aW9uXFxcIjpzdGF0ZS5vcHRpb24uZXZpbHx8d2FybmluZyhcXFwiVzA1NFxcXCIpO2JyZWFrO2Nhc2VcXFwiRGF0ZVxcXCI6Y2FzZVxcXCJSZWdFeHBcXFwiOmNhc2VcXFwidGhpc1xcXCI6YnJlYWs7ZGVmYXVsdDpcXFwiZnVuY3Rpb25cXFwiIT09Yy5pZCYmKGk9Yy52YWx1ZS5zdWJzdHIoMCwxKSxzdGF0ZS5vcHRpb24ubmV3Y2FwJiYoXFxcIkFcXFwiPml8fGk+XFxcIlpcXFwiKSYmIXN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uaXNQcmVkZWZpbmVkKGMudmFsdWUpJiZ3YXJuaW5nKFxcXCJXMDU1XFxcIixzdGF0ZS50b2tlbnMuY3VycikpfWVsc2VcXFwiLlxcXCIhPT1jLmlkJiZcXFwiW1xcXCIhPT1jLmlkJiZcXFwiKFxcXCIhPT1jLmlkJiZ3YXJuaW5nKFxcXCJXMDU2XFxcIixzdGF0ZS50b2tlbnMuY3Vycik7ZWxzZSBzdGF0ZS5vcHRpb24uc3VwZXJuZXd8fHdhcm5pbmcoXFxcIlcwNTdcXFwiLHRoaXMpO3JldHVyblxcXCIoXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxzdGF0ZS5vcHRpb24uc3VwZXJuZXd8fHdhcm5pbmcoXFxcIlcwNThcXFwiLHN0YXRlLnRva2Vucy5jdXJyLHN0YXRlLnRva2Vucy5jdXJyLnZhbHVlKSx0aGlzLmZpcnN0PXRoaXMucmlnaHQ9Yyx0aGlzfSksc3RhdGUuc3ludGF4W1xcXCJuZXdcXFwiXS5leHBzPSEwLHByZWZpeChcXFwidm9pZFxcXCIpLmV4cHM9ITAsaW5maXgoXFxcIi5cXFwiLGZ1bmN0aW9uKGxlZnQsdGhhdCl7dmFyIG09aWRlbnRpZmllcighMSwhMCk7cmV0dXJuXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBtJiZjb3VudE1lbWJlcihtKSx0aGF0LmxlZnQ9bGVmdCx0aGF0LnJpZ2h0PW0sbSYmXFxcImhhc093blByb3BlcnR5XFxcIj09PW0mJlxcXCI9XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiZ3YXJuaW5nKFxcXCJXMDAxXFxcIiksIWxlZnR8fFxcXCJhcmd1bWVudHNcXFwiIT09bGVmdC52YWx1ZXx8XFxcImNhbGxlZVxcXCIhPT1tJiZcXFwiY2FsbGVyXFxcIiE9PW0/c3RhdGUub3B0aW9uLmV2aWx8fCFsZWZ0fHxcXFwiZG9jdW1lbnRcXFwiIT09bGVmdC52YWx1ZXx8XFxcIndyaXRlXFxcIiE9PW0mJlxcXCJ3cml0ZWxuXFxcIiE9PW18fHdhcm5pbmcoXFxcIlcwNjBcXFwiLGxlZnQpOnN0YXRlLm9wdGlvbi5ub2FyZz93YXJuaW5nKFxcXCJXMDU5XFxcIixsZWZ0LG0pOnN0YXRlLmlzU3RyaWN0KCkmJmVycm9yKFxcXCJFMDA4XFxcIiksc3RhdGUub3B0aW9uLmV2aWx8fFxcXCJldmFsXFxcIiE9PW0mJlxcXCJleGVjU2NyaXB0XFxcIiE9PW18fGlzR2xvYmFsRXZhbChsZWZ0LHN0YXRlKSYmd2FybmluZyhcXFwiVzA2MVxcXCIpLHRoYXR9LDE2MCwhMCksaW5maXgoXFxcIihcXFwiLGZ1bmN0aW9uKGxlZnQsdGhhdCl7c3RhdGUub3B0aW9uLmltbWVkJiZsZWZ0JiYhbGVmdC5pbW1lZCYmXFxcImZ1bmN0aW9uXFxcIj09PWxlZnQuaWQmJndhcm5pbmcoXFxcIlcwNjJcXFwiKTt2YXIgbj0wLHA9W107aWYobGVmdCYmXFxcIihpZGVudGlmaWVyKVxcXCI9PT1sZWZ0LnR5cGUmJmxlZnQudmFsdWUubWF0Y2goL15bQS1aXShbQS1aMC05XyRdKlthLXpdW0EtWmEtejAtOV8kXSopPyQvKSYmLTE9PT1cXFwiQXJyYXkgTnVtYmVyIFN0cmluZyBCb29sZWFuIERhdGUgT2JqZWN0IEVycm9yIFN5bWJvbFxcXCIuaW5kZXhPZihsZWZ0LnZhbHVlKSYmKFxcXCJNYXRoXFxcIj09PWxlZnQudmFsdWU/d2FybmluZyhcXFwiVzA2M1xcXCIsbGVmdCk6c3RhdGUub3B0aW9uLm5ld2NhcCYmd2FybmluZyhcXFwiVzA2NFxcXCIsbGVmdCkpLFxcXCIpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWZvcig7cFtwLmxlbmd0aF09ZXhwcmVzc2lvbigxMCksbis9MSxcXFwiLFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZDspY29tbWEoKTtyZXR1cm4gYWR2YW5jZShcXFwiKVxcXCIpLFxcXCJvYmplY3RcXFwiPT10eXBlb2YgbGVmdCYmKHN0YXRlLmluRVM1KCl8fFxcXCJwYXJzZUludFxcXCIhPT1sZWZ0LnZhbHVlfHwxIT09bnx8d2FybmluZyhcXFwiVzA2NVxcXCIsc3RhdGUudG9rZW5zLmN1cnIpLHN0YXRlLm9wdGlvbi5ldmlsfHwoXFxcImV2YWxcXFwiPT09bGVmdC52YWx1ZXx8XFxcIkZ1bmN0aW9uXFxcIj09PWxlZnQudmFsdWV8fFxcXCJleGVjU2NyaXB0XFxcIj09PWxlZnQudmFsdWU/KHdhcm5pbmcoXFxcIlcwNjFcXFwiLGxlZnQpLHBbMF0mJlxcXCIoc3RyaW5nKVxcXCI9PT1bMF0uaWQmJmFkZEludGVybmFsU3JjKGxlZnQscFswXS52YWx1ZSkpOiFwWzBdfHxcXFwiKHN0cmluZylcXFwiIT09cFswXS5pZHx8XFxcInNldFRpbWVvdXRcXFwiIT09bGVmdC52YWx1ZSYmXFxcInNldEludGVydmFsXFxcIiE9PWxlZnQudmFsdWU/IXBbMF18fFxcXCIoc3RyaW5nKVxcXCIhPT1wWzBdLmlkfHxcXFwiLlxcXCIhPT1sZWZ0LnZhbHVlfHxcXFwid2luZG93XFxcIiE9PWxlZnQubGVmdC52YWx1ZXx8XFxcInNldFRpbWVvdXRcXFwiIT09bGVmdC5yaWdodCYmXFxcInNldEludGVydmFsXFxcIiE9PWxlZnQucmlnaHR8fCh3YXJuaW5nKFxcXCJXMDY2XFxcIixsZWZ0KSxhZGRJbnRlcm5hbFNyYyhsZWZ0LHBbMF0udmFsdWUpKTood2FybmluZyhcXFwiVzA2NlxcXCIsbGVmdCksYWRkSW50ZXJuYWxTcmMobGVmdCxwWzBdLnZhbHVlKSkpLGxlZnQuaWRlbnRpZmllcnx8XFxcIi5cXFwiPT09bGVmdC5pZHx8XFxcIltcXFwiPT09bGVmdC5pZHx8XFxcIj0+XFxcIj09PWxlZnQuaWR8fFxcXCIoXFxcIj09PWxlZnQuaWR8fFxcXCImJlxcXCI9PT1sZWZ0LmlkfHxcXFwifHxcXFwiPT09bGVmdC5pZHx8XFxcIj9cXFwiPT09bGVmdC5pZHx8c3RhdGUuaW5FUzYoKSYmbGVmdFtcXFwiKG5hbWUpXFxcIl18fHdhcm5pbmcoXFxcIlcwNjdcXFwiLHRoYXQpKSx0aGF0LmxlZnQ9bGVmdCx0aGF0fSwxNTUsITApLmV4cHM9ITAscHJlZml4KFxcXCIoXFxcIixmdW5jdGlvbigpe3ZhciBwbjEscmV0LHRyaWdnZXJGbkV4cHIsZmlyc3QsbGFzdCxwbj1zdGF0ZS50b2tlbnMubmV4dCxpPS0xLHBhcmVucz0xLG9wZW5pbmc9c3RhdGUudG9rZW5zLmN1cnIscHJlY2VlZGluZz1zdGF0ZS50b2tlbnMucHJldixpc05lY2Vzc2FyeT0hc3RhdGUub3B0aW9uLnNpbmdsZUdyb3Vwcztkb1xcXCIoXFxcIj09PXBuLnZhbHVlP3BhcmVucys9MTpcXFwiKVxcXCI9PT1wbi52YWx1ZSYmKHBhcmVucy09MSksaSs9MSxwbjE9cG4scG49cGVlayhpKTt3aGlsZSgoMCE9PXBhcmVuc3x8XFxcIilcXFwiIT09cG4xLnZhbHVlKSYmXFxcIjtcXFwiIT09cG4udmFsdWUmJlxcXCIoZW5kKVxcXCIhPT1wbi50eXBlKTtpZihcXFwiZnVuY3Rpb25cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJih0cmlnZ2VyRm5FeHByPXN0YXRlLnRva2Vucy5uZXh0LmltbWVkPSEwKSxcXFwiPT5cXFwiPT09cG4udmFsdWUpcmV0dXJuIGRvRnVuY3Rpb24oe3R5cGU6XFxcImFycm93XFxcIixwYXJzZWRPcGVuaW5nOiEwfSk7dmFyIGV4cHJzPVtdO2lmKFxcXCIpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWZvcig7ZXhwcnMucHVzaChleHByZXNzaW9uKDEwKSksXFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KXN0YXRlLm9wdGlvbi5ub2NvbW1hJiZ3YXJuaW5nKFxcXCJXMTI3XFxcIiksY29tbWEoKTtyZXR1cm4gYWR2YW5jZShcXFwiKVxcXCIsdGhpcyksc3RhdGUub3B0aW9uLmltbWVkJiZleHByc1swXSYmXFxcImZ1bmN0aW9uXFxcIj09PWV4cHJzWzBdLmlkJiZcXFwiKFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmXFxcIi5cXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJlxcXCJbXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZ3YXJuaW5nKFxcXCJXMDY4XFxcIix0aGlzKSxleHBycy5sZW5ndGg/KGV4cHJzLmxlbmd0aD4xPyhyZXQ9T2JqZWN0LmNyZWF0ZShzdGF0ZS5zeW50YXhbXFxcIixcXFwiXSkscmV0LmV4cHJzPWV4cHJzLGZpcnN0PWV4cHJzWzBdLGxhc3Q9ZXhwcnNbZXhwcnMubGVuZ3RoLTFdLGlzTmVjZXNzYXJ5fHwoaXNOZWNlc3Nhcnk9cHJlY2VlZGluZy5hc3NpZ258fHByZWNlZWRpbmcuZGVsaW0pKToocmV0PWZpcnN0PWxhc3Q9ZXhwcnNbMF0saXNOZWNlc3Nhcnl8fChpc05lY2Vzc2FyeT1vcGVuaW5nLmJlZ2luc1N0bXQmJihcXFwie1xcXCI9PT1yZXQuaWR8fHRyaWdnZXJGbkV4cHJ8fGlzRnVuY3RvcihyZXQpKXx8dHJpZ2dlckZuRXhwciYmKCFpc0VuZE9mRXhwcigpfHxcXFwifVxcXCIhPT1zdGF0ZS50b2tlbnMucHJldi5pZCl8fGlzRnVuY3RvcihyZXQpJiYhaXNFbmRPZkV4cHIoKXx8XFxcIntcXFwiPT09cmV0LmlkJiZcXFwiPT5cXFwiPT09cHJlY2VlZGluZy5pZHx8XFxcIihudW1iZXIpXFxcIj09PXJldC50eXBlJiZjaGVja1B1bmN0dWF0b3IocG4sXFxcIi5cXFwiKSYmL15cXFxcZCskLy50ZXN0KHJldC52YWx1ZSkpKSxyZXQmJighaXNOZWNlc3NhcnkmJihmaXJzdC5sZWZ0fHxmaXJzdC5yaWdodHx8cmV0LmV4cHJzKSYmKGlzTmVjZXNzYXJ5PSFpc0JlZ2luT2ZFeHByKHByZWNlZWRpbmcpJiZmaXJzdC5sYnA8PXByZWNlZWRpbmcubGJwfHwhaXNFbmRPZkV4cHIoKSYmbGFzdC5sYnA8c3RhdGUudG9rZW5zLm5leHQubGJwKSxpc05lY2Vzc2FyeXx8d2FybmluZyhcXFwiVzEyNlxcXCIsb3BlbmluZykscmV0LnBhcmVuPSEwKSxyZXQpOnZvaWQgMH0pLGFwcGxpY2F0aW9uKFxcXCI9PlxcXCIpLGluZml4KFxcXCJbXFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3ZhciBzLGU9ZXhwcmVzc2lvbigxMCk7cmV0dXJuIGUmJlxcXCIoc3RyaW5nKVxcXCI9PT1lLnR5cGUmJihzdGF0ZS5vcHRpb24uZXZpbHx8XFxcImV2YWxcXFwiIT09ZS52YWx1ZSYmXFxcImV4ZWNTY3JpcHRcXFwiIT09ZS52YWx1ZXx8aXNHbG9iYWxFdmFsKGxlZnQsc3RhdGUpJiZ3YXJuaW5nKFxcXCJXMDYxXFxcIiksY291bnRNZW1iZXIoZS52YWx1ZSksIXN0YXRlLm9wdGlvbi5zdWImJnJlZy5pZGVudGlmaWVyLnRlc3QoZS52YWx1ZSkmJihzPXN0YXRlLnN5bnRheFtlLnZhbHVlXSxzJiZpc1Jlc2VydmVkKHMpfHx3YXJuaW5nKFxcXCJXMDY5XFxcIixzdGF0ZS50b2tlbnMucHJldixlLnZhbHVlKSkpLGFkdmFuY2UoXFxcIl1cXFwiLHRoYXQpLGUmJlxcXCJoYXNPd25Qcm9wZXJ0eVxcXCI9PT1lLnZhbHVlJiZcXFwiPVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmd2FybmluZyhcXFwiVzAwMVxcXCIpLHRoYXQubGVmdD1sZWZ0LHRoYXQucmlnaHQ9ZSx0aGF0fSwxNjAsITApLHByZWZpeChcXFwiW1xcXCIsZnVuY3Rpb24oKXt2YXIgYmxvY2t0eXBlPWxvb2t1cEJsb2NrVHlwZSgpO2lmKGJsb2NrdHlwZS5pc0NvbXBBcnJheSlyZXR1cm4gc3RhdGUub3B0aW9uLmVzbmV4dHx8c3RhdGUuaW5Nb3ooKXx8d2FybmluZyhcXFwiVzExOFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImFycmF5IGNvbXByZWhlbnNpb25cXFwiKSxjb21wcmVoZW5zaXZlQXJyYXlFeHByZXNzaW9uKCk7aWYoYmxvY2t0eXBlLmlzRGVzdEFzc2lnbilyZXR1cm4gdGhpcy5kZXN0cnVjdEFzc2lnbj1kZXN0cnVjdHVyaW5nUGF0dGVybih7b3BlbmluZ1BhcnNlZDohMCxhc3NpZ25tZW50OiEwfSksdGhpczt2YXIgYj1zdGF0ZS50b2tlbnMuY3Vyci5saW5lIT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KTtmb3IodGhpcy5maXJzdD1bXSxiJiYoaW5kZW50Kz1zdGF0ZS5vcHRpb24uaW5kZW50LHN0YXRlLnRva2Vucy5uZXh0LmZyb209PT1pbmRlbnQrc3RhdGUub3B0aW9uLmluZGVudCYmKGluZGVudCs9c3RhdGUub3B0aW9uLmluZGVudCkpO1xcXCIoZW5kKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZDspe2Zvcig7XFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KXtpZighc3RhdGUub3B0aW9uLmVsaXNpb24pe2lmKHN0YXRlLmluRVM1KCkpe3dhcm5pbmcoXFxcIlcxMjhcXFwiKTtkbyBhZHZhbmNlKFxcXCIsXFxcIik7d2hpbGUoXFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpO2NvbnRpbnVlfXdhcm5pbmcoXFxcIlcwNzBcXFwiKX1hZHZhbmNlKFxcXCIsXFxcIil9aWYoXFxcIl1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpYnJlYWs7aWYodGhpcy5maXJzdC5wdXNoKGV4cHJlc3Npb24oMTApKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVhaztpZihjb21tYSh7YWxsb3dUcmFpbGluZzohMH0pLFxcXCJdXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiYhc3RhdGUuaW5FUzUoKSl7d2FybmluZyhcXFwiVzA3MFxcXCIsc3RhdGUudG9rZW5zLmN1cnIpO2JyZWFrfX1yZXR1cm4gYiYmKGluZGVudC09c3RhdGUub3B0aW9uLmluZGVudCksYWR2YW5jZShcXFwiXVxcXCIsdGhpcyksdGhpc30pLGZ1bmN0aW9uKHgpe3gubnVkPWZ1bmN0aW9uKCl7dmFyIGIsZixpLHAsdCxuZXh0VmFsLGlzR2VuZXJhdG9yTWV0aG9kPSExLHByb3BzPU9iamVjdC5jcmVhdGUobnVsbCk7Yj1zdGF0ZS50b2tlbnMuY3Vyci5saW5lIT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KSxiJiYoaW5kZW50Kz1zdGF0ZS5vcHRpb24uaW5kZW50LHN0YXRlLnRva2Vucy5uZXh0LmZyb209PT1pbmRlbnQrc3RhdGUub3B0aW9uLmluZGVudCYmKGluZGVudCs9c3RhdGUub3B0aW9uLmluZGVudCkpO3ZhciBibG9ja3R5cGU9bG9va3VwQmxvY2tUeXBlKCk7aWYoYmxvY2t0eXBlLmlzRGVzdEFzc2lnbilyZXR1cm4gdGhpcy5kZXN0cnVjdEFzc2lnbj1kZXN0cnVjdHVyaW5nUGF0dGVybih7b3BlbmluZ1BhcnNlZDohMCxhc3NpZ25tZW50OiEwfSksdGhpcztmb3IoO1xcXCJ9XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkOyl7aWYobmV4dFZhbD1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSwhc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllcnx8XFxcIixcXFwiIT09cGVla0lnbm9yZUVPTCgpLmlkJiZcXFwifVxcXCIhPT1wZWVrSWdub3JlRU9MKCkuaWQpaWYoXFxcIjpcXFwiPT09cGVlaygpLmlkfHxcXFwiZ2V0XFxcIiE9PW5leHRWYWwmJlxcXCJzZXRcXFwiIT09bmV4dFZhbCl7aWYoXFxcIipcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJlxcXCIocHVuY3R1YXRvcilcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudHlwZT8oc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImdlbmVyYXRvciBmdW5jdGlvbnNcXFwiLFxcXCI2XFxcIiksYWR2YW5jZShcXFwiKlxcXCIpLGlzR2VuZXJhdG9yTWV0aG9kPSEwKTppc0dlbmVyYXRvck1ldGhvZD0hMSxcXFwiW1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClpPWNvbXB1dGVkUHJvcGVydHlOYW1lKCksc3RhdGUubmFtZVN0YWNrLnNldChpKTtlbHNlIGlmKHN0YXRlLm5hbWVTdGFjay5zZXQoc3RhdGUudG9rZW5zLm5leHQpLGk9cHJvcGVydHlOYW1lKCksc2F2ZVByb3BlcnR5KHByb3BzLGksc3RhdGUudG9rZW5zLm5leHQpLFxcXCJzdHJpbmdcXFwiIT10eXBlb2YgaSlicmVhaztcXFwiKFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZT8oc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImNvbmNpc2UgbWV0aG9kc1xcXCIsXFxcIjZcXFwiKSxkb0Z1bmN0aW9uKHt0eXBlOmlzR2VuZXJhdG9yTWV0aG9kP1xcXCJnZW5lcmF0b3JcXFwiOm51bGx9KSk6KGFkdmFuY2UoXFxcIjpcXFwiKSxleHByZXNzaW9uKDEwKSl9ZWxzZSBhZHZhbmNlKG5leHRWYWwpLHN0YXRlLmluRVM1KCl8fGVycm9yKFxcXCJFMDM0XFxcIiksaT1wcm9wZXJ0eU5hbWUoKSxpfHxzdGF0ZS5pbkVTNigpfHxlcnJvcihcXFwiRTAzNVxcXCIpLGkmJnNhdmVBY2Nlc3NvcihuZXh0VmFsLHByb3BzLGksc3RhdGUudG9rZW5zLmN1cnIpLHQ9c3RhdGUudG9rZW5zLm5leHQsZj1kb0Z1bmN0aW9uKCkscD1mW1xcXCIocGFyYW1zKVxcXCJdLFxcXCJnZXRcXFwiPT09bmV4dFZhbCYmaSYmcD93YXJuaW5nKFxcXCJXMDc2XFxcIix0LHBbMF0saSk6XFxcInNldFxcXCIhPT1uZXh0VmFsfHwhaXx8cCYmMT09PXAubGVuZ3RofHx3YXJuaW5nKFxcXCJXMDc3XFxcIix0LGkpO2Vsc2Ugc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIm9iamVjdCBzaG9ydCBub3RhdGlvblxcXCIsXFxcIjZcXFwiKSxpPXByb3BlcnR5TmFtZSghMCksc2F2ZVByb3BlcnR5KHByb3BzLGksc3RhdGUudG9rZW5zLm5leHQpLGV4cHJlc3Npb24oMTApO2lmKGNvdW50TWVtYmVyKGkpLFxcXCIsXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWJyZWFrO2NvbW1hKHthbGxvd1RyYWlsaW5nOiEwLHByb3BlcnR5OiEwfSksXFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/d2FybmluZyhcXFwiVzA3MFxcXCIsc3RhdGUudG9rZW5zLmN1cnIpOlxcXCJ9XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxzdGF0ZS5pbkVTNSgpfHx3YXJuaW5nKFxcXCJXMDcwXFxcIixzdGF0ZS50b2tlbnMuY3Vycil9cmV0dXJuIGImJihpbmRlbnQtPXN0YXRlLm9wdGlvbi5pbmRlbnQpLGFkdmFuY2UoXFxcIn1cXFwiLHRoaXMpLGNoZWNrUHJvcGVydGllcyhwcm9wcyksdGhpc30seC5mdWQ9ZnVuY3Rpb24oKXtlcnJvcihcXFwiRTAzNlxcXCIsc3RhdGUudG9rZW5zLmN1cnIpfX0oZGVsaW0oXFxcIntcXFwiKSk7dmFyIGNvbnN0c3RhdGVtZW50PXN0bXQoXFxcImNvbnN0XFxcIixmdW5jdGlvbihjb250ZXh0KXtyZXR1cm4gYmxvY2tWYXJpYWJsZVN0YXRlbWVudChcXFwiY29uc3RcXFwiLHRoaXMsY29udGV4dCl9KTtjb25zdHN0YXRlbWVudC5leHBzPSEwO3ZhciBsZXRzdGF0ZW1lbnQ9c3RtdChcXFwibGV0XFxcIixmdW5jdGlvbihjb250ZXh0KXtyZXR1cm4gYmxvY2tWYXJpYWJsZVN0YXRlbWVudChcXFwibGV0XFxcIix0aGlzLGNvbnRleHQpfSk7bGV0c3RhdGVtZW50LmV4cHM9ITA7dmFyIHZhcnN0YXRlbWVudD1zdG10KFxcXCJ2YXJcXFwiLGZ1bmN0aW9uKGNvbnRleHQpe3ZhciB0b2tlbnMsbG9uZSx2YWx1ZSxwcmVmaXg9Y29udGV4dCYmY29udGV4dC5wcmVmaXgsaW5leHBvcnQ9Y29udGV4dCYmY29udGV4dC5pbmV4cG9ydCxpbXBsaWVkPWNvbnRleHQmJmNvbnRleHQuaW1wbGllZCxyZXBvcnQ9IShjb250ZXh0JiZjb250ZXh0Lmlnbm9yZSk7Zm9yKHRoaXMuZmlyc3Q9W107Oyl7dmFyIG5hbWVzPVtdO18uY29udGFpbnMoW1xcXCJ7XFxcIixcXFwiW1xcXCJdLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKT8odG9rZW5zPWRlc3RydWN0dXJpbmdQYXR0ZXJuKCksbG9uZT0hMSk6KHRva2Vucz1be2lkOmlkZW50aWZpZXIoKSx0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn1dLGxvbmU9ITApLHByZWZpeCYmaW1wbGllZHx8IXJlcG9ydHx8IXN0YXRlLm9wdGlvbi52YXJzdG10fHx3YXJuaW5nKFxcXCJXMTMyXFxcIix0aGlzKSx0aGlzLmZpcnN0PXRoaXMuZmlyc3QuY29uY2F0KG5hbWVzKTtmb3IodmFyIHQgaW4gdG9rZW5zKXRva2Vucy5oYXNPd25Qcm9wZXJ0eSh0KSYmKHQ9dG9rZW5zW3RdLCFpbXBsaWVkJiZzdGF0ZS5mdW5jdFtcXFwiKGdsb2JhbClcXFwiXSYmKHByZWRlZmluZWRbdC5pZF09PT0hMT93YXJuaW5nKFxcXCJXMDc5XFxcIix0LnRva2VuLHQuaWQpOnN0YXRlLm9wdGlvbi5mdXR1cmVob3N0aWxlPT09ITEmJighc3RhdGUuaW5FUzUoKSYmdmFycy5lY21hSWRlbnRpZmllcnNbNV1bdC5pZF09PT0hMXx8IXN0YXRlLmluRVM2KCkmJnZhcnMuZWNtYUlkZW50aWZpZXJzWzZdW3QuaWRdPT09ITEpJiZ3YXJuaW5nKFxcXCJXMTI5XFxcIix0LnRva2VuLHQuaWQpKSx0LmlkJiYoXFxcImZvclxcXCI9PT1pbXBsaWVkPyhzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmhhcyh0LmlkKXx8cmVwb3J0JiZ3YXJuaW5nKFxcXCJXMDg4XFxcIix0LnRva2VuLHQuaWQpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2sudXNlKHQuaWQsdC50b2tlbikpOihzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZGxhYmVsKHQuaWQse3R5cGU6XFxcInZhclxcXCIsdG9rZW46dC50b2tlbn0pLGxvbmUmJmluZXhwb3J0JiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnNldEV4cG9ydGVkKHQuaWQsdC50b2tlbikpLG5hbWVzLnB1c2godC50b2tlbikpKTtpZihcXFwiPVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmKHN0YXRlLm5hbWVTdGFjay5zZXQoc3RhdGUudG9rZW5zLmN1cnIpLGFkdmFuY2UoXFxcIj1cXFwiKSxwcmVmaXh8fCFyZXBvcnR8fHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXXx8XFxcInVuZGVmaW5lZFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8d2FybmluZyhcXFwiVzA4MFxcXCIsc3RhdGUudG9rZW5zLnByZXYsc3RhdGUudG9rZW5zLnByZXYudmFsdWUpLFxcXCI9XFxcIj09PXBlZWsoMCkuaWQmJnN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXImJighcHJlZml4JiZyZXBvcnQmJiFzdGF0ZS5mdW5jdFtcXFwiKHBhcmFtcylcXFwiXXx8LTE9PT1zdGF0ZS5mdW5jdFtcXFwiKHBhcmFtcylcXFwiXS5pbmRleE9mKHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSkmJndhcm5pbmcoXFxcIlcxMjBcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSx2YWx1ZT1leHByZXNzaW9uKHByZWZpeD8xMjA6MTApLGxvbmU/dG9rZW5zWzBdLmZpcnN0PXZhbHVlOmRlc3RydWN0dXJpbmdQYXR0ZXJuTWF0Y2gobmFtZXMsdmFsdWUpKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVhaztjb21tYSgpfXJldHVybiB0aGlzfSk7dmFyc3RhdGVtZW50LmV4cHM9ITAsYmxvY2tzdG10KFxcXCJjbGFzc1xcXCIsZnVuY3Rpb24oKXtyZXR1cm4gY2xhc3NkZWYuY2FsbCh0aGlzLCEwKX0pLGJsb2Nrc3RtdChcXFwiZnVuY3Rpb25cXFwiLGZ1bmN0aW9uKGNvbnRleHQpe3ZhciBpbmV4cG9ydD1jb250ZXh0JiZjb250ZXh0LmluZXhwb3J0LGdlbmVyYXRvcj0hMTtcXFwiKlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmKGFkdmFuY2UoXFxcIipcXFwiKSxzdGF0ZS5pbkVTNih7c3RyaWN0OiEwfSk/Z2VuZXJhdG9yPSEwOndhcm5pbmcoXFxcIlcxMTlcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJmdW5jdGlvbipcXFwiLFxcXCI2XFxcIikpLGluYmxvY2smJndhcm5pbmcoXFxcIlcwODJcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTt2YXIgaT1vcHRpb25hbGlkZW50aWZpZXIoKTtyZXR1cm4gc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbChpLHt0eXBlOlxcXCJmdW5jdGlvblxcXCIsdG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9KSx2b2lkIDA9PT1pP3dhcm5pbmcoXFxcIlcwMjVcXFwiKTppbmV4cG9ydCYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zZXRFeHBvcnRlZChpLHN0YXRlLnRva2Vucy5wcmV2KSxkb0Z1bmN0aW9uKHtuYW1lOmksc3RhdGVtZW50OnRoaXMsdHlwZTpnZW5lcmF0b3I/XFxcImdlbmVyYXRvclxcXCI6bnVsbCxpZ25vcmVMb29wRnVuYzppbmJsb2NrfSksXFxcIihcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJnN0YXRlLnRva2Vucy5uZXh0LmxpbmU9PT1zdGF0ZS50b2tlbnMuY3Vyci5saW5lJiZlcnJvcihcXFwiRTAzOVxcXCIpLHRoaXN9KSxwcmVmaXgoXFxcImZ1bmN0aW9uXFxcIixmdW5jdGlvbigpe3ZhciBnZW5lcmF0b3I9ITE7XFxcIipcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJihzdGF0ZS5pbkVTNigpfHx3YXJuaW5nKFxcXCJXMTE5XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiZnVuY3Rpb24qXFxcIixcXFwiNlxcXCIpLGFkdmFuY2UoXFxcIipcXFwiKSxnZW5lcmF0b3I9ITApO3ZhciBpPW9wdGlvbmFsaWRlbnRpZmllcigpO3JldHVybiBkb0Z1bmN0aW9uKHtuYW1lOmksdHlwZTpnZW5lcmF0b3I/XFxcImdlbmVyYXRvclxcXCI6bnVsbH0pLHRoaXN9KSxibG9ja3N0bXQoXFxcImlmXFxcIixmdW5jdGlvbigpe3ZhciB0PXN0YXRlLnRva2Vucy5uZXh0O2luY3JlYXNlQ29tcGxleGl0eUNvdW50KCksc3RhdGUuY29uZGl0aW9uPSEwLGFkdmFuY2UoXFxcIihcXFwiKTt2YXIgZXhwcj1leHByZXNzaW9uKDApO2NoZWNrQ29uZEFzc2lnbm1lbnQoZXhwcik7dmFyIGZvcmluaWZjaGVjaz1udWxsO3N0YXRlLm9wdGlvbi5mb3JpbiYmc3RhdGUuZm9yaW5pZmNoZWNrbmVlZGVkJiYoc3RhdGUuZm9yaW5pZmNoZWNrbmVlZGVkPSExLGZvcmluaWZjaGVjaz1zdGF0ZS5mb3JpbmlmY2hlY2tzW3N0YXRlLmZvcmluaWZjaGVja3MubGVuZ3RoLTFdLGZvcmluaWZjaGVjay50eXBlPVxcXCIocHVuY3R1YXRvcilcXFwiPT09ZXhwci50eXBlJiZcXFwiIVxcXCI9PT1leHByLnZhbHVlP1xcXCIobmVnYXRpdmUpXFxcIjpcXFwiKHBvc2l0aXZlKVxcXCIpLGFkdmFuY2UoXFxcIilcXFwiLHQpLHN0YXRlLmNvbmRpdGlvbj0hMTt2YXIgcz1ibG9jayghMCwhMCk7cmV0dXJuIGZvcmluaWZjaGVjayYmXFxcIihuZWdhdGl2ZSlcXFwiPT09Zm9yaW5pZmNoZWNrLnR5cGUmJnMmJnNbMF0mJlxcXCIoaWRlbnRpZmllcilcXFwiPT09c1swXS50eXBlJiZcXFwiY29udGludWVcXFwiPT09c1swXS52YWx1ZSYmKGZvcmluaWZjaGVjay50eXBlPVxcXCIobmVnYXRpdmUtd2l0aC1jb250aW51ZSlcXFwiKSxcXFwiZWxzZVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmKGFkdmFuY2UoXFxcImVsc2VcXFwiKSxcXFwiaWZcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWR8fFxcXCJzd2l0Y2hcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/c3RhdGVtZW50KCk6YmxvY2soITAsITApKSx0aGlzfSksYmxvY2tzdG10KFxcXCJ0cnlcXFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZG9DYXRjaCgpe2lmKGFkdmFuY2UoXFxcImNhdGNoXFxcIiksYWR2YW5jZShcXFwiKFxcXCIpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soXFxcImNhdGNocGFyYW1zXFxcIiksY2hlY2tQdW5jdHVhdG9ycyhzdGF0ZS50b2tlbnMubmV4dCxbXFxcIltcXFwiLFxcXCJ7XFxcIl0pKXt2YXIgdG9rZW5zPWRlc3RydWN0dXJpbmdQYXR0ZXJuKCk7Xy5lYWNoKHRva2VucyxmdW5jdGlvbih0b2tlbil7dG9rZW4uaWQmJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkUGFyYW0odG9rZW4uaWQsdG9rZW4sXFxcImV4Y2VwdGlvblxcXCIpfSl9ZWxzZVxcXCIoaWRlbnRpZmllcilcXFwiIT09c3RhdGUudG9rZW5zLm5leHQudHlwZT93YXJuaW5nKFxcXCJFMDMwXFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSk6c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRQYXJhbShpZGVudGlmaWVyKCksc3RhdGUudG9rZW5zLmN1cnIsXFxcImV4Y2VwdGlvblxcXCIpO1xcXCJpZlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmKHN0YXRlLmluTW96KCl8fHdhcm5pbmcoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJjYXRjaCBmaWx0ZXJcXFwiKSxhZHZhbmNlKFxcXCJpZlxcXCIpLGV4cHJlc3Npb24oMCkpLGFkdmFuY2UoXFxcIilcXFwiKSxibG9jayghMSksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCl9dmFyIGI7Zm9yKGJsb2NrKCEwKTtcXFwiY2F0Y2hcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KWluY3JlYXNlQ29tcGxleGl0eUNvdW50KCksYiYmIXN0YXRlLmluTW96KCkmJndhcm5pbmcoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJtdWx0aXBsZSBjYXRjaCBibG9ja3NcXFwiKSxkb0NhdGNoKCksYj0hMDtyZXR1cm5cXFwiZmluYWxseVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZD8oYWR2YW5jZShcXFwiZmluYWxseVxcXCIpLGJsb2NrKCEwKSx2b2lkIDApOihifHxlcnJvcihcXFwiRTAyMVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImNhdGNoXFxcIixzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksdGhpcyl9KSxibG9ja3N0bXQoXFxcIndoaWxlXFxcIixmdW5jdGlvbigpe3ZhciB0PXN0YXRlLnRva2Vucy5uZXh0O3JldHVybiBzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdKz0xLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXSs9MSxpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLGFkdmFuY2UoXFxcIihcXFwiKSxjaGVja0NvbmRBc3NpZ25tZW50KGV4cHJlc3Npb24oMCkpLGFkdmFuY2UoXFxcIilcXFwiLHQpLGJsb2NrKCEwLCEwKSxzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdLT0xLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXS09MSx0aGlzfSkubGFiZWxsZWQ9ITAsYmxvY2tzdG10KFxcXCJ3aXRoXFxcIixmdW5jdGlvbigpe3ZhciB0PXN0YXRlLnRva2Vucy5uZXh0O3JldHVybiBzdGF0ZS5pc1N0cmljdCgpP2Vycm9yKFxcXCJFMDEwXFxcIixzdGF0ZS50b2tlbnMuY3Vycik6c3RhdGUub3B0aW9uLndpdGhzdG10fHx3YXJuaW5nKFxcXCJXMDg1XFxcIixzdGF0ZS50b2tlbnMuY3VyciksYWR2YW5jZShcXFwiKFxcXCIpLGV4cHJlc3Npb24oMCksYWR2YW5jZShcXFwiKVxcXCIsdCksYmxvY2soITAsITApLHRoaXN9KSxibG9ja3N0bXQoXFxcInN3aXRjaFxcXCIsZnVuY3Rpb24oKXt2YXIgdD1zdGF0ZS50b2tlbnMubmV4dCxnPSExLG5vaW5kZW50PSExO1xcbmZvcihzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdKz0xLGFkdmFuY2UoXFxcIihcXFwiKSxjaGVja0NvbmRBc3NpZ25tZW50KGV4cHJlc3Npb24oMCkpLGFkdmFuY2UoXFxcIilcXFwiLHQpLHQ9c3RhdGUudG9rZW5zLm5leHQsYWR2YW5jZShcXFwie1xcXCIpLHN0YXRlLnRva2Vucy5uZXh0LmZyb209PT1pbmRlbnQmJihub2luZGVudD0hMCksbm9pbmRlbnR8fChpbmRlbnQrPXN0YXRlLm9wdGlvbi5pbmRlbnQpLHRoaXMuY2FzZXM9W107Oylzd2l0Y2goc3RhdGUudG9rZW5zLm5leHQuaWQpe2Nhc2VcXFwiY2FzZVxcXCI6c3dpdGNoKHN0YXRlLmZ1bmN0W1xcXCIodmVyYilcXFwiXSl7Y2FzZVxcXCJ5aWVsZFxcXCI6Y2FzZVxcXCJicmVha1xcXCI6Y2FzZVxcXCJjYXNlXFxcIjpjYXNlXFxcImNvbnRpbnVlXFxcIjpjYXNlXFxcInJldHVyblxcXCI6Y2FzZVxcXCJzd2l0Y2hcXFwiOmNhc2VcXFwidGhyb3dcXFwiOmJyZWFrO2RlZmF1bHQ6c3RhdGUudG9rZW5zLmN1cnIuY2FzZUZhbGxzVGhyb3VnaHx8d2FybmluZyhcXFwiVzA4NlxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImNhc2VcXFwiKX1hZHZhbmNlKFxcXCJjYXNlXFxcIiksdGhpcy5jYXNlcy5wdXNoKGV4cHJlc3Npb24oMCkpLGluY3JlYXNlQ29tcGxleGl0eUNvdW50KCksZz0hMCxhZHZhbmNlKFxcXCI6XFxcIiksc3RhdGUuZnVuY3RbXFxcIih2ZXJiKVxcXCJdPVxcXCJjYXNlXFxcIjticmVhaztjYXNlXFxcImRlZmF1bHRcXFwiOnN3aXRjaChzdGF0ZS5mdW5jdFtcXFwiKHZlcmIpXFxcIl0pe2Nhc2VcXFwieWllbGRcXFwiOmNhc2VcXFwiYnJlYWtcXFwiOmNhc2VcXFwiY29udGludWVcXFwiOmNhc2VcXFwicmV0dXJuXFxcIjpjYXNlXFxcInRocm93XFxcIjpicmVhaztkZWZhdWx0OnRoaXMuY2FzZXMubGVuZ3RoJiYoc3RhdGUudG9rZW5zLmN1cnIuY2FzZUZhbGxzVGhyb3VnaHx8d2FybmluZyhcXFwiVzA4NlxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImRlZmF1bHRcXFwiKSl9YWR2YW5jZShcXFwiZGVmYXVsdFxcXCIpLGc9ITAsYWR2YW5jZShcXFwiOlxcXCIpO2JyZWFrO2Nhc2VcXFwifVxcXCI6cmV0dXJuIG5vaW5kZW50fHwoaW5kZW50LT1zdGF0ZS5vcHRpb24uaW5kZW50KSxhZHZhbmNlKFxcXCJ9XFxcIix0KSxzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdLT0xLHN0YXRlLmZ1bmN0W1xcXCIodmVyYilcXFwiXT12b2lkIDAsdm9pZCAwO2Nhc2VcXFwiKGVuZClcXFwiOnJldHVybiBlcnJvcihcXFwiRTAyM1xcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIn1cXFwiKSx2b2lkIDA7ZGVmYXVsdDppZihpbmRlbnQrPXN0YXRlLm9wdGlvbi5pbmRlbnQsZylzd2l0Y2goc3RhdGUudG9rZW5zLmN1cnIuaWQpe2Nhc2VcXFwiLFxcXCI6cmV0dXJuIGVycm9yKFxcXCJFMDQwXFxcIiksdm9pZCAwO2Nhc2VcXFwiOlxcXCI6Zz0hMSxzdGF0ZW1lbnRzKCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gZXJyb3IoXFxcIkUwMjVcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSx2b2lkIDB9ZWxzZXtpZihcXFwiOlxcXCIhPT1zdGF0ZS50b2tlbnMuY3Vyci5pZClyZXR1cm4gZXJyb3IoXFxcIkUwMjFcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJjYXNlXFxcIixzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksdm9pZCAwO2FkdmFuY2UoXFxcIjpcXFwiKSxlcnJvcihcXFwiRTAyNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcIjpcXFwiKSxzdGF0ZW1lbnRzKCl9aW5kZW50LT1zdGF0ZS5vcHRpb24uaW5kZW50fXJldHVybiB0aGlzfSkubGFiZWxsZWQ9ITAsc3RtdChcXFwiZGVidWdnZXJcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLm9wdGlvbi5kZWJ1Z3x8d2FybmluZyhcXFwiVzA4N1xcXCIsdGhpcyksdGhpc30pLmV4cHM9ITAsZnVuY3Rpb24oKXt2YXIgeD1zdG10KFxcXCJkb1xcXCIsZnVuY3Rpb24oKXtzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdKz0xLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXSs9MSxpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLHRoaXMuZmlyc3Q9YmxvY2soITAsITApLGFkdmFuY2UoXFxcIndoaWxlXFxcIik7dmFyIHQ9c3RhdGUudG9rZW5zLm5leHQ7cmV0dXJuIGFkdmFuY2UoXFxcIihcXFwiKSxjaGVja0NvbmRBc3NpZ25tZW50KGV4cHJlc3Npb24oMCkpLGFkdmFuY2UoXFxcIilcXFwiLHQpLHN0YXRlLmZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0tPTEsc3RhdGUuZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdLT0xLHRoaXN9KTt4LmxhYmVsbGVkPSEwLHguZXhwcz0hMH0oKSxibG9ja3N0bXQoXFxcImZvclxcXCIsZnVuY3Rpb24oKXt2YXIgcyx0PXN0YXRlLnRva2Vucy5uZXh0LGxldHNjb3BlPSExLGZvcmVhY2h0b2s9bnVsbDtcXFwiZWFjaFxcXCI9PT10LnZhbHVlJiYoZm9yZWFjaHRvaz10LGFkdmFuY2UoXFxcImVhY2hcXFwiKSxzdGF0ZS5pbk1veigpfHx3YXJuaW5nKFxcXCJXMTE4XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiZm9yIGVhY2hcXFwiKSksaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKSxhZHZhbmNlKFxcXCIoXFxcIik7dmFyIG5leHRvcCxjb21tYSxpbml0aWFsaXplcixpPTAsaW5vZj1bXFxcImluXFxcIixcXFwib2ZcXFwiXSxsZXZlbD0wO2NoZWNrUHVuY3R1YXRvcnMoc3RhdGUudG9rZW5zLm5leHQsW1xcXCJ7XFxcIixcXFwiW1xcXCJdKSYmKytsZXZlbDtkb3tpZihuZXh0b3A9cGVlayhpKSwrK2ksY2hlY2tQdW5jdHVhdG9ycyhuZXh0b3AsW1xcXCJ7XFxcIixcXFwiW1xcXCJdKT8rK2xldmVsOmNoZWNrUHVuY3R1YXRvcnMobmV4dG9wLFtcXFwifVxcXCIsXFxcIl1cXFwiXSkmJi0tbGV2ZWwsMD5sZXZlbClicmVhazswPT09bGV2ZWwmJighY29tbWEmJmNoZWNrUHVuY3R1YXRvcihuZXh0b3AsXFxcIixcXFwiKT9jb21tYT1uZXh0b3A6IWluaXRpYWxpemVyJiZjaGVja1B1bmN0dWF0b3IobmV4dG9wLFxcXCI9XFxcIikmJihpbml0aWFsaXplcj1uZXh0b3ApKX13aGlsZShsZXZlbD4wfHwhXy5jb250YWlucyhpbm9mLG5leHRvcC52YWx1ZSkmJlxcXCI7XFxcIiE9PW5leHRvcC52YWx1ZSYmXFxcIihlbmQpXFxcIiE9PW5leHRvcC50eXBlKTtpZihfLmNvbnRhaW5zKGlub2YsbmV4dG9wLnZhbHVlKSl7c3RhdGUuaW5FUzYoKXx8XFxcIm9mXFxcIiE9PW5leHRvcC52YWx1ZXx8d2FybmluZyhcXFwiVzEwNFxcXCIsbmV4dG9wLFxcXCJmb3Igb2ZcXFwiLFxcXCI2XFxcIik7dmFyIG9rPSEoaW5pdGlhbGl6ZXJ8fGNvbW1hKTtpZihpbml0aWFsaXplciYmZXJyb3IoXFxcIlcxMzNcXFwiLGNvbW1hLG5leHRvcC52YWx1ZSxcXFwiaW5pdGlhbGl6ZXIgaXMgZm9yYmlkZGVuXFxcIiksY29tbWEmJmVycm9yKFxcXCJXMTMzXFxcIixjb21tYSxuZXh0b3AudmFsdWUsXFxcIm1vcmUgdGhhbiBvbmUgRm9yQmluZGluZ1xcXCIpLFxcXCJ2YXJcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/KGFkdmFuY2UoXFxcInZhclxcXCIpLHN0YXRlLnRva2Vucy5jdXJyLmZ1ZCh7cHJlZml4OiEwfSkpOlxcXCJsZXRcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWR8fFxcXCJjb25zdFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZD8oYWR2YW5jZShzdGF0ZS50b2tlbnMubmV4dC5pZCksbGV0c2NvcGU9ITAsc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLHN0YXRlLnRva2Vucy5jdXJyLmZ1ZCh7cHJlZml4OiEwfSkpOk9iamVjdC5jcmVhdGUodmFyc3RhdGVtZW50KS5mdWQoe3ByZWZpeDohMCxpbXBsaWVkOlxcXCJmb3JcXFwiLGlnbm9yZTohb2t9KSxhZHZhbmNlKG5leHRvcC52YWx1ZSksZXhwcmVzc2lvbigyMCksYWR2YW5jZShcXFwiKVxcXCIsdCksXFxcImluXFxcIj09PW5leHRvcC52YWx1ZSYmc3RhdGUub3B0aW9uLmZvcmluJiYoc3RhdGUuZm9yaW5pZmNoZWNrbmVlZGVkPSEwLHZvaWQgMD09PXN0YXRlLmZvcmluaWZjaGVja3MmJihzdGF0ZS5mb3JpbmlmY2hlY2tzPVtdKSxzdGF0ZS5mb3JpbmlmY2hlY2tzLnB1c2goe3R5cGU6XFxcIihub25lKVxcXCJ9KSksc3RhdGUuZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXSs9MSxzdGF0ZS5mdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl0rPTEscz1ibG9jayghMCwhMCksXFxcImluXFxcIj09PW5leHRvcC52YWx1ZSYmc3RhdGUub3B0aW9uLmZvcmluKXtpZihzdGF0ZS5mb3JpbmlmY2hlY2tzJiZzdGF0ZS5mb3JpbmlmY2hlY2tzLmxlbmd0aD4wKXt2YXIgY2hlY2s9c3RhdGUuZm9yaW5pZmNoZWNrcy5wb3AoKTsocyYmcy5sZW5ndGg+MCYmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygc1swXXx8XFxcImlmXFxcIiE9PXNbMF0udmFsdWUpfHxcXFwiKHBvc2l0aXZlKVxcXCI9PT1jaGVjay50eXBlJiZzLmxlbmd0aD4xfHxcXFwiKG5lZ2F0aXZlKVxcXCI9PT1jaGVjay50eXBlKSYmd2FybmluZyhcXFwiVzA4OVxcXCIsdGhpcyl9c3RhdGUuZm9yaW5pZmNoZWNrbmVlZGVkPSExfXN0YXRlLmZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0tPTEsc3RhdGUuZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdLT0xfWVsc2V7aWYoZm9yZWFjaHRvayYmZXJyb3IoXFxcIkUwNDVcXFwiLGZvcmVhY2h0b2spLFxcXCI7XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWlmKFxcXCJ2YXJcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpYWR2YW5jZShcXFwidmFyXFxcIiksc3RhdGUudG9rZW5zLmN1cnIuZnVkKCk7ZWxzZSBpZihcXFwibGV0XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKWFkdmFuY2UoXFxcImxldFxcXCIpLGxldHNjb3BlPSEwLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soKSxzdGF0ZS50b2tlbnMuY3Vyci5mdWQoKTtlbHNlIGZvcig7ZXhwcmVzc2lvbigwLFxcXCJmb3JcXFwiKSxcXFwiLFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZDspY29tbWEoKTtpZihub2xpbmVicmVhayhzdGF0ZS50b2tlbnMuY3VyciksYWR2YW5jZShcXFwiO1xcXCIpLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXSs9MSxcXFwiO1xcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmY2hlY2tDb25kQXNzaWdubWVudChleHByZXNzaW9uKDApKSxub2xpbmVicmVhayhzdGF0ZS50b2tlbnMuY3VyciksYWR2YW5jZShcXFwiO1xcXCIpLFxcXCI7XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZlcnJvcihcXFwiRTAyMVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIilcXFwiLFxcXCI7XFxcIiksXFxcIilcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpZm9yKDtleHByZXNzaW9uKDAsXFxcImZvclxcXCIpLFxcXCIsXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkOyljb21tYSgpO2FkdmFuY2UoXFxcIilcXFwiLHQpLHN0YXRlLmZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0rPTEsYmxvY2soITAsITApLHN0YXRlLmZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0tPTEsc3RhdGUuZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdLT0xfXJldHVybiBsZXRzY29wZSYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCksdGhpc30pLmxhYmVsbGVkPSEwLHN0bXQoXFxcImJyZWFrXFxcIixmdW5jdGlvbigpe3ZhciB2PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlO3JldHVybiBzdGF0ZS5vcHRpb24uYXNpfHxub2xpbmVicmVhayh0aGlzKSxcXFwiO1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8c3RhdGUudG9rZW5zLm5leHQucmVhY2h8fHN0YXRlLnRva2Vucy5jdXJyLmxpbmUhPT1zdGFydExpbmUoc3RhdGUudG9rZW5zLm5leHQpPzA9PT1zdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdJiZ3YXJuaW5nKFxcXCJXMDUyXFxcIixzdGF0ZS50b2tlbnMubmV4dCx0aGlzLnZhbHVlKTooc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5mdW5jdC5oYXNCcmVha0xhYmVsKHYpfHx3YXJuaW5nKFxcXCJXMDkwXFxcIixzdGF0ZS50b2tlbnMubmV4dCx2KSx0aGlzLmZpcnN0PXN0YXRlLnRva2Vucy5uZXh0LGFkdmFuY2UoKSkscmVhY2hhYmxlKHRoaXMpLHRoaXN9KS5leHBzPSEwLHN0bXQoXFxcImNvbnRpbnVlXFxcIixmdW5jdGlvbigpe3ZhciB2PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlO3JldHVybiAwPT09c3RhdGUuZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXSYmd2FybmluZyhcXFwiVzA1MlxcXCIsc3RhdGUudG9rZW5zLm5leHQsdGhpcy52YWx1ZSksc3RhdGUuZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdfHx3YXJuaW5nKFxcXCJXMDUyXFxcIixzdGF0ZS50b2tlbnMubmV4dCx0aGlzLnZhbHVlKSxzdGF0ZS5vcHRpb24uYXNpfHxub2xpbmVicmVhayh0aGlzKSxcXFwiO1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8c3RhdGUudG9rZW5zLm5leHQucmVhY2h8fHN0YXRlLnRva2Vucy5jdXJyLmxpbmU9PT1zdGFydExpbmUoc3RhdGUudG9rZW5zLm5leHQpJiYoc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5mdW5jdC5oYXNCcmVha0xhYmVsKHYpfHx3YXJuaW5nKFxcXCJXMDkwXFxcIixzdGF0ZS50b2tlbnMubmV4dCx2KSx0aGlzLmZpcnN0PXN0YXRlLnRva2Vucy5uZXh0LGFkdmFuY2UoKSkscmVhY2hhYmxlKHRoaXMpLHRoaXN9KS5leHBzPSEwLHN0bXQoXFxcInJldHVyblxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lPT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KT9cXFwiO1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8c3RhdGUudG9rZW5zLm5leHQucmVhY2h8fCh0aGlzLmZpcnN0PWV4cHJlc3Npb24oMCksIXRoaXMuZmlyc3R8fFxcXCIocHVuY3R1YXRvcilcXFwiIT09dGhpcy5maXJzdC50eXBlfHxcXFwiPVxcXCIhPT10aGlzLmZpcnN0LnZhbHVlfHx0aGlzLmZpcnN0LnBhcmVufHxzdGF0ZS5vcHRpb24uYm9zc3x8d2FybmluZ0F0KFxcXCJXMDkzXFxcIix0aGlzLmZpcnN0LmxpbmUsdGhpcy5maXJzdC5jaGFyYWN0ZXIpKTpcXFwiKHB1bmN0dWF0b3IpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGUmJltcXFwiW1xcXCIsXFxcIntcXFwiLFxcXCIrXFxcIixcXFwiLVxcXCJdLmluZGV4T2Yoc3RhdGUudG9rZW5zLm5leHQudmFsdWUpPi0xJiZub2xpbmVicmVhayh0aGlzKSxyZWFjaGFibGUodGhpcyksdGhpc30pLmV4cHM9ITAsZnVuY3Rpb24oeCl7eC5leHBzPSEwLHgubGJwPTI1fShwcmVmaXgoXFxcInlpZWxkXFxcIixmdW5jdGlvbigpe3ZhciBwcmV2PXN0YXRlLnRva2Vucy5wcmV2O3N0YXRlLmluRVM2KCEwKSYmIXN0YXRlLmZ1bmN0W1xcXCIoZ2VuZXJhdG9yKVxcXCJdP1xcXCIoY2F0Y2gpXFxcIj09PXN0YXRlLmZ1bmN0W1xcXCIobmFtZSlcXFwiXSYmc3RhdGUuZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdW1xcXCIoZ2VuZXJhdG9yKVxcXCJdfHxlcnJvcihcXFwiRTA0NlxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcInlpZWxkXFxcIik6c3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcInlpZWxkXFxcIixcXFwiNlxcXCIpLHN0YXRlLmZ1bmN0W1xcXCIoZ2VuZXJhdG9yKVxcXCJdPVxcXCJ5aWVsZGVkXFxcIjt2YXIgZGVsZWdhdGluZ1lpZWxkPSExO3JldHVyblxcXCIqXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoZGVsZWdhdGluZ1lpZWxkPSEwLGFkdmFuY2UoXFxcIipcXFwiKSksdGhpcy5saW5lIT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KSYmc3RhdGUuaW5Nb3ooKT9zdGF0ZS5vcHRpb24uYXNpfHxub2xpbmVicmVhayh0aGlzKTooKGRlbGVnYXRpbmdZaWVsZHx8XFxcIjtcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJiFzdGF0ZS5vcHRpb24uYXNpJiYhc3RhdGUudG9rZW5zLm5leHQucmVhY2gmJnN0YXRlLnRva2Vucy5uZXh0Lm51ZCkmJihub2JyZWFrbm9uYWRqYWNlbnQoc3RhdGUudG9rZW5zLmN1cnIsc3RhdGUudG9rZW5zLm5leHQpLHRoaXMuZmlyc3Q9ZXhwcmVzc2lvbigxMCksXFxcIihwdW5jdHVhdG9yKVxcXCIhPT10aGlzLmZpcnN0LnR5cGV8fFxcXCI9XFxcIiE9PXRoaXMuZmlyc3QudmFsdWV8fHRoaXMuZmlyc3QucGFyZW58fHN0YXRlLm9wdGlvbi5ib3NzfHx3YXJuaW5nQXQoXFxcIlcwOTNcXFwiLHRoaXMuZmlyc3QubGluZSx0aGlzLmZpcnN0LmNoYXJhY3RlcikpLHN0YXRlLmluTW96KCkmJlxcXCIpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkJiYocHJldi5sYnA+MzB8fCFwcmV2LmFzc2lnbiYmIWlzRW5kT2ZFeHByKCl8fFxcXCJ5aWVsZFxcXCI9PT1wcmV2LmlkKSYmZXJyb3IoXFxcIkUwNTBcXFwiLHRoaXMpKSx0aGlzfSkpLHN0bXQoXFxcInRocm93XFxcIixmdW5jdGlvbigpe3JldHVybiBub2xpbmVicmVhayh0aGlzKSx0aGlzLmZpcnN0PWV4cHJlc3Npb24oMjApLHJlYWNoYWJsZSh0aGlzKSx0aGlzfSkuZXhwcz0hMCxzdG10KFxcXCJpbXBvcnRcXFwiLGZ1bmN0aW9uKCl7aWYoc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImltcG9ydFxcXCIsXFxcIjZcXFwiKSxcXFwiKHN0cmluZylcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudHlwZSlyZXR1cm4gYWR2YW5jZShcXFwiKHN0cmluZylcXFwiKSx0aGlzO2lmKHN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXIpe2lmKHRoaXMubmFtZT1pZGVudGlmaWVyKCksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbCh0aGlzLm5hbWUse3R5cGU6XFxcImNvbnN0XFxcIix0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn0pLFxcXCIsXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXJldHVybiBhZHZhbmNlKFxcXCJmcm9tXFxcIiksYWR2YW5jZShcXFwiKHN0cmluZylcXFwiKSx0aGlzO2FkdmFuY2UoXFxcIixcXFwiKX1pZihcXFwiKlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClhZHZhbmNlKFxcXCIqXFxcIiksYWR2YW5jZShcXFwiYXNcXFwiKSxzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyJiYodGhpcy5uYW1lPWlkZW50aWZpZXIoKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZGxhYmVsKHRoaXMubmFtZSx7dHlwZTpcXFwiY29uc3RcXFwiLHRva2VuOnN0YXRlLnRva2Vucy5jdXJyfSkpO2Vsc2UgZm9yKGFkdmFuY2UoXFxcIntcXFwiKTs7KXtpZihcXFwifVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSl7YWR2YW5jZShcXFwifVxcXCIpO2JyZWFrfXZhciBpbXBvcnROYW1lO2lmKFxcXCJkZWZhdWx0XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGU/KGltcG9ydE5hbWU9XFxcImRlZmF1bHRcXFwiLGFkdmFuY2UoXFxcImRlZmF1bHRcXFwiKSk6aW1wb3J0TmFtZT1pZGVudGlmaWVyKCksXFxcImFzXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoYWR2YW5jZShcXFwiYXNcXFwiKSxpbXBvcnROYW1lPWlkZW50aWZpZXIoKSksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbChpbXBvcnROYW1lLHt0eXBlOlxcXCJjb25zdFxcXCIsdG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9KSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSl7aWYoXFxcIn1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUpe2FkdmFuY2UoXFxcIn1cXFwiKTticmVha31lcnJvcihcXFwiRTAyNFxcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpO2JyZWFrfWFkdmFuY2UoXFxcIixcXFwiKX1yZXR1cm4gYWR2YW5jZShcXFwiZnJvbVxcXCIpLGFkdmFuY2UoXFxcIihzdHJpbmcpXFxcIiksdGhpc30pLmV4cHM9ITAsc3RtdChcXFwiZXhwb3J0XFxcIixmdW5jdGlvbigpe3ZhciB0b2tlbixpZGVudGlmaWVyLG9rPSEwO2lmKHN0YXRlLmluRVM2KCl8fCh3YXJuaW5nKFxcXCJXMTE5XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiZXhwb3J0XFxcIixcXFwiNlxcXCIpLG9rPSExKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLmlzR2xvYmFsKCl8fChlcnJvcihcXFwiRTA1M1xcXCIsc3RhdGUudG9rZW5zLmN1cnIpLG9rPSExKSxcXFwiKlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSlyZXR1cm4gYWR2YW5jZShcXFwiKlxcXCIpLGFkdmFuY2UoXFxcImZyb21cXFwiKSxhZHZhbmNlKFxcXCIoc3RyaW5nKVxcXCIpLHRoaXM7aWYoXFxcImRlZmF1bHRcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudHlwZSl7c3RhdGUubmFtZVN0YWNrLnNldChzdGF0ZS50b2tlbnMubmV4dCksYWR2YW5jZShcXFwiZGVmYXVsdFxcXCIpO3ZhciBleHBvcnRUeXBlPXN0YXRlLnRva2Vucy5uZXh0LmlkO3JldHVybihcXFwiZnVuY3Rpb25cXFwiPT09ZXhwb3J0VHlwZXx8XFxcImNsYXNzXFxcIj09PWV4cG9ydFR5cGUpJiYodGhpcy5ibG9jaz0hMCksdG9rZW49cGVlaygpLGV4cHJlc3Npb24oMTApLGlkZW50aWZpZXI9dG9rZW4udmFsdWUsdGhpcy5ibG9jayYmKHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkbGFiZWwoaWRlbnRpZmllcix7dHlwZTpleHBvcnRUeXBlLHRva2VuOnRva2VufSksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zZXRFeHBvcnRlZChpZGVudGlmaWVyLHRva2VuKSksdGhpc31pZihcXFwie1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSl7YWR2YW5jZShcXFwie1xcXCIpO2Zvcih2YXIgZXhwb3J0ZWRUb2tlbnM9W107Oyl7aWYoc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllcnx8ZXJyb3IoXFxcIkUwMzBcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSxhZHZhbmNlKCksZXhwb3J0ZWRUb2tlbnMucHVzaChzdGF0ZS50b2tlbnMuY3VyciksXFxcImFzXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoYWR2YW5jZShcXFwiYXNcXFwiKSxzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyfHxlcnJvcihcXFwiRTAzMFxcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpLGFkdmFuY2UoKSksXFxcIixcXFwiIT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUpe2lmKFxcXCJ9XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXthZHZhbmNlKFxcXCJ9XFxcIik7YnJlYWt9ZXJyb3IoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTticmVha31hZHZhbmNlKFxcXCIsXFxcIil9cmV0dXJuXFxcImZyb21cXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWU/KGFkdmFuY2UoXFxcImZyb21cXFwiKSxhZHZhbmNlKFxcXCIoc3RyaW5nKVxcXCIpKTpvayYmZXhwb3J0ZWRUb2tlbnMuZm9yRWFjaChmdW5jdGlvbih0b2tlbil7c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zZXRFeHBvcnRlZCh0b2tlbi52YWx1ZSx0b2tlbil9KSx0aGlzfWlmKFxcXCJ2YXJcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpYWR2YW5jZShcXFwidmFyXFxcIiksc3RhdGUudG9rZW5zLmN1cnIuZnVkKHtpbmV4cG9ydDohMH0pO2Vsc2UgaWYoXFxcImxldFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClhZHZhbmNlKFxcXCJsZXRcXFwiKSxzdGF0ZS50b2tlbnMuY3Vyci5mdWQoe2luZXhwb3J0OiEwfSk7ZWxzZSBpZihcXFwiY29uc3RcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpYWR2YW5jZShcXFwiY29uc3RcXFwiKSxzdGF0ZS50b2tlbnMuY3Vyci5mdWQoe2luZXhwb3J0OiEwfSk7ZWxzZSBpZihcXFwiZnVuY3Rpb25cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpdGhpcy5ibG9jaz0hMCxhZHZhbmNlKFxcXCJmdW5jdGlvblxcXCIpLHN0YXRlLnN5bnRheFtcXFwiZnVuY3Rpb25cXFwiXS5mdWQoe2luZXhwb3J0OiEwfSk7ZWxzZSBpZihcXFwiY2xhc3NcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpe3RoaXMuYmxvY2s9ITAsYWR2YW5jZShcXFwiY2xhc3NcXFwiKTt2YXIgY2xhc3NOYW1lVG9rZW49c3RhdGUudG9rZW5zLm5leHQ7c3RhdGUuc3ludGF4W1xcXCJjbGFzc1xcXCJdLmZ1ZCgpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc2V0RXhwb3J0ZWQoY2xhc3NOYW1lVG9rZW4udmFsdWUsY2xhc3NOYW1lVG9rZW4pfWVsc2UgZXJyb3IoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTtyZXR1cm4gdGhpc30pLmV4cHM9ITAsRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJhYnN0cmFjdFxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiYm9vbGVhblxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiYnl0ZVxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiY2hhclxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiY2xhc3NcXFwiLHtlczU6ITAsbnVkOmNsYXNzZGVmfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJkb3VibGVcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImVudW1cXFwiLHtlczU6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImV4cG9ydFxcXCIse2VzNTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiZXh0ZW5kc1xcXCIse2VzNTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiZmluYWxcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImZsb2F0XFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJnb3RvXFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJpbXBsZW1lbnRzXFxcIix7ZXM1OiEwLHN0cmljdE9ubHk6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImltcG9ydFxcXCIse2VzNTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiaW50XFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJpbnRlcmZhY2VcXFwiLHtlczU6ITAsc3RyaWN0T25seTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwibG9uZ1xcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwibmF0aXZlXFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJwYWNrYWdlXFxcIix7ZXM1OiEwLHN0cmljdE9ubHk6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInByaXZhdGVcXFwiLHtlczU6ITAsc3RyaWN0T25seTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwicHJvdGVjdGVkXFxcIix7ZXM1OiEwLHN0cmljdE9ubHk6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInB1YmxpY1xcXCIse2VzNTohMCxzdHJpY3RPbmx5OiEwfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJzaG9ydFxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwic3RhdGljXFxcIix7ZXM1OiEwLHN0cmljdE9ubHk6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInN1cGVyXFxcIix7ZXM1OiEwfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJzeW5jaHJvbml6ZWRcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInRyYW5zaWVudFxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwidm9sYXRpbGVcXFwiKTt2YXIgbG9va3VwQmxvY2tUeXBlPWZ1bmN0aW9uKCl7dmFyIHBuLHBuMSxwcmV2LGk9LTEsYnJhY2tldFN0YWNrPTAscmV0PXt9O2NoZWNrUHVuY3R1YXRvcnMoc3RhdGUudG9rZW5zLmN1cnIsW1xcXCJbXFxcIixcXFwie1xcXCJdKSYmKGJyYWNrZXRTdGFjays9MSk7ZG97aWYocHJldj0tMT09PWk/c3RhdGUudG9rZW5zLmN1cnI6cG4scG49LTE9PT1pP3N0YXRlLnRva2Vucy5uZXh0OnBlZWsoaSkscG4xPXBlZWsoaSsxKSxpKz0xLGNoZWNrUHVuY3R1YXRvcnMocG4sW1xcXCJbXFxcIixcXFwie1xcXCJdKT9icmFja2V0U3RhY2srPTE6Y2hlY2tQdW5jdHVhdG9ycyhwbixbXFxcIl1cXFwiLFxcXCJ9XFxcIl0pJiYoYnJhY2tldFN0YWNrLT0xKSwxPT09YnJhY2tldFN0YWNrJiZwbi5pZGVudGlmaWVyJiZcXFwiZm9yXFxcIj09PXBuLnZhbHVlJiYhY2hlY2tQdW5jdHVhdG9yKHByZXYsXFxcIi5cXFwiKSl7cmV0LmlzQ29tcEFycmF5PSEwLHJldC5ub3RKc29uPSEwO2JyZWFrfWlmKDA9PT1icmFja2V0U3RhY2smJmNoZWNrUHVuY3R1YXRvcnMocG4sW1xcXCJ9XFxcIixcXFwiXVxcXCJdKSl7aWYoXFxcIj1cXFwiPT09cG4xLnZhbHVlKXtyZXQuaXNEZXN0QXNzaWduPSEwLHJldC5ub3RKc29uPSEwO2JyZWFrfWlmKFxcXCIuXFxcIj09PXBuMS52YWx1ZSl7cmV0Lm5vdEpzb249ITA7YnJlYWt9fWNoZWNrUHVuY3R1YXRvcihwbixcXFwiO1xcXCIpJiYocmV0LmlzQmxvY2s9ITAscmV0Lm5vdEpzb249ITApfXdoaWxlKGJyYWNrZXRTdGFjaz4wJiZcXFwiKGVuZClcXFwiIT09cG4uaWQpO3JldHVybiByZXR9LGFycmF5Q29tcHJlaGVuc2lvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlY2xhcmUodil7dmFyIGw9X2N1cnJlbnQudmFyaWFibGVzLmZpbHRlcihmdW5jdGlvbihlbHQpe3JldHVybiBlbHQudmFsdWU9PT12PyhlbHQudW5kZWY9ITEsdik6dm9pZCAwfSkubGVuZ3RoO3JldHVybiAwIT09bH1mdW5jdGlvbiB1c2Uodil7dmFyIGw9X2N1cnJlbnQudmFyaWFibGVzLmZpbHRlcihmdW5jdGlvbihlbHQpe3JldHVybiBlbHQudmFsdWUhPT12fHxlbHQudW5kZWY/dm9pZCAwOihlbHQudW51c2VkPT09ITAmJihlbHQudW51c2VkPSExKSx2KX0pLmxlbmd0aDtyZXR1cm4gMD09PWx9dmFyIF9jdXJyZW50LENvbXBBcnJheT1mdW5jdGlvbigpe3RoaXMubW9kZT1cXFwidXNlXFxcIix0aGlzLnZhcmlhYmxlcz1bXX0sX2NhcnJheXM9W107cmV0dXJue3N0YWNrOmZ1bmN0aW9uKCl7X2N1cnJlbnQ9bmV3IENvbXBBcnJheSxfY2FycmF5cy5wdXNoKF9jdXJyZW50KX0sdW5zdGFjazpmdW5jdGlvbigpe19jdXJyZW50LnZhcmlhYmxlcy5maWx0ZXIoZnVuY3Rpb24odil7di51bnVzZWQmJndhcm5pbmcoXFxcIlcwOThcXFwiLHYudG9rZW4sdi5yYXdfdGV4dHx8di52YWx1ZSksdi51bmRlZiYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5ibG9jay51c2Uodi52YWx1ZSx2LnRva2VuKX0pLF9jYXJyYXlzLnNwbGljZSgtMSwxKSxfY3VycmVudD1fY2FycmF5c1tfY2FycmF5cy5sZW5ndGgtMV19LHNldFN0YXRlOmZ1bmN0aW9uKHMpe18uY29udGFpbnMoW1xcXCJ1c2VcXFwiLFxcXCJkZWZpbmVcXFwiLFxcXCJnZW5lcmF0ZVxcXCIsXFxcImZpbHRlclxcXCJdLHMpJiYoX2N1cnJlbnQubW9kZT1zKX0sY2hlY2s6ZnVuY3Rpb24odil7cmV0dXJuIF9jdXJyZW50P19jdXJyZW50JiZcXFwidXNlXFxcIj09PV9jdXJyZW50Lm1vZGU/KHVzZSh2KSYmX2N1cnJlbnQudmFyaWFibGVzLnB1c2goe2Z1bmN0OnN0YXRlLmZ1bmN0LHRva2VuOnN0YXRlLnRva2Vucy5jdXJyLHZhbHVlOnYsdW5kZWY6ITAsdW51c2VkOiExfSksITApOl9jdXJyZW50JiZcXFwiZGVmaW5lXFxcIj09PV9jdXJyZW50Lm1vZGU/KGRlY2xhcmUodil8fF9jdXJyZW50LnZhcmlhYmxlcy5wdXNoKHtmdW5jdDpzdGF0ZS5mdW5jdCx0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycix2YWx1ZTp2LHVuZGVmOiExLHVudXNlZDohMH0pLCEwKTpfY3VycmVudCYmXFxcImdlbmVyYXRlXFxcIj09PV9jdXJyZW50Lm1vZGU/KHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2sudXNlKHYsc3RhdGUudG9rZW5zLmN1cnIpLCEwKTpfY3VycmVudCYmXFxcImZpbHRlclxcXCI9PT1fY3VycmVudC5tb2RlPyh1c2UodikmJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2sudXNlKHYsc3RhdGUudG9rZW5zLmN1cnIpLCEwKTohMTp2b2lkIDB9fX0sZXNjYXBlUmVnZXg9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoL1stXFxcXC9cXFxcXFxcXF4kKis/LigpfFtcXFxcXXt9XS9nLFxcXCJcXFxcXFxcXCQmXFxcIil9LGl0c2VsZj1mdW5jdGlvbihzLG8sZyl7ZnVuY3Rpb24gZWFjaChvYmosY2Ipe29iaiYmKEFycmF5LmlzQXJyYXkob2JqKXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmp8fChvYmo9T2JqZWN0LmtleXMob2JqKSksb2JqLmZvckVhY2goY2IpKX12YXIgaSxrLHgscmVJZ25vcmVTdHIscmVJZ25vcmUsb3B0aW9uS2V5cyxuZXdPcHRpb25PYmo9e30sbmV3SWdub3JlZE9iaj17fTtvPV8uY2xvbmUobyksc3RhdGUucmVzZXQoKSxvJiZvLnNjb3BlP0pTSElOVC5zY29wZT1vLnNjb3BlOihKU0hJTlQuZXJyb3JzPVtdLEpTSElOVC51bmRlZnM9W10sSlNISU5ULmludGVybmFscz1bXSxKU0hJTlQuYmxhY2tsaXN0PXt9LEpTSElOVC5zY29wZT1cXFwiKG1haW4pXFxcIikscHJlZGVmaW5lZD1PYmplY3QuY3JlYXRlKG51bGwpLGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmVjbWFJZGVudGlmaWVyc1szXSksY29tYmluZShwcmVkZWZpbmVkLHZhcnMucmVzZXJ2ZWRWYXJzKSxjb21iaW5lKHByZWRlZmluZWQsZ3x8e30pLGRlY2xhcmVkPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIGV4cG9ydGVkPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobylmb3IoZWFjaChvLnByZWRlZnx8bnVsbCxmdW5jdGlvbihpdGVtKXt2YXIgc2xpY2UscHJvcDtcXFwiLVxcXCI9PT1pdGVtWzBdPyhzbGljZT1pdGVtLnNsaWNlKDEpLEpTSElOVC5ibGFja2xpc3Rbc2xpY2VdPXNsaWNlLGRlbGV0ZSBwcmVkZWZpbmVkW3NsaWNlXSk6KHByb3A9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLnByZWRlZixpdGVtKSxwcmVkZWZpbmVkW2l0ZW1dPXByb3A/cHJvcC52YWx1ZTohMSl9KSxlYWNoKG8uZXhwb3J0ZWR8fG51bGwsZnVuY3Rpb24oaXRlbSl7ZXhwb3J0ZWRbaXRlbV09ITB9KSxkZWxldGUgby5wcmVkZWYsZGVsZXRlIG8uZXhwb3J0ZWQsb3B0aW9uS2V5cz1PYmplY3Qua2V5cyhvKSx4PTA7b3B0aW9uS2V5cy5sZW5ndGg+eDt4KyspaWYoL14tV1xcXFxkezN9JC9nLnRlc3Qob3B0aW9uS2V5c1t4XSkpbmV3SWdub3JlZE9ialtvcHRpb25LZXlzW3hdLnNsaWNlKDEpXT0hMDtlbHNle3ZhciBvcHRpb25LZXk9b3B0aW9uS2V5c1t4XTtuZXdPcHRpb25PYmpbb3B0aW9uS2V5XT1vW29wdGlvbktleV0sKFxcXCJlc3ZlcnNpb25cXFwiPT09b3B0aW9uS2V5JiY1PT09b1tvcHRpb25LZXldfHxcXFwiZXM1XFxcIj09PW9wdGlvbktleSYmb1tvcHRpb25LZXldKSYmd2FybmluZyhcXFwiSTAwM1xcXCIpLFxcXCJuZXdjYXBcXFwiPT09b3B0aW9uS2V5c1t4XSYmb1tvcHRpb25LZXldPT09ITEmJihuZXdPcHRpb25PYmpbXFxcIihleHBsaWNpdE5ld2NhcClcXFwiXT0hMCl9c3RhdGUub3B0aW9uPW5ld09wdGlvbk9iaixzdGF0ZS5pZ25vcmVkPW5ld0lnbm9yZWRPYmosc3RhdGUub3B0aW9uLmluZGVudD1zdGF0ZS5vcHRpb24uaW5kZW50fHw0LHN0YXRlLm9wdGlvbi5tYXhlcnI9c3RhdGUub3B0aW9uLm1heGVycnx8NTAsaW5kZW50PTE7dmFyIHNjb3BlTWFuYWdlckluc3Q9c2NvcGVNYW5hZ2VyKHN0YXRlLHByZWRlZmluZWQsZXhwb3J0ZWQsZGVjbGFyZWQpO2lmKHNjb3BlTWFuYWdlckluc3Qub24oXFxcIndhcm5pbmdcXFwiLGZ1bmN0aW9uKGV2KXt3YXJuaW5nLmFwcGx5KG51bGwsW2V2LmNvZGUsZXYudG9rZW5dLmNvbmNhdChldi5kYXRhKSl9KSxzY29wZU1hbmFnZXJJbnN0Lm9uKFxcXCJlcnJvclxcXCIsZnVuY3Rpb24oZXYpe2Vycm9yLmFwcGx5KG51bGwsW2V2LmNvZGUsZXYudG9rZW5dLmNvbmNhdChldi5kYXRhKSl9KSxzdGF0ZS5mdW5jdD1mdW5jdG9yKFxcXCIoZ2xvYmFsKVxcXCIsbnVsbCx7XFxcIihnbG9iYWwpXFxcIjohMCxcXFwiKHNjb3BlKVxcXCI6c2NvcGVNYW5hZ2VySW5zdCxcXFwiKGNvbXBhcnJheSlcXFwiOmFycmF5Q29tcHJlaGVuc2lvbigpLFxcXCIobWV0cmljcylcXFwiOmNyZWF0ZU1ldHJpY3Moc3RhdGUudG9rZW5zLm5leHQpfSksZnVuY3Rpb25zPVtzdGF0ZS5mdW5jdF0sdXJscz1bXSxzdGFjaz1udWxsLG1lbWJlcj17fSxtZW1iZXJzT25seT1udWxsLGluYmxvY2s9ITEsbG9va2FoZWFkPVtdLCFpc1N0cmluZyhzKSYmIUFycmF5LmlzQXJyYXkocykpcmV0dXJuIGVycm9yQXQoXFxcIkUwMDRcXFwiLDApLCExO2FwaT17Z2V0IGlzSlNPTigpe3JldHVybiBzdGF0ZS5qc29uTW9kZX0sZ2V0T3B0aW9uOmZ1bmN0aW9uKG5hbWUpe3JldHVybiBzdGF0ZS5vcHRpb25bbmFtZV18fG51bGx9LGdldENhY2hlOmZ1bmN0aW9uKG5hbWUpe3JldHVybiBzdGF0ZS5jYWNoZVtuYW1lXX0sc2V0Q2FjaGU6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7c3RhdGUuY2FjaGVbbmFtZV09dmFsdWV9LHdhcm46ZnVuY3Rpb24oY29kZSxkYXRhKXt3YXJuaW5nQXQuYXBwbHkobnVsbCxbY29kZSxkYXRhLmxpbmUsZGF0YS5jaGFyXS5jb25jYXQoZGF0YS5kYXRhKSl9LG9uOmZ1bmN0aW9uKG5hbWVzLGxpc3RlbmVyKXtuYW1lcy5zcGxpdChcXFwiIFxcXCIpLmZvckVhY2goZnVuY3Rpb24obmFtZSl7ZW1pdHRlci5vbihuYW1lLGxpc3RlbmVyKX0uYmluZCh0aGlzKSl9fSxlbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpLChleHRyYU1vZHVsZXN8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGZ1bmMpe2Z1bmMoYXBpKX0pLHN0YXRlLnRva2Vucy5wcmV2PXN0YXRlLnRva2Vucy5jdXJyPXN0YXRlLnRva2Vucy5uZXh0PXN0YXRlLnN5bnRheFtcXFwiKGJlZ2luKVxcXCJdLG8mJm8uaWdub3JlRGVsaW1pdGVycyYmKEFycmF5LmlzQXJyYXkoby5pZ25vcmVEZWxpbWl0ZXJzKXx8KG8uaWdub3JlRGVsaW1pdGVycz1bby5pZ25vcmVEZWxpbWl0ZXJzXSksby5pZ25vcmVEZWxpbWl0ZXJzLmZvckVhY2goZnVuY3Rpb24oZGVsaW1pdGVyUGFpcil7ZGVsaW1pdGVyUGFpci5zdGFydCYmZGVsaW1pdGVyUGFpci5lbmQmJihyZUlnbm9yZVN0cj1lc2NhcGVSZWdleChkZWxpbWl0ZXJQYWlyLnN0YXJ0KStcXFwiW1xcXFxcXFxcc1xcXFxcXFxcU10qP1xcXCIrZXNjYXBlUmVnZXgoZGVsaW1pdGVyUGFpci5lbmQpLHJlSWdub3JlPVJlZ0V4cChyZUlnbm9yZVN0cixcXFwiaWdcXFwiKSxzPXMucmVwbGFjZShyZUlnbm9yZSxmdW5jdGlvbihtYXRjaCl7cmV0dXJuIG1hdGNoLnJlcGxhY2UoLy4vZyxcXFwiIFxcXCIpfSkpfSkpLGxleD1uZXcgTGV4ZXIocyksbGV4Lm9uKFxcXCJ3YXJuaW5nXFxcIixmdW5jdGlvbihldil7d2FybmluZ0F0LmFwcGx5KG51bGwsW2V2LmNvZGUsZXYubGluZSxldi5jaGFyYWN0ZXJdLmNvbmNhdChldi5kYXRhKSl9KSxsZXgub24oXFxcImVycm9yXFxcIixmdW5jdGlvbihldil7ZXJyb3JBdC5hcHBseShudWxsLFtldi5jb2RlLGV2LmxpbmUsZXYuY2hhcmFjdGVyXS5jb25jYXQoZXYuZGF0YSkpfSksbGV4Lm9uKFxcXCJmYXRhbFxcXCIsZnVuY3Rpb24oZXYpe3F1aXQoXFxcIkUwNDFcXFwiLGV2LmxpbmUsZXYuZnJvbSl9KSxsZXgub24oXFxcIklkZW50aWZpZXJcXFwiLGZ1bmN0aW9uKGV2KXtlbWl0dGVyLmVtaXQoXFxcIklkZW50aWZpZXJcXFwiLGV2KX0pLGxleC5vbihcXFwiU3RyaW5nXFxcIixmdW5jdGlvbihldil7ZW1pdHRlci5lbWl0KFxcXCJTdHJpbmdcXFwiLGV2KX0pLGxleC5vbihcXFwiTnVtYmVyXFxcIixmdW5jdGlvbihldil7ZW1pdHRlci5lbWl0KFxcXCJOdW1iZXJcXFwiLGV2KX0pLGxleC5zdGFydCgpO2Zvcih2YXIgbmFtZSBpbiBvKV8uaGFzKG8sbmFtZSkmJmNoZWNrT3B0aW9uKG5hbWUsc3RhdGUudG9rZW5zLmN1cnIpO2Fzc3VtZSgpLGNvbWJpbmUocHJlZGVmaW5lZCxnfHx7fSksY29tbWEuZmlyc3Q9ITA7dHJ5e3N3aXRjaChhZHZhbmNlKCksc3RhdGUudG9rZW5zLm5leHQuaWQpe2Nhc2VcXFwie1xcXCI6Y2FzZVxcXCJbXFxcIjpkZXN0cnVjdHVyaW5nQXNzaWduT3JKc29uVmFsdWUoKTticmVhaztkZWZhdWx0OmRpcmVjdGl2ZXMoKSxzdGF0ZS5kaXJlY3RpdmVbXFxcInVzZSBzdHJpY3RcXFwiXSYmXFxcImdsb2JhbFxcXCIhPT1zdGF0ZS5vcHRpb24uc3RyaWN0JiZ3YXJuaW5nKFxcXCJXMDk3XFxcIixzdGF0ZS50b2tlbnMucHJldiksc3RhdGVtZW50cygpfVxcXCIoZW5kKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmcXVpdChcXFwiRTA0MVxcXCIsc3RhdGUudG9rZW5zLmN1cnIubGluZSksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCl9Y2F0Y2goZXJyKXtpZighZXJyfHxcXFwiSlNIaW50RXJyb3JcXFwiIT09ZXJyLm5hbWUpdGhyb3cgZXJyO3ZhciBudD1zdGF0ZS50b2tlbnMubmV4dHx8e307SlNISU5ULmVycm9ycy5wdXNoKHtzY29wZTpcXFwiKG1haW4pXFxcIixyYXc6ZXJyLnJhdyxjb2RlOmVyci5jb2RlLHJlYXNvbjplcnIubWVzc2FnZSxsaW5lOmVyci5saW5lfHxudC5saW5lLGNoYXJhY3RlcjplcnIuY2hhcmFjdGVyfHxudC5mcm9tfSxudWxsKX1pZihcXFwiKG1haW4pXFxcIj09PUpTSElOVC5zY29wZSlmb3Iobz1vfHx7fSxpPTA7SlNISU5ULmludGVybmFscy5sZW5ndGg+aTtpKz0xKWs9SlNISU5ULmludGVybmFsc1tpXSxvLnNjb3BlPWsuZWxlbSxpdHNlbGYoay52YWx1ZSxvLGcpO3JldHVybiAwPT09SlNISU5ULmVycm9ycy5sZW5ndGh9O3JldHVybiBpdHNlbGYuYWRkTW9kdWxlPWZ1bmN0aW9uKGZ1bmMpe2V4dHJhTW9kdWxlcy5wdXNoKGZ1bmMpfSxpdHNlbGYuYWRkTW9kdWxlKHN0eWxlLnJlZ2lzdGVyKSxpdHNlbGYuZGF0YT1mdW5jdGlvbigpe3ZhciBmdSxmLGksaixuLGdsb2JhbHMsZGF0YT17ZnVuY3Rpb25zOltdLG9wdGlvbnM6c3RhdGUub3B0aW9ufTtpdHNlbGYuZXJyb3JzLmxlbmd0aCYmKGRhdGEuZXJyb3JzPWl0c2VsZi5lcnJvcnMpLHN0YXRlLmpzb25Nb2RlJiYoZGF0YS5qc29uPSEwKTt2YXIgaW1wbGllZEdsb2JhbHM9c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5nZXRJbXBsaWVkR2xvYmFscygpO2ZvcihpbXBsaWVkR2xvYmFscy5sZW5ndGg+MCYmKGRhdGEuaW1wbGllZHM9aW1wbGllZEdsb2JhbHMpLHVybHMubGVuZ3RoPjAmJihkYXRhLnVybHM9dXJscyksZ2xvYmFscz1zdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmdldFVzZWRPckRlZmluZWRHbG9iYWxzKCksZ2xvYmFscy5sZW5ndGg+MCYmKGRhdGEuZ2xvYmFscz1nbG9iYWxzKSxpPTE7ZnVuY3Rpb25zLmxlbmd0aD5pO2krPTEpe2ZvcihmPWZ1bmN0aW9uc1tpXSxmdT17fSxqPTA7ZnVuY3Rpb25pY2l0eS5sZW5ndGg+ajtqKz0xKWZ1W2Z1bmN0aW9uaWNpdHlbal1dPVtdO2ZvcihqPTA7ZnVuY3Rpb25pY2l0eS5sZW5ndGg+ajtqKz0xKTA9PT1mdVtmdW5jdGlvbmljaXR5W2pdXS5sZW5ndGgmJmRlbGV0ZSBmdVtmdW5jdGlvbmljaXR5W2pdXTtmdS5uYW1lPWZbXFxcIihuYW1lKVxcXCJdLGZ1LnBhcmFtPWZbXFxcIihwYXJhbXMpXFxcIl0sZnUubGluZT1mW1xcXCIobGluZSlcXFwiXSxmdS5jaGFyYWN0ZXI9ZltcXFwiKGNoYXJhY3RlcilcXFwiXSxmdS5sYXN0PWZbXFxcIihsYXN0KVxcXCJdLGZ1Lmxhc3RjaGFyYWN0ZXI9ZltcXFwiKGxhc3RjaGFyYWN0ZXIpXFxcIl0sZnUubWV0cmljcz17Y29tcGxleGl0eTpmW1xcXCIobWV0cmljcylcXFwiXS5Db21wbGV4aXR5Q291bnQscGFyYW1ldGVyczpmW1xcXCIobWV0cmljcylcXFwiXS5hcml0eSxzdGF0ZW1lbnRzOmZbXFxcIihtZXRyaWNzKVxcXCJdLnN0YXRlbWVudENvdW50fSxkYXRhLmZ1bmN0aW9ucy5wdXNoKGZ1KX12YXIgdW51c2Vkcz1zdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmdldFVudXNlZHMoKTt1bnVzZWRzLmxlbmd0aD4wJiYoZGF0YS51bnVzZWQ9dW51c2Vkcyk7Zm9yKG4gaW4gbWVtYmVyKWlmKFxcXCJudW1iZXJcXFwiPT10eXBlb2YgbWVtYmVyW25dKXtkYXRhLm1lbWJlcj1tZW1iZXI7YnJlYWt9cmV0dXJuIGRhdGF9LGl0c2VsZi5qc2hpbnQ9aXRzZWxmLGl0c2VsZn0oKTtcXFwib2JqZWN0XFxcIj09dHlwZW9mIGV4cG9ydHMmJmV4cG9ydHMmJihleHBvcnRzLkpTSElOVD1KU0hJTlQpfSx7XFxcIi4uL2xvZGFzaFxcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L2xvZGFzaC5qc1xcXCIsXFxcIi4vbGV4LmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL2xleC5qc1xcXCIsXFxcIi4vbWVzc2FnZXMuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvbWVzc2FnZXMuanNcXFwiLFxcXCIuL29wdGlvbnMuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvb3B0aW9ucy5qc1xcXCIsXFxcIi4vcmVnLmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL3JlZy5qc1xcXCIsXFxcIi4vc2NvcGUtbWFuYWdlci5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9zY29wZS1tYW5hZ2VyLmpzXFxcIixcXFwiLi9zdGF0ZS5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9zdGF0ZS5qc1xcXCIsXFxcIi4vc3R5bGUuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvc3R5bGUuanNcXFwiLFxcXCIuL3ZhcnMuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvdmFycy5qc1xcXCIsZXZlbnRzOlxcXCIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanNcXFwifV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9sZXguanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYXN5bmNUcmlnZ2VyKCl7dmFyIF9jaGVja3M9W107cmV0dXJue3B1c2g6ZnVuY3Rpb24oZm4pe19jaGVja3MucHVzaChmbil9LGNoZWNrOmZ1bmN0aW9uKCl7Zm9yKHZhciBjaGVjaz0wO19jaGVja3MubGVuZ3RoPmNoZWNrOysrY2hlY2spX2NoZWNrc1tjaGVja10oKTtfY2hlY2tzLnNwbGljZSgwLF9jaGVja3MubGVuZ3RoKX19fWZ1bmN0aW9uIExleGVyKHNvdXJjZSl7dmFyIGxpbmVzPXNvdXJjZTtcXFwic3RyaW5nXFxcIj09dHlwZW9mIGxpbmVzJiYobGluZXM9bGluZXMucmVwbGFjZSgvXFxcXHJcXFxcbi9nLFxcXCJcXFxcblxcXCIpLnJlcGxhY2UoL1xcXFxyL2csXFxcIlxcXFxuXFxcIikuc3BsaXQoXFxcIlxcXFxuXFxcIikpLGxpbmVzWzBdJiZcXFwiIyFcXFwiPT09bGluZXNbMF0uc3Vic3RyKDAsMikmJigtMSE9PWxpbmVzWzBdLmluZGV4T2YoXFxcIm5vZGVcXFwiKSYmKHN0YXRlLm9wdGlvbi5ub2RlPSEwKSxsaW5lc1swXT1cXFwiXFxcIiksdGhpcy5lbWl0dGVyPW5ldyBldmVudHMuRXZlbnRFbWl0dGVyLHRoaXMuc291cmNlPXNvdXJjZSx0aGlzLnNldExpbmVzKGxpbmVzKSx0aGlzLnByZXJlZz0hMCx0aGlzLmxpbmU9MCx0aGlzLmNoYXI9MSx0aGlzLmZyb209MSx0aGlzLmlucHV0PVxcXCJcXFwiLHRoaXMuaW5Db21tZW50PSExLHRoaXMuY29udGV4dD1bXSx0aGlzLnRlbXBsYXRlU3RhcnRzPVtdO2Zvcih2YXIgaT0wO3N0YXRlLm9wdGlvbi5pbmRlbnQ+aTtpKz0xKXN0YXRlLnRhYis9XFxcIiBcXFwiO3RoaXMuaWdub3JlTGludGVyRXJyb3JzPSExfXZhciBfPV9kZXJlcV8oXFxcIi4uL2xvZGFzaFxcXCIpLGV2ZW50cz1fZGVyZXFfKFxcXCJldmVudHNcXFwiKSxyZWc9X2RlcmVxXyhcXFwiLi9yZWcuanNcXFwiKSxzdGF0ZT1fZGVyZXFfKFxcXCIuL3N0YXRlLmpzXFxcIikuc3RhdGUsdW5pY29kZURhdGE9X2RlcmVxXyhcXFwiLi4vZGF0YS9hc2NpaS1pZGVudGlmaWVyLWRhdGEuanNcXFwiKSxhc2NpaUlkZW50aWZpZXJTdGFydFRhYmxlPXVuaWNvZGVEYXRhLmFzY2lpSWRlbnRpZmllclN0YXJ0VGFibGUsYXNjaWlJZGVudGlmaWVyUGFydFRhYmxlPXVuaWNvZGVEYXRhLmFzY2lpSWRlbnRpZmllclBhcnRUYWJsZSxUb2tlbj17SWRlbnRpZmllcjoxLFB1bmN0dWF0b3I6MixOdW1lcmljTGl0ZXJhbDozLFN0cmluZ0xpdGVyYWw6NCxDb21tZW50OjUsS2V5d29yZDo2LE51bGxMaXRlcmFsOjcsQm9vbGVhbkxpdGVyYWw6OCxSZWdFeHA6OSxUZW1wbGF0ZUhlYWQ6MTAsVGVtcGxhdGVNaWRkbGU6MTEsVGVtcGxhdGVUYWlsOjEyLE5vU3Vic3RUZW1wbGF0ZToxM30sQ29udGV4dD17QmxvY2s6MSxUZW1wbGF0ZToyfTtMZXhlci5wcm90b3R5cGU9e19saW5lczpbXSxpbkNvbnRleHQ6ZnVuY3Rpb24oY3R4VHlwZSl7cmV0dXJuIHRoaXMuY29udGV4dC5sZW5ndGg+MCYmdGhpcy5jb250ZXh0W3RoaXMuY29udGV4dC5sZW5ndGgtMV0udHlwZT09PWN0eFR5cGV9LHB1c2hDb250ZXh0OmZ1bmN0aW9uKGN0eFR5cGUpe3RoaXMuY29udGV4dC5wdXNoKHt0eXBlOmN0eFR5cGV9KX0scG9wQ29udGV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQucG9wKCl9LGlzQ29udGV4dDpmdW5jdGlvbihjb250ZXh0KXtyZXR1cm4gdGhpcy5jb250ZXh0Lmxlbmd0aD4wJiZ0aGlzLmNvbnRleHRbdGhpcy5jb250ZXh0Lmxlbmd0aC0xXT09PWNvbnRleHR9LGN1cnJlbnRDb250ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5sZW5ndGg+MCYmdGhpcy5jb250ZXh0W3RoaXMuY29udGV4dC5sZW5ndGgtMV19LGdldExpbmVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmVzPXN0YXRlLmxpbmVzLHRoaXMuX2xpbmVzfSxzZXRMaW5lczpmdW5jdGlvbih2YWwpe3RoaXMuX2xpbmVzPXZhbCxzdGF0ZS5saW5lcz10aGlzLl9saW5lc30scGVlazpmdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5pbnB1dC5jaGFyQXQoaXx8MCl9LHNraXA6ZnVuY3Rpb24oaSl7aT1pfHwxLHRoaXMuY2hhcis9aSx0aGlzLmlucHV0PXRoaXMuaW5wdXQuc2xpY2UoaSl9LG9uOmZ1bmN0aW9uKG5hbWVzLGxpc3RlbmVyKXtuYW1lcy5zcGxpdChcXFwiIFxcXCIpLmZvckVhY2goZnVuY3Rpb24obmFtZSl7dGhpcy5lbWl0dGVyLm9uKG5hbWUsbGlzdGVuZXIpfS5iaW5kKHRoaXMpKX0sdHJpZ2dlcjpmdW5jdGlvbigpe3RoaXMuZW1pdHRlci5lbWl0LmFwcGx5KHRoaXMuZW1pdHRlcixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX0sdHJpZ2dlckFzeW5jOmZ1bmN0aW9uKHR5cGUsYXJncyxjaGVja3MsZm4pe2NoZWNrcy5wdXNoKGZ1bmN0aW9uKCl7Zm4oKSYmdGhpcy50cmlnZ2VyKHR5cGUsYXJncyl9LmJpbmQodGhpcykpfSxzY2FuUHVuY3R1YXRvcjpmdW5jdGlvbigpe3ZhciBjaDIsY2gzLGNoNCxjaDE9dGhpcy5wZWVrKCk7c3dpdGNoKGNoMSl7Y2FzZVxcXCIuXFxcIjppZigvXlswLTldJC8udGVzdCh0aGlzLnBlZWsoMSkpKXJldHVybiBudWxsO2lmKFxcXCIuXFxcIj09PXRoaXMucGVlaygxKSYmXFxcIi5cXFwiPT09dGhpcy5wZWVrKDIpKXJldHVybnt0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIi4uLlxcXCJ9O2Nhc2VcXFwiKFxcXCI6Y2FzZVxcXCIpXFxcIjpjYXNlXFxcIjtcXFwiOmNhc2VcXFwiLFxcXCI6Y2FzZVxcXCJbXFxcIjpjYXNlXFxcIl1cXFwiOmNhc2VcXFwiOlxcXCI6Y2FzZVxcXCJ+XFxcIjpjYXNlXFxcIj9cXFwiOnJldHVybnt0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6Y2gxfTtjYXNlXFxcIntcXFwiOnJldHVybiB0aGlzLnB1c2hDb250ZXh0KENvbnRleHQuQmxvY2spLHt0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6Y2gxfTtjYXNlXFxcIn1cXFwiOnJldHVybiB0aGlzLmluQ29udGV4dChDb250ZXh0LkJsb2NrKSYmdGhpcy5wb3BDb250ZXh0KCkse3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpjaDF9O2Nhc2VcXFwiI1xcXCI6cmV0dXJue3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpjaDF9O2Nhc2VcXFwiXFxcIjpyZXR1cm4gbnVsbH1yZXR1cm4gY2gyPXRoaXMucGVlaygxKSxjaDM9dGhpcy5wZWVrKDIpLGNoND10aGlzLnBlZWsoMyksXFxcIj5cXFwiPT09Y2gxJiZcXFwiPlxcXCI9PT1jaDImJlxcXCI+XFxcIj09PWNoMyYmXFxcIj1cXFwiPT09Y2g0P3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIj4+Pj1cXFwifTpcXFwiPVxcXCI9PT1jaDEmJlxcXCI9XFxcIj09PWNoMiYmXFxcIj1cXFwiPT09Y2gzP3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIj09PVxcXCJ9OlxcXCIhXFxcIj09PWNoMSYmXFxcIj1cXFwiPT09Y2gyJiZcXFwiPVxcXCI9PT1jaDM/e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpcXFwiIT09XFxcIn06XFxcIj5cXFwiPT09Y2gxJiZcXFwiPlxcXCI9PT1jaDImJlxcXCI+XFxcIj09PWNoMz97dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOlxcXCI+Pj5cXFwifTpcXFwiPFxcXCI9PT1jaDEmJlxcXCI8XFxcIj09PWNoMiYmXFxcIj1cXFwiPT09Y2gzP3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIjw8PVxcXCJ9OlxcXCI+XFxcIj09PWNoMSYmXFxcIj5cXFwiPT09Y2gyJiZcXFwiPVxcXCI9PT1jaDM/e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpcXFwiPj49XFxcIn06XFxcIj1cXFwiPT09Y2gxJiZcXFwiPlxcXCI9PT1jaDI/e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpjaDErY2gyfTpjaDE9PT1jaDImJlxcXCIrLTw+JnxcXFwiLmluZGV4T2YoY2gxKT49MD97dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOmNoMStjaDJ9OlxcXCI8Pj0hKy0qJSZ8XlxcXCIuaW5kZXhPZihjaDEpPj0wP1xcXCI9XFxcIj09PWNoMj97dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOmNoMStjaDJ9Ont0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6Y2gxfTpcXFwiL1xcXCI9PT1jaDE/XFxcIj1cXFwiPT09Y2gyP3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIi89XFxcIn06e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpcXFwiL1xcXCJ9Om51bGx9LHNjYW5Db21tZW50czpmdW5jdGlvbigpe2Z1bmN0aW9uIGNvbW1lbnRUb2tlbihsYWJlbCxib2R5LG9wdCl7dmFyIHNwZWNpYWw9W1xcXCJqc2hpbnRcXFwiLFxcXCJqc2xpbnRcXFwiLFxcXCJtZW1iZXJzXFxcIixcXFwibWVtYmVyXFxcIixcXFwiZ2xvYmFsc1xcXCIsXFxcImdsb2JhbFxcXCIsXFxcImV4cG9ydGVkXFxcIl0saXNTcGVjaWFsPSExLHZhbHVlPWxhYmVsK2JvZHksY29tbWVudFR5cGU9XFxcInBsYWluXFxcIjtyZXR1cm4gb3B0PW9wdHx8e30sb3B0LmlzTXVsdGlsaW5lJiYodmFsdWUrPVxcXCIqL1xcXCIpLGJvZHk9Ym9keS5yZXBsYWNlKC9cXFxcbi9nLFxcXCIgXFxcIiksXFxcIi8qXFxcIj09PWxhYmVsJiZyZWcuZmFsbHNUaHJvdWdoLnRlc3QoYm9keSkmJihpc1NwZWNpYWw9ITAsY29tbWVudFR5cGU9XFxcImZhbGxzIHRocm91Z2hcXFwiKSxzcGVjaWFsLmZvckVhY2goZnVuY3Rpb24oc3RyKXtpZighaXNTcGVjaWFsJiYoXFxcIi8vXFxcIiE9PWxhYmVsfHxcXFwianNoaW50XFxcIj09PXN0cikmJihcXFwiIFxcXCI9PT1ib2R5LmNoYXJBdChzdHIubGVuZ3RoKSYmYm9keS5zdWJzdHIoMCxzdHIubGVuZ3RoKT09PXN0ciYmKGlzU3BlY2lhbD0hMCxsYWJlbCs9c3RyLGJvZHk9Ym9keS5zdWJzdHIoc3RyLmxlbmd0aCkpLGlzU3BlY2lhbHx8XFxcIiBcXFwiIT09Ym9keS5jaGFyQXQoMCl8fFxcXCIgXFxcIiE9PWJvZHkuY2hhckF0KHN0ci5sZW5ndGgrMSl8fGJvZHkuc3Vic3RyKDEsc3RyLmxlbmd0aCkhPT1zdHJ8fChpc1NwZWNpYWw9ITAsbGFiZWw9bGFiZWwrXFxcIiBcXFwiK3N0cixib2R5PWJvZHkuc3Vic3RyKHN0ci5sZW5ndGgrMSkpLGlzU3BlY2lhbCkpc3dpdGNoKHN0cil7Y2FzZVxcXCJtZW1iZXJcXFwiOmNvbW1lbnRUeXBlPVxcXCJtZW1iZXJzXFxcIjticmVhaztjYXNlXFxcImdsb2JhbFxcXCI6Y29tbWVudFR5cGU9XFxcImdsb2JhbHNcXFwiO2JyZWFrO2RlZmF1bHQ6dmFyIG9wdGlvbnM9Ym9keS5zcGxpdChcXFwiOlxcXCIpLm1hcChmdW5jdGlvbih2KXtyZXR1cm4gdi5yZXBsYWNlKC9eXFxcXHMrLyxcXFwiXFxcIikucmVwbGFjZSgvXFxcXHMrJC8sXFxcIlxcXCIpfSk7aWYoMj09PW9wdGlvbnMubGVuZ3RoKXN3aXRjaChvcHRpb25zWzBdKXtjYXNlXFxcImlnbm9yZVxcXCI6c3dpdGNoKG9wdGlvbnNbMV0pe2Nhc2VcXFwic3RhcnRcXFwiOnNlbGYuaWdub3JpbmdMaW50ZXJFcnJvcnM9ITAsaXNTcGVjaWFsPSExO2JyZWFrO2Nhc2VcXFwiZW5kXFxcIjpzZWxmLmlnbm9yaW5nTGludGVyRXJyb3JzPSExLGlzU3BlY2lhbD0hMX19Y29tbWVudFR5cGU9c3RyfX0pLHt0eXBlOlRva2VuLkNvbW1lbnQsY29tbWVudFR5cGU6Y29tbWVudFR5cGUsdmFsdWU6dmFsdWUsYm9keTpib2R5LGlzU3BlY2lhbDppc1NwZWNpYWwsaXNNdWx0aWxpbmU6b3B0LmlzTXVsdGlsaW5lfHwhMSxpc01hbGZvcm1lZDpvcHQuaXNNYWxmb3JtZWR8fCExfX12YXIgY2gxPXRoaXMucGVlaygpLGNoMj10aGlzLnBlZWsoMSkscmVzdD10aGlzLmlucHV0LnN1YnN0cigyKSxzdGFydExpbmU9dGhpcy5saW5lLHN0YXJ0Q2hhcj10aGlzLmNoYXIsc2VsZj10aGlzO2lmKFxcXCIqXFxcIj09PWNoMSYmXFxcIi9cXFwiPT09Y2gyKXJldHVybiB0aGlzLnRyaWdnZXIoXFxcImVycm9yXFxcIix7Y29kZTpcXFwiRTAxOFxcXCIsbGluZTpzdGFydExpbmUsY2hhcmFjdGVyOnN0YXJ0Q2hhcn0pLHRoaXMuc2tpcCgyKSxudWxsO2lmKFxcXCIvXFxcIiE9PWNoMXx8XFxcIipcXFwiIT09Y2gyJiZcXFwiL1xcXCIhPT1jaDIpcmV0dXJuIG51bGw7aWYoXFxcIi9cXFwiPT09Y2gyKXJldHVybiB0aGlzLnNraXAodGhpcy5pbnB1dC5sZW5ndGgpLGNvbW1lbnRUb2tlbihcXFwiLy9cXFwiLHJlc3QpO3ZhciBib2R5PVxcXCJcXFwiO2lmKFxcXCIqXFxcIj09PWNoMil7Zm9yKHRoaXMuaW5Db21tZW50PSEwLHRoaXMuc2tpcCgyKTtcXFwiKlxcXCIhPT10aGlzLnBlZWsoKXx8XFxcIi9cXFwiIT09dGhpcy5wZWVrKDEpOylpZihcXFwiXFxcIj09PXRoaXMucGVlaygpKXtpZihib2R5Kz1cXFwiXFxcXG5cXFwiLCF0aGlzLm5leHRMaW5lKCkpcmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiZXJyb3JcXFwiLHtjb2RlOlxcXCJFMDE3XFxcIixsaW5lOnN0YXJ0TGluZSxjaGFyYWN0ZXI6c3RhcnRDaGFyfSksdGhpcy5pbkNvbW1lbnQ9ITEsY29tbWVudFRva2VuKFxcXCIvKlxcXCIsYm9keSx7aXNNdWx0aWxpbmU6ITAsaXNNYWxmb3JtZWQ6ITB9KX1lbHNlIGJvZHkrPXRoaXMucGVlaygpLHRoaXMuc2tpcCgpO3JldHVybiB0aGlzLnNraXAoMiksdGhpcy5pbkNvbW1lbnQ9ITEsY29tbWVudFRva2VuKFxcXCIvKlxcXCIsYm9keSx7aXNNdWx0aWxpbmU6ITB9KX19LHNjYW5LZXl3b3JkOmZ1bmN0aW9uKCl7dmFyIHJlc3VsdD0vXlthLXpBLVpfJF1bYS16QS1aMC05XyRdKi8uZXhlYyh0aGlzLmlucHV0KSxrZXl3b3Jkcz1bXFxcImlmXFxcIixcXFwiaW5cXFwiLFxcXCJkb1xcXCIsXFxcInZhclxcXCIsXFxcImZvclxcXCIsXFxcIm5ld1xcXCIsXFxcInRyeVxcXCIsXFxcImxldFxcXCIsXFxcInRoaXNcXFwiLFxcXCJlbHNlXFxcIixcXFwiY2FzZVxcXCIsXFxcInZvaWRcXFwiLFxcXCJ3aXRoXFxcIixcXFwiZW51bVxcXCIsXFxcIndoaWxlXFxcIixcXFwiYnJlYWtcXFwiLFxcXCJjYXRjaFxcXCIsXFxcInRocm93XFxcIixcXFwiY29uc3RcXFwiLFxcXCJ5aWVsZFxcXCIsXFxcImNsYXNzXFxcIixcXFwic3VwZXJcXFwiLFxcXCJyZXR1cm5cXFwiLFxcXCJ0eXBlb2ZcXFwiLFxcXCJkZWxldGVcXFwiLFxcXCJzd2l0Y2hcXFwiLFxcXCJleHBvcnRcXFwiLFxcXCJpbXBvcnRcXFwiLFxcXCJkZWZhdWx0XFxcIixcXFwiZmluYWxseVxcXCIsXFxcImV4dGVuZHNcXFwiLFxcXCJmdW5jdGlvblxcXCIsXFxcImNvbnRpbnVlXFxcIixcXFwiZGVidWdnZXJcXFwiLFxcXCJpbnN0YW5jZW9mXFxcIl07cmV0dXJuIHJlc3VsdCYma2V5d29yZHMuaW5kZXhPZihyZXN1bHRbMF0pPj0wP3t0eXBlOlRva2VuLktleXdvcmQsdmFsdWU6cmVzdWx0WzBdfTpudWxsfSxzY2FuSWRlbnRpZmllcjpmdW5jdGlvbigpe2Z1bmN0aW9uIGlzTm9uQXNjaWlJZGVudGlmaWVyU3RhcnQoY29kZSl7cmV0dXJuIGNvZGU+MjU2fWZ1bmN0aW9uIGlzTm9uQXNjaWlJZGVudGlmaWVyUGFydChjb2RlKXtyZXR1cm4gY29kZT4yNTZ9ZnVuY3Rpb24gaXNIZXhEaWdpdChzdHIpe3JldHVybi9eWzAtOWEtZkEtRl0kLy50ZXN0KHN0cil9ZnVuY3Rpb24gcmVtb3ZlRXNjYXBlU2VxdWVuY2VzKGlkKXtyZXR1cm4gaWQucmVwbGFjZSgvXFxcXFxcXFx1KFswLTlhLWZBLUZdezR9KS9nLGZ1bmN0aW9uKG0wLGNvZGVwb2ludCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoY29kZXBvaW50LDE2KSl9KX12YXIgdHlwZSxjaGFyLGlkPVxcXCJcXFwiLGluZGV4PTAscmVhZFVuaWNvZGVFc2NhcGVTZXF1ZW5jZT1mdW5jdGlvbigpe2lmKGluZGV4Kz0xLFxcXCJ1XFxcIiE9PXRoaXMucGVlayhpbmRleCkpcmV0dXJuIG51bGw7dmFyIGNvZGUsY2gxPXRoaXMucGVlayhpbmRleCsxKSxjaDI9dGhpcy5wZWVrKGluZGV4KzIpLGNoMz10aGlzLnBlZWsoaW5kZXgrMyksY2g0PXRoaXMucGVlayhpbmRleCs0KTtyZXR1cm4gaXNIZXhEaWdpdChjaDEpJiZpc0hleERpZ2l0KGNoMikmJmlzSGV4RGlnaXQoY2gzKSYmaXNIZXhEaWdpdChjaDQpPyhjb2RlPXBhcnNlSW50KGNoMStjaDIrY2gzK2NoNCwxNiksYXNjaWlJZGVudGlmaWVyUGFydFRhYmxlW2NvZGVdfHxpc05vbkFzY2lpSWRlbnRpZmllclBhcnQoY29kZSk/KGluZGV4Kz01LFxcXCJcXFxcXFxcXHVcXFwiK2NoMStjaDIrY2gzK2NoNCk6bnVsbCk6bnVsbH0uYmluZCh0aGlzKSxnZXRJZGVudGlmaWVyU3RhcnQ9ZnVuY3Rpb24oKXt2YXIgY2hyPXRoaXMucGVlayhpbmRleCksY29kZT1jaHIuY2hhckNvZGVBdCgwKTtyZXR1cm4gOTI9PT1jb2RlP3JlYWRVbmljb2RlRXNjYXBlU2VxdWVuY2UoKToxMjg+Y29kZT9hc2NpaUlkZW50aWZpZXJTdGFydFRhYmxlW2NvZGVdPyhpbmRleCs9MSxjaHIpOm51bGw6aXNOb25Bc2NpaUlkZW50aWZpZXJTdGFydChjb2RlKT8oaW5kZXgrPTEsY2hyKTpudWxsfS5iaW5kKHRoaXMpLGdldElkZW50aWZpZXJQYXJ0PWZ1bmN0aW9uKCl7dmFyIGNocj10aGlzLnBlZWsoaW5kZXgpLGNvZGU9Y2hyLmNoYXJDb2RlQXQoMCk7cmV0dXJuIDkyPT09Y29kZT9yZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKCk6MTI4PmNvZGU/YXNjaWlJZGVudGlmaWVyUGFydFRhYmxlW2NvZGVdPyhpbmRleCs9MSxjaHIpOm51bGw6aXNOb25Bc2NpaUlkZW50aWZpZXJQYXJ0KGNvZGUpPyhpbmRleCs9MSxjaHIpOm51bGx9LmJpbmQodGhpcyk7aWYoY2hhcj1nZXRJZGVudGlmaWVyU3RhcnQoKSxudWxsPT09Y2hhcilyZXR1cm4gbnVsbDtmb3IoaWQ9Y2hhcjtjaGFyPWdldElkZW50aWZpZXJQYXJ0KCksbnVsbCE9PWNoYXI7KWlkKz1jaGFyO3N3aXRjaChpZCl7Y2FzZVxcXCJ0cnVlXFxcIjpjYXNlXFxcImZhbHNlXFxcIjp0eXBlPVRva2VuLkJvb2xlYW5MaXRlcmFsO2JyZWFrO2Nhc2VcXFwibnVsbFxcXCI6dHlwZT1Ub2tlbi5OdWxsTGl0ZXJhbDticmVhaztkZWZhdWx0OnR5cGU9VG9rZW4uSWRlbnRpZmllcn1yZXR1cm57dHlwZTp0eXBlLHZhbHVlOnJlbW92ZUVzY2FwZVNlcXVlbmNlcyhpZCksdGV4dDppZCx0b2tlbkxlbmd0aDppZC5sZW5ndGh9fSxzY2FuTnVtZXJpY0xpdGVyYWw6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpc0RlY2ltYWxEaWdpdChzdHIpe3JldHVybi9eWzAtOV0kLy50ZXN0KHN0cil9ZnVuY3Rpb24gaXNPY3RhbERpZ2l0KHN0cil7cmV0dXJuL15bMC03XSQvLnRlc3Qoc3RyKX1mdW5jdGlvbiBpc0JpbmFyeURpZ2l0KHN0cil7cmV0dXJuL15bMDFdJC8udGVzdChzdHIpfWZ1bmN0aW9uIGlzSGV4RGlnaXQoc3RyKXtyZXR1cm4vXlswLTlhLWZBLUZdJC8udGVzdChzdHIpfWZ1bmN0aW9uIGlzSWRlbnRpZmllclN0YXJ0KGNoKXtyZXR1cm5cXFwiJFxcXCI9PT1jaHx8XFxcIl9cXFwiPT09Y2h8fFxcXCJcXFxcXFxcXFxcXCI9PT1jaHx8Y2g+PVxcXCJhXFxcIiYmXFxcInpcXFwiPj1jaHx8Y2g+PVxcXCJBXFxcIiYmXFxcIlpcXFwiPj1jaH12YXIgYmFkLGluZGV4PTAsdmFsdWU9XFxcIlxcXCIsbGVuZ3RoPXRoaXMuaW5wdXQubGVuZ3RoLGNoYXI9dGhpcy5wZWVrKGluZGV4KSxpc0FsbG93ZWREaWdpdD1pc0RlY2ltYWxEaWdpdCxiYXNlPTEwLGlzTGVnYWN5PSExO2lmKFxcXCIuXFxcIiE9PWNoYXImJiFpc0RlY2ltYWxEaWdpdChjaGFyKSlyZXR1cm4gbnVsbDtpZihcXFwiLlxcXCIhPT1jaGFyKXtmb3IodmFsdWU9dGhpcy5wZWVrKGluZGV4KSxpbmRleCs9MSxjaGFyPXRoaXMucGVlayhpbmRleCksXFxcIjBcXFwiPT09dmFsdWUmJigoXFxcInhcXFwiPT09Y2hhcnx8XFxcIlhcXFwiPT09Y2hhcikmJihpc0FsbG93ZWREaWdpdD1pc0hleERpZ2l0LGJhc2U9MTYsaW5kZXgrPTEsdmFsdWUrPWNoYXIpLChcXFwib1xcXCI9PT1jaGFyfHxcXFwiT1xcXCI9PT1jaGFyKSYmKGlzQWxsb3dlZERpZ2l0PWlzT2N0YWxEaWdpdCxiYXNlPTgsc3RhdGUuaW5FUzYoITApfHx0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTE5XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCJPY3RhbCBpbnRlZ2VyIGxpdGVyYWxcXFwiLFxcXCI2XFxcIl19KSxpbmRleCs9MSx2YWx1ZSs9Y2hhciksKFxcXCJiXFxcIj09PWNoYXJ8fFxcXCJCXFxcIj09PWNoYXIpJiYoaXNBbGxvd2VkRGlnaXQ9aXNCaW5hcnlEaWdpdCxiYXNlPTIsc3RhdGUuaW5FUzYoITApfHx0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTE5XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCJCaW5hcnkgaW50ZWdlciBsaXRlcmFsXFxcIixcXFwiNlxcXCJdfSksaW5kZXgrPTEsdmFsdWUrPWNoYXIpLGlzT2N0YWxEaWdpdChjaGFyKSYmKGlzQWxsb3dlZERpZ2l0PWlzT2N0YWxEaWdpdCxiYXNlPTgsaXNMZWdhY3k9ITAsYmFkPSExLGluZGV4Kz0xLHZhbHVlKz1jaGFyKSwhaXNPY3RhbERpZ2l0KGNoYXIpJiZpc0RlY2ltYWxEaWdpdChjaGFyKSYmKGluZGV4Kz0xLHZhbHVlKz1jaGFyKSk7bGVuZ3RoPmluZGV4Oyl7aWYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLGlzTGVnYWN5JiZpc0RlY2ltYWxEaWdpdChjaGFyKSliYWQ9ITA7ZWxzZSBpZighaXNBbGxvd2VkRGlnaXQoY2hhcikpYnJlYWs7dmFsdWUrPWNoYXIsaW5kZXgrPTF9aWYoaXNBbGxvd2VkRGlnaXQhPT1pc0RlY2ltYWxEaWdpdClyZXR1cm4haXNMZWdhY3kmJjI+PXZhbHVlLmxlbmd0aD97dHlwZTpUb2tlbi5OdW1lcmljTGl0ZXJhbCx2YWx1ZTp2YWx1ZSxpc01hbGZvcm1lZDohMH06bGVuZ3RoPmluZGV4JiYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLGlzSWRlbnRpZmllclN0YXJ0KGNoYXIpKT9udWxsOnt0eXBlOlRva2VuLk51bWVyaWNMaXRlcmFsLHZhbHVlOnZhbHVlLGJhc2U6YmFzZSxpc0xlZ2FjeTppc0xlZ2FjeSxpc01hbGZvcm1lZDohMX19aWYoXFxcIi5cXFwiPT09Y2hhcilmb3IodmFsdWUrPWNoYXIsaW5kZXgrPTE7bGVuZ3RoPmluZGV4JiYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLGlzRGVjaW1hbERpZ2l0KGNoYXIpKTspdmFsdWUrPWNoYXIsaW5kZXgrPTE7aWYoXFxcImVcXFwiPT09Y2hhcnx8XFxcIkVcXFwiPT09Y2hhcil7aWYodmFsdWUrPWNoYXIsaW5kZXgrPTEsY2hhcj10aGlzLnBlZWsoaW5kZXgpLChcXFwiK1xcXCI9PT1jaGFyfHxcXFwiLVxcXCI9PT1jaGFyKSYmKHZhbHVlKz10aGlzLnBlZWsoaW5kZXgpLGluZGV4Kz0xKSxjaGFyPXRoaXMucGVlayhpbmRleCksIWlzRGVjaW1hbERpZ2l0KGNoYXIpKXJldHVybiBudWxsO2Zvcih2YWx1ZSs9Y2hhcixpbmRleCs9MTtsZW5ndGg+aW5kZXgmJihjaGFyPXRoaXMucGVlayhpbmRleCksaXNEZWNpbWFsRGlnaXQoY2hhcikpOyl2YWx1ZSs9Y2hhcixpbmRleCs9MX1yZXR1cm4gbGVuZ3RoPmluZGV4JiYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLGlzSWRlbnRpZmllclN0YXJ0KGNoYXIpKT9udWxsOnt0eXBlOlRva2VuLk51bWVyaWNMaXRlcmFsLHZhbHVlOnZhbHVlLGJhc2U6YmFzZSxpc01hbGZvcm1lZDohaXNGaW5pdGUodmFsdWUpfX0sc2NhbkVzY2FwZVNlcXVlbmNlOmZ1bmN0aW9uKGNoZWNrcyl7dmFyIGFsbG93TmV3TGluZT0hMSxqdW1wPTE7dGhpcy5za2lwKCk7dmFyIGNoYXI9dGhpcy5wZWVrKCk7c3dpdGNoKGNoYXIpe2Nhc2VcXFwiJ1xcXCI6dGhpcy50cmlnZ2VyQXN5bmMoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTE0XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCJcXFxcXFxcXCdcXFwiXX0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLmpzb25Nb2RlfSk7YnJlYWs7Y2FzZVxcXCJiXFxcIjpjaGFyPVxcXCJcXFxcXFxcXGJcXFwiO2JyZWFrO2Nhc2VcXFwiZlxcXCI6Y2hhcj1cXFwiXFxcXFxcXFxmXFxcIjticmVhaztjYXNlXFxcIm5cXFwiOmNoYXI9XFxcIlxcXFxcXFxcblxcXCI7YnJlYWs7Y2FzZVxcXCJyXFxcIjpjaGFyPVxcXCJcXFxcXFxcXHJcXFwiO2JyZWFrO2Nhc2VcXFwidFxcXCI6Y2hhcj1cXFwiXFxcXFxcXFx0XFxcIjticmVhaztjYXNlXFxcIjBcXFwiOmNoYXI9XFxcIlxcXFxcXFxcMFxcXCI7dmFyIG49cGFyc2VJbnQodGhpcy5wZWVrKDEpLDEwKTt0aGlzLnRyaWdnZXJBc3luYyhcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMTVcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXJ9LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiBuPj0wJiY3Pj1uJiZzdGF0ZS5pc1N0cmljdCgpfSk7YnJlYWs7Y2FzZVxcXCJ1XFxcIjp2YXIgaGV4Q29kZT10aGlzLmlucHV0LnN1YnN0cigxLDQpLGNvZGU9cGFyc2VJbnQoaGV4Q29kZSwxNik7aXNOYU4oY29kZSkmJnRoaXMudHJpZ2dlcihcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcwNTJcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZGF0YTpbXFxcInVcXFwiK2hleENvZGVdfSksY2hhcj1TdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpLGp1bXA9NTticmVhaztjYXNlXFxcInZcXFwiOnRoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExNFxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltcXFwiXFxcXFxcXFx2XFxcIl19LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5qc29uTW9kZX0pLGNoYXI9XFxcIlxcdTAwMGJcXFwiO2JyZWFrO2Nhc2VcXFwieFxcXCI6dmFyIHg9cGFyc2VJbnQodGhpcy5pbnB1dC5zdWJzdHIoMSwyKSwxNik7dGhpcy50cmlnZ2VyQXN5bmMoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTE0XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCJcXFxcXFxcXHgtXFxcIl19LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5qc29uTW9kZX0pLGNoYXI9U3RyaW5nLmZyb21DaGFyQ29kZSh4KSxqdW1wPTM7YnJlYWs7Y2FzZVxcXCJcXFxcXFxcXFxcXCI6Y2hhcj1cXFwiXFxcXFxcXFxcXFxcXFxcXFxcXCI7YnJlYWs7Y2FzZSdcXFwiJzpjaGFyPSdcXFxcXFxcXFxcXCInO2JyZWFrO2Nhc2VcXFwiL1xcXCI6YnJlYWs7Y2FzZVxcXCJcXFwiOmFsbG93TmV3TGluZT0hMCxjaGFyPVxcXCJcXFwifXJldHVybntcXFwiY2hhclxcXCI6Y2hhcixqdW1wOmp1bXAsYWxsb3dOZXdMaW5lOmFsbG93TmV3TGluZX19LHNjYW5UZW1wbGF0ZUxpdGVyYWw6ZnVuY3Rpb24oY2hlY2tzKXt2YXIgdG9rZW5UeXBlLGNoLHZhbHVlPVxcXCJcXFwiLHN0YXJ0TGluZT10aGlzLmxpbmUsc3RhcnRDaGFyPXRoaXMuY2hhcixkZXB0aD10aGlzLnRlbXBsYXRlU3RhcnRzLmxlbmd0aDtpZighc3RhdGUuaW5FUzYoITApKXJldHVybiBudWxsO2lmKFxcXCJgXFxcIj09PXRoaXMucGVlaygpKXRva2VuVHlwZT1Ub2tlbi5UZW1wbGF0ZUhlYWQsdGhpcy50ZW1wbGF0ZVN0YXJ0cy5wdXNoKHtsaW5lOnRoaXMubGluZSxcXFwiY2hhclxcXCI6dGhpcy5jaGFyfSksZGVwdGg9dGhpcy50ZW1wbGF0ZVN0YXJ0cy5sZW5ndGgsdGhpcy5za2lwKDEpLHRoaXMucHVzaENvbnRleHQoQ29udGV4dC5UZW1wbGF0ZSk7ZWxzZXtpZighdGhpcy5pbkNvbnRleHQoQ29udGV4dC5UZW1wbGF0ZSl8fFxcXCJ9XFxcIiE9PXRoaXMucGVlaygpKXJldHVybiBudWxsO3Rva2VuVHlwZT1Ub2tlbi5UZW1wbGF0ZU1pZGRsZX1mb3IoO1xcXCJgXFxcIiE9PXRoaXMucGVlaygpOyl7Zm9yKDtcXFwiXFxcIj09PShjaD10aGlzLnBlZWsoKSk7KWlmKHZhbHVlKz1cXFwiXFxcXG5cXFwiLCF0aGlzLm5leHRMaW5lKCkpe3ZhciBzdGFydFBvcz10aGlzLnRlbXBsYXRlU3RhcnRzLnBvcCgpO3JldHVybiB0aGlzLnRyaWdnZXIoXFxcImVycm9yXFxcIix7Y29kZTpcXFwiRTA1MlxcXCIsbGluZTpzdGFydFBvcy5saW5lLGNoYXJhY3RlcjpzdGFydFBvcy5jaGFyfSkse3R5cGU6dG9rZW5UeXBlLHZhbHVlOnZhbHVlLHN0YXJ0TGluZTpzdGFydExpbmUsc3RhcnRDaGFyOnN0YXJ0Q2hhcixpc1VuY2xvc2VkOiEwLGRlcHRoOmRlcHRoLGNvbnRleHQ6dGhpcy5wb3BDb250ZXh0KCl9fWlmKFxcXCIkXFxcIj09PWNoJiZcXFwie1xcXCI9PT10aGlzLnBlZWsoMSkpcmV0dXJuIHZhbHVlKz1cXFwiJHtcXFwiLHRoaXMuc2tpcCgyKSx7dHlwZTp0b2tlblR5cGUsdmFsdWU6dmFsdWUsc3RhcnRMaW5lOnN0YXJ0TGluZSxzdGFydENoYXI6c3RhcnRDaGFyLGlzVW5jbG9zZWQ6ITEsZGVwdGg6ZGVwdGgsY29udGV4dDp0aGlzLmN1cnJlbnRDb250ZXh0KCl9O1xcbmlmKFxcXCJcXFxcXFxcXFxcXCI9PT1jaCl7dmFyIGVzY2FwZT10aGlzLnNjYW5Fc2NhcGVTZXF1ZW5jZShjaGVja3MpO3ZhbHVlKz1lc2NhcGUuY2hhcix0aGlzLnNraXAoZXNjYXBlLmp1bXApfWVsc2VcXFwiYFxcXCIhPT1jaCYmKHZhbHVlKz1jaCx0aGlzLnNraXAoMSkpfXJldHVybiB0b2tlblR5cGU9dG9rZW5UeXBlPT09VG9rZW4uVGVtcGxhdGVIZWFkP1Rva2VuLk5vU3Vic3RUZW1wbGF0ZTpUb2tlbi5UZW1wbGF0ZVRhaWwsdGhpcy5za2lwKDEpLHRoaXMudGVtcGxhdGVTdGFydHMucG9wKCkse3R5cGU6dG9rZW5UeXBlLHZhbHVlOnZhbHVlLHN0YXJ0TGluZTpzdGFydExpbmUsc3RhcnRDaGFyOnN0YXJ0Q2hhcixpc1VuY2xvc2VkOiExLGRlcHRoOmRlcHRoLGNvbnRleHQ6dGhpcy5wb3BDb250ZXh0KCl9fSxzY2FuU3RyaW5nTGl0ZXJhbDpmdW5jdGlvbihjaGVja3Mpe3ZhciBxdW90ZT10aGlzLnBlZWsoKTtpZignXFxcIichPT1xdW90ZSYmXFxcIidcXFwiIT09cXVvdGUpcmV0dXJuIG51bGw7dGhpcy50cmlnZ2VyQXN5bmMoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTA4XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyfSxjaGVja3MsZnVuY3Rpb24oKXtyZXR1cm4gc3RhdGUuanNvbk1vZGUmJidcXFwiJyE9PXF1b3RlfSk7dmFyIHZhbHVlPVxcXCJcXFwiLHN0YXJ0TGluZT10aGlzLmxpbmUsc3RhcnRDaGFyPXRoaXMuY2hhcixhbGxvd05ld0xpbmU9ITE7Zm9yKHRoaXMuc2tpcCgpO3RoaXMucGVlaygpIT09cXVvdGU7KWlmKFxcXCJcXFwiPT09dGhpcy5wZWVrKCkpe2lmKGFsbG93TmV3TGluZT8oYWxsb3dOZXdMaW5lPSExLHRoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzA0M1xcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcn0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuIXN0YXRlLm9wdGlvbi5tdWx0aXN0cn0pLHRoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzA0MlxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcn0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLmpzb25Nb2RlJiZzdGF0ZS5vcHRpb24ubXVsdGlzdHJ9KSk6dGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExMlxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcn0pLCF0aGlzLm5leHRMaW5lKCkpcmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiZXJyb3JcXFwiLHtjb2RlOlxcXCJFMDI5XFxcIixsaW5lOnN0YXJ0TGluZSxjaGFyYWN0ZXI6c3RhcnRDaGFyfSkse3R5cGU6VG9rZW4uU3RyaW5nTGl0ZXJhbCx2YWx1ZTp2YWx1ZSxzdGFydExpbmU6c3RhcnRMaW5lLHN0YXJ0Q2hhcjpzdGFydENoYXIsaXNVbmNsb3NlZDohMCxxdW90ZTpxdW90ZX19ZWxzZXthbGxvd05ld0xpbmU9ITE7dmFyIGNoYXI9dGhpcy5wZWVrKCksanVtcD0xO2lmKFxcXCIgXFxcIj5jaGFyJiZ0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTEzXFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCI8bm9uLXByaW50YWJsZT5cXFwiXX0pLFxcXCJcXFxcXFxcXFxcXCI9PT1jaGFyKXt2YXIgcGFyc2VkPXRoaXMuc2NhbkVzY2FwZVNlcXVlbmNlKGNoZWNrcyk7Y2hhcj1wYXJzZWQuY2hhcixqdW1wPXBhcnNlZC5qdW1wLGFsbG93TmV3TGluZT1wYXJzZWQuYWxsb3dOZXdMaW5lfXZhbHVlKz1jaGFyLHRoaXMuc2tpcChqdW1wKX1yZXR1cm4gdGhpcy5za2lwKCkse3R5cGU6VG9rZW4uU3RyaW5nTGl0ZXJhbCx2YWx1ZTp2YWx1ZSxzdGFydExpbmU6c3RhcnRMaW5lLHN0YXJ0Q2hhcjpzdGFydENoYXIsaXNVbmNsb3NlZDohMSxxdW90ZTpxdW90ZX19LHNjYW5SZWdFeHA6ZnVuY3Rpb24oKXt2YXIgdGVybWluYXRlZCxpbmRleD0wLGxlbmd0aD10aGlzLmlucHV0Lmxlbmd0aCxjaGFyPXRoaXMucGVlaygpLHZhbHVlPWNoYXIsYm9keT1cXFwiXFxcIixmbGFncz1bXSxtYWxmb3JtZWQ9ITEsaXNDaGFyU2V0PSExLHNjYW5VbmV4cGVjdGVkQ2hhcnM9ZnVuY3Rpb24oKXtcXFwiIFxcXCI+Y2hhciYmKG1hbGZvcm1lZD0hMCx0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMDQ4XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyfSkpLFxcXCI8XFxcIj09PWNoYXImJihtYWxmb3JtZWQ9ITAsdGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzA0OVxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltjaGFyXX0pKX0uYmluZCh0aGlzKTtpZighdGhpcy5wcmVyZWd8fFxcXCIvXFxcIiE9PWNoYXIpcmV0dXJuIG51bGw7Zm9yKGluZGV4Kz0xLHRlcm1pbmF0ZWQ9ITE7bGVuZ3RoPmluZGV4OylpZihjaGFyPXRoaXMucGVlayhpbmRleCksdmFsdWUrPWNoYXIsYm9keSs9Y2hhcixpc0NoYXJTZXQpXFxcIl1cXFwiPT09Y2hhciYmKFxcXCJcXFxcXFxcXFxcXCIhPT10aGlzLnBlZWsoaW5kZXgtMSl8fFxcXCJcXFxcXFxcXFxcXCI9PT10aGlzLnBlZWsoaW5kZXgtMikpJiYoaXNDaGFyU2V0PSExKSxcXFwiXFxcXFxcXFxcXFwiPT09Y2hhciYmKGluZGV4Kz0xLGNoYXI9dGhpcy5wZWVrKGluZGV4KSxib2R5Kz1jaGFyLHZhbHVlKz1jaGFyLHNjYW5VbmV4cGVjdGVkQ2hhcnMoKSksaW5kZXgrPTE7ZWxzZXtpZihcXFwiXFxcXFxcXFxcXFwiPT09Y2hhcil7aWYoaW5kZXgrPTEsY2hhcj10aGlzLnBlZWsoaW5kZXgpLGJvZHkrPWNoYXIsdmFsdWUrPWNoYXIsc2NhblVuZXhwZWN0ZWRDaGFycygpLFxcXCIvXFxcIj09PWNoYXIpe2luZGV4Kz0xO2NvbnRpbnVlfWlmKFxcXCJbXFxcIj09PWNoYXIpe2luZGV4Kz0xO2NvbnRpbnVlfX1pZihcXFwiW1xcXCIhPT1jaGFyKXtpZihcXFwiL1xcXCI9PT1jaGFyKXtib2R5PWJvZHkuc3Vic3RyKDAsYm9keS5sZW5ndGgtMSksdGVybWluYXRlZD0hMCxpbmRleCs9MTticmVha31pbmRleCs9MX1lbHNlIGlzQ2hhclNldD0hMCxpbmRleCs9MX1pZighdGVybWluYXRlZClyZXR1cm4gdGhpcy50cmlnZ2VyKFxcXCJlcnJvclxcXCIse2NvZGU6XFxcIkUwMTVcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmZyb219KSx2b2lkIHRoaXMudHJpZ2dlcihcXFwiZmF0YWxcXFwiLHtsaW5lOnRoaXMubGluZSxmcm9tOnRoaXMuZnJvbX0pO2Zvcig7bGVuZ3RoPmluZGV4JiYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLC9bZ2ltXS8udGVzdChjaGFyKSk7KWZsYWdzLnB1c2goY2hhciksdmFsdWUrPWNoYXIsaW5kZXgrPTE7dHJ5e1JlZ0V4cChib2R5LGZsYWdzLmpvaW4oXFxcIlxcXCIpKX1jYXRjaChlcnIpe21hbGZvcm1lZD0hMCx0aGlzLnRyaWdnZXIoXFxcImVycm9yXFxcIix7Y29kZTpcXFwiRTAxNlxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltlcnIubWVzc2FnZV19KX1yZXR1cm57dHlwZTpUb2tlbi5SZWdFeHAsdmFsdWU6dmFsdWUsZmxhZ3M6ZmxhZ3MsaXNNYWxmb3JtZWQ6bWFsZm9ybWVkfX0sc2Nhbk5vbkJyZWFraW5nU3BhY2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLm9wdGlvbi5ub25ic3A/dGhpcy5pbnB1dC5zZWFyY2goLyhcXFxcdTAwQTApLyk6LTF9LHNjYW5VbnNhZmVDaGFyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0LnNlYXJjaChyZWcudW5zYWZlQ2hhcnMpfSxuZXh0OmZ1bmN0aW9uKGNoZWNrcyl7dGhpcy5mcm9tPXRoaXMuY2hhcjt2YXIgc3RhcnQ7aWYoL1xcXFxzLy50ZXN0KHRoaXMucGVlaygpKSlmb3Ioc3RhcnQ9dGhpcy5jaGFyOy9cXFxccy8udGVzdCh0aGlzLnBlZWsoKSk7KXRoaXMuZnJvbSs9MSx0aGlzLnNraXAoKTt2YXIgbWF0Y2g9dGhpcy5zY2FuQ29tbWVudHMoKXx8dGhpcy5zY2FuU3RyaW5nTGl0ZXJhbChjaGVja3MpfHx0aGlzLnNjYW5UZW1wbGF0ZUxpdGVyYWwoY2hlY2tzKTtyZXR1cm4gbWF0Y2g/bWF0Y2g6KG1hdGNoPXRoaXMuc2NhblJlZ0V4cCgpfHx0aGlzLnNjYW5QdW5jdHVhdG9yKCl8fHRoaXMuc2NhbktleXdvcmQoKXx8dGhpcy5zY2FuSWRlbnRpZmllcigpfHx0aGlzLnNjYW5OdW1lcmljTGl0ZXJhbCgpLG1hdGNoPyh0aGlzLnNraXAobWF0Y2gudG9rZW5MZW5ndGh8fG1hdGNoLnZhbHVlLmxlbmd0aCksbWF0Y2gpOm51bGwpfSxuZXh0TGluZTpmdW5jdGlvbigpe3ZhciBjaGFyO2lmKHRoaXMubGluZT49dGhpcy5nZXRMaW5lcygpLmxlbmd0aClyZXR1cm4hMTt0aGlzLmlucHV0PXRoaXMuZ2V0TGluZXMoKVt0aGlzLmxpbmVdLHRoaXMubGluZSs9MSx0aGlzLmNoYXI9MSx0aGlzLmZyb209MTt2YXIgaW5wdXRUcmltbWVkPXRoaXMuaW5wdXQudHJpbSgpLHN0YXJ0c1dpdGg9ZnVuY3Rpb24oKXtyZXR1cm4gXy5zb21lKGFyZ3VtZW50cyxmdW5jdGlvbihwcmVmaXgpe3JldHVybiAwPT09aW5wdXRUcmltbWVkLmluZGV4T2YocHJlZml4KX0pfSxlbmRzV2l0aD1mdW5jdGlvbigpe3JldHVybiBfLnNvbWUoYXJndW1lbnRzLGZ1bmN0aW9uKHN1ZmZpeCl7cmV0dXJuLTEhPT1pbnB1dFRyaW1tZWQuaW5kZXhPZihzdWZmaXgsaW5wdXRUcmltbWVkLmxlbmd0aC1zdWZmaXgubGVuZ3RoKX0pfTtpZih0aGlzLmlnbm9yaW5nTGludGVyRXJyb3JzPT09ITAmJihzdGFydHNXaXRoKFxcXCIvKlxcXCIsXFxcIi8vXFxcIil8fHRoaXMuaW5Db21tZW50JiZlbmRzV2l0aChcXFwiKi9cXFwiKXx8KHRoaXMuaW5wdXQ9XFxcIlxcXCIpKSxjaGFyPXRoaXMuc2Nhbk5vbkJyZWFraW5nU3BhY2VzKCksY2hhcj49MCYmdGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzEyNVxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOmNoYXIrMX0pLHRoaXMuaW5wdXQ9dGhpcy5pbnB1dC5yZXBsYWNlKC9cXFxcdC9nLHN0YXRlLnRhYiksY2hhcj10aGlzLnNjYW5VbnNhZmVDaGFycygpLGNoYXI+PTAmJnRoaXMudHJpZ2dlcihcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMDBcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3RlcjpjaGFyfSksIXRoaXMuaWdub3JpbmdMaW50ZXJFcnJvcnMmJnN0YXRlLm9wdGlvbi5tYXhsZW4mJnN0YXRlLm9wdGlvbi5tYXhsZW48dGhpcy5pbnB1dC5sZW5ndGgpe3ZhciBpbkNvbW1lbnQ9dGhpcy5pbkNvbW1lbnR8fHN0YXJ0c1dpdGguY2FsbChpbnB1dFRyaW1tZWQsXFxcIi8vXFxcIil8fHN0YXJ0c1dpdGguY2FsbChpbnB1dFRyaW1tZWQsXFxcIi8qXFxcIiksc2hvdWxkVHJpZ2dlckVycm9yPSFpbkNvbW1lbnR8fCFyZWcubWF4bGVuRXhjZXB0aW9uLnRlc3QoaW5wdXRUcmltbWVkKTtzaG91bGRUcmlnZ2VyRXJyb3ImJnRoaXMudHJpZ2dlcihcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMDFcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmlucHV0Lmxlbmd0aH0pfXJldHVybiEwfSxzdGFydDpmdW5jdGlvbigpe3RoaXMubmV4dExpbmUoKX0sdG9rZW46ZnVuY3Rpb24oKXtmdW5jdGlvbiBpc1Jlc2VydmVkKHRva2VuLGlzUHJvcGVydHkpe2lmKCF0b2tlbi5yZXNlcnZlZClyZXR1cm4hMTt2YXIgbWV0YT10b2tlbi5tZXRhO2lmKG1ldGEmJm1ldGEuaXNGdXR1cmVSZXNlcnZlZFdvcmQmJnN0YXRlLmluRVM1KCkpe2lmKCFtZXRhLmVzNSlyZXR1cm4hMTtpZihtZXRhLnN0cmljdE9ubHkmJiFzdGF0ZS5vcHRpb24uc3RyaWN0JiYhc3RhdGUuaXNTdHJpY3QoKSlyZXR1cm4hMTtpZihpc1Byb3BlcnR5KXJldHVybiExfXJldHVybiEwfWZvcih2YXIgdG9rZW4sY2hlY2tzPWFzeW5jVHJpZ2dlcigpLGNyZWF0ZT1mdW5jdGlvbih0eXBlLHZhbHVlLGlzUHJvcGVydHksdG9rZW4pe3ZhciBvYmo7aWYoXFxcIihlbmRsaW5lKVxcXCIhPT10eXBlJiZcXFwiKGVuZClcXFwiIT09dHlwZSYmKHRoaXMucHJlcmVnPSExKSxcXFwiKHB1bmN0dWF0b3IpXFxcIj09PXR5cGUpe3N3aXRjaCh2YWx1ZSl7Y2FzZVxcXCIuXFxcIjpjYXNlXFxcIilcXFwiOmNhc2VcXFwiflxcXCI6Y2FzZVxcXCIjXFxcIjpjYXNlXFxcIl1cXFwiOmNhc2VcXFwiKytcXFwiOmNhc2VcXFwiLS1cXFwiOnRoaXMucHJlcmVnPSExO2JyZWFrO2RlZmF1bHQ6dGhpcy5wcmVyZWc9ITB9b2JqPU9iamVjdC5jcmVhdGUoc3RhdGUuc3ludGF4W3ZhbHVlXXx8c3RhdGUuc3ludGF4W1xcXCIoZXJyb3IpXFxcIl0pfXJldHVyblxcXCIoaWRlbnRpZmllcilcXFwiPT09dHlwZSYmKChcXFwicmV0dXJuXFxcIj09PXZhbHVlfHxcXFwiY2FzZVxcXCI9PT12YWx1ZXx8XFxcInR5cGVvZlxcXCI9PT12YWx1ZSkmJih0aGlzLnByZXJlZz0hMCksXy5oYXMoc3RhdGUuc3ludGF4LHZhbHVlKSYmKG9iaj1PYmplY3QuY3JlYXRlKHN0YXRlLnN5bnRheFt2YWx1ZV18fHN0YXRlLnN5bnRheFtcXFwiKGVycm9yKVxcXCJdKSxpc1Jlc2VydmVkKG9iaixpc1Byb3BlcnR5JiZcXFwiKGlkZW50aWZpZXIpXFxcIj09PXR5cGUpfHwob2JqPW51bGwpKSksb2JqfHwob2JqPU9iamVjdC5jcmVhdGUoc3RhdGUuc3ludGF4W3R5cGVdKSksb2JqLmlkZW50aWZpZXI9XFxcIihpZGVudGlmaWVyKVxcXCI9PT10eXBlLG9iai50eXBlPW9iai50eXBlfHx0eXBlLG9iai52YWx1ZT12YWx1ZSxvYmoubGluZT10aGlzLmxpbmUsb2JqLmNoYXJhY3Rlcj10aGlzLmNoYXIsb2JqLmZyb209dGhpcy5mcm9tLG9iai5pZGVudGlmaWVyJiZ0b2tlbiYmKG9iai5yYXdfdGV4dD10b2tlbi50ZXh0fHx0b2tlbi52YWx1ZSksdG9rZW4mJnRva2VuLnN0YXJ0TGluZSYmdG9rZW4uc3RhcnRMaW5lIT09dGhpcy5saW5lJiYob2JqLnN0YXJ0TGluZT10b2tlbi5zdGFydExpbmUpLHRva2VuJiZ0b2tlbi5jb250ZXh0JiYob2JqLmNvbnRleHQ9dG9rZW4uY29udGV4dCksdG9rZW4mJnRva2VuLmRlcHRoJiYob2JqLmRlcHRoPXRva2VuLmRlcHRoKSx0b2tlbiYmdG9rZW4uaXNVbmNsb3NlZCYmKG9iai5pc1VuY2xvc2VkPXRva2VuLmlzVW5jbG9zZWQpLGlzUHJvcGVydHkmJm9iai5pZGVudGlmaWVyJiYob2JqLmlzUHJvcGVydHk9aXNQcm9wZXJ0eSksb2JqLmNoZWNrPWNoZWNrcy5jaGVjayxvYmp9LmJpbmQodGhpcyk7Oyl7aWYoIXRoaXMuaW5wdXQubGVuZ3RoKXJldHVybiB0aGlzLm5leHRMaW5lKCk/Y3JlYXRlKFxcXCIoZW5kbGluZSlcXFwiLFxcXCJcXFwiKTp0aGlzLmV4aGF1c3RlZD9udWxsOih0aGlzLmV4aGF1c3RlZD0hMCxjcmVhdGUoXFxcIihlbmQpXFxcIixcXFwiXFxcIikpO2lmKHRva2VuPXRoaXMubmV4dChjaGVja3MpKXN3aXRjaCh0b2tlbi50eXBlKXtjYXNlIFRva2VuLlN0cmluZ0xpdGVyYWw6cmV0dXJuIHRoaXMudHJpZ2dlckFzeW5jKFxcXCJTdHJpbmdcXFwiLHtsaW5lOnRoaXMubGluZSxcXFwiY2hhclxcXCI6dGhpcy5jaGFyLGZyb206dGhpcy5mcm9tLHN0YXJ0TGluZTp0b2tlbi5zdGFydExpbmUsc3RhcnRDaGFyOnRva2VuLnN0YXJ0Q2hhcix2YWx1ZTp0b2tlbi52YWx1ZSxxdW90ZTp0b2tlbi5xdW90ZX0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuITB9KSxjcmVhdGUoXFxcIihzdHJpbmcpXFxcIix0b2tlbi52YWx1ZSxudWxsLHRva2VuKTtjYXNlIFRva2VuLlRlbXBsYXRlSGVhZDpyZXR1cm4gdGhpcy50cmlnZ2VyKFxcXCJUZW1wbGF0ZUhlYWRcXFwiLHtsaW5lOnRoaXMubGluZSxcXFwiY2hhclxcXCI6dGhpcy5jaGFyLGZyb206dGhpcy5mcm9tLHN0YXJ0TGluZTp0b2tlbi5zdGFydExpbmUsc3RhcnRDaGFyOnRva2VuLnN0YXJ0Q2hhcix2YWx1ZTp0b2tlbi52YWx1ZX0pLGNyZWF0ZShcXFwiKHRlbXBsYXRlKVxcXCIsdG9rZW4udmFsdWUsbnVsbCx0b2tlbik7Y2FzZSBUb2tlbi5UZW1wbGF0ZU1pZGRsZTpyZXR1cm4gdGhpcy50cmlnZ2VyKFxcXCJUZW1wbGF0ZU1pZGRsZVxcXCIse2xpbmU6dGhpcy5saW5lLFxcXCJjaGFyXFxcIjp0aGlzLmNoYXIsZnJvbTp0aGlzLmZyb20sc3RhcnRMaW5lOnRva2VuLnN0YXJ0TGluZSxzdGFydENoYXI6dG9rZW4uc3RhcnRDaGFyLHZhbHVlOnRva2VuLnZhbHVlfSksY3JlYXRlKFxcXCIodGVtcGxhdGUgbWlkZGxlKVxcXCIsdG9rZW4udmFsdWUsbnVsbCx0b2tlbik7Y2FzZSBUb2tlbi5UZW1wbGF0ZVRhaWw6cmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiVGVtcGxhdGVUYWlsXFxcIix7bGluZTp0aGlzLmxpbmUsXFxcImNoYXJcXFwiOnRoaXMuY2hhcixmcm9tOnRoaXMuZnJvbSxzdGFydExpbmU6dG9rZW4uc3RhcnRMaW5lLHN0YXJ0Q2hhcjp0b2tlbi5zdGFydENoYXIsdmFsdWU6dG9rZW4udmFsdWV9KSxjcmVhdGUoXFxcIih0ZW1wbGF0ZSB0YWlsKVxcXCIsdG9rZW4udmFsdWUsbnVsbCx0b2tlbik7Y2FzZSBUb2tlbi5Ob1N1YnN0VGVtcGxhdGU6cmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiTm9TdWJzdFRlbXBsYXRlXFxcIix7bGluZTp0aGlzLmxpbmUsXFxcImNoYXJcXFwiOnRoaXMuY2hhcixmcm9tOnRoaXMuZnJvbSxzdGFydExpbmU6dG9rZW4uc3RhcnRMaW5lLHN0YXJ0Q2hhcjp0b2tlbi5zdGFydENoYXIsdmFsdWU6dG9rZW4udmFsdWV9KSxjcmVhdGUoXFxcIihubyBzdWJzdCB0ZW1wbGF0ZSlcXFwiLHRva2VuLnZhbHVlLG51bGwsdG9rZW4pO2Nhc2UgVG9rZW4uSWRlbnRpZmllcjp0aGlzLnRyaWdnZXJBc3luYyhcXFwiSWRlbnRpZmllclxcXCIse2xpbmU6dGhpcy5saW5lLFxcXCJjaGFyXFxcIjp0aGlzLmNoYXIsZnJvbTp0aGlzLmZvcm0sbmFtZTp0b2tlbi52YWx1ZSxyYXdfbmFtZTp0b2tlbi50ZXh0LGlzUHJvcGVydHk6XFxcIi5cXFwiPT09c3RhdGUudG9rZW5zLmN1cnIuaWR9LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiEwfSk7Y2FzZSBUb2tlbi5LZXl3b3JkOmNhc2UgVG9rZW4uTnVsbExpdGVyYWw6Y2FzZSBUb2tlbi5Cb29sZWFuTGl0ZXJhbDpyZXR1cm4gY3JlYXRlKFxcXCIoaWRlbnRpZmllcilcXFwiLHRva2VuLnZhbHVlLFxcXCIuXFxcIj09PXN0YXRlLnRva2Vucy5jdXJyLmlkLHRva2VuKTtjYXNlIFRva2VuLk51bWVyaWNMaXRlcmFsOnJldHVybiB0b2tlbi5pc01hbGZvcm1lZCYmdGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzA0NVxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOlt0b2tlbi52YWx1ZV19KSx0aGlzLnRyaWdnZXJBc3luYyhcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMTRcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZGF0YTpbXFxcIjB4LVxcXCJdfSxjaGVja3MsZnVuY3Rpb24oKXtyZXR1cm4gMTY9PT10b2tlbi5iYXNlJiZzdGF0ZS5qc29uTW9kZX0pLHRoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExNVxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcn0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLmlzU3RyaWN0KCkmJjg9PT10b2tlbi5iYXNlJiZ0b2tlbi5pc0xlZ2FjeX0pLHRoaXMudHJpZ2dlcihcXFwiTnVtYmVyXFxcIix7bGluZTp0aGlzLmxpbmUsXFxcImNoYXJcXFwiOnRoaXMuY2hhcixmcm9tOnRoaXMuZnJvbSx2YWx1ZTp0b2tlbi52YWx1ZSxiYXNlOnRva2VuLmJhc2UsaXNNYWxmb3JtZWQ6dG9rZW4ubWFsZm9ybWVkfSksY3JlYXRlKFxcXCIobnVtYmVyKVxcXCIsdG9rZW4udmFsdWUpO2Nhc2UgVG9rZW4uUmVnRXhwOnJldHVybiBjcmVhdGUoXFxcIihyZWdleHApXFxcIix0b2tlbi52YWx1ZSk7Y2FzZSBUb2tlbi5Db21tZW50OmlmKHN0YXRlLnRva2Vucy5jdXJyLmNvbW1lbnQ9ITAsdG9rZW4uaXNTcGVjaWFsKXJldHVybntpZDpcXFwiKGNvbW1lbnQpXFxcIix2YWx1ZTp0b2tlbi52YWx1ZSxib2R5OnRva2VuLmJvZHksdHlwZTp0b2tlbi5jb21tZW50VHlwZSxpc1NwZWNpYWw6dG9rZW4uaXNTcGVjaWFsLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZnJvbTp0aGlzLmZyb219O2JyZWFrO2Nhc2VcXFwiXFxcIjpicmVhaztkZWZhdWx0OnJldHVybiBjcmVhdGUoXFxcIihwdW5jdHVhdG9yKVxcXCIsdG9rZW4udmFsdWUpfWVsc2UgdGhpcy5pbnB1dC5sZW5ndGgmJih0aGlzLnRyaWdnZXIoXFxcImVycm9yXFxcIix7Y29kZTpcXFwiRTAyNFxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOlt0aGlzLnBlZWsoKV19KSx0aGlzLmlucHV0PVxcXCJcXFwiKX19fSxleHBvcnRzLkxleGVyPUxleGVyLGV4cG9ydHMuQ29udGV4dD1Db250ZXh0fSx7XFxcIi4uL2RhdGEvYXNjaWktaWRlbnRpZmllci1kYXRhLmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvZGF0YS9hc2NpaS1pZGVudGlmaWVyLWRhdGEuanNcXFwiLFxcXCIuLi9sb2Rhc2hcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9sb2Rhc2guanNcXFwiLFxcXCIuL3JlZy5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9yZWcuanNcXFwiLFxcXCIuL3N0YXRlLmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL3N0YXRlLmpzXFxcIixldmVudHM6XFxcIi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qc1xcXCJ9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL21lc3NhZ2VzLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBfPV9kZXJlcV8oXFxcIi4uL2xvZGFzaFxcXCIpLGVycm9ycz17RTAwMTpcXFwiQmFkIG9wdGlvbjogJ3thfScuXFxcIixFMDAyOlxcXCJCYWQgb3B0aW9uIHZhbHVlLlxcXCIsRTAwMzpcXFwiRXhwZWN0ZWQgYSBKU09OIHZhbHVlLlxcXCIsRTAwNDpcXFwiSW5wdXQgaXMgbmVpdGhlciBhIHN0cmluZyBub3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cXFwiLEUwMDU6XFxcIklucHV0IGlzIGVtcHR5LlxcXCIsRTAwNjpcXFwiVW5leHBlY3RlZCBlYXJseSBlbmQgb2YgcHJvZ3JhbS5cXFwiLEUwMDc6J01pc3NpbmcgXFxcInVzZSBzdHJpY3RcXFwiIHN0YXRlbWVudC4nLEUwMDg6XFxcIlN0cmljdCB2aW9sYXRpb24uXFxcIixFMDA5OlxcXCJPcHRpb24gJ3ZhbGlkdGhpcycgY2FuJ3QgYmUgdXNlZCBpbiBhIGdsb2JhbCBzY29wZS5cXFwiLEUwMTA6XFxcIid3aXRoJyBpcyBub3QgYWxsb3dlZCBpbiBzdHJpY3QgbW9kZS5cXFwiLEUwMTE6XFxcIid7YX0nIGhhcyBhbHJlYWR5IGJlZW4gZGVjbGFyZWQuXFxcIixFMDEyOlxcXCJjb25zdCAne2F9JyBpcyBpbml0aWFsaXplZCB0byAndW5kZWZpbmVkJy5cXFwiLEUwMTM6XFxcIkF0dGVtcHRpbmcgdG8gb3ZlcnJpZGUgJ3thfScgd2hpY2ggaXMgYSBjb25zdGFudC5cXFwiLEUwMTQ6XFxcIkEgcmVndWxhciBleHByZXNzaW9uIGxpdGVyYWwgY2FuIGJlIGNvbmZ1c2VkIHdpdGggJy89Jy5cXFwiLEUwMTU6XFxcIlVuY2xvc2VkIHJlZ3VsYXIgZXhwcmVzc2lvbi5cXFwiLEUwMTY6XFxcIkludmFsaWQgcmVndWxhciBleHByZXNzaW9uLlxcXCIsRTAxNzpcXFwiVW5jbG9zZWQgY29tbWVudC5cXFwiLEUwMTg6XFxcIlVuYmVndW4gY29tbWVudC5cXFwiLEUwMTk6XFxcIlVubWF0Y2hlZCAne2F9Jy5cXFwiLEUwMjA6XFxcIkV4cGVjdGVkICd7YX0nIHRvIG1hdGNoICd7Yn0nIGZyb20gbGluZSB7Y30gYW5kIGluc3RlYWQgc2F3ICd7ZH0nLlxcXCIsRTAyMTpcXFwiRXhwZWN0ZWQgJ3thfScgYW5kIGluc3RlYWQgc2F3ICd7Yn0nLlxcXCIsRTAyMjpcXFwiTGluZSBicmVha2luZyBlcnJvciAne2F9Jy5cXFwiLEUwMjM6XFxcIk1pc3NpbmcgJ3thfScuXFxcIixFMDI0OlxcXCJVbmV4cGVjdGVkICd7YX0nLlxcXCIsRTAyNTpcXFwiTWlzc2luZyAnOicgb24gYSBjYXNlIGNsYXVzZS5cXFwiLEUwMjY6XFxcIk1pc3NpbmcgJ30nIHRvIG1hdGNoICd7JyBmcm9tIGxpbmUge2F9LlxcXCIsRTAyNzpcXFwiTWlzc2luZyAnXScgdG8gbWF0Y2ggJ1snIGZyb20gbGluZSB7YX0uXFxcIixFMDI4OlxcXCJJbGxlZ2FsIGNvbW1hLlxcXCIsRTAyOTpcXFwiVW5jbG9zZWQgc3RyaW5nLlxcXCIsRTAzMDpcXFwiRXhwZWN0ZWQgYW4gaWRlbnRpZmllciBhbmQgaW5zdGVhZCBzYXcgJ3thfScuXFxcIixFMDMxOlxcXCJCYWQgYXNzaWdubWVudC5cXFwiLEUwMzI6XFxcIkV4cGVjdGVkIGEgc21hbGwgaW50ZWdlciBvciAnZmFsc2UnIGFuZCBpbnN0ZWFkIHNhdyAne2F9Jy5cXFwiLEUwMzM6XFxcIkV4cGVjdGVkIGFuIG9wZXJhdG9yIGFuZCBpbnN0ZWFkIHNhdyAne2F9Jy5cXFwiLEUwMzQ6XFxcImdldC9zZXQgYXJlIEVTNSBmZWF0dXJlcy5cXFwiLEUwMzU6XFxcIk1pc3NpbmcgcHJvcGVydHkgbmFtZS5cXFwiLEUwMzY6XFxcIkV4cGVjdGVkIHRvIHNlZSBhIHN0YXRlbWVudCBhbmQgaW5zdGVhZCBzYXcgYSBibG9jay5cXFwiLEUwMzc6bnVsbCxFMDM4Om51bGwsRTAzOTpcXFwiRnVuY3Rpb24gZGVjbGFyYXRpb25zIGFyZSBub3QgaW52b2NhYmxlLiBXcmFwIHRoZSB3aG9sZSBmdW5jdGlvbiBpbnZvY2F0aW9uIGluIHBhcmVucy5cXFwiLEUwNDA6XFxcIkVhY2ggdmFsdWUgc2hvdWxkIGhhdmUgaXRzIG93biBjYXNlIGxhYmVsLlxcXCIsRTA0MTpcXFwiVW5yZWNvdmVyYWJsZSBzeW50YXggZXJyb3IuXFxcIixFMDQyOlxcXCJTdG9wcGluZy5cXFwiLEUwNDM6XFxcIlRvbyBtYW55IGVycm9ycy5cXFwiLEUwNDQ6bnVsbCxFMDQ1OlxcXCJJbnZhbGlkIGZvciBlYWNoIGxvb3AuXFxcIixFMDQ2OlxcXCJBIHlpZWxkIHN0YXRlbWVudCBzaGFsbCBiZSB3aXRoaW4gYSBnZW5lcmF0b3IgZnVuY3Rpb24gKHdpdGggc3ludGF4OiBgZnVuY3Rpb24qYClcXFwiLEUwNDc6bnVsbCxFMDQ4OlxcXCJ7YX0gZGVjbGFyYXRpb24gbm90IGRpcmVjdGx5IHdpdGhpbiBibG9jay5cXFwiLEUwNDk6XFxcIkEge2F9IGNhbm5vdCBiZSBuYW1lZCAne2J9Jy5cXFwiLEUwNTA6XFxcIk1vemlsbGEgYWNlcXVpcmVzIHRoZSB5aWVsZCBleHByZXNzaW9uIHRvIGJlIHBhcmVudGhlc2l6ZWQgaGVyZS5cXFwiLEUwNTE6bnVsbCxFMDUyOlxcXCJVbmNsb3NlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxcXCIsRTA1MzpcXFwiRXhwb3J0IGRlY2xhcmF0aW9uIG11c3QgYmUgaW4gZ2xvYmFsIHNjb3BlLlxcXCIsRTA1NDpcXFwiQ2xhc3MgcHJvcGVydGllcyBtdXN0IGJlIG1ldGhvZHMuIEV4cGVjdGVkICcoJyBidXQgaW5zdGVhZCBzYXcgJ3thfScuXFxcIixFMDU1OlxcXCJUaGUgJ3thfScgb3B0aW9uIGNhbm5vdCBiZSBzZXQgYWZ0ZXIgYW55IGV4ZWN1dGFibGUgY29kZS5cXFwiLEUwNTY6XFxcIid7YX0nIHdhcyB1c2VkIGJlZm9yZSBpdCB3YXMgZGVjbGFyZWQsIHdoaWNoIGlzIGlsbGVnYWwgZm9yICd7Yn0nIHZhcmlhYmxlcy5cXFwiLEUwNTc6XFxcIkludmFsaWQgbWV0YSBwcm9wZXJ0eTogJ3thfS57Yn0nLlxcXCIsRTA1ODpcXFwiTWlzc2luZyBzZW1pY29sb24uXFxcIn0sd2FybmluZ3M9e1cwMDE6XFxcIidoYXNPd25Qcm9wZXJ0eScgaXMgYSByZWFsbHkgYmFkIG5hbWUuXFxcIixXMDAyOlxcXCJWYWx1ZSBvZiAne2F9JyBtYXkgYmUgb3ZlcndyaXR0ZW4gaW4gSUUgOCBhbmQgZWFybGllci5cXFwiLFcwMDM6XFxcIid7YX0nIHdhcyB1c2VkIGJlZm9yZSBpdCB3YXMgZGVmaW5lZC5cXFwiLFcwMDQ6XFxcIid7YX0nIGlzIGFscmVhZHkgZGVmaW5lZC5cXFwiLFcwMDU6XFxcIkEgZG90IGZvbGxvd2luZyBhIG51bWJlciBjYW4gYmUgY29uZnVzZWQgd2l0aCBhIGRlY2ltYWwgcG9pbnQuXFxcIixXMDA2OlxcXCJDb25mdXNpbmcgbWludXNlcy5cXFwiLFcwMDc6XFxcIkNvbmZ1c2luZyBwbHVzc2VzLlxcXCIsVzAwODpcXFwiQSBsZWFkaW5nIGRlY2ltYWwgcG9pbnQgY2FuIGJlIGNvbmZ1c2VkIHdpdGggYSBkb3Q6ICd7YX0nLlxcXCIsVzAwOTpcXFwiVGhlIGFycmF5IGxpdGVyYWwgbm90YXRpb24gW10gaXMgcHJlZmVyYWJsZS5cXFwiLFcwMTA6XFxcIlRoZSBvYmplY3QgbGl0ZXJhbCBub3RhdGlvbiB7fSBpcyBwcmVmZXJhYmxlLlxcXCIsVzAxMTpudWxsLFcwMTI6bnVsbCxXMDEzOm51bGwsVzAxNDpcXFwiQmFkIGxpbmUgYnJlYWtpbmcgYmVmb3JlICd7YX0nLlxcXCIsVzAxNTpudWxsLFcwMTY6XFxcIlVuZXhwZWN0ZWQgdXNlIG9mICd7YX0nLlxcXCIsVzAxNzpcXFwiQmFkIG9wZXJhbmQuXFxcIixXMDE4OlxcXCJDb25mdXNpbmcgdXNlIG9mICd7YX0nLlxcXCIsVzAxOTpcXFwiVXNlIHRoZSBpc05hTiBmdW5jdGlvbiB0byBjb21wYXJlIHdpdGggTmFOLlxcXCIsVzAyMDpcXFwiUmVhZCBvbmx5LlxcXCIsVzAyMTpcXFwiUmVhc3NpZ25tZW50IG9mICd7YX0nLCB3aGljaCBpcyBpcyBhIHtifS4gVXNlICd2YXInIG9yICdsZXQnIHRvIGRlY2xhcmUgYmluZGluZ3MgdGhhdCBtYXkgY2hhbmdlLlxcXCIsVzAyMjpcXFwiRG8gbm90IGFzc2lnbiB0byB0aGUgZXhjZXB0aW9uIHBhcmFtZXRlci5cXFwiLFcwMjM6XFxcIkV4cGVjdGVkIGFuIGlkZW50aWZpZXIgaW4gYW4gYXNzaWdubWVudCBhbmQgaW5zdGVhZCBzYXcgYSBmdW5jdGlvbiBpbnZvY2F0aW9uLlxcXCIsVzAyNDpcXFwiRXhwZWN0ZWQgYW4gaWRlbnRpZmllciBhbmQgaW5zdGVhZCBzYXcgJ3thfScgKGEgcmVzZXJ2ZWQgd29yZCkuXFxcIixXMDI1OlxcXCJNaXNzaW5nIG5hbWUgaW4gZnVuY3Rpb24gZGVjbGFyYXRpb24uXFxcIixXMDI2OlxcXCJJbm5lciBmdW5jdGlvbnMgc2hvdWxkIGJlIGxpc3RlZCBhdCB0aGUgdG9wIG9mIHRoZSBvdXRlciBmdW5jdGlvbi5cXFwiLFcwMjc6XFxcIlVucmVhY2hhYmxlICd7YX0nIGFmdGVyICd7Yn0nLlxcXCIsVzAyODpcXFwiTGFiZWwgJ3thfScgb24ge2J9IHN0YXRlbWVudC5cXFwiLFcwMzA6XFxcIkV4cGVjdGVkIGFuIGFzc2lnbm1lbnQgb3IgZnVuY3Rpb24gY2FsbCBhbmQgaW5zdGVhZCBzYXcgYW4gZXhwcmVzc2lvbi5cXFwiLFcwMzE6XFxcIkRvIG5vdCB1c2UgJ25ldycgZm9yIHNpZGUgZWZmZWN0cy5cXFwiLFcwMzI6XFxcIlVubmVjZXNzYXJ5IHNlbWljb2xvbi5cXFwiLFcwMzM6XFxcIk1pc3Npbmcgc2VtaWNvbG9uLlxcXCIsVzAzNDonVW5uZWNlc3NhcnkgZGlyZWN0aXZlIFxcXCJ7YX1cXFwiLicsVzAzNTpcXFwiRW1wdHkgYmxvY2suXFxcIixXMDM2OlxcXCJVbmV4cGVjdGVkIC8qbWVtYmVyICd7YX0nLlxcXCIsVzAzNzpcXFwiJ3thfScgaXMgYSBzdGF0ZW1lbnQgbGFiZWwuXFxcIixXMDM4OlxcXCIne2F9JyB1c2VkIG91dCBvZiBzY29wZS5cXFwiLFcwMzk6XFxcIid7YX0nIGlzIG5vdCBhbGxvd2VkLlxcXCIsVzA0MDpcXFwiUG9zc2libGUgc3RyaWN0IHZpb2xhdGlvbi5cXFwiLFcwNDE6XFxcIlVzZSAne2F9JyB0byBjb21wYXJlIHdpdGggJ3tifScuXFxcIixXMDQyOlxcXCJBdm9pZCBFT0wgZXNjYXBpbmcuXFxcIixXMDQzOlxcXCJCYWQgZXNjYXBpbmcgb2YgRU9MLiBVc2Ugb3B0aW9uIG11bHRpc3RyIGlmIG5lZWRlZC5cXFwiLFcwNDQ6XFxcIkJhZCBvciB1bm5lY2Vzc2FyeSBlc2NhcGluZy5cXFwiLFcwNDU6XFxcIkJhZCBudW1iZXIgJ3thfScuXFxcIixXMDQ2OlxcXCJEb24ndCB1c2UgZXh0cmEgbGVhZGluZyB6ZXJvcyAne2F9Jy5cXFwiLFcwNDc6XFxcIkEgdHJhaWxpbmcgZGVjaW1hbCBwb2ludCBjYW4gYmUgY29uZnVzZWQgd2l0aCBhIGRvdDogJ3thfScuXFxcIixXMDQ4OlxcXCJVbmV4cGVjdGVkIGNvbnRyb2wgY2hhcmFjdGVyIGluIHJlZ3VsYXIgZXhwcmVzc2lvbi5cXFwiLFcwNDk6XFxcIlVuZXhwZWN0ZWQgZXNjYXBlZCBjaGFyYWN0ZXIgJ3thfScgaW4gcmVndWxhciBleHByZXNzaW9uLlxcXCIsVzA1MDpcXFwiSmF2YVNjcmlwdCBVUkwuXFxcIixXMDUxOlxcXCJWYXJpYWJsZXMgc2hvdWxkIG5vdCBiZSBkZWxldGVkLlxcXCIsVzA1MjpcXFwiVW5leHBlY3RlZCAne2F9Jy5cXFwiLFcwNTM6XFxcIkRvIG5vdCB1c2Uge2F9IGFzIGEgY29uc3RydWN0b3IuXFxcIixXMDU0OlxcXCJUaGUgRnVuY3Rpb24gY29uc3RydWN0b3IgaXMgYSBmb3JtIG9mIGV2YWwuXFxcIixXMDU1OlxcXCJBIGNvbnN0cnVjdG9yIG5hbWUgc2hvdWxkIHN0YXJ0IHdpdGggYW4gdXBwZXJjYXNlIGxldHRlci5cXFwiLFcwNTY6XFxcIkJhZCBjb25zdHJ1Y3Rvci5cXFwiLFcwNTc6XFxcIldlaXJkIGNvbnN0cnVjdGlvbi4gSXMgJ25ldycgbmVjZXNzYXJ5P1xcXCIsVzA1ODpcXFwiTWlzc2luZyAnKCknIGludm9raW5nIGEgY29uc3RydWN0b3IuXFxcIixXMDU5OlxcXCJBdm9pZCBhcmd1bWVudHMue2F9LlxcXCIsVzA2MDpcXFwiZG9jdW1lbnQud3JpdGUgY2FuIGJlIGEgZm9ybSBvZiBldmFsLlxcXCIsVzA2MTpcXFwiZXZhbCBjYW4gYmUgaGFybWZ1bC5cXFwiLFcwNjI6XFxcIldyYXAgYW4gaW1tZWRpYXRlIGZ1bmN0aW9uIGludm9jYXRpb24gaW4gcGFyZW5zIHRvIGFzc2lzdCB0aGUgcmVhZGVyIGluIHVuZGVyc3RhbmRpbmcgdGhhdCB0aGUgZXhwcmVzc2lvbiBpcyB0aGUgcmVzdWx0IG9mIGEgZnVuY3Rpb24sIGFuZCBub3QgdGhlIGZ1bmN0aW9uIGl0c2VsZi5cXFwiLFcwNjM6XFxcIk1hdGggaXMgbm90IGEgZnVuY3Rpb24uXFxcIixXMDY0OlxcXCJNaXNzaW5nICduZXcnIHByZWZpeCB3aGVuIGludm9raW5nIGEgY29uc3RydWN0b3IuXFxcIixXMDY1OlxcXCJNaXNzaW5nIHJhZGl4IHBhcmFtZXRlci5cXFwiLFcwNjY6XFxcIkltcGxpZWQgZXZhbC4gQ29uc2lkZXIgcGFzc2luZyBhIGZ1bmN0aW9uIGluc3RlYWQgb2YgYSBzdHJpbmcuXFxcIixXMDY3OlxcXCJCYWQgaW52b2NhdGlvbi5cXFwiLFcwNjg6XFxcIldyYXBwaW5nIG5vbi1JSUZFIGZ1bmN0aW9uIGxpdGVyYWxzIGluIHBhcmVucyBpcyB1bm5lY2Vzc2FyeS5cXFwiLFcwNjk6XFxcIlsne2F9J10gaXMgYmV0dGVyIHdyaXR0ZW4gaW4gZG90IG5vdGF0aW9uLlxcXCIsVzA3MDpcXFwiRXh0cmEgY29tbWEuIChpdCBicmVha3Mgb2xkZXIgdmVyc2lvbnMgb2YgSUUpXFxcIixXMDcxOlxcXCJUaGlzIGZ1bmN0aW9uIGhhcyB0b28gbWFueSBzdGF0ZW1lbnRzLiAoe2F9KVxcXCIsVzA3MjpcXFwiVGhpcyBmdW5jdGlvbiBoYXMgdG9vIG1hbnkgcGFyYW1ldGVycy4gKHthfSlcXFwiLFcwNzM6XFxcIkJsb2NrcyBhcmUgbmVzdGVkIHRvbyBkZWVwbHkuICh7YX0pXFxcIixXMDc0OlxcXCJUaGlzIGZ1bmN0aW9uJ3MgY3ljbG9tYXRpYyBjb21wbGV4aXR5IGlzIHRvbyBoaWdoLiAoe2F9KVxcXCIsVzA3NTpcXFwiRHVwbGljYXRlIHthfSAne2J9Jy5cXFwiLFcwNzY6XFxcIlVuZXhwZWN0ZWQgcGFyYW1ldGVyICd7YX0nIGluIGdldCB7Yn0gZnVuY3Rpb24uXFxcIixXMDc3OlxcXCJFeHBlY3RlZCBhIHNpbmdsZSBwYXJhbWV0ZXIgaW4gc2V0IHthfSBmdW5jdGlvbi5cXFwiLFcwNzg6XFxcIlNldHRlciBpcyBkZWZpbmVkIHdpdGhvdXQgZ2V0dGVyLlxcXCIsVzA3OTpcXFwiUmVkZWZpbml0aW9uIG9mICd7YX0nLlxcXCIsVzA4MDpcXFwiSXQncyBub3QgbmVjZXNzYXJ5IHRvIGluaXRpYWxpemUgJ3thfScgdG8gJ3VuZGVmaW5lZCcuXFxcIixXMDgxOm51bGwsVzA4MjpcXFwiRnVuY3Rpb24gZGVjbGFyYXRpb25zIHNob3VsZCBub3QgYmUgcGxhY2VkIGluIGJsb2Nrcy4gVXNlIGEgZnVuY3Rpb24gZXhwcmVzc2lvbiBvciBtb3ZlIHRoZSBzdGF0ZW1lbnQgdG8gdGhlIHRvcCBvZiB0aGUgb3V0ZXIgZnVuY3Rpb24uXFxcIixXMDgzOlxcXCJEb24ndCBtYWtlIGZ1bmN0aW9ucyB3aXRoaW4gYSBsb29wLlxcXCIsVzA4NDpcXFwiQXNzaWdubWVudCBpbiBjb25kaXRpb25hbCBleHByZXNzaW9uXFxcIixXMDg1OlxcXCJEb24ndCB1c2UgJ3dpdGgnLlxcXCIsVzA4NjpcXFwiRXhwZWN0ZWQgYSAnYnJlYWsnIHN0YXRlbWVudCBiZWZvcmUgJ3thfScuXFxcIixXMDg3OlxcXCJGb3Jnb3R0ZW4gJ2RlYnVnZ2VyJyBzdGF0ZW1lbnQ/XFxcIixXMDg4OlxcXCJDcmVhdGluZyBnbG9iYWwgJ2ZvcicgdmFyaWFibGUuIFNob3VsZCBiZSAnZm9yICh2YXIge2F9IC4uLicuXFxcIixXMDg5OlxcXCJUaGUgYm9keSBvZiBhIGZvciBpbiBzaG91bGQgYmUgd3JhcHBlZCBpbiBhbiBpZiBzdGF0ZW1lbnQgdG8gZmlsdGVyIHVud2FudGVkIHByb3BlcnRpZXMgZnJvbSB0aGUgcHJvdG90eXBlLlxcXCIsVzA5MDpcXFwiJ3thfScgaXMgbm90IGEgc3RhdGVtZW50IGxhYmVsLlxcXCIsVzA5MTpudWxsLFcwOTM6XFxcIkRpZCB5b3UgbWVhbiB0byByZXR1cm4gYSBjb25kaXRpb25hbCBpbnN0ZWFkIG9mIGFuIGFzc2lnbm1lbnQ/XFxcIixXMDk0OlxcXCJVbmV4cGVjdGVkIGNvbW1hLlxcXCIsVzA5NTpcXFwiRXhwZWN0ZWQgYSBzdHJpbmcgYW5kIGluc3RlYWQgc2F3IHthfS5cXFwiLFcwOTY6XFxcIlRoZSAne2F9JyBrZXkgbWF5IHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxcXCIsVzA5NzonVXNlIHRoZSBmdW5jdGlvbiBmb3JtIG9mIFxcXCJ1c2Ugc3RyaWN0XFxcIi4nLFcwOTg6XFxcIid7YX0nIGlzIGRlZmluZWQgYnV0IG5ldmVyIHVzZWQuXFxcIixXMDk5Om51bGwsVzEwMDpcXFwiVGhpcyBjaGFyYWN0ZXIgbWF5IGdldCBzaWxlbnRseSBkZWxldGVkIGJ5IG9uZSBvciBtb3JlIGJyb3dzZXJzLlxcXCIsVzEwMTpcXFwiTGluZSBpcyB0b28gbG9uZy5cXFwiLFcxMDI6bnVsbCxXMTAzOlxcXCJUaGUgJ3thfScgcHJvcGVydHkgaXMgZGVwcmVjYXRlZC5cXFwiLFcxMDQ6XFxcIid7YX0nIGlzIGF2YWlsYWJsZSBpbiBFU3tifSAodXNlICdlc3ZlcnNpb246IHtifScpIG9yIE1vemlsbGEgSlMgZXh0ZW5zaW9ucyAodXNlIG1veikuXFxcIixXMTA1OlxcXCJVbmV4cGVjdGVkIHthfSBpbiAne2J9Jy5cXFwiLFcxMDY6XFxcIklkZW50aWZpZXIgJ3thfScgaXMgbm90IGluIGNhbWVsIGNhc2UuXFxcIixXMTA3OlxcXCJTY3JpcHQgVVJMLlxcXCIsVzEwODpcXFwiU3RyaW5ncyBtdXN0IHVzZSBkb3VibGVxdW90ZS5cXFwiLFcxMDk6XFxcIlN0cmluZ3MgbXVzdCB1c2Ugc2luZ2xlcXVvdGUuXFxcIixXMTEwOlxcXCJNaXhlZCBkb3VibGUgYW5kIHNpbmdsZSBxdW90ZXMuXFxcIixXMTEyOlxcXCJVbmNsb3NlZCBzdHJpbmcuXFxcIixXMTEzOlxcXCJDb250cm9sIGNoYXJhY3RlciBpbiBzdHJpbmc6IHthfS5cXFwiLFcxMTQ6XFxcIkF2b2lkIHthfS5cXFwiLFcxMTU6XFxcIk9jdGFsIGxpdGVyYWxzIGFyZSBub3QgYWxsb3dlZCBpbiBzdHJpY3QgbW9kZS5cXFwiLFcxMTY6XFxcIkV4cGVjdGVkICd7YX0nIGFuZCBpbnN0ZWFkIHNhdyAne2J9Jy5cXFwiLFcxMTc6XFxcIid7YX0nIGlzIG5vdCBkZWZpbmVkLlxcXCIsVzExODpcXFwiJ3thfScgaXMgb25seSBhdmFpbGFibGUgaW4gTW96aWxsYSBKYXZhU2NyaXB0IGV4dGVuc2lvbnMgKHVzZSBtb3ogb3B0aW9uKS5cXFwiLFcxMTk6XFxcIid7YX0nIGlzIG9ubHkgYXZhaWxhYmxlIGluIEVTe2J9ICh1c2UgJ2VzdmVyc2lvbjoge2J9JykuXFxcIixXMTIwOlxcXCJZb3UgbWlnaHQgYmUgbGVha2luZyBhIHZhcmlhYmxlICh7YX0pIGhlcmUuXFxcIixXMTIxOlxcXCJFeHRlbmRpbmcgcHJvdG90eXBlIG9mIG5hdGl2ZSBvYmplY3Q6ICd7YX0nLlxcXCIsVzEyMjpcXFwiSW52YWxpZCB0eXBlb2YgdmFsdWUgJ3thfSdcXFwiLFcxMjM6XFxcIid7YX0nIGlzIGFscmVhZHkgZGVmaW5lZCBpbiBvdXRlciBzY29wZS5cXFwiLFcxMjQ6XFxcIkEgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNoYWxsIGNvbnRhaW4gYSB5aWVsZCBzdGF0ZW1lbnQuXFxcIixXMTI1OlxcXCJUaGlzIGxpbmUgY29udGFpbnMgbm9uLWJyZWFraW5nIHNwYWNlczogaHR0cDovL2pzaGludC5jb20vZG9jL29wdGlvbnMvI25vbmJzcFxcXCIsVzEyNjpcXFwiVW5uZWNlc3NhcnkgZ3JvdXBpbmcgb3BlcmF0b3IuXFxcIixXMTI3OlxcXCJVbmV4cGVjdGVkIHVzZSBvZiBhIGNvbW1hIG9wZXJhdG9yLlxcXCIsVzEyODpcXFwiRW1wdHkgYXJyYXkgZWxlbWVudHMgYWNlcXVpcmUgZWxpc2lvbj10cnVlLlxcXCIsVzEyOTpcXFwiJ3thfScgaXMgZGVmaW5lZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIEphdmFTY3JpcHQuIFVzZSBhIGRpZmZlcmVudCB2YXJpYWJsZSBuYW1lIHRvIGF2b2lkIG1pZ3JhdGlvbiBpc3N1ZXMuXFxcIixXMTMwOlxcXCJJbnZhbGlkIGVsZW1lbnQgYWZ0ZXIgcmVzdCBlbGVtZW50LlxcXCIsVzEzMTpcXFwiSW52YWxpZCBwYXJhbWV0ZXIgYWZ0ZXIgcmVzdCBwYXJhbWV0ZXIuXFxcIixXMTMyOlxcXCJgdmFyYCBkZWNsYXJhdGlvbnMgYXJlIGZvcmJpZGRlbi4gVXNlIGBsZXRgIG9yIGBjb25zdGAgaW5zdGVhZC5cXFwiLFcxMzM6XFxcIkludmFsaWQgZm9yLXthfSBsb29wIGxlZnQtaGFuZC1zaWRlOiB7Yn0uXFxcIixXMTM0OlxcXCJUaGUgJ3thfScgb3B0aW9uIGlzIG9ubHkgYXZhaWxhYmxlIHdoZW4gbGludGluZyBFQ01BU2NyaXB0IHtifSBjb2RlLlxcXCIsVzEzNTpcXFwie2F9IG1heSBub3QgYmUgc3VwcG9ydGVkIGJ5IG5vbi1icm93c2VyIGVudmlyb25tZW50cy5cXFwiLFcxMzY6XFxcIid7YX0nIG11c3QgYmUgaW4gZnVuY3Rpb24gc2NvcGUuXFxcIixXMTM3OlxcXCJFbXB0eSBkZXN0cnVjdHVyaW5nLlxcXCIsVzEzODpcXFwiUmVndWxhciBwYXJhbWV0ZXJzIHNob3VsZCBub3QgY29tZSBhZnRlciBkZWZhdWx0IHBhcmFtZXRlcnMuXFxcIn0saW5mbz17STAwMTpcXFwiQ29tbWEgd2FybmluZ3MgY2FuIGJlIHR1cm5lZCBvZmYgd2l0aCAnbGF4Y29tbWEnLlxcXCIsSTAwMjpudWxsLEkwMDM6XFxcIkVTNSBvcHRpb24gaXMgbm93IHNldCBwZXIgZGVmYXVsdFxcXCJ9O2V4cG9ydHMuZXJyb3JzPXt9LGV4cG9ydHMud2FybmluZ3M9e30sZXhwb3J0cy5pbmZvPXt9LF8uZWFjaChlcnJvcnMsZnVuY3Rpb24oZGVzYyxjb2RlKXtleHBvcnRzLmVycm9yc1tjb2RlXT17Y29kZTpjb2RlLGRlc2M6ZGVzY319KSxfLmVhY2god2FybmluZ3MsZnVuY3Rpb24oZGVzYyxjb2RlKXtleHBvcnRzLndhcm5pbmdzW2NvZGVdPXtjb2RlOmNvZGUsZGVzYzpkZXNjfX0pLF8uZWFjaChpbmZvLGZ1bmN0aW9uKGRlc2MsY29kZSl7ZXhwb3J0cy5pbmZvW2NvZGVdPXtjb2RlOmNvZGUsZGVzYzpkZXNjfX0pfSx7XFxcIi4uL2xvZGFzaFxcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L2xvZGFzaC5qc1xcXCJ9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL25hbWUtc3RhY2suanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIE5hbWVTdGFjaygpe3RoaXMuX3N0YWNrPVtdfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOYW1lU3RhY2sucHJvdG90eXBlLFxcXCJsZW5ndGhcXFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhY2subGVuZ3RofX0pLE5hbWVTdGFjay5wcm90b3R5cGUucHVzaD1mdW5jdGlvbigpe3RoaXMuX3N0YWNrLnB1c2gobnVsbCl9LE5hbWVTdGFjay5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7dGhpcy5fc3RhY2sucG9wKCl9LE5hbWVTdGFjay5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHRva2VuKXt0aGlzLl9zdGFja1t0aGlzLmxlbmd0aC0xXT10b2tlbn0sTmFtZVN0YWNrLnByb3RvdHlwZS5pbmZlcj1mdW5jdGlvbigpe3ZhciB0eXBlLG5hbWVUb2tlbj10aGlzLl9zdGFja1t0aGlzLmxlbmd0aC0xXSxwcmVmaXg9XFxcIlxcXCI7cmV0dXJuIG5hbWVUb2tlbiYmXFxcImNsYXNzXFxcIiE9PW5hbWVUb2tlbi50eXBlfHwobmFtZVRva2VuPXRoaXMuX3N0YWNrW3RoaXMubGVuZ3RoLTJdKSxuYW1lVG9rZW4/KHR5cGU9bmFtZVRva2VuLnR5cGUsXFxcIihzdHJpbmcpXFxcIiE9PXR5cGUmJlxcXCIobnVtYmVyKVxcXCIhPT10eXBlJiZcXFwiKGlkZW50aWZpZXIpXFxcIiE9PXR5cGUmJlxcXCJkZWZhdWx0XFxcIiE9PXR5cGU/XFxcIihleHByZXNzaW9uKVxcXCI6KG5hbWVUb2tlbi5hY2Nlc3NvclR5cGUmJihwcmVmaXg9bmFtZVRva2VuLmFjY2Vzc29yVHlwZStcXFwiIFxcXCIpLHByZWZpeCtuYW1lVG9rZW4udmFsdWUpKTpcXFwiKGVtcHR5KVxcXCJ9LG1vZHVsZS5leHBvcnRzPU5hbWVTdGFja30se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvb3B0aW9ucy5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLmJvb2w9e2VuZm9yY2luZzp7Yml0d2lzZTohMCxmcmVlemU6ITAsY2FtZWxjYXNlOiEwLGN1cmx5OiEwLGVxZXFlcTohMCxmdXR1cmVob3N0aWxlOiEwLG5vdHlwZW9mOiEwLGVzMzohMCxlczU6ITAsZm9yaW46ITAsZnVuY3Njb3BlOiEwLGltbWVkOiEwLGl0ZXJhdG9yOiEwLG5ld2NhcDohMCxub2FyZzohMCxub2NvbW1hOiEwLG5vZW1wdHk6ITAsbm9uYnNwOiEwLG5vbmV3OiEwLHVuZGVmOiEwLHNpbmdsZUdyb3VwczohMSx2YXJzdG10OiExLGVuZm9yY2VhbGw6ITF9LHJlbGF4aW5nOnthc2k6ITAsbXVsdGlzdHI6ITAsZGVidWc6ITAsYm9zczohMCxldmlsOiEwLGdsb2JhbHN0cmljdDohMCxwbHVzcGx1czohMCxwcm90bzohMCxzY3JpcHR1cmw6ITAsc3ViOiEwLHN1cGVybmV3OiEwLGxheGJyZWFrOiEwLGxheGNvbW1hOiEwLHZhbGlkdGhpczohMCx3aXRoc3RtdDohMCxtb3o6ITAsbm95aWVsZDohMCxlcW51bGw6ITAsbGFzdHNlbWljOiEwLGxvb3BmdW5jOiEwLGV4cHI6ITAsZXNuZXh0OiEwLGVsaXNpb246ITB9LGVudmlyb25tZW50czp7bW9vdG9vbHM6ITAsY291Y2g6ITAsamFzbWluZTohMCxqcXVlcnk6ITAsbm9kZTohMCxxdW5pdDohMCxyaGlubzohMCxzaGVsbGpzOiEwLHByb3RvdHlwZWpzOiEwLHl1aTohMCxtb2NoYTohMCxtb2R1bGU6ITAsd3NoOiEwLHdvcmtlcjohMCxub25zdGFuZGFyZDohMCxicm93c2VyOiEwLGJyb3dzZXJpZnk6ITAsZGV2ZWw6ITAsZG9qbzohMCx0eXBlZDohMCxwaGFudG9tOiEwfSxvYnNvbGV0ZTp7b25lY2FzZTohMCxyZWdleHA6ITAscmVnZXhkYXNoOiEwfX0sZXhwb3J0cy52YWw9e21heGxlbjohMSxpbmRlbnQ6ITEsbWF4ZXJyOiExLHByZWRlZjohMSxnbG9iYWxzOiExLHF1b3RtYXJrOiExLHNjb3BlOiExLG1heHN0YXRlbWVudHM6ITEsbWF4ZGVwdGg6ITEsbWF4cGFyYW1zOiExLG1heGNvbXBsZXhpdHk6ITEsc2hhZG93OiExLHN0cmljdDohMCx1bnVzZWQ6ITAsbGF0ZWRlZjohMSxpZ25vcmU6ITEsaWdub3JlRGVsaW1pdGVyczohMSxlc3ZlcnNpb246NX0sZXhwb3J0cy5pbnZlcnRlZD17Yml0d2lzZTohMCxmb3JpbjohMCxuZXdjYXA6ITAscGx1c3BsdXM6ITAscmVnZXhwOiEwLHVuZGVmOiEwLGVxZXFlcTohMCxzdHJpY3Q6ITB9LGV4cG9ydHMudmFsaWROYW1lcz1PYmplY3Qua2V5cyhleHBvcnRzLnZhbCkuY29uY2F0KE9iamVjdC5rZXlzKGV4cG9ydHMuYm9vbC5yZWxheGluZykpLmNvbmNhdChPYmplY3Qua2V5cyhleHBvcnRzLmJvb2wuZW5mb3JjaW5nKSkuY29uY2F0KE9iamVjdC5rZXlzKGV4cG9ydHMuYm9vbC5vYnNvbGV0ZSkpLmNvbmNhdChPYmplY3Qua2V5cyhleHBvcnRzLmJvb2wuZW52aXJvbm1lbnRzKSksZXhwb3J0cy5yZW5hbWVkPXtlcWVxOlxcXCJlcWVxZXFcXFwiLHdpbmRvd3M6XFxcIndzaFxcXCIsc2xvcHB5OlxcXCJzdHJpY3RcXFwifSxleHBvcnRzLnJlbW92ZWQ9e25vbWVuOiEwLG9uZXZhcjohMCxwYXNzZmFpbDohMCx3aGl0ZTohMCxnY2w6ITAsc21hcnR0YWJzOiEwLHRyYWlsaW5nOiEwfSxleHBvcnRzLm5vZW5mb3JjZWFsbD17dmFyc3RtdDohMCxzdHJpY3Q6ITB9fSx7fV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9yZWcuanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZXhwb3J0cy51bnNhZmVTdHJpbmc9L0BjY3w8XFxcXC8/fHNjcmlwdHxcXFxcXVxcXFxzKlxcXFxdfDxcXFxccyohfCZsdC9pLGV4cG9ydHMudW5zYWZlQ2hhcnM9L1tcXFxcdTAwMDAtXFxcXHUwMDFmXFxcXHUwMDdmLVxcXFx1MDA5ZlxcXFx1MDBhZFxcXFx1MDYwMC1cXFxcdTA2MDRcXFxcdTA3MGZcXFxcdTE3YjRcXFxcdTE3YjVcXFxcdTIwMGMtXFxcXHUyMDBmXFxcXHUyMDI4LVxcXFx1MjAyZlxcXFx1MjA2MC1cXFxcdTIwNmZcXFxcdWZlZmZcXFxcdWZmZjAtXFxcXHVmZmZmXS8sZXhwb3J0cy5uZWVkRXNjPS9bXFxcXHUwMDAwLVxcXFx1MDAxZiY8XFxcIlxcXFwvXFxcXFxcXFxcXFxcdTAwN2YtXFxcXHUwMDlmXFxcXHUwMGFkXFxcXHUwNjAwLVxcXFx1MDYwNFxcXFx1MDcwZlxcXFx1MTdiNFxcXFx1MTdiNVxcXFx1MjAwYy1cXFxcdTIwMGZcXFxcdTIwMjgtXFxcXHUyMDJmXFxcXHUyMDYwLVxcXFx1MjA2ZlxcXFx1ZmVmZlxcXFx1ZmZmMC1cXFxcdWZmZmZdLyxleHBvcnRzLm5lZWRFc2NHbG9iYWw9L1tcXFxcdTAwMDAtXFxcXHUwMDFmJjxcXFwiXFxcXC9cXFxcXFxcXFxcXFx1MDA3Zi1cXFxcdTAwOWZcXFxcdTAwYWRcXFxcdTA2MDAtXFxcXHUwNjA0XFxcXHUwNzBmXFxcXHUxN2I0XFxcXHUxN2I1XFxcXHUyMDBjLVxcXFx1MjAwZlxcXFx1MjAyOC1cXFxcdTIwMmZcXFxcdTIwNjAtXFxcXHUyMDZmXFxcXHVmZWZmXFxcXHVmZmYwLVxcXFx1ZmZmZl0vZyxleHBvcnRzLnN0YXJTbGFzaD0vXFxcXCpcXFxcLy8sZXhwb3J0cy5pZGVudGlmaWVyPS9eKFthLXpBLVpfJF1bYS16QS1aMC05XyRdKikkLyxleHBvcnRzLmphdmFzY3JpcHRVUkw9L14oPzpqYXZhc2NyaXB0fGpzY3JpcHR8ZWNtYXNjcmlwdHx2YnNjcmlwdHxsaXZlc2NyaXB0KVxcXFxzKjovaSxleHBvcnRzLmZhbGxzVGhyb3VnaD0vXlxcXFxzKmZhbGxzP1xcXFxzdGhyb3VnaFxcXFxzKiQvLGV4cG9ydHMubWF4bGVuRXhjZXB0aW9uPS9eKD86KD86XFxcXC9cXFxcL3xcXFxcL1xcXFwqfFxcXFwqKSA/KT9bXiBdKyQvfSx7fV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9zY29wZS1tYW5hZ2VyLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgXz1fZGVyZXFfKFxcXCIuLi9sb2Rhc2hcXFwiKSxldmVudHM9X2RlcmVxXyhcXFwiZXZlbnRzXFxcIiksbWFya2VyPXt9LHNjb3BlTWFuYWdlcj1mdW5jdGlvbihzdGF0ZSxwcmVkZWZpbmVkLGV4cG9ydGVkLGRlY2xhcmVkKXtmdW5jdGlvbiBfbmV3U2NvcGUodHlwZSl7X2N1cnJlbnQ9e1xcXCIobGFiZWxzKVxcXCI6T2JqZWN0LmNyZWF0ZShudWxsKSxcXFwiKHVzYWdlcylcXFwiOk9iamVjdC5jcmVhdGUobnVsbCksXFxcIihicmVha0xhYmVscylcXFwiOk9iamVjdC5jcmVhdGUobnVsbCksXFxcIihwYXJlbnQpXFxcIjpfY3VycmVudCxcXFwiKHR5cGUpXFxcIjp0eXBlLFxcXCIocGFyYW1zKVxcXCI6XFxcImZ1bmN0aW9ucGFyYW1zXFxcIj09PXR5cGV8fFxcXCJjYXRjaHBhcmFtc1xcXCI9PT10eXBlP1tdOm51bGx9LF9zY29wZVN0YWNrLnB1c2goX2N1cnJlbnQpfWZ1bmN0aW9uIHdhcm5pbmcoY29kZSx0b2tlbil7ZW1pdHRlci5lbWl0KFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpjb2RlLHRva2VuOnRva2VuLGRhdGE6Xy5zbGljZShhcmd1bWVudHMsMil9KX1mdW5jdGlvbiBlcnJvcihjb2RlLHRva2VuKXtlbWl0dGVyLmVtaXQoXFxcIndhcm5pbmdcXFwiLHtjb2RlOmNvZGUsdG9rZW46dG9rZW4sZGF0YTpfLnNsaWNlKGFyZ3VtZW50cywyKX0pfWZ1bmN0aW9uIF9zZXR1cFVzYWdlcyhsYWJlbE5hbWUpe19jdXJyZW50W1xcXCIodXNhZ2VzKVxcXCJdW2xhYmVsTmFtZV18fChfY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdPXtcXFwiKG1vZGlmaWVkKVxcXCI6W10sXFxcIihyZWFzc2lnbmVkKVxcXCI6W10sXFxcIih0b2tlbnMpXFxcIjpbXX0pfWZ1bmN0aW9uIF9jaGVja0ZvclVudXNlZCgpe2lmKFxcXCJmdW5jdGlvbnBhcmFtc1xcXCI9PT1fY3VycmVudFtcXFwiKHR5cGUpXFxcIl0pcmV0dXJuIF9jaGVja1BhcmFtcygpLHZvaWQgMDt2YXIgY3VyZW50TGFiZWxzPV9jdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdO2Zvcih2YXIgbGFiZWxOYW1lIGluIGN1cmVudExhYmVscyljdXJlbnRMYWJlbHNbbGFiZWxOYW1lXSYmXFxcImV4Y2VwdGlvblxcXCIhPT1jdXJlbnRMYWJlbHNbbGFiZWxOYW1lXVtcXFwiKHR5cGUpXFxcIl0mJmN1cmVudExhYmVsc1tsYWJlbE5hbWVdW1xcXCIodW51c2VkKVxcXCJdJiZfd2FyblVudXNlZChsYWJlbE5hbWUsY3VyZW50TGFiZWxzW2xhYmVsTmFtZV1bXFxcIih0b2tlbilcXFwiXSxcXFwidmFyXFxcIil9ZnVuY3Rpb24gX2NoZWNrUGFyYW1zKCl7dmFyIHBhcmFtcz1fY3VycmVudFtcXFwiKHBhcmFtcylcXFwiXTtpZihwYXJhbXMpZm9yKHZhciB1bnVzZWRfb3B0LHBhcmFtPXBhcmFtcy5wb3AoKTtwYXJhbTspe3ZhciBsYWJlbD1fY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtwYXJhbV07aWYodW51c2VkX29wdD1fZ2V0VW51c2VkT3B0aW9uKHN0YXRlLmZ1bmN0W1xcXCIodW51c2VkT3B0aW9uKVxcXCJdKSxcXFwidW5kZWZpbmVkXFxcIj09PXBhcmFtKXJldHVybjtpZihsYWJlbFtcXFwiKHVudXNlZClcXFwiXSlfd2FyblVudXNlZChwYXJhbSxsYWJlbFtcXFwiKHRva2VuKVxcXCJdLFxcXCJwYXJhbVxcXCIsc3RhdGUuZnVuY3RbXFxcIih1bnVzZWRPcHRpb24pXFxcIl0pO2Vsc2UgaWYoXFxcImxhc3QtcGFyYW1cXFwiPT09dW51c2VkX29wdClyZXR1cm47cGFyYW09cGFyYW1zLnBvcCgpfX1mdW5jdGlvbiBfZ2V0TGFiZWwobGFiZWxOYW1lKXtmb3IodmFyIGk9X3Njb3BlU3RhY2subGVuZ3RoLTE7aT49MDstLWkpe3ZhciBzY29wZUxhYmVscz1fc2NvcGVTdGFja1tpXVtcXFwiKGxhYmVscylcXFwiXTtpZihzY29wZUxhYmVsc1tsYWJlbE5hbWVdKXJldHVybiBzY29wZUxhYmVsc319ZnVuY3Rpb24gdXNlZFNvRmFySW5DdXJyZW50RnVuY3Rpb24obGFiZWxOYW1lKXtmb3IodmFyIGk9X3Njb3BlU3RhY2subGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBjdXJyZW50PV9zY29wZVN0YWNrW2ldO2lmKGN1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXSlyZXR1cm4gY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdO2lmKGN1cnJlbnQ9PT1fY3VycmVudEZ1bmN0Qm9keSlicmVha31yZXR1cm4hMX1mdW5jdGlvbiBfY2hlY2tPdXRlclNoYWRvdyhsYWJlbE5hbWUsdG9rZW4pe2lmKFxcXCJvdXRlclxcXCI9PT1zdGF0ZS5vcHRpb24uc2hhZG93KWZvcih2YXIgaXNHbG9iYWw9XFxcImdsb2JhbFxcXCI9PT1fY3VycmVudEZ1bmN0Qm9keVtcXFwiKHR5cGUpXFxcIl0saXNOZXdGdW5jdGlvbj1cXFwiZnVuY3Rpb25wYXJhbXNcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdLG91dHNpZGVDdXJyZW50RnVuY3Rpb249IWlzR2xvYmFsLGk9MDtfc2NvcGVTdGFjay5sZW5ndGg+aTtpKyspe3ZhciBzdGFja0l0ZW09X3Njb3BlU3RhY2tbaV07aXNOZXdGdW5jdGlvbnx8X3Njb3BlU3RhY2tbaSsxXSE9PV9jdXJyZW50RnVuY3RCb2R5fHwob3V0c2lkZUN1cnJlbnRGdW5jdGlvbj0hMSksb3V0c2lkZUN1cnJlbnRGdW5jdGlvbiYmc3RhY2tJdGVtW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV0mJndhcm5pbmcoXFxcIlcxMjNcXFwiLHRva2VuLGxhYmVsTmFtZSksc3RhY2tJdGVtW1xcXCIoYnJlYWtMYWJlbHMpXFxcIl1bbGFiZWxOYW1lXSYmd2FybmluZyhcXFwiVzEyM1xcXCIsdG9rZW4sbGFiZWxOYW1lKX19ZnVuY3Rpb24gX2xhdGVkZWZXYXJuaW5nKHR5cGUsbGFiZWxOYW1lLHRva2VuKXtzdGF0ZS5vcHRpb24ubGF0ZWRlZiYmKHN0YXRlLm9wdGlvbi5sYXRlZGVmPT09ITAmJlxcXCJmdW5jdGlvblxcXCI9PT10eXBlfHxcXFwiZnVuY3Rpb25cXFwiIT09dHlwZSkmJndhcm5pbmcoXFxcIlcwMDNcXFwiLHRva2VuLGxhYmVsTmFtZSl9dmFyIF9jdXJyZW50LF9zY29wZVN0YWNrPVtdO19uZXdTY29wZShcXFwiZ2xvYmFsXFxcIiksX2N1cnJlbnRbXFxcIihwcmVkZWZpbmVkKVxcXCJdPXByZWRlZmluZWQ7dmFyIF9jdXJyZW50RnVuY3RCb2R5PV9jdXJyZW50LHVzZWRQcmVkZWZpbmVkQW5kR2xvYmFscz1PYmplY3QuY3JlYXRlKG51bGwpLGltcGxpZWRHbG9iYWxzPU9iamVjdC5jcmVhdGUobnVsbCksdW51c2Vkcz1bXSxlbWl0dGVyPW5ldyBldmVudHMuRXZlbnRFbWl0dGVyLF9nZXRVbnVzZWRPcHRpb249ZnVuY3Rpb24odW51c2VkX29wdCl7cmV0dXJuIHZvaWQgMD09PXVudXNlZF9vcHQmJih1bnVzZWRfb3B0PXN0YXRlLm9wdGlvbi51bnVzZWQpLHVudXNlZF9vcHQ9PT0hMCYmKHVudXNlZF9vcHQ9XFxcImxhc3QtcGFyYW1cXFwiKSx1bnVzZWRfb3B0fSxfd2FyblVudXNlZD1mdW5jdGlvbihuYW1lLHRrbix0eXBlLHVudXNlZF9vcHQpe3ZhciBsaW5lPXRrbi5saW5lLGNocj10a24uZnJvbSxyYXdfbmFtZT10a24ucmF3X3RleHR8fG5hbWU7dW51c2VkX29wdD1fZ2V0VW51c2VkT3B0aW9uKHVudXNlZF9vcHQpO3ZhciB3YXJuYWJsZV90eXBlcz17dmFyczpbXFxcInZhclxcXCJdLFxcXCJsYXN0LXBhcmFtXFxcIjpbXFxcInZhclxcXCIsXFxcInBhcmFtXFxcIl0sc3RyaWN0OltcXFwidmFyXFxcIixcXFwicGFyYW1cXFwiLFxcXCJsYXN0LXBhcmFtXFxcIl19O3VudXNlZF9vcHQmJndhcm5hYmxlX3R5cGVzW3VudXNlZF9vcHRdJiYtMSE9PXdhcm5hYmxlX3R5cGVzW3VudXNlZF9vcHRdLmluZGV4T2YodHlwZSkmJndhcm5pbmcoXFxcIlcwOThcXFwiLHtsaW5lOmxpbmUsZnJvbTpjaHJ9LHJhd19uYW1lKSwodW51c2VkX29wdHx8XFxcInZhclxcXCI9PT10eXBlKSYmdW51c2Vkcy5wdXNoKHtuYW1lOm5hbWUsbGluZTpsaW5lLGNoYXJhY3RlcjpjaHJ9KX0sc2NvcGVNYW5hZ2VySW5zdD17b246ZnVuY3Rpb24obmFtZXMsbGlzdGVuZXIpe25hbWVzLnNwbGl0KFxcXCIgXFxcIikuZm9yRWFjaChmdW5jdGlvbihuYW1lKXtlbWl0dGVyLm9uKG5hbWUsbGlzdGVuZXIpfSl9LGlzUHJlZGVmaW5lZDpmdW5jdGlvbihsYWJlbE5hbWUpe3JldHVybiF0aGlzLmhhcyhsYWJlbE5hbWUpJiZfLmhhcyhfc2NvcGVTdGFja1swXVtcXFwiKHByZWRlZmluZWQpXFxcIl0sbGFiZWxOYW1lKX0sc3RhY2s6ZnVuY3Rpb24odHlwZSl7dmFyIHByZXZpb3VzU2NvcGU9X2N1cnJlbnQ7X25ld1Njb3BlKHR5cGUpLHR5cGV8fFxcXCJmdW5jdGlvbnBhcmFtc1xcXCIhPT1wcmV2aW91c1Njb3BlW1xcXCIodHlwZSlcXFwiXXx8KF9jdXJyZW50W1xcXCIoaXNGdW5jQm9keSlcXFwiXT0hMCxfY3VycmVudFtcXFwiKGNvbnRleHQpXFxcIl09X2N1cnJlbnRGdW5jdEJvZHksX2N1cnJlbnRGdW5jdEJvZHk9X2N1cnJlbnQpfSx1bnN0YWNrOmZ1bmN0aW9uKCl7dmFyIGksaixzdWJTY29wZT1fc2NvcGVTdGFjay5sZW5ndGg+MT9fc2NvcGVTdGFja1tfc2NvcGVTdGFjay5sZW5ndGgtMl06bnVsbCxpc1Vuc3RhY2tpbmdGdW5jdGlvbkJvZHk9X2N1cnJlbnQ9PT1fY3VycmVudEZ1bmN0Qm9keSxpc1Vuc3RhY2tpbmdGdW5jdGlvblBhcmFtcz1cXFwiZnVuY3Rpb25wYXJhbXNcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdLGlzVW5zdGFja2luZ0Z1bmN0aW9uT3V0ZXI9XFxcImZ1bmN0aW9ub3V0ZXJcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdLGN1cnJlbnRVc2FnZXM9X2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl0sY3VycmVudExhYmVscz1fY3VycmVudFtcXFwiKGxhYmVscylcXFwiXSx1c2VkTGFiZWxOYW1lTGlzdD1PYmplY3Qua2V5cyhjdXJyZW50VXNhZ2VzKTtmb3IoY3VycmVudFVzYWdlcy5fX3Byb3RvX18mJi0xPT09dXNlZExhYmVsTmFtZUxpc3QuaW5kZXhPZihcXFwiX19wcm90b19fXFxcIikmJnVzZWRMYWJlbE5hbWVMaXN0LnB1c2goXFxcIl9fcHJvdG9fX1xcXCIpLGk9MDt1c2VkTGFiZWxOYW1lTGlzdC5sZW5ndGg+aTtpKyspe3ZhciB1c2VkTGFiZWxOYW1lPXVzZWRMYWJlbE5hbWVMaXN0W2ldLHVzYWdlPWN1cnJlbnRVc2FnZXNbdXNlZExhYmVsTmFtZV0sdXNlZExhYmVsPWN1cnJlbnRMYWJlbHNbdXNlZExhYmVsTmFtZV07aWYodXNlZExhYmVsKXt2YXIgdXNlZExhYmVsVHlwZT11c2VkTGFiZWxbXFxcIih0eXBlKVxcXCJdO2lmKHVzZWRMYWJlbFtcXFwiKHVzZU91dHNpZGVPZlNjb3BlKVxcXCJdJiYhc3RhdGUub3B0aW9uLmZ1bmNzY29wZSl7dmFyIHVzZWRUb2tlbnM9dXNhZ2VbXFxcIih0b2tlbnMpXFxcIl07aWYodXNlZFRva2Vucylmb3Ioaj0wO3VzZWRUb2tlbnMubGVuZ3RoPmo7aisrKXVzZWRMYWJlbFtcXFwiKGZ1bmN0aW9uKVxcXCJdPT09dXNlZFRva2Vuc1tqXVtcXFwiKGZ1bmN0aW9uKVxcXCJdJiZlcnJvcihcXFwiVzAzOFxcXCIsdXNlZFRva2Vuc1tqXSx1c2VkTGFiZWxOYW1lKX1pZihfY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVt1c2VkTGFiZWxOYW1lXVtcXFwiKHVudXNlZClcXFwiXT0hMSxcXFwiY29uc3RcXFwiPT09dXNlZExhYmVsVHlwZSYmdXNhZ2VbXFxcIihtb2RpZmllZClcXFwiXSlmb3Ioaj0wO3VzYWdlW1xcXCIobW9kaWZpZWQpXFxcIl0ubGVuZ3RoPmo7aisrKWVycm9yKFxcXCJFMDEzXFxcIix1c2FnZVtcXFwiKG1vZGlmaWVkKVxcXCJdW2pdLHVzZWRMYWJlbE5hbWUpO2lmKChcXFwiZnVuY3Rpb25cXFwiPT09dXNlZExhYmVsVHlwZXx8XFxcImNsYXNzXFxcIj09PXVzZWRMYWJlbFR5cGUpJiZ1c2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl0pZm9yKGo9MDt1c2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl0ubGVuZ3RoPmo7aisrKWVycm9yKFxcXCJXMDIxXFxcIix1c2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl1bal0sdXNlZExhYmVsTmFtZSx1c2VkTGFiZWxUeXBlKX1lbHNlIGlmKGlzVW5zdGFja2luZ0Z1bmN0aW9uT3V0ZXImJihzdGF0ZS5mdW5jdFtcXFwiKGlzQ2FwdHVyaW5nKVxcXCJdPSEwKSxzdWJTY29wZSlpZihzdWJTY29wZVtcXFwiKHVzYWdlcylcXFwiXVt1c2VkTGFiZWxOYW1lXSl7dmFyIHN1YlNjb3BlVXNhZ2U9c3ViU2NvcGVbXFxcIih1c2FnZXMpXFxcIl1bdXNlZExhYmVsTmFtZV07c3ViU2NvcGVVc2FnZVtcXFwiKG1vZGlmaWVkKVxcXCJdPXN1YlNjb3BlVXNhZ2VbXFxcIihtb2RpZmllZClcXFwiXS5jb25jYXQodXNhZ2VbXFxcIihtb2RpZmllZClcXFwiXSksc3ViU2NvcGVVc2FnZVtcXFwiKHRva2VucylcXFwiXT1zdWJTY29wZVVzYWdlW1xcXCIodG9rZW5zKVxcXCJdLmNvbmNhdCh1c2FnZVtcXFwiKHRva2VucylcXFwiXSksc3ViU2NvcGVVc2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl09c3ViU2NvcGVVc2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl0uY29uY2F0KHVzYWdlW1xcXCIocmVhc3NpZ25lZClcXFwiXSksc3ViU2NvcGVVc2FnZVtcXFwiKG9ubHlVc2VkU3ViRnVuY3Rpb24pXFxcIl09ITF9ZWxzZSBzdWJTY29wZVtcXFwiKHVzYWdlcylcXFwiXVt1c2VkTGFiZWxOYW1lXT11c2FnZSxpc1Vuc3RhY2tpbmdGdW5jdGlvbkJvZHkmJihzdWJTY29wZVtcXFwiKHVzYWdlcylcXFwiXVt1c2VkTGFiZWxOYW1lXVtcXFwiKG9ubHlVc2VkU3ViRnVuY3Rpb24pXFxcIl09ITApO2Vsc2UgaWYoXFxcImJvb2xlYW5cXFwiPT10eXBlb2YgX2N1cnJlbnRbXFxcIihwcmVkZWZpbmVkKVxcXCJdW3VzZWRMYWJlbE5hbWVdKXtpZihkZWxldGUgZGVjbGFyZWRbdXNlZExhYmVsTmFtZV0sdXNlZFByZWRlZmluZWRBbmRHbG9iYWxzW3VzZWRMYWJlbE5hbWVdPW1hcmtlcixfY3VycmVudFtcXFwiKHByZWRlZmluZWQpXFxcIl1bdXNlZExhYmVsTmFtZV09PT0hMSYmdXNhZ2VbXFxcIihyZWFzc2lnbmVkKVxcXCJdKWZvcihqPTA7dXNhZ2VbXFxcIihyZWFzc2lnbmVkKVxcXCJdLmxlbmd0aD5qO2orKyl3YXJuaW5nKFxcXCJXMDIwXFxcIix1c2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl1bal0pfWVsc2UgaWYodXNhZ2VbXFxcIih0b2tlbnMpXFxcIl0pZm9yKGo9MDt1c2FnZVtcXFwiKHRva2VucylcXFwiXS5sZW5ndGg+ajtqKyspe3ZhciB1bmRlZmluZWRUb2tlbj11c2FnZVtcXFwiKHRva2VucylcXFwiXVtqXTt1bmRlZmluZWRUb2tlbi5mb3JnaXZlVW5kZWZ8fChzdGF0ZS5vcHRpb24udW5kZWYmJiF1bmRlZmluZWRUb2tlbi5pZ25vcmVVbmRlZiYmd2FybmluZyhcXFwiVzExN1xcXCIsdW5kZWZpbmVkVG9rZW4sdXNlZExhYmVsTmFtZSksaW1wbGllZEdsb2JhbHNbdXNlZExhYmVsTmFtZV0/aW1wbGllZEdsb2JhbHNbdXNlZExhYmVsTmFtZV0ubGluZS5wdXNoKHVuZGVmaW5lZFRva2VuLmxpbmUpOmltcGxpZWRHbG9iYWxzW3VzZWRMYWJlbE5hbWVdPXtuYW1lOnVzZWRMYWJlbE5hbWUsbGluZTpbdW5kZWZpbmVkVG9rZW4ubGluZV19KX19aWYoc3ViU2NvcGV8fE9iamVjdC5rZXlzKGRlY2xhcmVkKS5mb3JFYWNoKGZ1bmN0aW9uKGxhYmVsTm90VXNlZCl7X3dhcm5VbnVzZWQobGFiZWxOb3RVc2VkLGRlY2xhcmVkW2xhYmVsTm90VXNlZF0sXFxcInZhclxcXCIpfSksc3ViU2NvcGUmJiFpc1Vuc3RhY2tpbmdGdW5jdGlvbkJvZHkmJiFpc1Vuc3RhY2tpbmdGdW5jdGlvblBhcmFtcyYmIWlzVW5zdGFja2luZ0Z1bmN0aW9uT3V0ZXIpe3ZhciBsYWJlbE5hbWVzPU9iamVjdC5rZXlzKGN1cnJlbnRMYWJlbHMpO2ZvcihpPTA7bGFiZWxOYW1lcy5sZW5ndGg+aTtpKyspe3ZhciBkZWZMYWJlbE5hbWU9bGFiZWxOYW1lc1tpXTtjdXJyZW50TGFiZWxzW2RlZkxhYmVsTmFtZV1bXFxcIihibG9ja3Njb3BlZClcXFwiXXx8XFxcImV4Y2VwdGlvblxcXCI9PT1jdXJyZW50TGFiZWxzW2RlZkxhYmVsTmFtZV1bXFxcIih0eXBlKVxcXCJdfHx0aGlzLmZ1bmN0LmhhcyhkZWZMYWJlbE5hbWUse2V4Y2x1ZGVDdXJyZW50OiEwfSl8fChzdWJTY29wZVtcXFwiKGxhYmVscylcXFwiXVtkZWZMYWJlbE5hbWVdPWN1cnJlbnRMYWJlbHNbZGVmTGFiZWxOYW1lXSxcXFwiZ2xvYmFsXFxcIiE9PV9jdXJyZW50RnVuY3RCb2R5W1xcXCIodHlwZSlcXFwiXSYmKHN1YlNjb3BlW1xcXCIobGFiZWxzKVxcXCJdW2RlZkxhYmVsTmFtZV1bXFxcIih1c2VPdXRzaWRlT2ZTY29wZSlcXFwiXT0hMCksZGVsZXRlIGN1cnJlbnRMYWJlbHNbZGVmTGFiZWxOYW1lXSl9fV9jaGVja0ZvclVudXNlZCgpLF9zY29wZVN0YWNrLnBvcCgpLGlzVW5zdGFja2luZ0Z1bmN0aW9uQm9keSYmKF9jdXJyZW50RnVuY3RCb2R5PV9zY29wZVN0YWNrW18uZmluZExhc3RJbmRleChfc2NvcGVTdGFjayxmdW5jdGlvbihzY29wZSl7cmV0dXJuIHNjb3BlW1xcXCIoaXNGdW5jQm9keSlcXFwiXXx8XFxcImdsb2JhbFxcXCI9PT1zY29wZVtcXFwiKHR5cGUpXFxcIl19KV0pLF9jdXJyZW50PXN1YlNjb3BlfSxhZGRQYXJhbTpmdW5jdGlvbihsYWJlbE5hbWUsdG9rZW4sdHlwZSl7aWYodHlwZT10eXBlfHxcXFwicGFyYW1cXFwiLFxcXCJleGNlcHRpb25cXFwiPT09dHlwZSl7dmFyIHByZXZpb3VzbHlEZWZpbmVkTGFiZWxUeXBlPXRoaXMuZnVuY3QubGFiZWx0eXBlKGxhYmVsTmFtZSk7cHJldmlvdXNseURlZmluZWRMYWJlbFR5cGUmJlxcXCJleGNlcHRpb25cXFwiIT09cHJldmlvdXNseURlZmluZWRMYWJlbFR5cGUmJihzdGF0ZS5vcHRpb24ubm9kZXx8d2FybmluZyhcXFwiVzAwMlxcXCIsc3RhdGUudG9rZW5zLm5leHQsbGFiZWxOYW1lKSl9aWYoXy5oYXMoX2N1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl0sbGFiZWxOYW1lKT9fY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdLmR1cGxpY2F0ZWQ9ITA6KF9jaGVja091dGVyU2hhZG93KGxhYmVsTmFtZSx0b2tlbix0eXBlKSxfY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdPXtcXFwiKHR5cGUpXFxcIjp0eXBlLFxcXCIodG9rZW4pXFxcIjp0b2tlbixcXFwiKHVudXNlZClcXFwiOiEwfSxfY3VycmVudFtcXFwiKHBhcmFtcylcXFwiXS5wdXNoKGxhYmVsTmFtZSkpLF8uaGFzKF9jdXJyZW50W1xcXCIodXNhZ2VzKVxcXCJdLGxhYmVsTmFtZSkpe3ZhciB1c2FnZT1fY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdO3VzYWdlW1xcXCIob25seVVzZWRTdWJGdW5jdGlvbilcXFwiXT9fbGF0ZWRlZldhcm5pbmcodHlwZSxsYWJlbE5hbWUsdG9rZW4pOndhcm5pbmcoXFxcIkUwNTZcXFwiLHRva2VuLGxhYmVsTmFtZSx0eXBlKX19LHZhbGlkYXRlUGFyYW1zOmZ1bmN0aW9uKCl7aWYoXFxcImdsb2JhbFxcXCIhPT1fY3VycmVudEZ1bmN0Qm9keVtcXFwiKHR5cGUpXFxcIl0pe3ZhciBpc1N0cmljdD1zdGF0ZS5pc1N0cmljdCgpLGN1cnJlbnRGdW5jdFBhcmFtU2NvcGU9X2N1cnJlbnRGdW5jdEJvZHlbXFxcIihwYXJlbnQpXFxcIl07Y3VycmVudEZ1bmN0UGFyYW1TY29wZVtcXFwiKHBhcmFtcylcXFwiXSYmY3VycmVudEZ1bmN0UGFyYW1TY29wZVtcXFwiKHBhcmFtcylcXFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGxhYmVsTmFtZSl7dmFyIGxhYmVsPWN1cnJlbnRGdW5jdFBhcmFtU2NvcGVbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXTtsYWJlbCYmbGFiZWwuZHVwbGljYXRlZCYmKGlzU3RyaWN0P3dhcm5pbmcoXFxcIkUwMTFcXFwiLGxhYmVsW1xcXCIodG9rZW4pXFxcIl0sbGFiZWxOYW1lKTpzdGF0ZS5vcHRpb24uc2hhZG93IT09ITAmJndhcm5pbmcoXFxcIlcwMDRcXFwiLGxhYmVsW1xcXCIodG9rZW4pXFxcIl0sbGFiZWxOYW1lKSl9KX19LGdldFVzZWRPckRlZmluZWRHbG9iYWxzOmZ1bmN0aW9uKCl7dmFyIGxpc3Q9T2JqZWN0LmtleXModXNlZFByZWRlZmluZWRBbmRHbG9iYWxzKTtyZXR1cm4gdXNlZFByZWRlZmluZWRBbmRHbG9iYWxzLl9fcHJvdG9fXz09PW1hcmtlciYmLTE9PT1saXN0LmluZGV4T2YoXFxcIl9fcHJvdG9fX1xcXCIpJiZsaXN0LnB1c2goXFxcIl9fcHJvdG9fX1xcXCIpLGxpc3R9LGdldEltcGxpZWRHbG9iYWxzOmZ1bmN0aW9uKCl7dmFyIHZhbHVlcz1fLnZhbHVlcyhpbXBsaWVkR2xvYmFscyksaGFzUHJvdG89ITE7cmV0dXJuIGltcGxpZWRHbG9iYWxzLl9fcHJvdG9fXyYmKGhhc1Byb3RvPXZhbHVlcy5zb21lKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm5cXFwiX19wcm90b19fXFxcIj09PXZhbHVlLm5hbWV9KSxoYXNQcm90b3x8dmFsdWVzLnB1c2goaW1wbGllZEdsb2JhbHMuX19wcm90b19fKSksdmFsdWVzfSxnZXRVbnVzZWRzOmZ1bmN0aW9uKCl7cmV0dXJuIHVudXNlZHN9LGhhczpmdW5jdGlvbihsYWJlbE5hbWUpe3JldHVybiBCb29sZWFuKF9nZXRMYWJlbChsYWJlbE5hbWUpKX0sbGFiZWx0eXBlOmZ1bmN0aW9uKGxhYmVsTmFtZSl7dmFyIHNjb3BlTGFiZWxzPV9nZXRMYWJlbChsYWJlbE5hbWUpO3JldHVybiBzY29wZUxhYmVscz9zY29wZUxhYmVsc1tsYWJlbE5hbWVdW1xcXCIodHlwZSlcXFwiXTpudWxsfSxhZGRFeHBvcnRlZDpmdW5jdGlvbihsYWJlbE5hbWUpe3ZhciBnbG9iYWxMYWJlbHM9X3Njb3BlU3RhY2tbMF1bXFxcIihsYWJlbHMpXFxcIl07aWYoXy5oYXMoZGVjbGFyZWQsbGFiZWxOYW1lKSlkZWxldGUgZGVjbGFyZWRbbGFiZWxOYW1lXTtlbHNlIGlmKF8uaGFzKGdsb2JhbExhYmVscyxsYWJlbE5hbWUpKWdsb2JhbExhYmVsc1tsYWJlbE5hbWVdW1xcXCIodW51c2VkKVxcXCJdPSExO2Vsc2V7Zm9yKHZhciBpPTE7X3Njb3BlU3RhY2subGVuZ3RoPmk7aSsrKXt2YXIgc2NvcGU9X3Njb3BlU3RhY2tbaV07aWYoc2NvcGVbXFxcIih0eXBlKVxcXCJdKWJyZWFrO2lmKF8uaGFzKHNjb3BlW1xcXCIobGFiZWxzKVxcXCJdLGxhYmVsTmFtZSkmJiFzY29wZVtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdW1xcXCIoYmxvY2tzY29wZWQpXFxcIl0pcmV0dXJuIHNjb3BlW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV1bXFxcIih1bnVzZWQpXFxcIl09ITEsdm9pZCAwfWV4cG9ydGVkW2xhYmVsTmFtZV09ITB9fSxzZXRFeHBvcnRlZDpmdW5jdGlvbihsYWJlbE5hbWUsdG9rZW4pe3RoaXMuYmxvY2sudXNlKGxhYmVsTmFtZSx0b2tlbilcXG59LGFkZGxhYmVsOmZ1bmN0aW9uKGxhYmVsTmFtZSxvcHRzKXt2YXIgdHlwZT1vcHRzLnR5cGUsdG9rZW49b3B0cy50b2tlbixpc2Jsb2Nrc2NvcGVkPVxcXCJsZXRcXFwiPT09dHlwZXx8XFxcImNvbnN0XFxcIj09PXR5cGV8fFxcXCJjbGFzc1xcXCI9PT10eXBlLGlzZXhwb3J0ZWQ9XFxcImdsb2JhbFxcXCI9PT0oaXNibG9ja3Njb3BlZD9fY3VycmVudDpfY3VycmVudEZ1bmN0Qm9keSlbXFxcIih0eXBlKVxcXCJdJiZfLmhhcyhleHBvcnRlZCxsYWJlbE5hbWUpO2lmKF9jaGVja091dGVyU2hhZG93KGxhYmVsTmFtZSx0b2tlbix0eXBlKSxpc2Jsb2Nrc2NvcGVkKXt2YXIgZGVjbGFyZWRJbkN1cnJlbnRTY29wZT1fY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdO2lmKGRlY2xhcmVkSW5DdXJyZW50U2NvcGV8fF9jdXJyZW50IT09X2N1cnJlbnRGdW5jdEJvZHl8fFxcXCJnbG9iYWxcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdfHwoZGVjbGFyZWRJbkN1cnJlbnRTY29wZT0hIV9jdXJyZW50RnVuY3RCb2R5W1xcXCIocGFyZW50KVxcXCJdW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV0pLCFkZWNsYXJlZEluQ3VycmVudFNjb3BlJiZfY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdKXt2YXIgdXNhZ2U9X2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXTt1c2FnZVtcXFwiKG9ubHlVc2VkU3ViRnVuY3Rpb24pXFxcIl0/X2xhdGVkZWZXYXJuaW5nKHR5cGUsbGFiZWxOYW1lLHRva2VuKTp3YXJuaW5nKFxcXCJFMDU2XFxcIix0b2tlbixsYWJlbE5hbWUsdHlwZSl9ZGVjbGFyZWRJbkN1cnJlbnRTY29wZT93YXJuaW5nKFxcXCJFMDExXFxcIix0b2tlbixsYWJlbE5hbWUpOlxcXCJvdXRlclxcXCI9PT1zdGF0ZS5vcHRpb24uc2hhZG93JiZzY29wZU1hbmFnZXJJbnN0LmZ1bmN0LmhhcyhsYWJlbE5hbWUpJiZ3YXJuaW5nKFxcXCJXMDA0XFxcIix0b2tlbixsYWJlbE5hbWUpLHNjb3BlTWFuYWdlckluc3QuYmxvY2suYWRkKGxhYmVsTmFtZSx0eXBlLHRva2VuLCFpc2V4cG9ydGVkKX1lbHNle3ZhciBkZWNsYXJlZEluQ3VycmVudEZ1bmN0aW9uU2NvcGU9c2NvcGVNYW5hZ2VySW5zdC5mdW5jdC5oYXMobGFiZWxOYW1lKTshZGVjbGFyZWRJbkN1cnJlbnRGdW5jdGlvblNjb3BlJiZ1c2VkU29GYXJJbkN1cnJlbnRGdW5jdGlvbihsYWJlbE5hbWUpJiZfbGF0ZWRlZldhcm5pbmcodHlwZSxsYWJlbE5hbWUsdG9rZW4pLHNjb3BlTWFuYWdlckluc3QuZnVuY3QuaGFzKGxhYmVsTmFtZSx7b25seUJsb2Nrc2NvcGVkOiEwfSk/d2FybmluZyhcXFwiRTAxMVxcXCIsdG9rZW4sbGFiZWxOYW1lKTpzdGF0ZS5vcHRpb24uc2hhZG93IT09ITAmJmRlY2xhcmVkSW5DdXJyZW50RnVuY3Rpb25TY29wZSYmXFxcIl9fcHJvdG9fX1xcXCIhPT1sYWJlbE5hbWUmJlxcXCJnbG9iYWxcXFwiIT09X2N1cnJlbnRGdW5jdEJvZHlbXFxcIih0eXBlKVxcXCJdJiZ3YXJuaW5nKFxcXCJXMDA0XFxcIix0b2tlbixsYWJlbE5hbWUpLHNjb3BlTWFuYWdlckluc3QuZnVuY3QuYWRkKGxhYmVsTmFtZSx0eXBlLHRva2VuLCFpc2V4cG9ydGVkKSxcXFwiZ2xvYmFsXFxcIj09PV9jdXJyZW50RnVuY3RCb2R5W1xcXCIodHlwZSlcXFwiXSYmKHVzZWRQcmVkZWZpbmVkQW5kR2xvYmFsc1tsYWJlbE5hbWVdPW1hcmtlcil9fSxmdW5jdDp7bGFiZWx0eXBlOmZ1bmN0aW9uKGxhYmVsTmFtZSxvcHRpb25zKXtmb3IodmFyIG9ubHlCbG9ja3Njb3BlZD1vcHRpb25zJiZvcHRpb25zLm9ubHlCbG9ja3Njb3BlZCxleGNsdWRlUGFyYW1zPW9wdGlvbnMmJm9wdGlvbnMuZXhjbHVkZVBhcmFtcyxjdXJyZW50U2NvcGVJbmRleD1fc2NvcGVTdGFjay5sZW5ndGgtKG9wdGlvbnMmJm9wdGlvbnMuZXhjbHVkZUN1cnJlbnQ/MjoxKSxpPWN1cnJlbnRTY29wZUluZGV4O2k+PTA7aS0tKXt2YXIgY3VycmVudD1fc2NvcGVTdGFja1tpXTtpZihjdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV0mJighb25seUJsb2Nrc2NvcGVkfHxjdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV1bXFxcIihibG9ja3Njb3BlZClcXFwiXSkpcmV0dXJuIGN1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXVtcXFwiKHR5cGUpXFxcIl07dmFyIHNjb3BlQ2hlY2s9ZXhjbHVkZVBhcmFtcz9fc2NvcGVTdGFja1tpLTFdOmN1cnJlbnQ7aWYoc2NvcGVDaGVjayYmXFxcImZ1bmN0aW9ucGFyYW1zXFxcIj09PXNjb3BlQ2hlY2tbXFxcIih0eXBlKVxcXCJdKXJldHVybiBudWxsfXJldHVybiBudWxsfSxoYXNCcmVha0xhYmVsOmZ1bmN0aW9uKGxhYmVsTmFtZSl7Zm9yKHZhciBpPV9zY29wZVN0YWNrLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgY3VycmVudD1fc2NvcGVTdGFja1tpXTtpZihjdXJyZW50W1xcXCIoYnJlYWtMYWJlbHMpXFxcIl1bbGFiZWxOYW1lXSlyZXR1cm4hMDtpZihcXFwiZnVuY3Rpb25wYXJhbXNcXFwiPT09Y3VycmVudFtcXFwiKHR5cGUpXFxcIl0pcmV0dXJuITF9cmV0dXJuITF9LGhhczpmdW5jdGlvbihsYWJlbE5hbWUsb3B0aW9ucyl7cmV0dXJuIEJvb2xlYW4odGhpcy5sYWJlbHR5cGUobGFiZWxOYW1lLG9wdGlvbnMpKX0sYWRkOmZ1bmN0aW9uKGxhYmVsTmFtZSx0eXBlLHRvayx1bnVzZWQpe19jdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV09e1xcXCIodHlwZSlcXFwiOnR5cGUsXFxcIih0b2tlbilcXFwiOnRvayxcXFwiKGJsb2Nrc2NvcGVkKVxcXCI6ITEsXFxcIihmdW5jdGlvbilcXFwiOl9jdXJyZW50RnVuY3RCb2R5LFxcXCIodW51c2VkKVxcXCI6dW51c2VkfX19LGJsb2NrOntpc0dsb2JhbDpmdW5jdGlvbigpe3JldHVyblxcXCJnbG9iYWxcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdfSx1c2U6ZnVuY3Rpb24obGFiZWxOYW1lLHRva2VuKXt2YXIgcGFyYW1TY29wZT1fY3VycmVudEZ1bmN0Qm9keVtcXFwiKHBhcmVudClcXFwiXTtwYXJhbVNjb3BlJiZwYXJhbVNjb3BlW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV0mJlxcXCJwYXJhbVxcXCI9PT1wYXJhbVNjb3BlW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV1bXFxcIih0eXBlKVxcXCJdJiYoc2NvcGVNYW5hZ2VySW5zdC5mdW5jdC5oYXMobGFiZWxOYW1lLHtleGNsdWRlUGFyYW1zOiEwLG9ubHlCbG9ja3Njb3BlZDohMH0pfHwocGFyYW1TY29wZVtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdW1xcXCIodW51c2VkKVxcXCJdPSExKSksdG9rZW4mJihzdGF0ZS5pZ25vcmVkLlcxMTd8fHN0YXRlLm9wdGlvbi51bmRlZj09PSExKSYmKHRva2VuLmlnbm9yZVVuZGVmPSEwKSxfc2V0dXBVc2FnZXMobGFiZWxOYW1lKSx0b2tlbiYmKHRva2VuW1xcXCIoZnVuY3Rpb24pXFxcIl09X2N1cnJlbnRGdW5jdEJvZHksX2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXVtcXFwiKHRva2VucylcXFwiXS5wdXNoKHRva2VuKSl9LHJlYXNzaWduOmZ1bmN0aW9uKGxhYmVsTmFtZSx0b2tlbil7dGhpcy5tb2RpZnkobGFiZWxOYW1lLHRva2VuKSxfY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdW1xcXCIocmVhc3NpZ25lZClcXFwiXS5wdXNoKHRva2VuKX0sbW9kaWZ5OmZ1bmN0aW9uKGxhYmVsTmFtZSx0b2tlbil7X3NldHVwVXNhZ2VzKGxhYmVsTmFtZSksX2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXVtcXFwiKG1vZGlmaWVkKVxcXCJdLnB1c2godG9rZW4pfSxhZGQ6ZnVuY3Rpb24obGFiZWxOYW1lLHR5cGUsdG9rLHVudXNlZCl7X2N1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXT17XFxcIih0eXBlKVxcXCI6dHlwZSxcXFwiKHRva2VuKVxcXCI6dG9rLFxcXCIoYmxvY2tzY29wZWQpXFxcIjohMCxcXFwiKHVudXNlZClcXFwiOnVudXNlZH19LGFkZEJyZWFrTGFiZWw6ZnVuY3Rpb24obGFiZWxOYW1lLG9wdHMpe3ZhciB0b2tlbj1vcHRzLnRva2VuO3Njb3BlTWFuYWdlckluc3QuZnVuY3QuaGFzQnJlYWtMYWJlbChsYWJlbE5hbWUpP3dhcm5pbmcoXFxcIkUwMTFcXFwiLHRva2VuLGxhYmVsTmFtZSk6XFxcIm91dGVyXFxcIj09PXN0YXRlLm9wdGlvbi5zaGFkb3cmJihzY29wZU1hbmFnZXJJbnN0LmZ1bmN0LmhhcyhsYWJlbE5hbWUpP3dhcm5pbmcoXFxcIlcwMDRcXFwiLHRva2VuLGxhYmVsTmFtZSk6X2NoZWNrT3V0ZXJTaGFkb3cobGFiZWxOYW1lLHRva2VuKSksX2N1cnJlbnRbXFxcIihicmVha0xhYmVscylcXFwiXVtsYWJlbE5hbWVdPXRva2VufX19O3JldHVybiBzY29wZU1hbmFnZXJJbnN0fTttb2R1bGUuZXhwb3J0cz1zY29wZU1hbmFnZXJ9LHtcXFwiLi4vbG9kYXNoXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvbG9kYXNoLmpzXFxcIixldmVudHM6XFxcIi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qc1xcXCJ9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL3N0YXRlLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBOYW1lU3RhY2s9X2RlcmVxXyhcXFwiLi9uYW1lLXN0YWNrLmpzXFxcIiksc3RhdGU9e3N5bnRheDp7fSxpc1N0cmljdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdGl2ZVtcXFwidXNlIHN0cmljdFxcXCJdfHx0aGlzLmluQ2xhc3NCb2R5fHx0aGlzLm9wdGlvbi5tb2R1bGV8fFxcXCJpbXBsaWVkXFxcIj09PXRoaXMub3B0aW9uLnN0cmljdH0saW5Nb3o6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb24ubW96fSxpbkVTNjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbi5tb3p8fHRoaXMub3B0aW9uLmVzdmVyc2lvbj49Nn0saW5FUzU6ZnVuY3Rpb24oc3RyaWN0KXtyZXR1cm4gc3RyaWN0PyEodGhpcy5vcHRpb24uZXN2ZXJzaW9uJiY1IT09dGhpcy5vcHRpb24uZXN2ZXJzaW9ufHx0aGlzLm9wdGlvbi5tb3opOiF0aGlzLm9wdGlvbi5lc3ZlcnNpb258fHRoaXMub3B0aW9uLmVzdmVyc2lvbj49NXx8dGhpcy5vcHRpb24ubW96fSxyZXNldDpmdW5jdGlvbigpe3RoaXMudG9rZW5zPXtwcmV2Om51bGwsbmV4dDpudWxsLGN1cnI6bnVsbH0sdGhpcy5vcHRpb249e30sdGhpcy5mdW5jdD1udWxsLHRoaXMuaWdub3JlZD17fSx0aGlzLmRpcmVjdGl2ZT17fSx0aGlzLmpzb25Nb2RlPSExLHRoaXMuanNvbldhcm5pbmdzPVtdLHRoaXMubGluZXM9W10sdGhpcy50YWI9XFxcIlxcXCIsdGhpcy5jYWNoZT17fSx0aGlzLmlnbm9yZWRMaW5lcz17fSx0aGlzLmZvcmluaWZjaGVja25lZWRlZD0hMSx0aGlzLm5hbWVTdGFjaz1uZXcgTmFtZVN0YWNrLHRoaXMuaW5DbGFzc0JvZHk9ITF9fTtleHBvcnRzLnN0YXRlPXN0YXRlfSx7XFxcIi4vbmFtZS1zdGFjay5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9uYW1lLXN0YWNrLmpzXFxcIn1dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvc3R5bGUuanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZXhwb3J0cy5yZWdpc3Rlcj1mdW5jdGlvbihsaW50ZXIpe2xpbnRlci5vbihcXFwiSWRlbnRpZmllclxcXCIsZnVuY3Rpb24oZGF0YSl7bGludGVyLmdldE9wdGlvbihcXFwicHJvdG9cXFwiKXx8XFxcIl9fcHJvdG9fX1xcXCI9PT1kYXRhLm5hbWUmJmxpbnRlci53YXJuKFxcXCJXMTAzXFxcIix7bGluZTpkYXRhLmxpbmUsXFxcImNoYXJcXFwiOmRhdGEuY2hhcixkYXRhOltkYXRhLm5hbWUsXFxcIjZcXFwiXX0pfSksbGludGVyLm9uKFxcXCJJZGVudGlmaWVyXFxcIixmdW5jdGlvbihkYXRhKXtsaW50ZXIuZ2V0T3B0aW9uKFxcXCJpdGVyYXRvclxcXCIpfHxcXFwiX19pdGVyYXRvcl9fXFxcIj09PWRhdGEubmFtZSYmbGludGVyLndhcm4oXFxcIlcxMDNcXFwiLHtsaW5lOmRhdGEubGluZSxcXFwiY2hhclxcXCI6ZGF0YS5jaGFyLGRhdGE6W2RhdGEubmFtZV19KX0pLGxpbnRlci5vbihcXFwiSWRlbnRpZmllclxcXCIsZnVuY3Rpb24oZGF0YSl7bGludGVyLmdldE9wdGlvbihcXFwiY2FtZWxjYXNlXFxcIikmJmRhdGEubmFtZS5yZXBsYWNlKC9eXyt8XyskL2csXFxcIlxcXCIpLmluZGV4T2YoXFxcIl9cXFwiKT4tMSYmIWRhdGEubmFtZS5tYXRjaCgvXltBLVowLTlfXSokLykmJmxpbnRlci53YXJuKFxcXCJXMTA2XFxcIix7bGluZTpkYXRhLmxpbmUsXFxcImNoYXJcXFwiOmRhdGEuZnJvbSxkYXRhOltkYXRhLm5hbWVdfSl9KSxsaW50ZXIub24oXFxcIlN0cmluZ1xcXCIsZnVuY3Rpb24oZGF0YSl7dmFyIGNvZGUscXVvdG1hcms9bGludGVyLmdldE9wdGlvbihcXFwicXVvdG1hcmtcXFwiKTtxdW90bWFyayYmKFxcXCJzaW5nbGVcXFwiPT09cXVvdG1hcmsmJlxcXCInXFxcIiE9PWRhdGEucXVvdGUmJihjb2RlPVxcXCJXMTA5XFxcIiksXFxcImRvdWJsZVxcXCI9PT1xdW90bWFyayYmJ1xcXCInIT09ZGF0YS5xdW90ZSYmKGNvZGU9XFxcIlcxMDhcXFwiKSxxdW90bWFyaz09PSEwJiYobGludGVyLmdldENhY2hlKFxcXCJxdW90bWFya1xcXCIpfHxsaW50ZXIuc2V0Q2FjaGUoXFxcInF1b3RtYXJrXFxcIixkYXRhLnF1b3RlKSxsaW50ZXIuZ2V0Q2FjaGUoXFxcInF1b3RtYXJrXFxcIikhPT1kYXRhLnF1b3RlJiYoY29kZT1cXFwiVzExMFxcXCIpKSxjb2RlJiZsaW50ZXIud2Fybihjb2RlLHtsaW5lOmRhdGEubGluZSxcXFwiY2hhclxcXCI6ZGF0YS5jaGFyfSkpfSksbGludGVyLm9uKFxcXCJOdW1iZXJcXFwiLGZ1bmN0aW9uKGRhdGEpe1xcXCIuXFxcIj09PWRhdGEudmFsdWUuY2hhckF0KDApJiZsaW50ZXIud2FybihcXFwiVzAwOFxcXCIse2xpbmU6ZGF0YS5saW5lLFxcXCJjaGFyXFxcIjpkYXRhLmNoYXIsZGF0YTpbZGF0YS52YWx1ZV19KSxcXFwiLlxcXCI9PT1kYXRhLnZhbHVlLnN1YnN0cihkYXRhLnZhbHVlLmxlbmd0aC0xKSYmbGludGVyLndhcm4oXFxcIlcwNDdcXFwiLHtsaW5lOmRhdGEubGluZSxcXFwiY2hhclxcXCI6ZGF0YS5jaGFyLGRhdGE6W2RhdGEudmFsdWVdfSksL14wMCsvLnRlc3QoZGF0YS52YWx1ZSkmJmxpbnRlci53YXJuKFxcXCJXMDQ2XFxcIix7bGluZTpkYXRhLmxpbmUsXFxcImNoYXJcXFwiOmRhdGEuY2hhcixkYXRhOltkYXRhLnZhbHVlXX0pfSksbGludGVyLm9uKFxcXCJTdHJpbmdcXFwiLGZ1bmN0aW9uKGRhdGEpe3ZhciByZT0vXig/OmphdmFzY3JpcHR8anNjcmlwdHxlY21hc2NyaXB0fHZic2NyaXB0fGxpdmVzY3JpcHQpXFxcXHMqOi9pO2xpbnRlci5nZXRPcHRpb24oXFxcInNjcmlwdHVybFxcXCIpfHxyZS50ZXN0KGRhdGEudmFsdWUpJiZsaW50ZXIud2FybihcXFwiVzEwN1xcXCIse2xpbmU6ZGF0YS5saW5lLFxcXCJjaGFyXFxcIjpkYXRhLmNoYXJ9KX0pfX0se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvdmFycy5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLnJlc2VydmVkVmFycz17YXJndW1lbnRzOiExLE5hTjohMX0sZXhwb3J0cy5lY21hSWRlbnRpZmllcnM9ezM6e0FycmF5OiExLEJvb2xlYW46ITEsRGF0ZTohMSxkZWNvZGVVUkk6ITEsZGVjb2RlVVJJQ29tcG9uZW50OiExLGVuY29kZVVSSTohMSxlbmNvZGVVUklDb21wb25lbnQ6ITEsRXJyb3I6ITEsZXZhbDohMSxFdmFsRXJyb3I6ITEsRnVuY3Rpb246ITEsaGFzT3duUHJvcGVydHk6ITEsaXNGaW5pdGU6ITEsaXNOYU46ITEsTWF0aDohMSxOdW1iZXI6ITEsT2JqZWN0OiExLHBhcnNlSW50OiExLHBhcnNlRmxvYXQ6ITEsUmFuZ2VFcnJvcjohMSxSZWZlcmVuY2VFcnJvcjohMSxSZWdFeHA6ITEsU3RyaW5nOiExLFN5bnRheEVycm9yOiExLFR5cGVFcnJvcjohMSxVUklFcnJvcjohMX0sNTp7SlNPTjohMX0sNjp7TWFwOiExLFByb21pc2U6ITEsUHJveHk6ITEsUmVmbGVjdDohMSxTZXQ6ITEsU3ltYm9sOiExLFdlYWtNYXA6ITEsV2Vha1NldDohMX19LGV4cG9ydHMuYnJvd3Nlcj17QXVkaW86ITEsQmxvYjohMSxhZGRFdmVudExpc3RlbmVyOiExLGFwcGxpY2F0aW9uQ2FjaGU6ITEsYXRvYjohMSxibHVyOiExLGJ0b2E6ITEsY2FuY2VsQW5pbWF0aW9uRnJhbWU6ITEsQ2FudmFzR3JhZGllbnQ6ITEsQ2FudmFzUGF0dGVybjohMSxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ6ITEsQ1NTOiExLGNsZWFySW50ZXJ2YWw6ITEsY2xlYXJUaW1lb3V0OiExLGNsb3NlOiExLGNsb3NlZDohMSxDb21tZW50OiExLEN1c3RvbUV2ZW50OiExLERPTVBhcnNlcjohMSxkZWZhdWx0U3RhdHVzOiExLERvY3VtZW50OiExLGRvY3VtZW50OiExLERvY3VtZW50RnJhZ21lbnQ6ITEsRWxlbWVudDohMSxFbGVtZW50VGltZUNvbnRyb2w6ITEsRXZlbnQ6ITEsZXZlbnQ6ITEsZmV0Y2g6ITEsRmlsZVJlYWRlcjohMSxGb3JtRGF0YTohMSxmb2N1czohMSxmcmFtZXM6ITEsZ2V0Q29tcHV0ZWRTdHlsZTohMSxIVE1MRWxlbWVudDohMSxIVE1MQW5jaG9yRWxlbWVudDohMSxIVE1MQmFzZUVsZW1lbnQ6ITEsSFRNTEJsb2NrcXVvdGVFbGVtZW50OiExLEhUTUxCb2R5RWxlbWVudDohMSxIVE1MQlJFbGVtZW50OiExLEhUTUxCdXR0b25FbGVtZW50OiExLEhUTUxDYW52YXNFbGVtZW50OiExLEhUTUxDb2xsZWN0aW9uOiExLEhUTUxEaXJlY3RvcnlFbGVtZW50OiExLEhUTUxEaXZFbGVtZW50OiExLEhUTUxETGlzdEVsZW1lbnQ6ITEsSFRNTEZpZWxkU2V0RWxlbWVudDohMSxIVE1MRm9udEVsZW1lbnQ6ITEsSFRNTEZvcm1FbGVtZW50OiExLEhUTUxGcmFtZUVsZW1lbnQ6ITEsSFRNTEZyYW1lU2V0RWxlbWVudDohMSxIVE1MSGVhZEVsZW1lbnQ6ITEsSFRNTEhlYWRpbmdFbGVtZW50OiExLEhUTUxIUkVsZW1lbnQ6ITEsSFRNTEh0bWxFbGVtZW50OiExLEhUTUxJRnJhbWVFbGVtZW50OiExLEhUTUxJbWFnZUVsZW1lbnQ6ITEsSFRNTElucHV0RWxlbWVudDohMSxIVE1MSXNJbmRleEVsZW1lbnQ6ITEsSFRNTExhYmVsRWxlbWVudDohMSxIVE1MTGF5ZXJFbGVtZW50OiExLEhUTUxMZWdlbmRFbGVtZW50OiExLEhUTUxMSUVsZW1lbnQ6ITEsSFRNTExpbmtFbGVtZW50OiExLEhUTUxNYXBFbGVtZW50OiExLEhUTUxNZW51RWxlbWVudDohMSxIVE1MTWV0YUVsZW1lbnQ6ITEsSFRNTE1vZEVsZW1lbnQ6ITEsSFRNTE9iamVjdEVsZW1lbnQ6ITEsSFRNTE9MaXN0RWxlbWVudDohMSxIVE1MT3B0R3JvdXBFbGVtZW50OiExLEhUTUxPcHRpb25FbGVtZW50OiExLEhUTUxQYXJhZ3JhcGhFbGVtZW50OiExLEhUTUxQYXJhbUVsZW1lbnQ6ITEsSFRNTFByZUVsZW1lbnQ6ITEsSFRNTFF1b3RlRWxlbWVudDohMSxIVE1MU2NyaXB0RWxlbWVudDohMSxIVE1MU2VsZWN0RWxlbWVudDohMSxIVE1MU3R5bGVFbGVtZW50OiExLEhUTUxUYWJsZUNhcHRpb25FbGVtZW50OiExLEhUTUxUYWJsZUNlbGxFbGVtZW50OiExLEhUTUxUYWJsZUNvbEVsZW1lbnQ6ITEsSFRNTFRhYmxlRWxlbWVudDohMSxIVE1MVGFibGVSb3dFbGVtZW50OiExLEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50OiExLEhUTUxUZW1wbGF0ZUVsZW1lbnQ6ITEsSFRNTFRleHRBcmVhRWxlbWVudDohMSxIVE1MVGl0bGVFbGVtZW50OiExLEhUTUxVTGlzdEVsZW1lbnQ6ITEsSFRNTFZpZGVvRWxlbWVudDohMSxoaXN0b3J5OiExLEltYWdlOiExLEludGw6ITEsbGVuZ3RoOiExLGxvY2FsU3RvcmFnZTohMSxsb2NhdGlvbjohMSxtYXRjaE1lZGlhOiExLE1lc3NhZ2VDaGFubmVsOiExLE1lc3NhZ2VFdmVudDohMSxNZXNzYWdlUG9ydDohMSxNb3VzZUV2ZW50OiExLG1vdmVCeTohMSxtb3ZlVG86ITEsTXV0YXRpb25PYnNlcnZlcjohMSxuYW1lOiExLE5vZGU6ITEsTm9kZUZpbHRlcjohMSxOb2RlTGlzdDohMSxOb3RpZmljYXRpb246ITEsbmF2aWdhdG9yOiExLG9uYmVmb3JldW5sb2FkOiEwLG9uYmx1cjohMCxvbmVycm9yOiEwLG9uZm9jdXM6ITAsb25sb2FkOiEwLG9ucmVzaXplOiEwLG9udW5sb2FkOiEwLG9wZW46ITEsb3BlbkRhdGFiYXNlOiExLG9wZW5lcjohMSxPcHRpb246ITEscGFyZW50OiExLHBlcmZvcm1hbmNlOiExLHByaW50OiExLFJhbmdlOiExLHJlcXVlc3RBbmltYXRpb25GcmFtZTohMSxyZW1vdmVFdmVudExpc3RlbmVyOiExLHJlc2l6ZUJ5OiExLHJlc2l6ZVRvOiExLHNjcmVlbjohMSxzY3JvbGw6ITEsc2Nyb2xsQnk6ITEsc2Nyb2xsVG86ITEsc2Vzc2lvblN0b3JhZ2U6ITEsc2V0SW50ZXJ2YWw6ITEsc2V0VGltZW91dDohMSxTaGFyZWRXb3JrZXI6ITEsc3RhdHVzOiExLFNWR0FFbGVtZW50OiExLFNWR0FsdEdseXBoRGVmRWxlbWVudDohMSxTVkdBbHRHbHlwaEVsZW1lbnQ6ITEsU1ZHQWx0R2x5cGhJdGVtRWxlbWVudDohMSxTVkdBbmdsZTohMSxTVkdBbmltYXRlQ29sb3JFbGVtZW50OiExLFNWR0FuaW1hdGVFbGVtZW50OiExLFNWR0FuaW1hdGVNb3Rpb25FbGVtZW50OiExLFNWR0FuaW1hdGVUcmFuc2Zvcm1FbGVtZW50OiExLFNWR0FuaW1hdGVkQW5nbGU6ITEsU1ZHQW5pbWF0ZWRCb29sZWFuOiExLFNWR0FuaW1hdGVkRW51bWVyYXRpb246ITEsU1ZHQW5pbWF0ZWRJbnRlZ2VyOiExLFNWR0FuaW1hdGVkTGVuZ3RoOiExLFNWR0FuaW1hdGVkTGVuZ3RoTGlzdDohMSxTVkdBbmltYXRlZE51bWJlcjohMSxTVkdBbmltYXRlZE51bWJlckxpc3Q6ITEsU1ZHQW5pbWF0ZWRQYXRoRGF0YTohMSxTVkdBbmltYXRlZFBvaW50czohMSxTVkdBbmltYXRlZFByZXNlcnZlQXNwZWN0UmF0aW86ITEsU1ZHQW5pbWF0ZWRSZWN0OiExLFNWR0FuaW1hdGVkU3RyaW5nOiExLFNWR0FuaW1hdGVkVHJhbnNmb3JtTGlzdDohMSxTVkdBbmltYXRpb25FbGVtZW50OiExLFNWR0NTU1J1bGU6ITEsU1ZHQ2lyY2xlRWxlbWVudDohMSxTVkdDbGlwUGF0aEVsZW1lbnQ6ITEsU1ZHQ29sb3I6ITEsU1ZHQ29sb3JQcm9maWxlRWxlbWVudDohMSxTVkdDb2xvclByb2ZpbGVSdWxlOiExLFNWR0NvbXBvbmVudFRyYW5zZmVyRnVuY3Rpb25FbGVtZW50OiExLFNWR0N1cnNvckVsZW1lbnQ6ITEsU1ZHRGVmc0VsZW1lbnQ6ITEsU1ZHRGVzY0VsZW1lbnQ6ITEsU1ZHRG9jdW1lbnQ6ITEsU1ZHRWxlbWVudDohMSxTVkdFbGVtZW50SW5zdGFuY2U6ITEsU1ZHRWxlbWVudEluc3RhbmNlTGlzdDohMSxTVkdFbGxpcHNlRWxlbWVudDohMSxTVkdFeHRlcm5hbFJlc291cmNlc1JlcXVpcmVkOiExLFNWR0ZFQmxlbmRFbGVtZW50OiExLFNWR0ZFQ29sb3JNYXRyaXhFbGVtZW50OiExLFNWR0ZFQ29tcG9uZW50VHJhbnNmZXJFbGVtZW50OiExLFNWR0ZFQ29tcG9zaXRlRWxlbWVudDohMSxTVkdGRUNvbnZvbHZlTWF0cml4RWxlbWVudDohMSxTVkdGRURpZmZ1c2VMaWdodGluZ0VsZW1lbnQ6ITEsU1ZHRkVEaXNwbGFjZW1lbnRNYXBFbGVtZW50OiExLFNWR0ZFRGlzdGFudExpZ2h0RWxlbWVudDohMSxTVkdGRUZsb29kRWxlbWVudDohMSxTVkdGRUZ1bmNBRWxlbWVudDohMSxTVkdGRUZ1bmNCRWxlbWVudDohMSxTVkdGRUZ1bmNHRWxlbWVudDohMSxTVkdGRUZ1bmNSRWxlbWVudDohMSxTVkdGRUdhdXNzaWFuQmx1ckVsZW1lbnQ6ITEsU1ZHRkVJbWFnZUVsZW1lbnQ6ITEsU1ZHRkVNZXJnZUVsZW1lbnQ6ITEsU1ZHRkVNZXJnZU5vZGVFbGVtZW50OiExLFNWR0ZFTW9ycGhvbG9neUVsZW1lbnQ6ITEsU1ZHRkVPZmZzZXRFbGVtZW50OiExLFNWR0ZFUG9pbnRMaWdodEVsZW1lbnQ6ITEsU1ZHRkVTcGVjdWxhckxpZ2h0aW5nRWxlbWVudDohMSxTVkdGRVNwb3RMaWdodEVsZW1lbnQ6ITEsU1ZHRkVUaWxlRWxlbWVudDohMSxTVkdGRVR1cmJ1bGVuY2VFbGVtZW50OiExLFNWR0ZpbHRlckVsZW1lbnQ6ITEsU1ZHRmlsdGVyUHJpbWl0aXZlU3RhbmRhcmRBdHRyaWJ1dGVzOiExLFNWR0ZpdFRvVmlld0JveDohMSxTVkdGb250RWxlbWVudDohMSxTVkdGb250RmFjZUVsZW1lbnQ6ITEsU1ZHRm9udEZhY2VGb3JtYXRFbGVtZW50OiExLFNWR0ZvbnRGYWNlTmFtZUVsZW1lbnQ6ITEsU1ZHRm9udEZhY2VTcmNFbGVtZW50OiExLFNWR0ZvbnRGYWNlVXJpRWxlbWVudDohMSxTVkdGb3JlaWduT2JqZWN0RWxlbWVudDohMSxTVkdHRWxlbWVudDohMSxTVkdHbHlwaEVsZW1lbnQ6ITEsU1ZHR2x5cGhSZWZFbGVtZW50OiExLFNWR0dyYWRpZW50RWxlbWVudDohMSxTVkdIS2VybkVsZW1lbnQ6ITEsU1ZHSUNDQ29sb3I6ITEsU1ZHSW1hZ2VFbGVtZW50OiExLFNWR0xhbmdTcGFjZTohMSxTVkdMZW5ndGg6ITEsU1ZHTGVuZ3RoTGlzdDohMSxTVkdMaW5lRWxlbWVudDohMSxTVkdMaW5lYXJHcmFkaWVudEVsZW1lbnQ6ITEsU1ZHTG9jYXRhYmxlOiExLFNWR01QYXRoRWxlbWVudDohMSxTVkdNYXJrZXJFbGVtZW50OiExLFNWR01hc2tFbGVtZW50OiExLFNWR01hdHJpeDohMSxTVkdNZXRhZGF0YUVsZW1lbnQ6ITEsU1ZHTWlzc2luZ0dseXBoRWxlbWVudDohMSxTVkdOdW1iZXI6ITEsU1ZHTnVtYmVyTGlzdDohMSxTVkdQYWludDohMSxTVkdQYXRoRWxlbWVudDohMSxTVkdQYXRoU2VnOiExLFNWR1BhdGhTZWdBcmNBYnM6ITEsU1ZHUGF0aFNlZ0FyY1JlbDohMSxTVkdQYXRoU2VnQ2xvc2VQYXRoOiExLFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnM6ITEsU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbDohMSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzOiExLFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWw6ITEsU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnM6ITEsU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWw6ITEsU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnM6ITEsU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWw6ITEsU1ZHUGF0aFNlZ0xpbmV0b0FiczohMSxTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFiczohMSxTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbFJlbDohMSxTVkdQYXRoU2VnTGluZXRvUmVsOiExLFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFiczohMSxTVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWw6ITEsU1ZHUGF0aFNlZ0xpc3Q6ITEsU1ZHUGF0aFNlZ01vdmV0b0FiczohMSxTVkdQYXRoU2VnTW92ZXRvUmVsOiExLFNWR1BhdHRlcm5FbGVtZW50OiExLFNWR1BvaW50OiExLFNWR1BvaW50TGlzdDohMSxTVkdQb2x5Z29uRWxlbWVudDohMSxTVkdQb2x5bGluZUVsZW1lbnQ6ITEsU1ZHUHJlc2VydmVBc3BlY3RSYXRpbzohMSxTVkdSYWRpYWxHcmFkaWVudEVsZW1lbnQ6ITEsU1ZHUmVjdDohMSxTVkdSZWN0RWxlbWVudDohMSxTVkdSZW5kZXJpbmdJbnRlbnQ6ITEsU1ZHU1ZHRWxlbWVudDohMSxTVkdTY3JpcHRFbGVtZW50OiExLFNWR1NldEVsZW1lbnQ6ITEsU1ZHU3RvcEVsZW1lbnQ6ITEsU1ZHU3RyaW5nTGlzdDohMSxTVkdTdHlsYWJsZTohMSxTVkdTdHlsZUVsZW1lbnQ6ITEsU1ZHU3dpdGNoRWxlbWVudDohMSxTVkdTeW1ib2xFbGVtZW50OiExLFNWR1RSZWZFbGVtZW50OiExLFNWR1RTcGFuRWxlbWVudDohMSxTVkdUZXN0czohMSxTVkdUZXh0Q29udGVudEVsZW1lbnQ6ITEsU1ZHVGV4dEVsZW1lbnQ6ITEsU1ZHVGV4dFBhdGhFbGVtZW50OiExLFNWR1RleHRQb3NpdGlvbmluZ0VsZW1lbnQ6ITEsU1ZHVGl0bGVFbGVtZW50OiExLFNWR1RyYW5zZm9ybTohMSxTVkdUcmFuc2Zvcm1MaXN0OiExLFNWR1RyYW5zZm9ybWFibGU6ITEsU1ZHVVJJUmVmZXJlbmNlOiExLFNWR1VuaXRUeXBlczohMSxTVkdVc2VFbGVtZW50OiExLFNWR1ZLZXJuRWxlbWVudDohMSxTVkdWaWV3RWxlbWVudDohMSxTVkdWaWV3U3BlYzohMSxTVkdab29tQW5kUGFuOiExLFRleHQ6ITEsVGV4dERlY29kZXI6ITEsVGV4dEVuY29kZXI6ITEsVGltZUV2ZW50OiExLHRvcDohMSxVUkw6ITEsV2ViR0xBY3RpdmVJbmZvOiExLFdlYkdMQnVmZmVyOiExLFdlYkdMQ29udGV4dEV2ZW50OiExLFdlYkdMRnJhbWVidWZmZXI6ITEsV2ViR0xQcm9ncmFtOiExLFdlYkdMUmVuZGVyYnVmZmVyOiExLFdlYkdMUmVuZGVyaW5nQ29udGV4dDohMSxXZWJHTFNoYWRlcjohMSxXZWJHTFNoYWRlclByZWNpc2lvbkZvcm1hdDohMSxXZWJHTFRleHR1cmU6ITEsV2ViR0xVbmlmb3JtTG9jYXRpb246ITEsV2ViU29ja2V0OiExLHdpbmRvdzohMSxXaW5kb3c6ITEsV29ya2VyOiExLFhEb21haW5SZXF1ZXN0OiExLFhNTEh0dHBSZXF1ZXN0OiExLFhNTFNlcmlhbGl6ZXI6ITEsWFBhdGhFdmFsdWF0b3I6ITEsWFBhdGhFeGNlcHRpb246ITEsWFBhdGhFeHByZXNzaW9uOiExLFhQYXRoTmFtZXNwYWNlOiExLFhQYXRoTlNSZXNvbHZlcjohMSxYUGF0aFJlc3VsdDohMX0sZXhwb3J0cy5kZXZlbD17YWxlcnQ6ITEsY29uZmlybTohMSxjb25zb2xlOiExLERlYnVnOiExLG9wZXJhOiExLHByb21wdDohMX0sZXhwb3J0cy53b3JrZXI9e2ltcG9ydFNjcmlwdHM6ITAscG9zdE1lc3NhZ2U6ITAsc2VsZjohMCxGaWxlUmVhZGVyU3luYzohMH0sZXhwb3J0cy5ub25zdGFuZGFyZD17ZXNjYXBlOiExLHVuZXNjYXBlOiExfSxleHBvcnRzLmNvdWNoPXtyZXF1aXJlOiExLHJlc3BvbmQ6ITEsZ2V0Um93OiExLGVtaXQ6ITEsc2VuZDohMSxzdGFydDohMSxzdW06ITEsbG9nOiExLGV4cG9ydHM6ITEsbW9kdWxlOiExLHByb3ZpZGVzOiExfSxleHBvcnRzLm5vZGU9e19fZmlsZW5hbWU6ITEsX19kaXJuYW1lOiExLEdMT0JBTDohMSxnbG9iYWw6ITEsbW9kdWxlOiExLGFjZXF1aXJlOiExLEJ1ZmZlcjohMCxjb25zb2xlOiEwLGV4cG9ydHM6ITAscHJvY2VzczohMCxzZXRUaW1lb3V0OiEwLGNsZWFyVGltZW91dDohMCxzZXRJbnRlcnZhbDohMCxjbGVhckludGVydmFsOiEwLHNldEltbWVkaWF0ZTohMCxjbGVhckltbWVkaWF0ZTohMH0sZXhwb3J0cy5icm93c2VyaWZ5PXtfX2ZpbGVuYW1lOiExLF9fZGlybmFtZTohMSxnbG9iYWw6ITEsbW9kdWxlOiExLGFjZXF1aXJlOiExLEJ1ZmZlcjohMCxleHBvcnRzOiEwLHByb2Nlc3M6ITB9LGV4cG9ydHMucGhhbnRvbT17cGhhbnRvbTohMCxhY2VxdWlyZTohMCxXZWJQYWdlOiEwLGNvbnNvbGU6ITAsZXhwb3J0czohMH0sZXhwb3J0cy5xdW5pdD17YXN5bmNUZXN0OiExLGRlZXBFcXVhbDohMSxlcXVhbDohMSxleHBlY3Q6ITEsbW9kdWxlOiExLG5vdERlZXBFcXVhbDohMSxub3RFcXVhbDohMSxub3RQcm9wRXF1YWw6ITEsbm90U3RyaWN0RXF1YWw6ITEsb2s6ITEscHJvcEVxdWFsOiExLFFVbml0OiExLHJhaXNlczohMSxzdGFydDohMSxzdG9wOiExLHN0cmljdEVxdWFsOiExLHRlc3Q6ITEsXFxcInRocm93c1xcXCI6ITF9LGV4cG9ydHMucmhpbm89e2RlZmluZUNsYXNzOiExLGRlc2VyaWFsaXplOiExLGdjOiExLGhlbHA6ITEsaW1wb3J0Q2xhc3M6ITEsaW1wb3J0UGFja2FnZTohMSxqYXZhOiExLGxvYWQ6ITEsbG9hZENsYXNzOiExLFBhY2thZ2VzOiExLHByaW50OiExLHF1aXQ6ITEscmVhZEZpbGU6ITEscmVhZFVybDohMSxydW5Db21tYW5kOiExLHNlYWw6ITEsc2VyaWFsaXplOiExLHNwYXduOiExLHN5bmM6ITEsdG9pbnQzMjohMSx2ZXJzaW9uOiExfSxleHBvcnRzLnNoZWxsanM9e3RhcmdldDohMSxlY2hvOiExLGV4aXQ6ITEsY2Q6ITEscHdkOiExLGxzOiExLGZpbmQ6ITEsY3A6ITEscm06ITEsbXY6ITEsbWtkaXI6ITEsdGVzdDohMSxjYXQ6ITEsc2VkOiExLGdyZXA6ITEsd2hpY2g6ITEsZGlyczohMSxwdXNoZDohMSxwb3BkOiExLGVudjohMSxleGVjOiExLGNobW9kOiExLGNvbmZpZzohMSxlcnJvcjohMSx0ZW1wZGlyOiExfSxleHBvcnRzLnR5cGVkPXtBcnJheUJ1ZmZlcjohMSxBcnJheUJ1ZmZlclZpZXc6ITEsRGF0YVZpZXc6ITEsRmxvYXQzMkFycmF5OiExLEZsb2F0NjRBcnJheTohMSxJbnQxNkFycmF5OiExLEludDMyQXJyYXk6ITEsSW50OEFycmF5OiExLFVpbnQxNkFycmF5OiExLFVpbnQzMkFycmF5OiExLFVpbnQ4QXJyYXk6ITEsVWludDhDbGFtcGVkQXJyYXk6ITF9LGV4cG9ydHMud3NoPXtBY3RpdmVYT2JqZWN0OiEwLEVudW1lcmF0b3I6ITAsR2V0T2JqZWN0OiEwLFNjcmlwdEVuZ2luZTohMCxTY3JpcHRFbmdpbmVCdWlsZFZlcnNpb246ITAsU2NyaXB0RW5naW5lTWFqb3JWZXJzaW9uOiEwLFNjcmlwdEVuZ2luZU1pbm9yVmVyc2lvbjohMCxWQkFycmF5OiEwLFdTSDohMCxXU2NyaXB0OiEwLFhEb21haW5SZXF1ZXN0OiEwfSxleHBvcnRzLmRvam89e2Rvam86ITEsZGlqaXQ6ITEsZG9qb3g6ITEsZGVmaW5lOiExLHJlcXVpcmU6ITF9LGV4cG9ydHMuanF1ZXJ5PXskOiExLGpRdWVyeTohMX0sZXhwb3J0cy5tb290b29scz17JDohMSwkJDohMSxBc3NldDohMSxCcm93c2VyOiExLENoYWluOiExLENsYXNzOiExLENvbG9yOiExLENvb2tpZTohMSxDb3JlOiExLERvY3VtZW50OiExLERvbVJlYWR5OiExLERPTUV2ZW50OiExLERPTVJlYWR5OiExLERyYWc6ITEsRWxlbWVudDohMSxFbGVtZW50czohMSxFdmVudDohMSxFdmVudHM6ITEsRng6ITEsR3JvdXA6ITEsSGFzaDohMSxIdG1sVGFibGU6ITEsSUZyYW1lOiExLElmcmFtZVNoaW06ITEsSW5wdXRWYWxpZGF0b3I6ITEsaW5zdGFuY2VPZjohMSxLZXlib2FyZDohMSxMb2NhbGU6ITEsTWFzazohMSxNb29Ub29sczohMSxOYXRpdmU6ITEsT3B0aW9uczohMSxPdmVyVGV4dDohMSxSZXF1ZXN0OiExLFNjcm9sbGVyOiExLFNsaWNrOiExLFNsaWRlcjohMSxTb3J0YWJsZXM6ITEsU3Bpbm5lcjohMSxTd2lmZjohMSxUaXBzOiExLFR5cGU6ITEsdHlwZU9mOiExLFVSSTohMSxXaW5kb3c6ITF9LGV4cG9ydHMucHJvdG90eXBlanM9eyQ6ITEsJCQ6ITEsJEE6ITEsJEY6ITEsJEg6ITEsJFI6ITEsJGJyZWFrOiExLCRjb250aW51ZTohMSwkdzohMSxBYnN0cmFjdDohMSxBamF4OiExLENsYXNzOiExLEVudW1lcmFibGU6ITEsRWxlbWVudDohMSxFdmVudDohMSxGaWVsZDohMSxGb3JtOiExLEhhc2g6ITEsSW5zZXJ0aW9uOiExLE9iamVjdFJhbmdlOiExLFBlcmlvZGljYWxFeGVjdXRlcjohMSxQb3NpdGlvbjohMSxQcm90b3R5cGU6ITEsU2VsZWN0b3I6ITEsVGVtcGxhdGU6ITEsVG9nZ2xlOiExLFRyeTohMSxBdXRvY29tcGxldGVyOiExLEJ1aWxkZXI6ITEsQ29udHJvbDohMSxEcmFnZ2FibGU6ITEsRHJhZ2dhYmxlczohMSxEcm9wcGFibGVzOiExLEVmZmVjdDohMSxTb3J0YWJsZTohMSxTb3J0YWJsZU9ic2VydmVyOiExLFNvdW5kOiExLFNjcmlwdGFjdWxvdXM6ITF9LGV4cG9ydHMueXVpPXtZVUk6ITEsWTohMSxZVUlfY29uZmlnOiExfSxleHBvcnRzLm1vY2hhPXttb2NoYTohMSxkZXNjcmliZTohMSx4ZGVzY3JpYmU6ITEsaXQ6ITEseGl0OiExLGNvbnRleHQ6ITEseGNvbnRleHQ6ITEsYmVmb3JlOiExLGFmdGVyOiExLGJlZm9yZUVhY2g6ITEsYWZ0ZXJFYWNoOiExLHN1aXRlOiExLHRlc3Q6ITEsc2V0dXA6ITEsdGVhcmRvd246ITEsc3VpdGVTZXR1cDohMSxzdWl0ZVRlYXJkb3duOiExfSxleHBvcnRzLmphc21pbmU9e2phc21pbmU6ITEsZGVzY3JpYmU6ITEseGRlc2NyaWJlOiExLGl0OiExLHhpdDohMSxiZWZvcmVFYWNoOiExLGFmdGVyRWFjaDohMSxzZXRGaXh0dXJlczohMSxsb2FkRml4dHVyZXM6ITEsc3B5T246ITEsZXhwZWN0OiExLHJ1bnM6ITEsd2FpdHNGb3I6ITEsd2FpdHM6ITEsYmVmb3JlQWxsOiExLGFmdGVyQWxsOiExLGZhaWw6ITEsZmRlc2NyaWJlOiExLGZpdDohMSxwZW5kaW5nOiExfX0se31dfSx7fSxbXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9qc2hpbnQuanNcXFwiXSl9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9qYXZhc2NyaXB0X3dvcmtlclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL3dvcmtlci9taXJyb3JcXFwiLFxcXCJhY2UvbW9kZS9qYXZhc2NyaXB0L2pzaGludFxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMsbW9kdWxlKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gc3RhcnRSZWdleChhcnIpe3JldHVybiBSZWdFeHAoXFxcIl4oXFxcIithcnIuam9pbihcXFwifFxcXCIpK1xcXCIpXFxcIil9dmFyIG9vcD1hY2VxdWlyZShcXFwiLi4vbGliL29vcFxcXCIpLE1pcnJvcj1hY2VxdWlyZShcXFwiLi4vd29ya2VyL21pcnJvclxcXCIpLk1pcnJvcixsaW50PWFjZXF1aXJlKFxcXCIuL2phdmFzY3JpcHQvanNoaW50XFxcIikuSlNISU5ULGRpc2FibGVkV2FybmluZ3NSZT1zdGFydFJlZ2V4KFtcXFwiQmFkIGZvciBpbiB2YXJpYWJsZSAnKC4rKScuXFxcIiwnTWlzc2luZyBcXFwidXNlIHN0cmljdFxcXCInXSksZXJyb3JzUmU9c3RhcnRSZWdleChbXFxcIlVuZXhwZWN0ZWRcXFwiLFxcXCJFeHBlY3RlZCBcXFwiLFxcXCJDb25mdXNpbmcgKHBsdXN8bWludXMpXFxcIixcXFwiXFxcXFxcXFx7YVxcXFxcXFxcfSB1bnRlcm1pbmF0ZWQgcmVndWxhciBleHByZXNzaW9uXFxcIixcXFwiVW5jbG9zZWQgXFxcIixcXFwiVW5tYXRjaGVkIFxcXCIsXFxcIlVuYmVndW4gY29tbWVudFxcXCIsXFxcIkJhZCBpbnZvY2F0aW9uXFxcIixcXFwiTWlzc2luZyBzcGFjZSBhZnRlclxcXCIsXFxcIk1pc3Npbmcgb3BlcmF0b3IgYXRcXFwiXSksaW5mb1JlPXN0YXJ0UmVnZXgoW1xcXCJFeHBlY3RlZCBhbiBhc3NpZ25tZW50XFxcIixcXFwiQmFkIGVzY2FwZW1lbnQgb2YgRU9MXFxcIixcXFwiVW5leHBlY3RlZCBjb21tYVxcXCIsXFxcIlVuZXhwZWN0ZWQgc3BhY2VcXFwiLFxcXCJNaXNzaW5nIHJhZGl4IHBhcmFtZXRlci5cXFwiLFxcXCJBIGxlYWRpbmcgZGVjaW1hbCBwb2ludCBjYW5cXFwiLFxcXCJcXFxcXFxcXFsne2F9J1xcXFxcXFxcXSBpcyBiZXR0ZXIgd3JpdHRlbiBpbiBkb3Qgbm90YXRpb24uXFxcIixcXFwiJ3thfScgdXNlZCBvdXQgb2Ygc2NvcGVcXFwiXSksSmF2YVNjcmlwdFdvcmtlcj1leHBvcnRzLkphdmFTY3JpcHRXb3JrZXI9ZnVuY3Rpb24oc2VuZGVyKXtNaXJyb3IuY2FsbCh0aGlzLHNlbmRlciksdGhpcy5zZXRUaW1lb3V0KDUwMCksdGhpcy5zZXRPcHRpb25zKCl9O29vcC5pbmhlcml0cyhKYXZhU2NyaXB0V29ya2VyLE1pcnJvciksZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnM9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5vcHRpb25zPW9wdGlvbnN8fHtlc25leHQ6ITAsbW96OiEwLGRldmVsOiEwLGJyb3dzZXI6ITAsbm9kZTohMCxsYXhjb21tYTohMCxsYXhicmVhazohMCxsYXN0c2VtaWM6ITAsb25ldmFyOiExLHBhc3NmYWlsOiExLG1heGVycjoxMDAsZXhwcjohMCxtdWx0aXN0cjohMCxnbG9iYWxzdHJpY3Q6ITB9LHRoaXMuZG9jLmdldFZhbHVlKCkmJnRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoMTAwKX0sdGhpcy5jaGFuZ2VPcHRpb25zPWZ1bmN0aW9uKG5ld09wdGlvbnMpe29vcC5taXhpbih0aGlzLm9wdGlvbnMsbmV3T3B0aW9ucyksdGhpcy5kb2MuZ2V0VmFsdWUoKSYmdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSgxMDApfSx0aGlzLmlzVmFsaWRKUz1mdW5jdGlvbihzdHIpe3RyeXtldmFsKFxcXCJ0aHJvdyAwO1xcXCIrc3RyKX1jYXRjaChlKXtpZigwPT09ZSlyZXR1cm4hMH1yZXR1cm4hMX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe3ZhciB2YWx1ZT10aGlzLmRvYy5nZXRWYWx1ZSgpO2lmKHZhbHVlPXZhbHVlLnJlcGxhY2UoL14jIS4qXFxcXG4vLFxcXCJcXFxcblxcXCIpLCF2YWx1ZSlyZXR1cm4gdGhpcy5zZW5kZXIuZW1pdChcXFwiYW5ub3RhdGVcXFwiLFtdKTt2YXIgZXJyb3JzPVtdLG1heEVycm9yTGV2ZWw9dGhpcy5pc1ZhbGlkSlModmFsdWUpP1xcXCJ3YXJuaW5nXFxcIjpcXFwiZXJyb3JcXFwiO2xpbnQodmFsdWUsdGhpcy5vcHRpb25zKTtmb3IodmFyIHJlc3VsdHM9bGludC5lcnJvcnMsZXJyb3JBZGRlZD0hMSxpPTA7cmVzdWx0cy5sZW5ndGg+aTtpKyspe3ZhciBlcnJvcj1yZXN1bHRzW2ldO2lmKGVycm9yKXt2YXIgcmF3PWVycm9yLnJhdyx0eXBlPVxcXCJ3YXJuaW5nXFxcIjtpZihcXFwiTWlzc2luZyBzZW1pY29sb24uXFxcIj09cmF3KXt2YXIgc3RyPWVycm9yLmV2aWRlbmNlLnN1YnN0cihlcnJvci5jaGFyYWN0ZXIpO3N0cj1zdHIuY2hhckF0KHN0ci5zZWFyY2goL1xcXFxTLykpLFxcXCJlcnJvclxcXCI9PW1heEVycm9yTGV2ZWwmJnN0ciYmL1tcXFxcd1xcXFxkeyhbJ1xcXCJdLy50ZXN0KHN0cik/KGVycm9yLnJlYXNvbj0nTWlzc2luZyBcXFwiO1xcXCIgYmVmb3JlIHN0YXRlbWVudCcsdHlwZT1cXFwiZXJyb3JcXFwiKTp0eXBlPVxcXCJpbmZvXFxcIn1lbHNle2lmKGRpc2FibGVkV2FybmluZ3NSZS50ZXN0KHJhdykpY29udGludWU7aW5mb1JlLnRlc3QocmF3KT90eXBlPVxcXCJpbmZvXFxcIjplcnJvcnNSZS50ZXN0KHJhdyk/KGVycm9yQWRkZWQ9ITAsdHlwZT1tYXhFcnJvckxldmVsKTpcXFwiJ3thfScgaXMgbm90IGRlZmluZWQuXFxcIj09cmF3P3R5cGU9XFxcIndhcm5pbmdcXFwiOlxcXCIne2F9JyBpcyBkZWZpbmVkIGJ1dCBuZXZlciB1c2VkLlxcXCI9PXJhdyYmKHR5cGU9XFxcImluZm9cXFwiKX1lcnJvcnMucHVzaCh7cm93OmVycm9yLmxpbmUtMSxjb2x1bW46ZXJyb3IuY2hhcmFjdGVyLTEsdGV4dDplcnJvci5yZWFzb24sdHlwZTp0eXBlLHJhdzpyYXd9KX19dGhpcy5zZW5kZXIuZW1pdChcXFwiYW5ub3RhdGVcXFwiLGVycm9ycyl9fS5jYWxsKEphdmFTY3JpcHRXb3JrZXIucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvZXM1LXNoaW1cXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIEVtcHR5KCl7fWZ1bmN0aW9uIGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsob2JqZWN0KXt0cnl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsXFxcInNlbnRpbmVsXFxcIix7fSksXFxcInNlbnRpbmVsXFxcImluIG9iamVjdH1jYXRjaChleGNlcHRpb24pe319ZnVuY3Rpb24gdG9JbnRlZ2VyKG4pe3JldHVybiBuPStuLG4hPT1uP249MDowIT09biYmbiE9PTEvMCYmbiE9PS0oMS8wKSYmKG49KG4+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMobikpKSxufUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odGhhdCl7dmFyIHRhcmdldD10aGlzO2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiB0YXJnZXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSBcXFwiK3RhcmdldCk7dmFyIGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMSksYm91bmQ9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgYm91bmQpe3ZhciByZXN1bHQ9dGFyZ2V0LmFwcGx5KHRoaXMsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7cmV0dXJuIE9iamVjdChyZXN1bHQpPT09cmVzdWx0P3Jlc3VsdDp0aGlzfXJldHVybiB0YXJnZXQuYXBwbHkodGhhdCxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKX07cmV0dXJuIHRhcmdldC5wcm90b3R5cGUmJihFbXB0eS5wcm90b3R5cGU9dGFyZ2V0LnByb3RvdHlwZSxib3VuZC5wcm90b3R5cGU9bmV3IEVtcHR5LEVtcHR5LnByb3RvdHlwZT1udWxsKSxib3VuZH0pO3ZhciBkZWZpbmVHZXR0ZXIsZGVmaW5lU2V0dGVyLGxvb2t1cEdldHRlcixsb29rdXBTZXR0ZXIsc3VwcG9ydHNBY2Nlc3NvcnMsY2FsbD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxwcm90b3R5cGVPZkFycmF5PUFycmF5LnByb3RvdHlwZSxwcm90b3R5cGVPZk9iamVjdD1PYmplY3QucHJvdG90eXBlLHNsaWNlPXByb3RvdHlwZU9mQXJyYXkuc2xpY2UsX3RvU3RyaW5nPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC50b1N0cmluZyksb3ducz1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuaGFzT3duUHJvcGVydHkpO2lmKChzdXBwb3J0c0FjY2Vzc29ycz1vd25zKHByb3RvdHlwZU9mT2JqZWN0LFxcXCJfX2RlZmluZUdldHRlcl9fXFxcIikpJiYoZGVmaW5lR2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZUdldHRlcl9fKSxkZWZpbmVTZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lU2V0dGVyX18pLGxvb2t1cEdldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBHZXR0ZXJfXyksbG9va3VwU2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cFNldHRlcl9fKSksMiE9WzEsMl0uc3BsaWNlKDApLmxlbmd0aClpZihmdW5jdGlvbigpe2Z1bmN0aW9uIG1ha2VBcnJheShsKXt2YXIgYT1BcnJheShsKzIpO3JldHVybiBhWzBdPWFbMV09MCxhfXZhciBsZW5ndGhCZWZvcmUsYXJyYXk9W107cmV0dXJuIGFycmF5LnNwbGljZS5hcHBseShhcnJheSxtYWtlQXJyYXkoMjApKSxhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksbWFrZUFycmF5KDI2KSksbGVuZ3RoQmVmb3JlPWFycmF5Lmxlbmd0aCxhcnJheS5zcGxpY2UoNSwwLFxcXCJYWFhcXFwiKSxsZW5ndGhCZWZvcmUrMT09YXJyYXkubGVuZ3RoLGxlbmd0aEJlZm9yZSsxPT1hcnJheS5sZW5ndGg/ITA6dm9pZCAwfSgpKXt2YXIgYXJyYXlfc3BsaWNlPUFycmF5LnByb3RvdHlwZS5zcGxpY2U7QXJyYXkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihzdGFydCxkZWxldGVDb3VudCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/YXJyYXlfc3BsaWNlLmFwcGx5KHRoaXMsW3ZvaWQgMD09PXN0YXJ0PzA6c3RhcnQsdm9pZCAwPT09ZGVsZXRlQ291bnQ/dGhpcy5sZW5ndGgtc3RhcnQ6ZGVsZXRlQ291bnRdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywyKSkpOltdfX1lbHNlIEFycmF5LnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24ocG9zLHJlbW92ZUNvdW50KXt2YXIgbGVuZ3RoPXRoaXMubGVuZ3RoO3Bvcz4wP3Bvcz5sZW5ndGgmJihwb3M9bGVuZ3RoKTp2b2lkIDA9PXBvcz9wb3M9MDowPnBvcyYmKHBvcz1NYXRoLm1heChsZW5ndGgrcG9zLDApKSxsZW5ndGg+cG9zK3JlbW92ZUNvdW50fHwocmVtb3ZlQ291bnQ9bGVuZ3RoLXBvcyk7dmFyIHJlbW92ZWQ9dGhpcy5zbGljZShwb3MscG9zK3JlbW92ZUNvdW50KSxpbnNlcnQ9c2xpY2UuY2FsbChhcmd1bWVudHMsMiksYWRkPWluc2VydC5sZW5ndGg7aWYocG9zPT09bGVuZ3RoKWFkZCYmdGhpcy5wdXNoLmFwcGx5KHRoaXMsaW5zZXJ0KTtlbHNle3ZhciByZW1vdmU9TWF0aC5taW4ocmVtb3ZlQ291bnQsbGVuZ3RoLXBvcyksdGFpbE9sZFBvcz1wb3MrcmVtb3ZlLHRhaWxOZXdQb3M9dGFpbE9sZFBvcythZGQtcmVtb3ZlLHRhaWxDb3VudD1sZW5ndGgtdGFpbE9sZFBvcyxsZW5ndGhBZnRlclJlbW92ZT1sZW5ndGgtcmVtb3ZlO2lmKHRhaWxPbGRQb3M+dGFpbE5ld1Bvcylmb3IodmFyIGk9MDt0YWlsQ291bnQ+aTsrK2kpdGhpc1t0YWlsTmV3UG9zK2ldPXRoaXNbdGFpbE9sZFBvcytpXTtlbHNlIGlmKHRhaWxOZXdQb3M+dGFpbE9sZFBvcylmb3IoaT10YWlsQ291bnQ7aS0tOyl0aGlzW3RhaWxOZXdQb3MraV09dGhpc1t0YWlsT2xkUG9zK2ldO2lmKGFkZCYmcG9zPT09bGVuZ3RoQWZ0ZXJSZW1vdmUpdGhpcy5sZW5ndGg9bGVuZ3RoQWZ0ZXJSZW1vdmUsdGhpcy5wdXNoLmFwcGx5KHRoaXMsaW5zZXJ0KTtlbHNlIGZvcih0aGlzLmxlbmd0aD1sZW5ndGhBZnRlclJlbW92ZSthZGQsaT0wO2FkZD5pOysraSl0aGlzW3BvcytpXT1pbnNlcnRbaV19cmV0dXJuIHJlbW92ZWR9O0FycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKG9iail7cmV0dXJuXFxcIltvYmplY3QgQXJyYXldXFxcIj09X3RvU3RyaW5nKG9iail9KTt2YXIgYm94ZWRTdHJpbmc9T2JqZWN0KFxcXCJhXFxcIiksc3BsaXRTdHJpbmc9XFxcImFcXFwiIT1ib3hlZFN0cmluZ1swXXx8ISgwIGluIGJveGVkU3RyaW5nKTtpZihBcnJheS5wcm90b3R5cGUuZm9yRWFjaHx8KEFycmF5LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCx0aGlzcD1hcmd1bWVudHNbMV0saT0tMSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKDtsZW5ndGg+KytpOylpIGluIHNlbGYmJmZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpfSksQXJyYXkucHJvdG90eXBlLm1hcHx8KEFycmF5LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAscmVzdWx0PUFycmF5KGxlbmd0aCksdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYocmVzdWx0W2ldPWZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmZpbHRlcnx8KEFycmF5LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24oZnVuKXt2YXIgdmFsdWUsb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAscmVzdWx0PVtdLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHZhbHVlPXNlbGZbaV0sZnVuLmNhbGwodGhpc3AsdmFsdWUsaSxvYmplY3QpJiZyZXN1bHQucHVzaCh2YWx1ZSkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuZXZlcnl8fChBcnJheS5wcm90b3R5cGUuZXZlcnk9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAsdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiYhZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITE7cmV0dXJuITB9KSxBcnJheS5wcm90b3R5cGUuc29tZXx8KEFycmF5LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITA7cmV0dXJuITF9KSxBcnJheS5wcm90b3R5cGUucmVkdWNlfHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7aWYoIWxlbmd0aCYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIik7dmFyIHJlc3VsdCxpPTA7aWYoYXJndW1lbnRzLmxlbmd0aD49MilyZXN1bHQ9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihpIGluIHNlbGYpe3Jlc3VsdD1zZWxmW2krK107YnJlYWt9aWYoKytpPj1sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpfWZvcig7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHJlc3VsdD1mdW4uY2FsbCh2b2lkIDAscmVzdWx0LHNlbGZbaV0saSxvYmplY3QpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0fHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtpZighbGVuZ3RoJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpO3ZhciByZXN1bHQsaT1sZW5ndGgtMTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXJlc3VsdD1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gc2VsZil7cmVzdWx0PXNlbGZbaS0tXTticmVha31pZigwPi0taSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKX1kbyBpIGluIHRoaXMmJihyZXN1bHQ9ZnVuLmNhbGwodm9pZCAwLHJlc3VsdCxzZWxmW2ldLGksb2JqZWN0KSk7d2hpbGUoaS0tKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJi0xPT1bMCwxXS5pbmRleE9mKDEsMil8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihzb3VnaHQpe3ZhciBzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOnRvT2JqZWN0KHRoaXMpLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWxlbmd0aClyZXR1cm4tMTt2YXIgaT0wO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPXRvSW50ZWdlcihhcmd1bWVudHNbMV0pKSxpPWk+PTA/aTpNYXRoLm1heCgwLGxlbmd0aCtpKTtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiZzZWxmW2ldPT09c291Z2h0KXJldHVybiBpO3JldHVybi0xfSksQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mJiYtMT09WzAsMV0ubGFzdEluZGV4T2YoMCwtMyl8fChBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24oc291Z2h0KXt2YXIgc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTp0b09iamVjdCh0aGlzKSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCFsZW5ndGgpcmV0dXJuLTE7dmFyIGk9bGVuZ3RoLTE7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKGk9TWF0aC5taW4oaSx0b0ludGVnZXIoYXJndW1lbnRzWzFdKSkpLGk9aT49MD9pOmxlbmd0aC1NYXRoLmFicyhpKTtpPj0wO2ktLSlpZihpIGluIHNlbGYmJnNvdWdodD09PXNlbGZbaV0pcmV0dXJuIGk7cmV0dXJuLTF9KSxPYmplY3QuZ2V0UHJvdG90eXBlT2Z8fChPYmplY3QuZ2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0Ll9fcHJvdG9fX3x8KG9iamVjdC5jb25zdHJ1Y3Rvcj9vYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlOnByb3RvdHlwZU9mT2JqZWN0KX0pLCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKXt2YXIgRVJSX05PTl9PQkpFQ1Q9XFxcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIGEgbm9uLW9iamVjdDogXFxcIjtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSl7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVCtvYmplY3QpO2lmKG93bnMob2JqZWN0LHByb3BlcnR5KSl7dmFyIGRlc2NyaXB0b3IsZ2V0dGVyLHNldHRlcjtpZihkZXNjcmlwdG9yPXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0sc3VwcG9ydHNBY2Nlc3NvcnMpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXztvYmplY3QuX19wcm90b19fPXByb3RvdHlwZU9mT2JqZWN0O3ZhciBnZXR0ZXI9bG9va3VwR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSksc2V0dGVyPWxvb2t1cFNldHRlcihvYmplY3QscHJvcGVydHkpO2lmKG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlLGdldHRlcnx8c2V0dGVyKXJldHVybiBnZXR0ZXImJihkZXNjcmlwdG9yLmdldD1nZXR0ZXIpLHNldHRlciYmKGRlc2NyaXB0b3Iuc2V0PXNldHRlciksZGVzY3JpcHRvcn1yZXR1cm4gZGVzY3JpcHRvci52YWx1ZT1vYmplY3RbcHJvcGVydHldLGRlc2NyaXB0b3J9fX1pZihPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCl9KSwhT2JqZWN0LmNyZWF0ZSl7dmFyIGNyZWF0ZUVtcHR5O2NyZWF0ZUVtcHR5PW51bGw9PT1PYmplY3QucHJvdG90eXBlLl9fcHJvdG9fXz9mdW5jdGlvbigpe3JldHVybntfX3Byb3RvX186bnVsbH19OmZ1bmN0aW9uKCl7dmFyIGVtcHR5PXt9O2Zvcih2YXIgaSBpbiBlbXB0eSllbXB0eVtpXT1udWxsO3JldHVybiBlbXB0eS5jb25zdHJ1Y3Rvcj1lbXB0eS5oYXNPd25Qcm9wZXJ0eT1lbXB0eS5wcm9wZXJ0eUlzRW51bWVyYWJsZT1lbXB0eS5pc1Byb3RvdHlwZU9mPWVtcHR5LnRvTG9jYWxlU3RyaW5nPWVtcHR5LnRvU3RyaW5nPWVtcHR5LnZhbHVlT2Y9ZW1wdHkuX19wcm90b19fPW51bGwsZW1wdHl9LE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24ocHJvdG90eXBlLHByb3BlcnRpZXMpe3ZhciBvYmplY3Q7aWYobnVsbD09PXByb3RvdHlwZSlvYmplY3Q9Y3JlYXRlRW1wdHkoKTtlbHNle2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgcHJvdG90eXBlKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInR5cGVvZiBwcm90b3R5cGVbXFxcIit0eXBlb2YgcHJvdG90eXBlK1xcXCJdICE9ICdvYmplY3QnXFxcIik7dmFyIFR5cGU9ZnVuY3Rpb24oKXt9O1R5cGUucHJvdG90eXBlPXByb3RvdHlwZSxvYmplY3Q9bmV3IFR5cGUsb2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGV9cmV0dXJuIHZvaWQgMCE9PXByb3BlcnRpZXMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCxwcm9wZXJ0aWVzKSxvYmplY3R9fWlmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSl7dmFyIGRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdD1kb2VzRGVmaW5lUHJvcGVydHlXb3JrKHt9KSxkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb209XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBkb2N1bWVudHx8ZG9lc0RlZmluZVByb3BlcnR5V29yayhkb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJkaXZcXFwiKSk7aWYoIWRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdHx8IWRlZmluZVByb3BlcnR5V29ya3NPbkRvbSl2YXIgZGVmaW5lUHJvcGVydHlGYWxsYmFjaz1PYmplY3QuZGVmaW5lUHJvcGVydHl9aWYoIU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZGVmaW5lUHJvcGVydHlGYWxsYmFjayl7dmFyIEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1I9XFxcIlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiBcXFwiLEVSUl9OT05fT0JKRUNUX1RBUkdFVD1cXFwiT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxlZCBvbiBub24tb2JqZWN0OiBcXFwiLEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRD1cXFwiZ2V0dGVycyAmIHNldHRlcnMgY2FuIG5vdCBiZSBkZWZpbmVkIG9uIHRoaXMgamF2YXNjcmlwdCBlbmdpbmVcXFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eT1mdW5jdGlvbihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvcil7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9UQVJHRVQrb2JqZWN0KTtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGRlc2NyaXB0b3ImJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBkZXNjcmlwdG9yfHxudWxsPT09ZGVzY3JpcHRvcil0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1IrZGVzY3JpcHRvcik7aWYoZGVmaW5lUHJvcGVydHlGYWxsYmFjayl0cnl7cmV0dXJuIGRlZmluZVByb3BlcnR5RmFsbGJhY2suY2FsbChPYmplY3Qsb2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3IpfWNhdGNoKGV4Y2VwdGlvbil7fWlmKG93bnMoZGVzY3JpcHRvcixcXFwidmFsdWVcXFwiKSlpZihzdXBwb3J0c0FjY2Vzc29ycyYmKGxvb2t1cEdldHRlcihvYmplY3QscHJvcGVydHkpfHxsb29rdXBTZXR0ZXIob2JqZWN0LHByb3BlcnR5KSkpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXztvYmplY3QuX19wcm90b19fPXByb3RvdHlwZU9mT2JqZWN0LGRlbGV0ZSBvYmplY3RbcHJvcGVydHldLG9iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZSxvYmplY3QuX19wcm90b19fPXByb3RvdHlwZX1lbHNlIG9iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZTtlbHNle2lmKCFzdXBwb3J0c0FjY2Vzc29ycyl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCk7b3ducyhkZXNjcmlwdG9yLFxcXCJnZXRcXFwiKSYmZGVmaW5lR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yLmdldCksb3ducyhkZXNjcmlwdG9yLFxcXCJzZXRcXFwiKSYmZGVmaW5lU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yLnNldCl9cmV0dXJuIG9iamVjdH19T2JqZWN0LmRlZmluZVByb3BlcnRpZXN8fChPYmplY3QuZGVmaW5lUHJvcGVydGllcz1mdW5jdGlvbihvYmplY3QscHJvcGVydGllcyl7Zm9yKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKW93bnMocHJvcGVydGllcyxwcm9wZXJ0eSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QscHJvcGVydHkscHJvcGVydGllc1twcm9wZXJ0eV0pO3JldHVybiBvYmplY3R9KSxPYmplY3Quc2VhbHx8KE9iamVjdC5zZWFsPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5mcmVlemV8fChPYmplY3QuZnJlZXplPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pO3RyeXtPYmplY3QuZnJlZXplKGZ1bmN0aW9uKCl7fSl9Y2F0Y2goZXhjZXB0aW9uKXtPYmplY3QuZnJlZXplPWZ1bmN0aW9uKGZyZWV6ZU9iamVjdCl7cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIG9iamVjdD9vYmplY3Q6ZnJlZXplT2JqZWN0KG9iamVjdCl9fShPYmplY3QuZnJlZXplKX1pZihPYmplY3QucHJldmVudEV4dGVuc2lvbnN8fChPYmplY3QucHJldmVudEV4dGVuc2lvbnM9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LmlzU2VhbGVkfHwoT2JqZWN0LmlzU2VhbGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxPYmplY3QuaXNGcm96ZW58fChPYmplY3QuaXNGcm96ZW49ZnVuY3Rpb24oKXtyZXR1cm4hMX0pLE9iamVjdC5pc0V4dGVuc2libGV8fChPYmplY3QuaXNFeHRlbnNpYmxlPWZ1bmN0aW9uKG9iamVjdCl7aWYoT2JqZWN0KG9iamVjdCk9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcjtmb3IodmFyIG5hbWU9XFxcIlxcXCI7b3ducyhvYmplY3QsbmFtZSk7KW5hbWUrPVxcXCI/XFxcIjtvYmplY3RbbmFtZV09ITA7dmFyIHJldHVyblZhbHVlPW93bnMob2JqZWN0LG5hbWUpO3JldHVybiBkZWxldGUgb2JqZWN0W25hbWVdLHJldHVyblZhbHVlfSksIU9iamVjdC5rZXlzKXt2YXIgaGFzRG9udEVudW1CdWc9ITAsZG9udEVudW1zPVtcXFwidG9TdHJpbmdcXFwiLFxcXCJ0b0xvY2FsZVN0cmluZ1xcXCIsXFxcInZhbHVlT2ZcXFwiLFxcXCJoYXNPd25Qcm9wZXJ0eVxcXCIsXFxcImlzUHJvdG90eXBlT2ZcXFwiLFxcXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVxcXCIsXFxcImNvbnN0cnVjdG9yXFxcIl0sZG9udEVudW1zTGVuZ3RoPWRvbnRFbnVtcy5sZW5ndGg7Zm9yKHZhciBrZXkgaW57dG9TdHJpbmc6bnVsbH0paGFzRG9udEVudW1CdWc9ITE7T2JqZWN0LmtleXM9ZnVuY3Rpb24ob2JqZWN0KXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG9iamVjdCYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIG9iamVjdHx8bnVsbD09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0XFxcIik7dmFyIGtleXM9W107Zm9yKHZhciBuYW1lIGluIG9iamVjdClvd25zKG9iamVjdCxuYW1lKSYma2V5cy5wdXNoKG5hbWUpO2lmKGhhc0RvbnRFbnVtQnVnKWZvcih2YXIgaT0wLGlpPWRvbnRFbnVtc0xlbmd0aDtpaT5pO2krKyl7dmFyIGRvbnRFbnVtPWRvbnRFbnVtc1tpXTtvd25zKG9iamVjdCxkb250RW51bSkmJmtleXMucHVzaChkb250RW51bSl9cmV0dXJuIGtleXN9fURhdGUubm93fHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0pO3ZhciB3cz1cXFwiXFx0XFxcXG5cXHUwMDBiXFxcXGZcXFxcciDCoOGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcXFx1MjAyOFxcXFx1MjAyOe+7v1xcXCI7aWYoIVN0cmluZy5wcm90b3R5cGUudHJpbXx8d3MudHJpbSgpKXt3cz1cXFwiW1xcXCIrd3MrXFxcIl1cXFwiO3ZhciB0cmltQmVnaW5SZWdleHA9UmVnRXhwKFxcXCJeXFxcIit3cyt3cytcXFwiKlxcXCIpLHRyaW1FbmRSZWdleHA9UmVnRXhwKHdzK3dzK1xcXCIqJFxcXCIpO1N0cmluZy5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe3JldHVybih0aGlzK1xcXCJcXFwiKS5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCxcXFwiXFxcIikucmVwbGFjZSh0cmltRW5kUmVnZXhwLFxcXCJcXFwiKX19dmFyIHRvT2JqZWN0PWZ1bmN0aW9uKG8pe2lmKG51bGw9PW8pdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiY2FuJ3QgY29udmVydCBcXFwiK28rXFxcIiB0byBvYmplY3RcXFwiKTtyZXR1cm4gT2JqZWN0KG8pfX0pO1wiO1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJwQkd2QXBcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi8uLi9ub2RlX21vZHVsZXMvYnJhY2Uvd29ya2VyL2phdmFzY3JpcHQuanNcIixcIi8uLi9ub2RlX21vZHVsZXMvYnJhY2Uvd29ya2VyXCIpIiwiKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCxCdWZmZXIsX19hcmd1bWVudDAsX19hcmd1bWVudDEsX19hcmd1bWVudDIsX19hcmd1bWVudDMsX19maWxlbmFtZSxfX2Rpcm5hbWUpe1xuLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuQnVmZmVyLnBvb2xTaXplID0gODE5MlxuXG4vKipcbiAqIElmIGBCdWZmZXIuX3VzZVR5cGVkQXJyYXlzYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKGNvbXBhdGlibGUgZG93biB0byBJRTYpXG4gKi9cbkJ1ZmZlci5fdXNlVHlwZWRBcnJheXMgPSAoZnVuY3Rpb24gKCkge1xuICAvLyBEZXRlY3QgaWYgYnJvd3NlciBzdXBwb3J0cyBUeXBlZCBBcnJheXMuIFN1cHBvcnRlZCBicm93c2VycyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLFxuICAvLyBDaHJvbWUgNyssIFNhZmFyaSA1LjErLCBPcGVyYSAxMS42KywgaU9TIDQuMisuIElmIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYWRkaW5nXG4gIC8vIHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcywgdGhlbiB0aGF0J3MgdGhlIHNhbWUgYXMgbm8gYFVpbnQ4QXJyYXlgIHN1cHBvcnRcbiAgLy8gYmVjYXVzZSB3ZSBuZWVkIHRvIGJlIGFibGUgdG8gYWRkIGFsbCB0aGUgbm9kZSBCdWZmZXIgQVBJIG1ldGhvZHMuIFRoaXMgaXMgYW4gaXNzdWVcbiAgLy8gaW4gRmlyZWZveCA0LTI5LiBOb3cgZml4ZWQ6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOFxuICB0cnkge1xuICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMClcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIGFyci5mb28gPSBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9XG4gICAgcmV0dXJuIDQyID09PSBhcnIuZm9vKCkgJiZcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAvLyBDaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59KSgpXG5cbi8qKlxuICogQ2xhc3M6IEJ1ZmZlclxuICogPT09PT09PT09PT09PVxuICpcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgYXJlIGF1Z21lbnRlZFxuICogd2l0aCBmdW5jdGlvbiBwcm9wZXJ0aWVzIGZvciBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgQVBJIGZ1bmN0aW9ucy4gV2UgdXNlXG4gKiBgVWludDhBcnJheWAgc28gdGhhdCBzcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdCByZXR1cm5zXG4gKiBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBCeSBhdWdtZW50aW5nIHRoZSBpbnN0YW5jZXMsIHdlIGNhbiBhdm9pZCBtb2RpZnlpbmcgdGhlIGBVaW50OEFycmF5YFxuICogcHJvdG90eXBlLlxuICovXG5mdW5jdGlvbiBCdWZmZXIgKHN1YmplY3QsIGVuY29kaW5nLCBub1plcm8pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpXG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoc3ViamVjdCwgZW5jb2RpbmcsIG5vWmVybylcblxuICB2YXIgdHlwZSA9IHR5cGVvZiBzdWJqZWN0XG5cbiAgLy8gV29ya2Fyb3VuZDogbm9kZSdzIGJhc2U2NCBpbXBsZW1lbnRhdGlvbiBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgc3RyaW5nc1xuICAvLyB3aGlsZSBiYXNlNjQtanMgZG9lcyBub3QuXG4gIGlmIChlbmNvZGluZyA9PT0gJ2Jhc2U2NCcgJiYgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICBzdWJqZWN0ID0gc3RyaW5ndHJpbShzdWJqZWN0KVxuICAgIHdoaWxlIChzdWJqZWN0Lmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICAgIHN1YmplY3QgPSBzdWJqZWN0ICsgJz0nXG4gICAgfVxuICB9XG5cbiAgLy8gRmluZCB0aGUgbGVuZ3RoXG4gIHZhciBsZW5ndGhcbiAgaWYgKHR5cGUgPT09ICdudW1iZXInKVxuICAgIGxlbmd0aCA9IGNvZXJjZShzdWJqZWN0KVxuICBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJylcbiAgICBsZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aChzdWJqZWN0LCBlbmNvZGluZylcbiAgZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpXG4gICAgbGVuZ3RoID0gY29lcmNlKHN1YmplY3QubGVuZ3RoKSAvLyBhc3N1bWUgdGhhdCBvYmplY3QgaXMgYXJyYXktbGlrZVxuICBlbHNlXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCBuZWVkcyB0byBiZSBhIG51bWJlciwgYXJyYXkgb3Igc3RyaW5nLicpXG5cbiAgdmFyIGJ1ZlxuICBpZiAoQnVmZmVyLl91c2VUeXBlZEFycmF5cykge1xuICAgIC8vIFByZWZlcnJlZDogUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICBidWYgPSBCdWZmZXIuX2F1Z21lbnQobmV3IFVpbnQ4QXJyYXkobGVuZ3RoKSlcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIFRISVMgaW5zdGFuY2Ugb2YgQnVmZmVyIChjcmVhdGVkIGJ5IGBuZXdgKVxuICAgIGJ1ZiA9IHRoaXNcbiAgICBidWYubGVuZ3RoID0gbGVuZ3RoXG4gICAgYnVmLl9pc0J1ZmZlciA9IHRydWVcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChCdWZmZXIuX3VzZVR5cGVkQXJyYXlzICYmIHR5cGVvZiBzdWJqZWN0LmJ5dGVMZW5ndGggPT09ICdudW1iZXInKSB7XG4gICAgLy8gU3BlZWQgb3B0aW1pemF0aW9uIC0tIHVzZSBzZXQgaWYgd2UncmUgY29weWluZyBmcm9tIGEgdHlwZWQgYXJyYXlcbiAgICBidWYuX3NldChzdWJqZWN0KVxuICB9IGVsc2UgaWYgKGlzQXJyYXlpc2goc3ViamVjdCkpIHtcbiAgICAvLyBUcmVhdCBhcnJheS1pc2ggb2JqZWN0cyBhcyBhIGJ5dGUgYXJyYXlcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIoc3ViamVjdCkpXG4gICAgICAgIGJ1ZltpXSA9IHN1YmplY3QucmVhZFVJbnQ4KGkpXG4gICAgICBlbHNlXG4gICAgICAgIGJ1ZltpXSA9IHN1YmplY3RbaV1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICBidWYud3JpdGUoc3ViamVjdCwgMCwgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgIUJ1ZmZlci5fdXNlVHlwZWRBcnJheXMgJiYgIW5vWmVybykge1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgYnVmW2ldID0gMFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWZcbn1cblxuLy8gU1RBVElDIE1FVEhPRFNcbi8vID09PT09PT09PT09PT09XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICdyYXcnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiAoYikge1xuICByZXR1cm4gISEoYiAhPT0gbnVsbCAmJiBiICE9PSB1bmRlZmluZWQgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gZnVuY3Rpb24gKHN0ciwgZW5jb2RpbmcpIHtcbiAgdmFyIHJldFxuICBzdHIgPSBzdHIgKyAnJ1xuICBzd2l0Y2ggKGVuY29kaW5nIHx8ICd1dGY4Jykge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgICByZXQgPSBzdHIubGVuZ3RoIC8gMlxuICAgICAgYnJlYWtcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgICByZXQgPSB1dGY4VG9CeXRlcyhzdHIpLmxlbmd0aFxuICAgICAgYnJlYWtcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdyYXcnOlxuICAgICAgcmV0ID0gc3RyLmxlbmd0aFxuICAgICAgYnJlYWtcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgcmV0ID0gYmFzZTY0VG9CeXRlcyhzdHIpLmxlbmd0aFxuICAgICAgYnJlYWtcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0ID0gc3RyLmxlbmd0aCAqIDJcbiAgICAgIGJyZWFrXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBlbmNvZGluZycpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gKGxpc3QsIHRvdGFsTGVuZ3RoKSB7XG4gIGFzc2VydChpc0FycmF5KGxpc3QpLCAnVXNhZ2U6IEJ1ZmZlci5jb25jYXQobGlzdCwgW3RvdGFsTGVuZ3RoXSlcXG4nICtcbiAgICAgICdsaXN0IHNob3VsZCBiZSBhbiBBcnJheS4nKVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKDApXG4gIH0gZWxzZSBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gbGlzdFswXVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB0b3RhbExlbmd0aCAhPT0gJ251bWJlcicpIHtcbiAgICB0b3RhbExlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgdG90YWxMZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmID0gbmV3IEJ1ZmZlcih0b3RhbExlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV1cbiAgICBpdGVtLmNvcHkoYnVmLCBwb3MpXG4gICAgcG9zICs9IGl0ZW0ubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG4vLyBCVUZGRVIgSU5TVEFOQ0UgTUVUSE9EU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gX2hleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgYXNzZXJ0KHN0ckxlbiAlIDIgPT09IDAsICdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYnl0ZSA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBhc3NlcnQoIWlzTmFOKGJ5dGUpLCAnSW52YWxpZCBoZXggc3RyaW5nJylcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBieXRlXG4gIH1cbiAgQnVmZmVyLl9jaGFyc1dyaXR0ZW4gPSBpICogMlxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBfdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgdmFyIGNoYXJzV3JpdHRlbiA9IEJ1ZmZlci5fY2hhcnNXcml0dGVuID1cbiAgICBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG4gIHJldHVybiBjaGFyc1dyaXR0ZW5cbn1cblxuZnVuY3Rpb24gX2FzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICB2YXIgY2hhcnNXcml0dGVuID0gQnVmZmVyLl9jaGFyc1dyaXR0ZW4gPVxuICAgIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG4gIHJldHVybiBjaGFyc1dyaXR0ZW5cbn1cblxuZnVuY3Rpb24gX2JpbmFyeVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIF9hc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gX2Jhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgdmFyIGNoYXJzV3JpdHRlbiA9IEJ1ZmZlci5fY2hhcnNXcml0dGVuID1cbiAgICBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbiAgcmV0dXJuIGNoYXJzV3JpdHRlblxufVxuXG5mdW5jdGlvbiBfdXRmMTZsZVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgdmFyIGNoYXJzV3JpdHRlbiA9IEJ1ZmZlci5fY2hhcnNXcml0dGVuID1cbiAgICBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG4gIHJldHVybiBjaGFyc1dyaXR0ZW5cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBTdXBwb3J0IGJvdGggKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKVxuICAvLyBhbmQgdGhlIGxlZ2FjeSAoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpXG4gIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgaWYgKCFpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICB9IGVsc2UgeyAgLy8gbGVnYWN5XG4gICAgdmFyIHN3YXAgPSBlbmNvZGluZ1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgb2Zmc2V0ID0gbGVuZ3RoXG4gICAgbGVuZ3RoID0gc3dhcFxuICB9XG5cbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZyB8fCAndXRmOCcpLnRvTG93ZXJDYXNlKClcblxuICB2YXIgcmV0XG4gIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgICAgcmV0ID0gX2hleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIHJldCA9IF91dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYXNjaWknOlxuICAgICAgcmV0ID0gX2FzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgIHJldCA9IF9iaW5hcnlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgcmV0ID0gX2Jhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXQgPSBfdXRmMTZsZVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2RpbmcnKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZyB8fCAndXRmOCcpLnRvTG93ZXJDYXNlKClcbiAgc3RhcnQgPSBOdW1iZXIoc3RhcnQpIHx8IDBcbiAgZW5kID0gKGVuZCAhPT0gdW5kZWZpbmVkKVxuICAgID8gTnVtYmVyKGVuZClcbiAgICA6IGVuZCA9IHNlbGYubGVuZ3RoXG5cbiAgLy8gRmFzdHBhdGggZW1wdHkgc3RyaW5nc1xuICBpZiAoZW5kID09PSBzdGFydClcbiAgICByZXR1cm4gJydcblxuICB2YXIgcmV0XG4gIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgICAgcmV0ID0gX2hleFNsaWNlKHNlbGYsIHN0YXJ0LCBlbmQpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIHJldCA9IF91dGY4U2xpY2Uoc2VsZiwgc3RhcnQsIGVuZClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYXNjaWknOlxuICAgICAgcmV0ID0gX2FzY2lpU2xpY2Uoc2VsZiwgc3RhcnQsIGVuZClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgIHJldCA9IF9iaW5hcnlTbGljZShzZWxmLCBzdGFydCwgZW5kKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgcmV0ID0gX2Jhc2U2NFNsaWNlKHNlbGYsIHN0YXJ0LCBlbmQpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXQgPSBfdXRmMTZsZVNsaWNlKHNlbGYsIHN0YXJ0LCBlbmQpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2RpbmcnKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gKHRhcmdldCwgdGFyZ2V0X3N0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIHZhciBzb3VyY2UgPSB0aGlzXG5cbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKCF0YXJnZXRfc3RhcnQpIHRhcmdldF9zdGFydCA9IDBcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVyblxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCBzb3VyY2UubGVuZ3RoID09PSAwKSByZXR1cm5cblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGFzc2VydChlbmQgPj0gc3RhcnQsICdzb3VyY2VFbmQgPCBzb3VyY2VTdGFydCcpXG4gIGFzc2VydCh0YXJnZXRfc3RhcnQgPj0gMCAmJiB0YXJnZXRfc3RhcnQgPCB0YXJnZXQubGVuZ3RoLFxuICAgICAgJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBhc3NlcnQoc3RhcnQgPj0gMCAmJiBzdGFydCA8IHNvdXJjZS5sZW5ndGgsICdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgYXNzZXJ0KGVuZCA+PSAwICYmIGVuZCA8PSBzb3VyY2UubGVuZ3RoLCAnc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aClcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldF9zdGFydCA8IGVuZCAtIHN0YXJ0KVxuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRfc3RhcnQgKyBzdGFydFxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuXG4gIGlmIChsZW4gPCAxMDAgfHwgIUJ1ZmZlci5fdXNlVHlwZWRBcnJheXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRfc3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0Ll9zZXQodGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLCB0YXJnZXRfc3RhcnQpXG4gIH1cbn1cblxuZnVuY3Rpb24gX2Jhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiBfdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJlcyA9ICcnXG4gIHZhciB0bXAgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICBpZiAoYnVmW2ldIDw9IDB4N0YpIHtcbiAgICAgIHJlcyArPSBkZWNvZGVVdGY4Q2hhcih0bXApICsgU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gICAgICB0bXAgPSAnJ1xuICAgIH0gZWxzZSB7XG4gICAgICB0bXAgKz0gJyUnICsgYnVmW2ldLnRvU3RyaW5nKDE2KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXMgKyBkZWNvZGVVdGY4Q2hhcih0bXApXG59XG5cbmZ1bmN0aW9uIF9hc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKylcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gX2JpbmFyeVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIF9hc2NpaVNsaWNlKGJ1Ziwgc3RhcnQsIGVuZClcbn1cblxuZnVuY3Rpb24gX2hleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gX3V0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSsxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSBjbGFtcChzdGFydCwgbGVuLCAwKVxuICBlbmQgPSBjbGFtcChlbmQsIGxlbiwgbGVuKVxuXG4gIGlmIChCdWZmZXIuX3VzZVR5cGVkQXJyYXlzKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5fYXVnbWVudCh0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpKVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgdmFyIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZCwgdHJ1ZSlcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyBpKyspIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgICByZXR1cm4gbmV3QnVmXG4gIH1cbn1cblxuLy8gYGdldGAgd2lsbCBiZSByZW1vdmVkIGluIE5vZGUgMC4xMytcbkJ1ZmZlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICBjb25zb2xlLmxvZygnLmdldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuJylcbiAgcmV0dXJuIHRoaXMucmVhZFVJbnQ4KG9mZnNldClcbn1cblxuLy8gYHNldGAgd2lsbCBiZSByZW1vdmVkIGluIE5vZGUgMC4xMytcbkJ1ZmZlci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHYsIG9mZnNldCkge1xuICBjb25zb2xlLmxvZygnLnNldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuJylcbiAgcmV0dXJuIHRoaXMud3JpdGVVSW50OCh2LCBvZmZzZXQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCA8IHRoaXMubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgaWYgKG9mZnNldCA+PSB0aGlzLmxlbmd0aClcbiAgICByZXR1cm5cblxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbmZ1bmN0aW9uIF9yZWFkVUludDE2IChidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDEgPCBidWYubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcbiAgaWYgKG9mZnNldCA+PSBsZW4pXG4gICAgcmV0dXJuXG5cbiAgdmFyIHZhbFxuICBpZiAobGl0dGxlRW5kaWFuKSB7XG4gICAgdmFsID0gYnVmW29mZnNldF1cbiAgICBpZiAob2Zmc2V0ICsgMSA8IGxlbilcbiAgICAgIHZhbCB8PSBidWZbb2Zmc2V0ICsgMV0gPDwgOFxuICB9IGVsc2Uge1xuICAgIHZhbCA9IGJ1ZltvZmZzZXRdIDw8IDhcbiAgICBpZiAob2Zmc2V0ICsgMSA8IGxlbilcbiAgICAgIHZhbCB8PSBidWZbb2Zmc2V0ICsgMV1cbiAgfVxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkVUludDE2KHRoaXMsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkVUludDE2KHRoaXMsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiBfcmVhZFVJbnQzMiAoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAzIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIHZhciB2YWxcbiAgaWYgKGxpdHRsZUVuZGlhbikge1xuICAgIGlmIChvZmZzZXQgKyAyIDwgbGVuKVxuICAgICAgdmFsID0gYnVmW29mZnNldCArIDJdIDw8IDE2XG4gICAgaWYgKG9mZnNldCArIDEgPCBsZW4pXG4gICAgICB2YWwgfD0gYnVmW29mZnNldCArIDFdIDw8IDhcbiAgICB2YWwgfD0gYnVmW29mZnNldF1cbiAgICBpZiAob2Zmc2V0ICsgMyA8IGxlbilcbiAgICAgIHZhbCA9IHZhbCArIChidWZbb2Zmc2V0ICsgM10gPDwgMjQgPj4+IDApXG4gIH0gZWxzZSB7XG4gICAgaWYgKG9mZnNldCArIDEgPCBsZW4pXG4gICAgICB2YWwgPSBidWZbb2Zmc2V0ICsgMV0gPDwgMTZcbiAgICBpZiAob2Zmc2V0ICsgMiA8IGxlbilcbiAgICAgIHZhbCB8PSBidWZbb2Zmc2V0ICsgMl0gPDwgOFxuICAgIGlmIChvZmZzZXQgKyAzIDwgbGVuKVxuICAgICAgdmFsIHw9IGJ1ZltvZmZzZXQgKyAzXVxuICAgIHZhbCA9IHZhbCArIChidWZbb2Zmc2V0XSA8PCAyNCA+Pj4gMClcbiAgfVxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkVUludDMyKHRoaXMsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkVUludDMyKHRoaXMsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsXG4gICAgICAgICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCA8IHRoaXMubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgaWYgKG9mZnNldCA+PSB0aGlzLmxlbmd0aClcbiAgICByZXR1cm5cblxuICB2YXIgbmVnID0gdGhpc1tvZmZzZXRdICYgMHg4MFxuICBpZiAobmVnKVxuICAgIHJldHVybiAoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTFcbiAgZWxzZVxuICAgIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuZnVuY3Rpb24gX3JlYWRJbnQxNiAoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAxIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIHZhciB2YWwgPSBfcmVhZFVJbnQxNihidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCB0cnVlKVxuICB2YXIgbmVnID0gdmFsICYgMHg4MDAwXG4gIGlmIChuZWcpXG4gICAgcmV0dXJuICgweGZmZmYgLSB2YWwgKyAxKSAqIC0xXG4gIGVsc2VcbiAgICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gX3JlYWRJbnQxNih0aGlzLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkSW50MTYodGhpcywgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIF9yZWFkSW50MzIgKGJ1Ziwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodHlwZW9mIGxpdHRsZUVuZGlhbiA9PT0gJ2Jvb2xlYW4nLCAnbWlzc2luZyBvciBpbnZhbGlkIGVuZGlhbicpXG4gICAgYXNzZXJ0KG9mZnNldCAhPT0gdW5kZWZpbmVkICYmIG9mZnNldCAhPT0gbnVsbCwgJ21pc3Npbmcgb2Zmc2V0JylcbiAgICBhc3NlcnQob2Zmc2V0ICsgMyA8IGJ1Zi5sZW5ndGgsICdUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG4gIH1cblxuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuICBpZiAob2Zmc2V0ID49IGxlbilcbiAgICByZXR1cm5cblxuICB2YXIgdmFsID0gX3JlYWRVSW50MzIoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgdHJ1ZSlcbiAgdmFyIG5lZyA9IHZhbCAmIDB4ODAwMDAwMDBcbiAgaWYgKG5lZylcbiAgICByZXR1cm4gKDB4ZmZmZmZmZmYgLSB2YWwgKyAxKSAqIC0xXG4gIGVsc2VcbiAgICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gX3JlYWRJbnQzMih0aGlzLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkSW50MzIodGhpcywgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIF9yZWFkRmxvYXQgKGJ1Ziwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodHlwZW9mIGxpdHRsZUVuZGlhbiA9PT0gJ2Jvb2xlYW4nLCAnbWlzc2luZyBvciBpbnZhbGlkIGVuZGlhbicpXG4gICAgYXNzZXJ0KG9mZnNldCArIDMgPCBidWYubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgcmV0dXJuIGllZWU3NTQucmVhZChidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiBfcmVhZEZsb2F0KHRoaXMsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gX3JlYWRGbG9hdCh0aGlzLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gX3JlYWREb3VibGUgKGJ1Ziwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodHlwZW9mIGxpdHRsZUVuZGlhbiA9PT0gJ2Jvb2xlYW4nLCAnbWlzc2luZyBvciBpbnZhbGlkIGVuZGlhbicpXG4gICAgYXNzZXJ0KG9mZnNldCArIDcgPCBidWYubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgcmV0dXJuIGllZWU3NTQucmVhZChidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gX3JlYWREb3VibGUodGhpcywgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gX3JlYWREb3VibGUodGhpcywgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwsICdtaXNzaW5nIHZhbHVlJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgPCB0aGlzLmxlbmd0aCwgJ3RyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG4gICAgdmVyaWZ1aW50KHZhbHVlLCAweGZmKVxuICB9XG5cbiAgaWYgKG9mZnNldCA+PSB0aGlzLmxlbmd0aCkgcmV0dXJuXG5cbiAgdGhpc1tvZmZzZXRdID0gdmFsdWVcbn1cblxuZnVuY3Rpb24gX3dyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsLCAnbWlzc2luZyB2YWx1ZScpXG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDEgPCBidWYubGVuZ3RoLCAndHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZnVpbnQodmFsdWUsIDB4ZmZmZilcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4obGVuIC0gb2Zmc2V0LCAyKTsgaSA8IGo7IGkrKykge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9XG4gICAgICAgICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAgICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgX3dyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgX3dyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gX3dyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsLCAnbWlzc2luZyB2YWx1ZScpXG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDMgPCBidWYubGVuZ3RoLCAndHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZnVpbnQodmFsdWUsIDB4ZmZmZmZmZmYpXG4gIH1cblxuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuICBpZiAob2Zmc2V0ID49IGxlbilcbiAgICByZXR1cm5cblxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGxlbiAtIG9mZnNldCwgNCk7IGkgPCBqOyBpKyspIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPVxuICAgICAgICAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIF93cml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIF93cml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCwgJ21pc3NpbmcgdmFsdWUnKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCA8IHRoaXMubGVuZ3RoLCAnVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZnNpbnQodmFsdWUsIDB4N2YsIC0weDgwKVxuICB9XG5cbiAgaWYgKG9mZnNldCA+PSB0aGlzLmxlbmd0aClcbiAgICByZXR1cm5cblxuICBpZiAodmFsdWUgPj0gMClcbiAgICB0aGlzLndyaXRlVUludDgodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpXG4gIGVsc2VcbiAgICB0aGlzLndyaXRlVUludDgoMHhmZiArIHZhbHVlICsgMSwgb2Zmc2V0LCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gX3dyaXRlSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwsICdtaXNzaW5nIHZhbHVlJylcbiAgICBhc3NlcnQodHlwZW9mIGxpdHRsZUVuZGlhbiA9PT0gJ2Jvb2xlYW4nLCAnbWlzc2luZyBvciBpbnZhbGlkIGVuZGlhbicpXG4gICAgYXNzZXJ0KG9mZnNldCAhPT0gdW5kZWZpbmVkICYmIG9mZnNldCAhPT0gbnVsbCwgJ21pc3Npbmcgb2Zmc2V0JylcbiAgICBhc3NlcnQob2Zmc2V0ICsgMSA8IGJ1Zi5sZW5ndGgsICdUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICAgIHZlcmlmc2ludCh2YWx1ZSwgMHg3ZmZmLCAtMHg4MDAwKVxuICB9XG5cbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcbiAgaWYgKG9mZnNldCA+PSBsZW4pXG4gICAgcmV0dXJuXG5cbiAgaWYgKHZhbHVlID49IDApXG4gICAgX3dyaXRlVUludDE2KGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydClcbiAgZWxzZVxuICAgIF93cml0ZVVJbnQxNihidWYsIDB4ZmZmZiArIHZhbHVlICsgMSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBfd3JpdGVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgX3dyaXRlSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiBfd3JpdGVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCwgJ21pc3NpbmcgdmFsdWUnKVxuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAzIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG4gICAgdmVyaWZzaW50KHZhbHVlLCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIGlmICh2YWx1ZSA+PSAwKVxuICAgIF93cml0ZVVJbnQzMihidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpXG4gIGVsc2VcbiAgICBfd3JpdGVVSW50MzIoYnVmLCAweGZmZmZmZmZmICsgdmFsdWUgKyAxLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIF93cml0ZUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBfd3JpdGVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIF93cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsLCAnbWlzc2luZyB2YWx1ZScpXG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDMgPCBidWYubGVuZ3RoLCAnVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZklFRUU3NTQodmFsdWUsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG5cbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcbiAgaWYgKG9mZnNldCA+PSBsZW4pXG4gICAgcmV0dXJuXG5cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIF93cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBfd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIF93cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCwgJ21pc3NpbmcgdmFsdWUnKVxuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyA3IDwgYnVmLmxlbmd0aCxcbiAgICAgICAgJ1RyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG4gICAgdmVyaWZJRUVFNzU0KHZhbHVlLCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG5cbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcbiAgaWYgKG9mZnNldCA+PSBsZW4pXG4gICAgcmV0dXJuXG5cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBfd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBfd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBmaWxsKHZhbHVlLCBzdGFydD0wLCBlbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uICh2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXZhbHVlKSB2YWx1ZSA9IDBcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kKSBlbmQgPSB0aGlzLmxlbmd0aFxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5jaGFyQ29kZUF0KDApXG4gIH1cblxuICBhc3NlcnQodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAhaXNOYU4odmFsdWUpLCAndmFsdWUgaXMgbm90IGEgbnVtYmVyJylcbiAgYXNzZXJ0KGVuZCA+PSBzdGFydCwgJ2VuZCA8IHN0YXJ0JylcblxuICAvLyBGaWxsIDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVyblxuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVyblxuXG4gIGFzc2VydChzdGFydCA+PSAwICYmIHN0YXJ0IDwgdGhpcy5sZW5ndGgsICdzdGFydCBvdXQgb2YgYm91bmRzJylcbiAgYXNzZXJ0KGVuZCA+PSAwICYmIGVuZCA8PSB0aGlzLmxlbmd0aCwgJ2VuZCBvdXQgb2YgYm91bmRzJylcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgIHRoaXNbaV0gPSB2YWx1ZVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG91dCA9IFtdXG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgb3V0W2ldID0gdG9IZXgodGhpc1tpXSlcbiAgICBpZiAoaSA9PT0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUykge1xuICAgICAgb3V0W2kgKyAxXSA9ICcuLi4nXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIG91dC5qb2luKCcgJykgKyAnPidcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGBBcnJheUJ1ZmZlcmAgd2l0aCB0aGUgKmNvcGllZCogbWVtb3J5IG9mIHRoZSBidWZmZXIgaW5zdGFuY2UuXG4gKiBBZGRlZCBpbiBOb2RlIDAuMTIuIE9ubHkgYXZhaWxhYmxlIGluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBBcnJheUJ1ZmZlci5cbiAqL1xuQnVmZmVyLnByb3RvdHlwZS50b0FycmF5QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKEJ1ZmZlci5fdXNlVHlwZWRBcnJheXMpIHtcbiAgICAgIHJldHVybiAobmV3IEJ1ZmZlcih0aGlzKSkuYnVmZmVyXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBidWYgPSBuZXcgVWludDhBcnJheSh0aGlzLmxlbmd0aClcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBidWYubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpXG4gICAgICAgIGJ1ZltpXSA9IHRoaXNbaV1cbiAgICAgIHJldHVybiBidWYuYnVmZmVyXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQnVmZmVyLnRvQXJyYXlCdWZmZXIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKVxuICB9XG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxudmFyIEJQID0gQnVmZmVyLnByb3RvdHlwZVxuXG4vKipcbiAqIEF1Z21lbnQgYSBVaW50OEFycmF5ICppbnN0YW5jZSogKG5vdCB0aGUgVWludDhBcnJheSBjbGFzcyEpIHdpdGggQnVmZmVyIG1ldGhvZHNcbiAqL1xuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX2lzQnVmZmVyID0gdHJ1ZVxuXG4gIC8vIHNhdmUgcmVmZXJlbmNlIHRvIG9yaWdpbmFsIFVpbnQ4QXJyYXkgZ2V0L3NldCBtZXRob2RzIGJlZm9yZSBvdmVyd3JpdGluZ1xuICBhcnIuX2dldCA9IGFyci5nZXRcbiAgYXJyLl9zZXQgPSBhcnIuc2V0XG5cbiAgLy8gZGVwcmVjYXRlZCwgd2lsbCBiZSByZW1vdmVkIGluIG5vZGUgMC4xMytcbiAgYXJyLmdldCA9IEJQLmdldFxuICBhcnIuc2V0ID0gQlAuc2V0XG5cbiAgYXJyLndyaXRlID0gQlAud3JpdGVcbiAgYXJyLnRvU3RyaW5nID0gQlAudG9TdHJpbmdcbiAgYXJyLnRvTG9jYWxlU3RyaW5nID0gQlAudG9TdHJpbmdcbiAgYXJyLnRvSlNPTiA9IEJQLnRvSlNPTlxuICBhcnIuY29weSA9IEJQLmNvcHlcbiAgYXJyLnNsaWNlID0gQlAuc2xpY2VcbiAgYXJyLnJlYWRVSW50OCA9IEJQLnJlYWRVSW50OFxuICBhcnIucmVhZFVJbnQxNkxFID0gQlAucmVhZFVJbnQxNkxFXG4gIGFyci5yZWFkVUludDE2QkUgPSBCUC5yZWFkVUludDE2QkVcbiAgYXJyLnJlYWRVSW50MzJMRSA9IEJQLnJlYWRVSW50MzJMRVxuICBhcnIucmVhZFVJbnQzMkJFID0gQlAucmVhZFVJbnQzMkJFXG4gIGFyci5yZWFkSW50OCA9IEJQLnJlYWRJbnQ4XG4gIGFyci5yZWFkSW50MTZMRSA9IEJQLnJlYWRJbnQxNkxFXG4gIGFyci5yZWFkSW50MTZCRSA9IEJQLnJlYWRJbnQxNkJFXG4gIGFyci5yZWFkSW50MzJMRSA9IEJQLnJlYWRJbnQzMkxFXG4gIGFyci5yZWFkSW50MzJCRSA9IEJQLnJlYWRJbnQzMkJFXG4gIGFyci5yZWFkRmxvYXRMRSA9IEJQLnJlYWRGbG9hdExFXG4gIGFyci5yZWFkRmxvYXRCRSA9IEJQLnJlYWRGbG9hdEJFXG4gIGFyci5yZWFkRG91YmxlTEUgPSBCUC5yZWFkRG91YmxlTEVcbiAgYXJyLnJlYWREb3VibGVCRSA9IEJQLnJlYWREb3VibGVCRVxuICBhcnIud3JpdGVVSW50OCA9IEJQLndyaXRlVUludDhcbiAgYXJyLndyaXRlVUludDE2TEUgPSBCUC53cml0ZVVJbnQxNkxFXG4gIGFyci53cml0ZVVJbnQxNkJFID0gQlAud3JpdGVVSW50MTZCRVxuICBhcnIud3JpdGVVSW50MzJMRSA9IEJQLndyaXRlVUludDMyTEVcbiAgYXJyLndyaXRlVUludDMyQkUgPSBCUC53cml0ZVVJbnQzMkJFXG4gIGFyci53cml0ZUludDggPSBCUC53cml0ZUludDhcbiAgYXJyLndyaXRlSW50MTZMRSA9IEJQLndyaXRlSW50MTZMRVxuICBhcnIud3JpdGVJbnQxNkJFID0gQlAud3JpdGVJbnQxNkJFXG4gIGFyci53cml0ZUludDMyTEUgPSBCUC53cml0ZUludDMyTEVcbiAgYXJyLndyaXRlSW50MzJCRSA9IEJQLndyaXRlSW50MzJCRVxuICBhcnIud3JpdGVGbG9hdExFID0gQlAud3JpdGVGbG9hdExFXG4gIGFyci53cml0ZUZsb2F0QkUgPSBCUC53cml0ZUZsb2F0QkVcbiAgYXJyLndyaXRlRG91YmxlTEUgPSBCUC53cml0ZURvdWJsZUxFXG4gIGFyci53cml0ZURvdWJsZUJFID0gQlAud3JpdGVEb3VibGVCRVxuICBhcnIuZmlsbCA9IEJQLmZpbGxcbiAgYXJyLmluc3BlY3QgPSBCUC5pbnNwZWN0XG4gIGFyci50b0FycmF5QnVmZmVyID0gQlAudG9BcnJheUJ1ZmZlclxuXG4gIHJldHVybiBhcnJcbn1cblxuLy8gc2xpY2Uoc3RhcnQsIGVuZClcbmZ1bmN0aW9uIGNsYW1wIChpbmRleCwgbGVuLCBkZWZhdWx0VmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHJldHVybiBkZWZhdWx0VmFsdWVcbiAgaW5kZXggPSB+fmluZGV4OyAgLy8gQ29lcmNlIHRvIGludGVnZXIuXG4gIGlmIChpbmRleCA+PSBsZW4pIHJldHVybiBsZW5cbiAgaWYgKGluZGV4ID49IDApIHJldHVybiBpbmRleFxuICBpbmRleCArPSBsZW5cbiAgaWYgKGluZGV4ID49IDApIHJldHVybiBpbmRleFxuICByZXR1cm4gMFxufVxuXG5mdW5jdGlvbiBjb2VyY2UgKGxlbmd0aCkge1xuICAvLyBDb2VyY2UgbGVuZ3RoIHRvIGEgbnVtYmVyIChwb3NzaWJseSBOYU4pLCByb3VuZCB1cFxuICAvLyBpbiBjYXNlIGl0J3MgZnJhY3Rpb25hbCAoZS5nLiAxMjMuNDU2KSB0aGVuIGRvIGFcbiAgLy8gZG91YmxlIG5lZ2F0ZSB0byBjb2VyY2UgYSBOYU4gdG8gMC4gRWFzeSwgcmlnaHQ/XG4gIGxlbmd0aCA9IH5+TWF0aC5jZWlsKCtsZW5ndGgpXG4gIHJldHVybiBsZW5ndGggPCAwID8gMCA6IGxlbmd0aFxufVxuXG5mdW5jdGlvbiBpc0FycmF5IChzdWJqZWN0KSB7XG4gIHJldHVybiAoQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoc3ViamVjdCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ViamVjdCkgPT09ICdbb2JqZWN0IEFycmF5XSdcbiAgfSkoc3ViamVjdClcbn1cblxuZnVuY3Rpb24gaXNBcnJheWlzaCAoc3ViamVjdCkge1xuICByZXR1cm4gaXNBcnJheShzdWJqZWN0KSB8fCBCdWZmZXIuaXNCdWZmZXIoc3ViamVjdCkgfHxcbiAgICAgIHN1YmplY3QgJiYgdHlwZW9mIHN1YmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICB0eXBlb2Ygc3ViamVjdC5sZW5ndGggPT09ICdudW1iZXInXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYiA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaWYgKGIgPD0gMHg3RilcbiAgICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKVxuICAgIGVsc2Uge1xuICAgICAgdmFyIHN0YXJ0ID0gaVxuICAgICAgaWYgKGIgPj0gMHhEODAwICYmIGIgPD0gMHhERkZGKSBpKytcbiAgICAgIHZhciBoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0ci5zbGljZShzdGFydCwgaSsxKSkuc3Vic3RyKDEpLnNwbGl0KCclJylcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaC5sZW5ndGg7IGorKylcbiAgICAgICAgYnl0ZUFycmF5LnB1c2gocGFyc2VJbnQoaFtqXSwgMTYpKVxuICAgIH1cbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShzdHIpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICB2YXIgcG9zXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpXG4gICAgICBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIGRlY29kZVV0ZjhDaGFyIChzdHIpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cilcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoMHhGRkZEKSAvLyBVVEYgOCBpbnZhbGlkIGNoYXJcbiAgfVxufVxuXG4vKlxuICogV2UgaGF2ZSB0byBtYWtlIHN1cmUgdGhhdCB0aGUgdmFsdWUgaXMgYSB2YWxpZCBpbnRlZ2VyLiBUaGlzIG1lYW5zIHRoYXQgaXRcbiAqIGlzIG5vbi1uZWdhdGl2ZS4gSXQgaGFzIG5vIGZyYWN0aW9uYWwgY29tcG9uZW50IGFuZCB0aGF0IGl0IGRvZXMgbm90XG4gKiBleGNlZWQgdGhlIG1heGltdW0gYWxsb3dlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gdmVyaWZ1aW50ICh2YWx1ZSwgbWF4KSB7XG4gIGFzc2VydCh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInLCAnY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlcicpXG4gIGFzc2VydCh2YWx1ZSA+PSAwLCAnc3BlY2lmaWVkIGEgbmVnYXRpdmUgdmFsdWUgZm9yIHdyaXRpbmcgYW4gdW5zaWduZWQgdmFsdWUnKVxuICBhc3NlcnQodmFsdWUgPD0gbWF4LCAndmFsdWUgaXMgbGFyZ2VyIHRoYW4gbWF4aW11bSB2YWx1ZSBmb3IgdHlwZScpXG4gIGFzc2VydChNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWUsICd2YWx1ZSBoYXMgYSBmcmFjdGlvbmFsIGNvbXBvbmVudCcpXG59XG5cbmZ1bmN0aW9uIHZlcmlmc2ludCAodmFsdWUsIG1heCwgbWluKSB7XG4gIGFzc2VydCh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInLCAnY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlcicpXG4gIGFzc2VydCh2YWx1ZSA8PSBtYXgsICd2YWx1ZSBsYXJnZXIgdGhhbiBtYXhpbXVtIGFsbG93ZWQgdmFsdWUnKVxuICBhc3NlcnQodmFsdWUgPj0gbWluLCAndmFsdWUgc21hbGxlciB0aGFuIG1pbmltdW0gYWxsb3dlZCB2YWx1ZScpXG4gIGFzc2VydChNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWUsICd2YWx1ZSBoYXMgYSBmcmFjdGlvbmFsIGNvbXBvbmVudCcpXG59XG5cbmZ1bmN0aW9uIHZlcmlmSUVFRTc1NCAodmFsdWUsIG1heCwgbWluKSB7XG4gIGFzc2VydCh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInLCAnY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlcicpXG4gIGFzc2VydCh2YWx1ZSA8PSBtYXgsICd2YWx1ZSBsYXJnZXIgdGhhbiBtYXhpbXVtIGFsbG93ZWQgdmFsdWUnKVxuICBhc3NlcnQodmFsdWUgPj0gbWluLCAndmFsdWUgc21hbGxlciB0aGFuIG1pbmltdW0gYWxsb3dlZCB2YWx1ZScpXG59XG5cbmZ1bmN0aW9uIGFzc2VydCAodGVzdCwgbWVzc2FnZSkge1xuICBpZiAoIXRlc3QpIHRocm93IG5ldyBFcnJvcihtZXNzYWdlIHx8ICdGYWlsZWQgYXNzZXJ0aW9uJylcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJwQkd2QXBcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi8uLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzXCIsXCIvLi4vbm9kZV9tb2R1bGVzL2J1ZmZlclwiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbmV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IGUgKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSBtICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKHZhbHVlICogYyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcInBCR3ZBcFwiKSx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiLy4uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzXCIsXCIvLi4vbm9kZV9tb2R1bGVzL2llZWU3NTRcIikiLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsLEJ1ZmZlcixfX2FyZ3VtZW50MCxfX2FyZ3VtZW50MSxfX2FyZ3VtZW50MixfX2FyZ3VtZW50MyxfX2ZpbGVuYW1lLF9fZGlybmFtZSl7XG4vLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5wcm9jZXNzLm5leHRUaWNrID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2FuU2V0SW1tZWRpYXRlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAmJiB3aW5kb3cuc2V0SW1tZWRpYXRlO1xuICAgIHZhciBjYW5Qb3N0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAmJiB3aW5kb3cucG9zdE1lc3NhZ2UgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXJcbiAgICA7XG5cbiAgICBpZiAoY2FuU2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZikgeyByZXR1cm4gd2luZG93LnNldEltbWVkaWF0ZShmKSB9O1xuICAgIH1cblxuICAgIGlmIChjYW5Qb3N0KSB7XG4gICAgICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGV2LnNvdXJjZTtcbiAgICAgICAgICAgIGlmICgoc291cmNlID09PSB3aW5kb3cgfHwgc291cmNlID09PSBudWxsKSAmJiBldi5kYXRhID09PSAncHJvY2Vzcy10aWNrJykge1xuICAgICAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbiA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goZm4pO1xuICAgICAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKCdwcm9jZXNzLXRpY2snLCAnKicpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0VGljayhmbikge1xuICAgICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbiAgICB9O1xufSkoKTtcblxucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59XG5cbi8vIFRPRE8oc2h0eWxtYW4pXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJwQkd2QXBcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi8uLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzXCIsXCIvLi4vbm9kZV9tb2R1bGVzL3Byb2Nlc3NcIikiLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsLEJ1ZmZlcixfX2FyZ3VtZW50MCxfX2FyZ3VtZW50MSxfX2FyZ3VtZW50MixfX2FyZ3VtZW50MyxfX2ZpbGVuYW1lLF9fZGlybmFtZSl7XG5tb2R1bGUuZXhwb3J0cyA9IGdldF9ibG9iKClcblxuZnVuY3Rpb24gZ2V0X2Jsb2IoKSB7XG4gIGlmKGdsb2JhbC5CbG9iKSB7XG4gICAgdHJ5IHtcbiAgICAgIG5ldyBCbG9iKFsnYXNkZiddLCB7dHlwZTogJ3RleHQvcGxhaW4nfSlcbiAgICAgIHJldHVybiBCbG9iXG4gICAgfSBjYXRjaChlcnIpIHt9XG4gIH1cblxuICB2YXIgQnVpbGRlciA9IGdsb2JhbC5XZWJLaXRCbG9iQnVpbGRlciB8fFxuICAgICAgICAgICAgICAgIGdsb2JhbC5Nb3pCbG9iQnVpbGRlciB8fFxuICAgICAgICAgICAgICAgIGdsb2JhbC5NU0Jsb2JCdWlsZGVyXG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHBhcnRzLCBiYWcpIHtcbiAgICB2YXIgYnVpbGRlciA9IG5ldyBCdWlsZGVyXG4gICAgICAsIGVuZGluZ3MgPSBiYWcuZW5kaW5nc1xuICAgICAgLCB0eXBlID0gYmFnLnR5cGVcblxuICAgIGlmKGVuZGluZ3MpIGZvcih2YXIgaSA9IDAsIGxlbiA9IHBhcnRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSwgZW5kaW5ncylcbiAgICB9IGVsc2UgZm9yKHZhciBpID0gMCwgbGVuID0gcGFydHMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGJ1aWxkZXIuYXBwZW5kKHBhcnRzW2ldKVxuICAgIH1cblxuICAgIHJldHVybiB0eXBlID8gYnVpbGRlci5nZXRCbG9iKHR5cGUpIDogYnVpbGRlci5nZXRCbG9iKClcbiAgfVxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcInBCR3ZBcFwiKSx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiLy4uL25vZGVfbW9kdWxlcy93M2MtYmxvYi9icm93c2VyLmpzXCIsXCIvLi4vbm9kZV9tb2R1bGVzL3czYy1ibG9iXCIpIiwiKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCxCdWZmZXIsX19hcmd1bWVudDAsX19hcmd1bWVudDEsX19hcmd1bWVudDIsX19hcmd1bWVudDMsX19maWxlbmFtZSxfX2Rpcm5hbWUpe1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBDaGFpbkNvbG9yID0ge1xuXHRibHVlOiAncmdiKDg2LCAxNTYsIDIxNCknLFxuXHRsaWdodGJsdWU6ICdyZ2IoMTU2LCAyMjAsIDI1NCknLFxuXHRjbGVhcjogJ3JnYmEoMCwgMCwgMCwgMCknLFxuXHRncmF5OiAncmdiKDM3LCAzNywgMzgpJyxcblx0bGlnaHRncmF5OiAncmdiKDUxLCA1MSwgNTEpJyxcblx0d2hpdGU6ICdyZ2IoMjEyLCAyMTIsIDIxMiknLFxuXHRwdXJwbGU6ICdyZ2IoMTk3LCAxMzQsIDE5MiknLFxuXHRncmVlbjogJ3JnYig3OCwgMjAxLCAxNzYpJyxcblx0cmVkOiAncmdiKDI1MiwgNzAsIDY2KScsXG5cdHllbGxvdzogJ3JnYigyMjAsIDIyMCwgMTcwKSdcbn07XG5cbmNsYXNzIENoYWluQ2hpbGQge1xuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpbn0gY2hhaW5cblx0ICovXG5cdGNvbnN0cnVjdG9yKGNoYWluKSB7XG5cdFx0dGhpcy5jaGFpbiA9IGNoYWluO1xuXHRcdHRoaXMuY29udGV4dCA9IHRoaXMuY2hhaW4uY29udGV4dDtcblx0XHR0aGlzLmZpbGxTdHlsZSA9IENoYWluQ29sb3IuY2xlYXI7XG5cdFx0dGhpcy5zdHJva2VTdHlsZSA9IENoYWluQ29sb3IuY2xlYXI7XG5cdFx0dGhpcy5saW5lV2lkdGggPSAxO1xuXHRcdHRoaXMuZm9udCA9IFwiMTJweCAnTWVubG8nXCI7XG5cdFx0dGhpcy50ZXh0QmFzZWxpbmUgPSAndG9wJztcblx0XHR0aGlzLnRleHRBbGlnbiA9ICdsZWZ0Jztcblx0fVxuXG5cdGRyYXcoKSB7XG5cdFx0dGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuXHRcdHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG5cdFx0dGhpcy5jb250ZXh0LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuXHRcdHRoaXMuY29udGV4dC5mb250ID0gdGhpcy5mb250O1xuXHRcdHRoaXMuY29udGV4dC50ZXh0QWxpZ24gPSB0aGlzLnRleHRBbGlnbjtcblx0XHR0aGlzLmNvbnRleHQudGV4dEJhc2VsaW5lID0gdGhpcy50ZXh0QmFzZWxpbmU7XG5cdH1cbn1cblxuY2xhc3MgQ2hhaW5DaGlsZFdpdGhQb3NpdGlvbiBleHRlbmRzIENoYWluQ2hpbGQge1xuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpbn0gY2hhaW5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICovXG5cdGNvbnN0cnVjdG9yKGNoYWluLCB4ID0gMCwgeSA9IDApIHtcblx0XHRzdXBlcihjaGFpbik7XG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqL1xuXHRwb3NpdGlvbih4LCB5KSB7XG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXHR9XG59XG5cbmNsYXNzIENoYWluVGV4dCBleHRlbmRzIENoYWluQ2hpbGRXaXRoUG9zaXRpb24ge1xuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpbn0gY2hhaW5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHRleHRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICovXG5cdGNvbnN0cnVjdG9yKGNoYWluLCB0ZXh0ID0gJycsIHggPSAwLCB5ID0gMCkge1xuXHRcdHN1cGVyKGNoYWluLCB4LCB5KTtcblx0XHR0aGlzLmZpbGxTdHlsZSA9IENoYWluQ29sb3Iud2hpdGU7XG5cdFx0dGhpcy50ZXh0ID0gdGV4dDtcblx0fVxuXG5cdGRyYXcoKSB7XG5cdFx0c3VwZXIuZHJhdygpO1xuXHRcdHRoaXMuY29udGV4dC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMueCwgdGhpcy55KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaG9yaXpvbnRhbFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdmVydGljYWxcblx0ICovXG5cdGFsaWduKGhvcml6b250YWwgPSAnbGVmdCcsIHZlcnRpY2FsID0gJ3RvcCcpIHtcblx0XHR0aGlzLnRleHRBbGlnbiA9IGhvcml6b250YWw7XG5cdFx0dGhpcy50ZXh0QmFzZWxpbmUgPSB2ZXJ0aWNhbDtcblx0fVxufVxuXG5jbGFzcyBDaGFpbkNpcmNsZSBleHRlbmRzIENoYWluQ2hpbGRXaXRoUG9zaXRpb24ge1xuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpbn0gY2hhaW5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1xuXHQgKi9cblx0Y29uc3RydWN0b3IoY2hhaW4sIHggPSAwLCB5ID0gMCwgcmFkaXVzID0gMCkge1xuXHRcdHN1cGVyKGNoYWluLCB4LCB5KTtcblx0XHR0aGlzLnJhZGl1cyA9IHJhZGl1cztcblx0fVxuXG5cdGRyYXcoKSB7XG5cdFx0c3VwZXIuZHJhdygpO1xuXHRcdHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcblx0XHR0aGlzLmNvbnRleHQuYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuXHRcdHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKTtcblx0XHR0aGlzLmNvbnRleHQuc3Ryb2tlKCk7XG5cdFx0dGhpcy5jb250ZXh0LmZpbGwoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICovXG5cdGNvbnRhaW5zKHgsIHkpIHtcblx0XHRjb25zdCBkeCA9IHRoaXMueCAtIHg7XG5cdFx0Y29uc3QgZHkgPSB0aGlzLnkgLSB5O1xuXHRcdHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSA8IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1xuXHQgKi9cblx0c2l6ZShyYWRpdXMpIHtcblx0XHR0aGlzLnJhZGl1cyA9IHJhZGl1cztcblx0fVxufVxuXG5jbGFzcyBDaGFpbk91dGxpbmVDaXJjbGUgZXh0ZW5kcyBDaGFpbkNpcmNsZSB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWlufSBjaGFpblxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihjaGFpbiwgeCA9IDAsIHkgPSAwLCByYWRpdXMgPSAwKSB7XG5cdFx0c3VwZXIoY2hhaW4sIHgsIHksIHJhZGl1cyk7XG5cdFx0dGhpcy5saW5lV2lkdGggPSAxO1xuXHRcdHRoaXMuY2VudGVyID0gbmV3IENoYWluQ2lyY2xlKGNoYWluKTtcblx0XHR0aGlzLm91dGxpbmUgPSB0cnVlO1xuXHRcdHRoaXMuY29sb3IgPSBDaGFpbkNvbG9yLndoaXRlO1xuXHRcdHRoaXMuYWRqdXN0Q2VudGVyKCk7XG5cdH1cblxuXHRkcmF3KCkge1xuXHRcdGlmICh0aGlzLm91dGxpbmUpIHtcblx0XHRcdHN1cGVyLmRyYXcoKTtcblx0XHR9XG5cdFx0dGhpcy5jZW50ZXIuZHJhdygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqL1xuXHRwb3NpdGlvbih4LCB5KSB7XG5cdFx0c3VwZXIucG9zaXRpb24oeCwgeSk7XG5cdFx0dGhpcy5hZGp1c3RDZW50ZXIoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzXG5cdCAqL1xuXHRzaXplKHJhZGl1cykge1xuXHRcdHN1cGVyLnNpemUocmFkaXVzKTtcblx0XHR0aGlzLmFkanVzdENlbnRlcigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIGFkanVzdCBwb3NpdGlvbiBhbmQgcmFkaXVzIG9mIGNlbnRlciBjaXJjbGVcblx0ICovXG5cdGFkanVzdENlbnRlcigpIHtcblx0XHR0aGlzLmNlbnRlci5wb3NpdGlvbih0aGlzLngsIHRoaXMueSk7XG5cdFx0dGhpcy5jZW50ZXIuc2l6ZSh0aGlzLnJhZGl1cyAvIDEuNyk7XG5cdH1cblxuXHRzZXQgY29sb3IoY29sb3IpIHtcblx0XHR0aGlzLnN0cm9rZVN0eWxlID0gY29sb3I7XG5cdFx0dGhpcy5jZW50ZXIuZmlsbFN0eWxlID0gY29sb3I7XG5cdH1cbn1cblxuY2xhc3MgQ2hhaW5Db3NMaW5lIGV4dGVuZHMgQ2hhaW5DaGlsZCB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWlufSBjaGFpblxuXHQgKi9cblx0Y29uc3RydWN0b3IoY2hhaW4sIGF4ID0gMCwgYXkgPSAwLCBieCA9IDAsIGJ5ID0gMCkge1xuXHRcdHN1cGVyKGNoYWluKTtcblx0XHR0aGlzLmF4ID0gYXg7XG5cdFx0dGhpcy5heSA9IGF5O1xuXHRcdHRoaXMuYnggPSBieDtcblx0XHR0aGlzLmJ5ID0gYnk7XG5cdFx0dGhpcy5wb2ludHMgPSBbXTtcblx0XHR0aGlzLnVwZGF0ZSgpO1xuXHR9XG5cblx0ZHJhdygpIHtcblx0XHRzdXBlci5kcmF3KCk7XG5cdFx0dGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpO1xuXHRcdHRoaXMucG9pbnRzLmZvckVhY2goKHBvaW50LCBpKSA9PiB7XG5cdFx0XHR0aGlzLmNvbnRleHRbKGkgPT09IDApID8gJ21vdmVUbycgOiAnbGluZVRvJ10ocG9pbnRbMF0sIHBvaW50WzFdKTtcblx0XHR9KTtcblx0XHR0aGlzLmNvbnRleHQuc3Ryb2tlKCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICovXG5cdGJlZ2luKHgsIHkpIHtcblx0XHR0aGlzLmF4ID0geDtcblx0XHR0aGlzLmF5ID0geTtcblx0XHR0aGlzLnVwZGF0ZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqL1xuXHRlbmQoeCwgeSkge1xuXHRcdHRoaXMuYnggPSB4O1xuXHRcdHRoaXMuYnkgPSB5O1xuXHRcdHRoaXMudXBkYXRlKCk7XG5cdH1cblxuXHQvKipcblx0ICogdXBkYXRlIHBvaW50c1xuXHQgKi9cblx0dXBkYXRlKCkge1xuXHRcdHRoaXMucG9pbnRzID0gW1t0aGlzLmF4LCB0aGlzLmF5XV07XG5cdFx0Y29uc3QgdyA9IHRoaXMuYnggLSB0aGlzLmF4O1xuXHRcdGNvbnN0IGggPSB0aGlzLmJ5IC0gdGhpcy5heTtcblx0XHRjb25zdCBkID0gTWF0aC5zcXJ0KHcgKiB3ICsgaCAqIGgpO1xuXHRcdGZvciAobGV0IGkgPSAxOyBpIDwgZCArIDE7IGkrKykge1xuXHRcdFx0Y29uc3QgcmF0ZSA9IGkgLyBkO1xuXHRcdFx0Y29uc3QgeCA9IHRoaXMuYXggKyB3ICogcmF0ZTtcblx0XHRcdGNvbnN0IHkgPSB0aGlzLmF5ICsgaCAqICgxICsgTWF0aC5jb3MoTWF0aC5QSSAtIE1hdGguUEkgKiByYXRlKSkgLyAyO1xuXHRcdFx0dGhpcy5wb2ludHMucHVzaChbeCwgeV0pO1xuXHRcdH1cblx0fVxufVxuXG5jbGFzcyBDaGFpblJvcGUgZXh0ZW5kcyBDaGFpbkNvc0xpbmUge1xuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpbn0gY2hhaW5cblx0ICovXG5cdGNvbnN0cnVjdG9yKGNoYWluKSB7XG5cdFx0c3VwZXIoY2hhaW4pO1xuXHRcdHRoaXMubGluZVdpZHRoID0gMztcblx0XHR0aGlzLmNvbG9yID0gQ2hhaW5Db2xvci5ncmVlbjtcblx0fVxuXG5cdC8qKlxuXHQgKiB1cGRhdGUgcG9pbnRzXG5cdCAqL1xuXHR1cGRhdGUoKSB7XG5cdFx0dGhpcy5wb2ludHMgPSBbW11dO1xuXHRcdGNvbnN0IHcgPSB0aGlzLmJ4IC0gdGhpcy5heDtcblx0XHRjb25zdCBoID0gdGhpcy5ieSAtIHRoaXMuYXk7XG5cdFx0Y29uc3QgZCA9IE1hdGguc3FydCh3ICogdyArIGggKiBoKTtcblx0XHRjb25zdCBkdCA9IChDaGFpblBpbi5SQURJVVMgKyAyKSAqIChDaGFpblBpbi5SQURJVVMgKyAyKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGQgKyAxOyBpKyspIHtcblx0XHRcdGNvbnN0IHJhdGUgPSBpIC8gZDtcblx0XHRcdGNvbnN0IHggPSB0aGlzLmF4ICsgdyAqIHJhdGU7XG5cdFx0XHRjb25zdCB5ID0gdGhpcy5heSArIGggKiAoMSArIE1hdGguY29zKE1hdGguUEkgLSBNYXRoLlBJICogcmF0ZSkpIC8gMjtcblx0XHRcdGNvbnN0IGRhID0gKHRoaXMuYXggLSB4KSAqICh0aGlzLmF4IC0geCkgKyAodGhpcy5heSAtIHkpICogKHRoaXMuYXkgLSB5KTtcblx0XHRcdGNvbnN0IGRiID0gKHRoaXMuYnggLSB4KSAqICh0aGlzLmJ4IC0geCkgKyAodGhpcy5ieSAtIHkpICogKHRoaXMuYnkgLSB5KTtcblx0XHRcdGlmIChkYSA8IGR0IHx8IGRiIDwgZHQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBvaW50cy5wdXNoKFt4LCB5XSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvclxuXHQgKi9cblx0c2V0IGNvbG9yKGNvbG9yKSB7XG5cdFx0dGhpcy5zdHJva2VTdHlsZSA9IGNvbG9yO1xuXHR9XG59XG5cbmNsYXNzIENoYWluQm94IGV4dGVuZHMgQ2hhaW5DaGlsZFdpdGhQb3NpdGlvbiB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWlufSBjaGFpblxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxuXHQgKi9cblx0Y29uc3RydWN0b3IoY2hhaW4sIHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKSB7XG5cdFx0c3VwZXIoY2hhaW4sIHgsIHkpO1xuXHRcdHRoaXMud2lkdGggPSB3aWR0aDtcblx0XHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblx0fVxuXG5cdGRyYXcoKSB7XG5cdFx0c3VwZXIuZHJhdygpO1xuXHRcdHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcblx0XHR0aGlzLmNvbnRleHQucmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXHRcdHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKTtcblx0XHR0aGlzLmNvbnRleHQuc3Ryb2tlKCk7XG5cdFx0dGhpcy5jb250ZXh0LmZpbGwoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICovXG5cdGNvbnRhaW5zKHgsIHkpIHtcblx0XHRyZXR1cm4gdGhpcy54IDwgeCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aCAmJiB0aGlzLnkgPCB5ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxuXHQgKi9cblx0c2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG5cdFx0dGhpcy53aWR0aCA9IHdpZHRoO1xuXHRcdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXHR9XG59XG5cbmNsYXNzIENoYWluQnV0dG9uIGV4dGVuZHMgQ2hhaW5Cb3gge1xuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpbn0gY2hhaW5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHRleHRcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2xpY2tlclxuXHQgKi9cblx0Y29uc3RydWN0b3IoY2hhaW4sIHRleHQgPSAnJywgY2xpY2sgPSAoKSA9PiB7IH0pIHtcblx0XHRzdXBlcihjaGFpbik7XG5cdFx0dGhpcy5maWxsU3R5bGUgPSBDaGFpbkNvbG9yLmxpZ2h0Z3JheTtcblx0XHR0aGlzLnRleHQgPSBuZXcgQ2hhaW5UZXh0KHRoaXMuY2hhaW4sIHRleHQpO1xuXHRcdHRoaXMudGV4dC5hbGlnbignY2VudGVyJywgJ21pZGRsZScpO1xuXHRcdHRoaXMuc2l6ZSh0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGggKyBDaGFpbi5QQUQgKiAyLCBDaGFpbi5QQUQgKiAyKTtcblx0XHR0aGlzLmNsaWNrID0gY2xpY2s7XG5cdFx0dGhpcy5hZGp1c3RUZXh0KCk7XG5cdH1cblxuXHRkcmF3KCkge1xuXHRcdHN1cGVyLmRyYXcoKTtcblx0XHR0aGlzLnRleHQuZHJhdygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqL1xuXHRwb3NpdGlvbih4LCB5KSB7XG5cdFx0c3VwZXIucG9zaXRpb24oeCwgeSk7XG5cdFx0dGhpcy5hZGp1c3RUZXh0KCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcblx0ICovXG5cdHNpemUod2lkdGgsIGhlaWdodCkge1xuXHRcdHN1cGVyLnNpemUod2lkdGgsIGhlaWdodCk7XG5cdFx0dGhpcy5hZGp1c3RUZXh0KCk7XG5cdH1cblxuXHRhZGp1c3RUZXh0KCkge1xuXHRcdHRoaXMudGV4dC5wb3NpdGlvbih0aGlzLnggKyB0aGlzLndpZHRoIC8gMiwgdGhpcy55ICsgdGhpcy5oZWlnaHQgLyAyKTtcblx0fVxufVxuXG5jbGFzcyBDaGFpbkJsb2NrIGV4dGVuZHMgQ2hhaW5Cb3gge1xuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpbn0gY2hhaW5cblx0ICogQHBhcmFtIHtTdHJpbmd9IGlkXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aFxuXHQgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0XG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihjaGFpbiwgaWQgPSAnJywgeCA9IDAsIHkgPSAwKSB7XG5cdFx0c3VwZXIoY2hhaW4sIHgsIHkpO1xuXHRcdHRoaXMuc3Ryb2tlU3R5bGUgPSBDaGFpbkNvbG9yLmxpZ2h0Z3JheTtcblx0XHR0aGlzLmZpbGxTdHlsZSA9IENoYWluQ29sb3IuZ3JheTtcblx0XHR0aGlzLmlkID0gbmV3IENoYWluVGV4dCh0aGlzLmNoYWluLCBpZCk7XG5cdFx0dGhpcy5pZC5hbGlnbignbGVmdCcsICdtaWRkbGUnKTtcblx0XHR0aGlzLnRvcFBpbnMgPSBbXTtcblx0XHR0aGlzLnJpZ2h0UGlucyA9IFtdO1xuXHRcdHRoaXMuYm90dG9tUGlucyA9IFtdO1xuXHRcdHRoaXMubGVmdFBpbnMgPSBbXTtcblx0XHRjb25zdCBjbG9zZSA9IG5ldyBDaGFpbkJ1dHRvbih0aGlzLmNoYWluLCAnw5cnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmNoYWluLmRpc3BsYXllZEJsb2NrcyA9IHRoaXMuY2hhaW4uZGlzcGxheWVkQmxvY2tzLmZpbHRlcigoYSkgPT4gYSAhPT0gdGhpcyk7XG5cdFx0XHR0aGlzLmFsbFBpbnMuZm9yRWFjaCgoYSkgPT4gdGhpcy5jaGFpbi5kZWxldGVMaW5rKGEpKTtcblx0XHR9KTtcblx0XHRjbG9zZS5maWxsU3R5bGUgPSBDaGFpbkNvbG9yLnJlZDtcblx0XHR0aGlzLmJ1dHRvbnMgPSBbY2xvc2VdO1xuXHRcdHRoaXMuYWRqdXN0V2lkdGgoMTAwKTtcblx0fVxuXG5cdGRyYXcoKSB7XG5cdFx0c3VwZXIuZHJhdygpO1xuXHRcdHRoaXMuaWQuZHJhdygpO1xuXHRcdHRoaXMuYWxsUGlucy5mb3JFYWNoKChhKSA9PiBhLmRyYXcoKSk7XG5cdFx0dGhpcy5idXR0b25zLmZvckVhY2goKGEpID0+IGEuZHJhdygpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKi9cblx0cG9zaXRpb24oeCwgeSkge1xuXHRcdHN1cGVyLnBvc2l0aW9uKHgsIHkpO1xuXHRcdHRoaXMuYWRqdXN0Q2hpbGRyZW4oKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxuXHQgKi9cblx0c2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG5cdFx0c3VwZXIuc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblx0XHR0aGlzLmFkanVzdENoaWxkcmVuKCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHJldHVybnMge0NoYWluT3V0bGluZUNpcmNsZX1cblx0ICovXG5cdGdldFBpbkNvbnRhaW5zKHgsIHkpIHtcblx0XHRjb25zdCBwaW4gPSB0aGlzLmFsbFBpbnMuZmlsdGVyKChhKSA9PiBhLmNvbnRhaW5zKHgsIHkpKVswXTtcblx0XHRyZXR1cm4gcGluO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEByZXR1cm5zIHtDaGFpbkJ1dHRvbn1cblx0ICovXG5cdGdldEJ1dHRvbkNvbnRhaW5zKHgsIHkpIHtcblx0XHRjb25zdCBidXR0b24gPSB0aGlzLmJ1dHRvbnMuZmlsdGVyKChhKSA9PiBhLmNvbnRhaW5zKHgsIHkpKVswXTtcblx0XHRyZXR1cm4gYnV0dG9uO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBtaW5XaWR0aFxuXHQgKi9cblx0YWRqdXN0V2lkdGgobWluV2lkdGgpIHtcblx0XHR0aGlzLndpZHRoID0gTWF0aC5tYXgobWluV2lkdGgsIHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0aGlzLmlkLnRleHQpLndpZHRoICsgQ2hhaW4uUEFEICogMik7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhdGVcblx0ICovXG5cdGFkanVzdEhlaWdodEJ5UmF0ZShyYXRlKSB7XG5cdFx0dGhpcy5oZWlnaHQgPSBDaGFpblBpbi5SQURJVVMgKiAyICsgKENoYWluUGluLlJBRElVUyAqIDIuNSkgKiAocmF0ZSAtIDEpO1xuXHR9XG5cblx0YWRqdXN0Q2hpbGRyZW4oKSB7XG5cdFx0Y29uc3QgciA9IENoYWluUGluLlJBRElVUztcblx0XHR0aGlzLmFkanVzdEhlaWdodEJ5UmF0ZShNYXRoLm1heCgyLCB0aGlzLmxlZnRQaW5zLmxlbmd0aCwgdGhpcy5yaWdodFBpbnMubGVuZ3RoKSk7XG5cdFx0dGhpcy5pZC5wb3NpdGlvbih0aGlzLnggKyBDaGFpbi5QQUQsIHRoaXMueSArIENoYWluLlBBRCAqIDIgKyAodGhpcy5oZWlnaHQgLSBDaGFpbi5QQUQgKiAyKSAvIDIpO1xuXHRcdHRoaXMuYnV0dG9ucy5mb3JFYWNoKChhLCBpKSA9PiBhLnBvc2l0aW9uKHRoaXMueCArIChhLndpZHRoICsgMSkgKiBpLCB0aGlzLnkpKTtcblx0XHR0aGlzLnRvcFBpbnMuZm9yRWFjaCgoYSwgaSkgPT4gYS5wb3NpdGlvbihyICsgKHIgKiAyLjUpICogaSwgLXIgKiAyKSk7XG5cdFx0dGhpcy5yaWdodFBpbnMuZm9yRWFjaCgoYSwgaSkgPT4gYS5wb3NpdGlvbih0aGlzLndpZHRoICsgciAqIDIsIHIgKyAociAqIDIuNSkgKiBpKSk7XG5cdFx0dGhpcy5ib3R0b21QaW5zLmZvckVhY2goKGEsIGkpID0+IGEucG9zaXRpb24ociArIChyICogMi41KSAqIGksIHRoaXMuaGVpZ2h0ICsgciAqIDIpKTtcblx0XHR0aGlzLmxlZnRQaW5zLmZvckVhY2goKGEsIGkpID0+IGEucG9zaXRpb24oLXIgKiAyLCByICsgKHIgKiAyLjUpICogaSkpO1xuXHR9XG5cblx0c2V0IHZhbHVlKHZhbHVlKSB7XG5cdFx0dGhpcy5pZC50ZXh0ID0gdmFsdWU7XG5cdH1cblxuXHRnZXQgdmFsdWUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaWQudGV4dDtcblx0fVxuXG5cdGdldCBhbGxQaW5zKCkge1xuXHRcdHJldHVybiBbXS5jb25jYXQodGhpcy50b3BQaW5zLCB0aGlzLnJpZ2h0UGlucywgdGhpcy5ib3R0b21QaW5zLCB0aGlzLmxlZnRQaW5zKTtcblx0fVxufVxuXG5jbGFzcyBDaGFpbkxpbmsgZXh0ZW5kcyBDaGFpblJvcGUge1xuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpbn0gY2hhaW5cblx0ICogQHBhcmFtIHtDaGFpblBpbn0gYmVnaW5QaW5cblx0ICogQHBhcmFtIHtDaGFpblBpbn0gZW5kUGluXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihjaGFpbiwgYmVnaW5QaW4sIGVuZFBpbikge1xuXHRcdHN1cGVyKGNoYWluKTtcblx0XHRiZWdpblBpbi5saW5rZWQgPSB0cnVlO1xuXHRcdGVuZFBpbi5saW5rZWQgPSB0cnVlO1xuXHRcdHRoaXMubGlua2VkUGlucyA9IFtdO1xuXHRcdHRoaXMuYmVnaW4oYmVnaW5QaW4pO1xuXHRcdHRoaXMuZW5kKGVuZFBpbik7XG5cdH1cblxuXHRkcmF3KCkge1xuXHRcdHRoaXMuYmVnaW4odGhpcy5saW5rZWRQaW5zWzBdKTtcblx0XHR0aGlzLmVuZCh0aGlzLmxpbmtlZFBpbnNbMV0pO1xuXHRcdHN1cGVyLmRyYXcoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWluUGlufSBwaW5cblx0ICovXG5cdGJlZ2luKHBpbikge1xuXHRcdHRoaXMubGlua2VkUGluc1swXSA9IHBpbjtcblx0XHRzdXBlci5iZWdpbih0aGlzLmxpbmtlZFBpbnNbMF0ueCwgdGhpcy5saW5rZWRQaW5zWzBdLnkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7Q2hhaW5QaW59IHBpblxuXHQgKi9cblx0ZW5kKHBpbikge1xuXHRcdHRoaXMubGlua2VkUGluc1sxXSA9IHBpbjtcblx0XHRzdXBlci5lbmQodGhpcy5saW5rZWRQaW5zWzFdLngsIHRoaXMubGlua2VkUGluc1sxXS55KTtcblx0fVxufVxuXG5jbGFzcyBDaGFpblBpbiBleHRlbmRzIENoYWluT3V0bGluZUNpcmNsZSB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWlufSBjaGFpblxuXHQgKiBAcGFyYW0ge0NoYWluQmxvY2t9IHBhcmVudFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdHlwZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZW5kZXJcblx0ICovXG5cdGNvbnN0cnVjdG9yKGNoYWluLCBwYXJlbnQsIHR5cGUsIHNlbmRlcikge1xuXHRcdHN1cGVyKGNoYWluLCAwLCAwLCBDaGFpblBpbi5SQURJVVMpO1xuXHRcdHRoaXMucGFyZW50ID0gcGFyZW50O1xuXHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdFx0dGhpcy5zZW5kZXIgPSBzZW5kZXI7XG5cdFx0dGhpcy52YWx1ZSA9IG51bGw7XG5cdFx0dGhpcy50b1BpbnMgPSBbXTtcblx0XHR0aGlzLmxpbmtlZCA9IGZhbHNlO1xuXHRcdHRoaXMuY29sb3IgPSBDaGFpbkNvbG9yLndoaXRlO1xuXHR9XG5cblx0ZHJhdygpIHtcblx0XHR0aGlzLm91dGxpbmUgPSB0aGlzLmNvbnRhaW5zKHRoaXMuY2hhaW4ubW91c2V4LCB0aGlzLmNoYWluLm1vdXNleSkgfHwgdGhpcy5saW5rZWQ7XG5cdFx0c3VwZXIuZHJhdygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIHJlbGF0aXZlIHBvc2l0aW9uIGJ5IHBhcmVudFxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKi9cblx0cG9zaXRpb24oeCwgeSkge1xuXHRcdHN1cGVyLnBvc2l0aW9uKHRoaXMucGFyZW50LnggKyB4LCB0aGlzLnBhcmVudC55ICsgeSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpblBpbn0gdGFyZ2V0UGluXG5cdCAqL1xuXHRhZGRMaW5rKHRhcmdldFBpbikge1xuXHRcdHRoaXMudG9QaW5zLnB1c2godGFyZ2V0UGluKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWluUGlufSB0YXJnZXRQaW5cblx0ICovXG5cdGRlbGV0ZUxpbmsodGFyZ2V0UGluKSB7XG5cdFx0dGhpcy50b1BpbnMgPSB0aGlzLnRvUGlucy5maWx0ZXIoKGEpID0+IGEgIT09IHRhcmdldFBpbik7XG5cdFx0aWYgKHRoaXMudG9QaW5zLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dGhpcy5saW5rZWQgPSBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRzZW5kKCkge1xuXHRcdHRoaXMudG9QaW5zLmZvckVhY2goKHBpbikgPT4ge1xuXHRcdFx0cGluLnZhbHVlID0gdGhpcy5zZW5kZXIoKTtcblx0XHR9KTtcblx0fVxuXG5cdHNldCBjb2xvcihjb2xvcikge1xuXHRcdHRoaXMuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcblx0XHRzd2l0Y2ggKHRoaXMudHlwZSkge1xuXHRcdFx0Y2FzZSBDaGFpblBpbi5JTlBVVDpcblx0XHRcdFx0dGhpcy5jZW50ZXIuZmlsbFN0eWxlID0gQ2hhaW5Db2xvci5jbGVhcjtcblx0XHRcdFx0dGhpcy5jZW50ZXIuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIENoYWluUGluLk9VVFBVVF9SRVNVTFQ6XG5cdFx0XHRjYXNlIENoYWluUGluLk9VVFBVVF9TRUxGOlxuXHRcdFx0XHR0aGlzLmNlbnRlci5maWxsU3R5bGUgPSBjb2xvcjtcblx0XHRcdFx0dGhpcy5jZW50ZXIuc3Ryb2tlU3R5bGUgPSBDaGFpbkNvbG9yLmNsZWFyO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHN0YXRpYyBnZXQgT1VUUFVUX1JFU1VMVCgpIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXG5cdHN0YXRpYyBnZXQgT1VUUFVUX1NFTEYoKSB7XG5cdFx0cmV0dXJuIDE7XG5cdH1cblxuXHRzdGF0aWMgZ2V0IElOUFVUKCkge1xuXHRcdHJldHVybiAyO1xuXHR9XG5cblx0c3RhdGljIGdldCBSQURJVVMoKSB7XG5cdFx0cmV0dXJuIDc7XG5cdH1cbn1cblxuY2xhc3MgQ2hhaW5GdW5jdGlvbkJsb2NrIGV4dGVuZHMgQ2hhaW5CbG9jayB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWlufSBjaGFpblxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaWRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICovXG5cdGNvbnN0cnVjdG9yKGNoYWluLCBpZCwgeCA9IDAsIHkgPSAwKSB7XG5cdFx0c3VwZXIoY2hhaW4sIGlkLCB4LCB5KTtcblx0XHR0aGlzLnN0cm9rZVN0eWxlID0gQ2hhaW5Db2xvci5ibHVlO1xuXHRcdHRoaXMucmVzdWx0ID0gbmV3IENoYWluUGluKHRoaXMuY2hhaW4sIHRoaXMsIENoYWluUGluLk9VVFBVVF9SRVNVTFQsICgpID0+IHtcblx0XHRcdHJldHVybiB0aGlzLmV4cHJlc3Npb247XG5cdFx0fSk7XG5cdFx0dGhpcy5yZXN1bHQuY29sb3IgPSBDaGFpbkNvbG9yLnB1cnBsZTtcblx0XHR0aGlzLnJpZ2h0UGlucy5wdXNoKHRoaXMucmVzdWx0KTtcblx0XHR0aGlzLnNlbGYgPSBuZXcgQ2hhaW5QaW4odGhpcy5jaGFpbiwgdGhpcywgQ2hhaW5QaW4uSU5QVVQpO1xuXHRcdHRoaXMuc2VsZi5jb2xvciA9IENoYWluQ29sb3IuYmx1ZTtcblx0XHR0aGlzLnBhcmFtcyA9IFtdO1xuXHRcdHRoaXMuYWRkUGFyYW0oKTtcblx0XHR0aGlzLmJ1dHRvbnMgPSB0aGlzLmJ1dHRvbnMuY29uY2F0KFtcblx0XHRcdG5ldyBDaGFpbkJ1dHRvbih0aGlzLmNoYWluLCAnKycsICgpID0+IHtcblx0XHRcdFx0dGhpcy5hZGRQYXJhbSgpO1xuXHRcdFx0fSksXG5cdFx0XHRuZXcgQ2hhaW5CdXR0b24odGhpcy5jaGFpbiwgJy0nLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZGVsZXRlUGFyYW0oKTtcblx0XHRcdH0pXG5cdFx0XSk7XG5cdFx0dGhpcy5hZGp1c3RDaGlsZHJlbigpO1xuXHR9XG5cblx0YWRkUGFyYW0oKSB7XG5cdFx0Y29uc3QgcGFyYW0gPSBuZXcgQ2hhaW5QaW4odGhpcy5jaGFpbiwgdGhpcywgQ2hhaW5QaW4uSU5QVVQpO1xuXHRcdHBhcmFtLmNvbG9yID0gQ2hhaW5Db2xvci5saWdodGJsdWU7XG5cdFx0dGhpcy5wYXJhbXMucHVzaChwYXJhbSk7XG5cdFx0dGhpcy5sZWZ0UGlucyA9IFtdLmNvbmNhdCh0aGlzLnNlbGYsIHRoaXMucGFyYW1zKTtcblx0XHR0aGlzLmFkanVzdENoaWxkcmVuKCk7XG5cdH1cblxuXHRkZWxldGVQYXJhbSgpIHtcblx0XHRjb25zdCBwYXJhbSA9IHRoaXMucGFyYW1zLnBvcCgpO1xuXHRcdHRoaXMuY2hhaW4uZGVsZXRlTGluayhwYXJhbSk7XG5cdFx0dGhpcy5sZWZ0UGlucyA9IFtdLmNvbmNhdCh0aGlzLnNlbGYsIHRoaXMucGFyYW1zKTtcblx0XHR0aGlzLmFkanVzdENoaWxkcmVuKCk7XG5cdH1cblxuXHRnZXQgZXhwcmVzc2lvbigpIHtcblx0XHRjb25zdCBzZWxmID0gdGhpcy5zZWxmLnZhbHVlO1xuXHRcdGNvbnN0IHBhcmFtcyA9IHRoaXMucGFyYW1zLm1hcCgocGFyYW0pID0+IChwYXJhbS52YWx1ZSkgPyBwYXJhbS52YWx1ZSA6ICdudWxsJykuam9pbignLCcpO1xuXHRcdHJldHVybiAoc2VsZikgPyBgJHtzZWxmfVsnJHt0aGlzLnZhbHVlfSddKCR7cGFyYW1zfSlgIDogYCR7dGhpcy52YWx1ZX0oJHtwYXJhbXN9KWA7XG5cdH1cbn1cblxuY2xhc3MgQ2hhaW5WYWx1ZUJsb2NrIGV4dGVuZHMgQ2hhaW5CbG9jayB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWlufSBjaGFpblxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaWRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICovXG5cdGNvbnN0cnVjdG9yKGNoYWluLCBpZCwgeCA9IDAsIHkgPSAwKSB7XG5cdFx0c3VwZXIoY2hhaW4sIGlkLCB4LCB5KTtcblx0XHR0aGlzLnN0cm9rZVN0eWxlID0gQ2hhaW5Db2xvci53aGl0ZTtcblx0XHR0aGlzLnJlc3VsdCA9IG5ldyBDaGFpblBpbih0aGlzLmNoYWluLCB0aGlzLCBDaGFpblBpbi5PVVRQVVRfUkVTVUxULCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5leHByZXNzaW9uO1xuXHRcdH0pO1xuXHRcdHRoaXMucmVzdWx0LmNvbG9yID0gQ2hhaW5Db2xvci5wdXJwbGU7XG5cdFx0dGhpcy5yaWdodFBpbnMucHVzaCh0aGlzLnJlc3VsdCk7XG5cdFx0dGhpcy5hZGp1c3RDaGlsZHJlbigpO1xuXHR9XG5cblx0Z2V0IGV4cHJlc3Npb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWU7XG5cdH1cbn1cblxuY2xhc3MgQ2hhaW5Qcm9wZXJ0eUJsb2NrIGV4dGVuZHMgQ2hhaW5CbG9jayB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWlufSBjaGFpblxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaWRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICovXG5cdGNvbnN0cnVjdG9yKGNoYWluLCBpZCwgeCA9IDAsIHkgPSAwKSB7XG5cdFx0c3VwZXIoY2hhaW4sIGlkLCB4LCB5KTtcblx0XHR0aGlzLnN0cm9rZVN0eWxlID0gQ2hhaW5Db2xvci53aGl0ZTtcblx0XHR0aGlzLnNlbGYgPSBuZXcgQ2hhaW5QaW4odGhpcy5jaGFpbiwgdGhpcywgQ2hhaW5QaW4uSU5QVVQpO1xuXHRcdHRoaXMuc2VsZi5jb2xvciA9IENoYWluQ29sb3IuYmx1ZTtcblx0XHR0aGlzLmxlZnRQaW5zLnB1c2godGhpcy5zZWxmKTtcblx0XHR0aGlzLnJlc3VsdCA9IG5ldyBDaGFpblBpbih0aGlzLmNoYWluLCB0aGlzLCBDaGFpblBpbi5PVVRQVVRfUkVTVUxULCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5leHByZXNzaW9uO1xuXHRcdH0pO1xuXHRcdHRoaXMucmVzdWx0LmNvbG9yID0gQ2hhaW5Db2xvci5wdXJwbGU7XG5cdFx0dGhpcy5yaWdodFBpbnMucHVzaCh0aGlzLnJlc3VsdCk7XG5cdFx0dGhpcy5hZGp1c3RDaGlsZHJlbigpO1xuXHR9XG5cblx0Z2V0IGV4cHJlc3Npb24oKSB7XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXMuc2VsZi52YWx1ZTtcblx0XHRyZXR1cm4gYCR7c2VsZn1bJyR7dGhpcy52YWx1ZX0nXWA7XG5cdH1cbn1cblxuY2xhc3MgQ2hhaW5PcGVyYXRvckJsb2NrIGV4dGVuZHMgQ2hhaW5CbG9jayB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWlufSBjaGFpblxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaWRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICovXG5cdGNvbnN0cnVjdG9yKGNoYWluLCBpZCwgeCA9IDAsIHkgPSAwKSB7XG5cdFx0c3VwZXIoY2hhaW4sIGlkLCB4LCB5KTtcblx0XHR0aGlzLnN0cm9rZVN0eWxlID0gQ2hhaW5Db2xvci53aGl0ZTtcblx0XHR0aGlzLndpZHRoID0gMTgwO1xuXHRcdHRoaXMucmVzdWx0ID0gbmV3IENoYWluUGluKHRoaXMuY2hhaW4sIHRoaXMsIENoYWluUGluLk9VVFBVVF9SRVNVTFQsICgpID0+IHtcblx0XHRcdHJldHVybiB0aGlzLmV4cHJlc3Npb247XG5cdFx0fSk7XG5cdFx0dGhpcy5yaWdodFBpbnMucHVzaCh0aGlzLnJlc3VsdCk7XG5cdFx0dGhpcy5yZXN1bHQuY29sb3IgPSBDaGFpbkNvbG9yLnB1cnBsZTtcblx0XHR0aGlzLnBhcmFtcyA9IEFycmF5KDIpLmZpbGwoKS5tYXAoKCkgPT4gbmV3IENoYWluUGluKHRoaXMuY2hhaW4sIHRoaXMsIENoYWluUGluLklOUFVUKSk7XG5cdFx0dGhpcy5sZWZ0UGlucyA9IHRoaXMucGFyYW1zO1xuXHRcdHRoaXMuYWRqdXN0V2lkdGgoNTApO1xuXHRcdHRoaXMuYWRqdXN0Q2hpbGRyZW4oKTtcblx0fVxuXG5cdGdldCBleHByZXNzaW9uKCkge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHRoaXMucGFyYW1zLm1hcCgocGFyYW0pID0+IHBhcmFtLnZhbHVlKTtcblx0XHRyZXR1cm4gcGFyYW1zLmpvaW4odGhpcy52YWx1ZSk7XG5cdH1cbn1cblxuY2xhc3MgQ2hhaW5WaWV3QmxvY2sgZXh0ZW5kcyBDaGFpbkJsb2NrIHtcblx0LyoqXG5cdCAqIEBwYXJhbSB7Q2hhaW59IGNoYWluXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihjaGFpbiwgeCA9IDAsIHkgPSAwKSB7XG5cdFx0c3VwZXIoY2hhaW4sICcnLCB4LCB5KTtcblx0XHR0aGlzLmluZGV4ID0gLTE7XG5cdFx0dGhpcy5zdHJva2VTdHlsZSA9IENoYWluQ29sb3Iud2hpdGU7XG5cdFx0dGhpcy52aWV3ID0gbmV3IENoYWluUGluKHRoaXMuY2hhaW4sIHRoaXMsIENoYWluUGluLklOUFVUKTtcblx0XHR0aGlzLmxlZnRQaW5zLnB1c2godGhpcy52aWV3KTtcblx0XHR0aGlzLmFkanVzdENoaWxkcmVuKCk7XG5cdH1cblxuXHRzZXQgdmFsdWUodmFsdWUpIHtcblx0XHR0aGlzLmlkLnRleHQgPSB2YWx1ZTtcblx0XHR0aGlzLmFkanVzdFdpZHRoKDEwMCk7XG5cdFx0dGhpcy5hZGp1c3RDaGlsZHJlbigpO1xuXHR9XG59XG5cbmNsYXNzIENoYWluSWZCbG9jayBleHRlbmRzIENoYWluQmxvY2sge1xuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpbn0gY2hhaW5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICovXG5cdGNvbnN0cnVjdG9yKGNoYWluLCB4ID0gMCwgeSA9IDApIHtcblx0XHRzdXBlcihjaGFpbiwgJ2lmJywgeCwgeSk7XG5cdFx0dGhpcy5zdHJva2VTdHlsZSA9IENoYWluQ29sb3IucHVycGxlO1xuXHRcdHRoaXMucGFyYW1zID0gQXJyYXkoMykuZmlsbCgpLm1hcCgocGFyYW0pID0+IG5ldyBDaGFpblBpbih0aGlzLmNoYWluLCB0aGlzLCBDaGFpblBpbi5JTlBVVCkpO1xuXHRcdHRoaXMubGVmdFBpbnMgPSB0aGlzLnBhcmFtcztcblx0XHR0aGlzLnJlc3VsdCA9IG5ldyBDaGFpblBpbih0aGlzLmNoYWluLCB0aGlzLCBDaGFpblBpbi5PVVRQVVRfUkVTVUxULCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5leHByZXNzaW9uO1xuXHRcdH0pO1xuXHRcdHRoaXMucmVzdWx0LmNvbG9yID0gQ2hhaW5Db2xvci5wdXJwbGU7XG5cdFx0dGhpcy5yaWdodFBpbnMucHVzaCh0aGlzLnJlc3VsdCk7XG5cdFx0dGhpcy5hZGp1c3RDaGlsZHJlbigpO1xuXHR9XG5cblx0Z2V0IGV4cHJlc3Npb24oKSB7XG5cdFx0cmV0dXJuIGAke3RoaXMucGFyYW1zWzBdLnZhbHVlfSA/ICR7dGhpcy5wYXJhbXNbMV0udmFsdWV9IDogJHt0aGlzLnBhcmFtc1syXS52YWx1ZX1gO1xuXHR9XG59XG5cbmNsYXNzIENoYWluUmVwZWF0QmxvY2sgZXh0ZW5kcyBDaGFpbkJsb2NrIHtcblx0LyoqXG5cdCAqIEBwYXJhbSB7Q2hhaW59IGNoYWluXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihjaGFpbiwgeCA9IDAsIHkgPSAwKSB7XG5cdFx0c3VwZXIoY2hhaW4sICdyZXBlYXQnLCB4LCB5KTtcblx0XHR0aGlzLnN0cm9rZVN0eWxlID0gQ2hhaW5Db2xvci5wdXJwbGU7XG5cdFx0dGhpcy5yZXBlYXRDb3VudGVySW5kZXggPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0XHR0aGlzLnBhcmFtcyA9IEFycmF5KDIpLmZpbGwoKS5tYXAoKHBhcmFtKSA9PiBuZXcgQ2hhaW5QaW4odGhpcy5jaGFpbiwgdGhpcywgQ2hhaW5QaW4uSU5QVVQpKTtcblx0XHR0aGlzLmluZGV4ID0gbmV3IENoYWluUGluKHRoaXMuY2hhaW4sIHRoaXMsIENoYWluUGluLk9VVFBVVF9TRUxGLCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gYF8ke3RoaXMucmVwZWF0Q291bnRlckluZGV4fWA7XG5cdFx0fSk7XG5cdFx0dGhpcy5sZWZ0UGlucyA9IHRoaXMucGFyYW1zLmNvbmNhdCh0aGlzLmluZGV4KTtcblx0XHR0aGlzLnJlc3VsdCA9IG5ldyBDaGFpblBpbih0aGlzLmNoYWluLCB0aGlzLCBDaGFpblBpbi5PVVRQVVRfUkVTVUxULCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5leHByZXNzaW9uO1xuXHRcdH0pO1xuXHRcdHRoaXMucmVzdWx0LmNvbG9yID0gQ2hhaW5Db2xvci5wdXJwbGU7XG5cdFx0dGhpcy5yaWdodFBpbnMgPSBbdGhpcy5yZXN1bHRdO1xuXHRcdHRoaXMuYWRqdXN0Q2hpbGRyZW4oKTtcblx0fVxuXG5cdGdldCBleHByZXNzaW9uKCkge1xuXHRcdHJldHVybiBgZm9yIChsZXQgXyR7dGhpcy5yZXBlYXRDb3VudGVySW5kZXh9ID0gMDsgXyR7dGhpcy5yZXBlYXRDb3VudGVySW5kZXh9IDwgJHt0aGlzLnBhcmFtc1swXS52YWx1ZX07IF8ke3RoaXMucmVwZWF0Q291bnRlckluZGV4fSArPSAxKSAke3RoaXMucGFyYW1zWzFdLnZhbHVlfWA7XG5cdH1cbn1cblxuLy8gSW4gY3VycmVudCBDaGFpbiwgRnVuY3Rpb25pemUgQmxvY2sgaXMgbm90IGltcGxlbWVudGVkLlxuY2xhc3MgQ2hhaW5GdW5jdGlvbml6ZUJsb2NrIGV4dGVuZHMgQ2hhaW5CbG9jayB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NoYWlufSBjaGFpblxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKi9cblx0Y29uc3RydWN0b3IoY2hhaW4sIHggPSAwLCB5ID0gMCkge1xuXHRcdHN1cGVyKGNoYWluLCAnRnVuY3Rpb25pemUnLCB4LCB5KTtcblx0XHR0aGlzLnN0cm9rZVN0eWxlID0gQ2hhaW5Db2xvci5ibHVlO1xuXHRcdHRoaXMucGFyYW1zID0gW25ldyBDaGFpblBpbih0aGlzLmNoYWluLCB0aGlzLCBDaGFpblBpbi5JTlBVVCldO1xuXHRcdHRoaXMubGVmdFBpbnMgPSB0aGlzLnBhcmFtcztcblx0XHR0aGlzLnJlc3VsdCA9IG5ldyBDaGFpblBpbih0aGlzLmNoYWluLCB0aGlzLCBDaGFpblBpbi5PVVRQVVRfUkVTVUxULCAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5leHByZXNzaW9uO1xuXHRcdH0pO1xuXHRcdHRoaXMucmVzdWx0LmNvbG9yID0gQ2hhaW5Db2xvci5wdXJwbGU7XG5cdFx0dGhpcy5yaWdodFBpbnMucHVzaCh0aGlzLnJlc3VsdCk7XG5cdFx0dGhpcy5hZGp1c3RDaGlsZHJlbigpO1xuXHR9XG5cblx0ZHJhdygpIHtcblx0XHRzdXBlci5kcmF3KCk7XG5cdH1cblxuXHRnZXQgZXhwcmVzc2lvbigpIHtcblx0XHRyZXR1cm4gYCgoKSA9PiB7ICR7dGhpcy5wYXJhbS52YWx1ZX0gfSlgO1xuXHR9XG59XG5cbmNsYXNzIENoYWluIHtcblx0LyoqXG5cdCAqIEBwYXJhbSB7dW5kZWZpbmVkfSBlZGl0b3Jcblx0ICogQHBhcmFtIHtIVE1MSUZyYW1lRWxlbWVudH0gaWZyYW1lXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihlZGl0b3IsIGlmcmFtZSkge1xuXHRcdC8vIHNldHVwIGFkZC1ibG9ja1xuXHRcdGNvbnN0IGJsb2NrTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFpbiAuYmxvY2stbWVudScpO1xuXHRcdGNvbnN0IGJsb2NrTWVudVRleHQgPSBibG9ja01lbnUucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcblx0XHRibG9ja01lbnVUZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmFkZEJsb2NrQnlLZXkuYmluZCh0aGlzKSk7XG5cdFx0Y29uc3QgYmxvY2tNZW51U2VsZWN0ID0gYmxvY2tNZW51LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpO1xuXHRcdGJsb2NrTWVudVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhpZGVNZW51VGV4dC5iaW5kKHRoaXMpKTtcblx0XHRibG9ja01lbnUucXVlcnlTZWxlY3RvcignYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmFkZEJsb2NrQnlDbGljay5iaW5kKHRoaXMpKTtcblx0XHR0aGlzLmJsb2NrTWVudSA9IGJsb2NrTWVudTtcblx0XHR0aGlzLmJsb2NrTWVudVRleHQgPSBibG9ja01lbnVUZXh0O1xuXHRcdHRoaXMuYmxvY2tNZW51U2VsZWN0ID0gYmxvY2tNZW51U2VsZWN0O1xuXG5cdFx0Ly8gc2V0dXAgcmVuYW1lXG5cdFx0Y29uc3QgcmVuYW1lQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFpbiAucmVuYW1lLWFyZWEnKTtcblx0XHRjb25zdCByZW5hbWVUZXh0ID0gcmVuYW1lQXJlYS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuXHRcdHJlbmFtZVRleHQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMucmVuYW1lQmxvY2suYmluZCh0aGlzKSk7XG5cdFx0dGhpcy5yZW5hbWVBcmVhID0gcmVuYW1lQXJlYTtcblx0XHR0aGlzLnJlbmFtZVRleHQgPSByZW5hbWVUZXh0O1xuXG5cdFx0Ly8gY3JlYXRlIGNhbnZhc1xuXHRcdGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGFpbi1jYW52YXMnKTtcblx0XHRjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5tb3VzZW1vdmUuYmluZCh0aGlzKSk7XG5cdFx0Y2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMubW91c2Vkb3duLmJpbmQodGhpcykpO1xuXHRcdGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZXVwLmJpbmQodGhpcykpO1xuXHRcdGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsICgpID0+IGV2ZW50LnByZXZlbnREZWZhdWx0KCkpO1xuXG5cdFx0Ly8gc2V0IGluZm9tYXRpb24gb2YgYmxvY2tcblx0XHR0aGlzLmNvbnN0YW50SURCbG9ja1ZhbHVlcyA9IFsndmlldycsICdpZicsICdyZXBlYXQnLCAnZnVuY3Rpb25pemUnXTtcblx0XHR0aGlzLnRhYmxlVmFsdWVUb0NvbnN0cnVjdG9yID0ge1xuXHRcdFx0ZnVuY3Rpb246IENoYWluRnVuY3Rpb25CbG9jayxcblx0XHRcdHZhbHVlOiBDaGFpblZhbHVlQmxvY2ssXG5cdFx0XHRwcm9wZXJ0eTogQ2hhaW5Qcm9wZXJ0eUJsb2NrLFxuXHRcdFx0b3BlcmF0b3I6IENoYWluT3BlcmF0b3JCbG9jayxcblx0XHRcdHZpZXc6IENoYWluVmlld0Jsb2NrLFxuXHRcdFx0aWY6IENoYWluSWZCbG9jayxcblx0XHRcdHJlcGVhdDogQ2hhaW5SZXBlYXRCbG9jayxcblx0XHRcdGZ1bmN0aW9uaXplOiBDaGFpbkZ1bmN0aW9uaXplQmxvY2tcblx0XHR9O1xuXHRcdHRoaXMuY29uc3RhbnRJREJsb2NrQ29uc3RydWN0b3JzID0gdGhpcy5jb25zdGFudElEQmxvY2tWYWx1ZXMubWFwKChhKSA9PiB0aGlzLnRhYmxlVmFsdWVUb0NvbnN0cnVjdG9yW2FdKTtcblxuXHRcdC8vIHNldCBwcm9wZXJ0aWVzXG5cdFx0dGhpcy5lZGl0b3IgPSBlZGl0b3I7XG5cdFx0dGhpcy5pZnJhbWUgPSBpZnJhbWU7XG5cdFx0dGhpcy5jYW52YXMgPSBjYW52YXM7XG5cdFx0dGhpcy5jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cdFx0dGhpcy5zdGF0dXMgPSBDaGFpbi5ERUZBVUxUO1xuXHRcdHRoaXMucGx1Z2luID0gJyc7XG5cdFx0dGhpcy5tYWluVGFyZ2V0ID0gbnVsbDtcblx0XHR0aGlzLnJlbmFtZVRhcmdldCA9IG51bGw7XG5cdFx0dGhpcy5wbW91c2V4ID0gMDtcblx0XHR0aGlzLnBtb3VzZXkgPSAwO1xuXHRcdHRoaXMubW91c2V4ID0gMDtcblx0XHR0aGlzLm1vdXNleSA9IDA7XG5cdFx0dGhpcy5tb3VzZWRvd2luZyA9IGZhbHNlO1xuXHRcdHRoaXMubW91c2UgPSBuZXcgQ2hhaW5DaXJjbGUodGhpcywgMCwgMCwgMTApO1xuXHRcdHRoaXMubW91c2UuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSc7XG5cdFx0dGhpcy5leHByZXNzaW9ucyA9IFtdO1xuXG5cdFx0Ly8gc2V0IGJsb2NrcywgbGlua3Ncblx0XHR0aGlzLnJvcGUgPSBuZXcgQ2hhaW5Sb3BlKHRoaXMpO1xuXHRcdHRoaXMuZGlzcGxheWVkQmxvY2tzID0gW107XG5cdFx0dGhpcy5saW5rZWRCbG9ja3MgPSBbXTtcblx0XHR0aGlzLmxpbmtzID0gW107XG5cblx0XHQvLyBXaGVuIHdpbmRvdyBpcyByZXNpemVkLCBjYW52YXMgZml0cyBwYXJlbnQgZWxlbWVudC5cblx0XHR0aGlzLmZpdCgpO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmZpdC5iaW5kKHRoaXMpKTtcblxuXHRcdC8vIFJlY2VpdmluZyBtZXNzYWdlLCBzZXQgbWVzc2FnZSB0byBWaWV3IEJsb2Nrc1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy51cGRhdGVWaWV3QmxvY2tzLmJpbmQodGhpcykpO1xuXG5cdFx0Ly8gY29udGV4dG1lbnUgZG9uJ3QgYmUgc2hvd25cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoKSA9PiBldmVudC5wcmV2ZW50RGVmYXVsdCgpKTtcblxuXHRcdC8vIGRyYXcgaXMgbWFpbiBsb29wXG5cdFx0dGhpcy5kcmF3KCk7XG5cdH1cblxuXHRkcmF3KCkge1xuXHRcdHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cdFx0dGhpcy5kaXNwbGF5ZWRCbG9ja3MuZm9yRWFjaCgoYSkgPT4gYS5kcmF3KCkpO1xuXHRcdHRoaXMubGlua3MuZm9yRWFjaCgoYSkgPT4gYS5kcmF3KCkpO1xuXHRcdHRoaXMubW91c2UuZHJhdygpO1xuXHRcdGlmICh0aGlzLnN0YXR1cyA9PT0gQ2hhaW4uTElOSykge1xuXHRcdFx0dGhpcy5yb3BlLmRyYXcoKTtcblx0XHR9XG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJhdy5iaW5kKHRoaXMpKTtcblx0fVxuXG5cdGZpdCgpIHtcblx0XHRjb25zdCByZWN0ID0gdGhpcy5jYW52YXMucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHR0aGlzLmNhbnZhcy53aWR0aCA9IHJlY3Qud2lkdGg7XG5cdFx0dGhpcy5jYW52YXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG5cdH1cblxuXHRoaWRlTWVudVRleHQoKSB7XG5cdFx0dGhpcy5ibG9ja01lbnVUZXh0LnN0eWxlLmRpc3BsYXkgPSAoIXRoaXMuY29uc3RhbnRJREJsb2NrVmFsdWVzLmluY2x1ZGVzKGV2ZW50LnRhcmdldC52YWx1ZSkpID8gJycgOiAnbm9uZSc7XG5cdFx0dGhpcy5ibG9ja01lbnVUZXh0LmZvY3VzKCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG5cdCAqIEByZXR1cm5zIHtDaGFpbkJsb2NrfVxuXHQgKi9cblx0Y3JlYXRlQmxvY2sodHlwZSwgdmFsdWUsIHgsIHkpIHtcblx0XHRjb25zdCBCbG9jayA9IHRoaXMudGFibGVWYWx1ZVRvQ29uc3RydWN0b3JbdHlwZV07XG5cdFx0Y29uc3QgYmxvY2sgPSB0aGlzLmNvbnN0YW50SURCbG9ja1ZhbHVlcy5pbmNsdWRlcyh0eXBlKSA/IG5ldyBCbG9jayh0aGlzLCB4LCB5KSA6IG5ldyBCbG9jayh0aGlzLCB2YWx1ZSwgeCwgeSk7XG5cdFx0cmV0dXJuIGJsb2NrO1xuXHR9XG5cblx0YWRkQmxvY2tCeUtleSgpIHtcblx0XHRjb25zdCB2YWx1ZSA9IHRoaXMuYmxvY2tNZW51VGV4dC52YWx1ZS50cmltKCk7XG5cdFx0Y29uc3Qgc2VsZWN0ID0gdGhpcy5ibG9ja01lbnVTZWxlY3QudmFsdWU7XG5cdFx0aWYgKGV2ZW50LmtleUNvZGUgIT09IDEzIHx8IHZhbHVlID09PSAnJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zdCB4ID0gcGFyc2VJbnQodGhpcy5ibG9ja01lbnUuc3R5bGUubGVmdCwgMTApO1xuXHRcdGNvbnN0IHkgPSBwYXJzZUludCh0aGlzLmJsb2NrTWVudS5zdHlsZS50b3AsIDEwKTtcblx0XHR0aGlzLmRpc3BsYXllZEJsb2Nrcy5wdXNoKHRoaXMuY3JlYXRlQmxvY2soc2VsZWN0LCB2YWx1ZSwgeCwgeSkpO1xuXHRcdHRoaXMuYmxvY2tNZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdH1cblxuXHRhZGRCbG9ja0J5Q2xpY2soKSB7XG5cdFx0Y29uc3QgdmFsdWUgPSB0aGlzLmJsb2NrTWVudVRleHQudmFsdWUudHJpbSgpO1xuXHRcdGNvbnN0IHNlbGVjdCA9IHRoaXMuYmxvY2tNZW51U2VsZWN0LnZhbHVlO1xuXHRcdGlmICh2YWx1ZSA9PT0gJycgJiYgKCF0aGlzLmNvbnN0YW50SURCbG9ja1ZhbHVlcy5pbmNsdWRlcyhzZWxlY3QpKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zdCB4ID0gcGFyc2VJbnQodGhpcy5ibG9ja01lbnUuc3R5bGUubGVmdCwgMTApO1xuXHRcdGNvbnN0IHkgPSBwYXJzZUludCh0aGlzLmJsb2NrTWVudS5zdHlsZS50b3AsIDEwKTtcblx0XHR0aGlzLmRpc3BsYXllZEJsb2Nrcy5wdXNoKHRoaXMuY3JlYXRlQmxvY2soc2VsZWN0LCB2YWx1ZSwgeCwgeSkpO1xuXHRcdHRoaXMuYmxvY2tNZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdH1cblxuXHRtb3VzZW1vdmUoKSB7XG5cdFx0Y29uc3QgcmVjdCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdGNvbnN0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuXHRcdGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XG5cdFx0Y29uc3QgZHggPSB0aGlzLm1vdXNleCAtIHRoaXMucG1vdXNleDtcblx0XHRjb25zdCBkeSA9IHRoaXMubW91c2V5IC0gdGhpcy5wbW91c2V5O1xuXHRcdHRoaXMucG1vdXNleCA9IHRoaXMubW91c2V4O1xuXHRcdHRoaXMucG1vdXNleSA9IHRoaXMubW91c2V5O1xuXHRcdHRoaXMubW91c2V4ID0geDtcblx0XHR0aGlzLm1vdXNleSA9IHk7XG5cdFx0dGhpcy5tb3VzZS54ID0gdGhpcy5tb3VzZXg7XG5cdFx0dGhpcy5tb3VzZS55ID0gdGhpcy5tb3VzZXk7XG5cblx0XHRpZiAodGhpcy5tb3VzZWRvd2luZykge1xuXHRcdFx0c3dpdGNoICh0aGlzLnN0YXR1cykge1xuXHRcdFx0XHRjYXNlIENoYWluLk1PVkVfQkxPQ0s6XG5cdFx0XHRcdFx0Ly8gaWYgdGhlcmUgaXMgc2VsZWN0ZWQgZnVuY3Rpb24sIG1vdmUgaXRcblx0XHRcdFx0XHR0aGlzLm1haW5UYXJnZXQucG9zaXRpb24odGhpcy5tYWluVGFyZ2V0LnggKyBkeCwgdGhpcy5tYWluVGFyZ2V0LnkgKyBkeSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgQ2hhaW4uTElOSzpcblx0XHRcdFx0XHR0aGlzLnJvcGUuZW5kKHRoaXMubW91c2V4LCB0aGlzLm1vdXNleSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0aWYgKHRoaXMubWFpblRhcmdldCAmJiB0aGlzLm1haW5UYXJnZXQuY29uc3RydWN0b3IgPT09IENoYWluQnV0dG9uICYmICF0aGlzLm1haW5UYXJnZXQuY29udGFpbnModGhpcy5tb3VzZXgsIHRoaXMubW91c2V5KSkge1xuXHRcdFx0XHRcdFx0dGhpcy5tYWluVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0bW91c2Vkb3duKCkge1xuXHRcdHRoaXMubW91c2Vkb3dpbmcgPSB0cnVlO1xuXHRcdHRoaXMuYmxvY2tNZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0dGhpcy5yZW5hbWVBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cblx0XHQvLyBzZWxlY3Qgb25lIG9mIHBpbiBvciBibG9ja1xuXHRcdHRoaXMuZGlzcGxheWVkQmxvY2tzLnJldmVyc2UoKS5ldmVyeSgoYmxvY2spID0+IHtcblx0XHRcdGNvbnN0IHBpbiA9IGJsb2NrLmdldFBpbkNvbnRhaW5zKHRoaXMubW91c2V4LCB0aGlzLm1vdXNleSk7XG5cdFx0XHRjb25zdCBidXR0b24gPSBibG9jay5nZXRCdXR0b25Db250YWlucyh0aGlzLm1vdXNleCwgdGhpcy5tb3VzZXkpO1xuXHRcdFx0c3dpdGNoICh0cnVlKSB7XG5cdFx0XHRcdGNhc2UgcGluICYmIGV2ZW50LmJ1dHRvbiA9PT0gMDpcblx0XHRcdFx0XHQvLyBJbnB1dCBwaW4gaGFzIG9ubHkgb25lIGxpbmsuIFNvLCBpZiBhbHJlYWR5IGhhcyBsaW5rLCBkZWxldGUgaXRzIGxpbmsuXG5cdFx0XHRcdFx0aWYgKHBpbi50eXBlID09PSBDaGFpblBpbi5JTlBVVCkge1xuXHRcdFx0XHRcdFx0dGhpcy5kZWxldGVMaW5rKHBpbik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5zdGF0dXMgPSBDaGFpbi5MSU5LXG5cdFx0XHRcdFx0dGhpcy5tYWluVGFyZ2V0ID0gcGluO1xuXHRcdFx0XHRcdHBpbi5saW5rZWQgPSB0cnVlO1xuXHRcdFx0XHRcdHRoaXMucm9wZS5iZWdpbih0aGlzLm1haW5UYXJnZXQueCwgdGhpcy5tYWluVGFyZ2V0LnkpO1xuXHRcdFx0XHRcdHRoaXMucm9wZS5lbmQodGhpcy5tYWluVGFyZ2V0LngsIHRoaXMubWFpblRhcmdldC55KTtcblxuXHRcdFx0XHRcdHRoaXMuc29ydEJsb2NrcyhibG9jayk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRjYXNlIGJ1dHRvbiAmJiBldmVudC5idXR0b24gPT09IDA6XG5cdFx0XHRcdFx0dGhpcy5tYWluVGFyZ2V0ID0gYnV0dG9uO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0Y2FzZSBibG9jay5jb250YWlucyh0aGlzLm1vdXNleCwgdGhpcy5tb3VzZXkpICYmIGV2ZW50LmJ1dHRvbiA9PT0gMDpcblx0XHRcdFx0XHQvLyBzZWxlY3QgYm94XG5cdFx0XHRcdFx0dGhpcy5tYWluVGFyZ2V0ID0gYmxvY2s7XG5cdFx0XHRcdFx0dGhpcy5zdGF0dXMgPSBDaGFpbi5NT1ZFX0JMT0NLXG5cblx0XHRcdFx0XHR0aGlzLnNvcnRCbG9ja3MoYmxvY2spO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdG1vdXNldXAoKSB7XG5cdFx0Y29uc3QgYmxvY2sgPSB0aGlzLmRpc3BsYXllZEJsb2Nrcy5yZXZlcnNlKCkuZmlsdGVyKChhKSA9PiBhLmNvbnRhaW5zKHRoaXMubW91c2V4LCB0aGlzLm1vdXNleSkpWzBdO1xuXHRcdHN3aXRjaCAodHJ1ZSkge1xuXHRcdFx0Y2FzZSB0aGlzLnN0YXR1cyA9PT0gQ2hhaW4uTElOSzpcblx0XHRcdFx0aWYgKHRoaXMubWFpblRhcmdldC50eXBlID09PSBDaGFpblBpbi5JTlBVVCB8fCAoW0NoYWluUGluLk9VVFBVVF9SRVNVTFQsIENoYWluUGluLk9VVFBVVF9TRUxGXS5pbmNsdWRlcyh0aGlzLm1haW5UYXJnZXQudHlwZSkgJiYgdGhpcy5tYWluVGFyZ2V0LnRvUGlucy5sZW5ndGggPT09IDApKSB7XG5cdFx0XHRcdFx0dGhpcy5tYWluVGFyZ2V0LmxpbmtlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuZGlzcGxheWVkQmxvY2tzLmV2ZXJ5KChibG9jaykgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHBpbiA9IGJsb2NrLmdldFBpbkNvbnRhaW5zKHRoaXMubW91c2V4LCB0aGlzLm1vdXNleSk7XG5cdFx0XHRcdFx0aWYgKCFwaW4pIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb25zdCBwaW5zID0gW3RoaXMubWFpblRhcmdldCwgcGluXS5zb3J0KChhLCBiKSA9PiBhLnR5cGUgLSBiLnR5cGUpO1xuXG5cdFx0XHRcdFx0Ly8gaWYgdHdvIHBpbnMgaXNuJ3Qgb3V0cHV0IGFuZCBpbnB1dCwgZG9uJ3QgbGluay5cblx0XHRcdFx0XHRpZiAoIVsnMDInLCAnMTInXS5pbmNsdWRlcyhwaW5zLm1hcCgoYSkgPT4gYS50eXBlKS5qb2luKCcnKSkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBkZWxldGUgbGluayB0aGF0IGhhcyBpbnB1dC5cblx0XHRcdFx0XHR0aGlzLmRlbGV0ZUxpbmsocGluc1sxXSk7XG5cdFx0XHRcdFx0dGhpcy5saW5rcy5wdXNoKHRoaXMuY3JlYXRlTGluayhwaW5zWzBdLCBwaW5zWzFdKSk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIHRoaXMuc3RhdHVzID09PSBDaGFpbi5NT1ZFX0JMT0NLOlxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgdGhpcy5zdGF0dXMgPT09IENoYWluLkRFRkFVTFQgJiYgZXZlbnQuYnV0dG9uID09PSAwOlxuXHRcdFx0XHRpZiAodGhpcy5tYWluVGFyZ2V0ICYmIHRoaXMubWFpblRhcmdldC5jb25zdHJ1Y3RvciA9PT0gQ2hhaW5CdXR0b24pIHtcblx0XHRcdFx0XHR0aGlzLm1haW5UYXJnZXQuY2xpY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgYmxvY2sgJiYgdGhpcy5zdGF0dXMgPT09IENoYWluLkRFRkFVTFQgJiYgZXZlbnQuYnV0dG9uID09PSAyICYmICF0aGlzLmNvbnN0YW50SURCbG9ja0NvbnN0cnVjdG9ycy5pbmNsdWRlcyhibG9jay5jb25zdHJ1Y3Rvcik6XG5cdFx0XHRcdHRoaXMucmVuYW1lVGFyZ2V0ID0gYmxvY2s7XG5cdFx0XHRcdHRoaXMucmVuYW1lQXJlYS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0XHRcdHRoaXMucmVuYW1lVGV4dC52YWx1ZSA9IHRoaXMucmVuYW1lVGFyZ2V0LnZhbHVlO1xuXHRcdFx0XHR0aGlzLnJlbmFtZVRleHQuZm9jdXMoKTtcblx0XHRcdFx0dGhpcy5yZW5hbWVBcmVhLnN0eWxlLmxlZnQgPSBgJHt0aGlzLm1vdXNleH1weGA7XG5cdFx0XHRcdHRoaXMucmVuYW1lQXJlYS5zdHlsZS50b3AgPSBgJHt0aGlzLm1vdXNleX1weGA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAhYmxvY2sgJiYgdGhpcy5zdGF0dXMgPT09IENoYWluLkRFRkFVTFQgJiYgZXZlbnQuYnV0dG9uID09PSAyOlxuXHRcdFx0XHR0aGlzLmJsb2NrTWVudS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0XHRcdHRoaXMuYmxvY2tNZW51U2VsZWN0LmZvY3VzKCk7XG5cdFx0XHRcdHRoaXMuYmxvY2tNZW51VGV4dC52YWx1ZSA9ICcnO1xuXHRcdFx0XHR0aGlzLmJsb2NrTWVudS5zdHlsZS5sZWZ0ID0gdGhpcy5tb3VzZXggKyAncHgnO1xuXHRcdFx0XHR0aGlzLmJsb2NrTWVudS5zdHlsZS50b3AgPSB0aGlzLm1vdXNleSArICdweCc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0dGhpcy51cGRhdGVGcmFtZSgpO1xuXG5cdFx0Ly8gcmVzZXQgcHJvcGVydGllc1xuXHRcdHRoaXMubW91c2Vkb3dpbmcgPSBmYWxzZTtcblx0XHR0aGlzLm1haW5UYXJnZXQgPSBudWxsO1xuXHRcdHRoaXMuc3RhdHVzID0gQ2hhaW4uREVGQVVMVDtcblx0fVxuXG5cdHJlbmFtZUJsb2NrKCkge1xuXHRcdGNvbnN0IHZhbHVlID0gdGhpcy5yZW5hbWVUZXh0LnZhbHVlLnRyaW0oKTtcblx0XHRpZiAoZXZlbnQua2V5Q29kZSAhPT0gMTMgfHwgdmFsdWUgPT09ICcnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMucmVuYW1lVGFyZ2V0LnZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy5yZW5hbWVBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0dGhpcy51cGRhdGVGcmFtZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIGlmIGEgbGluayBjb250YWlucyB0YXJnZXRQaW4sIGRlbGV0ZSBpdHMgbGlua1xuXHQgKiBAcGFyYW0ge0NoYWluUGlufSB0YXJnZXRQaW5cblx0ICovXG5cdGRlbGV0ZUxpbmsodGFyZ2V0UGluKSB7XG5cdFx0dGhpcy5saW5rcyA9IHRoaXMubGlua3MuZmlsdGVyKChsaW5rKSA9PiB7XG5cdFx0XHRpZiAobGluay5saW5rZWRQaW5zLmluY2x1ZGVzKHRhcmdldFBpbikpIHtcblx0XHRcdFx0Y29uc3Qgb3V0cHV0UGluID0gbGluay5saW5rZWRQaW5zWzBdO1xuXHRcdFx0XHRjb25zdCBpbnB1dFBpbiA9IGxpbmsubGlua2VkUGluc1sxXTtcblx0XHRcdFx0b3V0cHV0UGluLmRlbGV0ZUxpbmsoaW5wdXRQaW4pO1xuXHRcdFx0XHRpbnB1dFBpbi52YWx1ZSA9IG51bGw7XG5cdFx0XHRcdGlucHV0UGluLmxpbmtlZCA9IGZhbHNlO1xuXG5cdFx0XHRcdC8vIGlmIHBhcmVudCBkb2Vzbid0IGhhdmUgYW55IGxpbmssIGRlbGV0ZSBpdCBmcm9tIGxpbmtlZEJsb2Nrcy5cblx0XHRcdFx0W291dHB1dFBpbi5wYXJlbnQsIGlucHV0UGluLnBhcmVudF0uZm9yRWFjaCgocGFyZW50KSA9PiB7XG5cdFx0XHRcdFx0aWYgKHBhcmVudC5hbGxQaW5zLmZpbHRlcigocGluKSA9PiBwaW4ubGlua2VkKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMubGlua2VkQmxvY2tzID0gdGhpcy5saW5rZWRCbG9ja3MuZmlsdGVyKChhKSA9PiBhICE9PSBwYXJlbnQpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtDaGFpblBpbn0gb3V0cHV0UGluXG5cdCAqIEBwYXJhbSB7Q2hhaW5QaW59IGlucHV0UGluXG5cdCAqIEByZXR1cm5zIHtDaGFpbkxpbmt9XG5cdCAqL1xuXHRjcmVhdGVMaW5rKG91dHB1dFBpbiwgaW5wdXRQaW4pIHtcblx0XHRjb25zdCBsaW5rID0gbmV3IENoYWluTGluayh0aGlzLCBvdXRwdXRQaW4sIGlucHV0UGluKTtcblx0XHRvdXRwdXRQaW4uYWRkTGluayhpbnB1dFBpbik7XG5cdFx0aWYgKCF0aGlzLmxpbmtlZEJsb2Nrcy5pbmNsdWRlcyhpbnB1dFBpbi5wYXJlbnQpKSB7XG5cdFx0XHR0aGlzLmxpbmtlZEJsb2Nrcy5wdXNoKGlucHV0UGluLnBhcmVudCk7XG5cdFx0fVxuXHRcdGNvbnN0IG91dHB1dEluZGV4ID0gdGhpcy5saW5rZWRCbG9ja3MuaW5kZXhPZihpbnB1dFBpbi5wYXJlbnQpIC0gMTtcblx0XHQvLyBpZiBsaW5rZWRCbG9ja3MgaGFzIHBhcmVudCBvZiBvdXRwdXRQaW4sIGRlbGV0ZSBpdC5cblx0XHR0aGlzLmxpbmtlZEJsb2NrcyA9IHRoaXMubGlua2VkQmxvY2tzLmZpbHRlcigoYSkgPT4gYSAhPT0gb3V0cHV0UGluLnBhcmVudCk7XG5cdFx0b3V0cHV0SW5kZXggPiAtMSA/IHRoaXMubGlua2VkQmxvY2tzLnNwbGljZShvdXRwdXRJbmRleCwgMCwgb3V0cHV0UGluLnBhcmVudCkgOiB0aGlzLmxpbmtlZEJsb2Nrcy51bnNoaWZ0KG91dHB1dFBpbi5wYXJlbnQpO1xuXHRcdHJldHVybiBsaW5rO1xuXHR9XG5cblx0LyoqXG5cdCAqIGlmIGEgbGluayBjb250YWlucyB0YXJnZXRQaW4sIHJldHVybiBpdHMgbGlua1xuXHQgKiBAcGFyYW0ge0NoYWluUGlufSB0YXJnZXRQaW5cblx0ICovXG5cdGdldExpbmsodGFyZ2V0UGluKSB7XG5cdFx0Y29uc3QgbGluayA9IHRoaXMubGlua3MuZmlsdGVyKChsaW5rKSA9PiBsaW5rLmxpbmtlZFBpbnMuaW5jbHVkZXModGFyZ2V0UGluKSlbMF07XG5cdFx0cmV0dXJuIGxpbms7XG5cdH1cblxuXHQvKipcblx0ICogU29ydGluZyBCbG9ja3MgdGhhdCB0YXJnZXRCbG9jayBpcyBhdCB0aGUgaGVhZFxuXHQgKiBAcGFyYW0ge0NoYWluQmxvY2t9IHRhcmdldEJsb2NrXG5cdCAqL1xuXHRzb3J0QmxvY2tzKHRhcmdldEJsb2NrKSB7XG5cdFx0dGhpcy5kaXNwbGF5ZWRCbG9ja3MgPSB0aGlzLmRpc3BsYXllZEJsb2Nrcy5zb3J0KChhLCBiKSA9PiAoYSA9PT0gdGFyZ2V0QmxvY2spID8gMSA6IDApO1xuXHR9XG5cblx0LyoqXG5cdCAqIHNldCBuZXcgY29kZSB0byBpZnJhbWVcblx0ICovXG5cdHVwZGF0ZUZyYW1lKCkge1xuXHRcdC8vIHJlc2V0IGluZGV4IG9mIHZpZXdcblx0XHR0aGlzLmRpc3BsYXllZEJsb2Nrcy5mb3JFYWNoKChhKSA9PiB7XG5cdFx0XHRpZiAoYS5jb25zdHJ1Y3RvciA9PT0gQ2hhaW5WaWV3QmxvY2spIHtcblx0XHRcdFx0YS5pbmRleCA9IC0xO1xuXHRcdFx0XHRhLnZhbHVlID0gJyc7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBzZW5kIGFsbFxuXHRcdHRoaXMuZXhwcmVzc2lvbnMgPSBbXTtcblx0XHRsZXQgdmlld0luZGV4ID0gMDtcblx0XHQvLyBzZXQgZXhwcmVzc2lvbnMgdG8gaWZyYW1lXG5cdFx0dGhpcy5saW5rZWRCbG9ja3MuZm9yRWFjaCgoYmxvY2spID0+IHtcblx0XHRcdGJsb2NrLmFsbFBpbnMuZm9yRWFjaCgocGluKSA9PiB7XG5cdFx0XHRcdGlmIChwaW4udHlwZSA9PT0gQ2hhaW5QaW4uSU5QVVQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgaXNFeGVjdXRhYmxlQmxvY2sgPSBbQ2hhaW5GdW5jdGlvbkJsb2NrLCBDaGFpbk9wZXJhdG9yQmxvY2ssIENoYWluSWZCbG9jaywgQ2hhaW5SZXBlYXRCbG9ja10uaW5jbHVkZXMoYmxvY2suY29uc3RydWN0b3IpO1xuXHRcdFx0XHRjb25zdCB2aWV3QmxvY2tzID0gcGluLnRvUGlucy5tYXAoKChhKSA9PiBhLnBhcmVudCkpLmZpbHRlcigoYSkgPT4gYS5jb25zdHJ1Y3RvciA9PT0gQ2hhaW5WaWV3QmxvY2spO1xuXHRcdFx0XHRzd2l0Y2ggKHRydWUpIHtcblx0XHRcdFx0XHRjYXNlIHBpbi5saW5rZWQgJiYgdmlld0Jsb2Nrcy5sZW5ndGggPT09IDA6XG5cdFx0XHRcdFx0XHRwaW4uc2VuZCgpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBwaW4ubGlua2VkICYmIHZpZXdCbG9ja3MubGVuZ3RoID4gMDpcblx0XHRcdFx0XHRcdC8vIHNldCBpbmRleCBvZiB2aWV3XG5cdFx0XHRcdFx0XHR2aWV3QmxvY2tzLmZvckVhY2goKGEpID0+IGEuaW5kZXggPSB2aWV3SW5kZXgpO1xuXHRcdFx0XHRcdGNhc2UgIXBpbi5saW5rZWQgJiYgaXNFeGVjdXRhYmxlQmxvY2sgJiYgcGluLnR5cGUgPT09IENoYWluUGluLk9VVFBVVF9SRVNVTFQ6XG5cdFx0XHRcdFx0XHR0aGlzLmV4cHJlc3Npb25zLnB1c2goYmxvY2suZXhwcmVzc2lvbik7XG5cdFx0XHRcdFx0XHR2aWV3SW5kZXggKz0gMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBkID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh0aGlzLmVkaXRvci5nZXRWYWx1ZSgpLCAndGV4dC9odG1sJyk7XG5cdFx0Y29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXHRcdHMuaW5uZXJUZXh0ID0gYHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoJHtKU09OLnN0cmluZ2lmeSh0aGlzLmV4cHJlc3Npb25zKX0ubWFwKChhKSA9PiAgeyB0cnkgeyByZXR1cm4gU3RyaW5nKCgwLCBldmFsKShhKSk7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIFN0cmluZyhlKTsgfSB9KSwgJyonKWA7XG5cdFx0ZC5ib2R5LmFwcGVuZENoaWxkKHMpO1xuXHRcdHRoaXMuaWZyYW1lLnNyYyA9IGBkYXRhOnRleHQvaHRtbCwgJHtbZC5kb2N0eXBlID8gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhkLmRvY3R5cGUpIDogJycsIGQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTF0uam9pbignJyl9YDtcblx0fVxuXG5cdC8qKlxuXHQgKiBzZXQgYSByZXR1cm4gdmFsdWUgdG8gVmlldyBCbG9ja1xuXHQgKi9cblx0dXBkYXRlVmlld0Jsb2NrcygpIHtcblx0XHRjb25zdCBkYXRhID0gZXZlbnQuZGF0YTtcblx0XHR0aGlzLmxpbmtlZEJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuXHRcdFx0aWYgKGJsb2NrLmNvbnN0cnVjdG9yICE9PSBDaGFpblZpZXdCbG9jaykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBpbmRleCA9IGJsb2NrLmluZGV4O1xuXHRcdFx0YmxvY2sudmFsdWUgPSBkYXRhW2luZGV4XTtcblx0XHR9KTtcblx0fVxuXG5cdHN0YXRpYyBnZXQgREVGQVVMVCgpIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXG5cdHN0YXRpYyBnZXQgTU9WRV9CTE9DSygpIHtcblx0XHRyZXR1cm4gMTtcblx0fVxuXG5cdHN0YXRpYyBnZXQgTElOSygpIHtcblx0XHRyZXR1cm4gMjtcblx0fVxuXG5cdHN0YXRpYyBnZXQgUEFEKCkge1xuXHRcdHJldHVybiA3O1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2hhaW47XG59KS5jYWxsKHRoaXMscmVxdWlyZShcInBCR3ZBcFwiKSx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL2NoYWluLmpzXCIsXCIvXCIpIiwiKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCxCdWZmZXIsX19hcmd1bWVudDAsX19hcmd1bWVudDEsX19hcmd1bWVudDIsX19hcmd1bWVudDMsX19maWxlbmFtZSxfX2Rpcm5hbWUpe1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBDaGFpbiA9IHJlcXVpcmUoJy4vY2hhaW4uanMnKTtcbmNvbnN0IGFjZSA9IHJlcXVpcmUoJ2JyYWNlJyk7XG5yZXF1aXJlKCdicmFjZS9tb2RlL2h0bWwnKTtcbnJlcXVpcmUoJ2JyYWNlL3RoZW1lL2Nsb3Vkc19taWRuaWdodCcpO1xuXG5jb25zdCBtb2RlcyA9IFsnI2NoYWluLWNhbnZhcycsICcjY2hhaW4taHRtbCcsICcjY2hhaW4td2luZG93J107XG5jb25zdCBlbGVtZW50cyA9IG1vZGVzLm1hcCgoYSkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhKSk7XG5jb25zdCBlZGl0b3IgPSBhY2UuZWRpdCgnY2hhaW4taHRtbCcpO1xuY29uc3QgY2hhaW4gPSBuZXcgQ2hhaW4oZWRpdG9yLCBlbGVtZW50c1syXSk7XG5cbi8vc2V0IGRlZmF1bHQgdmFsdWUgb2YgZWRpdG9yXG5lZGl0b3IuZ2V0U2Vzc2lvbigpLnNldFZhbHVlKFtcblx0JzwhZG9jdHlwZSBodG1sPicsXG5cdCc8aHRtbD4nLFxuXHQnPGhlYWQ+Jyxcblx0JycsXG5cdCc8L2hlYWQ+Jyxcblx0Jzxib2R5PicsXG5cdCdcdDxoMT5IZWxsbywgV29ybGQhPC9oMT4nLFxuXHQnPC9ib2R5PicsXG5cdCc8L2h0bWw+J1xuXS5qb2luKCdcXG4nKSk7XG5lZGl0b3IuZ2V0U2Vzc2lvbigpLnNldE1vZGUoJ2FjZS9tb2RlL2h0bWwnKTtcbmVkaXRvci5zZXRUaGVtZSgnYWNlL3RoZW1lL2Nsb3Vkc19taWRuaWdodCcpO1xuXG5jb25zdCBjaGFuZ2VNb2RlID0gKCkgPT4ge1xuXHRjb25zdCBoYXNoID0gbG9jYXRpb24uaGFzaDtcblx0ZWxlbWVudHMuZm9yRWFjaCgoYSkgPT4gYS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKTtcblx0Y29uc3QgaW5kZXggPSBNYXRoLm1heChtb2Rlcy5pbmRleE9mKGhhc2gpLCAwKTtcblx0ZWxlbWVudHNbaW5kZXhdLnN0eWxlLmRpc3BsYXkgPSAnJztcblx0Y2hhaW4udXBkYXRlRnJhbWUoKTtcbn07XG5cbnNldFRpbWVvdXQoY2hhbmdlTW9kZSwgMCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGNoYW5nZU1vZGUpO1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJwQkd2QXBcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9mYWtlX2QzYmY1NTk5LmpzXCIsXCIvXCIpIl19
